<!DOCTYPE html>
<html lang="es">
<head>
    <title> Pruebas de Integración </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/springboot/06-03-integration-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/springboot/06-03-integration-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/springboot/06-03-integration-testing" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "es";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "springboot";
  		var TEMA_NAME = "6-3";
  		var TYPE = "mod";
  		var PATH = "mod/springboot/06-03-integration-testing";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.ae32789132.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo_header.png" alt="Logo Campus Empresa"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/courses/springboot/06-03-integration-testing" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/cursos/springboot/06-03-integration-testing" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Todo el conocimiento a tu alcance</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objetivo" rel="nofollow">El Proyecto</a> | 
<a href="/acerca-de" rel="nofollow">Sobre nosotros</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donaciones</a> | 
<a href="/licencia" rel="nofollow">Licencia</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/mis-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Mis cursos</b></i>
</a>
<a href="/cursos-finalizados" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalizados             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="springboot">
		<a  href="#" class="text-secondary d-none" data-read-mod="springboot" data-read-unit="6-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar como leído
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="springboot" data-unread-unit="6-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar como no leído
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contenido del curso
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-02-unit-testing-junit' title="Pruebas Unitarias con JUnit" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-02-unit-testing-junit' title="Pruebas Unitarias con JUnit" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Pruebas de Integración</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-04-mocking-mockito' title="Simulación con Mockito" class="py-2 px-3 btn btn-primary"
				data-read-mod="springboot" data-read-unit="6-3">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-04-mocking-mockito' title="Simulación con Mockito" class="py-2 px-3 btn btn-primary" 
				data-read-mod="springboot" data-read-unit="6-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Las pruebas de integración son una parte crucial del desarrollo de software, ya que aseguran que los diferentes componentes de una aplicación funcionen correctamente cuando se combinan. En el contexto de Spring Boot, las pruebas de integración verifican que los componentes de la aplicación, como controladores, servicios y repositorios, funcionen juntos como se espera.</p>
</div><h2>Objetivos de las Pruebas de Integración</h2>
<div class='content'><ul>
<li><strong>Verificar la interacción entre componentes</strong>: Asegurarse de que los diferentes componentes de la aplicación funcionen correctamente cuando se integran.</li>
<li><strong>Detectar problemas de integración</strong>: Identificar y resolver problemas que puedan surgir cuando los componentes interactúan entre sí.</li>
<li><strong>Validar el comportamiento de la aplicación</strong>: Confirmar que la aplicación se comporta como se espera en un entorno que simula el entorno de producción.</li>
</ul>
</div><h2>Configuración de Pruebas de Integración en Spring Boot</h2>
<div class='content'></div><h3>Dependencias Necesarias</h3>
<div class='content'><p>Para realizar pruebas de integración en Spring Boot, necesitas incluir las siguientes dependencias en tu archivo <code>pom.xml</code> (para proyectos Maven):</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLXRlc3Q8L2FydGlmYWN0SWQ+CiAgICA8c2NvcGU+dGVzdDwvc2NvcGU+CjwvZGVwZW5kZW5jeT4KPGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLWRhdGEtanBhPC9hcnRpZmFjdElkPgo8L2RlcGVuZGVuY3k+CjxkZXBlbmRlbmN5PgogICAgPGdyb3VwSWQ+Y29tLmgyZGF0YWJhc2U8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5oMjwvYXJ0aWZhY3RJZD4KICAgIDxzY29wZT50ZXN0PC9zY29wZT4KPC9kZXBlbmRlbmN5Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.h2database&lt;/groupId&gt;
    &lt;artifactId&gt;h2&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h3>Configuración del Contexto de Prueba</h3>
<div class='content'><p>Spring Boot proporciona la anotación <code>@SpringBootTest</code> para cargar el contexto completo de la aplicación durante las pruebas. Esta anotación se utiliza para indicar que una clase de prueba debe cargar el contexto de la aplicación.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC50ZXN0LmNvbnRleHQuU3ByaW5nQm9vdFRlc3Q7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLnRlc3QuY29udGV4dC5qdW5pdDQuU3ByaW5nUnVubmVyOwppbXBvcnQgb3JnLmp1bml0LnJ1bm5lci5SdW5XaXRoOwoKQFJ1bldpdGgoU3ByaW5nUnVubmVyLmNsYXNzKQpAU3ByaW5nQm9vdFRlc3QKcHVibGljIGNsYXNzIE15SW50ZWdyYXRpb25UZXN0IHsKICAgIC8vIFRlc3RzIGdvIGhlcmUKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;
import org.junit.runner.RunWith;

@RunWith(SpringRunner.class)
@SpringBootTest
public class MyIntegrationTest {
    // Tests go here
}</pre></div><div class='content'></div><h3>Ejemplo de Prueba de Integración</h3>
<div class='content'><p>Supongamos que tienes una aplicación Spring Boot con un controlador REST y un servicio que interactúa con una base de datos. A continuación, se muestra un ejemplo de cómo escribir una prueba de integración para verificar que el controlador REST y el servicio funcionen correctamente juntos.</p>
<h4>Controlador REST</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmJpbmQuYW5ub3RhdGlvbi5HZXRNYXBwaW5nOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLlJlcXVlc3RNYXBwaW5nOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuYmluZC5hbm5vdGF0aW9uLlJlc3RDb250cm9sbGVyOwoKQFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL2FwaSIpCnB1YmxpYyBjbGFzcyBNeUNvbnRyb2xsZXIgewoKICAgIHByaXZhdGUgZmluYWwgTXlTZXJ2aWNlIG15U2VydmljZTsKCiAgICBwdWJsaWMgTXlDb250cm9sbGVyKE15U2VydmljZSBteVNlcnZpY2UpIHsKICAgICAgICB0aGlzLm15U2VydmljZSA9IG15U2VydmljZTsKICAgIH0KCiAgICBAR2V0TWFwcGluZygiL2RhdGEiKQogICAgcHVibGljIFN0cmluZyBnZXREYXRhKCkgewogICAgICAgIHJldHVybiBteVNlcnZpY2UuZ2V0RGF0YSgpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping(&quot;/api&quot;)
public class MyController {

    private final MyService myService;

    public MyController(MyService myService) {
        this.myService = myService;
    }

    @GetMapping(&quot;/data&quot;)
    public String getData() {
        return myService.getData();
    }
}</pre></div><div class='content'><h4>Servicio</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc3RlcmVvdHlwZS5TZXJ2aWNlOwoKQFNlcnZpY2UKcHVibGljIGNsYXNzIE15U2VydmljZSB7CgogICAgcHVibGljIFN0cmluZyBnZXREYXRhKCkgewogICAgICAgIHJldHVybiAiSGVsbG8sIFdvcmxkISI7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.stereotype.Service;

@Service
public class MyService {

    public String getData() {
        return &quot;Hello, World!&quot;;
    }
}</pre></div><div class='content'><h4>Prueba de Integración</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5iZWFucy5mYWN0b3J5LmFubm90YXRpb24uQXV0b3dpcmVkOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5ib290LnRlc3QuY29udGV4dC5TcHJpbmdCb290VGVzdDsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC50ZXN0LndlYi5jbGllbnQuVGVzdFJlc3RUZW1wbGF0ZTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuaHR0cC5SZXNwb25zZUVudGl0eTsKCmltcG9ydCBzdGF0aWMgb3JnLmFzc2VydGouY29yZS5hcGkuQXNzZXJ0aW9ucy5hc3NlcnRUaGF0OwoKQFNwcmluZ0Jvb3RUZXN0KHdlYkVudmlyb25tZW50ID0gU3ByaW5nQm9vdFRlc3QuV2ViRW52aXJvbm1lbnQuUkFORE9NX1BPUlQpCnB1YmxpYyBjbGFzcyBNeUludGVncmF0aW9uVGVzdCB7CgogICAgQEF1dG93aXJlZAogICAgcHJpdmF0ZSBUZXN0UmVzdFRlbXBsYXRlIHJlc3RUZW1wbGF0ZTsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEdldERhdGEoKSB7CiAgICAgICAgUmVzcG9uc2VFbnRpdHk8U3RyaW5nPiByZXNwb25zZSA9IHJlc3RUZW1wbGF0ZS5nZXRGb3JFbnRpdHkoIi9hcGkvZGF0YSIsIFN0cmluZy5jbGFzcyk7CiAgICAgICAgYXNzZXJ0VGhhdChyZXNwb25zZS5nZXRTdGF0dXNDb2RlVmFsdWUoKSkuaXNFcXVhbFRvKDIwMCk7CiAgICAgICAgYXNzZXJ0VGhhdChyZXNwb25zZS5nZXRCb2R5KCkpLmlzRXF1YWxUbygiSGVsbG8sIFdvcmxkISIpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.web.client.TestRestTemplate;
import org.springframework.http.ResponseEntity;

import static org.assertj.core.api.Assertions.assertThat;

@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
public class MyIntegrationTest {

    @Autowired
    private TestRestTemplate restTemplate;

    @Test
    public void testGetData() {
        ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(&quot;/api/data&quot;, String.class);
        assertThat(response.getStatusCodeValue()).isEqualTo(200);
        assertThat(response.getBody()).isEqualTo(&quot;Hello, World!&quot;);
    }
}</pre></div><div class='content'></div><h3>Explicación del Código</h3>
<div class='content'><ol>
<li><strong>Dependencias</strong>: Se incluyen las dependencias necesarias para las pruebas de integración y JPA.</li>
<li><strong>Controlador REST</strong>: Define un controlador REST con un endpoint <code>/api/data</code> que devuelve un mensaje desde el servicio.</li>
<li><strong>Servicio</strong>: Define un servicio que proporciona el mensaje &quot;Hello, World!&quot;.</li>
<li><strong>Prueba de Integración</strong>:
<ul>
<li><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</code>: Carga el contexto completo de la aplicación y asigna un puerto aleatorio para el servidor web.</li>
<li><code>TestRestTemplate</code>: Se utiliza para realizar solicitudes HTTP en las pruebas.</li>
<li><code>testGetData()</code>: Realiza una solicitud GET al endpoint <code>/api/data</code> y verifica que la respuesta sea correcta.</li>
</ul>
</li>
</ol>
</div><h2>Ejercicios Prácticos</h2>
<div class='content'></div><h3>Ejercicio 1: Prueba de Integración con Repositorio JPA</h3>
<div class='content'><ol>
<li><strong>Objetivo</strong>: Escribir una prueba de integración para un repositorio JPA que interactúa con una base de datos H2 en memoria.</li>
<li><strong>Instrucciones</strong>:
<ul>
<li>Crea una entidad JPA llamada <code>User</code> con campos <code>id</code> y <code>name</code>.</li>
<li>Crea un repositorio JPA para la entidad <code>User</code>.</li>
<li>Escribe una prueba de integración que guarde un <code>User</code> en la base de datos y verifique que se puede recuperar correctamente.</li>
</ul>
</li>
</ol>
<h4>Solución</h4>
<p><strong>Entidad <code>User</code></strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkdlbmVyYXRlZFZhbHVlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuR2VuZXJhdGlvblR5cGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5JZDsKCkBFbnRpdHkKcHVibGljIGNsYXNzIFVzZXIgewoKICAgIEBJZAogICAgQEdlbmVyYXRlZFZhbHVlKHN0cmF0ZWd5ID0gR2VuZXJhdGlvblR5cGUuSURFTlRJVFkpCiAgICBwcml2YXRlIExvbmcgaWQ7CiAgICBwcml2YXRlIFN0cmluZyBuYW1lOwoKICAgIC8vIEdldHRlcnMgYW5kIHNldHRlcnMKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;

@Entity
public class User {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;

    // Getters and setters
}</pre></div><div class='content'><p><strong>Repositorio <code>UserRepository</code></strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5qcGEucmVwb3NpdG9yeS5KcGFSZXBvc2l0b3J5OwoKcHVibGljIGludGVyZmFjZSBVc2VyUmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8VXNlciwgTG9uZz4gewp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.data.jpa.repository.JpaRepository;

public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
}</pre></div><div class='content'><p><strong>Prueba de Integración</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0OwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5iZWFucy5mYWN0b3J5LmFubm90YXRpb24uQXV0b3dpcmVkOwppbXBvcnQgb3JnLnNwcmluZ2ZyYW1ld29yay5ib290LnRlc3QuY29udGV4dC5TcHJpbmdCb290VGVzdDsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsudHJhbnNhY3Rpb24uYW5ub3RhdGlvbi5UcmFuc2FjdGlvbmFsOwoKaW1wb3J0IHN0YXRpYyBvcmcuYXNzZXJ0ai5jb3JlLmFwaS5Bc3NlcnRpb25zLmFzc2VydFRoYXQ7CgpAU3ByaW5nQm9vdFRlc3QKcHVibGljIGNsYXNzIFVzZXJSZXBvc2l0b3J5SW50ZWdyYXRpb25UZXN0IHsKCiAgICBAQXV0b3dpcmVkCiAgICBwcml2YXRlIFVzZXJSZXBvc2l0b3J5IHVzZXJSZXBvc2l0b3J5OwoKICAgIEBUZXN0CiAgICBAVHJhbnNhY3Rpb25hbAogICAgcHVibGljIHZvaWQgdGVzdFNhdmVBbmRGaW5kVXNlcigpIHsKICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcigpOwogICAgICAgIHVzZXIuc2V0TmFtZSgiSm9obiBEb2UiKTsKICAgICAgICB1c2VyUmVwb3NpdG9yeS5zYXZlKHVzZXIpOwoKICAgICAgICBVc2VyIGZvdW5kVXNlciA9IHVzZXJSZXBvc2l0b3J5LmZpbmRCeUlkKHVzZXIuZ2V0SWQoKSkub3JFbHNlKG51bGwpOwogICAgICAgIGFzc2VydFRoYXQoZm91bmRVc2VyKS5pc05vdE51bGwoKTsKICAgICAgICBhc3NlcnRUaGF0KGZvdW5kVXNlci5nZXROYW1lKCkpLmlzRXF1YWxUbygiSm9obiBEb2UiKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.transaction.annotation.Transactional;

import static org.assertj.core.api.Assertions.assertThat;

@SpringBootTest
public class UserRepositoryIntegrationTest {

    @Autowired
    private UserRepository userRepository;

    @Test
    @Transactional
    public void testSaveAndFindUser() {
        User user = new User();
        user.setName(&quot;John Doe&quot;);
        userRepository.save(user);

        User foundUser = userRepository.findById(user.getId()).orElse(null);
        assertThat(foundUser).isNotNull();
        assertThat(foundUser.getName()).isEqualTo(&quot;John Doe&quot;);
    }
}</pre></div><div class='content'></div><h3>Conclusión</h3>
<div class='content'><p>En esta sección, hemos aprendido sobre la importancia de las pruebas de integración y cómo configurarlas en una aplicación Spring Boot. Hemos visto ejemplos prácticos de cómo escribir pruebas de integración para controladores REST y repositorios JPA. Las pruebas de integración son esenciales para garantizar que los diferentes componentes de tu aplicación funcionen correctamente cuando se combinan, y te ayudarán a detectar y resolver problemas de integración de manera temprana.</p>
<p>En el siguiente módulo, exploraremos cómo utilizar Mockito para simular dependencias en tus pruebas, lo que te permitirá escribir pruebas más aisladas y enfocadas.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='06-02-unit-testing-junit' title="Pruebas Unitarias con JUnit" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='06-02-unit-testing-junit' title="Pruebas Unitarias con JUnit" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='06-04-mocking-mockito' title="Simulación con Mockito" class="py-2 px-3 btn btn-primary"
				data-read-mod="springboot" data-read-unit="6-3">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='06-04-mocking-mockito' title="Simulación con Mockito" class="py-2 px-3 btn btn-primary" 
				data-read-mod="springboot" data-read-unit="6-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curso de Spring Boot</h1>
<h2>Módulo 1: Introducción a Spring Boot</h2>
<ul>
<li><a href="01-01-what-is-spring-boot">¿Qué es Spring Boot?</a></li>
<li><a href="01-02-setting-up-environment">Configuración de tu Entorno de Desarrollo</a></li>
<li><a href="01-03-creating-first-application">Creando tu Primera Aplicación Spring Boot</a></li>
<li><a href="01-04-understanding-project-structure">Entendiendo la Estructura del Proyecto Spring Boot</a></li>
</ul>
<h2>Módulo 2: Conceptos Básicos de Spring Boot</h2>
<ul>
<li><a href="02-01-spring-boot-annotations">Anotaciones de Spring Boot</a></li>
<li><a href="02-02-dependency-injection">Inyección de Dependencias en Spring Boot</a></li>
<li><a href="02-03-spring-boot-configuration">Configuración de Spring Boot</a></li>
<li><a href="02-04-spring-boot-properties">Propiedades de Spring Boot</a></li>
</ul>
<h2>Módulo 3: Construyendo Servicios Web RESTful</h2>
<ul>
<li><a href="03-01-introduction-restful-web-services">Introducción a los Servicios Web RESTful</a></li>
<li><a href="03-02-creating-rest-controllers">Creando Controladores REST</a></li>
<li><a href="03-03-handling-http-methods">Manejo de Métodos HTTP</a></li>
<li><a href="03-04-exception-handling-rest">Manejo de Excepciones en REST</a></li>
</ul>
<h2>Módulo 4: Acceso a Datos con Spring Boot</h2>
<ul>
<li><a href="04-01-introduction-spring-data-jpa">Introducción a Spring Data JPA</a></li>
<li><a href="04-02-configuring-data-sources">Configuración de Fuentes de Datos</a></li>
<li><a href="04-03-creating-jpa-entities">Creación de Entidades JPA</a></li>
<li><a href="04-04-using-spring-data-repositories">Uso de Repositorios de Spring Data</a></li>
<li><a href="04-05-query-methods-spring-data-jpa">Métodos de Consulta en Spring Data JPA</a></li>
</ul>
<h2>Módulo 5: Seguridad en Spring Boot</h2>
<ul>
<li><a href="05-01-introduction-spring-security">Introducción a Spring Security</a></li>
<li><a href="05-02-configuring-spring-security">Configuración de Spring Security</a></li>
<li><a href="05-03-user-authentication-authorization">Autenticación y Autorización de Usuarios</a></li>
<li><a href="05-04-implementing-jwt-authentication">Implementación de Autenticación JWT</a></li>
</ul>
<h2>Módulo 6: Pruebas en Spring Boot</h2>
<ul>
<li><a href="06-01-introduction-testing">Introducción a las Pruebas</a></li>
<li><a href="06-02-unit-testing-junit">Pruebas Unitarias con JUnit</a></li>
<li><a href="06-03-integration-testing">Pruebas de Integración</a></li>
<li><a href="06-04-mocking-mockito">Simulación con Mockito</a></li>
</ul>
<h2>Módulo 7: Funciones Avanzadas de Spring Boot</h2>
<ul>
<li><a href="07-01-spring-boot-actuator">Spring Boot Actuator</a></li>
<li><a href="07-02-spring-boot-profiles">Perfiles de Spring Boot</a></li>
<li><a href="07-03-spring-boot-docker">Spring Boot con Docker</a></li>
<li><a href="07-04-spring-boot-microservices">Spring Boot y Microservicios</a></li>
</ul>
<h2>Módulo 8: Despliegue de Aplicaciones Spring Boot</h2>
<ul>
<li><a href="08-01-introduction-deployment">Introducción al Despliegue</a></li>
<li><a href="08-02-deploying-heroku">Desplegando en Heroku</a></li>
<li><a href="08-03-deploying-aws">Desplegando en AWS</a></li>
<li><a href="08-04-deploying-kubernetes">Desplegando en Kubernetes</a></li>
</ul>
<h2>Módulo 9: Rendimiento y Monitoreo</h2>
<ul>
<li><a href="09-01-performance-tuning">Ajuste de Rendimiento</a></li>
<li><a href="09-02-monitoring-spring-boot-actuator">Monitoreo con Spring Boot Actuator</a></li>
<li><a href="09-03-using-prometheus-grafana">Uso de Prometheus y Grafana</a></li>
<li><a href="09-04-logging-log-management">Gestión de Registros y Logs</a></li>
</ul>
<h2>Módulo 10: Mejores Prácticas y Consejos</h2>
<ul>
<li><a href="10-01-spring-boot-best-practices">Mejores Prácticas de Spring Boot</a></li>
<li><a href="10-02-common-pitfalls">Errores Comunes y Cómo Evitarlos</a></li>
<li><a href="10-03-tips-writing-clean-code">Consejos para Escribir Código Limpio</a></li>
<li><a href="10-04-resources-further-learning">Recursos para Aprendizaje Adicional</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objetivo" rel="nofollow">El Proyecto</a> | 
<a href="/acerca-de" rel="nofollow">Sobre nosotros</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donaciones</a> | 
<a href="/licencia" rel="nofollow">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuario no autenticado</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
