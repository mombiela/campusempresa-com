<!DOCTYPE html>
<html lang="es">
<head>
    <title> Introducción a las transacciones </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/sql/09-01-introduction-transactions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/sql/09-01-introduction-transactions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/sql/09-01-introduction-transactions" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "es";
  		var CATEGORY = "languages";
  		var MOD_NAME = "sql";
  		var TEMA_NAME = "9-1";
  		var TYPE = "mod";
  		var PATH = "mod/sql/09-01-introduction-transactions";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/courses/sql/09-01-introduction-transactions" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/cursos/sql/09-01-introduction-transactions" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Todo el conocimiento a tu alcance</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objetivo" rel="nofollow">El Proyecto</a> | 
<a href="/acerca-de" rel="nofollow">Sobre nosotros</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donaciones</a> | 
<a href="/licencia" rel="nofollow">Licencia</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/mis-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Mis cursos</b></i>
</a>
<a href="/cursos-finalizados" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalizados             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="sql">
		<a  href="#" class="text-secondary d-none" data-read-mod="sql" data-read-unit="9-1" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar como leído
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="sql" data-unread-unit="9-1" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar como no leído
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contenido del curso
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='08-04-analyzing-query-performance' title="Análisis del rendimiento de consultas" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='08-04-analyzing-query-performance' title="Análisis del rendimiento de consultas" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Introducción a las transacciones</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='09-02-acid-properties' title="Propiedades ACID" class="py-2 px-3 btn btn-primary"
				data-read-mod="sql" data-read-unit="9-1">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='09-02-acid-properties' title="Propiedades ACID" class="py-2 px-3 btn btn-primary" 
				data-read-mod="sql" data-read-unit="9-1">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h1>¿Qué es una transacción?</h1>
<div class='content'><p>En el contexto de bases de datos, una transacción es una secuencia de operaciones que se ejecutan como una única unidad lógica de trabajo. Una transacción debe cumplir con las propiedades ACID (Atomicidad, Consistencia, Aislamiento y Durabilidad) para garantizar la integridad de los datos, incluso en situaciones de fallo del sistema.</p>
</div><h2>Propiedades ACID</h2>
<div class='content'><ol>
<li><strong>Atomicidad</strong>: Una transacción debe ser todo o nada. Si una parte de la transacción falla, toda la transacción falla y la base de datos se mantiene en su estado original.</li>
<li><strong>Consistencia</strong>: Una transacción debe llevar la base de datos de un estado válido a otro estado válido, manteniendo las reglas de integridad definidas.</li>
<li><strong>Aislamiento</strong>: Las operaciones de una transacción deben ser invisibles para otras transacciones hasta que la transacción esté completa.</li>
<li><strong>Durabilidad</strong>: Una vez que una transacción ha sido confirmada, los cambios realizados son permanentes, incluso en caso de fallo del sistema.</li>
</ol>
</div><h1>Ejemplo de una transacción</h1>
<div class='content'><p>Imaginemos un escenario simple de transferencia de dinero entre dos cuentas bancarias. La transacción debe asegurarse de que el dinero se debite de una cuenta y se acredite en otra de manera atómica.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U1RBUlQgVFJBTlNBQ1RJT047CgotLSBEZWJpdGFyICQxMDAgZGUgbGEgY3VlbnRhIEEKVVBEQVRFIGN1ZW50YXMKU0VUIHNhbGRvID0gc2FsZG8gLSAxMDAKV0hFUkUgY3VlbnRhX2lkID0gJ0EnOwoKLS0gQWNyZWRpdGFyICQxMDAgYSBsYSBjdWVudGEgQgpVUERBVEUgY3VlbnRhcwpTRVQgc2FsZG8gPSBzYWxkbyArIDEwMApXSEVSRSBjdWVudGFfaWQgPSAnQic7CgpDT01NSVQ7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>START TRANSACTION;

-- Debitar $100 de la cuenta A
UPDATE cuentas
SET saldo = saldo - 100
WHERE cuenta_id = 'A';

-- Acreditar $100 a la cuenta B
UPDATE cuentas
SET saldo = saldo + 100
WHERE cuenta_id = 'B';

COMMIT;</pre></div><div class='content'></div><h2>Explicación del código</h2>
<div class='content'><ol>
<li><strong>START TRANSACTION</strong>: Inicia una nueva transacción.</li>
<li><strong>UPDATE cuentas SET saldo = saldo - 100 WHERE cuenta_id = 'A'</strong>: Debita $100 de la cuenta A.</li>
<li><strong>UPDATE cuentas SET saldo = saldo + 100 WHERE cuenta_id = 'B'</strong>: Acredita $100 a la cuenta B.</li>
<li><strong>COMMIT</strong>: Confirma la transacción, haciendo permanentes los cambios.</li>
</ol>
</div><h1>Control de transacciones</h1>
<div class='content'></div><h2>COMMIT y ROLLBACK</h2>
<div class='content'><ul>
<li><strong>COMMIT</strong>: Confirma la transacción, haciendo permanentes todos los cambios realizados.</li>
<li><strong>ROLLBACK</strong>: Revierte todos los cambios realizados por la transacción, devolviendo la base de datos a su estado original antes de que la transacción comenzara.</li>
</ul>
</div><h2>Ejemplo con ROLLBACK</h2>
<div class='content'><p>Supongamos que ocurre un error durante la transacción y necesitamos revertir los cambios:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U1RBUlQgVFJBTlNBQ1RJT047CgotLSBEZWJpdGFyICQxMDAgZGUgbGEgY3VlbnRhIEEKVVBEQVRFIGN1ZW50YXMKU0VUIHNhbGRvID0gc2FsZG8gLSAxMDAKV0hFUkUgY3VlbnRhX2lkID0gJ0EnOwoKLS0gU2ltdWxhY2nDs24gZGUgdW4gZXJyb3IKLS0gU0VMRUNUIDEvMDsgLS0gRXN0byBjYXVzYXLDoSB1biBlcnJvciBkZSBkaXZpc2nDs24gcG9yIGNlcm8KCi0tIEFjcmVkaXRhciAkMTAwIGEgbGEgY3VlbnRhIEIKVVBEQVRFIGN1ZW50YXMKU0VUIHNhbGRvID0gc2FsZG8gKyAxMDAKV0hFUkUgY3VlbnRhX2lkID0gJ0InOwoKUk9MTEJBQ0s7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>START TRANSACTION;

-- Debitar $100 de la cuenta A
UPDATE cuentas
SET saldo = saldo - 100
WHERE cuenta_id = 'A';

-- Simulaci&oacute;n de un error
-- SELECT 1/0; -- Esto causar&aacute; un error de divisi&oacute;n por cero

-- Acreditar $100 a la cuenta B
UPDATE cuentas
SET saldo = saldo + 100
WHERE cuenta_id = 'B';

ROLLBACK;</pre></div><div class='content'><p>En este caso, debido al error simulado, la transacción se revierte y ningún cambio se aplica a la base de datos.</p>
</div><h1>Ejercicio práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Transferencia de fondos</h2>
<div class='content'><ol>
<li>Crea una tabla <code>cuentas</code> con las siguientes columnas: <code>cuenta_id</code> (VARCHAR), <code>saldo</code> (DECIMAL).</li>
<li>Inserta dos registros en la tabla <code>cuentas</code> con los siguientes datos:
<ul>
<li>Cuenta A: <code>cuenta_id = 'A'</code>, <code>saldo = 1000</code></li>
<li>Cuenta B: <code>cuenta_id = 'B'</code>, <code>saldo = 500</code></li>
</ul>
</li>
<li>Escribe una transacción que transfiera $200 de la cuenta A a la cuenta B.</li>
</ol>
</div><h2>Solución</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ3JlYXIgbGEgdGFibGEgY3VlbnRhcwpDUkVBVEUgVEFCTEUgY3VlbnRhcyAoCiAgICBjdWVudGFfaWQgVkFSQ0hBUigxMCkgUFJJTUFSWSBLRVksCiAgICBzYWxkbyBERUNJTUFMKDEwLCAyKQopOwoKLS0gSW5zZXJ0YXIgcmVnaXN0cm9zCklOU0VSVCBJTlRPIGN1ZW50YXMgKGN1ZW50YV9pZCwgc2FsZG8pIFZBTFVFUyAoJ0EnLCAxMDAwLjAwKTsKSU5TRVJUIElOVE8gY3VlbnRhcyAoY3VlbnRhX2lkLCBzYWxkbykgVkFMVUVTICgnQicsIDUwMC4wMCk7CgotLSBJbmljaWFyIGxhIHRyYW5zYWNjacOzbgpTVEFSVCBUUkFOU0FDVElPTjsKCi0tIERlYml0YXIgJDIwMCBkZSBsYSBjdWVudGEgQQpVUERBVEUgY3VlbnRhcwpTRVQgc2FsZG8gPSBzYWxkbyAtIDIwMApXSEVSRSBjdWVudGFfaWQgPSAnQSc7CgotLSBBY3JlZGl0YXIgJDIwMCBhIGxhIGN1ZW50YSBCClVQREFURSBjdWVudGFzClNFVCBzYWxkbyA9IHNhbGRvICsgMjAwCldIRVJFIGN1ZW50YV9pZCA9ICdCJzsKCi0tIENvbmZpcm1hciBsYSB0cmFuc2FjY2nDs24KQ09NTUlUOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Crear la tabla cuentas
CREATE TABLE cuentas (
    cuenta_id VARCHAR(10) PRIMARY KEY,
    saldo DECIMAL(10, 2)
);

-- Insertar registros
INSERT INTO cuentas (cuenta_id, saldo) VALUES ('A', 1000.00);
INSERT INTO cuentas (cuenta_id, saldo) VALUES ('B', 500.00);

-- Iniciar la transacci&oacute;n
START TRANSACTION;

-- Debitar $200 de la cuenta A
UPDATE cuentas
SET saldo = saldo - 200
WHERE cuenta_id = 'A';

-- Acreditar $200 a la cuenta B
UPDATE cuentas
SET saldo = saldo + 200
WHERE cuenta_id = 'B';

-- Confirmar la transacci&oacute;n
COMMIT;</pre></div><div class='content'></div><h2>Retroalimentación sobre errores comunes</h2>
<div class='content'><ul>
<li><strong>Olvidar COMMIT o ROLLBACK</strong>: Si no se confirma o revierte una transacción, los cambios no se aplicarán o revertirán, lo que puede llevar a inconsistencias.</li>
<li><strong>Errores de concurrencia</strong>: Asegúrate de manejar adecuadamente las transacciones concurrentes para evitar problemas como bloqueos o condiciones de carrera.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos aprendido qué es una transacción, las propiedades ACID que debe cumplir y cómo controlar transacciones usando <code>COMMIT</code> y <code>ROLLBACK</code>. Estas habilidades son fundamentales para garantizar la integridad y consistencia de los datos en una base de datos. En la próxima sección, profundizaremos en las propiedades ACID y cómo se implementan en diferentes sistemas de bases de datos.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='08-04-analyzing-query-performance' title="Análisis del rendimiento de consultas" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='08-04-analyzing-query-performance' title="Análisis del rendimiento de consultas" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='09-02-acid-properties' title="Propiedades ACID" class="py-2 px-3 btn btn-primary"
				data-read-mod="sql" data-read-unit="9-1">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='09-02-acid-properties' title="Propiedades ACID" class="py-2 px-3 btn btn-primary" 
				data-read-mod="sql" data-read-unit="9-1">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curso de SQL</h1>
<h2>Módulo 1: Introducción a SQL</h2>
<ul>
<li><a href="01-01-what-is-sql">¿Qué es SQL?</a></li>
<li><a href="01-02-setting-up-environment">Configurando tu entorno SQL</a></li>
<li><a href="01-03-basic-sql-syntax">Sintaxis básica de SQL</a></li>
<li><a href="01-04-understanding-databases-tables">Entendiendo bases de datos y tablas</a></li>
</ul>
<h2>Módulo 2: Consultas básicas de SQL</h2>
<ul>
<li><a href="02-01-select-statement">Instrucción SELECT</a></li>
<li><a href="02-02-filtering-data-where">Filtrando datos con WHERE</a></li>
<li><a href="02-03-sorting-data-order-by">Ordenando datos con ORDER BY</a></li>
<li><a href="02-04-limiting-results-limit">Limitando resultados con LIMIT</a></li>
</ul>
<h2>Módulo 3: Trabajando con múltiples tablas</h2>
<ul>
<li><a href="03-01-join-operations">Operaciones JOIN</a></li>
<li><a href="03-02-inner-join">INNER JOIN</a></li>
<li><a href="03-03-left-join">LEFT JOIN</a></li>
<li><a href="03-04-right-join">RIGHT JOIN</a></li>
<li><a href="03-05-full-outer-join">FULL OUTER JOIN</a></li>
</ul>
<h2>Módulo 4: Filtrado avanzado de datos</h2>
<ul>
<li><a href="04-01-using-like-pattern-matching">Usando LIKE para coincidencia de patrones</a></li>
<li><a href="04-02-in-between-operators">Operadores IN y BETWEEN</a></li>
<li><a href="04-03-null-values-is-null">Valores NULL y IS NULL</a></li>
<li><a href="04-04-aggregating-data-group-by">Agregando datos con GROUP BY</a></li>
<li><a href="04-05-having-clause">Cláusula HAVING</a></li>
</ul>
<h2>Módulo 5: Manipulación de datos</h2>
<ul>
<li><a href="05-01-insert-statement">Instrucción INSERT</a></li>
<li><a href="05-02-update-statement">Instrucción UPDATE</a></li>
<li><a href="05-03-delete-statement">Instrucción DELETE</a></li>
<li><a href="05-04-upsert-merge-statement">Instrucción UPSERT (MERGE)</a></li>
</ul>
<h2>Módulo 6: Funciones avanzadas de SQL</h2>
<ul>
<li><a href="06-01-string-functions">Funciones de cadena</a></li>
<li><a href="06-02-numeric-functions">Funciones numéricas</a></li>
<li><a href="06-03-date-time-functions">Funciones de fecha y hora</a></li>
<li><a href="06-04-conditional-expressions">Expresiones condicionales</a></li>
</ul>
<h2>Módulo 7: Subconsultas y consultas anidadas</h2>
<ul>
<li><a href="07-01-introduction-subqueries">Introducción a subconsultas</a></li>
<li><a href="07-02-correlated-subqueries">Subconsultas correlacionadas</a></li>
<li><a href="07-03-exists-not-exists">EXISTS y NOT EXISTS</a></li>
<li><a href="07-04-using-subqueries-select-from-where">Usando subconsultas en cláusulas SELECT, FROM y WHERE</a></li>
</ul>
<h2>Módulo 8: Índices y optimización de rendimiento</h2>
<ul>
<li><a href="08-01-understanding-indexes">Entendiendo los índices</a></li>
<li><a href="08-02-creating-managing-indexes">Creación y gestión de índices</a></li>
<li><a href="08-03-query-optimization-techniques">Técnicas de optimización de consultas</a></li>
<li><a href="08-04-analyzing-query-performance">Análisis del rendimiento de consultas</a></li>
</ul>
<h2>Módulo 9: Transacciones y concurrencia</h2>
<ul>
<li><a href="09-01-introduction-transactions">Introducción a las transacciones</a></li>
<li><a href="09-02-acid-properties">Propiedades ACID</a></li>
<li><a href="09-03-transaction-control-statements">Instrucciones de control de transacciones</a></li>
<li><a href="09-04-handling-concurrency">Manejo de concurrencia</a></li>
</ul>
<h2>Módulo 10: Temas avanzados</h2>
<ul>
<li><a href="10-01-stored-procedures">Procedimientos almacenados</a></li>
<li><a href="10-02-triggers">Triggers</a></li>
<li><a href="10-03-views">Vistas</a></li>
<li><a href="10-04-common-table-expressions">Expresiones de tabla comunes (CTEs)</a></li>
<li><a href="10-05-window-functions">Funciones de ventana</a></li>
</ul>
<h2>Módulo 11: SQL en la práctica</h2>
<ul>
<li><a href="11-01-real-world-use-cases">Casos de uso en el mundo real</a></li>
<li><a href="11-02-best-practices">Mejores prácticas</a></li>
<li><a href="11-03-sql-data-analysis">SQL para análisis de datos</a></li>
<li><a href="11-04-sql-web-development">SQL en desarrollo web</a></li>
</ul>
<h2>Módulo 12: Proyecto final</h2>
<ul>
<li><a href="12-01-project-overview">Descripción del proyecto</a></li>
<li><a href="12-02-project-requirements">Requisitos del proyecto</a></li>
<li><a href="12-03-project-implementation">Implementación del proyecto</a></li>
<li><a href="12-04-project-presentation">Presentación del proyecto</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objetivo" rel="nofollow">El Proyecto</a> | 
<a href="/acerca-de" rel="nofollow">Sobre nosotros</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donaciones</a> | 
<a href="/licencia" rel="nofollow">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuario no autenticado</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
