<!DOCTYPE html>
<html lang="es">
<head>
    <title> Referencias </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/mongodb/03-03-references" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/mongodb/03-03-references" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/mongodb/03-03-references" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "es";
  		var CATEGORY = "languages";
  		var MOD_NAME = "mongodb";
  		var TEMA_NAME = "3-3";
  		var TYPE = "mod";
  		var PATH = "mod/mongodb/03-03-references";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/courses/mongodb/03-03-references" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/cursos/mongodb/03-03-references" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Todo el conocimiento a tu alcance</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objetivo" rel="nofollow">El Proyecto</a> | 
<a href="/acerca-de" rel="nofollow">Sobre nosotros</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donaciones</a> | 
<a href="/licencia" rel="nofollow">Licencia</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/mis-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Mis cursos</b></i>
</a>
<a href="/cursos-finalizados" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalizados             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="mongodb">
		<a  href="#" class="text-secondary d-none" data-read-mod="mongodb" data-read-unit="3-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar como leído
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="mongodb" data-unread-unit="3-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar como no leído
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contenido del curso
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-02-embedded-documents' title="Documentos Anidados" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-02-embedded-documents' title="Documentos Anidados" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Referencias</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-04-data-types' title="Tipos de Datos" class="py-2 px-3 btn btn-primary"
				data-read-mod="mongodb" data-read-unit="3-3">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-04-data-types' title="Tipos de Datos" class="py-2 px-3 btn btn-primary" 
				data-read-mod="mongodb" data-read-unit="3-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>En MongoDB, los documentos pueden estar relacionados entre sí de varias maneras. Una de las formas más comunes de establecer relaciones entre documentos es mediante referencias. Las referencias permiten que un documento apunte a otro documento, lo que es útil para modelar relaciones entre entidades en una base de datos.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ol>
<li><strong>Referencias Manuales</strong>: Son referencias explícitas donde un documento contiene el <code>_id</code> de otro documento.</li>
<li><strong>DBRefs</strong>: Son una forma especial de referencia que incluye el nombre de la colección y el <code>_id</code> del documento referenciado.</li>
</ol>
</div><h1>Referencias Manuales</h1>
<div class='content'><p>Las referencias manuales son simples y directas. Un documento contiene el <code>_id</code> de otro documento, lo que permite establecer una relación entre ellos.</p>
</div><h2>Ejemplo Práctico</h2>
<div class='content'><p>Supongamos que tenemos dos colecciones: <code>authors</code> y <code>books</code>. Queremos que cada libro tenga una referencia al autor que lo escribió.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRG9jdW1lbnRvIGVuIGxhIGNvbGVjY2nDs24gImF1dGhvcnMiCnsKICAiX2lkIjogT2JqZWN0SWQoIjYwYzcyYjJmOWIxZDhiM2Y0YzhiNDU2NyIpLAogICJuYW1lIjogIkouSy4gUm93bGluZyIKfQoKLy8gRG9jdW1lbnRvIGVuIGxhIGNvbGVjY2nDs24gImJvb2tzIgp7CiAgInRpdGxlIjogIkhhcnJ5IFBvdHRlciBhbmQgdGhlIFBoaWxvc29waGVyJ3MgU3RvbmUiLAogICJhdXRob3JfaWQiOiBPYmplY3RJZCgiNjBjNzJiMmY5YjFkOGIzZjRjOGI0NTY3IikKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Documento en la colecci&oacute;n &quot;authors&quot;
{
  &quot;_id&quot;: ObjectId(&quot;60c72b2f9b1d8b3f4c8b4567&quot;),
  &quot;name&quot;: &quot;J.K. Rowling&quot;
}

// Documento en la colecci&oacute;n &quot;books&quot;
{
  &quot;title&quot;: &quot;Harry Potter and the Philosopher's Stone&quot;,
  &quot;author_id&quot;: ObjectId(&quot;60c72b2f9b1d8b3f4c8b4567&quot;)
}</pre></div><div class='content'><p>En este ejemplo, el documento del libro contiene un campo <code>author_id</code> que almacena el <code>_id</code> del autor correspondiente.</p>
</div><h2>Consultas con Referencias Manuales</h2>
<div class='content'><p>Para obtener el autor de un libro, primero necesitamos leer el documento del libro y luego usar el <code>author_id</code> para buscar el autor en la colección <code>authors</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gT2J0ZW5lciBlbCBsaWJybwpjb25zdCBib29rID0gZGIuYm9va3MuZmluZE9uZSh7IHRpdGxlOiAiSGFycnkgUG90dGVyIGFuZCB0aGUgUGhpbG9zb3BoZXIncyBTdG9uZSIgfSk7CgovLyBPYnRlbmVyIGVsIGF1dG9yIHVzYW5kbyBlbCBhdXRob3JfaWQgZGVsIGxpYnJvCmNvbnN0IGF1dGhvciA9IGRiLmF1dGhvcnMuZmluZE9uZSh7IF9pZDogYm9vay5hdXRob3JfaWQgfSk7CgpwcmludChgRWwgYXV0b3IgZGVsIGxpYnJvIGVzOiAke2F1dGhvci5uYW1lfWApOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Obtener el libro
const book = db.books.findOne({ title: &quot;Harry Potter and the Philosopher's Stone&quot; });

// Obtener el autor usando el author_id del libro
const author = db.authors.findOne({ _id: book.author_id });

print(`El autor del libro es: ${author.name}`);</pre></div><div class='content'></div><h1>DBRefs</h1>
<div class='content'><p>DBRefs son una forma más estructurada de referencias en MongoDB. Incluyen el nombre de la colección y el <code>_id</code> del documento referenciado.</p>
</div><h2>Ejemplo Práctico</h2>
<div class='content'><p>Usando el mismo ejemplo de <code>authors</code> y <code>books</code>, un DBRef se vería así:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRG9jdW1lbnRvIGVuIGxhIGNvbGVjY2nDs24gImJvb2tzIiB1c2FuZG8gREJSZWYKewogICJ0aXRsZSI6ICJIYXJyeSBQb3R0ZXIgYW5kIHRoZSBQaGlsb3NvcGhlcidzIFN0b25lIiwKICAiYXV0aG9yIjogewogICAgIiRyZWYiOiAiYXV0aG9ycyIsCiAgICAiJGlkIjogT2JqZWN0SWQoIjYwYzcyYjJmOWIxZDhiM2Y0YzhiNDU2NyIpCiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Documento en la colecci&oacute;n &quot;books&quot; usando DBRef
{
  &quot;title&quot;: &quot;Harry Potter and the Philosopher's Stone&quot;,
  &quot;author&quot;: {
    &quot;$ref&quot;: &quot;authors&quot;,
    &quot;$id&quot;: ObjectId(&quot;60c72b2f9b1d8b3f4c8b4567&quot;)
  }
}</pre></div><div class='content'></div><h2>Consultas con DBRefs</h2>
<div class='content'><p>Para resolver un DBRef, MongoDB no proporciona soporte automático en las consultas. Necesitamos realizar dos consultas manualmente, similar a las referencias manuales.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gT2J0ZW5lciBlbCBsaWJybwpjb25zdCBib29rID0gZGIuYm9va3MuZmluZE9uZSh7IHRpdGxlOiAiSGFycnkgUG90dGVyIGFuZCB0aGUgUGhpbG9zb3BoZXIncyBTdG9uZSIgfSk7CgovLyBPYnRlbmVyIGVsIGF1dG9yIHVzYW5kbyBlbCBEQlJlZgpjb25zdCBhdXRob3IgPSBkYltib29rLmF1dGhvci4kcmVmXS5maW5kT25lKHsgX2lkOiBib29rLmF1dGhvci4kaWQgfSk7CgpwcmludChgRWwgYXV0b3IgZGVsIGxpYnJvIGVzOiAke2F1dGhvci5uYW1lfWApOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Obtener el libro
const book = db.books.findOne({ title: &quot;Harry Potter and the Philosopher's Stone&quot; });

// Obtener el autor usando el DBRef
const author = db[book.author.$ref].findOne({ _id: book.author.$id });

print(`El autor del libro es: ${author.name}`);</pre></div><div class='content'></div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio</h2>
<div class='content'><ol>
<li>Crea dos colecciones: <code>students</code> y <code>courses</code>.</li>
<li>Inserta documentos en ambas colecciones.</li>
<li>Establece una referencia manual en los documentos de <code>students</code> para apuntar a los cursos que están tomando.</li>
<li>Escribe una consulta para obtener el nombre del curso que está tomando un estudiante específico.</li>
</ol>
</div><h2>Solución</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXIgY29sZWNjaW9uZXMgeSBkb2N1bWVudG9zCmRiLnN0dWRlbnRzLmluc2VydE9uZSh7CiAgIl9pZCI6IE9iamVjdElkKCI2MGM3MmIyZjliMWQ4YjNmNGM4YjQ1NjgiKSwKICAibmFtZSI6ICJBbGljZSIsCiAgImNvdXJzZV9pZCI6IE9iamVjdElkKCI2MGM3MmIyZjliMWQ4YjNmNGM4YjQ1NjkiKQp9KTsKCmRiLmNvdXJzZXMuaW5zZXJ0T25lKHsKICAiX2lkIjogT2JqZWN0SWQoIjYwYzcyYjJmOWIxZDhiM2Y0YzhiNDU2OSIpLAogICJ0aXRsZSI6ICJJbnRyb2R1Y3Rpb24gdG8gTW9uZ29EQiIKfSk7CgovLyBPYnRlbmVyIGVsIGVzdHVkaWFudGUKY29uc3Qgc3R1ZGVudCA9IGRiLnN0dWRlbnRzLmZpbmRPbmUoeyBuYW1lOiAiQWxpY2UiIH0pOwoKLy8gT2J0ZW5lciBlbCBjdXJzbyB1c2FuZG8gZWwgY291cnNlX2lkIGRlbCBlc3R1ZGlhbnRlCmNvbnN0IGNvdXJzZSA9IGRiLmNvdXJzZXMuZmluZE9uZSh7IF9pZDogc3R1ZGVudC5jb3Vyc2VfaWQgfSk7CgpwcmludChgRWwgY3Vyc28gcXVlIGVzdMOhIHRvbWFuZG8gQWxpY2UgZXM6ICR7Y291cnNlLnRpdGxlfWApOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Crear colecciones y documentos
db.students.insertOne({
  &quot;_id&quot;: ObjectId(&quot;60c72b2f9b1d8b3f4c8b4568&quot;),
  &quot;name&quot;: &quot;Alice&quot;,
  &quot;course_id&quot;: ObjectId(&quot;60c72b2f9b1d8b3f4c8b4569&quot;)
});

db.courses.insertOne({
  &quot;_id&quot;: ObjectId(&quot;60c72b2f9b1d8b3f4c8b4569&quot;),
  &quot;title&quot;: &quot;Introduction to MongoDB&quot;
});

// Obtener el estudiante
const student = db.students.findOne({ name: &quot;Alice&quot; });

// Obtener el curso usando el course_id del estudiante
const course = db.courses.findOne({ _id: student.course_id });

print(`El curso que est&aacute; tomando Alice es: ${course.title}`);</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Las referencias en MongoDB son una herramienta poderosa para modelar relaciones entre documentos. Las referencias manuales son simples y directas, mientras que los DBRefs proporcionan una estructura más formal. Comprender cómo usar y consultar estas referencias es crucial para diseñar esquemas de datos eficientes y efectivos en MongoDB.</p>
<p>En el próximo tema, exploraremos los diferentes tipos de datos que se pueden utilizar en MongoDB, lo que nos permitirá aprovechar al máximo las capacidades de esta base de datos NoSQL.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-02-embedded-documents' title="Documentos Anidados" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-02-embedded-documents' title="Documentos Anidados" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-04-data-types' title="Tipos de Datos" class="py-2 px-3 btn btn-primary"
				data-read-mod="mongodb" data-read-unit="3-3">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-04-data-types' title="Tipos de Datos" class="py-2 px-3 btn btn-primary" 
				data-read-mod="mongodb" data-read-unit="3-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curso de MongoDB</h1>
<h2>Módulo 1: Introducción a MongoDB</h2>
<ul>
<li><a href="01-01-what-is-mongodb">¿Qué es MongoDB?</a></li>
<li><a href="01-02-installing-mongodb">Instalando MongoDB</a></li>
<li><a href="01-03-mongodb-basics">Conceptos Básicos de MongoDB</a></li>
<li><a href="01-04-mongodb-vs-sql-databases">MongoDB vs. Bases de Datos SQL</a></li>
</ul>
<h2>Módulo 2: Operaciones CRUD en MongoDB</h2>
<ul>
<li><a href="02-01-creating-documents">Creando Documentos</a></li>
<li><a href="02-02-reading-documents">Leyendo Documentos</a></li>
<li><a href="02-03-updating-documents">Actualizando Documentos</a></li>
<li><a href="02-04-deleting-documents">Eliminando Documentos</a></li>
</ul>
<h2>Módulo 3: Modelado de Datos en MongoDB</h2>
<ul>
<li><a href="03-01-schema-design">Diseño de Esquema</a></li>
<li><a href="03-02-embedded-documents">Documentos Anidados</a></li>
<li><a href="03-03-references">Referencias</a></li>
<li><a href="03-04-data-types">Tipos de Datos</a></li>
</ul>
<h2>Módulo 4: Indexación y Agregación</h2>
<ul>
<li><a href="04-01-creating-indexes">Creando Índices</a></li>
<li><a href="04-02-types-of-indexes">Tipos de Índices</a></li>
<li><a href="04-03-aggregation-framework">Marco de Agregación</a></li>
<li><a href="04-04-using-pipelines">Usando Pipelines</a></li>
</ul>
<h2>Módulo 5: Características Avanzadas de MongoDB</h2>
<ul>
<li><a href="05-01-replication">Replicación</a></li>
<li><a href="05-02-sharding">Fragmentación</a></li>
<li><a href="05-03-transactions">Transacciones</a></li>
<li><a href="05-04-mongodb-atlas">MongoDB Atlas</a></li>
</ul>
<h2>Módulo 6: Rendimiento y Seguridad</h2>
<ul>
<li><a href="06-01-performance-tuning">Optimización del Rendimiento</a></li>
<li><a href="06-02-backup-and-restore">Respaldo y Restauración</a></li>
<li><a href="06-03-security-best-practices">Mejores Prácticas de Seguridad</a></li>
<li><a href="06-04-monitoring-and-alerts">Monitoreo y Alertas</a></li>
</ul>
<h2>Módulo 7: MongoDB con Lenguajes de Programación</h2>
<ul>
<li><a href="07-01-mongodb-with-javascript">MongoDB con JavaScript (Node.js)</a></li>
<li><a href="07-02-mongodb-with-python">MongoDB con Python</a></li>
<li><a href="07-03-mongodb-with-java">MongoDB con Java</a></li>
<li><a href="07-04-mongodb-with-csharp">MongoDB con C#</a></li>
</ul>
<h2>Módulo 8: Aplicaciones del Mundo Real</h2>
<ul>
<li><a href="08-01-building-rest-api">Construyendo una API REST con MongoDB</a></li>
<li><a href="08-02-ecommerce-application">Aplicación de Comercio Electrónico</a></li>
<li><a href="08-03-social-media-application">Aplicación de Redes Sociales</a></li>
<li><a href="08-04-iot-data-management">Gestión de Datos IoT</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objetivo" rel="nofollow">El Proyecto</a> | 
<a href="/acerca-de" rel="nofollow">Sobre nosotros</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donaciones</a> | 
<a href="/licencia" rel="nofollow">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuario no autenticado</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
