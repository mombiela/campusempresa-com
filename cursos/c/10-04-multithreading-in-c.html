<!DOCTYPE html>
<html lang="es">
<head>
    <title> Multihilo en C </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/c/10-04-multithreading-in-c" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/c/10-04-multithreading-in-c" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/c/10-04-multithreading-in-c" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.188a386f47.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "es";
  		var CATEGORY = "languages";
  		var MOD_NAME = "c";
  		var TEMA_NAME = "10-4";
  		var TYPE = "mod";
  		var PATH = "mod/c/10-04-multithreading-in-c";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.902a5a267d.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo_header.png" alt="Logo Campus Empresa"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/courses/c/10-04-multithreading-in-c" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/cursos/c/10-04-multithreading-in-c" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Todo el conocimiento a tu alcance</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objetivo" rel="nofollow">El Proyecto</a> | 
<a href="/acerca-de" rel="nofollow">Sobre nosotros</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donaciones</a> | 
<a href="/licencia" rel="nofollow">Licencia</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/mis-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Mis cursos</b></i>
</a>
<a href="/cursos-finalizados" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalizados             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="c">
		<a  href="#" class="text-secondary d-none" data-read-mod="c" data-read-unit="10-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar como leído
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="c" data-unread-unit="10-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar como no leído
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contenido del curso
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='10-03-variable-argument-lists' title="Listas de Argumentos Variables" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='10-03-variable-argument-lists' title="Listas de Argumentos Variables" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Multihilo en C</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='11-01-code-readability-and-documentation' title="Legibilidad del Código y Documentación" class="py-2 px-3 btn btn-primary"
				data-read-mod="c" data-read-unit="10-4">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='11-01-code-readability-and-documentation' title="Legibilidad del Código y Documentación" class="py-2 px-3 btn btn-primary" 
				data-read-mod="c" data-read-unit="10-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>El multihilo es una técnica de programación que permite la ejecución concurrente de múltiples hilos dentro de un solo proceso. Esto puede mejorar significativamente el rendimiento de las aplicaciones, especialmente en sistemas con múltiples núcleos de CPU. En este tema, aprenderemos cómo implementar multihilo en C utilizando la biblioteca POSIX Threads (pthreads).</p>
</div><h2>Contenido</h2>
<div class='content'><ol>
<li>Introducción al Multihilo</li>
<li>Creación de Hilos</li>
<li>Sincronización de Hilos</li>
<li>Ejemplos Prácticos</li>
<li>Ejercicios</li>
</ol>
</div><h2><ol>
<li>Introducción al Multihilo</li>
</ol></h2>
<div class='content'><p>El multihilo permite que un programa realice múltiples tareas simultáneamente. Cada hilo puede ejecutar una parte diferente del código del programa, lo que puede llevar a una mejor utilización de los recursos del sistema y a una mayor eficiencia.</p>
</div><h3>Ventajas del Multihilo</h3>
<div class='content'><ul>
<li><strong>Mejor rendimiento</strong>: Permite la ejecución concurrente de tareas.</li>
<li><strong>Mejor utilización de recursos</strong>: Aprovecha mejor los recursos del sistema, especialmente en sistemas con múltiples núcleos.</li>
<li><strong>Mayor capacidad de respuesta</strong>: Mejora la capacidad de respuesta de las aplicaciones, especialmente en aplicaciones de interfaz de usuario.</li>
</ul>
</div><h3>Desventajas del Multihilo</h3>
<div class='content'><ul>
<li><strong>Complejidad</strong>: La programación multihilo puede ser compleja y propensa a errores.</li>
<li><strong>Problemas de sincronización</strong>: Los hilos pueden interferir entre sí si no se gestionan adecuadamente.</li>
</ul>
</div><h2><ol start="2">
<li>Creación de Hilos</li>
</ol></h2>
<div class='content'><p>En C, la biblioteca POSIX Threads (pthreads) proporciona funciones para crear y gestionar hilos. A continuación, se muestra un ejemplo básico de cómo crear y ejecutar un hilo.</p>
</div><h3>Ejemplo Básico</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHB0aHJlYWQuaD4KI2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCi8vIEZ1bmNpw7NuIHF1ZSBzZXLDoSBlamVjdXRhZGEgcG9yIGVsIGhpbG8Kdm9pZCogcHJpbnRfbWVzc2FnZSh2b2lkKiBwdHIpIHsKICAgIGNoYXIqIG1lc3NhZ2UgPSAoY2hhciopIHB0cjsKICAgIHByaW50ZigiJXNcbiIsIG1lc3NhZ2UpOwogICAgcmV0dXJuIE5VTEw7Cn0KCmludCBtYWluKCkgewogICAgcHRocmVhZF90IHRocmVhZDEsIHRocmVhZDI7CiAgICBjb25zdCBjaGFyKiBtZXNzYWdlMSA9ICJIaWxvIDEiOwogICAgY29uc3QgY2hhciogbWVzc2FnZTIgPSAiSGlsbyAyIjsKCiAgICAvLyBDcmVhciBoaWxvcwogICAgcHRocmVhZF9jcmVhdGUoJnRocmVhZDEsIE5VTEwsIHByaW50X21lc3NhZ2UsICh2b2lkKikgbWVzc2FnZTEpOwogICAgcHRocmVhZF9jcmVhdGUoJnRocmVhZDIsIE5VTEwsIHByaW50X21lc3NhZ2UsICh2b2lkKikgbWVzc2FnZTIpOwoKICAgIC8vIEVzcGVyYXIgYSBxdWUgbG9zIGhpbG9zIHRlcm1pbmVuCiAgICBwdGhyZWFkX2pvaW4odGhyZWFkMSwgTlVMTCk7CiAgICBwdGhyZWFkX2pvaW4odGhyZWFkMiwgTlVMTCk7CgogICAgcmV0dXJuIDA7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;pthread.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

// Funci&oacute;n que ser&aacute; ejecutada por el hilo
void* print_message(void* ptr) {
    char* message = (char*) ptr;
    printf(&quot;%s\n&quot;, message);
    return NULL;
}

int main() {
    pthread_t thread1, thread2;
    const char* message1 = &quot;Hilo 1&quot;;
    const char* message2 = &quot;Hilo 2&quot;;

    // Crear hilos
    pthread_create(&amp;thread1, NULL, print_message, (void*) message1);
    pthread_create(&amp;thread2, NULL, print_message, (void*) message2);

    // Esperar a que los hilos terminen
    pthread_join(thread1, NULL);
    pthread_join(thread2, NULL);

    return 0;
}</pre></div><div class='content'></div><h3>Explicación del Código</h3>
<div class='content'><ol>
<li><strong>Inclusión de la biblioteca pthread</strong>: <code>#include &lt;pthread.h&gt;</code></li>
<li><strong>Definición de la función del hilo</strong>: <code>void* print_message(void* ptr)</code></li>
<li><strong>Creación de hilos</strong>: <code>pthread_create(&amp;thread1, NULL, print_message, (void*) message1)</code></li>
<li><strong>Esperar a que los hilos terminen</strong>: <code>pthread_join(thread1, NULL)</code></li>
</ol>
</div><h2><ol start="3">
<li>Sincronización de Hilos</li>
</ol></h2>
<div class='content'><p>La sincronización es crucial en la programación multihilo para evitar condiciones de carrera y asegurar que los hilos no interfieran entre sí. Las herramientas más comunes para la sincronización son los mutex y las variables de condición.</p>
</div><h3>Uso de Mutex</h3>
<div class='content'><p>Un mutex (mutual exclusion) es una primitiva de sincronización que permite que solo un hilo acceda a una sección crítica del código a la vez.</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHB0aHJlYWQuaD4KI2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCnB0aHJlYWRfbXV0ZXhfdCBsb2NrOwoKdm9pZCogcHJpbnRfbWVzc2FnZSh2b2lkKiBwdHIpIHsKICAgIGNoYXIqIG1lc3NhZ2UgPSAoY2hhciopIHB0cjsKCiAgICBwdGhyZWFkX211dGV4X2xvY2soJmxvY2spOwogICAgcHJpbnRmKCIlc1xuIiwgbWVzc2FnZSk7CiAgICBwdGhyZWFkX211dGV4X3VubG9jaygmbG9jayk7CgogICAgcmV0dXJuIE5VTEw7Cn0KCmludCBtYWluKCkgewogICAgcHRocmVhZF90IHRocmVhZDEsIHRocmVhZDI7CiAgICBjb25zdCBjaGFyKiBtZXNzYWdlMSA9ICJIaWxvIDEiOwogICAgY29uc3QgY2hhciogbWVzc2FnZTIgPSAiSGlsbyAyIjsKCiAgICAvLyBJbmljaWFsaXphciBlbCBtdXRleAogICAgcHRocmVhZF9tdXRleF9pbml0KCZsb2NrLCBOVUxMKTsKCiAgICAvLyBDcmVhciBoaWxvcwogICAgcHRocmVhZF9jcmVhdGUoJnRocmVhZDEsIE5VTEwsIHByaW50X21lc3NhZ2UsICh2b2lkKikgbWVzc2FnZTEpOwogICAgcHRocmVhZF9jcmVhdGUoJnRocmVhZDIsIE5VTEwsIHByaW50X21lc3NhZ2UsICh2b2lkKikgbWVzc2FnZTIpOwoKICAgIC8vIEVzcGVyYXIgYSBxdWUgbG9zIGhpbG9zIHRlcm1pbmVuCiAgICBwdGhyZWFkX2pvaW4odGhyZWFkMSwgTlVMTCk7CiAgICBwdGhyZWFkX2pvaW4odGhyZWFkMiwgTlVMTCk7CgogICAgLy8gRGVzdHJ1aXIgZWwgbXV0ZXgKICAgIHB0aHJlYWRfbXV0ZXhfZGVzdHJveSgmbG9jayk7CgogICAgcmV0dXJuIDA7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;pthread.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

pthread_mutex_t lock;

void* print_message(void* ptr) {
    char* message = (char*) ptr;

    pthread_mutex_lock(&amp;lock);
    printf(&quot;%s\n&quot;, message);
    pthread_mutex_unlock(&amp;lock);

    return NULL;
}

int main() {
    pthread_t thread1, thread2;
    const char* message1 = &quot;Hilo 1&quot;;
    const char* message2 = &quot;Hilo 2&quot;;

    // Inicializar el mutex
    pthread_mutex_init(&amp;lock, NULL);

    // Crear hilos
    pthread_create(&amp;thread1, NULL, print_message, (void*) message1);
    pthread_create(&amp;thread2, NULL, print_message, (void*) message2);

    // Esperar a que los hilos terminen
    pthread_join(thread1, NULL);
    pthread_join(thread2, NULL);

    // Destruir el mutex
    pthread_mutex_destroy(&amp;lock);

    return 0;
}</pre></div><div class='content'></div><h3>Explicación del Código</h3>
<div class='content'><ol>
<li><strong>Inicialización del mutex</strong>: <code>pthread_mutex_init(&amp;lock, NULL)</code></li>
<li><strong>Bloqueo del mutex</strong>: <code>pthread_mutex_lock(&amp;lock)</code></li>
<li><strong>Desbloqueo del mutex</strong>: <code>pthread_mutex_unlock(&amp;lock)</code></li>
<li><strong>Destrucción del mutex</strong>: <code>pthread_mutex_destroy(&amp;lock)</code></li>
</ol>
</div><h2><ol start="4">
<li>Ejemplos Prácticos</li>
</ol></h2>
<div class='content'></div><h3>Ejemplo 1: Contador Compartido</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHB0aHJlYWQuaD4KI2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCiNkZWZpbmUgTlVNX1RIUkVBRFMgNQoKcHRocmVhZF9tdXRleF90IGxvY2s7CmludCBjb3VudGVyID0gMDsKCnZvaWQqIGluY3JlbWVudF9jb3VudGVyKHZvaWQqIHB0cikgewogICAgcHRocmVhZF9tdXRleF9sb2NrKCZsb2NrKTsKICAgIGNvdW50ZXIrKzsKICAgIHByaW50ZigiQ29udGFkb3I6ICVkXG4iLCBjb3VudGVyKTsKICAgIHB0aHJlYWRfbXV0ZXhfdW5sb2NrKCZsb2NrKTsKICAgIHJldHVybiBOVUxMOwp9CgppbnQgbWFpbigpIHsKICAgIHB0aHJlYWRfdCB0aHJlYWRzW05VTV9USFJFQURTXTsKCiAgICAvLyBJbmljaWFsaXphciBlbCBtdXRleAogICAgcHRocmVhZF9tdXRleF9pbml0KCZsb2NrLCBOVUxMKTsKCiAgICAvLyBDcmVhciBoaWxvcwogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBOVU1fVEhSRUFEUzsgaSsrKSB7CiAgICAgICAgcHRocmVhZF9jcmVhdGUoJnRocmVhZHNbaV0sIE5VTEwsIGluY3JlbWVudF9jb3VudGVyLCBOVUxMKTsKICAgIH0KCiAgICAvLyBFc3BlcmFyIGEgcXVlIGxvcyBoaWxvcyB0ZXJtaW5lbgogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBOVU1fVEhSRUFEUzsgaSsrKSB7CiAgICAgICAgcHRocmVhZF9qb2luKHRocmVhZHNbaV0sIE5VTEwpOwogICAgfQoKICAgIC8vIERlc3RydWlyIGVsIG11dGV4CiAgICBwdGhyZWFkX211dGV4X2Rlc3Ryb3koJmxvY2spOwoKICAgIHJldHVybiAwOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;pthread.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#define NUM_THREADS 5

pthread_mutex_t lock;
int counter = 0;

void* increment_counter(void* ptr) {
    pthread_mutex_lock(&amp;lock);
    counter++;
    printf(&quot;Contador: %d\n&quot;, counter);
    pthread_mutex_unlock(&amp;lock);
    return NULL;
}

int main() {
    pthread_t threads[NUM_THREADS];

    // Inicializar el mutex
    pthread_mutex_init(&amp;lock, NULL);

    // Crear hilos
    for (int i = 0; i &lt; NUM_THREADS; i++) {
        pthread_create(&amp;threads[i], NULL, increment_counter, NULL);
    }

    // Esperar a que los hilos terminen
    for (int i = 0; i &lt; NUM_THREADS; i++) {
        pthread_join(threads[i], NULL);
    }

    // Destruir el mutex
    pthread_mutex_destroy(&amp;lock);

    return 0;
}</pre></div><div class='content'></div><h3>Ejemplo 2: Productor-Consumidor</h3>
<div class='content'></div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHB0aHJlYWQuaD4KI2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCiNkZWZpbmUgQlVGRkVSX1NJWkUgMTAKCmludCBidWZmZXJbQlVGRkVSX1NJWkVdOwppbnQgY291bnQgPSAwOwpwdGhyZWFkX211dGV4X3QgbG9jazsKcHRocmVhZF9jb25kX3QgY29uZDsKCnZvaWQqIHByb2R1Y2VyKHZvaWQqIHB0cikgewogICAgZm9yIChpbnQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7CiAgICAgICAgcHRocmVhZF9tdXRleF9sb2NrKCZsb2NrKTsKICAgICAgICB3aGlsZSAoY291bnQgPT0gQlVGRkVSX1NJWkUpIHsKICAgICAgICAgICAgcHRocmVhZF9jb25kX3dhaXQoJmNvbmQsICZsb2NrKTsKICAgICAgICB9CiAgICAgICAgYnVmZmVyW2NvdW50KytdID0gaTsKICAgICAgICBwcmludGYoIlByb2R1Y2lkbzogJWRcbiIsIGkpOwogICAgICAgIHB0aHJlYWRfY29uZF9zaWduYWwoJmNvbmQpOwogICAgICAgIHB0aHJlYWRfbXV0ZXhfdW5sb2NrKCZsb2NrKTsKICAgIH0KICAgIHJldHVybiBOVUxMOwp9Cgp2b2lkKiBjb25zdW1lcih2b2lkKiBwdHIpIHsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMjA7IGkrKykgewogICAgICAgIHB0aHJlYWRfbXV0ZXhfbG9jaygmbG9jayk7CiAgICAgICAgd2hpbGUgKGNvdW50ID09IDApIHsKICAgICAgICAgICAgcHRocmVhZF9jb25kX3dhaXQoJmNvbmQsICZsb2NrKTsKICAgICAgICB9CiAgICAgICAgaW50IGl0ZW0gPSBidWZmZXJbLS1jb3VudF07CiAgICAgICAgcHJpbnRmKCJDb25zdW1pZG86ICVkXG4iLCBpdGVtKTsKICAgICAgICBwdGhyZWFkX2NvbmRfc2lnbmFsKCZjb25kKTsKICAgICAgICBwdGhyZWFkX211dGV4X3VubG9jaygmbG9jayk7CiAgICB9CiAgICByZXR1cm4gTlVMTDsKfQoKaW50IG1haW4oKSB7CiAgICBwdGhyZWFkX3QgcHJvZCwgY29uczsKCiAgICAvLyBJbmljaWFsaXphciBlbCBtdXRleCB5IGxhIHZhcmlhYmxlIGRlIGNvbmRpY2nDs24KICAgIHB0aHJlYWRfbXV0ZXhfaW5pdCgmbG9jaywgTlVMTCk7CiAgICBwdGhyZWFkX2NvbmRfaW5pdCgmY29uZCwgTlVMTCk7CgogICAgLy8gQ3JlYXIgaGlsb3MKICAgIHB0aHJlYWRfY3JlYXRlKCZwcm9kLCBOVUxMLCBwcm9kdWNlciwgTlVMTCk7CiAgICBwdGhyZWFkX2NyZWF0ZSgmY29ucywgTlVMTCwgY29uc3VtZXIsIE5VTEwpOwoKICAgIC8vIEVzcGVyYXIgYSBxdWUgbG9zIGhpbG9zIHRlcm1pbmVuCiAgICBwdGhyZWFkX2pvaW4ocHJvZCwgTlVMTCk7CiAgICBwdGhyZWFkX2pvaW4oY29ucywgTlVMTCk7CgogICAgLy8gRGVzdHJ1aXIgZWwgbXV0ZXggeSBsYSB2YXJpYWJsZSBkZSBjb25kaWNpw7NuCiAgICBwdGhyZWFkX211dGV4X2Rlc3Ryb3koJmxvY2spOwogICAgcHRocmVhZF9jb25kX2Rlc3Ryb3koJmNvbmQpOwoKICAgIHJldHVybiAwOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;pthread.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#define BUFFER_SIZE 10

int buffer[BUFFER_SIZE];
int count = 0;
pthread_mutex_t lock;
pthread_cond_t cond;

void* producer(void* ptr) {
    for (int i = 0; i &lt; 20; i++) {
        pthread_mutex_lock(&amp;lock);
        while (count == BUFFER_SIZE) {
            pthread_cond_wait(&amp;cond, &amp;lock);
        }
        buffer[count++] = i;
        printf(&quot;Producido: %d\n&quot;, i);
        pthread_cond_signal(&amp;cond);
        pthread_mutex_unlock(&amp;lock);
    }
    return NULL;
}

void* consumer(void* ptr) {
    for (int i = 0; i &lt; 20; i++) {
        pthread_mutex_lock(&amp;lock);
        while (count == 0) {
            pthread_cond_wait(&amp;cond, &amp;lock);
        }
        int item = buffer[--count];
        printf(&quot;Consumido: %d\n&quot;, item);
        pthread_cond_signal(&amp;cond);
        pthread_mutex_unlock(&amp;lock);
    }
    return NULL;
}

int main() {
    pthread_t prod, cons;

    // Inicializar el mutex y la variable de condici&oacute;n
    pthread_mutex_init(&amp;lock, NULL);
    pthread_cond_init(&amp;cond, NULL);

    // Crear hilos
    pthread_create(&amp;prod, NULL, producer, NULL);
    pthread_create(&amp;cons, NULL, consumer, NULL);

    // Esperar a que los hilos terminen
    pthread_join(prod, NULL);
    pthread_join(cons, NULL);

    // Destruir el mutex y la variable de condici&oacute;n
    pthread_mutex_destroy(&amp;lock);
    pthread_cond_destroy(&amp;cond);

    return 0;
}</pre></div><div class='content'></div><h2><ol start="5">
<li>Ejercicios</li>
</ol></h2>
<div class='content'></div><h3>Ejercicio 1: Hilos Concurrentes</h3>
<div class='content'><p><strong>Descripción</strong>: Crea un programa que inicie tres hilos, cada uno de los cuales imprime un mensaje diferente. Asegúrate de que los mensajes se impriman en orden utilizando mutex.</p>
<p><strong>Solución</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHB0aHJlYWQuaD4KI2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCnB0aHJlYWRfbXV0ZXhfdCBsb2NrOwoKdm9pZCogcHJpbnRfbWVzc2FnZSh2b2lkKiBwdHIpIHsKICAgIGNoYXIqIG1lc3NhZ2UgPSAoY2hhciopIHB0cjsKCiAgICBwdGhyZWFkX211dGV4X2xvY2soJmxvY2spOwogICAgcHJpbnRmKCIlc1xuIiwgbWVzc2FnZSk7CiAgICBwdGhyZWFkX211dGV4X3VubG9jaygmbG9jayk7CgogICAgcmV0dXJuIE5VTEw7Cn0KCmludCBtYWluKCkgewogICAgcHRocmVhZF90IHRocmVhZDEsIHRocmVhZDIsIHRocmVhZDM7CiAgICBjb25zdCBjaGFyKiBtZXNzYWdlMSA9ICJNZW5zYWplIDEiOwogICAgY29uc3QgY2hhciogbWVzc2FnZTIgPSAiTWVuc2FqZSAyIjsKICAgIGNvbnN0IGNoYXIqIG1lc3NhZ2UzID0gIk1lbnNhamUgMyI7CgogICAgLy8gSW5pY2lhbGl6YXIgZWwgbXV0ZXgKICAgIHB0aHJlYWRfbXV0ZXhfaW5pdCgmbG9jaywgTlVMTCk7CgogICAgLy8gQ3JlYXIgaGlsb3MKICAgIHB0aHJlYWRfY3JlYXRlKCZ0aHJlYWQxLCBOVUxMLCBwcmludF9tZXNzYWdlLCAodm9pZCopIG1lc3NhZ2UxKTsKICAgIHB0aHJlYWRfY3JlYXRlKCZ0aHJlYWQyLCBOVUxMLCBwcmludF9tZXNzYWdlLCAodm9pZCopIG1lc3NhZ2UyKTsKICAgIHB0aHJlYWRfY3JlYXRlKCZ0aHJlYWQzLCBOVUxMLCBwcmludF9tZXNzYWdlLCAodm9pZCopIG1lc3NhZ2UzKTsKCiAgICAvLyBFc3BlcmFyIGEgcXVlIGxvcyBoaWxvcyB0ZXJtaW5lbgogICAgcHRocmVhZF9qb2luKHRocmVhZDEsIE5VTEwpOwogICAgcHRocmVhZF9qb2luKHRocmVhZDIsIE5VTEwpOwogICAgcHRocmVhZF9qb2luKHRocmVhZDMsIE5VTEwpOwoKICAgIC8vIERlc3RydWlyIGVsIG11dGV4CiAgICBwdGhyZWFkX211dGV4X2Rlc3Ryb3koJmxvY2spOwoKICAgIHJldHVybiAwOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;pthread.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

pthread_mutex_t lock;

void* print_message(void* ptr) {
    char* message = (char*) ptr;

    pthread_mutex_lock(&amp;lock);
    printf(&quot;%s\n&quot;, message);
    pthread_mutex_unlock(&amp;lock);

    return NULL;
}

int main() {
    pthread_t thread1, thread2, thread3;
    const char* message1 = &quot;Mensaje 1&quot;;
    const char* message2 = &quot;Mensaje 2&quot;;
    const char* message3 = &quot;Mensaje 3&quot;;

    // Inicializar el mutex
    pthread_mutex_init(&amp;lock, NULL);

    // Crear hilos
    pthread_create(&amp;thread1, NULL, print_message, (void*) message1);
    pthread_create(&amp;thread2, NULL, print_message, (void*) message2);
    pthread_create(&amp;thread3, NULL, print_message, (void*) message3);

    // Esperar a que los hilos terminen
    pthread_join(thread1, NULL);
    pthread_join(thread2, NULL);
    pthread_join(thread3, NULL);

    // Destruir el mutex
    pthread_mutex_destroy(&amp;lock);

    return 0;
}</pre></div><div class='content'></div><h3>Ejercicio 2: Productor-Consumidor con Múltiples Productores y Consumidores</h3>
<div class='content'><p><strong>Descripción</strong>: Modifica el ejemplo del productor-consumidor para que haya dos productores y dos consumidores.</p>
<p><strong>Solución</strong>:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHB0aHJlYWQuaD4KI2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCiNkZWZpbmUgQlVGRkVSX1NJWkUgMTAKCmludCBidWZmZXJbQlVGRkVSX1NJWkVdOwppbnQgY291bnQgPSAwOwpwdGhyZWFkX211dGV4X3QgbG9jazsKcHRocmVhZF9jb25kX3QgY29uZDsKCnZvaWQqIHByb2R1Y2VyKHZvaWQqIHB0cikgewogICAgZm9yIChpbnQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7CiAgICAgICAgcHRocmVhZF9tdXRleF9sb2NrKCZsb2NrKTsKICAgICAgICB3aGlsZSAoY291bnQgPT0gQlVGRkVSX1NJWkUpIHsKICAgICAgICAgICAgcHRocmVhZF9jb25kX3dhaXQoJmNvbmQsICZsb2NrKTsKICAgICAgICB9CiAgICAgICAgYnVmZmVyW2NvdW50KytdID0gaTsKICAgICAgICBwcmludGYoIlByb2R1Y2lkbzogJWRcbiIsIGkpOwogICAgICAgIHB0aHJlYWRfY29uZF9zaWduYWwoJmNvbmQpOwogICAgICAgIHB0aHJlYWRfbXV0ZXhfdW5sb2NrKCZsb2NrKTsKICAgIH0KICAgIHJldHVybiBOVUxMOwp9Cgp2b2lkKiBjb25zdW1lcih2b2lkKiBwdHIpIHsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMjA7IGkrKykgewogICAgICAgIHB0aHJlYWRfbXV0ZXhfbG9jaygmbG9jayk7CiAgICAgICAgd2hpbGUgKGNvdW50ID09IDApIHsKICAgICAgICAgICAgcHRocmVhZF9jb25kX3dhaXQoJmNvbmQsICZsb2NrKTsKICAgICAgICB9CiAgICAgICAgaW50IGl0ZW0gPSBidWZmZXJbLS1jb3VudF07CiAgICAgICAgcHJpbnRmKCJDb25zdW1pZG86ICVkXG4iLCBpdGVtKTsKICAgICAgICBwdGhyZWFkX2NvbmRfc2lnbmFsKCZjb25kKTsKICAgICAgICBwdGhyZWFkX211dGV4X3VubG9jaygmbG9jayk7CiAgICB9CiAgICByZXR1cm4gTlVMTDsKfQoKaW50IG1haW4oKSB7CiAgICBwdGhyZWFkX3QgcHJvZDEsIHByb2QyLCBjb25zMSwgY29uczI7CgogICAgLy8gSW5pY2lhbGl6YXIgZWwgbXV0ZXggeSBsYSB2YXJpYWJsZSBkZSBjb25kaWNpw7NuCiAgICBwdGhyZWFkX211dGV4X2luaXQoJmxvY2ssIE5VTEwpOwogICAgcHRocmVhZF9jb25kX2luaXQoJmNvbmQsIE5VTEwpOwoKICAgIC8vIENyZWFyIGhpbG9zCiAgICBwdGhyZWFkX2NyZWF0ZSgmcHJvZDEsIE5VTEwsIHByb2R1Y2VyLCBOVUxMKTsKICAgIHB0aHJlYWRfY3JlYXRlKCZwcm9kMiwgTlVMTCwgcHJvZHVjZXIsIE5VTEwpOwogICAgcHRocmVhZF9jcmVhdGUoJmNvbnMxLCBOVUxMLCBjb25zdW1lciwgTlVMTCk7CiAgICBwdGhyZWFkX2NyZWF0ZSgmY29uczIsIE5VTEwsIGNvbnN1bWVyLCBOVUxMKTsKCiAgICAvLyBFc3BlcmFyIGEgcXVlIGxvcyBoaWxvcyB0ZXJtaW5lbgogICAgcHRocmVhZF9qb2luKHByb2QxLCBOVUxMKTsKICAgIHB0aHJlYWRfam9pbihwcm9kMiwgTlVMTCk7CiAgICBwdGhyZWFkX2pvaW4oY29uczEsIE5VTEwpOwogICAgcHRocmVhZF9qb2luKGNvbnMyLCBOVUxMKTsKCiAgICAvLyBEZXN0cnVpciBlbCBtdXRleCB5IGxhIHZhcmlhYmxlIGRlIGNvbmRpY2nDs24KICAgIHB0aHJlYWRfbXV0ZXhfZGVzdHJveSgmbG9jayk7CiAgICBwdGhyZWFkX2NvbmRfZGVzdHJveSgmY29uZCk7CgogICAgcmV0dXJuIDA7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;pthread.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#define BUFFER_SIZE 10

int buffer[BUFFER_SIZE];
int count = 0;
pthread_mutex_t lock;
pthread_cond_t cond;

void* producer(void* ptr) {
    for (int i = 0; i &lt; 20; i++) {
        pthread_mutex_lock(&amp;lock);
        while (count == BUFFER_SIZE) {
            pthread_cond_wait(&amp;cond, &amp;lock);
        }
        buffer[count++] = i;
        printf(&quot;Producido: %d\n&quot;, i);
        pthread_cond_signal(&amp;cond);
        pthread_mutex_unlock(&amp;lock);
    }
    return NULL;
}

void* consumer(void* ptr) {
    for (int i = 0; i &lt; 20; i++) {
        pthread_mutex_lock(&amp;lock);
        while (count == 0) {
            pthread_cond_wait(&amp;cond, &amp;lock);
        }
        int item = buffer[--count];
        printf(&quot;Consumido: %d\n&quot;, item);
        pthread_cond_signal(&amp;cond);
        pthread_mutex_unlock(&amp;lock);
    }
    return NULL;
}

int main() {
    pthread_t prod1, prod2, cons1, cons2;

    // Inicializar el mutex y la variable de condici&oacute;n
    pthread_mutex_init(&amp;lock, NULL);
    pthread_cond_init(&amp;cond, NULL);

    // Crear hilos
    pthread_create(&amp;prod1, NULL, producer, NULL);
    pthread_create(&amp;prod2, NULL, producer, NULL);
    pthread_create(&amp;cons1, NULL, consumer, NULL);
    pthread_create(&amp;cons2, NULL, consumer, NULL);

    // Esperar a que los hilos terminen
    pthread_join(prod1, NULL);
    pthread_join(prod2, NULL);
    pthread_join(cons1, NULL);
    pthread_join(cons2, NULL);

    // Destruir el mutex y la variable de condici&oacute;n
    pthread_mutex_destroy(&amp;lock);
    pthread_cond_destroy(&amp;cond);

    return 0;
}</pre></div><div class='content'></div><h2>Conclusión</h2>
<div class='content'><p>En esta sección, hemos aprendido los conceptos básicos del multihilo en C utilizando la biblioteca POSIX Threads (pthreads). Hemos cubierto la creación de hilos, la sincronización utilizando mutex y variables de condición, y hemos visto ejemplos prácticos y ejercicios para reforzar los conceptos. El multihilo es una herramienta poderosa que, cuando se usa correctamente, puede mejorar significativamente el rendimiento y la eficiencia de las aplicaciones.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='10-03-variable-argument-lists' title="Listas de Argumentos Variables" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='10-03-variable-argument-lists' title="Listas de Argumentos Variables" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='11-01-code-readability-and-documentation' title="Legibilidad del Código y Documentación" class="py-2 px-3 btn btn-primary"
				data-read-mod="c" data-read-unit="10-4">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='11-01-code-readability-and-documentation' title="Legibilidad del Código y Documentación" class="py-2 px-3 btn btn-primary" 
				data-read-mod="c" data-read-unit="10-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curso de Programación en C</h1>
<h2>Módulo 1: Introducción a C</h2>
<ul>
<li><a href="01-01-introduction-to-programming">Introducción a la Programación</a></li>
<li><a href="01-02-setting-up-development-environment">Configuración del Entorno de Desarrollo</a></li>
<li><a href="01-03-hello-world-program">Programa Hola Mundo</a></li>
<li><a href="01-04-basic-syntax-and-structure">Sintaxis y Estructura Básica</a></li>
</ul>
<h2>Módulo 2: Tipos de Datos y Variables</h2>
<ul>
<li><a href="02-01-data-types-in-c">Tipos de Datos en C</a></li>
<li><a href="02-02-variables-and-constants">Variables y Constantes</a></li>
<li><a href="02-03-operators-in-c">Operadores en C</a></li>
<li><a href="02-04-type-conversion">Conversión de Tipos</a></li>
</ul>
<h2>Módulo 3: Flujo de Control</h2>
<ul>
<li><a href="03-01-conditional-statements">Sentencias Condicionales</a></li>
<li><a href="03-02-loops-in-c">Bucles en C</a></li>
<li><a href="03-03-switch-case">Caso Switch</a></li>
<li><a href="03-04-break-and-continue">Break y Continue</a></li>
</ul>
<h2>Módulo 4: Funciones</h2>
<ul>
<li><a href="04-01-introduction-to-functions">Introducción a las Funciones</a></li>
<li><a href="04-02-function-arguments-and-return-values">Argumentos de Función y Valores de Retorno</a></li>
<li><a href="04-03-scope-and-lifetime-of-variables">Ámbito y Vida de las Variables</a></li>
<li><a href="04-04-recursive-functions">Funciones Recursivas</a></li>
</ul>
<h2>Módulo 5: Arreglos y Cadenas</h2>
<ul>
<li><a href="05-01-introduction-to-arrays">Introducción a los Arreglos</a></li>
<li><a href="05-02-multidimensional-arrays">Arreglos Multidimensionales</a></li>
<li><a href="05-03-string-handling">Manejo de Cadenas</a></li>
<li><a href="05-04-array-and-string-functions">Funciones de Arreglos y Cadenas</a></li>
</ul>
<h2>Módulo 6: Punteros</h2>
<ul>
<li><a href="06-01-introduction-to-pointers">Introducción a los Punteros</a></li>
<li><a href="06-02-pointer-arithmetic">Aritmética de Punteros</a></li>
<li><a href="06-03-pointers-and-arrays">Punteros y Arreglos</a></li>
<li><a href="06-04-pointers-to-pointers">Punteros a Punteros</a></li>
</ul>
<h2>Módulo 7: Estructuras y Uniones</h2>
<ul>
<li><a href="07-01-introduction-to-structures">Introducción a las Estructuras</a></li>
<li><a href="07-02-nested-structures">Estructuras Anidadas</a></li>
<li><a href="07-03-unions-in-c">Uniones en C</a></li>
<li><a href="07-04-bit-fields">Campos de Bits</a></li>
</ul>
<h2>Módulo 8: Asignación Dinámica de Memoria</h2>
<ul>
<li><a href="08-01-memory-management-functions">Funciones de Gestión de Memoria</a></li>
<li><a href="08-02-malloc-and-free">Malloc y Free</a></li>
<li><a href="08-03-calloc-and-realloc">Calloc y Realloc</a></li>
<li><a href="08-04-memory-leaks-and-debugging">Fugas de Memoria y Depuración</a></li>
</ul>
<h2>Módulo 9: Manejo de Archivos</h2>
<ul>
<li><a href="09-01-introduction-to-file-handling">Introducción al Manejo de Archivos</a></li>
<li><a href="09-02-reading-and-writing-files">Lectura y Escritura de Archivos</a></li>
<li><a href="09-03-file-positioning">Posicionamiento de Archivos</a></li>
<li><a href="09-04-error-handling-in-file-operations">Manejo de Errores en Operaciones de Archivos</a></li>
</ul>
<h2>Módulo 10: Temas Avanzados</h2>
<ul>
<li><a href="10-01-preprocessor-directives">Directivas del Preprocesador</a></li>
<li><a href="10-02-command-line-arguments">Argumentos de Línea de Comandos</a></li>
<li><a href="10-03-variable-argument-lists">Listas de Argumentos Variables</a></li>
<li><a href="10-04-multithreading-in-c">Multihilo en C</a></li>
</ul>
<h2>Módulo 11: Mejores Prácticas y Optimización</h2>
<ul>
<li><a href="11-01-code-readability-and-documentation">Legibilidad del Código y Documentación</a></li>
<li><a href="11-02-debugging-techniques">Técnicas de Depuración</a></li>
<li><a href="11-03-performance-optimization">Optimización del Rendimiento</a></li>
<li><a href="11-04-security-considerations">Consideraciones de Seguridad</a></li>
</ul>
<h2>Módulo 12: Proyecto y Evaluación Final</h2>
<ul>
<li><a href="12-01-project-guidelines">Directrices del Proyecto</a></li>
<li><a href="12-02-project-implementation">Implementación del Proyecto</a></li>
<li><a href="12-03-code-review-and-feedback">Revisión de Código y Retroalimentación</a></li>
<li><a href="12-04-final-assessment">Evaluación Final</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objetivo" rel="nofollow">El Proyecto</a> | 
<a href="/acerca-de" rel="nofollow">Sobre nosotros</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donaciones</a> | 
<a href="/licencia" rel="nofollow">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuario no autenticado</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
