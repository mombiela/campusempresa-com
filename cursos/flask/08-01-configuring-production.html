<!DOCTYPE html>
<html lang="es">
<head>
    <title> Configuración de Flask para Producción </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/flask/08-01-configuring-production" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/flask/08-01-configuring-production" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/flask/08-01-configuring-production" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "es";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "flask";
  		var TEMA_NAME = "8-1";
  		var TYPE = "mod";
  		var PATH = "mod/flask/08-01-configuring-production";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.8d8afe898f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo_header.png" alt="Logo Campus Empresa"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/courses/flask/08-01-configuring-production" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/cursos/flask/08-01-configuring-production" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Todo el conocimiento a tu alcance</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objetivo" rel="nofollow">El Proyecto</a> | 
<a href="/acerca-de" rel="nofollow">Sobre nosotros</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donaciones</a> | 
<a href="/licencia" rel="nofollow">Licencia</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/mis-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Mis cursos</b></i>
</a>
<a href="/cursos-finalizados" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalizados             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="flask">
		<a  href="#" class="text-secondary d-none" data-read-mod="flask" data-read-unit="8-1" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar como leído
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="flask" data-unread-unit="8-1" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar como no leído
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contenido del curso
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='07-04-authentication-apis' title="Autenticación para APIs" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='07-04-authentication-apis' title="Autenticación para APIs" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Configuración de Flask para Producción</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='08-02-deploying-heroku' title="Despliegue en Heroku" class="py-2 px-3 btn btn-primary"
				data-read-mod="flask" data-read-unit="8-1">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='08-02-deploying-heroku' title="Despliegue en Heroku" class="py-2 px-3 btn btn-primary" 
				data-read-mod="flask" data-read-unit="8-1">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>En este módulo, aprenderemos cómo configurar una aplicación Flask para su despliegue en un entorno de producción. A diferencia del entorno de desarrollo, el entorno de producción requiere configuraciones adicionales para garantizar la seguridad, el rendimiento y la estabilidad de la aplicación.</p>
</div><h2>Objetivos del Módulo</h2>
<div class='content'><ul>
<li>Entender las diferencias entre los entornos de desarrollo y producción.</li>
<li>Configurar variables de entorno y archivos de configuración.</li>
<li>Implementar servidores WSGI para servir aplicaciones Flask.</li>
<li>Configurar el manejo de errores y el registro de logs.</li>
</ul>
</div><h2><ol>
<li>Diferencias entre Desarrollo y Producción</li>
</ol></h2>
<div class='content'></div><h3>Entorno de Desarrollo</h3>
<div class='content'><ul>
<li><strong>Depuración Activa</strong>: La depuración está habilitada para facilitar la identificación de errores.</li>
<li><strong>Recarga Automática</strong>: Los cambios en el código se reflejan inmediatamente sin necesidad de reiniciar el servidor.</li>
<li><strong>Seguridad Relajada</strong>: Menos restricciones de seguridad para facilitar el desarrollo.</li>
</ul>
</div><h3>Entorno de Producción</h3>
<div class='content'><ul>
<li><strong>Depuración Deshabilitada</strong>: La depuración está deshabilitada para evitar la exposición de información sensible.</li>
<li><strong>Rendimiento Optimizado</strong>: Configuraciones optimizadas para manejar múltiples solicitudes simultáneamente.</li>
<li><strong>Seguridad Mejorada</strong>: Configuraciones de seguridad estrictas para proteger la aplicación y los datos de los usuarios.</li>
</ul>
</div><h2><ol start="2">
<li>Configuración de Variables de Entorno</li>
</ol></h2>
<div class='content'><p>Las variables de entorno son esenciales para mantener la configuración sensible fuera del código fuente. Flask puede leer estas variables para configurar la aplicación.</p>
</div><h3>Ejemplo de Variables de Entorno</h3>
<div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwb3J0IEZMQVNLX0VOVj1wcm9kdWN0aW9uCmV4cG9ydCBTRUNSRVRfS0VZPSd5b3VyLXNlY3JldC1rZXknCmV4cG9ydCBEQVRBQkFTRV9VUkw9J3Bvc3RncmVzcWw6Ly91c2VyOnBhc3N3b3JkQGxvY2FsaG9zdC9kYm5hbWUn"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>export FLASK_ENV=production
export SECRET_KEY='your-secret-key'
export DATABASE_URL='postgresql://user:password@localhost/dbname'</pre></div><div class='content'></div><h3>Configuración en Flask</h3>
<div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9zCmZyb20gZmxhc2sgaW1wb3J0IEZsYXNrCgphcHAgPSBGbGFzayhfX25hbWVfXykKYXBwLmNvbmZpZ1snRU5WJ10gPSBvcy5nZXRlbnYoJ0ZMQVNLX0VOVicsICdwcm9kdWN0aW9uJykKYXBwLmNvbmZpZ1snU0VDUkVUX0tFWSddID0gb3MuZ2V0ZW52KCdTRUNSRVRfS0VZJywgJ2RlZmF1bHQtc2VjcmV0LWtleScpCmFwcC5jb25maWdbJ1NRTEFMQ0hFTVlfREFUQUJBU0VfVVJJJ10gPSBvcy5nZXRlbnYoJ0RBVEFCQVNFX1VSTCcsICdzcWxpdGU6Ly8vZGVmYXVsdC5kYicp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import os
from flask import Flask

app = Flask(__name__)
app.config['ENV'] = os.getenv('FLASK_ENV', 'production')
app.config['SECRET_KEY'] = os.getenv('SECRET_KEY', 'default-secret-key')
app.config['SQLALCHEMY_DATABASE_URI'] = os.getenv('DATABASE_URL', 'sqlite:///default.db')</pre></div><div class='content'></div><h2><ol start="3">
<li>Uso de Servidores WSGI</li>
</ol></h2>
<div class='content'><p>Flask incluye un servidor de desarrollo que no es adecuado para producción. En producción, se recomienda usar un servidor WSGI como Gunicorn o uWSGI.</p>
</div><h3>Instalación de Gunicorn</h3>
<div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgZ3VuaWNvcm4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install gunicorn</pre></div><div class='content'></div><h3>Ejecutar la Aplicación con Gunicorn</h3>
<div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z3VuaWNvcm4gLXcgNCAtYiAwLjAuMC4wOjgwMDAgbXlhcHA6YXBw"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gunicorn -w 4 -b 0.0.0.0:8000 myapp:app</pre></div><div class='content'><ul>
<li><code>-w 4</code>: Número de trabajadores.</li>
<li><code>-b 0.0.0.0:8000</code>: Dirección y puerto de enlace.</li>
</ul>
</div><h2><ol start="4">
<li>Configuración de Manejo de Errores</li>
</ol></h2>
<div class='content'><p>En producción, es crucial manejar los errores de manera adecuada para no exponer información sensible.</p>
</div><h3>Ejemplo de Manejo de Errores</h3>
<div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlbmRlcl90ZW1wbGF0ZQoKYXBwID0gRmxhc2soX19uYW1lX18pCgpAYXBwLmVycm9yaGFuZGxlcig0MDQpCmRlZiBub3RfZm91bmRfZXJyb3IoZXJyb3IpOgogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgnNDA0Lmh0bWwnKSwgNDA0CgpAYXBwLmVycm9yaGFuZGxlcig1MDApCmRlZiBpbnRlcm5hbF9lcnJvcihlcnJvcik6CiAgICByZXR1cm4gcmVuZGVyX3RlbXBsYXRlKCc1MDAuaHRtbCcpLCA1MDA="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, render_template

app = Flask(__name__)

@app.errorhandler(404)
def not_found_error(error):
    return render_template('404.html'), 404

@app.errorhandler(500)
def internal_error(error):
    return render_template('500.html'), 500</pre></div><div class='content'></div><h2><ol start="5">
<li>Registro de Logs</li>
</ol></h2>
<div class='content'><p>El registro de logs es vital para monitorear la aplicación y diagnosticar problemas.</p>
</div><h3>Configuración de Logs</h3>
<div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGxvZ2dpbmcKZnJvbSBsb2dnaW5nLmhhbmRsZXJzIGltcG9ydCBSb3RhdGluZ0ZpbGVIYW5kbGVyCgppZiBub3QgYXBwLmRlYnVnOgogICAgZmlsZV9oYW5kbGVyID0gUm90YXRpbmdGaWxlSGFuZGxlcignbG9ncy9teWFwcC5sb2cnLCBtYXhCeXRlcz0xMDI0MCwgYmFja3VwQ291bnQ9MTApCiAgICBmaWxlX2hhbmRsZXIuc2V0Rm9ybWF0dGVyKGxvZ2dpbmcuRm9ybWF0dGVyKAogICAgICAgICclKGFzY3RpbWUpcyAlKGxldmVsbmFtZSlzOiAlKG1lc3NhZ2UpcyBbaW4gJShwYXRobmFtZSlzOiUobGluZW5vKWRdJwogICAgKSkKICAgIGZpbGVfaGFuZGxlci5zZXRMZXZlbChsb2dnaW5nLklORk8pCiAgICBhcHAubG9nZ2VyLmFkZEhhbmRsZXIoZmlsZV9oYW5kbGVyKQoKICAgIGFwcC5sb2dnZXIuc2V0TGV2ZWwobG9nZ2luZy5JTkZPKQogICAgYXBwLmxvZ2dlci5pbmZvKCdNeUFwcCBzdGFydHVwJyk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import logging
from logging.handlers import RotatingFileHandler

if not app.debug:
    file_handler = RotatingFileHandler('logs/myapp.log', maxBytes=10240, backupCount=10)
    file_handler.setFormatter(logging.Formatter(
        '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'
    ))
    file_handler.setLevel(logging.INFO)
    app.logger.addHandler(file_handler)

    app.logger.setLevel(logging.INFO)
    app.logger.info('MyApp startup')</pre></div><div class='content'></div><h2>Resumen</h2>
<div class='content'><p>En esta sección, hemos cubierto los pasos esenciales para configurar una aplicación Flask para su despliegue en un entorno de producción. Hemos aprendido sobre la importancia de las variables de entorno, el uso de servidores WSGI como Gunicorn, el manejo adecuado de errores y la configuración de registros de logs. Estos pasos son fundamentales para asegurar que tu aplicación sea segura, eficiente y estable en un entorno de producción.</p>
<p>En el próximo tema, abordaremos el despliegue de una aplicación Flask en Heroku, un popular servicio de plataforma como servicio (PaaS).</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='07-04-authentication-apis' title="Autenticación para APIs" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='07-04-authentication-apis' title="Autenticación para APIs" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='08-02-deploying-heroku' title="Despliegue en Heroku" class="py-2 px-3 btn btn-primary"
				data-read-mod="flask" data-read-unit="8-1">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='08-02-deploying-heroku' title="Despliegue en Heroku" class="py-2 px-3 btn btn-primary" 
				data-read-mod="flask" data-read-unit="8-1">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curso de Desarrollo Web con Flask</h1>
<h2>Módulo 1: Introducción a Flask</h2>
<ul>
<li><a href="01-01-what-is-flask">¿Qué es Flask?</a></li>
<li><a href="01-02-setting-up-environment">Configuración de tu Entorno de Desarrollo</a></li>
<li><a href="01-03-first-flask-app">Creando tu Primera Aplicación Flask</a></li>
<li><a href="01-04-flask-app-structure">Entendiendo la Estructura de una Aplicación Flask</a></li>
</ul>
<h2>Módulo 2: Conceptos Básicos de Flask</h2>
<ul>
<li><a href="02-01-routing-url-mapping">Enrutamiento y Mapeo de URLs</a></li>
<li><a href="02-02-handling-http-methods">Manejo de Métodos HTTP</a></li>
<li><a href="02-03-rendering-templates">Renderizando Plantillas con Jinja2</a></li>
<li><a href="02-04-static-files">Trabajando con Archivos Estáticos</a></li>
</ul>
<h2>Módulo 3: Formularios y Entrada de Usuario</h2>
<ul>
<li><a href="03-01-creating-handling-forms">Creación y Manejo de Formularios</a></li>
<li><a href="03-02-form-validation-wtforms">Validación de Formularios con WTForms</a></li>
<li><a href="03-03-file-uploads">Carga de Archivos</a></li>
</ul>
<h2>Módulo 4: Integración de Bases de Datos</h2>
<ul>
<li><a href="04-01-intro-flask-sqlalchemy">Introducción a Flask-SQLAlchemy</a></li>
<li><a href="04-02-defining-models">Definiendo Modelos</a></li>
<li><a href="04-03-crud-operations">Realizando Operaciones CRUD</a></li>
<li><a href="04-04-database-migrations">Migraciones de Base de Datos con Flask-Migrate</a></li>
</ul>
<h2>Módulo 5: Autenticación de Usuarios</h2>
<ul>
<li><a href="05-01-user-registration">Registro de Usuarios</a></li>
<li><a href="05-02-user-login-logout">Inicio y Cierre de Sesión de Usuarios</a></li>
<li><a href="05-03-password-hashing">Hashing de Contraseñas</a></li>
<li><a href="05-04-user-session-management">Gestión de Sesiones de Usuario</a></li>
</ul>
<h2>Módulo 6: Conceptos Avanzados de Flask</h2>
<ul>
<li><a href="06-01-blueprints">Blueprints para Aplicaciones Grandes</a></li>
<li><a href="06-02-error-handling">Manejo de Errores</a></li>
<li><a href="06-03-custom-error-pages">Páginas de Error Personalizadas</a></li>
<li><a href="06-04-logging-debugging">Registro y Depuración</a></li>
</ul>
<h2>Módulo 7: APIs RESTful con Flask</h2>
<ul>
<li><a href="07-01-intro-restful-apis">Introducción a las APIs RESTful</a></li>
<li><a href="07-02-creating-restful-endpoints">Creación de Endpoints RESTful</a></li>
<li><a href="07-03-handling-json-data">Manejo de Datos JSON</a></li>
<li><a href="07-04-authentication-apis">Autenticación para APIs</a></li>
</ul>
<h2>Módulo 8: Despliegue y Producción</h2>
<ul>
<li><a href="08-01-configuring-production">Configuración de Flask para Producción</a></li>
<li><a href="08-02-deploying-heroku">Despliegue en Heroku</a></li>
<li><a href="08-03-deploying-aws">Despliegue en AWS</a></li>
<li><a href="08-04-monitoring-performance">Monitoreo y Optimización del Rendimiento</a></li>
</ul>
<h2>Módulo 9: Pruebas y Mejores Prácticas</h2>
<ul>
<li><a href="09-01-unit-testing">Pruebas Unitarias con Flask</a></li>
<li><a href="09-02-integration-testing">Pruebas de Integración</a></li>
<li><a href="09-03-test-coverage">Cobertura de Pruebas</a></li>
<li><a href="09-04-best-practices">Mejores Prácticas para el Desarrollo con Flask</a></li>
</ul>
<h2>Módulo 10: Extensiones y Ecosistema de Flask</h2>
<ul>
<li><a href="10-01-popular-extensions">Extensiones Populares de Flask</a></li>
<li><a href="10-02-flask-mail">Uso de Flask-Mail para Correos Electrónicos</a></li>
<li><a href="10-03-flask-admin">Uso de Flask-Admin para Interfaces de Administración</a></li>
<li><a href="10-04-flask-socketio">Uso de Flask-SocketIO para WebSockets</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objetivo" rel="nofollow">El Proyecto</a> | 
<a href="/acerca-de" rel="nofollow">Sobre nosotros</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donaciones</a> | 
<a href="/licencia" rel="nofollow">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuario no autenticado</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
