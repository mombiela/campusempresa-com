<!DOCTYPE html>
<html lang="es">
<head>
    <title> Escribiendo Pixel Shaders </title>
        
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    
    <link rel="alternate" href="https://campusempresa.com/cursos/direct-x/03-03-writing-pixel-shaders" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/cursos/direct-x/03-03-writing-pixel-shaders" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/courses/direct-x/03-03-writing-pixel-shaders" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.1ab297bfa4.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "es";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "direct_x";
  		var TEMA_NAME = "3-3";
  		var TYPE = "mod";
  		var PATH = "mod/direct_x/03-03-writing-pixel-shaders";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.8d8afe898f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>
	  	
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VVPMPJSR3P"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());	
	  gtag('config', 'G-VVPMPJSR3P');
	</script>
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<a href="/"><img src="/img/logo_header.png" alt="Logo Campus Empresa"></a>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/courses/direct-x/03-03-writing-pixel-shaders" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/cursos/direct-x/03-03-writing-pixel-shaders" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Todo el conocimiento a tu alcance</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objetivo" rel="nofollow">El Proyecto</a> | 
<a href="/acerca-de" rel="nofollow">Sobre nosotros</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donaciones</a> | 
<a href="/licencia" rel="nofollow">Licencia</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/mis-cursos" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Mis cursos</b></i>
</a>
<a href="/cursos-finalizados" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalizados             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="direct_x">
		<a  href="#" class="text-secondary d-none" data-read-mod="direct_x" data-read-unit="3-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar como leído
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="direct_x" data-unread-unit="3-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar como no leído
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contenido del curso
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-02-writing-vertex-shaders' title="Escribiendo Vertex Shaders" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-02-writing-vertex-shaders' title="Escribiendo Vertex Shaders" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h1 style="text-decoration:underline">Escribiendo Pixel Shaders</h1>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-04-compiling-using-shaders' title="Compilando y Usando Shaders" class="py-2 px-3 btn btn-primary"
				data-read-mod="direct_x" data-read-unit="3-3">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-04-compiling-using-shaders' title="Compilando y Usando Shaders" class="py-2 px-3 btn btn-primary" 
				data-read-mod="direct_x" data-read-unit="3-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h2>Introducción</h2>
<div class='content'><p>Los Pixel Shaders, también conocidos como Fragment Shaders, son programas que se ejecutan en cada píxel de una imagen renderizada. Su principal función es determinar el color final de cada píxel, permitiendo efectos visuales avanzados como iluminación, sombras, texturas y más. En este tema, aprenderemos a escribir y utilizar Pixel Shaders en DirectX.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ol>
<li><strong>Pixel Shader</strong>: Un programa que se ejecuta en la GPU para calcular el color de cada píxel.</li>
<li><strong>HLSL (High-Level Shader Language)</strong>: El lenguaje de programación utilizado para escribir shaders en DirectX.</li>
<li><strong>Entrada y Salida del Shader</strong>: Los datos que recibe y produce el shader.</li>
<li><strong>Compilación del Shader</strong>: El proceso de convertir el código HLSL en un formato que la GPU pueda ejecutar.</li>
</ol>
</div><h2>Estructura de un Pixel Shader</h2>
<div class='content'><p>Un Pixel Shader en HLSL tiene una estructura básica que incluye la declaración de entradas, el cuerpo del shader y la salida. A continuación, se muestra un ejemplo simple:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXN0cnVjdHVyYSBkZSBlbnRyYWRhIGRlbCBQaXhlbCBTaGFkZXIKc3RydWN0IFBTSW5wdXQgewogICAgZmxvYXQ0IHBvc2l0aW9uIDogU1ZfUE9TSVRJT047CiAgICBmbG9hdDQgY29sb3IgOiBDT0xPUjsKfTsKCi8vIFBpeGVsIFNoYWRlcgpmbG9hdDQgbWFpbihQU0lucHV0IGlucHV0KSA6IFNWX1RBUkdFVCB7CiAgICByZXR1cm4gaW5wdXQuY29sb3I7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Estructura de entrada del Pixel Shader
struct PSInput {
    float4 position : SV_POSITION;
    float4 color : COLOR;
};

// Pixel Shader
float4 main(PSInput input) : SV_TARGET {
    return input.color;
}</pre></div><div class='content'></div><h3>Explicación del Código</h3>
<div class='content'><ul>
<li><strong>PSInput</strong>: Una estructura que define las entradas del Pixel Shader. En este caso, incluye la posición y el color del píxel.</li>
<li><strong>main</strong>: La función principal del Pixel Shader. Recibe un <code>PSInput</code> y devuelve un <code>float4</code> que representa el color del píxel.</li>
<li><strong>SV_POSITION</strong> y <strong>COLOR</strong>: Semánticas que indican el propósito de los datos. <code>SV_POSITION</code> es la posición del píxel en la pantalla, y <code>COLOR</code> es el color del píxel.</li>
<li><strong>SV_TARGET</strong>: La semántica de salida que indica que el valor devuelto es el color final del píxel.</li>
</ul>
</div><h2>Ejemplo Práctico: Aplicando una Textura</h2>
<div class='content'><p>Vamos a escribir un Pixel Shader que aplica una textura a un objeto. Primero, necesitamos una estructura de entrada que incluya las coordenadas de la textura:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXN0cnVjdHVyYSBkZSBlbnRyYWRhIGRlbCBQaXhlbCBTaGFkZXIKc3RydWN0IFBTSW5wdXQgewogICAgZmxvYXQ0IHBvc2l0aW9uIDogU1ZfUE9TSVRJT047CiAgICBmbG9hdDIgdGV4Q29vcmQgOiBURVhDT09SRDA7Cn07CgovLyBUZXh0dXJhIHkgc2FtcGxlcgpUZXh0dXJlMkQgdGV4dHVyZTAgOiByZWdpc3Rlcih0MCk7ClNhbXBsZXJTdGF0ZSBzYW1wbGVyMCA6IHJlZ2lzdGVyKHMwKTsKCi8vIFBpeGVsIFNoYWRlcgpmbG9hdDQgbWFpbihQU0lucHV0IGlucHV0KSA6IFNWX1RBUkdFVCB7CiAgICByZXR1cm4gdGV4dHVyZTAuU2FtcGxlKHNhbXBsZXIwLCBpbnB1dC50ZXhDb29yZCk7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Estructura de entrada del Pixel Shader
struct PSInput {
    float4 position : SV_POSITION;
    float2 texCoord : TEXCOORD0;
};

// Textura y sampler
Texture2D texture0 : register(t0);
SamplerState sampler0 : register(s0);

// Pixel Shader
float4 main(PSInput input) : SV_TARGET {
    return texture0.Sample(sampler0, input.texCoord);
}</pre></div><div class='content'></div><h3>Explicación del Código</h3>
<div class='content'><ul>
<li><strong>texCoord</strong>: Coordenadas de la textura que se utilizan para mapear la textura al objeto.</li>
<li><strong>Texture2D</strong> y <strong>SamplerState</strong>: Objetos que representan la textura y el sampler, respectivamente. <code>register(t0)</code> y <code>register(s0)</code> indican los registros donde se almacenan.</li>
<li><strong>texture0.Sample</strong>: Función que toma el sampler y las coordenadas de la textura para devolver el color correspondiente.</li>
</ul>
</div><h2>Compilación y Uso del Pixel Shader</h2>
<div class='content'><p>Para utilizar el Pixel Shader en tu aplicación DirectX, necesitas compilarlo y configurarlo en tu pipeline de renderizado. Aquí hay un ejemplo de cómo hacerlo en C++:</p>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29tcGlsYXIgZWwgUGl4ZWwgU2hhZGVyCklEM0RCbG9iKiBwc0Jsb2IgPSBudWxscHRyOwpEM0RDb21waWxlRnJvbUZpbGUoTCJQaXhlbFNoYWRlci5obHNsIiwgbnVsbHB0ciwgbnVsbHB0ciwgIm1haW4iLCAicHNfNV8wIiwgMCwgMCwgJnBzQmxvYiwgbnVsbHB0cik7CgovLyBDcmVhciBlbCBQaXhlbCBTaGFkZXIKSUQzRDExUGl4ZWxTaGFkZXIqIHBpeGVsU2hhZGVyID0gbnVsbHB0cjsKZGV2aWNlLT5DcmVhdGVQaXhlbFNoYWRlcihwc0Jsb2ItPkdldEJ1ZmZlclBvaW50ZXIoKSwgcHNCbG9iLT5HZXRCdWZmZXJTaXplKCksIG51bGxwdHIsICZwaXhlbFNoYWRlcik7CgovLyBDb25maWd1cmFyIGVsIFBpeGVsIFNoYWRlciBlbiBlbCBwaXBlbGluZQpjb250ZXh0LT5QU1NldFNoYWRlcihwaXhlbFNoYWRlciwgbnVsbHB0ciwgMCk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Compilar el Pixel Shader
ID3DBlob* psBlob = nullptr;
D3DCompileFromFile(L&quot;PixelShader.hlsl&quot;, nullptr, nullptr, &quot;main&quot;, &quot;ps_5_0&quot;, 0, 0, &amp;psBlob, nullptr);

// Crear el Pixel Shader
ID3D11PixelShader* pixelShader = nullptr;
device-&gt;CreatePixelShader(psBlob-&gt;GetBufferPointer(), psBlob-&gt;GetBufferSize(), nullptr, &amp;pixelShader);

// Configurar el Pixel Shader en el pipeline
context-&gt;PSSetShader(pixelShader, nullptr, 0);</pre></div><div class='content'></div><h3>Explicación del Código</h3>
<div class='content'><ul>
<li><strong>D3DCompileFromFile</strong>: Función que compila el shader desde un archivo HLSL.</li>
<li><strong>CreatePixelShader</strong>: Método del dispositivo Direct3D para crear el Pixel Shader.</li>
<li><strong>PSSetShader</strong>: Método del contexto de dispositivo para configurar el Pixel Shader en el pipeline de renderizado.</li>
</ul>
</div><h2>Ejercicio Práctico</h2>
<div class='content'></div><h3>Ejercicio 1: Crear un Pixel Shader que Aplique un Color Gradiente</h3>
<div class='content'><ol>
<li>Escribe un Pixel Shader que aplique un color gradiente basado en las coordenadas de la textura.</li>
<li>Compila y utiliza el Pixel Shader en tu aplicación DirectX.</li>
</ol>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button d-none d-md-inline' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXN0cnVjdHVyYSBkZSBlbnRyYWRhIGRlbCBQaXhlbCBTaGFkZXIKc3RydWN0IFBTSW5wdXQgewogICAgZmxvYXQ0IHBvc2l0aW9uIDogU1ZfUE9TSVRJT047CiAgICBmbG9hdDIgdGV4Q29vcmQgOiBURVhDT09SRDA7Cn07CgovLyBQaXhlbCBTaGFkZXIKZmxvYXQ0IG1haW4oUFNJbnB1dCBpbnB1dCkgOiBTVl9UQVJHRVQgewogICAgZmxvYXQ0IGNvbG9yID0gZmxvYXQ0KGlucHV0LnRleENvb3JkLngsIGlucHV0LnRleENvb3JkLnksIDAuMGYsIDEuMGYpOwogICAgcmV0dXJuIGNvbG9yOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Estructura de entrada del Pixel Shader
struct PSInput {
    float4 position : SV_POSITION;
    float2 texCoord : TEXCOORD0;
};

// Pixel Shader
float4 main(PSInput input) : SV_TARGET {
    float4 color = float4(input.texCoord.x, input.texCoord.y, 0.0f, 1.0f);
    return color;
}</pre></div><div class='content'></div><h3>Explicación del Código</h3>
<div class='content'><ul>
<li><strong>float4 color</strong>: Calcula el color basado en las coordenadas de la textura. <code>input.texCoord.x</code> y <code>input.texCoord.y</code> se utilizan para crear un gradiente.</li>
</ul>
</div><h2>Conclusión</h2>
<div class='content'><p>En esta sección, hemos aprendido a escribir Pixel Shaders en HLSL, aplicar texturas y compilar shaders en una aplicación DirectX. Los Pixel Shaders son una herramienta poderosa para crear efectos visuales avanzados y personalizar el renderizado de tus aplicaciones. En el próximo módulo, exploraremos técnicas avanzadas de renderizado para llevar tus habilidades al siguiente nivel.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-02-writing-vertex-shaders' title="Escribiendo Vertex Shaders" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-02-writing-vertex-shaders' title="Escribiendo Vertex Shaders" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-04-compiling-using-shaders' title="Compilando y Usando Shaders" class="py-2 px-3 btn btn-primary"
				data-read-mod="direct_x" data-read-unit="3-3">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-04-compiling-using-shaders' title="Compilando y Usando Shaders" class="py-2 px-3 btn btn-primary" 
				data-read-mod="direct_x" data-read-unit="3-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curso de Programación DirectX</h1>
<h2>Módulo 1: Introducción a DirectX</h2>
<ul>
<li><a href="01-01-what-is-directx">¿Qué es DirectX?</a></li>
<li><a href="01-02-setting-up-environment">Configuración del Entorno de Desarrollo</a></li>
<li><a href="01-03-understanding-directx-api">Entendiendo la API de DirectX</a></li>
<li><a href="01-04-creating-first-application">Creando Tu Primera Aplicación DirectX</a></li>
</ul>
<h2>Módulo 2: Conceptos Básicos de Direct3D</h2>
<ul>
<li><a href="02-01-introduction-to-direct3d">Introducción a Direct3D</a></li>
<li><a href="02-02-initializing-direct3d">Inicializando Direct3D</a></li>
<li><a href="02-03-rendering-a-triangle">Renderizando un Triángulo</a></li>
<li><a href="02-04-handling-render-loop">Manejando el Bucle de Renderizado</a></li>
</ul>
<h2>Módulo 3: Trabajando con Shaders</h2>
<ul>
<li><a href="03-01-introduction-to-shaders">Introducción a los Shaders</a></li>
<li><a href="03-02-writing-vertex-shaders">Escribiendo Vertex Shaders</a></li>
<li><a href="03-03-writing-pixel-shaders">Escribiendo Pixel Shaders</a></li>
<li><a href="03-04-compiling-using-shaders">Compilando y Usando Shaders</a></li>
</ul>
<h2>Módulo 4: Técnicas Avanzadas de Renderizado</h2>
<ul>
<li><a href="04-01-texture-mapping">Mapeo de Texturas</a></li>
<li><a href="04-02-lighting-and-materials">Iluminación y Materiales</a></li>
<li><a href="04-03-advanced-lighting-techniques">Técnicas Avanzadas de Iluminación</a></li>
<li><a href="04-04-shadow-mapping">Mapeo de Sombras</a></li>
</ul>
<h2>Módulo 5: Modelos 3D y Animación</h2>
<ul>
<li><a href="05-01-loading-3d-models">Cargando Modelos 3D</a></li>
<li><a href="05-02-animating-3d-models">Animando Modelos 3D</a></li>
<li><a href="05-03-skeletal-animation">Animación Esquelética</a></li>
<li><a href="05-04-morph-target-animation">Animación de Objetivos de Morfología</a></li>
</ul>
<h2>Módulo 6: Optimización del Rendimiento</h2>
<ul>
<li><a href="06-01-profiling-debugging">Perfilado y Depuración</a></li>
<li><a href="06-02-optimizing-rendering-performance">Optimizando el Rendimiento de Renderizado</a></li>
<li><a href="06-03-memory-management">Gestión de Memoria</a></li>
<li><a href="06-04-multithreading-directx">Multithreading en DirectX</a></li>
</ul>
<h2>Módulo 7: Temas Avanzados</h2>
<ul>
<li><a href="07-01-deferred-shading">Sombreado Diferido</a></li>
<li><a href="07-02-post-processing-effects">Efectos de Post-Procesamiento</a></li>
<li><a href="07-03-tessellation">Teselación</a></li>
<li><a href="07-04-ray-tracing">Trazado de Rayos</a></li>
</ul>
<h2>Módulo 8: DirectX en la Práctica</h2>
<ul>
<li><a href="08-01-building-game-engine">Construyendo un Motor de Juego</a></li>
<li><a href="08-02-integrating-physics">Integrando Física</a></li>
<li><a href="08-03-networking-directx">Redes en DirectX</a></li>
<li><a href="08-04-publishing-application">Publicando Tu Aplicación DirectX</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objetivo" rel="nofollow">El Proyecto</a> | 
<a href="/acerca-de" rel="nofollow">Sobre nosotros</a> | 
<a href="/contribuir" rel="nofollow">Contribuir</a> | 
<a href="/donar" rel="nofollow">Donaciones</a> | 
<a href="/licencia" rel="nofollow">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuario no autenticado</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
