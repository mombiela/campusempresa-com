<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creación y Gestión de Índices</title>

    <link rel="alternate" href="https://campusempresa.com/mongodb/creating-and-managing-indexes" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mongodb/creating-and-managing-indexes" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mongodb/creating-and-managing-indexes" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mongodb/creating-and-managing-indexes" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mongodb/creating-and-managing-indexes" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='aggregation-performance-tips'>&#x25C4;Consejos de Rendimiento en Agregación</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creación y Gestión de Índices</a>
	</div>
	<div class='col-4 text-end'>
					<a href='index-types'>Tipos de Índices &#x25BA;</a>
			</div>
</div>
<div class='index'></div><h2>Introducción a los Índices</h2>
<div class='index'><p>Los índices son estructuras de datos especiales que almacenan una pequeña porción del conjunto de datos en una forma fácil de recorrer. En MongoDB, los índices se utilizan para mejorar la eficiencia de las consultas de búsqueda. Sin índices, MongoDB debe realizar un escaneo de colección, es decir, escanear cada documento en una colección, para seleccionar aquellos documentos que coincidan con la declaración de la consulta.</p>
</div><h2>¿Por Qué Usar Índices?</h2>
<div class='index'><ul>
<li><strong>Mejora del Rendimiento</strong>: Los índices aceleran significativamente el rendimiento de las consultas.</li>
<li><strong>Recuperación Eficiente de Datos</strong>: Permiten a MongoDB localizar y acceder rápidamente a los datos.</li>
<li><strong>Reducción del Uso de Recursos</strong>: Al reducir la cantidad de datos que MongoDB necesita escanear, los índices ayudan a reducir el uso de CPU y memoria.</li>
</ul>
</div><h2>Tipos de Índices en MongoDB</h2>
<div class='index'><ul>
<li><strong>Índice de Campo Único</strong>: Índices en un solo campo.</li>
<li><strong>Índice Compuesto</strong>: Índices en múltiples campos.</li>
<li><strong>Índice Multikey</strong>: Índices en campos de tipo array.</li>
<li><strong>Índice de Texto</strong>: Índices para búsqueda de texto.</li>
<li><strong>Índice Geoespacial</strong>: Índices para datos basados en ubicación.</li>
<li><strong>Índice Hashed</strong>: Índices que almacenan el hash del valor de un campo.</li>
</ul>
</div><h2>Creación de Índices</h2>
<h2>Índice de Campo Único</h2>
<div class='index'><p>Para crear un índice en un solo campo, usa el método <code>createIndex</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAxIH0p"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: 1 })</pre></div><div class='index'><ul>
<li><code>1</code> especifica orden ascendente. Usa <code>-1</code> para orden descendente.</li>
</ul>
<p><strong>Ejemplo</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuY3JlYXRlSW5kZXgoeyB1c2VybmFtZTogMSB9KQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.createIndex({ username: 1 })</pre></div><div class='index'><p>Esto crea un índice ascendente en el campo <code>username</code> en la colección <code>users</code>.</p>
</div><h2>Índice Compuesto</h2>
<div class='index'><p>Para crear un índice en múltiples campos, especifica múltiples campos en el método <code>createIndex</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkMTogMSwgZmllbGQyOiAtMSB9KQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field1: 1, field2: -1 })</pre></div><div class='index'><ul>
<li><code>1</code> para orden ascendente y <code>-1</code> para orden descendente.</li>
</ul>
<p><strong>Ejemplo</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIub3JkZXJzLmNyZWF0ZUluZGV4KHsgY3VzdG9tZXJJZDogMSwgb3JkZXJEYXRlOiAtMSB9KQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.orders.createIndex({ customerId: 1, orderDate: -1 })</pre></div><div class='index'><p>Esto crea un índice compuesto en <code>customerId</code> (ascendente) y <code>orderDate</code> (descendente) en la colección <code>orders</code>.</p>
</div><h2>Índice Multikey</h2>
<div class='index'><p>MongoDB crea automáticamente un índice multikey si el campo indexado es un array.</p>
<p><strong>Ejemplo</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIucHJvZHVjdHMuY3JlYXRlSW5kZXgoeyB0YWdzOiAxIH0p"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.products.createIndex({ tags: 1 })</pre></div><div class='index'><p>Si <code>tags</code> es un array, MongoDB creará un índice multikey.</p>
</div><h2>Índice de Texto</h2>
<div class='index'><p>Para crear un índice de texto para búsqueda de texto, usa la opción <code>text</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAidGV4dCIgfSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: &quot;text&quot; })</pre></div><div class='index'><p><strong>Ejemplo</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuYXJ0aWNsZXMuY3JlYXRlSW5kZXgoeyBjb250ZW50OiAidGV4dCIgfSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.articles.createIndex({ content: &quot;text&quot; })</pre></div><div class='index'><p>Esto crea un índice de texto en el campo <code>content</code> en la colección <code>articles</code>.</p>
</div><h2>Índice Geoespacial</h2>
<div class='index'><p>Para datos basados en ubicación, usa índices <code>2dsphere</code> o <code>2d</code>.</p>
<p><strong>Ejemplo</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIucGxhY2VzLmNyZWF0ZUluZGV4KHsgbG9jYXRpb246ICIyZHNwaGVyZSIgfSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.places.createIndex({ location: &quot;2dsphere&quot; })</pre></div><div class='index'><p>Esto crea un índice geoespacial en el campo <code>location</code> en la colección <code>places</code>.</p>
</div><h2>Índice Hashed</h2>
<div class='index'><p>Para crear un índice hashed, usa la opción <code>hashed</code>.</p>
<p><strong>Ejemplo</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuY3JlYXRlSW5kZXgoeyB1c2VySWQ6ICJoYXNoZWQiIH0p"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.createIndex({ userId: &quot;hashed&quot; })</pre></div><div class='index'><p>Esto crea un índice hashed en el campo <code>userId</code> en la colección <code>users</code>.</p>
</div><h2>Gestión de Índices</h2>
<h2>Visualización de Índices</h2>
<div class='index'><p>Para ver todos los índices en una colección, usa el método <code>getIndexes</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5nZXRJbmRleGVzKCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.getIndexes()</pre></div><div class='index'><p><strong>Ejemplo</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZ2V0SW5kZXhlcygp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.getIndexes()</pre></div><div class='index'><p>Esto devuelve todos los índices en la colección <code>users</code>.</p>
</div><h2>Eliminación de Índices</h2>
<div class='index'><p>Para eliminar un índice específico, usa el método <code>dropIndex</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5kcm9wSW5kZXgoImluZGV4TmFtZSIp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.dropIndex(&quot;indexName&quot;)</pre></div><div class='index'><p><strong>Ejemplo</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZHJvcEluZGV4KCJ1c2VybmFtZV8xIik="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.dropIndex(&quot;username_1&quot;)</pre></div><div class='index'><p>Esto elimina el índice llamado <code>username_1</code> en la colección <code>users</code>.</p>
<p>Para eliminar todos los índices en una colección, usa el método <code>dropIndexes</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5kcm9wSW5kZXhlcygp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.dropIndexes()</pre></div><div class='index'><p><strong>Ejemplo</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZHJvcEluZGV4ZXMoKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.dropIndexes()</pre></div><div class='index'><p>Esto elimina todos los índices en la colección <code>users</code>.</p>
</div><h2>Mejores Prácticas de Indexación</h2>
<div class='index'><ul>
<li><strong>Limitar el Número de Índices</strong>: Cada índice consume espacio en disco y memoria, y puede afectar el rendimiento de escritura.</li>
<li><strong>Usar Índices Compuestos Sabiamente</strong>: Asegúrate de que el orden de los campos en los índices compuestos coincida con los patrones de consulta.</li>
<li><strong>Monitorear el Uso de Índices</strong>: Usa el método <code>explain</code> para entender cómo las consultas utilizan los índices.</li>
<li><strong>Evitar la Sobre-Indexación</strong>: Solo crea los índices que sean necesarios para tus consultas.</li>
</ul>
</div><h2>Conclusión</h2>
<div class='index'><p>Los índices son una herramienta poderosa en MongoDB que pueden mejorar significativamente el rendimiento de las consultas. Entender los diferentes tipos de índices y cómo crearlos y gestionarlos es crucial para una gestión eficiente de la base de datos. Siempre considera los compromisos entre el rendimiento de lectura y escritura al diseñar tu estrategia de indexación.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='aggregation-performance-tips'>&#x25C4;Consejos de Rendimiento en Agregación</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creación y Gestión de Índices</a>
	</div>
	<div class='col-4 text-end'>
					<a href='index-types'>Tipos de Índices &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
