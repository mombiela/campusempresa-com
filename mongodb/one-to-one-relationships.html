<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relaciones Uno a Uno</title>

    <link rel="alternate" href="https://campusempresa.com/mongodb/one-to-one-relationships" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mongodb/one-to-one-relationships" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mongodb/one-to-one-relationships" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mongodb/one-to-one-relationships" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mongodb/one-to-one-relationships" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='embedded-documents-vs-references'>&#x25C4;Documentos Embebidos vs. Referencias</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Relaciones Uno a Uno</a>
	</div>
	<div class='col-4 text-end'>
					<a href='one-to-many-relationships'>Relaciones Uno a Muchos &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En MongoDB, una relación uno a uno es un tipo de relación de datos donde un solo documento en una colección está asociado con un solo documento en otra colección. Esto es útil para escenarios donde deseas separar datos en diferentes colecciones pero aún mantener un enlace directo entre documentos relacionados.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Relación Uno a Uno</strong>: Una relación donde cada documento en una colección está vinculado exactamente a un documento en otra colección.</li>
<li><strong>Incrustación</strong>: Almacenar datos relacionados dentro del mismo documento.</li>
<li><strong>Referencia</strong>: Almacenar datos relacionados en documentos separados y vincularlos usando referencias.</li>
</ul>
</div><h1>Incrustación vs. Referencia</h1>
<h2>Incrustación</h2>
<div class='content'><ul>
<li><strong>Pros</strong>:
<ul>
<li>Simplicidad: Todos los datos relacionados se almacenan en un solo documento.</li>
<li>Rendimiento: Operaciones de lectura más rápidas ya que todos los datos se recuperan en una sola consulta.</li>
</ul>
</li>
<li><strong>Contras</strong>:
<ul>
<li>Tamaño del Documento: MongoDB tiene un límite de tamaño de documento de 16MB, lo cual puede ser una restricción.</li>
<li>Redundancia: Duplicación de datos si los datos incrustados se usan en múltiples lugares.</li>
</ul>
</li>
</ul>
</div><h2>Referencia</h2>
<div class='content'><ul>
<li><strong>Pros</strong>:
<ul>
<li>Flexibilidad: Los datos pueden ser normalizados y reutilizados en diferentes colecciones.</li>
<li>Escalabilidad: Mejor para conjuntos de datos grandes ya que evita el límite de tamaño de documento de 16MB.</li>
</ul>
</li>
<li><strong>Contras</strong>:
<ul>
<li>Complejidad: Requiere múltiples consultas para recuperar datos relacionados.</li>
<li>Rendimiento: Operaciones de lectura más lentas debido a la necesidad de consultas adicionales.</li>
</ul>
</li>
</ul>
</div><h1>Implementación de Relaciones Uno a Uno</h1>
<div class='content'></div><h2>Usando Incrustación</h2>
<div class='content'><p>Cuando se usa incrustación, almacenas el documento relacionado directamente dentro del documento principal.</p>
<h4>Ejemplo</h4>
<p>Supongamos que tenemos una colección <code>users</code> y cada usuario tiene un perfil único.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiBPYmplY3RJZCgiNjBjNzJiMmY5YjFkOGIxZjhjOGI0NTY3IiksCiAgInVzZXJuYW1lIjogImpvaG5kb2UiLAogICJlbWFpbCI6ICJqb2huZG9lQGV4YW1wbGUuY29tIiwKICAicHJvZmlsZSI6IHsKICAgICJhZ2UiOiAzMCwKICAgICJnZW5kZXIiOiAibWFsZSIsCiAgICAiYWRkcmVzcyI6ICIxMjMgTWFpbiBTdCIKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: ObjectId(&quot;60c72b2f9b1d8b1f8c8b4567&quot;),
  &quot;username&quot;: &quot;johndoe&quot;,
  &quot;email&quot;: &quot;johndoe@example.com&quot;,
  &quot;profile&quot;: {
    &quot;age&quot;: 30,
    &quot;gender&quot;: &quot;male&quot;,
    &quot;address&quot;: &quot;123 Main St&quot;
  }
}</pre></div><div class='content'><p>En este ejemplo, el documento <code>profile</code> está incrustado dentro del documento <code>users</code>.</p>
</div><h2>Usando Referencia</h2>
<div class='content'><p>Cuando se usa referencia, almacenas el documento relacionado en una colección separada y los vinculas usando una referencia.</p>
<h4>Ejemplo</h4>
<p>Vamos a separar los <code>users</code> y <code>profiles</code> en dos colecciones.</p>
<p><strong>Colección de Usuarios:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiBPYmplY3RJZCgiNjBjNzJiMmY5YjFkOGIxZjhjOGI0NTY3IiksCiAgInVzZXJuYW1lIjogImpvaG5kb2UiLAogICJlbWFpbCI6ICJqb2huZG9lQGV4YW1wbGUuY29tIiwKICAicHJvZmlsZV9pZCI6IE9iamVjdElkKCI2MGM3MmIzZjliMWQ4YjFmOGM4YjQ1NjgiKQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: ObjectId(&quot;60c72b2f9b1d8b1f8c8b4567&quot;),
  &quot;username&quot;: &quot;johndoe&quot;,
  &quot;email&quot;: &quot;johndoe@example.com&quot;,
  &quot;profile_id&quot;: ObjectId(&quot;60c72b3f9b1d8b1f8c8b4568&quot;)
}</pre></div><div class='content'><p><strong>Colección de Perfiles:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiBPYmplY3RJZCgiNjBjNzJiM2Y5YjFkOGIxZjhjOGI0NTY4IiksCiAgImFnZSI6IDMwLAogICJnZW5kZXIiOiAibWFsZSIsCiAgImFkZHJlc3MiOiAiMTIzIE1haW4gU3QiCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: ObjectId(&quot;60c72b3f9b1d8b1f8c8b4568&quot;),
  &quot;age&quot;: 30,
  &quot;gender&quot;: &quot;male&quot;,
  &quot;address&quot;: &quot;123 Main St&quot;
}</pre></div><div class='content'><p>En este ejemplo, el documento <code>users</code> contiene una referencia al documento <code>profiles</code> usando el campo <code>profile_id</code>.</p>
</div><h1>Consultas de Relaciones Uno a Uno</h1>
<div class='content'></div><h2>Consultando Documentos Incrustados</h2>
<div class='content'><p>Para recuperar un usuario junto con su perfil incrustado, simplemente consultas la colección <code>users</code>.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZmluZE9uZSh7IHVzZXJuYW1lOiAiam9obmRvZSIgfSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.findOne({ username: &quot;johndoe&quot; })</pre></div><div class='content'></div><h2>Consultando Documentos Referenciados</h2>
<div class='content'><p>Para recuperar un usuario y su perfil, necesitas realizar dos consultas: una para obtener el usuario y otra para obtener el perfil.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoeyB1c2VybmFtZTogImpvaG5kb2UiIH0pOwpjb25zdCBwcm9maWxlID0gZGIucHJvZmlsZXMuZmluZE9uZSh7IF9pZDogdXNlci5wcm9maWxlX2lkIH0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const user = db.users.findOne({ username: &quot;johndoe&quot; });
const profile = db.profiles.findOne({ _id: user.profile_id });</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Las relaciones uno a uno en MongoDB pueden implementarse usando incrustación o referencia, cada una con sus propias ventajas y desventajas. La incrustación es más simple y rápida para operaciones de lectura pero puede llevar a tamaños de documento más grandes. La referencia es más flexible y escalable pero requiere consultas más complejas. Entender estos compromisos te ayudará a diseñar esquemas de MongoDB eficientes y mantenibles.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='embedded-documents-vs-references'>&#x25C4;Documentos Embebidos vs. Referencias</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Relaciones Uno a Uno</a>
	</div>
	<div class='col-4 text-end'>
					<a href='one-to-many-relationships'>Relaciones Uno a Muchos &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
