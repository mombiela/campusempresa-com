<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuración de Pruebas Unitarias</title>

    <link rel="alternate" href="https://campusempresa.com/webpack/setting-up-unit-tests" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/webpack/setting-up-unit-tests" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/webpack/setting-up-unit-tests" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/webpack/setting-up-unit-tests" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/webpack/setting-up-unit-tests" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='webpack-with-vue'>&#x25C4;Webpack con Vue</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Configuración de Pruebas Unitarias</a>
	</div>
	<div class='col-4 text-end'>
					<a href='continuous-integration-webpack'>Integración Continua con Webpack &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Las pruebas unitarias son una parte crucial del proceso de desarrollo, asegurando que las partes individuales de tu aplicación funcionen como se espera. En esta sección, cubriremos cómo configurar pruebas unitarias en un proyecto de Webpack, desde lo básico hasta configuraciones más avanzadas.</p>
</div><h1>Introducción a las Pruebas Unitarias</h1>
<div class='content'><p>Antes de profundizar en la configuración, hablemos brevemente sobre qué son las pruebas unitarias y por qué son importantes.</p>
<ul>
<li><strong>Pruebas Unitarias</strong>: Pruebas de unidades o componentes individuales de un software para validar que cada parte funcione correctamente.</li>
<li><strong>Beneficios</strong>:
<ul>
<li>Asegura la fiabilidad del código.</li>
<li>Facilita la refactorización.</li>
<li>Ayuda a detectar errores temprano en el ciclo de desarrollo.</li>
</ul>
</li>
</ul>
</div><h1>Elegir un Marco de Pruebas</h1>
<div class='content'><p>Hay varios marcos de pruebas disponibles, pero para este curso, nos enfocaremos en Jest, un marco de pruebas popular para JavaScript.</p>
<ul>
<li><strong>Jest</strong>:
<ul>
<li>Desarrollado por Facebook.</li>
<li>Funciona bien con React y otras bibliotecas de JavaScript.</li>
<li>Proporciona una API rica para aserciones, simulaciones y más.</li>
</ul>
</li>
</ul>
</div><h1>Instalando Jest</h1>
<div class='content'><p>Primero, instalemos Jest en tu proyecto de Webpack.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLS1zYXZlLWRldiBqZXN0"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install --save-dev jest</pre></div><div class='content'><p>Luego, agrega un script a tu <code>package.json</code> para ejecutar Jest:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJzY3JpcHRzIjogewogICAgInRlc3QiOiAiamVzdCIKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;jest&quot;
  }
}</pre></div><div class='content'></div><h1>Configurando Webpack para Jest</h1>
<div class='content'><p>Webpack necesita ser configurado para trabajar sin problemas con Jest. Esto implica configurar Babel para transpilar código ES6+ y configurar Jest para entender tus rutas de módulos.</p>
<ol>
<li>
<p><strong>Instalar Babel y los presets necesarios</strong>:</p>
<pre><code class="language-bash">npm install --save-dev @babel/core @babel/preset-env @babel/preset-react babel-jest
</code></pre>
</li>
<li>
<p><strong>Crear un archivo de configuración de Babel (<code>babel.config.js</code>)</strong>:</p>
<pre><code class="language-javascript">module.exports = {
  presets: [
    '@babel/preset-env',
    '@babel/preset-react'
  ]
};
</code></pre>
</li>
<li>
<p><strong>Actualizar la configuración de Jest en <code>package.json</code></strong>:</p>
<pre><code class="language-json">{
  &quot;jest&quot;: {
    &quot;transform&quot;: {
      &quot;^.+\\.jsx?$&quot;: &quot;babel-jest&quot;
    },
    &quot;moduleNameMapper&quot;: {
      &quot;\\.(css|less|scss|sass)$&quot;: &quot;identity-obj-proxy&quot;
    }
  }
}
</code></pre>
</li>
</ol>
</div><h1>Escribiendo Tu Primera Prueba</h1>
<div class='content'><p>Escribamos una prueba simple para empezar.</p>
<ol>
<li>
<p><strong>Crear una función para probar</strong> (<code>src/sum.js</code>):</p>
<pre><code class="language-javascript">function sum(a, b) {
  return a + b;
}
module.exports = sum;
</code></pre>
</li>
<li>
<p><strong>Escribir una prueba para la función</strong> (<code>src/sum.test.js</code>):</p>
<pre><code class="language-javascript">const sum = require('./sum');

test('adds 1 + 2 to equal 3', () =&gt; {
  expect(sum(1, 2)).toBe(3);
});
</code></pre>
</li>
<li>
<p><strong>Ejecutar la prueba</strong>:</p>
<pre><code class="language-bash">npm test
</code></pre>
<p>Deberías ver una salida indicando que la prueba pasó.</p>
</li>
</ol>
</div><h1>Configuración Avanzada</h1>
<div class='content'><p>Para proyectos más complejos, podrías necesitar configuraciones adicionales.</p>
<ul>
<li>
<p><strong>Manejo de Activos Estáticos</strong>: Usa <code>identity-obj-proxy</code> para simular módulos CSS.</p>
</li>
<li>
<p><strong>Cobertura de Código</strong>: Jest puede generar informes de cobertura de código.</p>
<pre><code class="language-json">{
  &quot;jest&quot;: {
    &quot;collectCoverage&quot;: true,
    &quot;collectCoverageFrom&quot;: [
      &quot;src/**/*.{js,jsx}&quot;,
      &quot;!src/index.js&quot;
    ]
  }
}
</code></pre>
</li>
<li>
<p><strong>Archivos de Configuración</strong>: A veces, necesitas ejecutar algún código antes de cada suite de pruebas.</p>
<pre><code class="language-json">{
  &quot;jest&quot;: {
    &quot;setupFilesAfterEnv&quot;: [&quot;&lt;rootDir&gt;/src/setupTests.js&quot;]
  }
}
</code></pre>
<p>Crear <code>src/setupTests.js</code>:</p>
<pre><code class="language-javascript">// Ejemplo: importar algunos polyfills o configurar variables globales
import '@testing-library/jest-dom/extend-expect';
</code></pre>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Configurar pruebas unitarias en un proyecto de Webpack es esencial para mantener la calidad y fiabilidad del código. Al usar Jest y configurar Webpack adecuadamente, puedes asegurarte de que tus pruebas se ejecuten sin problemas y proporcionen retroalimentación valiosa durante el desarrollo. Recuerda escribir pruebas para todas las partes críticas de tu aplicación y ejecutarlas con frecuencia para detectar problemas temprano.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='webpack-with-vue'>&#x25C4;Webpack con Vue</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Configuración de Pruebas Unitarias</a>
	</div>
	<div class='col-4 text-end'>
					<a href='continuous-integration-webpack'>Integración Continua con Webpack &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
