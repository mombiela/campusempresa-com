<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introducción a Redes</title>

    <link rel="alternate" href="https://campusempresa.com/androidstudio/introduction-to-networking" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/androidstudio/introduction-to-networking" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/androidstudio/introduction-to-networking" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/androidstudio/introduction-to-networking" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/androidstudio/introduction-to-networking" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='room-persistence-library'>&#x25C4;Biblioteca de Persistencia Room</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introducción a Redes</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-asynctask-for-networking'>Usando AsyncTask para Redes &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Visión General</h1>
<div class='content'><p>La red es un aspecto crucial de las aplicaciones modernas de Android, permitiéndoles comunicarse con servidores, obtener datos e interactuar con servicios web. Esta sección te guiará a través de los conceptos básicos de redes en Android Studio, desde hacer solicitudes HTTP simples hasta manejar operaciones de red más complejas.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>HTTP y HTTPS</strong>: Protocolos para la comunicación de datos a través de la web.</li>
<li><strong>APIs RESTful</strong>: Servicios web que siguen principios REST.</li>
<li><strong>JSON</strong>: Un formato ligero de intercambio de datos.</li>
<li><strong>XML</strong>: Un lenguaje de marcado para la representación de datos.</li>
<li><strong>Bibliotecas</strong>: Herramientas como Retrofit, OkHttp y Volley que simplifican las operaciones de red.</li>
</ul>
</div><h1>Haciendo Solicitudes HTTP</h1>
<h2>Usando HttpURLConnection</h2>
<div class='content'><p>HttpURLConnection es una clase estándar de Java para hacer solicitudes HTTP. A continuación, se muestra un ejemplo simple de cómo hacer una solicitud GET.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEuaW8uQnVmZmVyZWRSZWFkZXI7CmltcG9ydCBqYXZhLmlvLklucHV0U3RyZWFtUmVhZGVyOwppbXBvcnQgamF2YS5uZXQuSHR0cFVSTENvbm5lY3Rpb247CmltcG9ydCBqYXZhLm5ldC5VUkw7CgpwdWJsaWMgY2xhc3MgTmV0d29ya1V0aWxzIHsKCiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBnZXRIdHRwUmVzcG9uc2UoU3RyaW5nIHVybFN0cmluZykgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgVVJMIHVybCA9IG5ldyBVUkwodXJsU3RyaW5nKTsKICAgICAgICBIdHRwVVJMQ29ubmVjdGlvbiB1cmxDb25uZWN0aW9uID0gKEh0dHBVUkxDb25uZWN0aW9uKSB1cmwub3BlbkNvbm5lY3Rpb24oKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBCdWZmZXJlZFJlYWRlciBpbiA9IG5ldyBCdWZmZXJlZFJlYWRlcihuZXcgSW5wdXRTdHJlYW1SZWFkZXIodXJsQ29ubmVjdGlvbi5nZXRJbnB1dFN0cmVhbSgpKSk7CiAgICAgICAgICAgIFN0cmluZyBpbnB1dExpbmU7CiAgICAgICAgICAgIFN0cmluZ0J1aWxkZXIgY29udGVudCA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CiAgICAgICAgICAgIHdoaWxlICgoaW5wdXRMaW5lID0gaW4ucmVhZExpbmUoKSkgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmQoaW5wdXRMaW5lKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpbi5jbG9zZSgpOwogICAgICAgICAgICByZXR1cm4gY29udGVudC50b1N0cmluZygpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIHVybENvbm5lY3Rpb24uZGlzY29ubmVjdCgpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;

public class NetworkUtils {

    public static String getHttpResponse(String urlString) throws Exception {
        URL url = new URL(urlString);
        HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();
        try {
            BufferedReader in = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));
            String inputLine;
            StringBuilder content = new StringBuilder();
            while ((inputLine = in.readLine()) != null) {
                content.append(inputLine);
            }
            in.close();
            return content.toString();
        } finally {
            urlConnection.disconnect();
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>URL</strong>: Representa la URL a la que se hace la solicitud.</li>
<li><strong>HttpURLConnection</strong>: Abre una conexión a la URL.</li>
<li><strong>BufferedReader</strong>: Lee la respuesta desde el flujo de entrada.</li>
</ul>
</div><h1>Analizando Datos JSON</h1>
<div class='content'><p>La mayoría de los servicios web devuelven datos en formato JSON. Aquí se muestra cómo analizar datos JSON en Android.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qc29uLkpTT05BcnJheTsKaW1wb3J0IG9yZy5qc29uLkpTT05PYmplY3Q7CgpwdWJsaWMgY2xhc3MgSnNvblBhcnNlciB7CgogICAgcHVibGljIHN0YXRpYyB2b2lkIHBhcnNlSnNvbihTdHJpbmcganNvblN0cmluZykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEpTT05PYmplY3QganNvbk9iamVjdCA9IG5ldyBKU09OT2JqZWN0KGpzb25TdHJpbmcpOwogICAgICAgICAgICBTdHJpbmcgbmFtZSA9IGpzb25PYmplY3QuZ2V0U3RyaW5nKCJuYW1lIik7CiAgICAgICAgICAgIGludCBhZ2UgPSBqc29uT2JqZWN0LmdldEludCgiYWdlIik7CiAgICAgICAgICAgIEpTT05BcnJheSBob2JiaWVzID0ganNvbk9iamVjdC5nZXRKU09OQXJyYXkoImhvYmJpZXMiKTsKCiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiTmFtZTogIiArIG5hbWUpOwogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkFnZTogIiArIGFnZSk7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgaG9iYmllcy5sZW5ndGgoKTsgaSsrKSB7CiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkhvYmJ5OiAiICsgaG9iYmllcy5nZXRTdHJpbmcoaSkpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.json.JSONArray;
import org.json.JSONObject;

public class JsonParser {

    public static void parseJson(String jsonString) {
        try {
            JSONObject jsonObject = new JSONObject(jsonString);
            String name = jsonObject.getString(&quot;name&quot;);
            int age = jsonObject.getInt(&quot;age&quot;);
            JSONArray hobbies = jsonObject.getJSONArray(&quot;hobbies&quot;);

            System.out.println(&quot;Name: &quot; + name);
            System.out.println(&quot;Age: &quot; + age);
            for (int i = 0; i &lt; hobbies.length(); i++) {
                System.out.println(&quot;Hobby: &quot; + hobbies.getString(i));
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>JSONObject</strong>: Representa un objeto JSON.</li>
<li><strong>JSONArray</strong>: Representa un arreglo JSON.</li>
<li><strong>getString()</strong> y <strong>getInt()</strong>: Métodos para extraer datos del JSON.</li>
</ul>
</div><h1>Usando Retrofit</h1>
<div class='content'><p>Retrofit es un cliente HTTP seguro para Android y Java. Simplifica las operaciones de red y maneja automáticamente el análisis de JSON.</p>
</div><h2>Configurando Retrofit</h2>
<div class='content'><ol>
<li>
<p>Agrega la dependencia de Retrofit a tu archivo <code>build.gradle</code>:</p>
<pre><code class="language-gradle">implementation 'com.squareup.retrofit2:retrofit:2.9.0'
implementation 'com.squareup.retrofit2:converter-gson:2.9.0'
</code></pre>
</li>
<li>
<p>Define un modelo de datos:</p>
<pre><code class="language-java">public class User {
    private String name;
    private int age;
    private List&lt;String&gt; hobbies;

    // Getters y setters
}
</code></pre>
</li>
<li>
<p>Crea una interfaz de API:</p>
<pre><code class="language-java">import retrofit2.Call;
import retrofit2.http.GET;

public interface ApiService {
    @GET(&quot;users&quot;)
    Call&lt;List&lt;User&gt;&gt; getUsers();
}
</code></pre>
</li>
<li>
<p>Inicializa Retrofit y haz una solicitud de red:</p>
<pre><code class="language-java">import retrofit2.Retrofit;
import retrofit2.converter.gson.GsonConverterFactory;
import retrofit2.Call;
import retrofit2.Callback;
import retrofit2.Response;

public class NetworkClient {

    private static final String BASE_URL = &quot;https://api.example.com/&quot;;

    public static void fetchUsers() {
        Retrofit retrofit = new Retrofit.Builder()
                .baseUrl(BASE_URL)
                .addConverterFactory(GsonConverterFactory.create())
                .build();

        ApiService apiService = retrofit.create(ApiService.class);
        Call&lt;List&lt;User&gt;&gt; call = apiService.getUsers();

        call.enqueue(new Callback&lt;List&lt;User&gt;&gt;() {
            @Override
            public void onResponse(Call&lt;List&lt;User&gt;&gt; call, Response&lt;List&lt;User&gt;&gt; response) {
                if (response.isSuccessful()) {
                    List&lt;User&gt; users = response.body();
                    // Manejar la lista de usuarios
                }
            }

            @Override
            public void onFailure(Call&lt;List&lt;User&gt;&gt; call, Throwable t) {
                t.printStackTrace();
            }
        });
    }
}
</code></pre>
</li>
</ol>
<ul>
<li><strong>Retrofit.Builder()</strong>: Configura Retrofit con la URL base y una fábrica de convertidores.</li>
<li><strong>ApiService</strong>: Interfaz que define los endpoints.</li>
<li><strong>enqueue()</strong>: Envía la solicitud de manera asíncrona y notifica al callback de su respuesta.</li>
</ul>
</div><h1>Manejo de Errores</h1>
<div class='content'><p>El manejo adecuado de errores es esencial para una aplicación robusta. Retrofit proporciona soporte incorporado para manejar errores.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2FsbC5lbnF1ZXVlKG5ldyBDYWxsYmFjazxMaXN0PFVzZXI+PigpIHsKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgb25SZXNwb25zZShDYWxsPExpc3Q8VXNlcj4+IGNhbGwsIFJlc3BvbnNlPExpc3Q8VXNlcj4+IHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmlzU3VjY2Vzc2Z1bCgpKSB7CiAgICAgICAgICAgIExpc3Q8VXNlcj4gdXNlcnMgPSByZXNwb25zZS5ib2R5KCk7CiAgICAgICAgICAgIC8vIE1hbmVqYXIgbGEgbGlzdGEgZGUgdXN1YXJpb3MKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBNYW5lamFyIGxhIHJlc3B1ZXN0YSBkZSBlcnJvcgogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkVycm9yOiAiICsgcmVzcG9uc2UuZXJyb3JCb2R5KCkuc3RyaW5nKCkpOwogICAgICAgIH0KICAgIH0KCiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIG9uRmFpbHVyZShDYWxsPExpc3Q8VXNlcj4+IGNhbGwsIFRocm93YWJsZSB0KSB7CiAgICAgICAgdC5wcmludFN0YWNrVHJhY2UoKTsKICAgIH0KfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>call.enqueue(new Callback&lt;List&lt;User&gt;&gt;() {
    @Override
    public void onResponse(Call&lt;List&lt;User&gt;&gt; call, Response&lt;List&lt;User&gt;&gt; response) {
        if (response.isSuccessful()) {
            List&lt;User&gt; users = response.body();
            // Manejar la lista de usuarios
        } else {
            // Manejar la respuesta de error
            System.out.println(&quot;Error: &quot; + response.errorBody().string());
        }
    }

    @Override
    public void onFailure(Call&lt;List&lt;User&gt;&gt; call, Throwable t) {
        t.printStackTrace();
    }
});</pre></div><div class='content'><ul>
<li><strong>response.isSuccessful()</strong>: Verifica si la respuesta fue exitosa.</li>
<li><strong>response.errorBody()</strong>: Recupera el cuerpo de error si la respuesta no fue exitosa.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>La red es una parte fundamental del desarrollo de Android, permitiendo que las aplicaciones interactúen con servicios web y obtengan datos. Esta sección cubrió los conceptos básicos de hacer solicitudes HTTP, analizar datos JSON y usar Retrofit para operaciones de red más avanzadas. Al dominar estos conceptos, estarás bien equipado para construir aplicaciones de Android robustas y receptivas que puedan comunicarse eficazmente a través de la red.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='room-persistence-library'>&#x25C4;Biblioteca de Persistencia Room</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introducción a Redes</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-asynctask-for-networking'>Usando AsyncTask para Redes &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
