<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Métodos de Consulta en Spring Data JPA</title>

    <link rel="alternate" href="https://campusempresa.com/springboot/query-methods-in-spring-data-jpa" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/springboot/query-methods-in-spring-data-jpa" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/springboot/query-methods-in-spring-data-jpa" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/springboot/query-methods-in-spring-data-jpa" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/springboot/query-methods-in-spring-data-jpa" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-and-using-repositories'>&#x25C4;Creación y Uso de Repositorios</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Métodos de Consulta en Spring Data JPA</a>
	</div>
	<div class='col-4 text-end'>
					<a href='pagination-and-sorting'>Paginación y Ordenación &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Spring Data JPA simplifica la capa de acceso a datos proporcionando una abstracción de repositorio sobre JPA. Una de sus características más poderosas es la capacidad de definir métodos de consulta directamente en las interfaces de repositorio. Este tema cubrirá los conceptos básicos y avanzados de los métodos de consulta en Spring Data JPA.</p>
</div><h1>Introducción a Spring Data JPA</h1>
<div class='content'><ul>
<li><strong>Spring Data JPA</strong>: Parte de la familia más grande de Spring Data, facilita la implementación de repositorios basados en JPA.</li>
<li><strong>Abstracción de Repositorio</strong>: Proporciona una abstracción de nivel superior para las capas de acceso a datos.</li>
</ul>
</div><h1>Definición de Métodos de Consulta</h1>
<div class='content'><p>Spring Data JPA te permite definir métodos de consulta en tus interfaces de repositorio. Estos métodos pueden ser implementados automáticamente por Spring Data JPA basándose en sus nombres.</p>
</div><h2>Creación de Consultas por Método</h2>
<div class='content'><ul>
<li><strong>Convenciones de Nombres</strong>: Spring Data JPA deriva la consulta del nombre del método.</li>
<li><strong>Palabras Clave</strong>: Las palabras clave comunes incluyen <code>find</code>, <code>read</code>, <code>query</code>, <code>count</code>, <code>get</code>.</li>
</ul>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBVc2VyUmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8VXNlciwgTG9uZz4gewogICAgTGlzdDxVc2VyPiBmaW5kQnlMYXN0TmFtZShTdHJpbmcgbGFzdE5hbWUpOwogICAgVXNlciBmaW5kQnlFbWFpbChTdHJpbmcgZW1haWwpOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    List&lt;User&gt; findByLastName(String lastName);
    User findByEmail(String email);
}</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li><code>findByLastName</code> generará una consulta para encontrar usuarios por su apellido.</li>
<li><code>findByEmail</code> generará una consulta para encontrar un usuario por su correo electrónico.</li>
</ul>
</div><h2>Parámetros de Consulta</h2>
<div class='content'><ul>
<li><strong>Parámetros Posicionales</strong>: Usa <code>?1</code>, <code>?2</code>, etc.</li>
<li><strong>Parámetros Nombrados</strong>: Usa <code>:paramName</code>.</li>
</ul>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFF1ZXJ5KCJTRUxFQ1QgdSBGUk9NIFVzZXIgdSBXSEVSRSB1Lmxhc3ROYW1lID0gPzEiKQpMaXN0PFVzZXI+IGZpbmRCeUxhc3ROYW1lKFN0cmluZyBsYXN0TmFtZSk7CgpAUXVlcnkoIlNFTEVDVCB1IEZST00gVXNlciB1IFdIRVJFIHUuZW1haWwgPSA6ZW1haWwiKQpVc2VyIGZpbmRCeUVtYWlsKEBQYXJhbSgiZW1haWwiKSBTdHJpbmcgZW1haWwpOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Query(&quot;SELECT u FROM User u WHERE u.lastName = ?1&quot;)
List&lt;User&gt; findByLastName(String lastName);

@Query(&quot;SELECT u FROM User u WHERE u.email = :email&quot;)
User findByEmail(@Param(&quot;email&quot;) String email);</pre></div><div class='content'></div><h2>Operadores de Comparación</h2>
<div class='content'><ul>
<li><strong>Palabras Clave</strong>: <code>Is</code>, <code>Equals</code>, <code>Between</code>, <code>LessThan</code>, <code>GreaterThan</code>, etc.</li>
</ul>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TGlzdDxVc2VyPiBmaW5kQnlBZ2VHcmVhdGVyVGhhbihpbnQgYWdlKTsKTGlzdDxVc2VyPiBmaW5kQnlBZ2VCZXR3ZWVuKGludCBzdGFydEFnZSwgaW50IGVuZEFnZSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>List&lt;User&gt; findByAgeGreaterThan(int age);
List&lt;User&gt; findByAgeBetween(int startAge, int endAge);</pre></div><div class='content'></div><h1>Métodos de Consulta Avanzados</h1>
<div class='content'></div><h2>JPQL y Consultas Nativas</h2>
<div class='content'><ul>
<li><strong>JPQL</strong>: Java Persistence Query Language, similar a SQL pero opera sobre el modelo de entidad.</li>
<li><strong>Consultas Nativas</strong>: Consultas SQL directas.</li>
</ul>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFF1ZXJ5KCJTRUxFQ1QgdSBGUk9NIFVzZXIgdSBXSEVSRSB1LnN0YXR1cyA9ICdBQ1RJVkUnIikKTGlzdDxVc2VyPiBmaW5kQWN0aXZlVXNlcnMoKTsKCkBRdWVyeSh2YWx1ZSA9ICJTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIHN0YXR1cyA9ICdBQ1RJVkUnIiwgbmF0aXZlUXVlcnkgPSB0cnVlKQpMaXN0PFVzZXI+IGZpbmRBY3RpdmVVc2Vyc05hdGl2ZSgpOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Query(&quot;SELECT u FROM User u WHERE u.status = 'ACTIVE'&quot;)
List&lt;User&gt; findActiveUsers();

@Query(value = &quot;SELECT * FROM users WHERE status = 'ACTIVE'&quot;, nativeQuery = true)
List&lt;User&gt; findActiveUsersNative();</pre></div><div class='content'></div><h2>Paginación y Ordenación</h2>
<div class='content'><ul>
<li><strong>Paginación</strong>: Usa la interfaz <code>Pageable</code>.</li>
<li><strong>Ordenación</strong>: Usa la interfaz <code>Sort</code>.</li>
</ul>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UGFnZTxVc2VyPiBmaW5kQnlMYXN0TmFtZShTdHJpbmcgbGFzdE5hbWUsIFBhZ2VhYmxlIHBhZ2VhYmxlKTsKCkxpc3Q8VXNlcj4gZmluZEJ5TGFzdE5hbWUoU3RyaW5nIGxhc3ROYW1lLCBTb3J0IHNvcnQpOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Page&lt;User&gt; findByLastName(String lastName, Pageable pageable);

List&lt;User&gt; findByLastName(String lastName, Sort sort);</pre></div><div class='content'></div><h2>Consultas Dinámicas</h2>
<div class='content'><ul>
<li><strong>Especificaciones</strong>: Usa la interfaz <code>Specification</code> para consultas complejas.</li>
</ul>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBVc2VyUmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8VXNlciwgTG9uZz4sIEpwYVNwZWNpZmljYXRpb25FeGVjdXRvcjxVc2VyPiB7Cn0KCnB1YmxpYyBjbGFzcyBVc2VyU3BlY2lmaWNhdGlvbnMgewogICAgcHVibGljIHN0YXRpYyBTcGVjaWZpY2F0aW9uPFVzZXI+IGhhc0xhc3ROYW1lKFN0cmluZyBsYXN0TmFtZSkgewogICAgICAgIHJldHVybiAocm9vdCwgcXVlcnksIGNyaXRlcmlhQnVpbGRlcikgLT4gY3JpdGVyaWFCdWlsZGVyLmVxdWFsKHJvb3QuZ2V0KCJsYXN0TmFtZSIpLCBsYXN0TmFtZSk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface UserRepository extends JpaRepository&lt;User, Long&gt;, JpaSpecificationExecutor&lt;User&gt; {
}

public class UserSpecifications {
    public static Specification&lt;User&gt; hasLastName(String lastName) {
        return (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(&quot;lastName&quot;), lastName);
    }
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Spring Data JPA proporciona una forma poderosa y flexible de definir métodos de consulta. Al entender los conceptos básicos de la creación de consultas por método, parámetros de consulta, operadores de comparación y conceptos avanzados como JPQL, consultas nativas, paginación, ordenación y consultas dinámicas, puedes gestionar eficientemente el acceso a datos en tus aplicaciones Spring Boot.</p>
</div><h2>Resumen</h2>
<div class='content'><ul>
<li><strong>Creación de Consultas por Método</strong>: Define consultas basadas en nombres de métodos.</li>
<li><strong>Parámetros de Consulta</strong>: Usa parámetros posicionales o nombrados.</li>
<li><strong>Operadores de Comparación</strong>: Usa palabras clave para varias condiciones.</li>
<li><strong>JPQL y Consultas Nativas</strong>: Escribe consultas personalizadas usando JPQL o SQL.</li>
<li><strong>Paginación y Ordenación</strong>: Maneja grandes conjuntos de datos eficientemente.</li>
<li><strong>Consultas Dinámicas</strong>: Usa especificaciones para consultas complejas.</li>
</ul>
<p>Al dominar estos conceptos, puedes aprovechar todo el potencial de Spring Data JPA en tus aplicaciones.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-and-using-repositories'>&#x25C4;Creación y Uso de Repositorios</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Métodos de Consulta en Spring Data JPA</a>
	</div>
	<div class='col-4 text-end'>
					<a href='pagination-and-sorting'>Paginación y Ordenación &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
