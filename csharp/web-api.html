<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web API en C#</title>

    <link rel="alternate" href="https://campusempresa.com/csharp/web-api" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/csharp/web-api" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/csharp/web-api" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/csharp/web-api" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/csharp/web-api" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='mvc-architecture'>&#x25C4;Arquitectura MVC</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Web API en C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='authentication-authorization'>Autenticación y Autorización &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a Web API</h1>
<div class='content'><p>Web API (Interfaz de Programación de Aplicaciones) es un marco que facilita la creación de servicios HTTP que alcanzan una amplia gama de clientes, incluidos navegadores y dispositivos móviles. En C#, Web API se construye típicamente usando ASP.NET Core.</p>
<ul>
<li>
<p><strong>¿Qué es una Web API?</strong></p>
<ul>
<li>Un conjunto de servicios basados en HTTP.</li>
<li>Permite que diferentes sistemas de software se comuniquen a través de la web.</li>
<li>A menudo se utiliza para servicios RESTful.</li>
</ul>
</li>
<li>
<p><strong>¿Por qué usar Web API?</strong></p>
<ul>
<li>Independencia de la plataforma.</li>
<li>Ligero y fácil de usar.</li>
<li>Soporta operaciones CRUD (Crear, Leer, Actualizar, Eliminar).</li>
</ul>
</li>
</ul>
</div><h1>Configurando tu Entorno</h1>
<div class='content'><p>Antes de sumergirte en el desarrollo de Web API, asegúrate de tener las siguientes herramientas instaladas:</p>
<ul>
<li>Visual Studio o Visual Studio Code.</li>
<li>.NET SDK.</li>
</ul>
</div><h1>Creando una Web API Simple</h1>
<h2>Guía Paso a Paso</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un nuevo proyecto:</strong></p>
<ul>
<li>Abre Visual Studio.</li>
<li>Selecciona &quot;Crear un nuevo proyecto&quot;.</li>
<li>Elige &quot;ASP.NET Core Web API&quot;.</li>
<li>Configura tu proyecto y haz clic en &quot;Crear&quot;.</li>
</ul>
</li>
<li>
<p><strong>Estructura del Proyecto:</strong></p>
<ul>
<li>Carpeta <code>Controllers</code>: Contiene los controladores de la API.</li>
<li>Carpeta <code>Models</code>: Contiene los modelos de datos.</li>
<li><code>Program.cs</code> y <code>Startup.cs</code>: Archivos de configuración.</li>
</ul>
</li>
</ol>
</div><h2>Ejemplo: Web API Básica</h2>
<div class='content'><p>Vamos a crear una simple Web API que gestione una lista de libros.</p>
<h4>Paso 1: Definir el Modelo</h4>
<p>Crea una clase <code>Book</code> en la carpeta <code>Models</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZXNwYWNlIFdlYkFwaUV4YW1wbGUuTW9kZWxzCnsKICAgIHB1YmxpYyBjbGFzcyBCb29rCiAgICB7CiAgICAgICAgcHVibGljIGludCBJZCB7IGdldDsgc2V0OyB9CiAgICAgICAgcHVibGljIHN0cmluZyBUaXRsZSB7IGdldDsgc2V0OyB9CiAgICAgICAgcHVibGljIHN0cmluZyBBdXRob3IgeyBnZXQ7IHNldDsgfQogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>namespace WebApiExample.Models
{
    public class Book
    {
        public int Id { get; set; }
        public string Title { get; set; }
        public string Author { get; set; }
    }
}</pre></div><div class='content'><h4>Paso 2: Crear el Controlador</h4>
<p>Crea un <code>BooksController</code> en la carpeta <code>Controllers</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgTWljcm9zb2Z0LkFzcE5ldENvcmUuTXZjOwp1c2luZyBXZWJBcGlFeGFtcGxlLk1vZGVsczsKdXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7CnVzaW5nIFN5c3RlbS5MaW5xOwoKbmFtZXNwYWNlIFdlYkFwaUV4YW1wbGUuQ29udHJvbGxlcnMKewogICAgW1JvdXRlKCJhcGkvW2NvbnRyb2xsZXJdIildCiAgICBbQXBpQ29udHJvbGxlcl0KICAgIHB1YmxpYyBjbGFzcyBCb29rc0NvbnRyb2xsZXIgOiBDb250cm9sbGVyQmFzZQogICAgewogICAgICAgIHByaXZhdGUgc3RhdGljIExpc3Q8Qm9vaz4gYm9va3MgPSBuZXcgTGlzdDxCb29rPgogICAgICAgIHsKICAgICAgICAgICAgbmV3IEJvb2sgeyBJZCA9IDEsIFRpdGxlID0gIjE5ODQiLCBBdXRob3IgPSAiR2VvcmdlIE9yd2VsbCIgfSwKICAgICAgICAgICAgbmV3IEJvb2sgeyBJZCA9IDIsIFRpdGxlID0gIlRvIEtpbGwgYSBNb2NraW5nYmlyZCIsIEF1dGhvciA9ICJIYXJwZXIgTGVlIiB9CiAgICAgICAgfTsKCiAgICAgICAgW0h0dHBHZXRdCiAgICAgICAgcHVibGljIEFjdGlvblJlc3VsdDxJRW51bWVyYWJsZTxCb29rPj4gR2V0Qm9va3MoKQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIGJvb2tzOwogICAgICAgIH0KCiAgICAgICAgW0h0dHBHZXQoIntpZH0iKV0KICAgICAgICBwdWJsaWMgQWN0aW9uUmVzdWx0PEJvb2s+IEdldEJvb2soaW50IGlkKQogICAgICAgIHsKICAgICAgICAgICAgdmFyIGJvb2sgPSBib29rcy5GaXJzdE9yRGVmYXVsdChiID0+IGIuSWQgPT0gaWQpOwogICAgICAgICAgICBpZiAoYm9vayA9PSBudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gTm90Rm91bmQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gYm9vazsKICAgICAgICB9CgogICAgICAgIFtIdHRwUG9zdF0KICAgICAgICBwdWJsaWMgQWN0aW9uUmVzdWx0PEJvb2s+IENyZWF0ZUJvb2soQm9vayBib29rKQogICAgICAgIHsKICAgICAgICAgICAgYm9vay5JZCA9IGJvb2tzLk1heChiID0+IGIuSWQpICsgMTsKICAgICAgICAgICAgYm9va3MuQWRkKGJvb2spOwogICAgICAgICAgICByZXR1cm4gQ3JlYXRlZEF0QWN0aW9uKG5hbWVvZihHZXRCb29rKSwgbmV3IHsgaWQgPSBib29rLklkIH0sIGJvb2spOwogICAgICAgIH0KCiAgICAgICAgW0h0dHBQdXQoIntpZH0iKV0KICAgICAgICBwdWJsaWMgSUFjdGlvblJlc3VsdCBVcGRhdGVCb29rKGludCBpZCwgQm9vayBib29rKQogICAgICAgIHsKICAgICAgICAgICAgdmFyIGV4aXN0aW5nQm9vayA9IGJvb2tzLkZpcnN0T3JEZWZhdWx0KGIgPT4gYi5JZCA9PSBpZCk7CiAgICAgICAgICAgIGlmIChleGlzdGluZ0Jvb2sgPT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcmV0dXJuIE5vdEZvdW5kKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXhpc3RpbmdCb29rLlRpdGxlID0gYm9vay5UaXRsZTsKICAgICAgICAgICAgZXhpc3RpbmdCb29rLkF1dGhvciA9IGJvb2suQXV0aG9yOwogICAgICAgICAgICByZXR1cm4gTm9Db250ZW50KCk7CiAgICAgICAgfQoKICAgICAgICBbSHR0cERlbGV0ZSgie2lkfSIpXQogICAgICAgIHB1YmxpYyBJQWN0aW9uUmVzdWx0IERlbGV0ZUJvb2soaW50IGlkKQogICAgICAgIHsKICAgICAgICAgICAgdmFyIGJvb2sgPSBib29rcy5GaXJzdE9yRGVmYXVsdChiID0+IGIuSWQgPT0gaWQpOwogICAgICAgICAgICBpZiAoYm9vayA9PSBudWxsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gTm90Rm91bmQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBib29rcy5SZW1vdmUoYm9vayk7CiAgICAgICAgICAgIHJldHVybiBOb0NvbnRlbnQoKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using Microsoft.AspNetCore.Mvc;
using WebApiExample.Models;
using System.Collections.Generic;
using System.Linq;

namespace WebApiExample.Controllers
{
    [Route(&quot;api/[controller]&quot;)]
    [ApiController]
    public class BooksController : ControllerBase
    {
        private static List&lt;Book&gt; books = new List&lt;Book&gt;
        {
            new Book { Id = 1, Title = &quot;1984&quot;, Author = &quot;George Orwell&quot; },
            new Book { Id = 2, Title = &quot;To Kill a Mockingbird&quot;, Author = &quot;Harper Lee&quot; }
        };

        [HttpGet]
        public ActionResult&lt;IEnumerable&lt;Book&gt;&gt; GetBooks()
        {
            return books;
        }

        [HttpGet(&quot;{id}&quot;)]
        public ActionResult&lt;Book&gt; GetBook(int id)
        {
            var book = books.FirstOrDefault(b =&gt; b.Id == id);
            if (book == null)
            {
                return NotFound();
            }
            return book;
        }

        [HttpPost]
        public ActionResult&lt;Book&gt; CreateBook(Book book)
        {
            book.Id = books.Max(b =&gt; b.Id) + 1;
            books.Add(book);
            return CreatedAtAction(nameof(GetBook), new { id = book.Id }, book);
        }

        [HttpPut(&quot;{id}&quot;)]
        public IActionResult UpdateBook(int id, Book book)
        {
            var existingBook = books.FirstOrDefault(b =&gt; b.Id == id);
            if (existingBook == null)
            {
                return NotFound();
            }
            existingBook.Title = book.Title;
            existingBook.Author = book.Author;
            return NoContent();
        }

        [HttpDelete(&quot;{id}&quot;)]
        public IActionResult DeleteBook(int id)
        {
            var book = books.FirstOrDefault(b =&gt; b.Id == id);
            if (book == null)
            {
                return NotFound();
            }
            books.Remove(book);
            return NoContent();
        }
    }
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>[Route(&quot;api/[controller]&quot;)]:</strong> Define la plantilla de ruta para el controlador.</li>
<li><strong>[ApiController]:</strong> Indica que este es un controlador de API.</li>
<li><strong>[HttpGet], [HttpPost], [HttpPut], [HttpDelete]:</strong> Definen los métodos HTTP para las acciones.</li>
</ul>
</div><h1>Temas Avanzados</h1>
<h2>Inyección de Dependencias</h2>
<div class='content'><ul>
<li>
<p><strong>¿Qué es la Inyección de Dependencias?</strong></p>
<ul>
<li>Un patrón de diseño utilizado para implementar IoC (Inversión de Control).</li>
<li>Ayuda a crear código desacoplado.</li>
</ul>
</li>
<li>
<p><strong>Usando la Inyección de Dependencias en Web API:</strong></p>
<ul>
<li>Registrar servicios en <code>Startup.cs</code>.</li>
<li>Inyectar servicios en los controladores.</li>
</ul>
</li>
</ul>
</div><h2>Ejemplo: Usando un Servicio</h2>
<div class='content'><ol>
<li><strong>Crear una Interfaz de Servicio e Implementación:</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBJQm9va1NlcnZpY2UKewogICAgSUVudW1lcmFibGU8Qm9vaz4gR2V0Qm9va3MoKTsKICAgIEJvb2sgR2V0Qm9vayhpbnQgaWQpOwogICAgdm9pZCBDcmVhdGVCb29rKEJvb2sgYm9vayk7CiAgICB2b2lkIFVwZGF0ZUJvb2soaW50IGlkLCBCb29rIGJvb2spOwogICAgdm9pZCBEZWxldGVCb29rKGludCBpZCk7Cn0KCnB1YmxpYyBjbGFzcyBCb29rU2VydmljZSA6IElCb29rU2VydmljZQp7CiAgICBwcml2YXRlIHJlYWRvbmx5IExpc3Q8Qm9vaz4gYm9va3MgPSBuZXcgTGlzdDxCb29rPgogICAgewogICAgICAgIG5ldyBCb29rIHsgSWQgPSAxLCBUaXRsZSA9ICIxOTg0IiwgQXV0aG9yID0gIkdlb3JnZSBPcndlbGwiIH0sCiAgICAgICAgbmV3IEJvb2sgeyBJZCA9IDIsIFRpdGxlID0gIlRvIEtpbGwgYSBNb2NraW5nYmlyZCIsIEF1dGhvciA9ICJIYXJwZXIgTGVlIiB9CiAgICB9OwoKICAgIHB1YmxpYyBJRW51bWVyYWJsZTxCb29rPiBHZXRCb29rcygpID0+IGJvb2tzOwoKICAgIHB1YmxpYyBCb29rIEdldEJvb2soaW50IGlkKSA9PiBib29rcy5GaXJzdE9yRGVmYXVsdChiID0+IGIuSWQgPT0gaWQpOwoKICAgIHB1YmxpYyB2b2lkIENyZWF0ZUJvb2soQm9vayBib29rKQogICAgewogICAgICAgIGJvb2suSWQgPSBib29rcy5NYXgoYiA9PiBiLklkKSArIDE7CiAgICAgICAgYm9va3MuQWRkKGJvb2spOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIFVwZGF0ZUJvb2soaW50IGlkLCBCb29rIGJvb2spCiAgICB7CiAgICAgICAgdmFyIGV4aXN0aW5nQm9vayA9IGJvb2tzLkZpcnN0T3JEZWZhdWx0KGIgPT4gYi5JZCA9PSBpZCk7CiAgICAgICAgaWYgKGV4aXN0aW5nQm9vayAhPSBudWxsKQogICAgICAgIHsKICAgICAgICAgICAgZXhpc3RpbmdCb29rLlRpdGxlID0gYm9vay5UaXRsZTsKICAgICAgICAgICAgZXhpc3RpbmdCb29rLkF1dGhvciA9IGJvb2suQXV0aG9yOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdm9pZCBEZWxldGVCb29rKGludCBpZCkKICAgIHsKICAgICAgICB2YXIgYm9vayA9IGJvb2tzLkZpcnN0T3JEZWZhdWx0KGIgPT4gYi5JZCA9PSBpZCk7CiAgICAgICAgaWYgKGJvb2sgIT0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIGJvb2tzLlJlbW92ZShib29rKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface IBookService
{
    IEnumerable&lt;Book&gt; GetBooks();
    Book GetBook(int id);
    void CreateBook(Book book);
    void UpdateBook(int id, Book book);
    void DeleteBook(int id);
}

public class BookService : IBookService
{
    private readonly List&lt;Book&gt; books = new List&lt;Book&gt;
    {
        new Book { Id = 1, Title = &quot;1984&quot;, Author = &quot;George Orwell&quot; },
        new Book { Id = 2, Title = &quot;To Kill a Mockingbird&quot;, Author = &quot;Harper Lee&quot; }
    };

    public IEnumerable&lt;Book&gt; GetBooks() =&gt; books;

    public Book GetBook(int id) =&gt; books.FirstOrDefault(b =&gt; b.Id == id);

    public void CreateBook(Book book)
    {
        book.Id = books.Max(b =&gt; b.Id) + 1;
        books.Add(book);
    }

    public void UpdateBook(int id, Book book)
    {
        var existingBook = books.FirstOrDefault(b =&gt; b.Id == id);
        if (existingBook != null)
        {
            existingBook.Title = book.Title;
            existingBook.Author = book.Author;
        }
    }

    public void DeleteBook(int id)
    {
        var book = books.FirstOrDefault(b =&gt; b.Id == id);
        if (book != null)
        {
            books.Remove(book);
        }
    }
}</pre></div><div class='content'><ol start="2">
<li><strong>Registrar el Servicio en <code>Startup.cs</code>:</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIHZvaWQgQ29uZmlndXJlU2VydmljZXMoSVNlcnZpY2VDb2xsZWN0aW9uIHNlcnZpY2VzKQp7CiAgICBzZXJ2aWNlcy5BZGRDb250cm9sbGVycygpOwogICAgc2VydmljZXMuQWRkU2luZ2xldG9uPElCb29rU2VydmljZSwgQm9va1NlcnZpY2U+KCk7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public void ConfigureServices(IServiceCollection services)
{
    services.AddControllers();
    services.AddSingleton&lt;IBookService, BookService&gt;();
}</pre></div><div class='content'><ol start="3">
<li><strong>Inyectar el Servicio en el Controlador:</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIEJvb2tzQ29udHJvbGxlciA6IENvbnRyb2xsZXJCYXNlCnsKICAgIHByaXZhdGUgcmVhZG9ubHkgSUJvb2tTZXJ2aWNlIF9ib29rU2VydmljZTsKCiAgICBwdWJsaWMgQm9va3NDb250cm9sbGVyKElCb29rU2VydmljZSBib29rU2VydmljZSkKICAgIHsKICAgICAgICBfYm9va1NlcnZpY2UgPSBib29rU2VydmljZTsKICAgIH0KCiAgICBbSHR0cEdldF0KICAgIHB1YmxpYyBBY3Rpb25SZXN1bHQ8SUVudW1lcmFibGU8Qm9vaz4+IEdldEJvb2tzKCkKICAgIHsKICAgICAgICByZXR1cm4gX2Jvb2tTZXJ2aWNlLkdldEJvb2tzKCkuVG9MaXN0KCk7CiAgICB9CgogICAgW0h0dHBHZXQoIntpZH0iKV0KICAgIHB1YmxpYyBBY3Rpb25SZXN1bHQ8Qm9vaz4gR2V0Qm9vayhpbnQgaWQpCiAgICB7CiAgICAgICAgdmFyIGJvb2sgPSBfYm9va1NlcnZpY2UuR2V0Qm9vayhpZCk7CiAgICAgICAgaWYgKGJvb2sgPT0gbnVsbCkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiBOb3RGb3VuZCgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYm9vazsKICAgIH0KCiAgICBbSHR0cFBvc3RdCiAgICBwdWJsaWMgQWN0aW9uUmVzdWx0PEJvb2s+IENyZWF0ZUJvb2soQm9vayBib29rKQogICAgewogICAgICAgIF9ib29rU2VydmljZS5DcmVhdGVCb29rKGJvb2spOwogICAgICAgIHJldHVybiBDcmVhdGVkQXRBY3Rpb24obmFtZW9mKEdldEJvb2spLCBuZXcgeyBpZCA9IGJvb2suSWQgfSwgYm9vayk7CiAgICB9CgogICAgW0h0dHBQdXQoIntpZH0iKV0KICAgIHB1YmxpYyBJQWN0aW9uUmVzdWx0IFVwZGF0ZUJvb2soaW50IGlkLCBCb29rIGJvb2spCiAgICB7CiAgICAgICAgX2Jvb2tTZXJ2aWNlLlVwZGF0ZUJvb2soaWQsIGJvb2spOwogICAgICAgIHJldHVybiBOb0NvbnRlbnQoKTsKICAgIH0KCiAgICBbSHR0cERlbGV0ZSgie2lkfSIpXQogICAgcHVibGljIElBY3Rpb25SZXN1bHQgRGVsZXRlQm9vayhpbnQgaWQpCiAgICB7CiAgICAgICAgX2Jvb2tTZXJ2aWNlLkRlbGV0ZUJvb2soaWQpOwogICAgICAgIHJldHVybiBOb0NvbnRlbnQoKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class BooksController : ControllerBase
{
    private readonly IBookService _bookService;

    public BooksController(IBookService bookService)
    {
        _bookService = bookService;
    }

    [HttpGet]
    public ActionResult&lt;IEnumerable&lt;Book&gt;&gt; GetBooks()
    {
        return _bookService.GetBooks().ToList();
    }

    [HttpGet(&quot;{id}&quot;)]
    public ActionResult&lt;Book&gt; GetBook(int id)
    {
        var book = _bookService.GetBook(id);
        if (book == null)
        {
            return NotFound();
        }
        return book;
    }

    [HttpPost]
    public ActionResult&lt;Book&gt; CreateBook(Book book)
    {
        _bookService.CreateBook(book);
        return CreatedAtAction(nameof(GetBook), new { id = book.Id }, book);
    }

    [HttpPut(&quot;{id}&quot;)]
    public IActionResult UpdateBook(int id, Book book)
    {
        _bookService.UpdateBook(id, book);
        return NoContent();
    }

    [HttpDelete(&quot;{id}&quot;)]
    public IActionResult DeleteBook(int id)
    {
        _bookService.DeleteBook(id);
        return NoContent();
    }
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En este tema, cubrimos los conceptos básicos de la creación de una Web API en C#. Comenzamos con la configuración del entorno, creando una simple Web API, y luego pasamos a temas más avanzados como la inyección de dependencias. Siguiendo estos pasos, puedes construir Web APIs robustas y escalables usando C#.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='mvc-architecture'>&#x25C4;Arquitectura MVC</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Web API en C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='authentication-authorization'>Autenticación y Autorización &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
