<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inyección de Dependencias en Angular 2+</title>

    <link rel="alternate" href="https://campusempresa.com/angular2/dependency-injection" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/angular2/dependency-injection" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/angular2/dependency-injection" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/angular2/dependency-injection" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/angular2/dependency-injection" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-and-using-services'>&#x25C4;Creación y Uso de Servicios</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Inyección de Dependencias en Angular 2+</a>
	</div>
	<div class='col-4 text-end'>
					<a href='hierarchical-injectors'>Inyectores Jerárquicos &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a la Inyección de Dependencias</h1>
<div class='content'><p>La Inyección de Dependencias (DI) es un patrón de diseño utilizado para implementar IoC (Inversión de Control), permitiendo que una clase reciba sus dependencias de una fuente externa en lugar de crearlas por sí misma. El sistema DI de Angular es una parte central del framework, facilitando la gestión de dependencias y promoviendo la reutilización y testabilidad del código.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Injector</strong>: El mecanismo que resuelve dependencias y proporciona instancias de servicios.</li>
<li><strong>Provider</strong>: Una forma de decirle al inyector cómo crear la dependencia.</li>
<li><strong>Service</strong>: Una clase que proporciona funcionalidad para ser utilizada en toda la aplicación.</li>
<li><strong>Dependency</strong>: Un objeto que una clase necesita para realizar su función.</li>
</ul>
</div><h1>Configuración de un Servicio</h1>
<div class='content'><p>Para demostrar DI, crearemos un servicio simple y lo inyectaremos en un componente.</p>
</div><h2>Creación de un Servicio</h2>
<div class='content'><p>Primero, crea un servicio usando Angular CLI:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmcgZ2VuZXJhdGUgc2VydmljZSBleGFtcGxl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ng generate service example</pre></div><div class='content'><p>Este comando genera un archivo de servicio <code>example.service.ts</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwoKQEluamVjdGFibGUoewogIHByb3ZpZGVkSW46ICdyb290JywKfSkKZXhwb3J0IGNsYXNzIEV4YW1wbGVTZXJ2aWNlIHsKICBjb25zdHJ1Y3RvcigpIHt9CgogIGdldE1lc3NhZ2UoKTogc3RyaW5nIHsKICAgIHJldHVybiAnwqFIb2xhIGRlc2RlIEV4YW1wbGVTZXJ2aWNlISc7CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root',
})
export class ExampleService {
  constructor() {}

  getMessage(): string {
    return '&iexcl;Hola desde ExampleService!';
  }
}</pre></div><div class='content'></div><h2>Inyectando el Servicio en un Componente</h2>
<div class='content'><p>A continuación, inyecta el <code>ExampleService</code> en un componente.</p>
<ol>
<li>Abre el archivo del componente, por ejemplo, <code>app.component.ts</code>.</li>
<li>Importa el <code>ExampleService</code>.</li>
<li>Inyecta el servicio a través del constructor.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgRXhhbXBsZVNlcnZpY2UgfSBmcm9tICcuL2V4YW1wbGUuc2VydmljZSc7CgpAQ29tcG9uZW50KHsKICBzZWxlY3RvcjogJ2FwcC1yb290JywKICB0ZW1wbGF0ZVVybDogJy4vYXBwLmNvbXBvbmVudC5odG1sJywKICBzdHlsZVVybHM6IFsnLi9hcHAuY29tcG9uZW50LmNzcyddCn0pCmV4cG9ydCBjbGFzcyBBcHBDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQgewogIG1lc3NhZ2U6IHN0cmluZzsKCiAgY29uc3RydWN0b3IocHJpdmF0ZSBleGFtcGxlU2VydmljZTogRXhhbXBsZVNlcnZpY2UpIHt9CgogIG5nT25Jbml0KCkgewogICAgdGhpcy5tZXNzYWdlID0gdGhpcy5leGFtcGxlU2VydmljZS5nZXRNZXNzYWdlKCk7CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Component, OnInit } from '@angular/core';
import { ExampleService } from './example.service';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent implements OnInit {
  message: string;

  constructor(private exampleService: ExampleService) {}

  ngOnInit() {
    this.message = this.exampleService.getMessage();
  }
}</pre></div><div class='content'></div><h2>Mostrando el Mensaje en la Plantilla</h2>
<div class='content'><p>Actualiza el archivo de plantilla <code>app.component.html</code> para mostrar el mensaje:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRpdj4KICB7eyBtZXNzYWdlIH19CjwvZGl2Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;div&gt;
  {{ message }}
&lt;/div&gt;</pre></div><div class='content'></div><h1>Inyección de Dependencias Avanzada</h1>
<h2>Inyectores Jerárquicos</h2>
<div class='content'><p>El sistema DI de Angular es jerárquico, lo que significa que los inyectores pueden estar anidados. Esto permite que diferentes instancias de un servicio se proporcionen en diferentes niveles de la aplicación.</p>
<ul>
<li><strong>Root Injector</strong>: Proporciona servicios a nivel de toda la aplicación.</li>
<li><strong>Component Injector</strong>: Proporciona servicios específicos para un componente y sus hijos.</li>
</ul>
</div><h2>Proporcionando Servicios en un Módulo</h2>
<div class='content'><p>Puedes proporcionar servicios a nivel de módulo para controlar su alcance.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgQnJvd3Nlck1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInOwppbXBvcnQgeyBBcHBDb21wb25lbnQgfSBmcm9tICcuL2FwcC5jb21wb25lbnQnOwppbXBvcnQgeyBFeGFtcGxlU2VydmljZSB9IGZyb20gJy4vZXhhbXBsZS5zZXJ2aWNlJzsKCkBOZ01vZHVsZSh7CiAgZGVjbGFyYXRpb25zOiBbQXBwQ29tcG9uZW50XSwKICBpbXBvcnRzOiBbQnJvd3Nlck1vZHVsZV0sCiAgcHJvdmlkZXJzOiBbRXhhbXBsZVNlcnZpY2VdLAogIGJvb3RzdHJhcDogW0FwcENvbXBvbmVudF0KfSkKZXhwb3J0IGNsYXNzIEFwcE1vZHVsZSB7fQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';
import { ExampleService } from './example.service';

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule],
  providers: [ExampleService],
  bootstrap: [AppComponent]
})
export class AppModule {}</pre></div><div class='content'></div><h2>Usando `@Inject` y `@Optional`</h2>
<div class='content'><p>A veces necesitas más control sobre cómo se inyectan las dependencias.</p>
<ul>
<li><strong><code>@Inject</code></strong>: Especifica explícitamente la dependencia a inyectar.</li>
<li><strong><code>@Optional</code></strong>: Permite que una dependencia sea opcional.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3QsIE9wdGlvbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CmltcG9ydCB7IEV4YW1wbGVTZXJ2aWNlIH0gZnJvbSAnLi9leGFtcGxlLnNlcnZpY2UnOwoKQENvbXBvbmVudCh7CiAgc2VsZWN0b3I6ICdhcHAtcm9vdCcsCiAgdGVtcGxhdGVVcmw6ICcuL2FwcC5jb21wb25lbnQuaHRtbCcsCiAgc3R5bGVVcmxzOiBbJy4vYXBwLmNvbXBvbmVudC5jc3MnXQp9KQpleHBvcnQgY2xhc3MgQXBwQ29tcG9uZW50IHsKICBjb25zdHJ1Y3RvcihAT3B0aW9uYWwoKSBASW5qZWN0KEV4YW1wbGVTZXJ2aWNlKSBwcml2YXRlIGV4YW1wbGVTZXJ2aWNlOiBFeGFtcGxlU2VydmljZSkgewogICAgaWYgKHRoaXMuZXhhbXBsZVNlcnZpY2UpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5leGFtcGxlU2VydmljZS5nZXRNZXNzYWdlKCkpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5sb2coJ0V4YW1wbGVTZXJ2aWNlIG5vIGVzdMOhIGRpc3BvbmlibGUnKTsKICAgIH0KICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Component, Inject, Optional } from '@angular/core';
import { ExampleService } from './example.service';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  constructor(@Optional() @Inject(ExampleService) private exampleService: ExampleService) {
    if (this.exampleService) {
      console.log(this.exampleService.getMessage());
    } else {
      console.log('ExampleService no est&aacute; disponible');
    }
  }
}</pre></div><div class='content'></div><h1>Resumen</h1>
<div class='content'><p>La Inyección de Dependencias es un patrón poderoso que Angular aprovecha para gestionar dependencias de manera eficiente. Al comprender y utilizar el sistema DI de Angular, puedes crear aplicaciones más modulares, testeables y mantenibles. Los puntos clave incluyen:</p>
<ul>
<li><strong>Injector</strong>: Gestiona la creación y provisión de dependencias.</li>
<li><strong>Provider</strong>: Configura cómo se crean las dependencias.</li>
<li><strong>Service</strong>: Una clase reutilizable que proporciona funcionalidad.</li>
<li><strong>Inyectores Jerárquicos</strong>: Permiten diferentes instancias de servicios en diferentes niveles.</li>
</ul>
<p>Dominar la DI en Angular mejorará significativamente tu capacidad para construir aplicaciones robustas.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-and-using-services'>&#x25C4;Creación y Uso de Servicios</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Inyección de Dependencias en Angular 2+</a>
	</div>
	<div class='col-4 text-end'>
					<a href='hierarchical-injectors'>Inyectores Jerárquicos &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
