<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimización del Rendimiento</title>

    <link rel="alternate" href="https://campusempresa.com/mod/lua/04-04-performance-optimization" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/lua/04-04-performance-optimization" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/lua/04-04-performance-optimization" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/lua/04-04-performance-optimization" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/lua/04-04-performance-optimization" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-03-debugging-techniques' title="Técnicas de Depuración">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Optimización del Rendimiento</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-05-lua-c-api' title="Uso de la API C de Lua">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La optimización del rendimiento es una parte crucial del desarrollo de software, especialmente cuando se trabaja con lenguajes de scripting como Lua. En este módulo, aprenderemos diversas técnicas y estrategias para mejorar la eficiencia y el rendimiento de nuestros scripts en Lua.</p>
</div><h1>Contenido</h1>
<div class='content'><ol>
<li><a href="#introducción-a-la-optimización">Introducción a la Optimización</a></li>
<li><a href="#identificación-de-cuellos-de-botella">Identificación de Cuellos de Botella</a></li>
<li><a href="#optimización-de-código">Optimización de Código</a></li>
<li><a href="#uso-eficiente-de-tablas">Uso Eficiente de Tablas</a></li>
<li><a href="#optimización-de-funciones">Optimización de Funciones</a></li>
<li><a href="#memoria-y-gestión-de-recursos">Memoria y Gestión de Recursos</a></li>
<li><a href="#herramientas-de-perfilado">Herramientas de Perfilado</a></li>
<li><a href="#ejercicios-prácticos">Ejercicios Prácticos</a></li>
</ol>
</div><h1>Introducción a la Optimización</h1>
<div class='content'><p>La optimización del rendimiento implica hacer que tu código sea más rápido y eficiente. Sin embargo, es importante recordar que la optimización prematura puede ser contraproducente. Primero, asegúrate de que tu código funcione correctamente y luego identifica las áreas que realmente necesitan ser optimizadas.</p>
</div><h1>Identificación de Cuellos de Botella</h1>
<div class='content'><p>Antes de optimizar, es crucial identificar los cuellos de botella en tu código. Los cuellos de botella son partes del código que ralentizan significativamente el rendimiento general. Para identificarlos, puedes usar herramientas de perfilado que te ayudarán a analizar el rendimiento de tu script.</p>
</div><h2>Herramientas de Perfilado</h2>
<div class='content'><ul>
<li><strong>LuaProfiler</strong>: Una herramienta de perfilado para Lua que te permite medir el tiempo de ejecución de tus funciones.</li>
<li><strong>luatrace</strong>: Otra herramienta útil para rastrear y analizar el rendimiento de tu código Lua.</li>
</ul>
</div><h1>Optimización de Código</h1>
<div class='content'></div><h2>1. Evita el Uso de Bucles Anidados</h2>
<div class='content'><p>Los bucles anidados pueden ser costosos en términos de rendimiento. Siempre que sea posible, trata de reducir la complejidad de tus bucles.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRWplbXBsbyBkZSBidWNsZSBhbmlkYWRvCmZvciBpID0gMSwgMTAwMCBkbwogICAgZm9yIGogPSAxLCAxMDAwIGRvCiAgICAgICAgLS0gQ8OzZGlnbyBjb3N0b3NvCiAgICBlbmQKZW5kCgotLSBPcHRpbWl6YWNpw7NuOiBFdml0YXIgYnVjbGVzIGFuaWRhZG9zIHNpIGVzIHBvc2libGUKZm9yIGkgPSAxLCAxMDAwMDAwIGRvCiAgICAtLSBDw7NkaWdvIG9wdGltaXphZG8KZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Ejemplo de bucle anidado
for i = 1, 1000 do
    for j = 1, 1000 do
        -- C&oacute;digo costoso
    end
end

-- Optimizaci&oacute;n: Evitar bucles anidados si es posible
for i = 1, 1000000 do
    -- C&oacute;digo optimizado
end</pre></div><div class='content'></div><h2>2. Minimiza el Uso de Funciones Globales</h2>
<div class='content'><p>Las funciones globales son más lentas que las funciones locales debido a la forma en que Lua maneja el acceso a variables globales.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gVXNvIGRlIGZ1bmNpw7NuIGdsb2JhbApmdW5jdGlvbiBnbG9iYWxGdW5jdGlvbigpCiAgICAtLSBDw7NkaWdvCmVuZAoKLS0gVXNvIGRlIGZ1bmNpw7NuIGxvY2FsCmxvY2FsIGZ1bmN0aW9uIGxvY2FsRnVuY3Rpb24oKQogICAgLS0gQ8OzZGlnbwplbmQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Uso de funci&oacute;n global
function globalFunction()
    -- C&oacute;digo
end

-- Uso de funci&oacute;n local
local function localFunction()
    -- C&oacute;digo
end</pre></div><div class='content'></div><h1>Uso Eficiente de Tablas</h1>
<div class='content'><p>Las tablas son una estructura de datos fundamental en Lua, pero su uso ineficiente puede afectar el rendimiento.</p>
</div><h2>1. Preasignación de Tablas</h2>
<div class='content'><p>Preasignar el tamaño de una tabla puede mejorar el rendimiento al evitar la necesidad de redimensionar la tabla durante la ejecución.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gU2luIHByZWFzaWduYWNpw7NuCmxvY2FsIHQgPSB7fQpmb3IgaSA9IDEsIDEwMDAgZG8KICAgIHRbaV0gPSBpCmVuZAoKLS0gQ29uIHByZWFzaWduYWNpw7NuCmxvY2FsIHQgPSB7fQpmb3IgaSA9IDEsIDEwMDAgZG8KICAgIHRbaV0gPSBpCmVuZA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Sin preasignaci&oacute;n
local t = {}
for i = 1, 1000 do
    t[i] = i
end

-- Con preasignaci&oacute;n
local t = {}
for i = 1, 1000 do
    t[i] = i
end</pre></div><div class='content'></div><h2>2. Uso de Tablas Numéricas</h2>
<div class='content'><p>Las tablas numéricas son más eficientes que las tablas con claves de cadena.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gVGFibGEgY29uIGNsYXZlcyBkZSBjYWRlbmEKbG9jYWwgdCA9IHthID0gMSwgYiA9IDIsIGMgPSAzfQoKLS0gVGFibGEgbnVtw6lyaWNhCmxvY2FsIHQgPSB7MSwgMiwgM30="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Tabla con claves de cadena
local t = {a = 1, b = 2, c = 3}

-- Tabla num&eacute;rica
local t = {1, 2, 3}</pre></div><div class='content'></div><h1>Optimización de Funciones</h1>
<div class='content'></div><h2>1. Evita la Creación de Funciones en Bucles</h2>
<div class='content'><p>Crear funciones dentro de bucles puede ser costoso en términos de memoria y rendimiento.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ3JlYWNpw7NuIGRlIGZ1bmNpb25lcyBlbiBidWNsZXMgKGluZWZpY2llbnRlKQpmb3IgaSA9IDEsIDEwMDAgZG8KICAgIGxvY2FsIGZ1bmN0aW9uIHRlbXBGdW5jdGlvbigpCiAgICAgICAgLS0gQ8OzZGlnbwogICAgZW5kCmVuZAoKLS0gQ3JlYWNpw7NuIGRlIGZ1bmNpb25lcyBmdWVyYSBkZWwgYnVjbGUgKGVmaWNpZW50ZSkKbG9jYWwgZnVuY3Rpb24gdGVtcEZ1bmN0aW9uKCkKICAgIC0tIEPDs2RpZ28KZW5kCgpmb3IgaSA9IDEsIDEwMDAgZG8KICAgIHRlbXBGdW5jdGlvbigpCmVuZA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Creaci&oacute;n de funciones en bucles (ineficiente)
for i = 1, 1000 do
    local function tempFunction()
        -- C&oacute;digo
    end
end

-- Creaci&oacute;n de funciones fuera del bucle (eficiente)
local function tempFunction()
    -- C&oacute;digo
end

for i = 1, 1000 do
    tempFunction()
end</pre></div><div class='content'></div><h2>2. Uso de Funciones Locales</h2>
<div class='content'><p>Las funciones locales son más rápidas que las funciones globales debido a la forma en que Lua maneja el acceso a variables.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRnVuY2nDs24gZ2xvYmFsCmZ1bmN0aW9uIGdsb2JhbEZ1bmN0aW9uKCkKICAgIC0tIEPDs2RpZ28KZW5kCgotLSBGdW5jacOzbiBsb2NhbApsb2NhbCBmdW5jdGlvbiBsb2NhbEZ1bmN0aW9uKCkKICAgIC0tIEPDs2RpZ28KZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Funci&oacute;n global
function globalFunction()
    -- C&oacute;digo
end

-- Funci&oacute;n local
local function localFunction()
    -- C&oacute;digo
end</pre></div><div class='content'></div><h1>Memoria y Gestión de Recursos</h1>
<div class='content'></div><h2>1. Reutilización de Objetos</h2>
<div class='content'><p>Reutilizar objetos en lugar de crear nuevos puede mejorar el rendimiento y reducir la carga de trabajo del recolector de basura.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ3JlYWNpw7NuIGRlIG51ZXZvcyBvYmpldG9zIChpbmVmaWNpZW50ZSkKZm9yIGkgPSAxLCAxMDAwIGRvCiAgICBsb2NhbCBvYmogPSB7fQplbmQKCi0tIFJldXRpbGl6YWNpw7NuIGRlIG9iamV0b3MgKGVmaWNpZW50ZSkKbG9jYWwgb2JqID0ge30KZm9yIGkgPSAxLCAxMDAwIGRvCiAgICAtLSBSZXV0aWxpemFyIG9iagplbmQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Creaci&oacute;n de nuevos objetos (ineficiente)
for i = 1, 1000 do
    local obj = {}
end

-- Reutilizaci&oacute;n de objetos (eficiente)
local obj = {}
for i = 1, 1000 do
    -- Reutilizar obj
end</pre></div><div class='content'></div><h2>2. Liberación de Recursos</h2>
<div class='content'><p>Asegúrate de liberar los recursos que ya no necesitas para evitar el consumo innecesario de memoria.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gTGliZXJhY2nDs24gZGUgcmVjdXJzb3MKbG9jYWwgb2JqID0ge30KLS0gQ8OzZGlnbwpvYmogPSBuaWwgLS0gUGVybWl0ZSBxdWUgZWwgcmVjb2xlY3RvciBkZSBiYXN1cmEgbGliZXJlIGxhIG1lbW9yaWE="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Liberaci&oacute;n de recursos
local obj = {}
-- C&oacute;digo
obj = nil -- Permite que el recolector de basura libere la memoria</pre></div><div class='content'></div><h1>Herramientas de Perfilado</h1>
<div class='content'><p>Las herramientas de perfilado te ayudan a identificar las partes de tu código que necesitan optimización.</p>
</div><h2>LuaProfiler</h2>
<div class='content'><p>LuaProfiler es una herramienta que te permite medir el tiempo de ejecución de tus funciones.</p>
</div><h2>luatrace</h2>
<div class='content'><p>luatrace es otra herramienta útil para rastrear y analizar el rendimiento de tu código Lua.</p>
</div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Optimización de Bucles</h2>
<div class='content'><p>Optimiza el siguiente código para mejorar su rendimiento.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ8OzZGlnbyBvcmlnaW5hbApmb3IgaSA9IDEsIDEwMDAgZG8KICAgIGZvciBqID0gMSwgMTAwMCBkbwogICAgICAgIHByaW50KGksIGopCiAgICBlbmQKZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- C&oacute;digo original
for i = 1, 1000 do
    for j = 1, 1000 do
        print(i, j)
    end
end</pre></div><div class='content'></div><h2>Solución</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ8OzZGlnbyBvcHRpbWl6YWRvCmZvciBpID0gMSwgMTAwMDAwMCBkbwogICAgcHJpbnQoaSkKZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- C&oacute;digo optimizado
for i = 1, 1000000 do
    print(i)
end</pre></div><div class='content'></div><h2>Ejercicio 2: Uso Eficiente de Tablas</h2>
<div class='content'><p>Optimiza el siguiente código para mejorar el uso de tablas.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ8OzZGlnbyBvcmlnaW5hbApsb2NhbCB0ID0ge30KZm9yIGkgPSAxLCAxMDAwIGRvCiAgICB0WyJrZXkiIC4uIGldID0gaQplbmQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- C&oacute;digo original
local t = {}
for i = 1, 1000 do
    t[&quot;key&quot; .. i] = i
end</pre></div><div class='content'></div><h2>Solución</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ8OzZGlnbyBvcHRpbWl6YWRvCmxvY2FsIHQgPSB7fQpmb3IgaSA9IDEsIDEwMDAgZG8KICAgIHRbaV0gPSBpCmVuZA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- C&oacute;digo optimizado
local t = {}
for i = 1, 1000 do
    t[i] = i
end</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En este módulo, hemos aprendido diversas técnicas y estrategias para optimizar el rendimiento de nuestros scripts en Lua. Desde la identificación de cuellos de botella hasta la optimización de código y el uso eficiente de tablas y funciones, estas prácticas te ayudarán a escribir código más rápido y eficiente. Recuerda siempre probar y medir el rendimiento de tu código antes y después de aplicar optimizaciones para asegurarte de que realmente estás mejorando el rendimiento.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-03-debugging-techniques' title="Técnicas de Depuración">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-05-lua-c-api' title="Uso de la API C de Lua">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
