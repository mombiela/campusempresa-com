<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Proyecto 5: Aplicación de Chat</title>

    <link rel="alternate" href="https://campusempresa.com/mod/reactnative/08-05-project-chat-application" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/reactnative/08-05-project-chat-application" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/reactnative/08-05-project-chat-application" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/reactnative/08-05-project-chat-application" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/reactnative/08-05-project-chat-application" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Construyendo la sociedad de hoy y del mañana</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Lenguajes</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Herramientas</a>
				 					<a href="/categ/foundations">Fundamentos</a>
				 					<a href="/categ/soft-skills">Competencias</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-04-project-social-media-app' title="Proyecto 4: Aplicación de Redes Sociales">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Proyecto 5: Aplicación de Chat</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
			</div>
</div>
<div class='content'><p>En este proyecto, vamos a construir una aplicación de chat en tiempo real utilizando React Native. Este proyecto integrará muchos de los conceptos que hemos aprendido a lo largo del curso, incluyendo la navegación, el manejo de estado, la integración con APIs y el almacenamiento local.</p>
</div><h1><p>Objetivos del Proyecto</p>
</h1>
<div class='content'><ul>
<li>Crear una interfaz de usuario para una aplicación de chat.</li>
<li>Implementar la navegación entre pantallas.</li>
<li>Manejar el estado de la aplicación y el ciclo de vida de los componentes.</li>
<li>Integrar con una API de chat en tiempo real.</li>
<li>Almacenar mensajes localmente para acceso offline.</li>
</ul>
</div><h1><p>Requisitos Previos</p>
</h1>
<div class='content'><p>Antes de comenzar, asegúrate de tener:</p>
<ul>
<li>Un entorno de desarrollo configurado para React Native.</li>
<li>Conocimientos básicos de React Native, incluyendo componentes, estado y navegación.</li>
<li>Familiaridad con la Fetch API o Axios para realizar solicitudes HTTP.</li>
</ul>
</div><h1><p>Estructura del Proyecto</p>
</h1>
<div class='content'><p>El proyecto se dividirá en las siguientes secciones:</p>
<ol>
<li>Configuración del Proyecto</li>
<li>Creación de la Interfaz de Usuario</li>
<li>Implementación de la Navegación</li>
<li>Manejo del Estado y Ciclo de Vida</li>
<li>Integración con la API de Chat</li>
<li>Almacenamiento Local de Mensajes</li>
<li>Pruebas y Depuración</li>
</ol>
</div><h1><ol>
<li>Configuración del Proyecto</li>
</ol>
</h1>
<div class='content'></div><h2><p>Paso 1: Crear un Nuevo Proyecto</p>
</h2>
<div class='content'><p>Primero, crea un nuevo proyecto de React Native:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IHJlYWN0LW5hdGl2ZSBpbml0IENoYXRBcHAKY2QgQ2hhdEFwcA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx react-native init ChatApp
cd ChatApp</pre></div><div class='content'></div><h2><p>Paso 2: Instalar Dependencias Necesarias</p>
</h2>
<div class='content'><p>Instala las dependencias necesarias para la navegación y la integración con la API de chat:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlIEByZWFjdC1uYXZpZ2F0aW9uL3N0YWNrCm5wbSBpbnN0YWxsIHJlYWN0LW5hdGl2ZS1nZXN0dXJlLWhhbmRsZXIgcmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWQgcmVhY3QtbmF0aXZlLXNjcmVlbnMgcmVhY3QtbmF0aXZlLXNhZmUtYXJlYS1jb250ZXh0IEByZWFjdC1uYXRpdmUtY29tbXVuaXR5L21hc2tlZC12aWV3Cm5wbSBpbnN0YWxsIGF4aW9z"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install @react-navigation/native @react-navigation/stack
npm install react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context @react-native-community/masked-view
npm install axios</pre></div><div class='content'></div><h2><p>Paso 3: Configurar la Navegación</p>
</h2>
<div class='content'><p>Configura la navegación en tu proyecto:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQXBwLmpzCmltcG9ydCAncmVhY3QtbmF0aXZlLWdlc3R1cmUtaGFuZGxlcic7CmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgTmF2aWdhdGlvbkNvbnRhaW5lciB9IGZyb20gJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZSc7CmltcG9ydCB7IGNyZWF0ZVN0YWNrTmF2aWdhdG9yIH0gZnJvbSAnQHJlYWN0LW5hdmlnYXRpb24vc3RhY2snOwppbXBvcnQgQ2hhdFNjcmVlbiBmcm9tICcuL3NjcmVlbnMvQ2hhdFNjcmVlbic7CmltcG9ydCBMb2dpblNjcmVlbiBmcm9tICcuL3NjcmVlbnMvTG9naW5TY3JlZW4nOwoKY29uc3QgU3RhY2sgPSBjcmVhdGVTdGFja05hdmlnYXRvcigpOwoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBwKCkgewogIHJldHVybiAoCiAgICA8TmF2aWdhdGlvbkNvbnRhaW5lcj4KICAgICAgPFN0YWNrLk5hdmlnYXRvciBpbml0aWFsUm91dGVOYW1lPSJMb2dpbiI+CiAgICAgICAgPFN0YWNrLlNjcmVlbiBuYW1lPSJMb2dpbiIgY29tcG9uZW50PXtMb2dpblNjcmVlbn0gLz4KICAgICAgICA8U3RhY2suU2NyZWVuIG5hbWU9IkNoYXQiIGNvbXBvbmVudD17Q2hhdFNjcmVlbn0gLz4KICAgICAgPC9TdGFjay5OYXZpZ2F0b3I+CiAgICA8L05hdmlnYXRpb25Db250YWluZXI+CiAgKTsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// App.js
import 'react-native-gesture-handler';
import * as React from 'react';
import { NavigationContainer } from '@react-navigation/native';
import { createStackNavigator } from '@react-navigation/stack';
import ChatScreen from './screens/ChatScreen';
import LoginScreen from './screens/LoginScreen';

const Stack = createStackNavigator();

export default function App() {
  return (
    &lt;NavigationContainer&gt;
      &lt;Stack.Navigator initialRouteName=&quot;Login&quot;&gt;
        &lt;Stack.Screen name=&quot;Login&quot; component={LoginScreen} /&gt;
        &lt;Stack.Screen name=&quot;Chat&quot; component={ChatScreen} /&gt;
      &lt;/Stack.Navigator&gt;
    &lt;/NavigationContainer&gt;
  );
}</pre></div><div class='content'></div><h1><ol start="2">
<li>Creación de la Interfaz de Usuario</li>
</ol>
</h1>
<div class='content'></div><h2><p>Pantalla de Inicio de Sesión</p>
</h2>
<div class='content'><p>Crea una pantalla de inicio de sesión simple:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc2NyZWVucy9Mb2dpblNjcmVlbi5qcwppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFZpZXcsIFRleHQsIFRleHRJbnB1dCwgQnV0dG9uLCBTdHlsZVNoZWV0IH0gZnJvbSAncmVhY3QtbmF0aXZlJzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExvZ2luU2NyZWVuKHsgbmF2aWdhdGlvbiB9KSB7CiAgY29uc3QgW3VzZXJuYW1lLCBzZXRVc2VybmFtZV0gPSB1c2VTdGF0ZSgnJyk7CgogIGNvbnN0IGhhbmRsZUxvZ2luID0gKCkgPT4gewogICAgbmF2aWdhdGlvbi5uYXZpZ2F0ZSgnQ2hhdCcsIHsgdXNlcm5hbWUgfSk7CiAgfTsKCiAgcmV0dXJuICgKICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuY29udGFpbmVyfT4KICAgICAgPFRleHQgc3R5bGU9e3N0eWxlcy50aXRsZX0+TG9naW48L1RleHQ+CiAgICAgIDxUZXh0SW5wdXQKICAgICAgICBzdHlsZT17c3R5bGVzLmlucHV0fQogICAgICAgIHBsYWNlaG9sZGVyPSJFbnRlciB5b3VyIHVzZXJuYW1lIgogICAgICAgIHZhbHVlPXt1c2VybmFtZX0KICAgICAgICBvbkNoYW5nZVRleHQ9e3NldFVzZXJuYW1lfQogICAgICAvPgogICAgICA8QnV0dG9uIHRpdGxlPSJMb2dpbiIgb25QcmVzcz17aGFuZGxlTG9naW59IC8+CiAgICA8L1ZpZXc+CiAgKTsKfQoKY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoewogIGNvbnRhaW5lcjogewogICAgZmxleDogMSwKICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywKICAgIHBhZGRpbmc6IDE2LAogIH0sCiAgdGl0bGU6IHsKICAgIGZvbnRTaXplOiAyNCwKICAgIG1hcmdpbkJvdHRvbTogMTYsCiAgICB0ZXh0QWxpZ246ICdjZW50ZXInLAogIH0sCiAgaW5wdXQ6IHsKICAgIGhlaWdodDogNDAsCiAgICBib3JkZXJDb2xvcjogJ2dyYXknLAogICAgYm9yZGVyV2lkdGg6IDEsCiAgICBtYXJnaW5Cb3R0b206IDE2LAogICAgcGFkZGluZ0hvcml6b250YWw6IDgsCiAgfSwKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// screens/LoginScreen.js
import React, { useState } from 'react';
import { View, Text, TextInput, Button, StyleSheet } from 'react-native';

export default function LoginScreen({ navigation }) {
  const [username, setUsername] = useState('');

  const handleLogin = () =&gt; {
    navigation.navigate('Chat', { username });
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;Text style={styles.title}&gt;Login&lt;/Text&gt;
      &lt;TextInput
        style={styles.input}
        placeholder=&quot;Enter your username&quot;
        value={username}
        onChangeText={setUsername}
      /&gt;
      &lt;Button title=&quot;Login&quot; onPress={handleLogin} /&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    padding: 16,
  },
  title: {
    fontSize: 24,
    marginBottom: 16,
    textAlign: 'center',
  },
  input: {
    height: 40,
    borderColor: 'gray',
    borderWidth: 1,
    marginBottom: 16,
    paddingHorizontal: 8,
  },
});</pre></div><div class='content'></div><h2><p>Pantalla de Chat</p>
</h2>
<div class='content'><p>Crea una pantalla de chat básica:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc2NyZWVucy9DaGF0U2NyZWVuLmpzCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBWaWV3LCBUZXh0LCBUZXh0SW5wdXQsIEJ1dHRvbiwgRmxhdExpc3QsIFN0eWxlU2hlZXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFNjcmVlbih7IHJvdXRlIH0pIHsKICBjb25zdCB7IHVzZXJuYW1lIH0gPSByb3V0ZS5wYXJhbXM7CiAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpOwogIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGUoW10pOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgLy8gQXF1w60gcHVlZGVzIGFncmVnYXIgbGEgbMOzZ2ljYSBwYXJhIG9idGVuZXIgbWVuc2FqZXMgZGVzZGUgbGEgQVBJCiAgfSwgW10pOwoKICBjb25zdCBzZW5kTWVzc2FnZSA9ICgpID0+IHsKICAgIGNvbnN0IG5ld01lc3NhZ2UgPSB7IHVzZXJuYW1lLCB0ZXh0OiBtZXNzYWdlIH07CiAgICBzZXRNZXNzYWdlcyhbLi4ubWVzc2FnZXMsIG5ld01lc3NhZ2VdKTsKICAgIHNldE1lc3NhZ2UoJycpOwogICAgLy8gQXF1w60gcHVlZGVzIGFncmVnYXIgbGEgbMOzZ2ljYSBwYXJhIGVudmlhciBlbCBtZW5zYWplIGEgbGEgQVBJCiAgfTsKCiAgcmV0dXJuICgKICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuY29udGFpbmVyfT4KICAgICAgPEZsYXRMaXN0CiAgICAgICAgZGF0YT17bWVzc2FnZXN9CiAgICAgICAgcmVuZGVySXRlbT17KHsgaXRlbSB9KSA9PiAoCiAgICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLm1lc3NhZ2V9PgogICAgICAgICAgICA8VGV4dCBzdHlsZT17c3R5bGVzLnVzZXJuYW1lfT57aXRlbS51c2VybmFtZX08L1RleHQ+CiAgICAgICAgICAgIDxUZXh0PntpdGVtLnRleHR9PC9UZXh0PgogICAgICAgICAgPC9WaWV3PgogICAgICAgICl9CiAgICAgICAga2V5RXh0cmFjdG9yPXsoaXRlbSwgaW5kZXgpID0+IGluZGV4LnRvU3RyaW5nKCl9CiAgICAgIC8+CiAgICAgIDxUZXh0SW5wdXQKICAgICAgICBzdHlsZT17c3R5bGVzLmlucHV0fQogICAgICAgIHBsYWNlaG9sZGVyPSJUeXBlIGEgbWVzc2FnZSIKICAgICAgICB2YWx1ZT17bWVzc2FnZX0KICAgICAgICBvbkNoYW5nZVRleHQ9e3NldE1lc3NhZ2V9CiAgICAgIC8+CiAgICAgIDxCdXR0b24gdGl0bGU9IlNlbmQiIG9uUHJlc3M9e3NlbmRNZXNzYWdlfSAvPgogICAgPC9WaWV3PgogICk7Cn0KCmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHsKICBjb250YWluZXI6IHsKICAgIGZsZXg6IDEsCiAgICBwYWRkaW5nOiAxNiwKICB9LAogIG1lc3NhZ2U6IHsKICAgIG1hcmdpbkJvdHRvbTogMTYsCiAgfSwKICB1c2VybmFtZTogewogICAgZm9udFdlaWdodDogJ2JvbGQnLAogIH0sCiAgaW5wdXQ6IHsKICAgIGhlaWdodDogNDAsCiAgICBib3JkZXJDb2xvcjogJ2dyYXknLAogICAgYm9yZGVyV2lkdGg6IDEsCiAgICBtYXJnaW5Cb3R0b206IDE2LAogICAgcGFkZGluZ0hvcml6b250YWw6IDgsCiAgfSwKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// screens/ChatScreen.js
import React, { useState, useEffect } from 'react';
import { View, Text, TextInput, Button, FlatList, StyleSheet } from 'react-native';
import axios from 'axios';

export default function ChatScreen({ route }) {
  const { username } = route.params;
  const [message, setMessage] = useState('');
  const [messages, setMessages] = useState([]);

  useEffect(() =&gt; {
    // Aqu&iacute; puedes agregar la l&oacute;gica para obtener mensajes desde la API
  }, []);

  const sendMessage = () =&gt; {
    const newMessage = { username, text: message };
    setMessages([...messages, newMessage]);
    setMessage('');
    // Aqu&iacute; puedes agregar la l&oacute;gica para enviar el mensaje a la API
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;FlatList
        data={messages}
        renderItem={({ item }) =&gt; (
          &lt;View style={styles.message}&gt;
            &lt;Text style={styles.username}&gt;{item.username}&lt;/Text&gt;
            &lt;Text&gt;{item.text}&lt;/Text&gt;
          &lt;/View&gt;
        )}
        keyExtractor={(item, index) =&gt; index.toString()}
      /&gt;
      &lt;TextInput
        style={styles.input}
        placeholder=&quot;Type a message&quot;
        value={message}
        onChangeText={setMessage}
      /&gt;
      &lt;Button title=&quot;Send&quot; onPress={sendMessage} /&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 16,
  },
  message: {
    marginBottom: 16,
  },
  username: {
    fontWeight: 'bold',
  },
  input: {
    height: 40,
    borderColor: 'gray',
    borderWidth: 1,
    marginBottom: 16,
    paddingHorizontal: 8,
  },
});</pre></div><div class='content'></div><h1><ol start="3">
<li>Implementación de la Navegación</li>
</ol>
</h1>
<div class='content'><p>Ya hemos configurado la navegación en el paso anterior. Asegúrate de que las pantallas <code>LoginScreen</code> y <code>ChatScreen</code> estén correctamente importadas y configuradas en <code>App.js</code>.</p>
</div><h1><ol start="4">
<li>Manejo del Estado y Ciclo de Vida</li>
</ol>
</h1>
<div class='content'><p>Utiliza <code>useState</code> y <code>useEffect</code> para manejar el estado y el ciclo de vida de los componentes. En este caso, <code>useEffect</code> se utiliza para obtener mensajes cuando la pantalla de chat se monta.</p>
</div><h1><ol start="5">
<li>Integración con la API de Chat</li>
</ol>
</h1>
<div class='content'><p>Para integrar con una API de chat en tiempo real, puedes usar servicios como Firebase o Socket.io. Aquí hay un ejemplo básico usando Firebase:</p>
</div><h2><p>Configuración de Firebase</p>
</h2>
<div class='content'><p>Primero, instala Firebase:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgQHJlYWN0LW5hdGl2ZS1maXJlYmFzZS9hcHAgQHJlYWN0LW5hdGl2ZS1maXJlYmFzZS9maXJlc3RvcmU="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install @react-native-firebase/app @react-native-firebase/firestore</pre></div><div class='content'><p>Luego, configura Firebase en tu proyecto:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gZmlyZWJhc2UuanMKaW1wb3J0IGZpcmViYXNlIGZyb20gJ0ByZWFjdC1uYXRpdmUtZmlyZWJhc2UvYXBwJzsKaW1wb3J0IGZpcmVzdG9yZSBmcm9tICdAcmVhY3QtbmF0aXZlLWZpcmViYXNlL2ZpcmVzdG9yZSc7Cgpjb25zdCBmaXJlYmFzZUNvbmZpZyA9IHsKICBhcGlLZXk6ICJZT1VSX0FQSV9LRVkiLAogIGF1dGhEb21haW46ICJZT1VSX0FVVEhfRE9NQUlOIiwKICBwcm9qZWN0SWQ6ICJZT1VSX1BST0pFQ1RfSUQiLAogIHN0b3JhZ2VCdWNrZXQ6ICJZT1VSX1NUT1JBR0VfQlVDS0VUIiwKICBtZXNzYWdpbmdTZW5kZXJJZDogIllPVVJfTUVTU0FHSU5HX1NFTkRFUl9JRCIsCiAgYXBwSWQ6ICJZT1VSX0FQUF9JRCIKfTsKCmlmICghZmlyZWJhc2UuYXBwcy5sZW5ndGgpIHsKICBmaXJlYmFzZS5pbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTsKfQoKZXhwb3J0IHsgZmlyZWJhc2UsIGZpcmVzdG9yZSB9Ow=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// firebase.js
import firebase from '@react-native-firebase/app';
import firestore from '@react-native-firebase/firestore';

const firebaseConfig = {
  apiKey: &quot;YOUR_API_KEY&quot;,
  authDomain: &quot;YOUR_AUTH_DOMAIN&quot;,
  projectId: &quot;YOUR_PROJECT_ID&quot;,
  storageBucket: &quot;YOUR_STORAGE_BUCKET&quot;,
  messagingSenderId: &quot;YOUR_MESSAGING_SENDER_ID&quot;,
  appId: &quot;YOUR_APP_ID&quot;
};

if (!firebase.apps.length) {
  firebase.initializeApp(firebaseConfig);
}

export { firebase, firestore };</pre></div><div class='content'></div><h2><p>Obtener y Enviar Mensajes</p>
</h2>
<div class='content'><p>Actualiza <code>ChatScreen</code> para obtener y enviar mensajes usando Firebase Firestore:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc2NyZWVucy9DaGF0U2NyZWVuLmpzCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBWaWV3LCBUZXh0LCBUZXh0SW5wdXQsIEJ1dHRvbiwgRmxhdExpc3QsIFN0eWxlU2hlZXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnOwppbXBvcnQgeyBmaXJlc3RvcmUgfSBmcm9tICcuLi9maXJlYmFzZSc7CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0U2NyZWVuKHsgcm91dGUgfSkgewogIGNvbnN0IHsgdXNlcm5hbWUgfSA9IHJvdXRlLnBhcmFtczsKICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7CiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZShbXSk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBjb25zdCB1bnN1YnNjcmliZSA9IGZpcmVzdG9yZSgpCiAgICAgIC5jb2xsZWN0aW9uKCdtZXNzYWdlcycpCiAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpCiAgICAgIC5vblNuYXBzaG90KHF1ZXJ5U25hcHNob3QgPT4gewogICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gcXVlcnlTbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHsKICAgICAgICAgIF9pZDogZG9jLmlkLAogICAgICAgICAgLi4uZG9jLmRhdGEoKSwKICAgICAgICB9KSk7CiAgICAgICAgc2V0TWVzc2FnZXMobWVzc2FnZXMpOwogICAgICB9KTsKCiAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTsKICB9LCBbXSk7CgogIGNvbnN0IHNlbmRNZXNzYWdlID0gKCkgPT4gewogICAgZmlyZXN0b3JlKCkuY29sbGVjdGlvbignbWVzc2FnZXMnKS5hZGQoewogICAgICB0ZXh0OiBtZXNzYWdlLAogICAgICB1c2VybmFtZSwKICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgIH0pOwogICAgc2V0TWVzc2FnZSgnJyk7CiAgfTsKCiAgcmV0dXJuICgKICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuY29udGFpbmVyfT4KICAgICAgPEZsYXRMaXN0CiAgICAgICAgZGF0YT17bWVzc2FnZXN9CiAgICAgICAgcmVuZGVySXRlbT17KHsgaXRlbSB9KSA9PiAoCiAgICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLm1lc3NhZ2V9PgogICAgICAgICAgICA8VGV4dCBzdHlsZT17c3R5bGVzLnVzZXJuYW1lfT57aXRlbS51c2VybmFtZX08L1RleHQ+CiAgICAgICAgICAgIDxUZXh0PntpdGVtLnRleHR9PC9UZXh0PgogICAgICAgICAgPC9WaWV3PgogICAgICAgICl9CiAgICAgICAga2V5RXh0cmFjdG9yPXsoaXRlbSkgPT4gaXRlbS5faWR9CiAgICAgICAgaW52ZXJ0ZWQKICAgICAgLz4KICAgICAgPFRleHRJbnB1dAogICAgICAgIHN0eWxlPXtzdHlsZXMuaW5wdXR9CiAgICAgICAgcGxhY2Vob2xkZXI9IlR5cGUgYSBtZXNzYWdlIgogICAgICAgIHZhbHVlPXttZXNzYWdlfQogICAgICAgIG9uQ2hhbmdlVGV4dD17c2V0TWVzc2FnZX0KICAgICAgLz4KICAgICAgPEJ1dHRvbiB0aXRsZT0iU2VuZCIgb25QcmVzcz17c2VuZE1lc3NhZ2V9IC8+CiAgICA8L1ZpZXc+CiAgKTsKfQoKY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoewogIGNvbnRhaW5lcjogewogICAgZmxleDogMSwKICAgIHBhZGRpbmc6IDE2LAogIH0sCiAgbWVzc2FnZTogewogICAgbWFyZ2luQm90dG9tOiAxNiwKICB9LAogIHVzZXJuYW1lOiB7CiAgICBmb250V2VpZ2h0OiAnYm9sZCcsCiAgfSwKICBpbnB1dDogewogICAgaGVpZ2h0OiA0MCwKICAgIGJvcmRlckNvbG9yOiAnZ3JheScsCiAgICBib3JkZXJXaWR0aDogMSwKICAgIG1hcmdpbkJvdHRvbTogMTYsCiAgICBwYWRkaW5nSG9yaXpvbnRhbDogOCwKICB9LAp9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// screens/ChatScreen.js
import React, { useState, useEffect } from 'react';
import { View, Text, TextInput, Button, FlatList, StyleSheet } from 'react-native';
import { firestore } from '../firebase';

export default function ChatScreen({ route }) {
  const { username } = route.params;
  const [message, setMessage] = useState('');
  const [messages, setMessages] = useState([]);

  useEffect(() =&gt; {
    const unsubscribe = firestore()
      .collection('messages')
      .orderBy('createdAt', 'desc')
      .onSnapshot(querySnapshot =&gt; {
        const messages = querySnapshot.docs.map(doc =&gt; ({
          _id: doc.id,
          ...doc.data(),
        }));
        setMessages(messages);
      });

    return () =&gt; unsubscribe();
  }, []);

  const sendMessage = () =&gt; {
    firestore().collection('messages').add({
      text: message,
      username,
      createdAt: new Date().getTime(),
    });
    setMessage('');
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;FlatList
        data={messages}
        renderItem={({ item }) =&gt; (
          &lt;View style={styles.message}&gt;
            &lt;Text style={styles.username}&gt;{item.username}&lt;/Text&gt;
            &lt;Text&gt;{item.text}&lt;/Text&gt;
          &lt;/View&gt;
        )}
        keyExtractor={(item) =&gt; item._id}
        inverted
      /&gt;
      &lt;TextInput
        style={styles.input}
        placeholder=&quot;Type a message&quot;
        value={message}
        onChangeText={setMessage}
      /&gt;
      &lt;Button title=&quot;Send&quot; onPress={sendMessage} /&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 16,
  },
  message: {
    marginBottom: 16,
  },
  username: {
    fontWeight: 'bold',
  },
  input: {
    height: 40,
    borderColor: 'gray',
    borderWidth: 1,
    marginBottom: 16,
    paddingHorizontal: 8,
  },
});</pre></div><div class='content'></div><h1><ol start="6">
<li>Almacenamiento Local de Mensajes</li>
</ol>
</h1>
<div class='content'><p>Para almacenar mensajes localmente, puedes usar AsyncStorage. Aquí hay un ejemplo básico:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlL2FzeW5jLXN0b3JhZ2U="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install @react-native-async-storage/async-storage</pre></div><div class='content'><p>Luego, actualiza <code>ChatScreen</code> para almacenar y recuperar mensajes localmente:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc2NyZWVucy9DaGF0U2NyZWVuLmpzCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBWaWV3LCBUZXh0LCBUZXh0SW5wdXQsIEJ1dHRvbiwgRmxhdExpc3QsIFN0eWxlU2hlZXQsIEFzeW5jU3RvcmFnZSB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7CmltcG9ydCB7IGZpcmVzdG9yZSB9IGZyb20gJy4uL2ZpcmViYXNlJzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRTY3JlZW4oeyByb3V0ZSB9KSB7CiAgY29uc3QgeyB1c2VybmFtZSB9ID0gcm91dGUucGFyYW1zOwogIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTsKICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlKFtdKTsKCiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGNvbnN0IGxvYWRNZXNzYWdlcyA9IGFzeW5jICgpID0+IHsKICAgICAgY29uc3Qgc3RvcmVkTWVzc2FnZXMgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbSgnbWVzc2FnZXMnKTsKICAgICAgaWYgKHN0b3JlZE1lc3NhZ2VzKSB7CiAgICAgICAgc2V0TWVzc2FnZXMoSlNPTi5wYXJzZShzdG9yZWRNZXNzYWdlcykpOwogICAgICB9CiAgICB9OwoKICAgIGxvYWRNZXNzYWdlcygpOwoKICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gZmlyZXN0b3JlKCkKICAgICAgLmNvbGxlY3Rpb24oJ21lc3NhZ2VzJykKICAgICAgLm9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJykKICAgICAgLm9uU25hcHNob3QocXVlcnlTbmFwc2hvdCA9PiB7CiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBxdWVyeVNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoewogICAgICAgICAgX2lkOiBkb2MuaWQsCiAgICAgICAgICAuLi5kb2MuZGF0YSgpLAogICAgICAgIH0pKTsKICAgICAgICBzZXRNZXNzYWdlcyhtZXNzYWdlcyk7CiAgICAgICAgQXN5bmNTdG9yYWdlLnNldEl0ZW0oJ21lc3NhZ2VzJywgSlNPTi5zdHJpbmdpZnkobWVzc2FnZXMpKTsKICAgICAgfSk7CgogICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7CiAgfSwgW10pOwoKICBjb25zdCBzZW5kTWVzc2FnZSA9ICgpID0+IHsKICAgIGZpcmVzdG9yZSgpLmNvbGxlY3Rpb24oJ21lc3NhZ2VzJykuYWRkKHsKICAgICAgdGV4dDogbWVzc2FnZSwKICAgICAgdXNlcm5hbWUsCiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS5nZXRUaW1lKCksCiAgICB9KTsKICAgIHNldE1lc3NhZ2UoJycpOwogIH07CgogIHJldHVybiAoCiAgICA8VmlldyBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+CiAgICAgIDxGbGF0TGlzdAogICAgICAgIGRhdGE9e21lc3NhZ2VzfQogICAgICAgIHJlbmRlckl0ZW09eyh7IGl0ZW0gfSkgPT4gKAogICAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5tZXNzYWdlfT4KICAgICAgICAgICAgPFRleHQgc3R5bGU9e3N0eWxlcy51c2VybmFtZX0+e2l0ZW0udXNlcm5hbWV9PC9UZXh0PgogICAgICAgICAgICA8VGV4dD57aXRlbS50ZXh0fTwvVGV4dD4KICAgICAgICAgIDwvVmlldz4KICAgICAgICApfQogICAgICAgIGtleUV4dHJhY3Rvcj17KGl0ZW0pID0+IGl0ZW0uX2lkfQogICAgICAgIGludmVydGVkCiAgICAgIC8+CiAgICAgIDxUZXh0SW5wdXQKICAgICAgICBzdHlsZT17c3R5bGVzLmlucHV0fQogICAgICAgIHBsYWNlaG9sZGVyPSJUeXBlIGEgbWVzc2FnZSIKICAgICAgICB2YWx1ZT17bWVzc2FnZX0KICAgICAgICBvbkNoYW5nZVRleHQ9e3NldE1lc3NhZ2V9CiAgICAgIC8+CiAgICAgIDxCdXR0b24gdGl0bGU9IlNlbmQiIG9uUHJlc3M9e3NlbmRNZXNzYWdlfSAvPgogICAgPC9WaWV3PgogICk7Cn0KCmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHsKICBjb250YWluZXI6IHsKICAgIGZsZXg6IDEsCiAgICBwYWRkaW5nOiAxNiwKICB9LAogIG1lc3NhZ2U6IHsKICAgIG1hcmdpbkJvdHRvbTogMTYsCiAgfSwKICB1c2VybmFtZTogewogICAgZm9udFdlaWdodDogJ2JvbGQnLAogIH0sCiAgaW5wdXQ6IHsKICAgIGhlaWdodDogNDAsCiAgICBib3JkZXJDb2xvcjogJ2dyYXknLAogICAgYm9yZGVyV2lkdGg6IDEsCiAgICBtYXJnaW5Cb3R0b206IDE2LAogICAgcGFkZGluZ0hvcml6b250YWw6IDgsCiAgfSwKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// screens/ChatScreen.js
import React, { useState, useEffect } from 'react';
import { View, Text, TextInput, Button, FlatList, StyleSheet, AsyncStorage } from 'react-native';
import { firestore } from '../firebase';

export default function ChatScreen({ route }) {
  const { username } = route.params;
  const [message, setMessage] = useState('');
  const [messages, setMessages] = useState([]);

  useEffect(() =&gt; {
    const loadMessages = async () =&gt; {
      const storedMessages = await AsyncStorage.getItem('messages');
      if (storedMessages) {
        setMessages(JSON.parse(storedMessages));
      }
    };

    loadMessages();

    const unsubscribe = firestore()
      .collection('messages')
      .orderBy('createdAt', 'desc')
      .onSnapshot(querySnapshot =&gt; {
        const messages = querySnapshot.docs.map(doc =&gt; ({
          _id: doc.id,
          ...doc.data(),
        }));
        setMessages(messages);
        AsyncStorage.setItem('messages', JSON.stringify(messages));
      });

    return () =&gt; unsubscribe();
  }, []);

  const sendMessage = () =&gt; {
    firestore().collection('messages').add({
      text: message,
      username,
      createdAt: new Date().getTime(),
    });
    setMessage('');
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;FlatList
        data={messages}
        renderItem={({ item }) =&gt; (
          &lt;View style={styles.message}&gt;
            &lt;Text style={styles.username}&gt;{item.username}&lt;/Text&gt;
            &lt;Text&gt;{item.text}&lt;/Text&gt;
          &lt;/View&gt;
        )}
        keyExtractor={(item) =&gt; item._id}
        inverted
      /&gt;
      &lt;TextInput
        style={styles.input}
        placeholder=&quot;Type a message&quot;
        value={message}
        onChangeText={setMessage}
      /&gt;
      &lt;Button title=&quot;Send&quot; onPress={sendMessage} /&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 16,
  },
  message: {
    marginBottom: 16,
  },
  username: {
    fontWeight: 'bold',
  },
  input: {
    height: 40,
    borderColor: 'gray',
    borderWidth: 1,
    marginBottom: 16,
    paddingHorizontal: 8,
  },
});</pre></div><div class='content'></div><h1><ol start="7">
<li>Pruebas y Depuración</li>
</ol>
</h1>
<div class='content'><p>Finalmente, asegúrate de probar tu aplicación en diferentes dispositivos y escenarios. Utiliza herramientas de depuración como React Native Debugger y Reactotron para identificar y solucionar problemas.</p>
</div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En este proyecto, hemos construido una aplicación de chat en tiempo real utilizando React Native. Hemos cubierto la creación de la interfaz de usuario, la implementación de la navegación, el manejo del estado y el ciclo de vida, la integración con una API de chat y el almacenamiento local de mensajes. Este proyecto te proporciona una base sólida para construir aplicaciones de chat más complejas y personalizadas en el futuro.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-04-project-social-media-app' title="Proyecto 4: Aplicación de Redes Sociales">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicidad</h1>
<p>Este espacio está destinado a publicidad.</p>
<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>¡Gracias por colaborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
