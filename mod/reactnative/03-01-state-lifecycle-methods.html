<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Métodos de Estado y Ciclo de Vida</title>

    <link rel="alternate" href="https://campusempresa.com/mod/reactnative/03-01-state-lifecycle-methods" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/reactnative/03-01-state-lifecycle-methods" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/reactnative/03-01-state-lifecycle-methods" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/reactnative/03-01-state-lifecycle-methods" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/reactnative/03-01-state-lifecycle-methods" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-05-scrollview-listview' title="ScrollView y ListView">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Métodos de Estado y Ciclo de Vida</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-02-handling-events' title="Manejo de Eventos">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1><p>Introducción</p>
</h1>
<div class='content'><p>En React Native, el estado y el ciclo de vida de los componentes son conceptos fundamentales que permiten crear aplicaciones dinámicas y reactivas. En esta lección, aprenderemos cómo manejar el estado de los componentes y cómo utilizar los métodos del ciclo de vida para controlar el comportamiento de los componentes en diferentes etapas de su existencia.</p>
</div><h1><p>Estado en React Native</p>
</h1>
<div class='content'><p>El estado es un objeto que determina cómo se renderiza y se comporta un componente. A diferencia de las props, que son inmutables y se pasan desde el componente padre, el estado es mutable y se gestiona dentro del propio componente.</p>
</div><h2><p>Definiendo el Estado</p>
</h2>
<div class='content'><p>Para definir el estado en un componente de clase, se utiliza el constructor y se inicializa el estado con <code>this.state</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgVmlldywgVGV4dCwgQnV0dG9uIH0gZnJvbSAncmVhY3QtbmF0aXZlJzsKCmNsYXNzIENvbnRhZG9yIGV4dGVuZHMgQ29tcG9uZW50IHsKICBjb25zdHJ1Y3Rvcihwcm9wcykgewogICAgc3VwZXIocHJvcHMpOwogICAgdGhpcy5zdGF0ZSA9IHsKICAgICAgY29udGFkb3I6IDAKICAgIH07CiAgfQoKICByZW5kZXIoKSB7CiAgICByZXR1cm4gKAogICAgICA8Vmlldz4KICAgICAgICA8VGV4dD57dGhpcy5zdGF0ZS5jb250YWRvcn08L1RleHQ+CiAgICAgICAgPEJ1dHRvbgogICAgICAgICAgdGl0bGU9IkluY3JlbWVudGFyIgogICAgICAgICAgb25QcmVzcz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IGNvbnRhZG9yOiB0aGlzLnN0YXRlLmNvbnRhZG9yICsgMSB9KX0KICAgICAgICAvPgogICAgICA8L1ZpZXc+CiAgICApOwogIH0KfQoKZXhwb3J0IGRlZmF1bHQgQ29udGFkb3I7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { Component } from 'react';
import { View, Text, Button } from 'react-native';

class Contador extends Component {
  constructor(props) {
    super(props);
    this.state = {
      contador: 0
    };
  }

  render() {
    return (
      &lt;View&gt;
        &lt;Text&gt;{this.state.contador}&lt;/Text&gt;
        &lt;Button
          title=&quot;Incrementar&quot;
          onPress={() =&gt; this.setState({ contador: this.state.contador + 1 })}
        /&gt;
      &lt;/View&gt;
    );
  }
}

export default Contador;</pre></div><div class='content'></div><h2><p>Actualizando el Estado</p>
</h2>
<div class='content'><p>Para actualizar el estado, se utiliza el método <code>setState</code>. Este método acepta un objeto que se fusiona con el estado actual.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGhpcy5zZXRTdGF0ZSh7IGNvbnRhZG9yOiB0aGlzLnN0YXRlLmNvbnRhZG9yICsgMSB9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>this.setState({ contador: this.state.contador + 1 });</pre></div><div class='content'></div><h1><p>Ciclo de Vida de los Componentes</p>
</h1>
<div class='content'><p>El ciclo de vida de un componente se refiere a las diferentes etapas por las que pasa un componente desde su creación hasta su destrucción. React Native proporciona varios métodos del ciclo de vida que permiten ejecutar código en momentos específicos.</p>
</div><h2><p>Métodos del Ciclo de Vida</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>componentDidMount()</strong>: Se invoca inmediatamente después de que un componente se monta (inserta en el árbol). Es un buen lugar para inicializar solicitudes de red o suscripciones.</p>
</li>
<li>
<p><strong>componentDidUpdate(prevProps, prevState)</strong>: Se invoca inmediatamente después de que una actualización ocurre. Este método no se llama para la primera renderización.</p>
</li>
<li>
<p><strong>componentWillUnmount()</strong>: Se invoca inmediatamente antes de que un componente se desmonte y destruya. Es un buen lugar para limpiar suscripciones o cancelar solicitudes de red.</p>
</li>
</ol>
</div><h2><p>Ejemplo de Ciclo de Vida</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgVmlldywgVGV4dCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7CgpjbGFzcyBDaWNsb0RlVmlkYSBleHRlbmRzIENvbXBvbmVudCB7CiAgY29uc3RydWN0b3IocHJvcHMpIHsKICAgIHN1cGVyKHByb3BzKTsKICAgIHRoaXMuc3RhdGUgPSB7CiAgICAgIGRhdG9zOiBudWxsCiAgICB9OwogIH0KCiAgY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAvLyBTaW11bGFjacOzbiBkZSB1bmEgc29saWNpdHVkIGRlIHJlZAogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHRoaXMuc2V0U3RhdGUoeyBkYXRvczogJ0RhdG9zIGNhcmdhZG9zJyB9KTsKICAgIH0sIDIwMDApOwogIH0KCiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7CiAgICBpZiAocHJldlN0YXRlLmRhdG9zICE9PSB0aGlzLnN0YXRlLmRhdG9zKSB7CiAgICAgIGNvbnNvbGUubG9nKCdFbCBlc3RhZG8gaGEgY2FtYmlhZG86JywgdGhpcy5zdGF0ZS5kYXRvcyk7CiAgICB9CiAgfQoKICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgIGNvbnNvbGUubG9nKCdFbCBjb21wb25lbnRlIHNlIGRlc21vbnRhcsOhJyk7CiAgfQoKICByZW5kZXIoKSB7CiAgICByZXR1cm4gKAogICAgICA8Vmlldz4KICAgICAgICA8VGV4dD57dGhpcy5zdGF0ZS5kYXRvcyA/IHRoaXMuc3RhdGUuZGF0b3MgOiAnQ2FyZ2FuZG8uLi4nfTwvVGV4dD4KICAgICAgPC9WaWV3PgogICAgKTsKICB9Cn0KCmV4cG9ydCBkZWZhdWx0IENpY2xvRGVWaWRhOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { Component } from 'react';
import { View, Text } from 'react-native';

class CicloDeVida extends Component {
  constructor(props) {
    super(props);
    this.state = {
      datos: null
    };
  }

  componentDidMount() {
    // Simulaci&oacute;n de una solicitud de red
    setTimeout(() =&gt; {
      this.setState({ datos: 'Datos cargados' });
    }, 2000);
  }

  componentDidUpdate(prevProps, prevState) {
    if (prevState.datos !== this.state.datos) {
      console.log('El estado ha cambiado:', this.state.datos);
    }
  }

  componentWillUnmount() {
    console.log('El componente se desmontar&aacute;');
  }

  render() {
    return (
      &lt;View&gt;
        &lt;Text&gt;{this.state.datos ? this.state.datos : 'Cargando...'}&lt;/Text&gt;
      &lt;/View&gt;
    );
  }
}

export default CicloDeVida;</pre></div><div class='content'></div><h1><p>Ejercicios Prácticos</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Contador con Ciclo de Vida</p>
</h2>
<div class='content'><p>Crea un componente de contador que incremente el valor cada segundo utilizando los métodos del ciclo de vida.</p>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgVmlldywgVGV4dCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7CgpjbGFzcyBDb250YWRvckF1dG9tYXRpY28gZXh0ZW5kcyBDb21wb25lbnQgewogIGNvbnN0cnVjdG9yKHByb3BzKSB7CiAgICBzdXBlcihwcm9wcyk7CiAgICB0aGlzLnN0YXRlID0gewogICAgICBjb250YWRvcjogMAogICAgfTsKICB9CgogIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgdGhpcy5pbnRlcnZhbG8gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb250YWRvcjogdGhpcy5zdGF0ZS5jb250YWRvciArIDEgfSk7CiAgICB9LCAxMDAwKTsKICB9CgogIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsbyk7CiAgfQoKICByZW5kZXIoKSB7CiAgICByZXR1cm4gKAogICAgICA8Vmlldz4KICAgICAgICA8VGV4dD5Db250YWRvcjoge3RoaXMuc3RhdGUuY29udGFkb3J9PC9UZXh0PgogICAgICA8L1ZpZXc+CiAgICApOwogIH0KfQoKZXhwb3J0IGRlZmF1bHQgQ29udGFkb3JBdXRvbWF0aWNvOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { Component } from 'react';
import { View, Text } from 'react-native';

class ContadorAutomatico extends Component {
  constructor(props) {
    super(props);
    this.state = {
      contador: 0
    };
  }

  componentDidMount() {
    this.intervalo = setInterval(() =&gt; {
      this.setState({ contador: this.state.contador + 1 });
    }, 1000);
  }

  componentWillUnmount() {
    clearInterval(this.intervalo);
  }

  render() {
    return (
      &lt;View&gt;
        &lt;Text&gt;Contador: {this.state.contador}&lt;/Text&gt;
      &lt;/View&gt;
    );
  }
}

export default ContadorAutomatico;</pre></div><div class='content'></div><h2><p>Ejercicio 2: Fetch de Datos con Ciclo de Vida</p>
</h2>
<div class='content'><p>Crea un componente que realice una solicitud de red para obtener datos cuando se monte y los muestre en la pantalla.</p>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgVmlldywgVGV4dCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7CgpjbGFzcyBEYXRvc1JlbW90b3MgZXh0ZW5kcyBDb21wb25lbnQgewogIGNvbnN0cnVjdG9yKHByb3BzKSB7CiAgICBzdXBlcihwcm9wcyk7CiAgICB0aGlzLnN0YXRlID0gewogICAgICBkYXRvczogbnVsbCwKICAgICAgY2FyZ2FuZG86IHRydWUKICAgIH07CiAgfQoKICBjb21wb25lbnREaWRNb3VudCgpIHsKICAgIGZldGNoKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMvMScpCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgLnRoZW4oZGF0YSA9PiB0aGlzLnNldFN0YXRlKHsgZGF0b3M6IGRhdGEsIGNhcmdhbmRvOiBmYWxzZSB9KSkKICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTsKICB9CgogIHJlbmRlcigpIHsKICAgIGNvbnN0IHsgZGF0b3MsIGNhcmdhbmRvIH0gPSB0aGlzLnN0YXRlOwogICAgcmV0dXJuICgKICAgICAgPFZpZXc+CiAgICAgICAge2NhcmdhbmRvID8gKAogICAgICAgICAgPFRleHQ+Q2FyZ2FuZG8uLi48L1RleHQ+CiAgICAgICAgKSA6ICgKICAgICAgICAgIDxUZXh0PntkYXRvcy50aXRsZX08L1RleHQ+CiAgICAgICAgKX0KICAgICAgPC9WaWV3PgogICAgKTsKICB9Cn0KCmV4cG9ydCBkZWZhdWx0IERhdG9zUmVtb3Rvczs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { Component } from 'react';
import { View, Text } from 'react-native';

class DatosRemotos extends Component {
  constructor(props) {
    super(props);
    this.state = {
      datos: null,
      cargando: true
    };
  }

  componentDidMount() {
    fetch('https://jsonplaceholder.typicode.com/posts/1')
      .then(response =&gt; response.json())
      .then(data =&gt; this.setState({ datos: data, cargando: false }))
      .catch(error =&gt; console.error(error));
  }

  render() {
    const { datos, cargando } = this.state;
    return (
      &lt;View&gt;
        {cargando ? (
          &lt;Text&gt;Cargando...&lt;/Text&gt;
        ) : (
          &lt;Text&gt;{datos.title}&lt;/Text&gt;
        )}
      &lt;/View&gt;
    );
  }
}

export default DatosRemotos;</pre></div><div class='content'></div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En esta lección, hemos aprendido sobre el estado y los métodos del ciclo de vida en React Native. Estos conceptos son esenciales para crear aplicaciones dinámicas y reactivas. Asegúrate de practicar con los ejercicios proporcionados para consolidar tu comprensión. En la próxima lección, exploraremos cómo manejar eventos en React Native.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-05-scrollview-listview' title="ScrollView y ListView">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-02-handling-events' title="Manejo de Eventos">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
