<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manejo de Formularios</title>

    <link rel="alternate" href="https://campusempresa.com/mod/django/03-01-form-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/django/03-01-form-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/django/03-01-form-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/django/03-01-form-handling" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/django/03-01-form-handling" class="px-2">CA</a>
<br>
			<cite>Construyendo la sociedad de hoy y del mañana</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Lenguajes de Programación</a>
				 					<a href="/categ/frameworks">Frameworks y Librerías</a>
				 					<a href="/categ/tech-tools">Herramientas Técnicas</a>
				 					<a href="/categ/foundations">Fundamentos Teóricos</a>
				 					<a href="/categ/soft-skills">Habilidades Sociales</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-05-django-admin-interface' title="Interfaz de Administración de Django">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Manejo de Formularios</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-02-class-based-views' title="Vistas Basadas en Clases">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En este módulo, aprenderemos cómo manejar formularios en Django. Los formularios son una parte esencial de cualquier aplicación web, ya que permiten a los usuarios enviar datos al servidor. Django proporciona una forma robusta y flexible de manejar formularios a través de su módulo <code>django.forms</code>.</p>
</div><h1><p>Contenido</p>
</h1>
<div class='content'><ol>
<li><a href="#introducción-a-los-formularios-en-django">Introducción a los Formularios en Django</a></li>
<li><a href="#creación-de-formularios">Creación de Formularios</a></li>
<li><a href="#validación-de-formularios">Validación de Formularios</a></li>
<li><a href="#procesamiento-de-formularios-en-vistas">Procesamiento de Formularios en Vistas</a></li>
<li><a href="#formularios-basados-en-modelos">Formularios Basados en Modelos</a></li>
<li><a href="#ejercicio-práctico">Ejercicio Práctico</a></li>
<li><a href="#conclusión">Conclusión</a></li>
</ol>
</div><h1><p>Introducción a los Formularios en Django</p>
</h1>
<div class='content'><p>Django proporciona dos formas principales de trabajar con formularios:</p>
<ul>
<li><strong>Formularios regulares</strong>: Utilizando la clase <code>forms.Form</code>.</li>
<li><strong>Formularios basados en modelos</strong>: Utilizando la clase <code>forms.ModelForm</code>.</li>
</ul>
<p>Ambos enfoques tienen sus propias ventajas y se utilizan en diferentes escenarios.</p>
</div><h1><p>Creación de Formularios</p>
</h1>
<div class='content'></div><h2><p>Formularios Regulares</p>
</h2>
<div class='content'><p>Para crear un formulario regular, debes definir una clase que herede de <code>forms.Form</code> y agregar los campos que necesites. Aquí hay un ejemplo básico:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBmb3Jtcy5weQpmcm9tIGRqYW5nbyBpbXBvcnQgZm9ybXMKCmNsYXNzIENvbnRhY3RGb3JtKGZvcm1zLkZvcm0pOgogICAgbmFtZSA9IGZvcm1zLkNoYXJGaWVsZChsYWJlbD0nWW91ciBuYW1lJywgbWF4X2xlbmd0aD0xMDApCiAgICBlbWFpbCA9IGZvcm1zLkVtYWlsRmllbGQobGFiZWw9J1lvdXIgZW1haWwnKQogICAgbWVzc2FnZSA9IGZvcm1zLkNoYXJGaWVsZCh3aWRnZXQ9Zm9ybXMuVGV4dGFyZWEsIGxhYmVsPSdZb3VyIG1lc3NhZ2UnKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># forms.py
from django import forms

class ContactForm(forms.Form):
    name = forms.CharField(label='Your name', max_length=100)
    email = forms.EmailField(label='Your email')
    message = forms.CharField(widget=forms.Textarea, label='Your message')</pre></div><div class='content'></div><h2><p>Formularios Basados en Modelos</p>
</h2>
<div class='content'><p>Los formularios basados en modelos son útiles cuando deseas crear un formulario que interactúe directamente con un modelo de Django. Aquí hay un ejemplo:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb2RlbHMucHkKZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgQ29udGFjdChtb2RlbHMuTW9kZWwpOgogICAgbmFtZSA9IG1vZGVscy5DaGFyRmllbGQobWF4X2xlbmd0aD0xMDApCiAgICBlbWFpbCA9IG1vZGVscy5FbWFpbEZpZWxkKCkKICAgIG1lc3NhZ2UgPSBtb2RlbHMuVGV4dEZpZWxkKCkKCiMgZm9ybXMucHkKZnJvbSBkamFuZ28gaW1wb3J0IGZvcm1zCmZyb20gLm1vZGVscyBpbXBvcnQgQ29udGFjdAoKY2xhc3MgQ29udGFjdE1vZGVsRm9ybShmb3Jtcy5Nb2RlbEZvcm0pOgogICAgY2xhc3MgTWV0YToKICAgICAgICBtb2RlbCA9IENvbnRhY3QKICAgICAgICBmaWVsZHMgPSBbJ25hbWUnLCAnZW1haWwnLCAnbWVzc2FnZSdd"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># models.py
from django.db import models

class Contact(models.Model):
    name = models.CharField(max_length=100)
    email = models.EmailField()
    message = models.TextField()

# forms.py
from django import forms
from .models import Contact

class ContactModelForm(forms.ModelForm):
    class Meta:
        model = Contact
        fields = ['name', 'email', 'message']</pre></div><div class='content'></div><h1><p>Validación de Formularios</p>
</h1>
<div class='content'><p>Django proporciona validación automática para los formularios. Puedes agregar validaciones personalizadas mediante métodos <code>clean_&lt;fieldname&gt;</code> en la clase del formulario.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBmb3Jtcy5weQpjbGFzcyBDb250YWN0Rm9ybShmb3Jtcy5Gb3JtKToKICAgIG5hbWUgPSBmb3Jtcy5DaGFyRmllbGQobWF4X2xlbmd0aD0xMDApCiAgICBlbWFpbCA9IGZvcm1zLkVtYWlsRmllbGQoKQogICAgbWVzc2FnZSA9IGZvcm1zLkNoYXJGaWVsZCh3aWRnZXQ9Zm9ybXMuVGV4dGFyZWEpCgogICAgZGVmIGNsZWFuX2VtYWlsKHNlbGYpOgogICAgICAgIGVtYWlsID0gc2VsZi5jbGVhbmVkX2RhdGEuZ2V0KCdlbWFpbCcpCiAgICAgICAgaWYgbm90IGVtYWlsLmVuZHN3aXRoKCdAZXhhbXBsZS5jb20nKToKICAgICAgICAgICAgcmFpc2UgZm9ybXMuVmFsaWRhdGlvbkVycm9yKCdFbWFpbCBtdXN0IGJlIGZyb20gdGhlIGRvbWFpbiBAZXhhbXBsZS5jb20nKQogICAgICAgIHJldHVybiBlbWFpbA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># forms.py
class ContactForm(forms.Form):
    name = forms.CharField(max_length=100)
    email = forms.EmailField()
    message = forms.CharField(widget=forms.Textarea)

    def clean_email(self):
        email = self.cleaned_data.get('email')
        if not email.endswith('@example.com'):
            raise forms.ValidationError('Email must be from the domain @example.com')
        return email</pre></div><div class='content'></div><h1><p>Procesamiento de Formularios en Vistas</p>
</h1>
<div class='content'><p>Para procesar un formulario en una vista, debes manejar tanto las solicitudes GET (para mostrar el formulario) como las solicitudes POST (para procesar los datos enviados).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB2aWV3cy5weQpmcm9tIGRqYW5nby5zaG9ydGN1dHMgaW1wb3J0IHJlbmRlciwgcmVkaXJlY3QKZnJvbSAuZm9ybXMgaW1wb3J0IENvbnRhY3RGb3JtCgpkZWYgY29udGFjdF92aWV3KHJlcXVlc3QpOgogICAgaWYgcmVxdWVzdC5tZXRob2QgPT0gJ1BPU1QnOgogICAgICAgIGZvcm0gPSBDb250YWN0Rm9ybShyZXF1ZXN0LlBPU1QpCiAgICAgICAgaWYgZm9ybS5pc192YWxpZCgpOgogICAgICAgICAgICAjIFByb2Nlc2FyIGxvcyBkYXRvcyBkZWwgZm9ybXVsYXJpbwogICAgICAgICAgICBuYW1lID0gZm9ybS5jbGVhbmVkX2RhdGFbJ25hbWUnXQogICAgICAgICAgICBlbWFpbCA9IGZvcm0uY2xlYW5lZF9kYXRhWydlbWFpbCddCiAgICAgICAgICAgIG1lc3NhZ2UgPSBmb3JtLmNsZWFuZWRfZGF0YVsnbWVzc2FnZSddCiAgICAgICAgICAgICMgQXF1w60gcG9kcsOtYXMgZ3VhcmRhciBsb3MgZGF0b3MgZW4gbGEgYmFzZSBkZSBkYXRvcyBvIGVudmlhciB1biBjb3JyZW8gZWxlY3Ryw7NuaWNvCiAgICAgICAgICAgIHJldHVybiByZWRpcmVjdCgnc3VjY2VzcycpCiAgICBlbHNlOgogICAgICAgIGZvcm0gPSBDb250YWN0Rm9ybSgpCiAgICByZXR1cm4gcmVuZGVyKHJlcXVlc3QsICdjb250YWN0Lmh0bWwnLCB7J2Zvcm0nOiBmb3JtfSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># views.py
from django.shortcuts import render, redirect
from .forms import ContactForm

def contact_view(request):
    if request.method == 'POST':
        form = ContactForm(request.POST)
        if form.is_valid():
            # Procesar los datos del formulario
            name = form.cleaned_data['name']
            email = form.cleaned_data['email']
            message = form.cleaned_data['message']
            # Aqu&iacute; podr&iacute;as guardar los datos en la base de datos o enviar un correo electr&oacute;nico
            return redirect('success')
    else:
        form = ContactForm()
    return render(request, 'contact.html', {'form': form})</pre></div><div class='content'></div><h1><p>Formularios Basados en Modelos</p>
</h1>
<div class='content'><p>Los formularios basados en modelos simplifican el proceso de creación y validación de formularios que están directamente relacionados con un modelo de Django.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB2aWV3cy5weQpmcm9tIGRqYW5nby5zaG9ydGN1dHMgaW1wb3J0IHJlbmRlciwgcmVkaXJlY3QKZnJvbSAuZm9ybXMgaW1wb3J0IENvbnRhY3RNb2RlbEZvcm0KCmRlZiBjb250YWN0X3ZpZXcocmVxdWVzdCk6CiAgICBpZiByZXF1ZXN0Lm1ldGhvZCA9PSAnUE9TVCc6CiAgICAgICAgZm9ybSA9IENvbnRhY3RNb2RlbEZvcm0ocmVxdWVzdC5QT1NUKQogICAgICAgIGlmIGZvcm0uaXNfdmFsaWQoKToKICAgICAgICAgICAgZm9ybS5zYXZlKCkgICMgR3VhcmRhIGxvcyBkYXRvcyBkaXJlY3RhbWVudGUgZW4gbGEgYmFzZSBkZSBkYXRvcwogICAgICAgICAgICByZXR1cm4gcmVkaXJlY3QoJ3N1Y2Nlc3MnKQogICAgZWxzZToKICAgICAgICBmb3JtID0gQ29udGFjdE1vZGVsRm9ybSgpCiAgICByZXR1cm4gcmVuZGVyKHJlcXVlc3QsICdjb250YWN0Lmh0bWwnLCB7J2Zvcm0nOiBmb3JtfSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># views.py
from django.shortcuts import render, redirect
from .forms import ContactModelForm

def contact_view(request):
    if request.method == 'POST':
        form = ContactModelForm(request.POST)
        if form.is_valid():
            form.save()  # Guarda los datos directamente en la base de datos
            return redirect('success')
    else:
        form = ContactModelForm()
    return render(request, 'contact.html', {'form': form})</pre></div><div class='content'></div><h1><p>Ejercicio Práctico</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Crear un Formulario de Registro de Usuario</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Crear el modelo de usuario</strong>:</p>
<pre><code class="language-python"># models.py
from django.db import models

class User(models.Model):
    username = models.CharField(max_length=100)
    email = models.EmailField()
    password = models.CharField(max_length=100)
</code></pre>
</li>
<li>
<p><strong>Crear el formulario basado en el modelo</strong>:</p>
<pre><code class="language-python"># forms.py
from django import forms
from .models import User

class UserRegistrationForm(forms.ModelForm):
    class Meta:
        model = User
        fields = ['username', 'email', 'password']
        widgets = {
            'password': forms.PasswordInput(),
        }
</code></pre>
</li>
<li>
<p><strong>Crear la vista para manejar el formulario</strong>:</p>
<pre><code class="language-python"># views.py
from django.shortcuts import render, redirect
from .forms import UserRegistrationForm

def register_view(request):
    if request.method == 'POST':
        form = UserRegistrationForm(request.POST)
        if form.is_valid():
            form.save()
            return redirect('success')
    else:
        form = UserRegistrationForm()
    return render(request, 'register.html', {'form': form})
</code></pre>
</li>
<li>
<p><strong>Crear la plantilla para el formulario</strong>:</p>
<pre><code class="language-html">&lt;!-- register.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Register&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;Register&lt;/h2&gt;
    &lt;form method=&quot;post&quot;&gt;
        {% csrf_token %}
        {{ form.as_p }}
        &lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
</ol>
</div><h2><p>Solución del Ejercicio</p>
</h2>
<div class='content'><p>La solución del ejercicio se encuentra en los pasos anteriores. Asegúrate de seguir cada paso y verificar que tu aplicación funcione correctamente.</p>
</div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En este módulo, hemos aprendido cómo manejar formularios en Django, desde la creación y validación hasta el procesamiento en vistas. También hemos visto cómo utilizar formularios basados en modelos para simplificar la interacción con la base de datos. Los formularios son una herramienta poderosa en Django y dominar su uso te permitirá crear aplicaciones web más interactivas y funcionales.</p>
<p>En el próximo módulo, exploraremos las vistas basadas en clases, que proporcionan una forma más estructurada y reutilizable de manejar las vistas en Django.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-05-django-admin-interface' title="Interfaz de Administración de Django">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-02-class-based-views' title="Vistas Basadas en Clases">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicidad</h1>
<p>Este espacio está destinado a publicidad.</p>
<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>¡Gracias por colaborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
