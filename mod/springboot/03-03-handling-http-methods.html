<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manejo de Métodos HTTP</title>

    <link rel="alternate" href="https://campusempresa.com/mod/springboot/03-03-handling-http-methods" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/springboot/03-03-handling-http-methods" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/springboot/03-03-handling-http-methods" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/springboot/03-03-handling-http-methods" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/springboot/03-03-handling-http-methods" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-creating-rest-controllers' title="Creando Controladores REST">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Manejo de Métodos HTTP</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-04-exception-handling-rest' title="Manejo de Excepciones en REST">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En este tema, aprenderemos cómo manejar los diferentes métodos HTTP en una aplicación Spring Boot. Los métodos HTTP son fundamentales para la comunicación en aplicaciones web, y cada uno tiene un propósito específico. Los métodos más comunes son GET, POST, PUT, DELETE y PATCH.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ol>
<li><strong>GET</strong>: Recupera información del servidor.</li>
<li><strong>POST</strong>: Envía datos al servidor para crear un nuevo recurso.</li>
<li><strong>PUT</strong>: Actualiza un recurso existente en el servidor.</li>
<li><strong>DELETE</strong>: Elimina un recurso del servidor.</li>
<li><strong>PATCH</strong>: Aplica modificaciones parciales a un recurso.</li>
</ol>
</div><h1>Anotaciones en Spring Boot</h1>
<div class='content'><p>Spring Boot proporciona anotaciones específicas para manejar estos métodos HTTP en los controladores. A continuación, se muestra una tabla con las anotaciones correspondientes:</p>
<table>
<thead>
<tr>
<th>Método HTTP</th>
<th>Anotación Spring Boot</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td><code>@GetMapping</code></td>
</tr>
<tr>
<td>POST</td>
<td><code>@PostMapping</code></td>
</tr>
<tr>
<td>PUT</td>
<td><code>@PutMapping</code></td>
</tr>
<tr>
<td>DELETE</td>
<td><code>@DeleteMapping</code></td>
</tr>
<tr>
<td>PATCH</td>
<td><code>@PatchMapping</code></td>
</tr>
</tbody>
</table>
</div><h1>Ejemplos Prácticos</h1>
<div class='content'></div><h2>1. Manejo del Método GET</h2>
<div class='content'><p>El método GET se utiliza para recuperar información del servidor. Aquí hay un ejemplo de cómo manejar una solicitud GET en Spring Boot:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL2FwaSIpCnB1YmxpYyBjbGFzcyBNeUNvbnRyb2xsZXIgewoKICAgIEBHZXRNYXBwaW5nKCIvaXRlbXMiKQogICAgcHVibGljIExpc3Q8SXRlbT4gZ2V0QWxsSXRlbXMoKSB7CiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIG9idGVuZXIgdG9kb3MgbG9zIMOtdGVtcwogICAgICAgIHJldHVybiBpdGVtU2VydmljZS5nZXRBbGxJdGVtcygpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RestController
@RequestMapping(&quot;/api&quot;)
public class MyController {

    @GetMapping(&quot;/items&quot;)
    public List&lt;Item&gt; getAllItems() {
        // L&oacute;gica para obtener todos los &iacute;tems
        return itemService.getAllItems();
    }
}</pre></div><div class='content'></div><h2>2. Manejo del Método POST</h2>
<div class='content'><p>El método POST se utiliza para enviar datos al servidor y crear un nuevo recurso:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL2FwaSIpCnB1YmxpYyBjbGFzcyBNeUNvbnRyb2xsZXIgewoKICAgIEBQb3N0TWFwcGluZygiL2l0ZW1zIikKICAgIHB1YmxpYyBJdGVtIGNyZWF0ZUl0ZW0oQFJlcXVlc3RCb2R5IEl0ZW0gaXRlbSkgewogICAgICAgIC8vIEzDs2dpY2EgcGFyYSBjcmVhciB1biBudWV2byDDrXRlbQogICAgICAgIHJldHVybiBpdGVtU2VydmljZS5jcmVhdGVJdGVtKGl0ZW0pOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RestController
@RequestMapping(&quot;/api&quot;)
public class MyController {

    @PostMapping(&quot;/items&quot;)
    public Item createItem(@RequestBody Item item) {
        // L&oacute;gica para crear un nuevo &iacute;tem
        return itemService.createItem(item);
    }
}</pre></div><div class='content'></div><h2>3. Manejo del Método PUT</h2>
<div class='content'><p>El método PUT se utiliza para actualizar un recurso existente:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL2FwaSIpCnB1YmxpYyBjbGFzcyBNeUNvbnRyb2xsZXIgewoKICAgIEBQdXRNYXBwaW5nKCIvaXRlbXMve2lkfSIpCiAgICBwdWJsaWMgSXRlbSB1cGRhdGVJdGVtKEBQYXRoVmFyaWFibGUgTG9uZyBpZCwgQFJlcXVlc3RCb2R5IEl0ZW0gaXRlbSkgewogICAgICAgIC8vIEzDs2dpY2EgcGFyYSBhY3R1YWxpemFyIHVuIMOtdGVtIGV4aXN0ZW50ZQogICAgICAgIHJldHVybiBpdGVtU2VydmljZS51cGRhdGVJdGVtKGlkLCBpdGVtKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RestController
@RequestMapping(&quot;/api&quot;)
public class MyController {

    @PutMapping(&quot;/items/{id}&quot;)
    public Item updateItem(@PathVariable Long id, @RequestBody Item item) {
        // L&oacute;gica para actualizar un &iacute;tem existente
        return itemService.updateItem(id, item);
    }
}</pre></div><div class='content'></div><h2>4. Manejo del Método DELETE</h2>
<div class='content'><p>El método DELETE se utiliza para eliminar un recurso:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL2FwaSIpCnB1YmxpYyBjbGFzcyBNeUNvbnRyb2xsZXIgewoKICAgIEBEZWxldGVNYXBwaW5nKCIvaXRlbXMve2lkfSIpCiAgICBwdWJsaWMgdm9pZCBkZWxldGVJdGVtKEBQYXRoVmFyaWFibGUgTG9uZyBpZCkgewogICAgICAgIC8vIEzDs2dpY2EgcGFyYSBlbGltaW5hciB1biDDrXRlbQogICAgICAgIGl0ZW1TZXJ2aWNlLmRlbGV0ZUl0ZW0oaWQpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RestController
@RequestMapping(&quot;/api&quot;)
public class MyController {

    @DeleteMapping(&quot;/items/{id}&quot;)
    public void deleteItem(@PathVariable Long id) {
        // L&oacute;gica para eliminar un &iacute;tem
        itemService.deleteItem(id);
    }
}</pre></div><div class='content'></div><h2>5. Manejo del Método PATCH</h2>
<div class='content'><p>El método PATCH se utiliza para aplicar modificaciones parciales a un recurso:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL2FwaSIpCnB1YmxpYyBjbGFzcyBNeUNvbnRyb2xsZXIgewoKICAgIEBQYXRjaE1hcHBpbmcoIi9pdGVtcy97aWR9IikKICAgIHB1YmxpYyBJdGVtIHBhcnRpYWxseVVwZGF0ZUl0ZW0oQFBhdGhWYXJpYWJsZSBMb25nIGlkLCBAUmVxdWVzdEJvZHkgTWFwPFN0cmluZywgT2JqZWN0PiB1cGRhdGVzKSB7CiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIGFjdHVhbGl6YXIgcGFyY2lhbG1lbnRlIHVuIMOtdGVtCiAgICAgICAgcmV0dXJuIGl0ZW1TZXJ2aWNlLnBhcnRpYWxseVVwZGF0ZUl0ZW0oaWQsIHVwZGF0ZXMpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RestController
@RequestMapping(&quot;/api&quot;)
public class MyController {

    @PatchMapping(&quot;/items/{id}&quot;)
    public Item partiallyUpdateItem(@PathVariable Long id, @RequestBody Map&lt;String, Object&gt; updates) {
        // L&oacute;gica para actualizar parcialmente un &iacute;tem
        return itemService.partiallyUpdateItem(id, updates);
    }
}</pre></div><div class='content'></div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Crear un Controlador REST</h2>
<div class='content'><p><strong>Objetivo</strong>: Crear un controlador REST que maneje los métodos HTTP GET, POST, PUT, DELETE y PATCH para un recurso <code>Product</code>.</p>
<ol>
<li>Crea una clase <code>Product</code> con los campos <code>id</code>, <code>name</code> y <code>price</code>.</li>
<li>Crea un servicio <code>ProductService</code> con métodos para manejar las operaciones CRUD.</li>
<li>Crea un controlador <code>ProductController</code> que maneje las solicitudes HTTP para el recurso <code>Product</code>.</li>
</ol>
<p><strong>Solución</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUHJvZHVjdC5qYXZhCnB1YmxpYyBjbGFzcyBQcm9kdWN0IHsKICAgIHByaXZhdGUgTG9uZyBpZDsKICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7CiAgICBwcml2YXRlIERvdWJsZSBwcmljZTsKCiAgICAvLyBHZXR0ZXJzIHkgU2V0dGVycwp9CgovLyBQcm9kdWN0U2VydmljZS5qYXZhCkBTZXJ2aWNlCnB1YmxpYyBjbGFzcyBQcm9kdWN0U2VydmljZSB7CiAgICBwcml2YXRlIE1hcDxMb25nLCBQcm9kdWN0PiBwcm9kdWN0UmVwb3NpdG9yeSA9IG5ldyBIYXNoTWFwPD4oKTsKCiAgICBwdWJsaWMgTGlzdDxQcm9kdWN0PiBnZXRBbGxQcm9kdWN0cygpIHsKICAgICAgICByZXR1cm4gbmV3IEFycmF5TGlzdDw+KHByb2R1Y3RSZXBvc2l0b3J5LnZhbHVlcygpKTsKICAgIH0KCiAgICBwdWJsaWMgUHJvZHVjdCBjcmVhdGVQcm9kdWN0KFByb2R1Y3QgcHJvZHVjdCkgewogICAgICAgIHByb2R1Y3Quc2V0SWQoKGxvbmcpIChwcm9kdWN0UmVwb3NpdG9yeS5zaXplKCkgKyAxKSk7CiAgICAgICAgcHJvZHVjdFJlcG9zaXRvcnkucHV0KHByb2R1Y3QuZ2V0SWQoKSwgcHJvZHVjdCk7CiAgICAgICAgcmV0dXJuIHByb2R1Y3Q7CiAgICB9CgogICAgcHVibGljIFByb2R1Y3QgdXBkYXRlUHJvZHVjdChMb25nIGlkLCBQcm9kdWN0IHByb2R1Y3QpIHsKICAgICAgICBwcm9kdWN0LnNldElkKGlkKTsKICAgICAgICBwcm9kdWN0UmVwb3NpdG9yeS5wdXQoaWQsIHByb2R1Y3QpOwogICAgICAgIHJldHVybiBwcm9kdWN0OwogICAgfQoKICAgIHB1YmxpYyB2b2lkIGRlbGV0ZVByb2R1Y3QoTG9uZyBpZCkgewogICAgICAgIHByb2R1Y3RSZXBvc2l0b3J5LnJlbW92ZShpZCk7CiAgICB9CgogICAgcHVibGljIFByb2R1Y3QgcGFydGlhbGx5VXBkYXRlUHJvZHVjdChMb25nIGlkLCBNYXA8U3RyaW5nLCBPYmplY3Q+IHVwZGF0ZXMpIHsKICAgICAgICBQcm9kdWN0IHByb2R1Y3QgPSBwcm9kdWN0UmVwb3NpdG9yeS5nZXQoaWQpOwogICAgICAgIGlmICh1cGRhdGVzLmNvbnRhaW5zS2V5KCJuYW1lIikpIHsKICAgICAgICAgICAgcHJvZHVjdC5zZXROYW1lKChTdHJpbmcpIHVwZGF0ZXMuZ2V0KCJuYW1lIikpOwogICAgICAgIH0KICAgICAgICBpZiAodXBkYXRlcy5jb250YWluc0tleSgicHJpY2UiKSkgewogICAgICAgICAgICBwcm9kdWN0LnNldFByaWNlKChEb3VibGUpIHVwZGF0ZXMuZ2V0KCJwcmljZSIpKTsKICAgICAgICB9CiAgICAgICAgcHJvZHVjdFJlcG9zaXRvcnkucHV0KGlkLCBwcm9kdWN0KTsKICAgICAgICByZXR1cm4gcHJvZHVjdDsKICAgIH0KfQoKLy8gUHJvZHVjdENvbnRyb2xsZXIuamF2YQpAUmVzdENvbnRyb2xsZXIKQFJlcXVlc3RNYXBwaW5nKCIvYXBpL3Byb2R1Y3RzIikKcHVibGljIGNsYXNzIFByb2R1Y3RDb250cm9sbGVyIHsKCiAgICBAQXV0b3dpcmVkCiAgICBwcml2YXRlIFByb2R1Y3RTZXJ2aWNlIHByb2R1Y3RTZXJ2aWNlOwoKICAgIEBHZXRNYXBwaW5nCiAgICBwdWJsaWMgTGlzdDxQcm9kdWN0PiBnZXRBbGxQcm9kdWN0cygpIHsKICAgICAgICByZXR1cm4gcHJvZHVjdFNlcnZpY2UuZ2V0QWxsUHJvZHVjdHMoKTsKICAgIH0KCiAgICBAUG9zdE1hcHBpbmcKICAgIHB1YmxpYyBQcm9kdWN0IGNyZWF0ZVByb2R1Y3QoQFJlcXVlc3RCb2R5IFByb2R1Y3QgcHJvZHVjdCkgewogICAgICAgIHJldHVybiBwcm9kdWN0U2VydmljZS5jcmVhdGVQcm9kdWN0KHByb2R1Y3QpOwogICAgfQoKICAgIEBQdXRNYXBwaW5nKCIve2lkfSIpCiAgICBwdWJsaWMgUHJvZHVjdCB1cGRhdGVQcm9kdWN0KEBQYXRoVmFyaWFibGUgTG9uZyBpZCwgQFJlcXVlc3RCb2R5IFByb2R1Y3QgcHJvZHVjdCkgewogICAgICAgIHJldHVybiBwcm9kdWN0U2VydmljZS51cGRhdGVQcm9kdWN0KGlkLCBwcm9kdWN0KTsKICAgIH0KCiAgICBARGVsZXRlTWFwcGluZygiL3tpZH0iKQogICAgcHVibGljIHZvaWQgZGVsZXRlUHJvZHVjdChAUGF0aFZhcmlhYmxlIExvbmcgaWQpIHsKICAgICAgICBwcm9kdWN0U2VydmljZS5kZWxldGVQcm9kdWN0KGlkKTsKICAgIH0KCiAgICBAUGF0Y2hNYXBwaW5nKCIve2lkfSIpCiAgICBwdWJsaWMgUHJvZHVjdCBwYXJ0aWFsbHlVcGRhdGVQcm9kdWN0KEBQYXRoVmFyaWFibGUgTG9uZyBpZCwgQFJlcXVlc3RCb2R5IE1hcDxTdHJpbmcsIE9iamVjdD4gdXBkYXRlcykgewogICAgICAgIHJldHVybiBwcm9kdWN0U2VydmljZS5wYXJ0aWFsbHlVcGRhdGVQcm9kdWN0KGlkLCB1cGRhdGVzKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Product.java
public class Product {
    private Long id;
    private String name;
    private Double price;

    // Getters y Setters
}

// ProductService.java
@Service
public class ProductService {
    private Map&lt;Long, Product&gt; productRepository = new HashMap&lt;&gt;();

    public List&lt;Product&gt; getAllProducts() {
        return new ArrayList&lt;&gt;(productRepository.values());
    }

    public Product createProduct(Product product) {
        product.setId((long) (productRepository.size() + 1));
        productRepository.put(product.getId(), product);
        return product;
    }

    public Product updateProduct(Long id, Product product) {
        product.setId(id);
        productRepository.put(id, product);
        return product;
    }

    public void deleteProduct(Long id) {
        productRepository.remove(id);
    }

    public Product partiallyUpdateProduct(Long id, Map&lt;String, Object&gt; updates) {
        Product product = productRepository.get(id);
        if (updates.containsKey(&quot;name&quot;)) {
            product.setName((String) updates.get(&quot;name&quot;));
        }
        if (updates.containsKey(&quot;price&quot;)) {
            product.setPrice((Double) updates.get(&quot;price&quot;));
        }
        productRepository.put(id, product);
        return product;
    }
}

// ProductController.java
@RestController
@RequestMapping(&quot;/api/products&quot;)
public class ProductController {

    @Autowired
    private ProductService productService;

    @GetMapping
    public List&lt;Product&gt; getAllProducts() {
        return productService.getAllProducts();
    }

    @PostMapping
    public Product createProduct(@RequestBody Product product) {
        return productService.createProduct(product);
    }

    @PutMapping(&quot;/{id}&quot;)
    public Product updateProduct(@PathVariable Long id, @RequestBody Product product) {
        return productService.updateProduct(id, product);
    }

    @DeleteMapping(&quot;/{id}&quot;)
    public void deleteProduct(@PathVariable Long id) {
        productService.deleteProduct(id);
    }

    @PatchMapping(&quot;/{id}&quot;)
    public Product partiallyUpdateProduct(@PathVariable Long id, @RequestBody Map&lt;String, Object&gt; updates) {
        return productService.partiallyUpdateProduct(id, updates);
    }
}</pre></div><div class='content'></div><h1>Resumen</h1>
<div class='content'><p>En esta sección, hemos aprendido cómo manejar los diferentes métodos HTTP en una aplicación Spring Boot utilizando anotaciones específicas. Hemos visto ejemplos prácticos para cada método y hemos creado un ejercicio para reforzar los conceptos aprendidos. Con esta base, estarás preparado para manejar solicitudes HTTP en tus aplicaciones Spring Boot de manera efectiva.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-creating-rest-controllers' title="Creando Controladores REST">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-04-exception-handling-rest' title="Manejo de Excepciones en REST">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
