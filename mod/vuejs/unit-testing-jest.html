<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas Unitarias con Jest</title>

    <link rel="alternate" href="https://campusempresa.com/mod/vuejs/unit-testing-jest" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/vuejs/unit-testing-jest" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/vuejs/unit-testing-jest" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/vuejs/unit-testing-jest" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/vuejs/unit-testing-jest" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-testing'>&#x25C4;Introducción a las Pruebas</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas Unitarias con Jest</a>
	</div>
	<div class='col-4 text-end'>
					<a href='component-testing-vue-test-utils'>Pruebas de Componentes con Vue Test Utils &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a las Pruebas Unitarias</h1>
<div class='content'><p>Las pruebas unitarias son un método de prueba de software donde se prueban unidades o componentes individuales de un software. El propósito es validar que cada unidad del software funcione como se espera.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Unidad</strong>: La parte más pequeña de cualquier software que se puede probar.</li>
<li><strong>Caso de Prueba</strong>: Un conjunto de condiciones o variables bajo las cuales un probador determinará si una unidad de software funciona como se espera.</li>
<li><strong>Suite de Pruebas</strong>: Una colección de casos de prueba.</li>
<li><strong>Mocking</strong>: Crear una versión falsa de una función o módulo para aislar la unidad que se está probando.</li>
</ul>
</div><h1>¿Por qué Usar Jest para Pruebas Unitarias en Vue.js?</h1>
<div class='content'><p>Jest es un marco de pruebas de JavaScript encantador con un enfoque en la simplicidad. Funciona perfectamente con Vue.js, proporcionando un entorno robusto para probar componentes de Vue.</p>
</div><h2>Características Clave de Jest</h2>
<div class='content'><ul>
<li><strong>Cero Configuración</strong>: Funciona sin configuración para la mayoría de los proyectos de JavaScript.</li>
<li><strong>Pruebas de Instantáneas</strong>: Captura la salida renderizada de un componente y la compara con un archivo de instantánea de referencia.</li>
<li><strong>Mocking</strong>: Soporte incorporado para simular funciones y módulos.</li>
<li><strong>Cobertura de Código</strong>: Proporciona informes detallados de cobertura de código.</li>
</ul>
</div><h1>Configuración de Jest en un Proyecto Vue.js</h1>
<div class='content'><p>Para comenzar con Jest en un proyecto Vue.js, necesitas instalar las dependencias necesarias y configurar Jest.</p>
</div><h2>Instalación</h2>
<div class='content'><p>Primero, instala Jest y Vue Test Utils:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLS1zYXZlLWRldiBqZXN0IEB2dWUvdGVzdC11dGlscw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install --save-dev jest @vue/test-utils</pre></div><div class='content'></div><h2>Configuración</h2>
<div class='content'><p>Crea un archivo <code>jest.config.js</code> en la raíz de tu proyecto:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9kdWxlLmV4cG9ydHMgPSB7CiAgcHJlc2V0OiAnQHZ1ZS9jbGktcGx1Z2luLXVuaXQtamVzdC9wcmVzZXRzL25vLWJhYmVsJywKICB0ZXN0TWF0Y2g6IFsnKiovX190ZXN0c19fLyoqLyouc3BlYy5banRdcz8oeCknXSwKfTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>module.exports = {
  preset: '@vue/cli-plugin-unit-jest/presets/no-babel',
  testMatch: ['**/__tests__/**/*.spec.[jt]s?(x)'],
};</pre></div><div class='content'></div><h1>Escribiendo Tu Primera Prueba</h1>
<div class='content'><p>Vamos a escribir una prueba unitaria simple para un componente de Vue.</p>
</div><h2>Componente de Ejemplo</h2>
<div class='content'><p>Considera un componente simple <code>HelloWorld.vue</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHRlbXBsYXRlPgogIDxkaXY+CiAgICA8cD57eyBtZXNzYWdlIH19PC9wPgogIDwvZGl2Pgo8L3RlbXBsYXRlPgoKPHNjcmlwdD4KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIZWxsb1dvcmxkJywKICBwcm9wczogewogICAgbWVzc2FnZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfQp9Cjwvc2NyaXB0Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;{{ message }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'HelloWorld',
  props: {
    message: {
      type: String,
      required: true
    }
  }
}
&lt;/script&gt;</pre></div><div class='content'></div><h2>Caso de Prueba</h2>
<div class='content'><p>Crea un archivo de prueba <code>HelloWorld.spec.js</code> en el directorio <code>__tests__</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgc2hhbGxvd01vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IEhlbGxvV29ybGQgZnJvbSAnQC9jb21wb25lbnRzL0hlbGxvV29ybGQudnVlJzsKCmRlc2NyaWJlKCdIZWxsb1dvcmxkLnZ1ZScsICgpID0+IHsKICBpdCgncmVuZGVycyBwcm9wcy5tZXNzYWdlIHdoZW4gcGFzc2VkJywgKCkgPT4gewogICAgY29uc3QgbWVzc2FnZSA9ICdIZWxsbywgSmVzdCEnOwogICAgY29uc3Qgd3JhcHBlciA9IHNoYWxsb3dNb3VudChIZWxsb1dvcmxkLCB7CiAgICAgIHByb3BzRGF0YTogeyBtZXNzYWdlIH0KICAgIH0pOwogICAgZXhwZWN0KHdyYXBwZXIudGV4dCgpKS50b01hdGNoKG1lc3NhZ2UpOwogIH0pOwp9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { shallowMount } from '@vue/test-utils';
import HelloWorld from '@/components/HelloWorld.vue';

describe('HelloWorld.vue', () =&gt; {
  it('renders props.message when passed', () =&gt; {
    const message = 'Hello, Jest!';
    const wrapper = shallowMount(HelloWorld, {
      propsData: { message }
    });
    expect(wrapper.text()).toMatch(message);
  });
});</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>shallowMount</strong>: Crea un contenedor superficial para el componente, lo que significa que solo renderiza el componente en sí sin renderizar los componentes hijos.</li>
<li><strong>propsData</strong>: Pasa props al componente.</li>
<li><strong>expect</strong>: Función de aserción de Jest para verificar si el texto del componente coincide con el mensaje pasado.</li>
</ul>
</div><h1>Técnicas Avanzadas de Pruebas</h1>
<div class='content'><p>A medida que te sientas más cómodo con Jest, puedes explorar técnicas de prueba más avanzadas.</p>
</div><h2>Mocking de Dependencias</h2>
<div class='content'><p>A veces, los componentes dependen de módulos o servicios externos. Jest te permite simular estas dependencias.</p>
<h4>Ejemplo</h4>
<p>Supongamos que tu componente usa un servicio para obtener datos:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGF0YUZldGNoZXInLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBudWxsCiAgICB9OwogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCcvYXBpL2RhdGEnKTsKICAgIHRoaXMuZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import axios from 'axios';

export default {
  name: 'DataFetcher',
  data() {
    return {
      data: null
    };
  },
  async created() {
    const response = await axios.get('/api/data');
    this.data = response.data;
  }
}</pre></div><div class='content'><h4>Mocking de Axios</h4>
<p>En tu archivo de prueba, puedes simular el módulo axios:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgc2hhbGxvd01vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IERhdGFGZXRjaGVyIGZyb20gJ0AvY29tcG9uZW50cy9EYXRhRmV0Y2hlci52dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKamVzdC5tb2NrKCdheGlvcycpOwoKZGVzY3JpYmUoJ0RhdGFGZXRjaGVyLnZ1ZScsICgpID0+IHsKICBpdCgnZmV0Y2hlcyBkYXRhIG9uIGNyZWF0ZWQnLCBhc3luYyAoKSA9PiB7CiAgICBjb25zdCBkYXRhID0geyBkYXRhOiAnbW9ja2VkIGRhdGEnIH07CiAgICBheGlvcy5nZXQubW9ja1Jlc29sdmVkVmFsdWUoZGF0YSk7CgogICAgY29uc3Qgd3JhcHBlciA9IHNoYWxsb3dNb3VudChEYXRhRmV0Y2hlcik7CiAgICBhd2FpdCB3cmFwcGVyLnZtLiRuZXh0VGljaygpOwoKICAgIGV4cGVjdCh3cmFwcGVyLnZtLmRhdGEpLnRvQmUoJ21vY2tlZCBkYXRhJyk7CiAgfSk7Cn0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { shallowMount } from '@vue/test-utils';
import DataFetcher from '@/components/DataFetcher.vue';
import axios from 'axios';

jest.mock('axios');

describe('DataFetcher.vue', () =&gt; {
  it('fetches data on created', async () =&gt; {
    const data = { data: 'mocked data' };
    axios.get.mockResolvedValue(data);

    const wrapper = shallowMount(DataFetcher);
    await wrapper.vm.$nextTick();

    expect(wrapper.vm.data).toBe('mocked data');
  });
});</pre></div><div class='content'></div><h2>Pruebas de Instantáneas</h2>
<div class='content'><p>Las pruebas de instantáneas son útiles para asegurar que la interfaz de usuario no cambie inesperadamente.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgc2hhbGxvd01vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IEhlbGxvV29ybGQgZnJvbSAnQC9jb21wb25lbnRzL0hlbGxvV29ybGQudnVlJzsKCmRlc2NyaWJlKCdIZWxsb1dvcmxkLnZ1ZScsICgpID0+IHsKICBpdCgnbWF0Y2hlcyBzbmFwc2hvdCcsICgpID0+IHsKICAgIGNvbnN0IHdyYXBwZXIgPSBzaGFsbG93TW91bnQoSGVsbG9Xb3JsZCwgewogICAgICBwcm9wc0RhdGE6IHsgbWVzc2FnZTogJ0hlbGxvLCBKZXN0IScgfQogICAgfSk7CiAgICBleHBlY3Qod3JhcHBlci5odG1sKCkpLnRvTWF0Y2hTbmFwc2hvdCgpOwogIH0pOwp9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { shallowMount } from '@vue/test-utils';
import HelloWorld from '@/components/HelloWorld.vue';

describe('HelloWorld.vue', () =&gt; {
  it('matches snapshot', () =&gt; {
    const wrapper = shallowMount(HelloWorld, {
      propsData: { message: 'Hello, Jest!' }
    });
    expect(wrapper.html()).toMatchSnapshot();
  });
});</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Las pruebas unitarias con Jest en un proyecto Vue.js aseguran que tus componentes funcionen como se espera y ayudan a prevenir regresiones. Comenzando con pruebas simples y gradualmente incorporando técnicas más avanzadas como mocking y pruebas de instantáneas, puedes construir una suite de pruebas robusta que mejore la fiabilidad de tu aplicación.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-testing'>&#x25C4;Introducción a las Pruebas</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas Unitarias con Jest</a>
	</div>
	<div class='col-4 text-end'>
					<a href='component-testing-vue-test-utils'>Pruebas de Componentes con Vue Test Utils &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
