<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Integración Continua</title>

    <link rel="alternate" href="https://campusempresa.com/mod/graphql/07-03-continuous-integration" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/graphql/07-03-continuous-integration" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/graphql/07-03-continuous-integration" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/graphql/07-03-continuous-integration" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/graphql/07-03-continuous-integration" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Todo el conocimiento a tu alcance</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-integration-testing' title="Pruebas de Integración">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Integración Continua</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-deploying-graphql-servers' title="Despliegue de Servidores GraphQL">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>La integración continua (CI) es una práctica de desarrollo de software en la que los desarrolladores integran su código en un repositorio compartido varias veces al día. Cada integración es verificada por una construcción automatizada (incluyendo pruebas) para detectar errores lo antes posible. En este tema, aprenderemos cómo implementar CI en un proyecto GraphQL.</p>
</div><h1>Objetivos de Aprendizaje</h1>
<div class='content'><ul>
<li>Comprender los conceptos básicos de la integración continua.</li>
<li>Configurar un pipeline de CI para un proyecto GraphQL.</li>
<li>Automatizar pruebas y despliegues con herramientas de CI/CD.</li>
</ul>
</div><h1>Conceptos Básicos de Integración Continua</h1>
<div class='content'></div><h2>¿Qué es la Integración Continua?</h2>
<div class='content'><p>La integración continua es una práctica de desarrollo que implica:</p>
<ul>
<li><strong>Integraciones frecuentes</strong>: Los desarrolladores integran su trabajo en el repositorio varias veces al día.</li>
<li><strong>Construcciones automatizadas</strong>: Cada integración dispara una construcción automatizada que incluye la compilación del código y la ejecución de pruebas.</li>
<li><strong>Detección temprana de errores</strong>: Al integrar y probar frecuentemente, los errores se detectan y corrigen rápidamente.</li>
</ul>
</div><h2>Beneficios de la Integración Continua</h2>
<div class='content'><ul>
<li><strong>Detección temprana de errores</strong>: Los errores se detectan y corrigen rápidamente, lo que reduce el costo de las correcciones.</li>
<li><strong>Mejora de la calidad del código</strong>: Las pruebas automatizadas aseguran que el código cumple con los estándares de calidad.</li>
<li><strong>Despliegue más rápido</strong>: La automatización de pruebas y despliegues permite liberar nuevas versiones del software más rápidamente.</li>
</ul>
</div><h1>Configuración de un Pipeline de CI para un Proyecto GraphQL</h1>
<div class='content'></div><h2>Herramientas de CI/CD</h2>
<div class='content'><p>Existen varias herramientas populares para implementar CI/CD, entre ellas:</p>
<ul>
<li><strong>Jenkins</strong></li>
<li><strong>Travis CI</strong></li>
<li><strong>CircleCI</strong></li>
<li><strong>GitHub Actions</strong></li>
</ul>
<p>Para este ejemplo, utilizaremos <strong>GitHub Actions</strong> debido a su integración directa con GitHub y su facilidad de uso.</p>
</div><h2>Configuración de GitHub Actions</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un archivo de configuración</strong>: En el directorio raíz de tu proyecto, crea un archivo <code>.github/workflows/ci.yml</code>.</p>
</li>
<li>
<p><strong>Definir el workflow</strong>: Configura el archivo <code>ci.yml</code> para definir el pipeline de CI.</p>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kgUGlwZWxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCiAgcHVsbF9yZXF1ZXN0OgogICAgYnJhbmNoZXM6CiAgICAgIC0gbWFpbgoKam9iczoKICBidWlsZDoKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKCiAgICBzdGVwczoKICAgIC0gbmFtZTogQ2hlY2tvdXQgY29kZQogICAgICB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCgogICAgLSBuYW1lOiBTZXQgdXAgTm9kZS5qcwogICAgICB1c2VzOiBhY3Rpb25zL3NldHVwLW5vZGVAdjIKICAgICAgd2l0aDoKICAgICAgICBub2RlLXZlcnNpb246ICcxNCcKCiAgICAtIG5hbWU6IEluc3RhbGwgZGVwZW5kZW5jaWVzCiAgICAgIHJ1bjogbnBtIGluc3RhbGwKCiAgICAtIG5hbWU6IFJ1biB0ZXN0cwogICAgICBydW46IG5wbSB0ZXN0"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI Pipeline

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '14'

    - name: Install dependencies
      run: npm install

    - name: Run tests
      run: npm test</pre></div><div class='content'></div><h2>Explicación del Workflow</h2>
<div class='content'><ul>
<li><strong>name</strong>: Nombre del workflow.</li>
<li><strong>on</strong>: Define los eventos que disparan el workflow (push y pull_request en la rama <code>main</code>).</li>
<li><strong>jobs</strong>: Define los trabajos que se ejecutarán.
<ul>
<li><strong>build</strong>: Nombre del trabajo.</li>
<li><strong>runs-on</strong>: Define el sistema operativo en el que se ejecutará el trabajo (ubuntu-latest).</li>
<li><strong>steps</strong>: Define los pasos del trabajo.
<ul>
<li><strong>Checkout code</strong>: Usa la acción <code>actions/checkout</code> para clonar el repositorio.</li>
<li><strong>Set up Node.js</strong>: Usa la acción <code>actions/setup-node</code> para configurar Node.js.</li>
<li><strong>Install dependencies</strong>: Ejecuta <code>npm install</code> para instalar las dependencias.</li>
<li><strong>Run tests</strong>: Ejecuta <code>npm test</code> para correr las pruebas.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div><h1>Automatización de Pruebas y Despliegues</h1>
<div class='content'></div><h2>Pruebas Automatizadas</h2>
<div class='content'><p>Las pruebas automatizadas son esenciales para asegurar la calidad del código. En un proyecto GraphQL, es importante incluir pruebas unitarias para los resolvers y pruebas de integración para las consultas y mutaciones.</p>
<h4>Ejemplo de Prueba Unitaria</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgeyBncWwgfSA9IHJlcXVpcmUoJ2Fwb2xsby1zZXJ2ZXInKTsKY29uc3QgeyBjcmVhdGVUZXN0Q2xpZW50IH0gPSByZXF1aXJlKCdhcG9sbG8tc2VydmVyLXRlc3RpbmcnKTsKY29uc3QgeyBzZXJ2ZXIgfSA9IHJlcXVpcmUoJy4uL3NyYy9zZXJ2ZXInKTsKCmNvbnN0IHsgcXVlcnkgfSA9IGNyZWF0ZVRlc3RDbGllbnQoc2VydmVyKTsKCmNvbnN0IEdFVF9VU0VSID0gZ3FsYAogIHF1ZXJ5IGdldFVzZXIoJGlkOiBJRCEpIHsKICAgIHVzZXIoaWQ6ICRpZCkgewogICAgICBpZAogICAgICBuYW1lCiAgICAgIGVtYWlsCiAgICB9CiAgfQpgOwoKdGVzdCgnZmV0Y2hlcyBhIHVzZXIgYnkgSUQnLCBhc3luYyAoKSA9PiB7CiAgY29uc3QgcmVzID0gYXdhaXQgcXVlcnkoeyBxdWVyeTogR0VUX1VTRVIsIHZhcmlhYmxlczogeyBpZDogJzEnIH0gfSk7CiAgZXhwZWN0KHJlcy5kYXRhLnVzZXIpLnRvRXF1YWwoewogICAgaWQ6ICcxJywKICAgIG5hbWU6ICdKb2huIERvZScsCiAgICBlbWFpbDogJ2pvaG4uZG9lQGV4YW1wbGUuY29tJywKICB9KTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const { gql } = require('apollo-server');
const { createTestClient } = require('apollo-server-testing');
const { server } = require('../src/server');

const { query } = createTestClient(server);

const GET_USER = gql`
  query getUser($id: ID!) {
    user(id: $id) {
      id
      name
      email
    }
  }
`;

test('fetches a user by ID', async () =&gt; {
  const res = await query({ query: GET_USER, variables: { id: '1' } });
  expect(res.data.user).toEqual({
    id: '1',
    name: 'John Doe',
    email: 'john.doe@example.com',
  });
});</pre></div><div class='content'></div><h2>Despliegue Automatizado</h2>
<div class='content'><p>El despliegue automatizado puede configurarse en el mismo pipeline de CI/CD. Por ejemplo, puedes agregar un paso para desplegar tu servidor GraphQL a un servicio como Heroku o AWS.</p>
<h4>Ejemplo de Despliegue a Heroku</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LSBuYW1lOiBEZXBsb3kgdG8gSGVyb2t1CiAgZW52OgogICAgSEVST0tVX0FQSV9LRVk6ICR7eyBzZWNyZXRzLkhFUk9LVV9BUElfS0VZIH19CiAgcnVuOiB8CiAgICBnaXQgcmVtb3RlIGFkZCBoZXJva3UgaHR0cHM6Ly9naXQuaGVyb2t1LmNvbS88eW91ci1hcHAtbmFtZT4uZ2l0CiAgICBnaXQgcHVzaCBoZXJva3UgbWFpbg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>- name: Deploy to Heroku
  env:
    HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
  run: |
    git remote add heroku https://git.heroku.com/&lt;your-app-name&gt;.git
    git push heroku main</pre></div><div class='content'></div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio</h2>
<div class='content'><ol>
<li>Configura un pipeline de CI para tu proyecto GraphQL utilizando GitHub Actions.</li>
<li>Asegúrate de que el pipeline ejecute las pruebas automatizadas cada vez que se haga un push a la rama <code>main</code>.</li>
<li>Agrega un paso para desplegar tu servidor GraphQL a Heroku.</li>
</ol>
</div><h2>Solución</h2>
<div class='content'><ol>
<li>Crea el archivo <code>.github/workflows/ci.yml</code> con el contenido proporcionado anteriormente.</li>
<li>Asegúrate de tener pruebas automatizadas en tu proyecto.</li>
<li>Agrega el paso de despliegue a Heroku en el archivo <code>ci.yml</code>.</li>
</ol>
</div><h1>Conclusión</h1>
<div class='content'><p>La integración continua es una práctica esencial para cualquier proyecto de software moderno. Al configurar un pipeline de CI para tu proyecto GraphQL, puedes asegurar la calidad del código, detectar errores rápidamente y desplegar nuevas versiones de manera eficiente. En el siguiente módulo, exploraremos cómo construir aplicaciones full-stack utilizando GraphQL.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='07-02-integration-testing' title="Pruebas de Integración">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='07-04-deploying-graphql-servers' title="Despliegue de Servidores GraphQL">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicidad</h1>
<p>Este espacio está destinado a publicidad.</p>
<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>¡Gracias por colaborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
