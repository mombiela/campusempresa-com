<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resolvers</title>

    <link rel="alternate" href="https://campusempresa.com/mod/graphql/02-03-resolvers" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/graphql/02-03-resolvers" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/graphql/02-03-resolvers" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/graphql/02-03-resolvers" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/graphql/02-03-resolvers" class="px-2">CA</a>
<br>
			<cite>Construyendo la sociedad de hoy y del mañana</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Contenido del curso</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competencias técnicas</a>
				<a href="/all/conocimientos">Conocimientos</a>
				<a href="/all/soft_skills">Competencias sociales</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-02-mutations' title="Mutaciones">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Resolvers</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-04-graphql-types' title="Tipos de GraphQL">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En GraphQL, los resolvers son funciones que se encargan de obtener los datos para cada campo en una consulta. Son una parte fundamental del servidor GraphQL, ya que permiten conectar el esquema de GraphQL con las fuentes de datos subyacentes, como bases de datos, APIs externas, etc.</p>
</div><h1><p>Conceptos Clave</p>
</h1>
<div class='content'><ol>
<li><strong>Resolver</strong>: Una función que obtiene el valor de un campo en el esquema de GraphQL.</li>
<li><strong>Parent</strong>: El objeto que contiene el campo que está siendo resuelto.</li>
<li><strong>Args</strong>: Un objeto que contiene los argumentos pasados a la consulta.</li>
<li><strong>Context</strong>: Un objeto compartido entre todos los resolvers que se ejecutan para una operación específica.</li>
<li><strong>Info</strong>: Información sobre la ejecución de la consulta, incluyendo el esquema, el campo, etc.</li>
</ol>
</div><h1><p>Estructura de un Resolver</p>
</h1>
<div class='content'><p>Un resolver típico tiene la siguiente estructura:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXIgPSAocGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7CiAgLy8gTMOzZ2ljYSBwYXJhIG9idGVuZXIgZWwgZGF0bwogIHJldHVybiBkYXRhOwp9Ow=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolver = (parent, args, context, info) =&gt; {
  // L&oacute;gica para obtener el dato
  return data;
};</pre></div><div class='content'><ul>
<li><strong>parent</strong>: El resultado del resolver del campo padre.</li>
<li><strong>args</strong>: Los argumentos pasados a la consulta.</li>
<li><strong>context</strong>: Un objeto que contiene información compartida entre resolvers.</li>
<li><strong>info</strong>: Información sobre la ejecución de la consulta.</li>
</ul>
</div><h1><p>Ejemplo Práctico</p>
</h1>
<div class='content'><p>Supongamos que tenemos el siguiente esquema de GraphQL:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBRdWVyeSB7CiAgdXNlcihpZDogSUQhKTogVXNlcgp9Cgp0eXBlIFVzZXIgewogIGlkOiBJRCEKICBuYW1lOiBTdHJpbmchCiAgYWdlOiBJbnQhCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type Query {
  user(id: ID!): User
}

type User {
  id: ID!
  name: String!
  age: Int!
}</pre></div><div class='content'><p>Para resolver la consulta <code>user</code>, necesitamos definir un resolver que obtenga el usuario por su ID. Aquí hay un ejemplo de cómo hacerlo:</p>
</div><h2><p>Definición del Resolver</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICB1c2VyOiAocGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7CiAgICAgIC8vIFNpbXVsYW1vcyB1bmEgYmFzZSBkZSBkYXRvcyBjb24gdW4gYXJyYXkgZGUgdXN1YXJpb3MKICAgICAgY29uc3QgdXNlcnMgPSBbCiAgICAgICAgeyBpZDogJzEnLCBuYW1lOiAnQWxpY2UnLCBhZ2U6IDI1IH0sCiAgICAgICAgeyBpZDogJzInLCBuYW1lOiAnQm9iJywgYWdlOiAzMCB9LAogICAgICBdOwoKICAgICAgLy8gQnVzY2Ftb3MgZWwgdXN1YXJpbyBwb3IgSUQKICAgICAgcmV0dXJuIHVzZXJzLmZpbmQodXNlciA9PiB1c2VyLmlkID09PSBhcmdzLmlkKTsKICAgIH0sCiAgfSwKfTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    user: (parent, args, context, info) =&gt; {
      // Simulamos una base de datos con un array de usuarios
      const users = [
        { id: '1', name: 'Alice', age: 25 },
        { id: '2', name: 'Bob', age: 30 },
      ];

      // Buscamos el usuario por ID
      return users.find(user =&gt; user.id === args.id);
    },
  },
};</pre></div><div class='content'></div><h2><p>Explicación del Código</p>
</h2>
<div class='content'><ol>
<li><strong>Query.user</strong>: Definimos un resolver para el campo <code>user</code> en el tipo <code>Query</code>.</li>
<li><strong>args</strong>: Utilizamos <code>args.id</code> para obtener el ID del usuario que se está buscando.</li>
<li><strong>users.find</strong>: Buscamos en el array de usuarios el que tenga el ID correspondiente y lo devolvemos.</li>
</ol>
</div><h1><p>Ejercicio Práctico</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Resolver para Obtener una Lista de Usuarios</p>
</h2>
<div class='content'><p>Dado el siguiente esquema, define un resolver para obtener una lista de usuarios.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBRdWVyeSB7CiAgdXNlcnM6IFtVc2VyXQp9Cgp0eXBlIFVzZXIgewogIGlkOiBJRCEKICBuYW1lOiBTdHJpbmchCiAgYWdlOiBJbnQhCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type Query {
  users: [User]
}

type User {
  id: ID!
  name: String!
  age: Int!
}</pre></div><div class='content'></div><h2><p>Solución</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICB1c2VyczogKHBhcmVudCwgYXJncywgY29udGV4dCwgaW5mbykgPT4gewogICAgICAvLyBTaW11bGFtb3MgdW5hIGJhc2UgZGUgZGF0b3MgY29uIHVuIGFycmF5IGRlIHVzdWFyaW9zCiAgICAgIGNvbnN0IHVzZXJzID0gWwogICAgICAgIHsgaWQ6ICcxJywgbmFtZTogJ0FsaWNlJywgYWdlOiAyNSB9LAogICAgICAgIHsgaWQ6ICcyJywgbmFtZTogJ0JvYicsIGFnZTogMzAgfSwKICAgICAgXTsKCiAgICAgIC8vIERldm9sdmVtb3MgbGEgbGlzdGEgZGUgdXN1YXJpb3MKICAgICAgcmV0dXJuIHVzZXJzOwogICAgfSwKICB9LAp9Ow=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    users: (parent, args, context, info) =&gt; {
      // Simulamos una base de datos con un array de usuarios
      const users = [
        { id: '1', name: 'Alice', age: 25 },
        { id: '2', name: 'Bob', age: 30 },
      ];

      // Devolvemos la lista de usuarios
      return users;
    },
  },
};</pre></div><div class='content'></div><h2><p>Ejercicio 2: Resolver para Obtener un Usuario por Nombre</p>
</h2>
<div class='content'><p>Dado el siguiente esquema, define un resolver para obtener un usuario por su nombre.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBRdWVyeSB7CiAgdXNlckJ5TmFtZShuYW1lOiBTdHJpbmchKTogVXNlcgp9Cgp0eXBlIFVzZXIgewogIGlkOiBJRCEKICBuYW1lOiBTdHJpbmchCiAgYWdlOiBJbnQhCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type Query {
  userByName(name: String!): User
}

type User {
  id: ID!
  name: String!
  age: Int!
}</pre></div><div class='content'></div><h2><p>Solución</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICB1c2VyQnlOYW1lOiAocGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7CiAgICAgIC8vIFNpbXVsYW1vcyB1bmEgYmFzZSBkZSBkYXRvcyBjb24gdW4gYXJyYXkgZGUgdXN1YXJpb3MKICAgICAgY29uc3QgdXNlcnMgPSBbCiAgICAgICAgeyBpZDogJzEnLCBuYW1lOiAnQWxpY2UnLCBhZ2U6IDI1IH0sCiAgICAgICAgeyBpZDogJzInLCBuYW1lOiAnQm9iJywgYWdlOiAzMCB9LAogICAgICBdOwoKICAgICAgLy8gQnVzY2Ftb3MgZWwgdXN1YXJpbyBwb3Igbm9tYnJlCiAgICAgIHJldHVybiB1c2Vycy5maW5kKHVzZXIgPT4gdXNlci5uYW1lID09PSBhcmdzLm5hbWUpOwogICAgfSwKICB9LAp9Ow=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    userByName: (parent, args, context, info) =&gt; {
      // Simulamos una base de datos con un array de usuarios
      const users = [
        { id: '1', name: 'Alice', age: 25 },
        { id: '2', name: 'Bob', age: 30 },
      ];

      // Buscamos el usuario por nombre
      return users.find(user =&gt; user.name === args.name);
    },
  },
};</pre></div><div class='content'></div><h1><p>Errores Comunes y Consejos</p>
</h1>
<div class='content'><ol>
<li>
<p><strong>No manejar errores</strong>: Asegúrate de manejar posibles errores, como cuando no se encuentra un usuario.</p>
<pre><code class="language-javascript">user: (parent, args, context, info) =&gt; {
  const user = users.find(user =&gt; user.id === args.id);
  if (!user) {
    throw new Error('User not found');
  }
  return user;
}
</code></pre>
</li>
<li>
<p><strong>No usar el contexto adecuadamente</strong>: Utiliza el contexto para pasar información compartida, como la conexión a la base de datos.</p>
<pre><code class="language-javascript">user: (parent, args, context, info) =&gt; {
  return context.db.findUserById(args.id);
}
</code></pre>
</li>
</ol>
</div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>Los resolvers son el puente entre el esquema de GraphQL y las fuentes de datos. Entender cómo funcionan y cómo implementarlos correctamente es crucial para construir aplicaciones GraphQL robustas y eficientes. En el siguiente tema, exploraremos los diferentes tipos de datos que puedes definir en GraphQL, lo que te permitirá crear esquemas más complejos y útiles.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-02-mutations' title="Mutaciones">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-04-graphql-types' title="Tipos de GraphQL">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
