<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resolutores</title>

    <link rel="alternate" href="https://campusempresa.com/mod/graphql/resolvers" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/graphql/resolvers" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/graphql/resolvers" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/graphql/resolvers" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/graphql/resolvers" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/graphql/resolvers">https://enterprisecampus.net/mod/graphql/resolvers</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='queries-and-mutations'>&#x25C4;Consultas y Mutaciones</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Resolutores</a>
	</div>
	<div class='col-4 text-end'>
					<a href='graphql-variables'>Variables de GraphQL &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Los resolutores son un concepto fundamental en GraphQL. Son responsables de obtener los datos para los campos en tu esquema. Este tema te guiará desde los conceptos básicos de los resolutores hasta el uso avanzado, asegurándote de que entiendas cómo usarlos eficazmente en tus aplicaciones GraphQL.</p>
</div><h1>¿Qué son los Resolutores?</h1>
<div class='content'><ul>
<li><strong>Definición</strong>: Los resolutores son funciones que manejan la obtención de datos para un campo específico en un esquema GraphQL.</li>
<li><strong>Propósito</strong>: Conectan el esquema con las fuentes de datos subyacentes, como bases de datos o APIs.</li>
</ul>
</div><h1>Estructura Básica de los Resolutores</h1>
<div class='content'><p>Una función de resolutor típicamente sigue esta estructura:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICBmaWVsZE5hbWU6IChwYXJlbnQsIGFyZ3MsIGNvbnRleHQsIGluZm8pID0+IHsKICAgICAgLy8gT2J0ZW5lciB5IGRldm9sdmVyIGRhdG9zIHBhcmEgZWwgY2FtcG8KICAgIH0sCiAgfSwKfTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    fieldName: (parent, args, context, info) =&gt; {
      // Obtener y devolver datos para el campo
    },
  },
};</pre></div><div class='content'><ul>
<li><strong>parent</strong>: El resultado del resolutor anterior en la cadena de resolutores.</li>
<li><strong>args</strong>: Los argumentos proporcionados al campo en la consulta.</li>
<li><strong>context</strong>: Un objeto compartido pasado a cada resolutor, útil para autenticación, conexiones a bases de datos, etc.</li>
<li><strong>info</strong>: Información sobre el estado de ejecución de la consulta.</li>
</ul>
</div><h2>Ejemplo: Resolutor Básico</h2>
<div class='content'><p>Vamos a crear un resolutor simple para un campo <code>hello</code> que devuelve un mensaje de saludo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICBoZWxsbzogKCkgPT4gewogICAgICByZXR1cm4gIsKhSG9sYSwgbXVuZG8hIjsKICAgIH0sCiAgfSwKfTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    hello: () =&gt; {
      return &quot;&iexcl;Hola, mundo!&quot;;
    },
  },
};</pre></div><div class='content'></div><h1>Manejo de Argumentos</h1>
<div class='content'><p>Los resolutores pueden aceptar argumentos para filtrar o modificar los datos que devuelven.</p>
</div><h2>Ejemplo: Resolutor con Argumentos</h2>
<div class='content'><p>Considera un campo <code>user</code> que obtiene un usuario por ID:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICB1c2VyOiAocGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7CiAgICAgIGNvbnN0IHsgaWQgfSA9IGFyZ3M7CiAgICAgIHJldHVybiBjb250ZXh0LmRiLmdldFVzZXJCeUlkKGlkKTsKICAgIH0sCiAgfSwKfTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    user: (parent, args, context, info) =&gt; {
      const { id } = args;
      return context.db.getUserById(id);
    },
  },
};</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li>El objeto <code>args</code> contiene los argumentos pasados al campo <code>user</code>.</li>
<li><code>context.db.getUserById(id)</code> obtiene el usuario de una base de datos.</li>
</ul>
</div><h1>Contexto en los Resolutores</h1>
<div class='content'><p>El parámetro <code>context</code> es útil para compartir datos entre resolutores, como información de autenticación o conexiones a bases de datos.</p>
</div><h2>Ejemplo: Usando Contexto</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICBjdXJyZW50VXNlcjogKHBhcmVudCwgYXJncywgY29udGV4dCwgaW5mbykgPT4gewogICAgICByZXR1cm4gY29udGV4dC51c2VyOwogICAgfSwKICB9LAp9Ow=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    currentUser: (parent, args, context, info) =&gt; {
      return context.user;
    },
  },
};</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li><code>context.user</code> contiene la información del usuario autenticado.</li>
</ul>
</div><h1>Resolutores Anidados</h1>
<div class='content'><p>Los resolutores pueden estar anidados para manejar estructuras de datos complejas.</p>
</div><h2>Ejemplo: Resolutores Anidados</h2>
<div class='content'><p>Considera un tipo <code>Post</code> con un campo <code>author</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICBwb3N0OiAocGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7CiAgICAgIHJldHVybiBjb250ZXh0LmRiLmdldFBvc3RCeUlkKGFyZ3MuaWQpOwogICAgfSwKICB9LAogIFBvc3Q6IHsKICAgIGF1dGhvcjogKHBhcmVudCwgYXJncywgY29udGV4dCwgaW5mbykgPT4gewogICAgICByZXR1cm4gY29udGV4dC5kYi5nZXRVc2VyQnlJZChwYXJlbnQuYXV0aG9ySWQpOwogICAgfSwKICB9LAp9Ow=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    post: (parent, args, context, info) =&gt; {
      return context.db.getPostById(args.id);
    },
  },
  Post: {
    author: (parent, args, context, info) =&gt; {
      return context.db.getUserById(parent.authorId);
    },
  },
};</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li>El resolutor <code>post</code> obtiene un post por ID.</li>
<li>El resolutor <code>author</code> obtiene el autor del post usando el <code>authorId</code> del objeto post padre.</li>
</ul>
</div><h1>Manejo de Errores en los Resolutores</h1>
<div class='content'><p>El manejo adecuado de errores es crucial para construir APIs GraphQL robustas.</p>
</div><h2>Ejemplo: Manejo de Errores</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVzb2x2ZXJzID0gewogIFF1ZXJ5OiB7CiAgICB1c2VyOiBhc3luYyAocGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGNvbnRleHQuZGIuZ2V0VXNlckJ5SWQoYXJncy5pZCk7CiAgICAgICAgaWYgKCF1c2VyKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlVzdWFyaW8gbm8gZW5jb250cmFkbyIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdXNlcjsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGFsIG9idGVuZXIgZWwgdXN1YXJpbzogJHtlcnJvci5tZXNzYWdlfWApOwogICAgICB9CiAgICB9LAogIH0sCn07"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const resolvers = {
  Query: {
    user: async (parent, args, context, info) =&gt; {
      try {
        const user = await context.db.getUserById(args.id);
        if (!user) {
          throw new Error(&quot;Usuario no encontrado&quot;);
        }
        return user;
      } catch (error) {
        throw new Error(`Error al obtener el usuario: ${error.message}`);
      }
    },
  },
};</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li>Los errores son capturados y se lanza un mensaje de error significativo.</li>
</ul>
</div><h1>Técnicas Avanzadas de Resolutores</h1>
<div class='content'></div><h2>Carga por Lotes con DataLoader</h2>
<div class='content'><p>DataLoader es una utilidad para agrupar y almacenar en caché solicitudes a la base de datos, reduciendo el número de llamadas a la base de datos.</p>
</div><h2>Ejemplo: Usando DataLoader</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgRGF0YUxvYWRlciA9IHJlcXVpcmUoJ2RhdGFsb2FkZXInKTsKCmNvbnN0IHVzZXJMb2FkZXIgPSBuZXcgRGF0YUxvYWRlcihrZXlzID0+IGNvbnRleHQuZGIuYmF0Y2hHZXRVc2VycyhrZXlzKSk7Cgpjb25zdCByZXNvbHZlcnMgPSB7CiAgUXVlcnk6IHsKICAgIHVzZXJzOiAocGFyZW50LCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7CiAgICAgIHJldHVybiB1c2VyTG9hZGVyLmxvYWRNYW55KGFyZ3MuaWRzKTsKICAgIH0sCiAgfSwKfTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const DataLoader = require('dataloader');

const userLoader = new DataLoader(keys =&gt; context.db.batchGetUsers(keys));

const resolvers = {
  Query: {
    users: (parent, args, context, info) =&gt; {
      return userLoader.loadMany(args.ids);
    },
  },
};</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li><code>DataLoader</code> agrupa y almacena en caché las solicitudes para obtener usuarios por IDs.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Los resolutores son la columna vertebral de cualquier servidor GraphQL, conectando tu esquema con tus fuentes de datos. Al entender los conceptos básicos y las técnicas avanzadas de los resolutores, puedes construir APIs GraphQL eficientes y escalables. Recuerda manejar argumentos, usar el contexto sabiamente, gestionar resolutores anidados e implementar un manejo adecuado de errores para asegurar una aplicación robusta. Técnicas avanzadas como DataLoader pueden optimizar aún más tus estrategias de obtención de datos.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='queries-and-mutations'>&#x25C4;Consultas y Mutaciones</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Resolutores</a>
	</div>
	<div class='col-4 text-end'>
					<a href='graphql-variables'>Variables de GraphQL &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
