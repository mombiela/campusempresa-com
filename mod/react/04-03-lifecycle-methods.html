<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Métodos del Ciclo de Vida de React</title>

    <link rel="alternate" href="https://campusempresa.com/mod/react/04-03-lifecycle-methods" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/react/04-03-lifecycle-methods" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/react/04-03-lifecycle-methods" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/react/04-03-lifecycle-methods" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/react/04-03-lifecycle-methods" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-composition-vs-inheritance' title="Composición vs Herencia">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Métodos del Ciclo de Vida de React</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-hooks-introduction' title="Hooks: Introducción y Uso Básico">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En React, los componentes de clase tienen una serie de métodos especiales que se llaman en diferentes etapas de la vida de un componente. Estos métodos se conocen como métodos del ciclo de vida. Entender estos métodos es crucial para manejar correctamente el estado y los efectos secundarios en tus componentes.</p>
</div><h1>Fases del Ciclo de Vida</h1>
<div class='content'><p>El ciclo de vida de un componente de React se puede dividir en tres fases principales:</p>
<ol>
<li><strong>Montaje (Mounting)</strong>: Cuando el componente se crea e inserta en el DOM.</li>
<li><strong>Actualización (Updating)</strong>: Cuando el componente se actualiza debido a cambios en las props o el estado.</li>
<li><strong>Desmontaje (Unmounting)</strong>: Cuando el componente se elimina del DOM.</li>
</ol>
</div><h1>Métodos del Ciclo de Vida</h1>
<div class='content'></div><h2>Montaje</h2>
<div class='content'><ol>
<li>
<p><strong>constructor()</strong></p>
<ul>
<li>Se llama antes de que el componente se monte.</li>
<li>Se utiliza para inicializar el estado y enlazar métodos.</li>
</ul>
<pre><code class="language-javascript">class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
  }
}
</code></pre>
</li>
<li>
<p><strong>componentDidMount()</strong></p>
<ul>
<li>Se llama inmediatamente después de que el componente se haya montado.</li>
<li>Ideal para realizar solicitudes de datos, suscripciones, o cualquier configuración que requiera un DOM.</li>
</ul>
<pre><code class="language-javascript">class MyComponent extends React.Component {
  componentDidMount() {
    // Realizar una solicitud de datos
    fetch('/api/data')
      .then(response =&gt; response.json())
      .then(data =&gt; this.setState({ data }));
  }
}
</code></pre>
</li>
</ol>
</div><h2>Actualización</h2>
<div class='content'><ol>
<li>
<p><strong>shouldComponentUpdate(nextProps, nextState)</strong></p>
<ul>
<li>Se llama antes de que el componente se actualice.</li>
<li>Devuelve <code>true</code> o <code>false</code> para determinar si el componente debe actualizarse.</li>
<li>Útil para optimizar el rendimiento.</li>
</ul>
<pre><code class="language-javascript">class MyComponent extends React.Component {
  shouldComponentUpdate(nextProps, nextState) {
    return nextState.count !== this.state.count;
  }
}
</code></pre>
</li>
<li>
<p><strong>componentDidUpdate(prevProps, prevState)</strong></p>
<ul>
<li>Se llama inmediatamente después de que el componente se haya actualizado.</li>
<li>Útil para realizar operaciones que dependen del DOM actualizado.</li>
</ul>
<pre><code class="language-javascript">class MyComponent extends React.Component {
  componentDidUpdate(prevProps, prevState) {
    if (prevState.count !== this.state.count) {
      console.log('El estado count ha cambiado');
    }
  }
}
</code></pre>
</li>
</ol>
</div><h2>Desmontaje</h2>
<div class='content'><ol>
<li>
<p><strong>componentWillUnmount()</strong></p>
<ul>
<li>Se llama inmediatamente antes de que el componente se desmonte y destruya.</li>
<li>Ideal para limpiar suscripciones, temporizadores, o cualquier recurso que deba ser liberado.</li>
</ul>
<pre><code class="language-javascript">class MyComponent extends React.Component {
  componentWillUnmount() {
    // Limpiar suscripciones
    clearInterval(this.timerID);
  }
}
</code></pre>
</li>
</ol>
</div><h1>Ejemplo Completo</h1>
<div class='content'><p>A continuación, se muestra un ejemplo completo de un componente de clase que utiliza varios métodos del ciclo de vida:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTGlmZWN5Y2xlRGVtbyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7CiAgY29uc3RydWN0b3IocHJvcHMpIHsKICAgIHN1cGVyKHByb3BzKTsKICAgIHRoaXMuc3RhdGUgPSB7IGNvdW50OiAwIH07CiAgICB0aGlzLmluY3JlbWVudCA9IHRoaXMuaW5jcmVtZW50LmJpbmQodGhpcyk7CiAgfQoKICBjb21wb25lbnREaWRNb3VudCgpIHsKICAgIGNvbnNvbGUubG9nKCdDb21wb25lbnQgbW91bnRlZCcpOwogICAgdGhpcy50aW1lcklEID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5pbmNyZW1lbnQoKSwgMTAwMCk7CiAgfQoKICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHsKICAgIHJldHVybiBuZXh0U3RhdGUuY291bnQgJSAyID09PSAwOwogIH0KCiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7CiAgICBjb25zb2xlLmxvZygnQ29tcG9uZW50IHVwZGF0ZWQnKTsKICB9CgogIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgY29uc29sZS5sb2coJ0NvbXBvbmVudCB3aWxsIHVubW91bnQnKTsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcklEKTsKICB9CgogIGluY3JlbWVudCgpIHsKICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlKSA9PiAoeyBjb3VudDogc3RhdGUuY291bnQgKyAxIH0pKTsKICB9CgogIHJlbmRlcigpIHsKICAgIHJldHVybiAoCiAgICAgIDxkaXY+CiAgICAgICAgPGgxPkNvdW50OiB7dGhpcy5zdGF0ZS5jb3VudH08L2gxPgogICAgICA8L2Rpdj4KICAgICk7CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class LifecycleDemo extends React.Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
    this.increment = this.increment.bind(this);
  }

  componentDidMount() {
    console.log('Component mounted');
    this.timerID = setInterval(() =&gt; this.increment(), 1000);
  }

  shouldComponentUpdate(nextProps, nextState) {
    return nextState.count % 2 === 0;
  }

  componentDidUpdate(prevProps, prevState) {
    console.log('Component updated');
  }

  componentWillUnmount() {
    console.log('Component will unmount');
    clearInterval(this.timerID);
  }

  increment() {
    this.setState((state) =&gt; ({ count: state.count + 1 }));
  }

  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Count: {this.state.count}&lt;/h1&gt;
      &lt;/div&gt;
    );
  }
}</pre></div><div class='content'></div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio</h2>
<div class='content'><p>Crea un componente de clase que:</p>
<ol>
<li>Inicialice un estado con una propiedad <code>text</code> que sea una cadena vacía.</li>
<li>Use <code>componentDidMount</code> para establecer un temporizador que actualice <code>text</code> a &quot;Hello, World!&quot; después de 3 segundos.</li>
<li>Use <code>componentWillUnmount</code> para limpiar el temporizador.</li>
</ol>
</div><h2>Solución</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgSGVsbG9Xb3JsZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7CiAgY29uc3RydWN0b3IocHJvcHMpIHsKICAgIHN1cGVyKHByb3BzKTsKICAgIHRoaXMuc3RhdGUgPSB7IHRleHQ6ICcnIH07CiAgfQoKICBjb21wb25lbnREaWRNb3VudCgpIHsKICAgIHRoaXMudGltZXJJRCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICB0aGlzLnNldFN0YXRlKHsgdGV4dDogJ0hlbGxvLCBXb3JsZCEnIH0pOwogICAgfSwgMzAwMCk7CiAgfQoKICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVySUQpOwogIH0KCiAgcmVuZGVyKCkgewogICAgcmV0dXJuICgKICAgICAgPGRpdj4KICAgICAgICA8aDE+e3RoaXMuc3RhdGUudGV4dH08L2gxPgogICAgICA8L2Rpdj4KICAgICk7CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class HelloWorld extends React.Component {
  constructor(props) {
    super(props);
    this.state = { text: '' };
  }

  componentDidMount() {
    this.timerID = setTimeout(() =&gt; {
      this.setState({ text: 'Hello, World!' });
    }, 3000);
  }

  componentWillUnmount() {
    clearTimeout(this.timerID);
  }

  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;{this.state.text}&lt;/h1&gt;
      &lt;/div&gt;
    );
  }
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Los métodos del ciclo de vida de React son herramientas poderosas para controlar el comportamiento de los componentes en diferentes etapas de su existencia. Comprender cuándo y cómo usar estos métodos te permitirá construir aplicaciones React más eficientes y manejables. En el próximo módulo, exploraremos los Hooks de React, que ofrecen una forma más moderna y funcional de manejar el estado y los efectos secundarios en los componentes funcionales.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-composition-vs-inheritance' title="Composición vs Herencia">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-hooks-introduction' title="Hooks: Introducción y Uso Básico">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
