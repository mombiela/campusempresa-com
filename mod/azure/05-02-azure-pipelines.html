<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pipelines de Azure</title>

    <link rel="alternate" href="https://campusempresa.com/mod/azure/05-02-azure-pipelines" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/azure/05-02-azure-pipelines" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/azure/05-02-azure-pipelines" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/azure/05-02-azure-pipelines" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/azure/05-02-azure-pipelines" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-01-introduction-azure-devops' title="Introducción a Azure DevOps">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Pipelines de Azure</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-03-azure-repos' title="Repositorios de Azure">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Azure Pipelines es un servicio de integración continua (CI) y entrega continua (CD) que permite compilar, probar y desplegar código de manera automática en cualquier plataforma y en cualquier nube. Este servicio es parte de Azure DevOps y soporta una amplia variedad de lenguajes de programación y tipos de proyectos.</p>
</div><h2>Objetivos del Módulo</h2>
<div class='content'><ul>
<li>Comprender qué son los Pipelines de Azure y su importancia.</li>
<li>Configurar un pipeline básico.</li>
<li>Integrar pruebas automatizadas en el pipeline.</li>
<li>Desplegar aplicaciones utilizando Azure Pipelines.</li>
</ul>
</div><h1>¿Qué son los Pipelines de Azure?</h1>
<div class='content'><p>Azure Pipelines permite automatizar la compilación y el despliegue de aplicaciones. Los pipelines pueden ser configurados para ejecutarse en respuesta a eventos como commits en un repositorio de código, o en horarios específicos.</p>
</div><h2>Características Clave</h2>
<div class='content'><ul>
<li><strong>Integración Continua (CI):</strong> Automatiza la compilación y prueba del código cada vez que se realiza un cambio.</li>
<li><strong>Entrega Continua (CD):</strong> Automatiza el despliegue de aplicaciones a diferentes entornos.</li>
<li><strong>Compatibilidad Multiplataforma:</strong> Soporta Windows, Linux y macOS.</li>
<li><strong>Soporte para múltiples lenguajes:</strong> .NET, Java, Node.js, Python, PHP, Ruby, C++, Go, Xcode, entre otros.</li>
</ul>
</div><h1>Configuración de un Pipeline Básico</h1>
<div class='content'></div><h2>Paso 1: Crear un Proyecto en Azure DevOps</h2>
<div class='content'><ol>
<li>Inicia sesión en <a href="https://dev.azure.com/">Azure DevOps</a>.</li>
<li>Crea un nuevo proyecto o selecciona uno existente.</li>
</ol>
</div><h2>Paso 2: Configurar el Repositorio de Código</h2>
<div class='content'><ol>
<li>Navega a la sección de &quot;Repos&quot; en tu proyecto.</li>
<li>Clona el repositorio en tu máquina local o sube tu código existente.</li>
</ol>
</div><h2>Paso 3: Crear un Pipeline</h2>
<div class='content'><ol>
<li>Ve a la sección de &quot;Pipelines&quot; en tu proyecto.</li>
<li>Haz clic en &quot;New Pipeline&quot;.</li>
<li>Selecciona el repositorio de código que deseas usar.</li>
<li>Elige la opción de configuración YAML o visual. Para este ejemplo, usaremos YAML.</li>
</ol>
</div><h2>Ejemplo de Archivo YAML para un Pipeline Básico</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBBcmNoaXZvIGF6dXJlLXBpcGVsaW5lcy55bWwKdHJpZ2dlcjoKLSBtYWluCgpwb29sOgogIHZtSW1hZ2U6ICd1YnVudHUtbGF0ZXN0JwoKc3RlcHM6Ci0gdGFzazogVXNlRG90TmV0QDIKICBpbnB1dHM6CiAgICBwYWNrYWdlVHlwZTogJ3NkaycKICAgIHZlcnNpb246ICc1LngnCiAgICBpbnN0YWxsYXRpb25QYXRoOiAkKEFnZW50LlRvb2xzRGlyZWN0b3J5KS9kb3RuZXQKCi0gc2NyaXB0OiBkb3RuZXQgYnVpbGQgLS1jb25maWd1cmF0aW9uIFJlbGVhc2UKICBkaXNwbGF5TmFtZTogJ0J1aWxkIFByb2plY3QnCgotIHNjcmlwdDogZG90bmV0IHRlc3QgLS1jb25maWd1cmF0aW9uIFJlbGVhc2UKICBkaXNwbGF5TmFtZTogJ1J1biBUZXN0cyc="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Archivo azure-pipelines.yml
trigger:
- main

pool:
  vmImage: 'ubuntu-latest'

steps:
- task: UseDotNet@2
  inputs:
    packageType: 'sdk'
    version: '5.x'
    installationPath: $(Agent.ToolsDirectory)/dotnet

- script: dotnet build --configuration Release
  displayName: 'Build Project'

- script: dotnet test --configuration Release
  displayName: 'Run Tests'</pre></div><div class='content'></div><h2>Explicación del Archivo YAML</h2>
<div class='content'><ul>
<li><strong>trigger:</strong> Define la rama que activará el pipeline (en este caso, <code>main</code>).</li>
<li><strong>pool:</strong> Especifica la imagen de la máquina virtual que se usará para ejecutar el pipeline.</li>
<li><strong>steps:</strong> Lista de pasos a ejecutar. En este ejemplo:
<ul>
<li><strong>UseDotNet@2:</strong> Instala el SDK de .NET.</li>
<li><strong>dotnet build:</strong> Compila el proyecto.</li>
<li><strong>dotnet test:</strong> Ejecuta las pruebas.</li>
</ul>
</li>
</ul>
</div><h1>Integración de Pruebas Automatizadas</h1>
<div class='content'><p>Las pruebas automatizadas son cruciales para asegurar la calidad del código. En el ejemplo anterior, ya hemos incluido un paso para ejecutar pruebas.</p>
</div><h2>Ejemplo de Pruebas Unitarias en .NET</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgTlVuaXQuRnJhbWV3b3JrOwoKbmFtZXNwYWNlIE15QXBwLlRlc3RzCnsKICAgIHB1YmxpYyBjbGFzcyBUZXN0cwogICAgewogICAgICAgIFtTZXRVcF0KICAgICAgICBwdWJsaWMgdm9pZCBTZXR1cCgpCiAgICAgICAgewogICAgICAgIH0KCiAgICAgICAgW1Rlc3RdCiAgICAgICAgcHVibGljIHZvaWQgVGVzdDEoKQogICAgICAgIHsKICAgICAgICAgICAgQXNzZXJ0LlBhc3MoKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using NUnit.Framework;

namespace MyApp.Tests
{
    public class Tests
    {
        [SetUp]
        public void Setup()
        {
        }

        [Test]
        public void Test1()
        {
            Assert.Pass();
        }
    }
}</pre></div><div class='content'></div><h2>Configuración en el Pipeline</h2>
<div class='content'><p>Asegúrate de que el comando <code>dotnet test</code> esté incluido en tu archivo YAML para ejecutar las pruebas automáticamente.</p>
</div><h1>Despliegue de Aplicaciones</h1>
<div class='content'><p>Azure Pipelines también permite automatizar el despliegue de aplicaciones a diferentes entornos como Azure App Service, Kubernetes, entre otros.</p>
</div><h2>Ejemplo de Despliegue a Azure App Service</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDb250aW51YWNpw7NuIGRlbCBhcmNoaXZvIGF6dXJlLXBpcGVsaW5lcy55bWwKLSB0YXNrOiBBenVyZVdlYkFwcEAxCiAgaW5wdXRzOgogICAgYXp1cmVTdWJzY3JpcHRpb246ICdOb21icmVEZVR1U3VzY3JpcGNpw7NuJwogICAgYXBwTmFtZTogJ05vbWJyZURlVHVBcHBTZXJ2aWNlJwogICAgcGFja2FnZTogJyQoU3lzdGVtLkRlZmF1bHRXb3JraW5nRGlyZWN0b3J5KS8qKi8qLnppcCc="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Continuaci&oacute;n del archivo azure-pipelines.yml
- task: AzureWebApp@1
  inputs:
    azureSubscription: 'NombreDeTuSuscripci&oacute;n'
    appName: 'NombreDeTuAppService'
    package: '$(System.DefaultWorkingDirectory)/**/*.zip'</pre></div><div class='content'></div><h2>Explicación del Despliegue</h2>
<div class='content'><ul>
<li><strong>AzureWebApp@1:</strong> Tarea que despliega la aplicación a Azure App Service.</li>
<li><strong>azureSubscription:</strong> Nombre de la suscripción de Azure.</li>
<li><strong>appName:</strong> Nombre del App Service en Azure.</li>
<li><strong>package:</strong> Ruta del paquete a desplegar.</li>
</ul>
</div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Crear y Configurar un Pipeline Básico</h2>
<div class='content'><ol>
<li>Crea un nuevo proyecto en Azure DevOps.</li>
<li>Sube un proyecto de .NET al repositorio.</li>
<li>Configura un pipeline utilizando el archivo YAML proporcionado.</li>
<li>Asegúrate de que el pipeline se ejecute correctamente y que las pruebas pasen.</li>
</ol>
</div><h2>Ejercicio 2: Desplegar una Aplicación a Azure App Service</h2>
<div class='content'><ol>
<li>Configura un App Service en Azure.</li>
<li>Modifica el archivo YAML para incluir el paso de despliegue.</li>
<li>Ejecuta el pipeline y verifica que la aplicación se despliegue correctamente.</li>
</ol>
</div><h1>Soluciones</h1>
<div class='content'></div><h2>Solución al Ejercicio 1</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHJpZ2dlcjoKLSBtYWluCgpwb29sOgogIHZtSW1hZ2U6ICd1YnVudHUtbGF0ZXN0JwoKc3RlcHM6Ci0gdGFzazogVXNlRG90TmV0QDIKICBpbnB1dHM6CiAgICBwYWNrYWdlVHlwZTogJ3NkaycKICAgIHZlcnNpb246ICc1LngnCiAgICBpbnN0YWxsYXRpb25QYXRoOiAkKEFnZW50LlRvb2xzRGlyZWN0b3J5KS9kb3RuZXQKCi0gc2NyaXB0OiBkb3RuZXQgYnVpbGQgLS1jb25maWd1cmF0aW9uIFJlbGVhc2UKICBkaXNwbGF5TmFtZTogJ0J1aWxkIFByb2plY3QnCgotIHNjcmlwdDogZG90bmV0IHRlc3QgLS1jb25maWd1cmF0aW9uIFJlbGVhc2UKICBkaXNwbGF5TmFtZTogJ1J1biBUZXN0cyc="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>trigger:
- main

pool:
  vmImage: 'ubuntu-latest'

steps:
- task: UseDotNet@2
  inputs:
    packageType: 'sdk'
    version: '5.x'
    installationPath: $(Agent.ToolsDirectory)/dotnet

- script: dotnet build --configuration Release
  displayName: 'Build Project'

- script: dotnet test --configuration Release
  displayName: 'Run Tests'</pre></div><div class='content'></div><h2>Solución al Ejercicio 2</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHJpZ2dlcjoKLSBtYWluCgpwb29sOgogIHZtSW1hZ2U6ICd1YnVudHUtbGF0ZXN0JwoKc3RlcHM6Ci0gdGFzazogVXNlRG90TmV0QDIKICBpbnB1dHM6CiAgICBwYWNrYWdlVHlwZTogJ3NkaycKICAgIHZlcnNpb246ICc1LngnCiAgICBpbnN0YWxsYXRpb25QYXRoOiAkKEFnZW50LlRvb2xzRGlyZWN0b3J5KS9kb3RuZXQKCi0gc2NyaXB0OiBkb3RuZXQgYnVpbGQgLS1jb25maWd1cmF0aW9uIFJlbGVhc2UKICBkaXNwbGF5TmFtZTogJ0J1aWxkIFByb2plY3QnCgotIHNjcmlwdDogZG90bmV0IHRlc3QgLS1jb25maWd1cmF0aW9uIFJlbGVhc2UKICBkaXNwbGF5TmFtZTogJ1J1biBUZXN0cycKCi0gdGFzazogQXp1cmVXZWJBcHBAMQogIGlucHV0czoKICAgIGF6dXJlU3Vic2NyaXB0aW9uOiAnTm9tYnJlRGVUdVN1c2NyaXBjacOzbicKICAgIGFwcE5hbWU6ICdOb21icmVEZVR1QXBwU2VydmljZScKICAgIHBhY2thZ2U6ICckKFN5c3RlbS5EZWZhdWx0V29ya2luZ0RpcmVjdG9yeSkvKiovKi56aXAn"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>trigger:
- main

pool:
  vmImage: 'ubuntu-latest'

steps:
- task: UseDotNet@2
  inputs:
    packageType: 'sdk'
    version: '5.x'
    installationPath: $(Agent.ToolsDirectory)/dotnet

- script: dotnet build --configuration Release
  displayName: 'Build Project'

- script: dotnet test --configuration Release
  displayName: 'Run Tests'

- task: AzureWebApp@1
  inputs:
    azureSubscription: 'NombreDeTuSuscripci&oacute;n'
    appName: 'NombreDeTuAppService'
    package: '$(System.DefaultWorkingDirectory)/**/*.zip'</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En este módulo, hemos aprendido sobre los Pipelines de Azure, su configuración básica, la integración de pruebas automatizadas y el despliegue de aplicaciones. Azure Pipelines es una herramienta poderosa que facilita la integración y entrega continua, mejorando la eficiencia y calidad del desarrollo de software.</p>
</div><h2>Próximos Pasos</h2>
<div class='content'><p>En el siguiente módulo, exploraremos los Repositorios de Azure, donde aprenderemos a gestionar el código fuente y colaborar de manera efectiva con otros desarrolladores.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-01-introduction-azure-devops' title="Introducción a Azure DevOps">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-03-azure-repos' title="Repositorios de Azure">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
