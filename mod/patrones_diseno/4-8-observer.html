<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrón Observer</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/4-8-observer" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/4-8-observer" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/4-8-observer" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/patrones_diseno/4-8-observer" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/4-8-observer" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='4-7-memento'>&#x25C4;Memento</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Patrón Observer</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-9-state'>State &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>El patrón Observer es un patrón de diseño de comportamiento que define una relación de dependencia uno-a-muchos entre objetos, de manera que cuando un objeto cambia su estado, todos sus dependientes son notificados y actualizados automáticamente. Este patrón es muy útil para implementar sistemas de eventos y notificaciones.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Sujeto (Subject)</strong>: El objeto que mantiene una lista de dependientes (observadores) y notifica a estos de cualquier cambio en su estado.</li>
<li><strong>Observador (Observer)</strong>: El objeto que desea ser notificado cuando el estado del sujeto cambia.</li>
<li><strong>Suscripción</strong>: El proceso mediante el cual un observador se registra para recibir actualizaciones del sujeto.</li>
<li><strong>Notificación</strong>: El proceso mediante el cual el sujeto informa a los observadores sobre un cambio de estado.</li>
</ul>
</div><h1>Estructura</h1>
<div class='content'><p>La estructura del patrón Observer incluye los siguientes componentes:</p>
<ol>
<li><strong>Subject</strong>: Define una interfaz para agregar y eliminar observadores.</li>
<li><strong>ConcreteSubject</strong>: Mantiene el estado de interés para los observadores y envía notificaciones a los observadores cuando cambia su estado.</li>
<li><strong>Observer</strong>: Define una interfaz para recibir actualizaciones del sujeto.</li>
<li><strong>ConcreteObserver</strong>: Implementa la interfaz Observer y mantiene una referencia al ConcreteSubject.</li>
</ol>
</div><h1>Diagrama UML</h1>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ky0tLS0tLS0tLS0tLS0tLS0rICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tKwp8ICAgIFN1YmplY3QgICAgIHwgICAgICAgIHwgICAgT2JzZXJ2ZXIgICAgICB8CistLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLSsKfCArYXR0YWNoKCkgICAgICB8ICAgICAgICB8ICt1cGRhdGUoKSAgICAgICAgfAp8ICtkZXRhY2goKSAgICAgIHwgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0rCnwgK25vdGlmeSgpICAgICAgfAorLS0tLS0tLS0tLS0tLS0tLSsKICAgICAgIF4KICAgICAgIHwKICAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSsKfCBDb25jcmV0ZVN1YmplY3QgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSsKfCAtc3RhdGUgICAgICAgICAgIHwKfCArZ2V0U3RhdGUoKSAgICAgIHwKfCArc2V0U3RhdGUoKSAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSsKICAgICAgIF4KICAgICAgIHwKICAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSsKfCBDb25jcmV0ZU9ic2VydmVyIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSsKfCAtc3ViamVjdCAgICAgICAgIHwKfCAtb2JzZXJ2ZXJTdGF0ZSAgIHwKfCArdXBkYXRlKCkgICAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tLSs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>+----------------+        +------------------+
|    Subject     |        |    Observer      |
+----------------+        +------------------+
| +attach()      |        | +update()        |
| +detach()      |        +------------------+
| +notify()      |
+----------------+
       ^
       |
       |
+------------------+
| ConcreteSubject  |
+------------------+
| -state           |
| +getState()      |
| +setState()      |
+------------------+
       ^
       |
       |
+------------------+
| ConcreteObserver |
+------------------+
| -subject         |
| -observerState   |
| +update()        |
+------------------+</pre></div><div class='content'></div><h1>Ejemplo en Código</h1>
<div class='content'><p>A continuación, se presenta un ejemplo en Python para ilustrar el patrón Observer:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgU3ViamVjdDoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLl9vYnNlcnZlcnMgPSBbXQoKICAgIGRlZiBhdHRhY2goc2VsZiwgb2JzZXJ2ZXIpOgogICAgICAgIHNlbGYuX29ic2VydmVycy5hcHBlbmQob2JzZXJ2ZXIpCgogICAgZGVmIGRldGFjaChzZWxmLCBvYnNlcnZlcik6CiAgICAgICAgc2VsZi5fb2JzZXJ2ZXJzLnJlbW92ZShvYnNlcnZlcikKCiAgICBkZWYgbm90aWZ5KHNlbGYpOgogICAgICAgIGZvciBvYnNlcnZlciBpbiBzZWxmLl9vYnNlcnZlcnM6CiAgICAgICAgICAgIG9ic2VydmVyLnVwZGF0ZShzZWxmKQoKY2xhc3MgQ29uY3JldGVTdWJqZWN0KFN1YmplY3QpOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYuX3N0YXRlID0gTm9uZQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHN0YXRlKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLl9zdGF0ZQoKICAgIEBzdGF0ZS5zZXR0ZXIKICAgIGRlZiBzdGF0ZShzZWxmLCB2YWx1ZSk6CiAgICAgICAgc2VsZi5fc3RhdGUgPSB2YWx1ZQogICAgICAgIHNlbGYubm90aWZ5KCkKCmNsYXNzIE9ic2VydmVyOgogICAgZGVmIHVwZGF0ZShzZWxmLCBzdWJqZWN0KToKICAgICAgICBwYXNzCgpjbGFzcyBDb25jcmV0ZU9ic2VydmVyKE9ic2VydmVyKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBuYW1lKToKICAgICAgICBzZWxmLl9uYW1lID0gbmFtZQoKICAgIGRlZiB1cGRhdGUoc2VsZiwgc3ViamVjdCk6CiAgICAgICAgcHJpbnQoZiJPYnNlcnZlciB7c2VsZi5fbmFtZX0gbm90aWZpZWQuIE5ldyBzdGF0ZSBpczoge3N1YmplY3Quc3RhdGV9IikKCiMgVXNvIGRlbCBwYXRyw7NuIE9ic2VydmVyCnN1YmplY3QgPSBDb25jcmV0ZVN1YmplY3QoKQoKb2JzZXJ2ZXIxID0gQ29uY3JldGVPYnNlcnZlcigiQSIpCm9ic2VydmVyMiA9IENvbmNyZXRlT2JzZXJ2ZXIoIkIiKQoKc3ViamVjdC5hdHRhY2gob2JzZXJ2ZXIxKQpzdWJqZWN0LmF0dGFjaChvYnNlcnZlcjIpCgpzdWJqZWN0LnN0YXRlID0gIlN0YXRlIDEiCnN1YmplY3Quc3RhdGUgPSAiU3RhdGUgMiI="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Subject:
    def __init__(self):
        self._observers = []

    def attach(self, observer):
        self._observers.append(observer)

    def detach(self, observer):
        self._observers.remove(observer)

    def notify(self):
        for observer in self._observers:
            observer.update(self)

class ConcreteSubject(Subject):
    def __init__(self):
        super().__init__()
        self._state = None

    @property
    def state(self):
        return self._state

    @state.setter
    def state(self, value):
        self._state = value
        self.notify()

class Observer:
    def update(self, subject):
        pass

class ConcreteObserver(Observer):
    def __init__(self, name):
        self._name = name

    def update(self, subject):
        print(f&quot;Observer {self._name} notified. New state is: {subject.state}&quot;)

# Uso del patr&oacute;n Observer
subject = ConcreteSubject()

observer1 = ConcreteObserver(&quot;A&quot;)
observer2 = ConcreteObserver(&quot;B&quot;)

subject.attach(observer1)
subject.attach(observer2)

subject.state = &quot;State 1&quot;
subject.state = &quot;State 2&quot;</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ol>
<li><strong>Subject</strong>: La clase base que mantiene una lista de observadores y proporciona métodos para agregar, eliminar y notificar observadores.</li>
<li><strong>ConcreteSubject</strong>: Extiende <code>Subject</code> y mantiene el estado que interesa a los observadores. Cuando el estado cambia, se llama al método <code>notify</code> para informar a todos los observadores.</li>
<li><strong>Observer</strong>: Define una interfaz con el método <code>update</code> que será implementado por los observadores concretos.</li>
<li><strong>ConcreteObserver</strong>: Implementa la interfaz <code>Observer</code> y define el comportamiento que ocurre cuando se recibe una notificación del sujeto.</li>
</ol>
</div><h1>Ventajas y Desventajas</h1>
<div class='content'></div><h2>Ventajas</h2>
<div class='content'><ul>
<li><strong>Desacoplamiento</strong>: Los sujetos y observadores están desacoplados, lo que facilita la evolución independiente de ambos.</li>
<li><strong>Flexibilidad</strong>: Permite agregar y eliminar observadores en tiempo de ejecución.</li>
<li><strong>Reutilización</strong>: Los observadores pueden ser reutilizados en diferentes contextos.</li>
</ul>
</div><h2>Desventajas</h2>
<div class='content'><ul>
<li><strong>Complejidad</strong>: Puede aumentar la complejidad del código debido a la gestión de suscripciones y notificaciones.</li>
<li><strong>Rendimiento</strong>: Si hay muchos observadores, las notificaciones pueden afectar el rendimiento.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>El patrón Observer es una herramienta poderosa para manejar la comunicación entre objetos en sistemas donde los cambios en un objeto deben reflejarse en otros. Es ampliamente utilizado en sistemas de eventos, interfaces de usuario y cualquier situación donde se necesite una actualización automática de estados. Al entender y aplicar correctamente este patrón, los desarrolladores pueden crear sistemas más flexibles y mantenibles.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='4-7-memento'>&#x25C4;Memento</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Patrón Observer</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-9-state'>State &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
