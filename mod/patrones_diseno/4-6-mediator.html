<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Módulo 4: Patrones de Comportamiento</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/4-6-mediator" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/4-6-mediator" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/4-6-mediator" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/patrones_diseno/4-6-mediator" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/4-6-mediator" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='4-5-iterator'>&#x25C4;Iterator</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Módulo 4: Patrones de Comportamiento</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-7-memento'>Memento &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Tema 4-6: Mediator</h1>
<div class='content'></div><h2>¿Qué es el Patrón Mediator?</h2>
<div class='content'><p>El patrón Mediator es un patrón de diseño de comportamiento que define un objeto que encapsula cómo interactúan un conjunto de objetos. Este patrón promueve la reducción de las dependencias directas entre los objetos, lo que facilita la gestión y el mantenimiento del código.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Mediator</strong>: El objeto que coordina la comunicación entre los componentes.</li>
<li><strong>Colleague</strong>: Los objetos que interactúan entre sí a través del Mediator.</li>
</ul>
</div><h2>Ventajas del Patrón Mediator</h2>
<div class='content'><ol>
<li><strong>Desacoplamiento</strong>: Reduce las dependencias directas entre los objetos, facilitando la reutilización y el mantenimiento.</li>
<li><strong>Centralización del Control</strong>: Facilita la gestión de la lógica de interacción en un solo lugar.</li>
<li><strong>Facilita la Extensión</strong>: Permite agregar nuevos Colleagues sin modificar los existentes.</li>
</ol>
</div><h2>Desventajas del Patrón Mediator</h2>
<div class='content'><ol>
<li><strong>Complejidad</strong>: Puede introducir un punto único de fallo y aumentar la complejidad del sistema.</li>
<li><strong>Sobrecarga</strong>: Si no se maneja adecuadamente, el Mediator puede convertirse en un &quot;Dios Objeto&quot; que maneja demasiadas responsabilidades.</li>
</ol>
</div><h2>Ejemplo de Implementación en Java</h2>
<div class='content'><p>Vamos a implementar un ejemplo simple de un patrón Mediator en Java. Imaginemos un sistema de chat donde varios usuarios pueden enviar mensajes entre sí a través de un Mediator.</p>
<h4>Paso 1: Definir la Interfaz Mediator</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBDaGF0TWVkaWF0b3IgewogICAgdm9pZCBzZW5kTWVzc2FnZShTdHJpbmcgbWVzc2FnZSwgVXNlciB1c2VyKTsKICAgIHZvaWQgYWRkVXNlcihVc2VyIHVzZXIpOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface ChatMediator {
    void sendMessage(String message, User user);
    void addUser(User user);
}</pre></div><div class='content'><h4>Paso 2: Implementar la Clase Concreta Mediator</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKCnB1YmxpYyBjbGFzcyBDaGF0TWVkaWF0b3JJbXBsIGltcGxlbWVudHMgQ2hhdE1lZGlhdG9yIHsKICAgIHByaXZhdGUgTGlzdDxVc2VyPiB1c2VyczsKCiAgICBwdWJsaWMgQ2hhdE1lZGlhdG9ySW1wbCgpIHsKICAgICAgICB0aGlzLnVzZXJzID0gbmV3IEFycmF5TGlzdDw+KCk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBhZGRVc2VyKFVzZXIgdXNlcikgewogICAgICAgIHRoaXMudXNlcnMuYWRkKHVzZXIpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgc2VuZE1lc3NhZ2UoU3RyaW5nIG1lc3NhZ2UsIFVzZXIgdXNlcikgewogICAgICAgIGZvciAoVXNlciB1IDogdGhpcy51c2VycykgewogICAgICAgICAgICAvLyBObyBlbnZpYXIgZWwgbWVuc2FqZSBhbCBwcm9waW8gdXN1YXJpbwogICAgICAgICAgICBpZiAodSAhPSB1c2VyKSB7CiAgICAgICAgICAgICAgICB1LnJlY2VpdmUobWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.util.ArrayList;
import java.util.List;

public class ChatMediatorImpl implements ChatMediator {
    private List&lt;User&gt; users;

    public ChatMediatorImpl() {
        this.users = new ArrayList&lt;&gt;();
    }

    @Override
    public void addUser(User user) {
        this.users.add(user);
    }

    @Override
    public void sendMessage(String message, User user) {
        for (User u : this.users) {
            // No enviar el mensaje al propio usuario
            if (u != user) {
                u.receive(message);
            }
        }
    }
}</pre></div><div class='content'><h4>Paso 3: Definir la Clase Colleague</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGFic3RyYWN0IGNsYXNzIFVzZXIgewogICAgcHJvdGVjdGVkIENoYXRNZWRpYXRvciBtZWRpYXRvcjsKICAgIHByb3RlY3RlZCBTdHJpbmcgbmFtZTsKCiAgICBwdWJsaWMgVXNlcihDaGF0TWVkaWF0b3IgbWVkaWF0b3IsIFN0cmluZyBuYW1lKSB7CiAgICAgICAgdGhpcy5tZWRpYXRvciA9IG1lZGlhdG9yOwogICAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICB9CgogICAgcHVibGljIGFic3RyYWN0IHZvaWQgc2VuZChTdHJpbmcgbWVzc2FnZSk7CiAgICBwdWJsaWMgYWJzdHJhY3Qgdm9pZCByZWNlaXZlKFN0cmluZyBtZXNzYWdlKTsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public abstract class User {
    protected ChatMediator mediator;
    protected String name;

    public User(ChatMediator mediator, String name) {
        this.mediator = mediator;
        this.name = name;
    }

    public abstract void send(String message);
    public abstract void receive(String message);
}</pre></div><div class='content'><h4>Paso 4: Implementar la Clase Concreta Colleague</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFVzZXJJbXBsIGV4dGVuZHMgVXNlciB7CgogICAgcHVibGljIFVzZXJJbXBsKENoYXRNZWRpYXRvciBtZWRpYXRvciwgU3RyaW5nIG5hbWUpIHsKICAgICAgICBzdXBlcihtZWRpYXRvciwgbmFtZSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBzZW5kKFN0cmluZyBtZXNzYWdlKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKHRoaXMubmFtZSArICIgRW52aWFuZG8gTWVuc2FqZTogIiArIG1lc3NhZ2UpOwogICAgICAgIG1lZGlhdG9yLnNlbmRNZXNzYWdlKG1lc3NhZ2UsIHRoaXMpOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgcmVjZWl2ZShTdHJpbmcgbWVzc2FnZSkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbih0aGlzLm5hbWUgKyAiIFJlY2liaWVuZG8gTWVuc2FqZTogIiArIG1lc3NhZ2UpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class UserImpl extends User {

    public UserImpl(ChatMediator mediator, String name) {
        super(mediator, name);
    }

    @Override
    public void send(String message) {
        System.out.println(this.name + &quot; Enviando Mensaje: &quot; + message);
        mediator.sendMessage(message, this);
    }

    @Override
    public void receive(String message) {
        System.out.println(this.name + &quot; Recibiendo Mensaje: &quot; + message);
    }
}</pre></div><div class='content'><h4>Paso 5: Uso del Patrón Mediator</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE1lZGlhdG9yUGF0dGVybkRlbW8gewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIENoYXRNZWRpYXRvciBtZWRpYXRvciA9IG5ldyBDaGF0TWVkaWF0b3JJbXBsKCk7CgogICAgICAgIFVzZXIgdXNlcjEgPSBuZXcgVXNlckltcGwobWVkaWF0b3IsICJBbGljZSIpOwogICAgICAgIFVzZXIgdXNlcjIgPSBuZXcgVXNlckltcGwobWVkaWF0b3IsICJCb2IiKTsKICAgICAgICBVc2VyIHVzZXIzID0gbmV3IFVzZXJJbXBsKG1lZGlhdG9yLCAiQ2hhcmxpZSIpOwogICAgICAgIFVzZXIgdXNlcjQgPSBuZXcgVXNlckltcGwobWVkaWF0b3IsICJEYXZpZCIpOwoKICAgICAgICBtZWRpYXRvci5hZGRVc2VyKHVzZXIxKTsKICAgICAgICBtZWRpYXRvci5hZGRVc2VyKHVzZXIyKTsKICAgICAgICBtZWRpYXRvci5hZGRVc2VyKHVzZXIzKTsKICAgICAgICBtZWRpYXRvci5hZGRVc2VyKHVzZXI0KTsKCiAgICAgICAgdXNlcjEuc2VuZCgiSG9sYSBhIHRvZG9zISIpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class MediatorPatternDemo {
    public static void main(String[] args) {
        ChatMediator mediator = new ChatMediatorImpl();

        User user1 = new UserImpl(mediator, &quot;Alice&quot;);
        User user2 = new UserImpl(mediator, &quot;Bob&quot;);
        User user3 = new UserImpl(mediator, &quot;Charlie&quot;);
        User user4 = new UserImpl(mediator, &quot;David&quot;);

        mediator.addUser(user1);
        mediator.addUser(user2);
        mediator.addUser(user3);
        mediator.addUser(user4);

        user1.send(&quot;Hola a todos!&quot;);
    }
}</pre></div><div class='content'></div><h2>Conclusión</h2>
<div class='content'><p>El patrón Mediator es útil para gestionar la comunicación entre múltiples objetos, reduciendo las dependencias directas y centralizando la lógica de interacción. Aunque puede aumentar la complejidad si no se maneja adecuadamente, su uso correcto puede facilitar la extensión y el mantenimiento del sistema.</p>
</div><h2>Ejercicio Práctico</h2>
<div class='content'><ol>
<li><strong>Ejercicio 1</strong>: Implementa un sistema de notificaciones donde diferentes módulos (como Email, SMS, y Push) se comuniquen a través de un Mediator.</li>
<li><strong>Ejercicio 2</strong>: Modifica el ejemplo del chat para que los mensajes puedan ser filtrados o modificados por el Mediator antes de ser enviados a los usuarios.</li>
</ol>
<p>Estos ejercicios te ayudarán a entender mejor cómo aplicar el patrón Mediator en diferentes contextos y a manejar sus ventajas y desventajas.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='4-5-iterator'>&#x25C4;Iterator</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Módulo 4: Patrones de Comportamiento</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-7-memento'>Memento &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
