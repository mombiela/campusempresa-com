<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Módulo 5: Aplicación de Patrones de Diseño</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/5-2-combinacion-patrones" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/5-2-combinacion-patrones" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/5-2-combinacion-patrones" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/patrones_diseno/5-2-combinacion-patrones" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/5-2-combinacion-patrones" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='5-1-seleccionar-patron'>&#x25C4;Cómo Seleccionar el Patrón Adecuado</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Módulo 5: Aplicación de Patrones de Diseño</a>
	</div>
	<div class='col-4 text-end'>
					<a href='5-3-patrones-arquitecturas-modernas'>Patrones de Diseño en Arquitecturas Modernas &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Combinación de Patrones de Diseño</h1>
<div class='content'></div><h2>Introducción</h2>
<div class='content'><p>La combinación de patrones de diseño es una práctica avanzada que permite a los desarrolladores crear soluciones más robustas y flexibles. Al combinar diferentes patrones, se pueden aprovechar las fortalezas de cada uno para abordar problemas complejos de manera más eficiente.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ol>
<li><strong>Sinergia entre Patrones</strong>: La combinación de patrones puede crear una sinergia que mejora la funcionalidad y la flexibilidad del software.</li>
<li><strong>Compatibilidad</strong>: No todos los patrones son compatibles entre sí. Es crucial entender cómo interactúan para evitar conflictos.</li>
<li><strong>Contexto</strong>: La elección de patrones a combinar debe basarse en el contexto específico del problema que se está resolviendo.</li>
</ol>
</div><h2>Ejemplos de Combinación de Patrones</h2>
<div class='content'><h4>Ejemplo 1: Singleton y Factory Method</h4>
<p><strong>Contexto</strong>: Necesitamos un único punto de acceso para crear instancias de una clase, pero queremos flexibilidad en la creación de estas instancias.</p>
<p><strong>Implementación</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU2luZ2xldG9uCnB1YmxpYyBjbGFzcyBTaW5nbGV0b25GYWN0b3J5IHsKICAgIHByaXZhdGUgc3RhdGljIFNpbmdsZXRvbkZhY3RvcnkgaW5zdGFuY2U7CgogICAgcHJpdmF0ZSBTaW5nbGV0b25GYWN0b3J5KCkge30KCiAgICBwdWJsaWMgc3RhdGljIFNpbmdsZXRvbkZhY3RvcnkgZ2V0SW5zdGFuY2UoKSB7CiAgICAgICAgaWYgKGluc3RhbmNlID09IG51bGwpIHsKICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgU2luZ2xldG9uRmFjdG9yeSgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaW5zdGFuY2U7CiAgICB9CgogICAgcHVibGljIFByb2R1Y3QgY3JlYXRlUHJvZHVjdChTdHJpbmcgdHlwZSkgewogICAgICAgIGlmICh0eXBlLmVxdWFscygiQSIpKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvZHVjdEEoKTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGUuZXF1YWxzKCJCIikpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9kdWN0QigpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KfQoKLy8gRmFjdG9yeSBNZXRob2QKYWJzdHJhY3QgY2xhc3MgUHJvZHVjdCB7CiAgICBwdWJsaWMgYWJzdHJhY3Qgdm9pZCB1c2UoKTsKfQoKY2xhc3MgUHJvZHVjdEEgZXh0ZW5kcyBQcm9kdWN0IHsKICAgIHB1YmxpYyB2b2lkIHVzZSgpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlVzaW5nIFByb2R1Y3QgQSIpOwogICAgfQp9CgpjbGFzcyBQcm9kdWN0QiBleHRlbmRzIFByb2R1Y3QgewogICAgcHVibGljIHZvaWQgdXNlKCkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiVXNpbmcgUHJvZHVjdCBCIik7CiAgICB9Cn0KCi8vIFVzbwpwdWJsaWMgY2xhc3MgTWFpbiB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgU2luZ2xldG9uRmFjdG9yeSBmYWN0b3J5ID0gU2luZ2xldG9uRmFjdG9yeS5nZXRJbnN0YW5jZSgpOwogICAgICAgIFByb2R1Y3QgcHJvZHVjdEEgPSBmYWN0b3J5LmNyZWF0ZVByb2R1Y3QoIkEiKTsKICAgICAgICBwcm9kdWN0QS51c2UoKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Singleton
public class SingletonFactory {
    private static SingletonFactory instance;

    private SingletonFactory() {}

    public static SingletonFactory getInstance() {
        if (instance == null) {
            instance = new SingletonFactory();
        }
        return instance;
    }

    public Product createProduct(String type) {
        if (type.equals(&quot;A&quot;)) {
            return new ProductA();
        } else if (type.equals(&quot;B&quot;)) {
            return new ProductB();
        }
        return null;
    }
}

// Factory Method
abstract class Product {
    public abstract void use();
}

class ProductA extends Product {
    public void use() {
        System.out.println(&quot;Using Product A&quot;);
    }
}

class ProductB extends Product {
    public void use() {
        System.out.println(&quot;Using Product B&quot;);
    }
}

// Uso
public class Main {
    public static void main(String[] args) {
        SingletonFactory factory = SingletonFactory.getInstance();
        Product productA = factory.createProduct(&quot;A&quot;);
        productA.use();
    }
}</pre></div><div class='content'><p><strong>Explicación</strong>: En este ejemplo, el patrón Singleton asegura que solo haya una instancia de <code>SingletonFactory</code>, mientras que el patrón Factory Method proporciona una interfaz para crear objetos de diferentes tipos.</p>
<h4>Ejemplo 2: Adapter y Facade</h4>
<p><strong>Contexto</strong>: Queremos simplificar la interacción con un sistema complejo y, al mismo tiempo, adaptar interfaces incompatibles.</p>
<p><strong>Implementación</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU3Vic3lzdGVtIGNsYXNzZXMKY2xhc3MgQ29tcGxleFN5c3RlbUEgewogICAgcHVibGljIHZvaWQgb3BlcmF0aW9uQSgpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIk9wZXJhdGlvbiBBIik7CiAgICB9Cn0KCmNsYXNzIENvbXBsZXhTeXN0ZW1CIHsKICAgIHB1YmxpYyB2b2lkIG9wZXJhdGlvbkIoKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJPcGVyYXRpb24gQiIpOwogICAgfQp9CgovLyBGYWNhZGUKY2xhc3MgRmFjYWRlIHsKICAgIHByaXZhdGUgQ29tcGxleFN5c3RlbUEgc3lzdGVtQTsKICAgIHByaXZhdGUgQ29tcGxleFN5c3RlbUIgc3lzdGVtQjsKCiAgICBwdWJsaWMgRmFjYWRlKCkgewogICAgICAgIHN5c3RlbUEgPSBuZXcgQ29tcGxleFN5c3RlbUEoKTsKICAgICAgICBzeXN0ZW1CID0gbmV3IENvbXBsZXhTeXN0ZW1CKCk7CiAgICB9CgogICAgcHVibGljIHZvaWQgc2ltcGxlT3BlcmF0aW9uKCkgewogICAgICAgIHN5c3RlbUEub3BlcmF0aW9uQSgpOwogICAgICAgIHN5c3RlbUIub3BlcmF0aW9uQigpOwogICAgfQp9CgovLyBBZGFwdGVyCmludGVyZmFjZSBUYXJnZXQgewogICAgdm9pZCByZXF1ZXN0KCk7Cn0KCmNsYXNzIEFkYXB0ZXIgaW1wbGVtZW50cyBUYXJnZXQgewogICAgcHJpdmF0ZSBGYWNhZGUgZmFjYWRlOwoKICAgIHB1YmxpYyBBZGFwdGVyKEZhY2FkZSBmYWNhZGUpIHsKICAgICAgICB0aGlzLmZhY2FkZSA9IGZhY2FkZTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCByZXF1ZXN0KCkgewogICAgICAgIGZhY2FkZS5zaW1wbGVPcGVyYXRpb24oKTsKICAgIH0KfQoKLy8gVXNvCnB1YmxpYyBjbGFzcyBNYWluIHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBGYWNhZGUgZmFjYWRlID0gbmV3IEZhY2FkZSgpOwogICAgICAgIFRhcmdldCBhZGFwdGVyID0gbmV3IEFkYXB0ZXIoZmFjYWRlKTsKICAgICAgICBhZGFwdGVyLnJlcXVlc3QoKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Subsystem classes
class ComplexSystemA {
    public void operationA() {
        System.out.println(&quot;Operation A&quot;);
    }
}

class ComplexSystemB {
    public void operationB() {
        System.out.println(&quot;Operation B&quot;);
    }
}

// Facade
class Facade {
    private ComplexSystemA systemA;
    private ComplexSystemB systemB;

    public Facade() {
        systemA = new ComplexSystemA();
        systemB = new ComplexSystemB();
    }

    public void simpleOperation() {
        systemA.operationA();
        systemB.operationB();
    }
}

// Adapter
interface Target {
    void request();
}

class Adapter implements Target {
    private Facade facade;

    public Adapter(Facade facade) {
        this.facade = facade;
    }

    public void request() {
        facade.simpleOperation();
    }
}

// Uso
public class Main {
    public static void main(String[] args) {
        Facade facade = new Facade();
        Target adapter = new Adapter(facade);
        adapter.request();
    }
}</pre></div><div class='content'><p><strong>Explicación</strong>: El patrón Facade simplifica la interacción con un sistema complejo, mientras que el patrón Adapter adapta la interfaz del Facade para que sea compatible con otra interfaz.</p>
</div><h2>Ejercicio Práctico</h2>
<div class='content'><p><strong>Ejercicio</strong>: Combina los patrones Observer y Strategy para crear un sistema de notificaciones flexible.</p>
<ol>
<li><strong>Observer</strong>: Permite que un objeto (sujeto) notifique a otros objetos (observadores) sobre cambios en su estado.</li>
<li><strong>Strategy</strong>: Permite definir una familia de algoritmos, encapsular cada uno y hacerlos intercambiables.</li>
</ol>
<p><strong>Pistas</strong>:</p>
<ul>
<li>Usa el patrón Observer para notificar a los observadores sobre eventos.</li>
<li>Usa el patrón Strategy para definir diferentes estrategias de notificación (por ejemplo, correo electrónico, SMS).</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gT2JzZXJ2ZXIKaW50ZXJmYWNlIE9ic2VydmVyIHsKICAgIHZvaWQgdXBkYXRlKFN0cmluZyBtZXNzYWdlKTsKfQoKY2xhc3MgQ29uY3JldGVPYnNlcnZlciBpbXBsZW1lbnRzIE9ic2VydmVyIHsKICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7CgogICAgcHVibGljIENvbmNyZXRlT2JzZXJ2ZXIoU3RyaW5nIG5hbWUpIHsKICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHVwZGF0ZShTdHJpbmcgbWVzc2FnZSkgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihuYW1lICsgIiByZWNlaXZlZDogIiArIG1lc3NhZ2UpOwogICAgfQp9CgovLyBTdWJqZWN0CmNsYXNzIFN1YmplY3QgewogICAgcHJpdmF0ZSBMaXN0PE9ic2VydmVyPiBvYnNlcnZlcnMgPSBuZXcgQXJyYXlMaXN0PD4oKTsKCiAgICBwdWJsaWMgdm9pZCBhZGRPYnNlcnZlcihPYnNlcnZlciBvYnNlcnZlcikgewogICAgICAgIG9ic2VydmVycy5hZGQob2JzZXJ2ZXIpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHJlbW92ZU9ic2VydmVyKE9ic2VydmVyIG9ic2VydmVyKSB7CiAgICAgICAgb2JzZXJ2ZXJzLnJlbW92ZShvYnNlcnZlcik7CiAgICB9CgogICAgcHVibGljIHZvaWQgbm90aWZ5T2JzZXJ2ZXJzKFN0cmluZyBtZXNzYWdlKSB7CiAgICAgICAgZm9yIChPYnNlcnZlciBvYnNlcnZlciA6IG9ic2VydmVycykgewogICAgICAgICAgICBvYnNlcnZlci51cGRhdGUobWVzc2FnZSk7CiAgICAgICAgfQogICAgfQp9CgovLyBTdHJhdGVneQppbnRlcmZhY2UgTm90aWZpY2F0aW9uU3RyYXRlZ3kgewogICAgdm9pZCBzZW5kKFN0cmluZyBtZXNzYWdlKTsKfQoKY2xhc3MgRW1haWxOb3RpZmljYXRpb24gaW1wbGVtZW50cyBOb3RpZmljYXRpb25TdHJhdGVneSB7CiAgICBwdWJsaWMgdm9pZCBzZW5kKFN0cmluZyBtZXNzYWdlKSB7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJTZW5kaW5nIGVtYWlsOiAiICsgbWVzc2FnZSk7CiAgICB9Cn0KCmNsYXNzIFNNU05vdGlmaWNhdGlvbiBpbXBsZW1lbnRzIE5vdGlmaWNhdGlvblN0cmF0ZWd5IHsKICAgIHB1YmxpYyB2b2lkIHNlbmQoU3RyaW5nIG1lc3NhZ2UpIHsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIlNlbmRpbmcgU01TOiAiICsgbWVzc2FnZSk7CiAgICB9Cn0KCi8vIFVzbwpwdWJsaWMgY2xhc3MgTWFpbiB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgU3ViamVjdCBzdWJqZWN0ID0gbmV3IFN1YmplY3QoKTsKICAgICAgICBPYnNlcnZlciBvYnNlcnZlcjEgPSBuZXcgQ29uY3JldGVPYnNlcnZlcigiT2JzZXJ2ZXIgMSIpOwogICAgICAgIE9ic2VydmVyIG9ic2VydmVyMiA9IG5ldyBDb25jcmV0ZU9ic2VydmVyKCJPYnNlcnZlciAyIik7CgogICAgICAgIHN1YmplY3QuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIxKTsKICAgICAgICBzdWJqZWN0LmFkZE9ic2VydmVyKG9ic2VydmVyMik7CgogICAgICAgIE5vdGlmaWNhdGlvblN0cmF0ZWd5IGVtYWlsU3RyYXRlZ3kgPSBuZXcgRW1haWxOb3RpZmljYXRpb24oKTsKICAgICAgICBOb3RpZmljYXRpb25TdHJhdGVneSBzbXNTdHJhdGVneSA9IG5ldyBTTVNOb3RpZmljYXRpb24oKTsKCiAgICAgICAgc3ViamVjdC5ub3RpZnlPYnNlcnZlcnMoIkV2ZW50IG9jY3VycmVkISIpOwoKICAgICAgICBlbWFpbFN0cmF0ZWd5LnNlbmQoIkV2ZW50IG9jY3VycmVkISIpOwogICAgICAgIHNtc1N0cmF0ZWd5LnNlbmQoIkV2ZW50IG9jY3VycmVkISIpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Observer
interface Observer {
    void update(String message);
}

class ConcreteObserver implements Observer {
    private String name;

    public ConcreteObserver(String name) {
        this.name = name;
    }

    public void update(String message) {
        System.out.println(name + &quot; received: &quot; + message);
    }
}

// Subject
class Subject {
    private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();

    public void addObserver(Observer observer) {
        observers.add(observer);
    }

    public void removeObserver(Observer observer) {
        observers.remove(observer);
    }

    public void notifyObservers(String message) {
        for (Observer observer : observers) {
            observer.update(message);
        }
    }
}

// Strategy
interface NotificationStrategy {
    void send(String message);
}

class EmailNotification implements NotificationStrategy {
    public void send(String message) {
        System.out.println(&quot;Sending email: &quot; + message);
    }
}

class SMSNotification implements NotificationStrategy {
    public void send(String message) {
        System.out.println(&quot;Sending SMS: &quot; + message);
    }
}

// Uso
public class Main {
    public static void main(String[] args) {
        Subject subject = new Subject();
        Observer observer1 = new ConcreteObserver(&quot;Observer 1&quot;);
        Observer observer2 = new ConcreteObserver(&quot;Observer 2&quot;);

        subject.addObserver(observer1);
        subject.addObserver(observer2);

        NotificationStrategy emailStrategy = new EmailNotification();
        NotificationStrategy smsStrategy = new SMSNotification();

        subject.notifyObservers(&quot;Event occurred!&quot;);

        emailStrategy.send(&quot;Event occurred!&quot;);
        smsStrategy.send(&quot;Event occurred!&quot;);
    }
}</pre></div><div class='content'></div><h2>Conclusión</h2>
<div class='content'><p>La combinación de patrones de diseño es una técnica poderosa que permite crear soluciones más flexibles y robustas. Al entender cómo interactúan los diferentes patrones, los desarrolladores pueden diseñar sistemas que aprovechen las fortalezas de cada patrón, abordando problemas complejos de manera más eficiente. La clave está en comprender el contexto y seleccionar patrones que se complementen entre sí.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='5-1-seleccionar-patron'>&#x25C4;Cómo Seleccionar el Patrón Adecuado</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Módulo 5: Aplicación de Patrones de Diseño</a>
	</div>
	<div class='col-4 text-end'>
					<a href='5-3-patrones-arquitecturas-modernas'>Patrones de Diseño en Arquitecturas Modernas &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
