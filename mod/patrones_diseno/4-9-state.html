<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso de Patrones de Diseño de Software</title>

    <link rel="alternate" href="https://campusempresa.com/mod/patrones_diseno/4-9-state" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/patrones_diseno/4-9-state" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/patrones_diseno/4-9-state" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/patrones_diseno/4-9-state" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/patrones_diseno/4-9-state" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-4'>
					<a href='4-8-observer'>&#x25C4;Observer</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Curso de Patrones de Diseño de Software</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-10-strategy'>Strategy &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Módulo 4: Patrones de Comportamiento</h1>
<div class='content'></div><h2>4-9: State</h2>
<div class='content'><p>El patrón de diseño State es un patrón de comportamiento que permite a un objeto cambiar su comportamiento cuando su estado interno cambia. El objeto parecerá cambiar su clase. Este patrón es especialmente útil cuando un objeto debe cambiar su comportamiento en tiempo de ejecución dependiendo de su estado.</p>
<h4>Conceptos Clave</h4>
<ul>
<li><strong>Contexto</strong>: La clase que contiene una instancia de una subclase de <code>State</code> y delega el comportamiento a esa instancia.</li>
<li><strong>State</strong>: Una interfaz o clase abstracta que define el comportamiento asociado con un estado particular del <code>Contexto</code>.</li>
<li><strong>ConcreteState</strong>: Subclases de <code>State</code> que implementan el comportamiento específico de un estado particular.</li>
</ul>
<h4>Diagrama UML</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ky0tLS0tLS0tLS0tLS0tLS0tKwp8ICAgICBDb250ZXh0ICAgICB8CistLS0tLS0tLS0tLS0tLS0tLSsKfCAtIHN0YXRlOiBTdGF0ZSAgfAorLS0tLS0tLS0tLS0tLS0tLS0rCnwgKyByZXF1ZXN0KCkgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tKwogICAgICAgIHwKICAgICAgICB2CistLS0tLS0tLS0tLS0tLS0tLSsKfCAgICAgIFN0YXRlICAgICAgfAorLS0tLS0tLS0tLS0tLS0tLS0rCnwgKyBoYW5kbGUoKSAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tKwogICAgICAgIHwKICAgICAgICB2CistLS0tLS0tLS0tLS0tLS0tLSsgICAgICstLS0tLS0tLS0tLS0tLS0tLSsKfCBDb25jcmV0ZVN0YXRlQSAgfCAgICAgfCBDb25jcmV0ZVN0YXRlQiAgfAorLS0tLS0tLS0tLS0tLS0tLS0rICAgICArLS0tLS0tLS0tLS0tLS0tLS0rCnwgKyBoYW5kbGUoKSAgICAgIHwgICAgIHwgKyBoYW5kbGUoKSAgICAgIHwKKy0tLS0tLS0tLS0tLS0tLS0tKyAgICAgKy0tLS0tLS0tLS0tLS0tLS0tKw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>+-----------------+
|     Context     |
+-----------------+
| - state: State  |
+-----------------+
| + request()     |
+-----------------+
        |
        v
+-----------------+
|      State      |
+-----------------+
| + handle()      |
+-----------------+
        |
        v
+-----------------+     +-----------------+
| ConcreteStateA  |     | ConcreteStateB  |
+-----------------+     +-----------------+
| + handle()      |     | + handle()      |
+-----------------+     +-----------------+</pre></div><div class='content'><h4>Ejemplo en Código</h4>
<p>A continuación, se presenta un ejemplo en Python para ilustrar el patrón State:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhYmMgaW1wb3J0IEFCQywgYWJzdHJhY3RtZXRob2QKCiMgQ2xhc2UgU3RhdGUKY2xhc3MgU3RhdGUoQUJDKToKICAgIEBhYnN0cmFjdG1ldGhvZAogICAgZGVmIGhhbmRsZShzZWxmLCBjb250ZXh0KToKICAgICAgICBwYXNzCgojIENvbmNyZXRlU3RhdGVBCmNsYXNzIENvbmNyZXRlU3RhdGVBKFN0YXRlKToKICAgIGRlZiBoYW5kbGUoc2VsZiwgY29udGV4dCk6CiAgICAgICAgcHJpbnQoIkNvbmNyZXRlU3RhdGVBIG1hbmVqYSBsYSBzb2xpY2l0dWQuIikKICAgICAgICBjb250ZXh0LnN0YXRlID0gQ29uY3JldGVTdGF0ZUIoKQoKIyBDb25jcmV0ZVN0YXRlQgpjbGFzcyBDb25jcmV0ZVN0YXRlQihTdGF0ZSk6CiAgICBkZWYgaGFuZGxlKHNlbGYsIGNvbnRleHQpOgogICAgICAgIHByaW50KCJDb25jcmV0ZVN0YXRlQiBtYW5lamEgbGEgc29saWNpdHVkLiIpCiAgICAgICAgY29udGV4dC5zdGF0ZSA9IENvbmNyZXRlU3RhdGVBKCkKCiMgQ29udGV4dG8KY2xhc3MgQ29udGV4dDoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdGF0ZTogU3RhdGUpOgogICAgICAgIHNlbGYuc3RhdGUgPSBzdGF0ZQoKICAgIGRlZiByZXF1ZXN0KHNlbGYpOgogICAgICAgIHNlbGYuc3RhdGUuaGFuZGxlKHNlbGYpCgojIFVzbyBkZWwgcGF0csOzbiBTdGF0ZQppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgY29udGV4dCA9IENvbnRleHQoQ29uY3JldGVTdGF0ZUEoKSkKICAgIGNvbnRleHQucmVxdWVzdCgpICAjIENvbmNyZXRlU3RhdGVBIG1hbmVqYSBsYSBzb2xpY2l0dWQuCiAgICBjb250ZXh0LnJlcXVlc3QoKSAgIyBDb25jcmV0ZVN0YXRlQiBtYW5lamEgbGEgc29saWNpdHVkLgogICAgY29udGV4dC5yZXF1ZXN0KCkgICMgQ29uY3JldGVTdGF0ZUEgbWFuZWphIGxhIHNvbGljaXR1ZC4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from abc import ABC, abstractmethod

# Clase State
class State(ABC):
    @abstractmethod
    def handle(self, context):
        pass

# ConcreteStateA
class ConcreteStateA(State):
    def handle(self, context):
        print(&quot;ConcreteStateA maneja la solicitud.&quot;)
        context.state = ConcreteStateB()

# ConcreteStateB
class ConcreteStateB(State):
    def handle(self, context):
        print(&quot;ConcreteStateB maneja la solicitud.&quot;)
        context.state = ConcreteStateA()

# Contexto
class Context:
    def __init__(self, state: State):
        self.state = state

    def request(self):
        self.state.handle(self)

# Uso del patr&oacute;n State
if __name__ == &quot;__main__&quot;:
    context = Context(ConcreteStateA())
    context.request()  # ConcreteStateA maneja la solicitud.
    context.request()  # ConcreteStateB maneja la solicitud.
    context.request()  # ConcreteStateA maneja la solicitud.</pre></div><div class='content'><h4>Explicación del Código</h4>
<ol>
<li><strong>State</strong>: Es una clase abstracta que define el método <code>handle</code>, que debe ser implementado por las subclases.</li>
<li><strong>ConcreteStateA y ConcreteStateB</strong>: Son implementaciones concretas del estado, cada una con su propia lógica en el método <code>handle</code>.</li>
<li><strong>Context</strong>: Mantiene una instancia de <code>State</code> y delega el comportamiento a la instancia actual de <code>State</code>.</li>
</ol>
<h4>Ventajas del Patrón State</h4>
<ul>
<li><strong>Simplificación del código</strong>: Elimina las grandes estructuras condicionales.</li>
<li><strong>Flexibilidad</strong>: Permite cambiar el comportamiento del objeto en tiempo de ejecución.</li>
<li><strong>Mantenimiento</strong>: Facilita la adición de nuevos estados sin modificar el código existente.</li>
</ul>
<h4>Desventajas del Patrón State</h4>
<ul>
<li><strong>Complejidad</strong>: Puede aumentar la complejidad del sistema debido a la creación de múltiples clases.</li>
<li><strong>Sobrecarga</strong>: Puede ser excesivo para problemas simples donde una estructura condicional sería suficiente.</li>
</ul>
<h4>Ejercicio Práctico</h4>
<ol>
<li><strong>Ejercicio 1</strong>: Implementa un sistema de semáforo utilizando el patrón State. El semáforo debe tener tres estados: Verde, Amarillo y Rojo. Cada estado debe cambiar al siguiente en una secuencia cíclica.</li>
<li><strong>Ejercicio 2</strong>: Crea un sistema de autenticación que tenga dos estados: Autenticado y No Autenticado. El sistema debe permitir cambiar de estado dependiendo de si el usuario ha ingresado las credenciales correctas.</li>
</ol>
<h4>Conclusión</h4>
<p>El patrón State es una poderosa herramienta para manejar el comportamiento de un objeto basado en su estado interno. Al separar los estados en diferentes clases, se mejora la legibilidad y mantenibilidad del código. Sin embargo, es importante evaluar si la complejidad añadida justifica su uso en cada caso particular.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='4-8-observer'>&#x25C4;Observer</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Curso de Patrones de Diseño de Software</a>
	</div>
	<div class='col-4 text-end'>
					<a href='4-10-strategy'>Strategy &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
