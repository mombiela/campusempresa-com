<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introducción a la Gestión de Estado</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular2/09-01-introduction-to-state-management" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular2/09-01-introduction-to-state-management" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular2/09-01-introduction-to-state-management" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/angular2/09-01-introduction-to-state-management" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/angular2/09-01-introduction-to-state-management" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='08-04-using-observables' title="Uso de Observables">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Introducción a la Gestión de Estado</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='09-02-using-services-for-state-management' title="Uso de Servicios para la Gestión de Estado">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La gestión de estado es un concepto crucial en el desarrollo de aplicaciones modernas, especialmente en aplicaciones de una sola página (SPA) como las que se crean con Angular. En este tema, exploraremos qué es la gestión de estado, por qué es importante y cómo se puede implementar en Angular.</p>
</div><h1><p>¿Qué es la Gestión de Estado?</p>
</h1>
<div class='content'><p>La gestión de estado se refiere al manejo de los datos que una aplicación necesita para funcionar correctamente. Estos datos pueden incluir:</p>
<ul>
<li><strong>Datos de usuario</strong>: Información sobre el usuario actual, como su nombre, preferencias, etc.</li>
<li><strong>Datos de la aplicación</strong>: Información que la aplicación necesita para funcionar, como configuraciones, estados de carga, etc.</li>
<li><strong>Datos de la interfaz de usuario</strong>: Estado de la interfaz de usuario, como qué pestaña está activa, si un modal está abierto, etc.</li>
</ul>
</div><h1><p>Importancia de la Gestión de Estado</p>
</h1>
<div class='content'><p>Una gestión de estado adecuada es crucial por varias razones:</p>
<ul>
<li><strong>Consistencia</strong>: Asegura que todos los componentes de la aplicación tengan acceso a los mismos datos y que estos datos sean consistentes en toda la aplicación.</li>
<li><strong>Mantenimiento</strong>: Facilita el mantenimiento del código al centralizar la lógica de manejo de datos.</li>
<li><strong>Escalabilidad</strong>: Permite que la aplicación escale de manera más eficiente al manejar grandes cantidades de datos y múltiples componentes.</li>
</ul>
</div><h1><p>Métodos de Gestión de Estado en Angular</p>
</h1>
<div class='content'><p>En Angular, hay varias maneras de gestionar el estado de la aplicación:</p>
</div><h2><ol>
<li>Servicios</li>
</ol>
</h2>
<div class='content'><p>Los servicios en Angular son una forma común de gestionar el estado. Un servicio puede almacenar datos y proporcionar métodos para acceder y modificar esos datos.</p>
<h4>Ejemplo de Servicio de Gestión de Estado</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwoKQEluamVjdGFibGUoewogIHByb3ZpZGVkSW46ICdyb290Jwp9KQpleHBvcnQgY2xhc3MgU3RhdGVTZXJ2aWNlIHsKICBwcml2YXRlIHVzZXJEYXRhOiBhbnkgPSBudWxsOwoKICBjb25zdHJ1Y3RvcigpIHsgfQoKICBzZXRVc2VyRGF0YShkYXRhOiBhbnkpIHsKICAgIHRoaXMudXNlckRhdGEgPSBkYXRhOwogIH0KCiAgZ2V0VXNlckRhdGEoKSB7CiAgICByZXR1cm4gdGhpcy51c2VyRGF0YTsKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class StateService {
  private userData: any = null;

  constructor() { }

  setUserData(data: any) {
    this.userData = data;
  }

  getUserData() {
    return this.userData;
  }
}</pre></div><div class='content'></div><h2><ol start="2">
<li>NgRx</li>
</ol>
</h2>
<div class='content'><p>NgRx es una biblioteca para la gestión de estado en Angular que se basa en el patrón Redux. Proporciona una forma estructurada y predecible de manejar el estado de la aplicación.</p>
<h4>Conceptos Clave de NgRx</h4>
<ul>
<li><strong>Store</strong>: Almacena el estado de la aplicación.</li>
<li><strong>Actions</strong>: Describen cambios en el estado.</li>
<li><strong>Reducers</strong>: Funciones puras que determinan cómo el estado cambia en respuesta a una acción.</li>
<li><strong>Effects</strong>: Manejan efectos secundarios, como llamadas a APIs.</li>
</ul>
</div><h2><ol start="3">
<li>BehaviorSubject</li>
</ol>
</h2>
<div class='content'><p><code>BehaviorSubject</code> de RxJS es otra forma de gestionar el estado en Angular. Permite que los componentes se suscriban a cambios en el estado y reaccionen en consecuencia.</p>
<h4>Ejemplo de BehaviorSubject</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICdyeGpzJzsKCkBJbmplY3RhYmxlKHsKICBwcm92aWRlZEluOiAncm9vdCcKfSkKZXhwb3J0IGNsYXNzIFN0YXRlU2VydmljZSB7CiAgcHJpdmF0ZSB1c2VyRGF0YVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGFueT4obnVsbCk7CiAgdXNlckRhdGEkID0gdGhpcy51c2VyRGF0YVN1YmplY3QuYXNPYnNlcnZhYmxlKCk7CgogIGNvbnN0cnVjdG9yKCkgeyB9CgogIHNldFVzZXJEYXRhKGRhdGE6IGFueSkgewogICAgdGhpcy51c2VyRGF0YVN1YmplY3QubmV4dChkYXRhKTsKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';
import { BehaviorSubject } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class StateService {
  private userDataSubject = new BehaviorSubject&lt;any&gt;(null);
  userData$ = this.userDataSubject.asObservable();

  constructor() { }

  setUserData(data: any) {
    this.userDataSubject.next(data);
  }
}</pre></div><div class='content'></div><h1><p>Ejercicio Práctico</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Crear un Servicio de Gestión de Estado</p>
</h2>
<div class='content'><ol>
<li><strong>Objetivo</strong>: Crear un servicio que gestione el estado de un usuario en una aplicación Angular.</li>
<li><strong>Pasos</strong>:
<ul>
<li>Crear un nuevo servicio llamado <code>UserStateService</code>.</li>
<li>Añadir métodos para establecer y obtener datos del usuario.</li>
<li>Utilizar <code>BehaviorSubject</code> para permitir que los componentes se suscriban a cambios en el estado del usuario.</li>
</ul>
</li>
</ol>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICdyeGpzJzsKCkBJbmplY3RhYmxlKHsKICBwcm92aWRlZEluOiAncm9vdCcKfSkKZXhwb3J0IGNsYXNzIFVzZXJTdGF0ZVNlcnZpY2UgewogIHByaXZhdGUgdXNlclN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGFueT4obnVsbCk7CiAgdXNlciQgPSB0aGlzLnVzZXJTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpOwoKICBjb25zdHJ1Y3RvcigpIHsgfQoKICBzZXRVc2VyKGRhdGE6IGFueSkgewogICAgdGhpcy51c2VyU3ViamVjdC5uZXh0KGRhdGEpOwogIH0KCiAgZ2V0VXNlcigpIHsKICAgIHJldHVybiB0aGlzLnVzZXJTdWJqZWN0LmdldFZhbHVlKCk7CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';
import { BehaviorSubject } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class UserStateService {
  private userSubject = new BehaviorSubject&lt;any&gt;(null);
  user$ = this.userSubject.asObservable();

  constructor() { }

  setUser(data: any) {
    this.userSubject.next(data);
  }

  getUser() {
    return this.userSubject.getValue();
  }
}</pre></div><div class='content'></div><h2><p>Ejercicio 2: Utilizar el Servicio en un Componente</p>
</h2>
<div class='content'><ol>
<li><strong>Objetivo</strong>: Utilizar el <code>UserStateService</code> en un componente para mostrar y actualizar datos del usuario.</li>
<li><strong>Pasos</strong>:
<ul>
<li>Inyectar <code>UserStateService</code> en el componente.</li>
<li>Suscribirse a <code>user$</code> para obtener datos del usuario.</li>
<li>Añadir un método para actualizar los datos del usuario.</li>
</ul>
</li>
</ol>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgVXNlclN0YXRlU2VydmljZSB9IGZyb20gJy4vdXNlci1zdGF0ZS5zZXJ2aWNlJzsKCkBDb21wb25lbnQoewogIHNlbGVjdG9yOiAnYXBwLXVzZXInLAogIHRlbXBsYXRlOiBgCiAgICA8ZGl2ICpuZ0lmPSJ1c2VyIj4KICAgICAgPHA+Tm9tYnJlOiB7eyB1c2VyLm5hbWUgfX08L3A+CiAgICAgIDxwPkVtYWlsOiB7eyB1c2VyLmVtYWlsIH19PC9wPgogICAgPC9kaXY+CiAgICA8YnV0dG9uIChjbGljayk9InVwZGF0ZVVzZXIoKSI+QWN0dWFsaXphciBVc3VhcmlvPC9idXR0b24+CiAgYAp9KQpleHBvcnQgY2xhc3MgVXNlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7CiAgdXNlcjogYW55OwoKICBjb25zdHJ1Y3Rvcihwcml2YXRlIHVzZXJTdGF0ZVNlcnZpY2U6IFVzZXJTdGF0ZVNlcnZpY2UpIHsgfQoKICBuZ09uSW5pdCgpIHsKICAgIHRoaXMudXNlclN0YXRlU2VydmljZS51c2VyJC5zdWJzY3JpYmUoZGF0YSA9PiB7CiAgICAgIHRoaXMudXNlciA9IGRhdGE7CiAgICB9KTsKICB9CgogIHVwZGF0ZVVzZXIoKSB7CiAgICBjb25zdCBuZXdVc2VyID0geyBuYW1lOiAnTnVldm8gTm9tYnJlJywgZW1haWw6ICdudWV2b2VtYWlsQGV4YW1wbGUuY29tJyB9OwogICAgdGhpcy51c2VyU3RhdGVTZXJ2aWNlLnNldFVzZXIobmV3VXNlcik7CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Component, OnInit } from '@angular/core';
import { UserStateService } from './user-state.service';

@Component({
  selector: 'app-user',
  template: `
    &lt;div *ngIf=&quot;user&quot;&gt;
      &lt;p&gt;Nombre: {{ user.name }}&lt;/p&gt;
      &lt;p&gt;Email: {{ user.email }}&lt;/p&gt;
    &lt;/div&gt;
    &lt;button (click)=&quot;updateUser()&quot;&gt;Actualizar Usuario&lt;/button&gt;
  `
})
export class UserComponent implements OnInit {
  user: any;

  constructor(private userStateService: UserStateService) { }

  ngOnInit() {
    this.userStateService.user$.subscribe(data =&gt; {
      this.user = data;
    });
  }

  updateUser() {
    const newUser = { name: 'Nuevo Nombre', email: 'nuevoemail@example.com' };
    this.userStateService.setUser(newUser);
  }
}</pre></div><div class='content'></div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>La gestión de estado es un aspecto fundamental en el desarrollo de aplicaciones Angular. En esta lección, hemos aprendido qué es la gestión de estado, por qué es importante y cómo se puede implementar utilizando servicios, NgRx y <code>BehaviorSubject</code>. En los próximos temas, profundizaremos en el uso de servicios para la gestión de estado y exploraremos NgRx en detalle.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='08-04-using-observables' title="Uso de Observables">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='09-02-using-services-for-state-management' title="Uso de Servicios para la Gestión de Estado">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
