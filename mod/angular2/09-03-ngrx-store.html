<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NgRx Store</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular2/09-03-ngrx-store" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular2/09-03-ngrx-store" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular2/09-03-ngrx-store" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/angular2/09-03-ngrx-store" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/angular2/09-03-ngrx-store" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='09-02-using-services-for-state-management' title="Uso de Servicios para la Gestión de Estado">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">NgRx Store</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='09-04-ngrx-effects' title="NgRx Effects">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>NgRx Store es una biblioteca para la gestión de estado en aplicaciones Angular. Se basa en el patrón Redux, que proporciona un enfoque predecible para gestionar el estado de la aplicación mediante un único almacén (store) y flujos de datos unidireccionales. En esta lección, aprenderemos los conceptos básicos de NgRx Store, cómo configurarlo en una aplicación Angular y cómo utilizarlo para gestionar el estado de la aplicación.</p>
</div><h1><p>Conceptos Clave de NgRx Store</p>
</h1>
<div class='content'><ol>
<li><strong>Store (Almacén)</strong>: Es un contenedor para el estado de la aplicación. Solo hay un único almacén en una aplicación NgRx.</li>
<li><strong>State (Estado)</strong>: Representa el estado de la aplicación en un momento dado.</li>
<li><strong>Actions (Acciones)</strong>: Son eventos que describen algo que ha sucedido en la aplicación. Las acciones son el único medio para enviar datos al almacén.</li>
<li><strong>Reducers (Reductores)</strong>: Son funciones puras que toman el estado actual y una acción, y devuelven un nuevo estado.</li>
<li><strong>Selectors (Selectores)</strong>: Son funciones que seleccionan una parte del estado del almacén.</li>
<li><strong>Effects (Efectos)</strong>: Son utilizados para manejar operaciones asíncronas y otras tareas secundarias.</li>
</ol>
</div><h1><p>Configuración de NgRx Store</p>
</h1>
<div class='content'></div><h2><p>Instalación</p>
</h2>
<div class='content'><p>Para comenzar a usar NgRx Store, primero debemos instalar las dependencias necesarias:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgQG5ncngvc3RvcmUgQG5ncngvZWZmZWN0cyBAbmdyeC9zdG9yZS1kZXZ0b29scw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install @ngrx/store @ngrx/effects @ngrx/store-devtools</pre></div><div class='content'></div><h2><p>Configuración del Almacén</p>
</h2>
<div class='content'><ol>
<li><strong>Definir el Estado Inicial</strong>: Creamos una interfaz para definir la estructura del estado y un objeto para el estado inicial.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9zdGF0ZS9hcHAuc3RhdGUudHMKZXhwb3J0IGludGVyZmFjZSBBcHBTdGF0ZSB7CiAgY291bnRlcjogbnVtYmVyOwp9CgpleHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlOiBBcHBTdGF0ZSA9IHsKICBjb3VudGVyOiAwLAp9Ow=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/state/app.state.ts
export interface AppState {
  counter: number;
}

export const initialState: AppState = {
  counter: 0,
};</pre></div><div class='content'><ol start="2">
<li><strong>Crear Acciones</strong>: Definimos las acciones que pueden modificar el estado.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9zdGF0ZS9jb3VudGVyLmFjdGlvbnMudHMKaW1wb3J0IHsgY3JlYXRlQWN0aW9uIH0gZnJvbSAnQG5ncngvc3RvcmUnOwoKZXhwb3J0IGNvbnN0IGluY3JlbWVudCA9IGNyZWF0ZUFjdGlvbignW0NvdW50ZXJdIEluY3JlbWVudCcpOwpleHBvcnQgY29uc3QgZGVjcmVtZW50ID0gY3JlYXRlQWN0aW9uKCdbQ291bnRlcl0gRGVjcmVtZW50Jyk7CmV4cG9ydCBjb25zdCByZXNldCA9IGNyZWF0ZUFjdGlvbignW0NvdW50ZXJdIFJlc2V0Jyk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/state/counter.actions.ts
import { createAction } from '@ngrx/store';

export const increment = createAction('[Counter] Increment');
export const decrement = createAction('[Counter] Decrement');
export const reset = createAction('[Counter] Reset');</pre></div><div class='content'><ol start="3">
<li><strong>Crear Reductores</strong>: Definimos los reductores que especifican cómo el estado cambia en respuesta a las acciones.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9zdGF0ZS9jb3VudGVyLnJlZHVjZXIudHMKaW1wb3J0IHsgY3JlYXRlUmVkdWNlciwgb24gfSBmcm9tICdAbmdyeC9zdG9yZSc7CmltcG9ydCB7IGluY3JlbWVudCwgZGVjcmVtZW50LCByZXNldCB9IGZyb20gJy4vY291bnRlci5hY3Rpb25zJzsKaW1wb3J0IHsgQXBwU3RhdGUsIGluaXRpYWxTdGF0ZSB9IGZyb20gJy4vYXBwLnN0YXRlJzsKCmNvbnN0IF9jb3VudGVyUmVkdWNlciA9IGNyZWF0ZVJlZHVjZXIoCiAgaW5pdGlhbFN0YXRlLAogIG9uKGluY3JlbWVudCwgKHN0YXRlKSA9PiAoeyAuLi5zdGF0ZSwgY291bnRlcjogc3RhdGUuY291bnRlciArIDEgfSkpLAogIG9uKGRlY3JlbWVudCwgKHN0YXRlKSA9PiAoeyAuLi5zdGF0ZSwgY291bnRlcjogc3RhdGUuY291bnRlciAtIDEgfSkpLAogIG9uKHJlc2V0LCAoc3RhdGUpID0+ICh7IC4uLnN0YXRlLCBjb3VudGVyOiAwIH0pKQopOwoKZXhwb3J0IGZ1bmN0aW9uIGNvdW50ZXJSZWR1Y2VyKHN0YXRlOiBBcHBTdGF0ZSB8IHVuZGVmaW5lZCwgYWN0aW9uOiBBY3Rpb24pIHsKICByZXR1cm4gX2NvdW50ZXJSZWR1Y2VyKHN0YXRlLCBhY3Rpb24pOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/state/counter.reducer.ts
import { createReducer, on } from '@ngrx/store';
import { increment, decrement, reset } from './counter.actions';
import { AppState, initialState } from './app.state';

const _counterReducer = createReducer(
  initialState,
  on(increment, (state) =&gt; ({ ...state, counter: state.counter + 1 })),
  on(decrement, (state) =&gt; ({ ...state, counter: state.counter - 1 })),
  on(reset, (state) =&gt; ({ ...state, counter: 0 }))
);

export function counterReducer(state: AppState | undefined, action: Action) {
  return _counterReducer(state, action);
}</pre></div><div class='content'><ol start="4">
<li><strong>Registrar el Almacén en el Módulo Angular</strong>: Configuramos el almacén en el módulo principal de la aplicación.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9hcHAubW9kdWxlLnRzCmltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CmltcG9ydCB7IEJyb3dzZXJNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJzsKaW1wb3J0IHsgU3RvcmVNb2R1bGUgfSBmcm9tICdAbmdyeC9zdG9yZSc7CmltcG9ydCB7IGNvdW50ZXJSZWR1Y2VyIH0gZnJvbSAnLi9zdGF0ZS9jb3VudGVyLnJlZHVjZXInOwoKQE5nTW9kdWxlKHsKICBkZWNsYXJhdGlvbnM6IFtBcHBDb21wb25lbnRdLAogIGltcG9ydHM6IFsKICAgIEJyb3dzZXJNb2R1bGUsCiAgICBTdG9yZU1vZHVsZS5mb3JSb290KHsgY291bnRlcjogY291bnRlclJlZHVjZXIgfSksCiAgXSwKICBwcm92aWRlcnM6IFtdLAogIGJvb3RzdHJhcDogW0FwcENvbXBvbmVudF0sCn0pCmV4cG9ydCBjbGFzcyBBcHBNb2R1bGUge30="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/app.module.ts
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { StoreModule } from '@ngrx/store';
import { counterReducer } from './state/counter.reducer';

@NgModule({
  declarations: [AppComponent],
  imports: [
    BrowserModule,
    StoreModule.forRoot({ counter: counterReducer }),
  ],
  providers: [],
  bootstrap: [AppComponent],
})
export class AppModule {}</pre></div><div class='content'></div><h1><p>Uso de NgRx Store en Componentes</p>
</h1>
<div class='content'></div><h2><p>Seleccionar Estado</p>
</h2>
<div class='content'><p>Para acceder al estado del almacén en un componente, utilizamos selectores.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9jb3VudGVyL2NvdW50ZXIuY29tcG9uZW50LnRzCmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBTdG9yZSwgc2VsZWN0IH0gZnJvbSAnQG5ncngvc3RvcmUnOwppbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7CmltcG9ydCB7IEFwcFN0YXRlIH0gZnJvbSAnLi4vc3RhdGUvYXBwLnN0YXRlJzsKCkBDb21wb25lbnQoewogIHNlbGVjdG9yOiAnYXBwLWNvdW50ZXInLAogIHRlbXBsYXRlOiBgCiAgICA8ZGl2PgogICAgICA8aDE+e3sgY291bnRlciQgfCBhc3luYyB9fTwvaDE+CiAgICAgIDxidXR0b24gKGNsaWNrKT0iaW5jcmVtZW50KCkiPkluY3JlbWVudDwvYnV0dG9uPgogICAgICA8YnV0dG9uIChjbGljayk9ImRlY3JlbWVudCgpIj5EZWNyZW1lbnQ8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiAoY2xpY2spPSJyZXNldCgpIj5SZXNldDwvYnV0dG9uPgogICAgPC9kaXY+CiAgYCwKfSkKZXhwb3J0IGNsYXNzIENvdW50ZXJDb21wb25lbnQgewogIGNvdW50ZXIkOiBPYnNlcnZhYmxlPG51bWJlcj47CgogIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RvcmU6IFN0b3JlPEFwcFN0YXRlPikgewogICAgdGhpcy5jb3VudGVyJCA9IHN0b3JlLnBpcGUoc2VsZWN0KCdjb3VudGVyJykpOwogIH0KCiAgaW5jcmVtZW50KCkgewogICAgdGhpcy5zdG9yZS5kaXNwYXRjaChpbmNyZW1lbnQoKSk7CiAgfQoKICBkZWNyZW1lbnQoKSB7CiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGRlY3JlbWVudCgpKTsKICB9CgogIHJlc2V0KCkgewogICAgdGhpcy5zdG9yZS5kaXNwYXRjaChyZXNldCgpKTsKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/counter/counter.component.ts
import { Component } from '@angular/core';
import { Store, select } from '@ngrx/store';
import { Observable } from 'rxjs';
import { AppState } from '../state/app.state';

@Component({
  selector: 'app-counter',
  template: `
    &lt;div&gt;
      &lt;h1&gt;{{ counter$ | async }}&lt;/h1&gt;
      &lt;button (click)=&quot;increment()&quot;&gt;Increment&lt;/button&gt;
      &lt;button (click)=&quot;decrement()&quot;&gt;Decrement&lt;/button&gt;
      &lt;button (click)=&quot;reset()&quot;&gt;Reset&lt;/button&gt;
    &lt;/div&gt;
  `,
})
export class CounterComponent {
  counter$: Observable&lt;number&gt;;

  constructor(private store: Store&lt;AppState&gt;) {
    this.counter$ = store.pipe(select('counter'));
  }

  increment() {
    this.store.dispatch(increment());
  }

  decrement() {
    this.store.dispatch(decrement());
  }

  reset() {
    this.store.dispatch(reset());
  }
}</pre></div><div class='content'></div><h2><p>Ejercicio Práctico</p>
</h2>
<div class='content'><p><strong>Ejercicio</strong>: Implementa una funcionalidad de contador utilizando NgRx Store. El contador debe poder incrementarse, decrementarse y reiniciarse a cero.</p>
<p><strong>Solución</strong>:</p>
<ol>
<li><strong>Definir el Estado Inicial</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9zdGF0ZS9hcHAuc3RhdGUudHMKZXhwb3J0IGludGVyZmFjZSBBcHBTdGF0ZSB7CiAgY291bnRlcjogbnVtYmVyOwp9CgpleHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlOiBBcHBTdGF0ZSA9IHsKICBjb3VudGVyOiAwLAp9Ow=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/state/app.state.ts
export interface AppState {
  counter: number;
}

export const initialState: AppState = {
  counter: 0,
};</pre></div><div class='content'><ol start="2">
<li><strong>Crear Acciones</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9zdGF0ZS9jb3VudGVyLmFjdGlvbnMudHMKaW1wb3J0IHsgY3JlYXRlQWN0aW9uIH0gZnJvbSAnQG5ncngvc3RvcmUnOwoKZXhwb3J0IGNvbnN0IGluY3JlbWVudCA9IGNyZWF0ZUFjdGlvbignW0NvdW50ZXJdIEluY3JlbWVudCcpOwpleHBvcnQgY29uc3QgZGVjcmVtZW50ID0gY3JlYXRlQWN0aW9uKCdbQ291bnRlcl0gRGVjcmVtZW50Jyk7CmV4cG9ydCBjb25zdCByZXNldCA9IGNyZWF0ZUFjdGlvbignW0NvdW50ZXJdIFJlc2V0Jyk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/state/counter.actions.ts
import { createAction } from '@ngrx/store';

export const increment = createAction('[Counter] Increment');
export const decrement = createAction('[Counter] Decrement');
export const reset = createAction('[Counter] Reset');</pre></div><div class='content'><ol start="3">
<li><strong>Crear Reductores</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9zdGF0ZS9jb3VudGVyLnJlZHVjZXIudHMKaW1wb3J0IHsgY3JlYXRlUmVkdWNlciwgb24gfSBmcm9tICdAbmdyeC9zdG9yZSc7CmltcG9ydCB7IGluY3JlbWVudCwgZGVjcmVtZW50LCByZXNldCB9IGZyb20gJy4vY291bnRlci5hY3Rpb25zJzsKaW1wb3J0IHsgQXBwU3RhdGUsIGluaXRpYWxTdGF0ZSB9IGZyb20gJy4vYXBwLnN0YXRlJzsKCmNvbnN0IF9jb3VudGVyUmVkdWNlciA9IGNyZWF0ZVJlZHVjZXIoCiAgaW5pdGlhbFN0YXRlLAogIG9uKGluY3JlbWVudCwgKHN0YXRlKSA9PiAoeyAuLi5zdGF0ZSwgY291bnRlcjogc3RhdGUuY291bnRlciArIDEgfSkpLAogIG9uKGRlY3JlbWVudCwgKHN0YXRlKSA9PiAoeyAuLi5zdGF0ZSwgY291bnRlcjogc3RhdGUuY291bnRlciAtIDEgfSkpLAogIG9uKHJlc2V0LCAoc3RhdGUpID0+ICh7IC4uLnN0YXRlLCBjb3VudGVyOiAwIH0pKQopOwoKZXhwb3J0IGZ1bmN0aW9uIGNvdW50ZXJSZWR1Y2VyKHN0YXRlOiBBcHBTdGF0ZSB8IHVuZGVmaW5lZCwgYWN0aW9uOiBBY3Rpb24pIHsKICByZXR1cm4gX2NvdW50ZXJSZWR1Y2VyKHN0YXRlLCBhY3Rpb24pOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/state/counter.reducer.ts
import { createReducer, on } from '@ngrx/store';
import { increment, decrement, reset } from './counter.actions';
import { AppState, initialState } from './app.state';

const _counterReducer = createReducer(
  initialState,
  on(increment, (state) =&gt; ({ ...state, counter: state.counter + 1 })),
  on(decrement, (state) =&gt; ({ ...state, counter: state.counter - 1 })),
  on(reset, (state) =&gt; ({ ...state, counter: 0 }))
);

export function counterReducer(state: AppState | undefined, action: Action) {
  return _counterReducer(state, action);
}</pre></div><div class='content'><ol start="4">
<li><strong>Registrar el Almacén en el Módulo Angular</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9hcHAubW9kdWxlLnRzCmltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CmltcG9ydCB7IEJyb3dzZXJNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJzsKaW1wb3J0IHsgU3RvcmVNb2R1bGUgfSBmcm9tICdAbmdyeC9zdG9yZSc7CmltcG9ydCB7IGNvdW50ZXJSZWR1Y2VyIH0gZnJvbSAnLi9zdGF0ZS9jb3VudGVyLnJlZHVjZXInOwoKQE5nTW9kdWxlKHsKICBkZWNsYXJhdGlvbnM6IFtBcHBDb21wb25lbnRdLAogIGltcG9ydHM6IFsKICAgIEJyb3dzZXJNb2R1bGUsCiAgICBTdG9yZU1vZHVsZS5mb3JSb290KHsgY291bnRlcjogY291bnRlclJlZHVjZXIgfSksCiAgXSwKICBwcm92aWRlcnM6IFtdLAogIGJvb3RzdHJhcDogW0FwcENvbXBvbmVudF0sCn0pCmV4cG9ydCBjbGFzcyBBcHBNb2R1bGUge30="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/app.module.ts
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { StoreModule } from '@ngrx/store';
import { counterReducer } from './state/counter.reducer';

@NgModule({
  declarations: [AppComponent],
  imports: [
    BrowserModule,
    StoreModule.forRoot({ counter: counterReducer }),
  ],
  providers: [],
  bootstrap: [AppComponent],
})
export class AppModule {}</pre></div><div class='content'><ol start="5">
<li><strong>Crear el Componente del Contador</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9jb3VudGVyL2NvdW50ZXIuY29tcG9uZW50LnRzCmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBTdG9yZSwgc2VsZWN0IH0gZnJvbSAnQG5ncngvc3RvcmUnOwppbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7CmltcG9ydCB7IEFwcFN0YXRlIH0gZnJvbSAnLi4vc3RhdGUvYXBwLnN0YXRlJzsKaW1wb3J0IHsgaW5jcmVtZW50LCBkZWNyZW1lbnQsIHJlc2V0IH0gZnJvbSAnLi4vc3RhdGUvY291bnRlci5hY3Rpb25zJzsKCkBDb21wb25lbnQoewogIHNlbGVjdG9yOiAnYXBwLWNvdW50ZXInLAogIHRlbXBsYXRlOiBgCiAgICA8ZGl2PgogICAgICA8aDE+e3sgY291bnRlciQgfCBhc3luYyB9fTwvaDE+CiAgICAgIDxidXR0b24gKGNsaWNrKT0iaW5jcmVtZW50KCkiPkluY3JlbWVudDwvYnV0dG9uPgogICAgICA8YnV0dG9uIChjbGljayk9ImRlY3JlbWVudCgpIj5EZWNyZW1lbnQ8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiAoY2xpY2spPSJyZXNldCgpIj5SZXNldDwvYnV0dG9uPgogICAgPC9kaXY+CiAgYCwKfSkKZXhwb3J0IGNsYXNzIENvdW50ZXJDb21wb25lbnQgewogIGNvdW50ZXIkOiBPYnNlcnZhYmxlPG51bWJlcj47CgogIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RvcmU6IFN0b3JlPEFwcFN0YXRlPikgewogICAgdGhpcy5jb3VudGVyJCA9IHN0b3JlLnBpcGUoc2VsZWN0KCdjb3VudGVyJykpOwogIH0KCiAgaW5jcmVtZW50KCkgewogICAgdGhpcy5zdG9yZS5kaXNwYXRjaChpbmNyZW1lbnQoKSk7CiAgfQoKICBkZWNyZW1lbnQoKSB7CiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGRlY3JlbWVudCgpKTsKICB9CgogIHJlc2V0KCkgewogICAgdGhpcy5zdG9yZS5kaXNwYXRjaChyZXNldCgpKTsKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/counter/counter.component.ts
import { Component } from '@angular/core';
import { Store, select } from '@ngrx/store';
import { Observable } from 'rxjs';
import { AppState } from '../state/app.state';
import { increment, decrement, reset } from '../state/counter.actions';

@Component({
  selector: 'app-counter',
  template: `
    &lt;div&gt;
      &lt;h1&gt;{{ counter$ | async }}&lt;/h1&gt;
      &lt;button (click)=&quot;increment()&quot;&gt;Increment&lt;/button&gt;
      &lt;button (click)=&quot;decrement()&quot;&gt;Decrement&lt;/button&gt;
      &lt;button (click)=&quot;reset()&quot;&gt;Reset&lt;/button&gt;
    &lt;/div&gt;
  `,
})
export class CounterComponent {
  counter$: Observable&lt;number&gt;;

  constructor(private store: Store&lt;AppState&gt;) {
    this.counter$ = store.pipe(select('counter'));
  }

  increment() {
    this.store.dispatch(increment());
  }

  decrement() {
    this.store.dispatch(decrement());
  }

  reset() {
    this.store.dispatch(reset());
  }
}</pre></div><div class='content'></div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En esta lección, hemos aprendido los conceptos básicos de NgRx Store y cómo configurarlo en una aplicación Angular. Hemos visto cómo definir el estado inicial, crear acciones y reductores, y cómo utilizar el almacén en un componente. NgRx Store es una herramienta poderosa para gestionar el estado de aplicaciones Angular de manera predecible y escalable. En la próxima lección, exploraremos NgRx Effects para manejar operaciones asíncronas y otras tareas secundarias.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='09-02-using-services-for-state-management' title="Uso de Servicios para la Gestión de Estado">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='09-04-ngrx-effects' title="NgRx Effects">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
