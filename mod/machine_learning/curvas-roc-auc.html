<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curvas ROC y AUC</title>

    <link rel="alternate" href="https://campusempresa.com/mod/machine_learning/curvas-roc-auc" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/machine_learning/curvas-roc-auc" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/machine_learning/curvas-roc-auc" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/machine_learning/curvas-roc-auc" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/machine_learning/curvas-roc-auc" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='validacion-cruzada'>&#x25C4;Validación Cruzada</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Curvas ROC y AUC</a>
	</div>
	<div class='col-4 text-end'>
					<a href='overfitting-underfitting'>Overfitting y Underfitting &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En el ámbito del Machine Learning, especialmente en problemas de clasificación, es crucial evaluar el rendimiento de nuestros modelos. Dos herramientas fundamentales para esta evaluación son las curvas ROC (Receiver Operating Characteristic) y el AUC (Area Under the Curve). Este tema te proporcionará una comprensión profunda de estos conceptos, cómo se calculan y cómo interpretarlos.</p>
</div><h1>¿Qué es una Curva ROC?</h1>
<div class='content'><p>La curva ROC es una representación gráfica que ilustra el rendimiento de un modelo de clasificación binaria. Muestra la relación entre la Tasa de Verdaderos Positivos (TPR) y la Tasa de Falsos Positivos (FPR) a diferentes umbrales de clasificación.</p>
<ul>
<li><strong>Tasa de Verdaderos Positivos (TPR)</strong>: También conocida como sensibilidad o recall, es la proporción de positivos correctamente identificados por el modelo.</li>
<li><strong>Tasa de Falsos Positivos (FPR)</strong>: Es la proporción de negativos incorrectamente identificados como positivos.</li>
</ul>
</div><h2>Cómo se construye una Curva ROC</h2>
<div class='content'><ol>
<li><strong>Calcular las predicciones del modelo</strong>: Obtener las probabilidades de pertenencia a la clase positiva para cada instancia.</li>
<li><strong>Establecer diferentes umbrales</strong>: Variar el umbral de decisión desde 0 a 1.</li>
<li><strong>Calcular TPR y FPR</strong>: Para cada umbral, calcular TPR y FPR.</li>
<li><strong>Graficar la curva</strong>: Plotear TPR vs. FPR para todos los umbrales.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG51bXB5IGFzIG5wCmZyb20gc2tsZWFybi5tZXRyaWNzIGltcG9ydCByb2NfY3VydmUKaW1wb3J0IG1hdHBsb3RsaWIucHlwbG90IGFzIHBsdAoKIyBFamVtcGxvIGRlIHByZWRpY2Npb25lcyB5IGV0aXF1ZXRhcyB2ZXJkYWRlcmFzCnlfdHJ1ZSA9IG5wLmFycmF5KFswLCAwLCAxLCAxXSkKeV9zY29yZXMgPSBucC5hcnJheShbMC4xLCAwLjQsIDAuMzUsIDAuOF0pCgojIENhbGN1bGFyIEZQUiB5IFRQUgpmcHIsIHRwciwgdGhyZXNob2xkcyA9IHJvY19jdXJ2ZSh5X3RydWUsIHlfc2NvcmVzKQoKIyBHcmFmaWNhciBsYSBjdXJ2YSBST0MKcGx0LmZpZ3VyZSgpCnBsdC5wbG90KGZwciwgdHByLCBjb2xvcj0nZGFya29yYW5nZScsIGx3PTIsIGxhYmVsPSdDdXJ2YSBST0MnKQpwbHQucGxvdChbMCwgMV0sIFswLCAxXSwgY29sb3I9J25hdnknLCBsdz0yLCBsaW5lc3R5bGU9Jy0tJykKcGx0LnhsYWJlbCgnVGFzYSBkZSBGYWxzb3MgUG9zaXRpdm9zJykKcGx0LnlsYWJlbCgnVGFzYSBkZSBWZXJkYWRlcm9zIFBvc2l0aXZvcycpCnBsdC50aXRsZSgnQ3VydmEgUk9DJykKcGx0LmxlZ2VuZChsb2M9Imxvd2VyIHJpZ2h0IikKcGx0LnNob3coKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import numpy as np
from sklearn.metrics import roc_curve
import matplotlib.pyplot as plt

# Ejemplo de predicciones y etiquetas verdaderas
y_true = np.array([0, 0, 1, 1])
y_scores = np.array([0.1, 0.4, 0.35, 0.8])

# Calcular FPR y TPR
fpr, tpr, thresholds = roc_curve(y_true, y_scores)

# Graficar la curva ROC
plt.figure()
plt.plot(fpr, tpr, color='darkorange', lw=2, label='Curva ROC')
plt.plot([0, 1], [0, 1], color='navy', lw=2, linestyle='--')
plt.xlabel('Tasa de Falsos Positivos')
plt.ylabel('Tasa de Verdaderos Positivos')
plt.title('Curva ROC')
plt.legend(loc=&quot;lower right&quot;)
plt.show()</pre></div><div class='content'></div><h1>¿Qué es el AUC?</h1>
<div class='content'><p>El AUC (Area Under the Curve) es una métrica que resume la curva ROC en un solo valor. Representa el área bajo la curva ROC y proporciona una medida agregada del rendimiento del modelo en todos los umbrales posibles.</p>
<ul>
<li><strong>Interpretación del AUC</strong>:
<ul>
<li><strong>AUC = 1</strong>: El modelo clasifica perfectamente todas las instancias.</li>
<li><strong>AUC = 0.5</strong>: El modelo no tiene capacidad de discriminación, equivalente a una clasificación aleatoria.</li>
<li><strong>AUC &lt; 0.5</strong>: El modelo clasifica peor que una clasificación aleatoria.</li>
</ul>
</li>
</ul>
</div><h2>Cálculo del AUC</h2>
<div class='content'><p>El AUC se puede calcular utilizando bibliotecas como <code>scikit-learn</code> en Python.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBza2xlYXJuLm1ldHJpY3MgaW1wb3J0IHJvY19hdWNfc2NvcmUKCiMgQ2FsY3VsYXIgQVVDCmF1YyA9IHJvY19hdWNfc2NvcmUoeV90cnVlLCB5X3Njb3JlcykKcHJpbnQoZidBVUM6IHthdWN9Jyk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from sklearn.metrics import roc_auc_score

# Calcular AUC
auc = roc_auc_score(y_true, y_scores)
print(f'AUC: {auc}')</pre></div><div class='content'></div><h1>Ejemplo Práctico</h1>
<div class='content'><p>Vamos a aplicar estos conceptos en un ejemplo práctico utilizando un conjunto de datos de juguete.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBza2xlYXJuLmRhdGFzZXRzIGltcG9ydCBtYWtlX2NsYXNzaWZpY2F0aW9uCmZyb20gc2tsZWFybi5tb2RlbF9zZWxlY3Rpb24gaW1wb3J0IHRyYWluX3Rlc3Rfc3BsaXQKZnJvbSBza2xlYXJuLmxpbmVhcl9tb2RlbCBpbXBvcnQgTG9naXN0aWNSZWdyZXNzaW9uCmZyb20gc2tsZWFybi5tZXRyaWNzIGltcG9ydCByb2NfY3VydmUsIHJvY19hdWNfc2NvcmUKaW1wb3J0IG1hdHBsb3RsaWIucHlwbG90IGFzIHBsdAoKIyBHZW5lcmFyIHVuIGNvbmp1bnRvIGRlIGRhdG9zIGRlIGp1Z3VldGUKWCwgeSA9IG1ha2VfY2xhc3NpZmljYXRpb24obl9zYW1wbGVzPTEwMDAsIG5fZmVhdHVyZXM9MjAsIHJhbmRvbV9zdGF0ZT00MikKCiMgRGl2aWRpciBlbCBjb25qdW50byBkZSBkYXRvcyBlbiBlbnRyZW5hbWllbnRvIHkgcHJ1ZWJhClhfdHJhaW4sIFhfdGVzdCwgeV90cmFpbiwgeV90ZXN0ID0gdHJhaW5fdGVzdF9zcGxpdChYLCB5LCB0ZXN0X3NpemU9MC4zLCByYW5kb21fc3RhdGU9NDIpCgojIEVudHJlbmFyIHVuIG1vZGVsbyBkZSByZWdyZXNpw7NuIGxvZ8Otc3RpY2EKbW9kZWwgPSBMb2dpc3RpY1JlZ3Jlc3Npb24oKQptb2RlbC5maXQoWF90cmFpbiwgeV90cmFpbikKCiMgT2J0ZW5lciBsYXMgcHJvYmFiaWxpZGFkZXMgZGUgcHJlZGljY2nDs24KeV9zY29yZXMgPSBtb2RlbC5wcmVkaWN0X3Byb2JhKFhfdGVzdClbOiwgMV0KCiMgQ2FsY3VsYXIgRlBSLCBUUFIgeSBBVUMKZnByLCB0cHIsIHRocmVzaG9sZHMgPSByb2NfY3VydmUoeV90ZXN0LCB5X3Njb3JlcykKYXVjID0gcm9jX2F1Y19zY29yZSh5X3Rlc3QsIHlfc2NvcmVzKQoKIyBHcmFmaWNhciBsYSBjdXJ2YSBST0MKcGx0LmZpZ3VyZSgpCnBsdC5wbG90KGZwciwgdHByLCBjb2xvcj0nZGFya29yYW5nZScsIGx3PTIsIGxhYmVsPWYnQ3VydmEgUk9DIChBVUMgPSB7YXVjOi4yZn0pJykKcGx0LnBsb3QoWzAsIDFdLCBbMCwgMV0sIGNvbG9yPSduYXZ5JywgbHc9MiwgbGluZXN0eWxlPSctLScpCnBsdC54bGFiZWwoJ1Rhc2EgZGUgRmFsc29zIFBvc2l0aXZvcycpCnBsdC55bGFiZWwoJ1Rhc2EgZGUgVmVyZGFkZXJvcyBQb3NpdGl2b3MnKQpwbHQudGl0bGUoJ0N1cnZhIFJPQycpCnBsdC5sZWdlbmQobG9jPSJsb3dlciByaWdodCIpCnBsdC5zaG93KCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from sklearn.datasets import make_classification
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import roc_curve, roc_auc_score
import matplotlib.pyplot as plt

# Generar un conjunto de datos de juguete
X, y = make_classification(n_samples=1000, n_features=20, random_state=42)

# Dividir el conjunto de datos en entrenamiento y prueba
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)

# Entrenar un modelo de regresi&oacute;n log&iacute;stica
model = LogisticRegression()
model.fit(X_train, y_train)

# Obtener las probabilidades de predicci&oacute;n
y_scores = model.predict_proba(X_test)[:, 1]

# Calcular FPR, TPR y AUC
fpr, tpr, thresholds = roc_curve(y_test, y_scores)
auc = roc_auc_score(y_test, y_scores)

# Graficar la curva ROC
plt.figure()
plt.plot(fpr, tpr, color='darkorange', lw=2, label=f'Curva ROC (AUC = {auc:.2f})')
plt.plot([0, 1], [0, 1], color='navy', lw=2, linestyle='--')
plt.xlabel('Tasa de Falsos Positivos')
plt.ylabel('Tasa de Verdaderos Positivos')
plt.title('Curva ROC')
plt.legend(loc=&quot;lower right&quot;)
plt.show()</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Las curvas ROC y el AUC son herramientas esenciales para evaluar el rendimiento de los modelos de clasificación binaria. La curva ROC proporciona una visión detallada del rendimiento del modelo en diferentes umbrales, mientras que el AUC ofrece una métrica resumida y fácil de interpretar. Comprender y utilizar estas herramientas te permitirá tomar decisiones más informadas sobre la efectividad de tus modelos de Machine Learning.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='validacion-cruzada'>&#x25C4;Validación Cruzada</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Curvas ROC y AUC</a>
	</div>
	<div class='col-4 text-end'>
					<a href='overfitting-underfitting'>Overfitting y Underfitting &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
