<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hilos en Rust</title>

    <link rel="alternate" href="https://campusempresa.com/mod/rust/threads" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/rust/threads" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/rust/threads" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/rust/threads" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/rust/threads" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='generics'>&#x25C4;Genéricos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Hilos en Rust</a>
	</div>
	<div class='col-4 text-end'>
					<a href='message-passing'>Paso de Mensajes &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a los Hilos</h1>
<div class='content'><p>Los hilos permiten que un programa realice múltiples tareas concurrentemente, haciendo un uso eficiente de los recursos del sistema. Rust proporciona un soporte robusto para el manejo de hilos, asegurando seguridad y rendimiento.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Concurrencia</strong>: Ejecutar múltiples tareas al mismo tiempo.</li>
<li><strong>Paralelismo</strong>: Ejecutar múltiples tareas simultáneamente en múltiples procesadores.</li>
<li><strong>Seguridad de Hilos</strong>: Asegurar que los datos se accedan correctamente cuando se involucran múltiples hilos.</li>
</ul>
</div><h1>Creación de Hilos</h1>
<div class='content'><p>La biblioteca estándar de Rust proporciona el módulo <code>std::thread</code> para la creación y gestión de hilos.</p>
</div><h2>Creación Básica de Hilos</h2>
<div class='content'><p>Para crear un nuevo hilo, se utiliza la función <code>thread::spawn</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0ZDo6dGhyZWFkOwoKZm4gbWFpbigpIHsKICAgIGxldCBoYW5kbGUgPSB0aHJlYWQ6OnNwYXduKHx8IHsKICAgICAgICBmb3IgaSBpbiAxLi4xMCB7CiAgICAgICAgICAgIHByaW50bG4hKCJIb2xhIGRlc2RlIGVsIGhpbG8gY3JlYWRvOiB7fSIsIGkpOwogICAgICAgIH0KICAgIH0pOwoKICAgIGZvciBpIGluIDEuLjUgewogICAgICAgIHByaW50bG4hKCJIb2xhIGRlc2RlIGVsIGhpbG8gcHJpbmNpcGFsOiB7fSIsIGkpOwogICAgfQoKICAgIGhhbmRsZS5qb2luKCkudW53cmFwKCk7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use std::thread;

fn main() {
    let handle = thread::spawn(|| {
        for i in 1..10 {
            println!(&quot;Hola desde el hilo creado: {}&quot;, i);
        }
    });

    for i in 1..5 {
        println!(&quot;Hola desde el hilo principal: {}&quot;, i);
    }

    handle.join().unwrap();
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>thread::spawn</code> crea un nuevo hilo.</li>
<li>La clausura dentro de <code>spawn</code> es el código que se ejecuta en el nuevo hilo.</li>
<li><code>handle.join()</code> asegura que el hilo principal espere a que el hilo creado termine.</li>
</ul>
</li>
</ul>
</div><h1>Seguridad de Hilos con `Mutex` y `Arc`</h1>
<div class='content'><p>Cuando múltiples hilos necesitan acceder a datos compartidos, Rust proporciona <code>Mutex</code> (Exclusión Mutua) y <code>Arc</code> (Conteo de Referencias Atómicas) para asegurar la seguridad de los hilos.</p>
</div><h2>Usando `Mutex`</h2>
<div class='content'><p>Un <code>Mutex</code> permite que solo un hilo acceda a los datos a la vez.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0ZDo6c3luYzo6e011dGV4LCBBcmN9Owp1c2Ugc3RkOjp0aHJlYWQ7CgpmbiBtYWluKCkgewogICAgbGV0IGNvdW50ZXIgPSBBcmM6Om5ldyhNdXRleDo6bmV3KDApKTsKICAgIGxldCBtdXQgaGFuZGxlcyA9IHZlYyFbXTsKCiAgICBmb3IgXyBpbiAwLi4xMCB7CiAgICAgICAgbGV0IGNvdW50ZXIgPSBBcmM6OmNsb25lKCZjb3VudGVyKTsKICAgICAgICBsZXQgaGFuZGxlID0gdGhyZWFkOjpzcGF3bihtb3ZlIHx8IHsKICAgICAgICAgICAgbGV0IG11dCBudW0gPSBjb3VudGVyLmxvY2soKS51bndyYXAoKTsKICAgICAgICAgICAgKm51bSArPSAxOwogICAgICAgIH0pOwogICAgICAgIGhhbmRsZXMucHVzaChoYW5kbGUpOwogICAgfQoKICAgIGZvciBoYW5kbGUgaW4gaGFuZGxlcyB7CiAgICAgICAgaGFuZGxlLmpvaW4oKS51bndyYXAoKTsKICAgIH0KCiAgICBwcmludGxuISgiUmVzdWx0YWRvOiB7fSIsICpjb3VudGVyLmxvY2soKS51bndyYXAoKSk7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use std::sync::{Mutex, Arc};
use std::thread;

fn main() {
    let counter = Arc::new(Mutex::new(0));
    let mut handles = vec![];

    for _ in 0..10 {
        let counter = Arc::clone(&amp;counter);
        let handle = thread::spawn(move || {
            let mut num = counter.lock().unwrap();
            *num += 1;
        });
        handles.push(handle);
    }

    for handle in handles {
        handle.join().unwrap();
    }

    println!(&quot;Resultado: {}&quot;, *counter.lock().unwrap());
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>Arc</code> permite la propiedad múltiple del <code>Mutex</code>.</li>
<li><code>Mutex::lock</code> bloquea los datos para el hilo actual.</li>
<li><code>Arc::clone</code> crea una referencia al <code>Mutex</code> envuelto en <code>Arc</code>.</li>
</ul>
</li>
</ul>
</div><h1>Gestión Avanzada de Hilos</h1>
<div class='content'><p>Rust proporciona características más avanzadas para la gestión de hilos, como canales para la comunicación entre hilos.</p>
</div><h2>Usando Canales</h2>
<div class='content'><p>Los canales permiten que los hilos se comuniquen enviando mensajes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0ZDo6c3luYzo6bXBzYzsKdXNlIHN0ZDo6dGhyZWFkOwp1c2Ugc3RkOjp0aW1lOjpEdXJhdGlvbjsKCmZuIG1haW4oKSB7CiAgICBsZXQgKHR4LCByeCkgPSBtcHNjOjpjaGFubmVsKCk7CgogICAgdGhyZWFkOjpzcGF3bihtb3ZlIHx8IHsKICAgICAgICBsZXQgdmFsID0gU3RyaW5nOjpmcm9tKCJob2xhIik7CiAgICAgICAgdHguc2VuZCh2YWwpLnVud3JhcCgpOwogICAgfSk7CgogICAgbGV0IHJlY2liaWRvID0gcngucmVjdigpLnVud3JhcCgpOwogICAgcHJpbnRsbiEoIlJlY2liaWRvOiB7fSIsIHJlY2liaWRvKTsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use std::sync::mpsc;
use std::thread;
use std::time::Duration;

fn main() {
    let (tx, rx) = mpsc::channel();

    thread::spawn(move || {
        let val = String::from(&quot;hola&quot;);
        tx.send(val).unwrap();
    });

    let recibido = rx.recv().unwrap();
    println!(&quot;Recibido: {}&quot;, recibido);
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>mpsc::channel</code> crea un transmisor (<code>tx</code>) y un receptor (<code>rx</code>).</li>
<li><code>tx.send</code> envía datos al canal.</li>
<li><code>rx.recv</code> recibe datos del canal.</li>
</ul>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Los hilos en Rust proporcionan herramientas poderosas para la programación concurrente mientras aseguran seguridad y rendimiento. Usando <code>thread::spawn</code>, <code>Mutex</code>, <code>Arc</code> y canales, puedes crear aplicaciones multi-hilo eficientes y seguras. Entender estos conceptos es crucial para desarrollar programas robustos en Rust que aprovechen todo el potencial de los procesadores modernos multi-núcleo.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='generics'>&#x25C4;Genéricos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Hilos en Rust</a>
	</div>
	<div class='col-4 text-end'>
					<a href='message-passing'>Paso de Mensajes &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
