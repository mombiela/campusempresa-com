<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas</title>

    <link rel="alternate" href="https://campusempresa.com/mod/rust/10-02-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/rust/10-02-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/rust/10-02-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/rust/10-02-testing" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/rust/10-02-testing" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='10-01-building-project' title="Construyendo un Proyecto">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Pruebas</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='10-03-documentation' title="Documentación">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Las pruebas son una parte esencial del desarrollo de software, ya que aseguran que el código funcione como se espera y ayuda a prevenir errores en el futuro. Rust proporciona un marco de pruebas integrado que facilita la creación y ejecución de pruebas. En esta sección, aprenderemos cómo escribir y ejecutar pruebas en Rust.</p>
</div><h1>Contenido</h1>
<div class='content'><ol>
<li><a href="#introducción-a-las-pruebas-en-rust">Introducción a las Pruebas en Rust</a></li>
<li><a href="#escribiendo-pruebas">Escribiendo Pruebas</a></li>
<li><a href="#organización-de-pruebas">Organización de Pruebas</a></li>
<li><a href="#pruebas-de-integración">Pruebas de Integración</a></li>
<li><a href="#ejecutando-pruebas">Ejecutando Pruebas</a></li>
<li><a href="#errores-comunes-y-consejos">Errores Comunes y Consejos</a></li>
<li><a href="#ejercicios-prácticos">Ejercicios Prácticos</a></li>
</ol>
</div><h1>Introducción a las Pruebas en Rust</h1>
<div class='content'><p>Rust incluye un marco de pruebas en su herramienta de construcción <code>cargo</code>. Las pruebas se escriben en el mismo archivo que el código fuente o en archivos separados y se ejecutan usando el comando <code>cargo test</code>.</p>
</div><h2>Tipos de Pruebas</h2>
<div class='content'><ul>
<li><strong>Pruebas Unitarias</strong>: Verifican el comportamiento de funciones individuales.</li>
<li><strong>Pruebas de Integración</strong>: Verifican cómo interactúan varias partes del código.</li>
</ul>
</div><h1>Escribiendo Pruebas</h1>
<div class='content'><p>Las pruebas en Rust se definen usando la macro <code>#[test]</code>. Aquí hay un ejemplo básico:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2xpYi5ycwoKcHViIGZuIHN1bWEoYTogaTMyLCBiOiBpMzIpIC0+IGkzMiB7CiAgICBhICsgYgp9CgojW2NmZyh0ZXN0KV0KbW9kIHRlc3RzIHsKICAgIHVzZSBzdXBlcjo6KjsKCiAgICAjW3Rlc3RdCiAgICBmbiB0ZXN0X3N1bWEoKSB7CiAgICAgICAgYXNzZXJ0X2VxIShzdW1hKDIsIDIpLCA0KTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/lib.rs

pub fn suma(a: i32, b: i32) -&gt; i32 {
    a + b
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_suma() {
        assert_eq!(suma(2, 2), 4);
    }
}</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ul>
<li><code>#[cfg(test)]</code>: Indica que el módulo <code>tests</code> solo debe compilarse cuando se ejecutan las pruebas.</li>
<li><code>mod tests</code>: Define un módulo de pruebas.</li>
<li><code>use super::*;</code>: Importa todas las funciones y estructuras del módulo padre.</li>
<li><code>#[test]</code>: Marca una función como una prueba.</li>
<li><code>assert_eq!</code>: Macro que verifica que dos valores sean iguales.</li>
</ul>
</div><h1>Organización de Pruebas</h1>
<div class='content'><p>Las pruebas unitarias suelen colocarse en el mismo archivo que el código fuente, mientras que las pruebas de integración se colocan en el directorio <code>tests</code>.</p>
</div><h2>Ejemplo de Pruebas Unitarias</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2xpYi5ycwoKcHViIGZuIHJlc3RhKGE6IGkzMiwgYjogaTMyKSAtPiBpMzIgewogICAgYSAtIGIKfQoKI1tjZmcodGVzdCldCm1vZCB0ZXN0cyB7CiAgICB1c2Ugc3VwZXI6Oio7CgogICAgI1t0ZXN0XQogICAgZm4gdGVzdF9yZXN0YSgpIHsKICAgICAgICBhc3NlcnRfZXEhKHJlc3RhKDUsIDMpLCAyKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/lib.rs

pub fn resta(a: i32, b: i32) -&gt; i32 {
    a - b
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_resta() {
        assert_eq!(resta(5, 3), 2);
    }
}</pre></div><div class='content'></div><h2>Ejemplo de Pruebas de Integración</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gdGVzdHMvaW50ZWdyYXRpb25fdGVzdC5ycwoKZXh0ZXJuIGNyYXRlIG15X2NyYXRlOwoKI1t0ZXN0XQpmbiB0ZXN0X3N1bWFfaW50ZWdyYXRpb24oKSB7CiAgICBhc3NlcnRfZXEhKG15X2NyYXRlOjpzdW1hKDIsIDMpLCA1KTsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// tests/integration_test.rs

extern crate my_crate;

#[test]
fn test_suma_integration() {
    assert_eq!(my_crate::suma(2, 3), 5);
}</pre></div><div class='content'></div><h1>Pruebas de Integración</h1>
<div class='content'><p>Las pruebas de integración se colocan en el directorio <code>tests</code> y cada archivo en este directorio es un módulo separado. Estas pruebas verifican cómo interactúan diferentes partes del código.</p>
</div><h2>Ejemplo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gdGVzdHMvaW50ZWdyYXRpb25fdGVzdC5ycwoKZXh0ZXJuIGNyYXRlIG15X2NyYXRlOwoKI1t0ZXN0XQpmbiB0ZXN0X3Jlc3RhX2ludGVncmF0aW9uKCkgewogICAgYXNzZXJ0X2VxIShteV9jcmF0ZTo6cmVzdGEoMTAsIDQpLCA2KTsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// tests/integration_test.rs

extern crate my_crate;

#[test]
fn test_resta_integration() {
    assert_eq!(my_crate::resta(10, 4), 6);
}</pre></div><div class='content'></div><h1>Ejecutando Pruebas</h1>
<div class='content'><p>Para ejecutar todas las pruebas, usa el comando:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2FyZ28gdGVzdA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>cargo test</pre></div><div class='content'><p>Este comando compilará el código y ejecutará todas las pruebas definidas.</p>
</div><h2>Salida de Ejemplo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cnVubmluZyAyIHRlc3RzCnRlc3QgdGVzdHM6OnRlc3Rfc3VtYSAuLi4gb2sKdGVzdCB0ZXN0czo6dGVzdF9yZXN0YSAuLi4gb2sKCnRlc3QgcmVzdWx0OiBvay4gMiBwYXNzZWQ7IDAgZmFpbGVkOyAwIGlnbm9yZWQ7IDAgbWVhc3VyZWQ7IDAgZmlsdGVyZWQgb3V0"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>running 2 tests
test tests::test_suma ... ok
test tests::test_resta ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out</pre></div><div class='content'></div><h1>Errores Comunes y Consejos</h1>
<div class='content'></div><h2>Errores Comunes</h2>
<div class='content'><ul>
<li><strong>No usar <code>#[cfg(test)]</code></strong>: Esto puede hacer que el código de prueba se compile en la versión de producción.</li>
<li><strong>No importar correctamente</strong>: Asegúrate de usar <code>use super::*;</code> para importar funciones y estructuras del módulo padre.</li>
</ul>
</div><h2>Consejos</h2>
<div class='content'><ul>
<li><strong>Escribe pruebas pequeñas y específicas</strong>: Esto facilita la identificación de errores.</li>
<li><strong>Usa <code>assert!</code> y <code>assert_eq!</code></strong>: Estas macros son útiles para verificar condiciones y valores esperados.</li>
<li><strong>Ejecuta pruebas frecuentemente</strong>: Esto ayuda a detectar errores temprano en el proceso de desarrollo.</li>
</ul>
</div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Prueba de Función de Multiplicación</h2>
<div class='content'><p>Escribe una función <code>multiplica</code> que multiplique dos números y una prueba para verificar su funcionamiento.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2xpYi5ycwoKcHViIGZuIG11bHRpcGxpY2EoYTogaTMyLCBiOiBpMzIpIC0+IGkzMiB7CiAgICBhICogYgp9CgojW2NmZyh0ZXN0KV0KbW9kIHRlc3RzIHsKICAgIHVzZSBzdXBlcjo6KjsKCiAgICAjW3Rlc3RdCiAgICBmbiB0ZXN0X211bHRpcGxpY2EoKSB7CiAgICAgICAgYXNzZXJ0X2VxIShtdWx0aXBsaWNhKDMsIDQpLCAxMik7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/lib.rs

pub fn multiplica(a: i32, b: i32) -&gt; i32 {
    a * b
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_multiplica() {
        assert_eq!(multiplica(3, 4), 12);
    }
}</pre></div><div class='content'></div><h2>Ejercicio 2: Prueba de Función de División</h2>
<div class='content'><p>Escribe una función <code>divide</code> que divida dos números y una prueba para verificar su funcionamiento. Asegúrate de manejar la división por cero.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2xpYi5ycwoKcHViIGZuIGRpdmlkZShhOiBpMzIsIGI6IGkzMikgLT4gT3B0aW9uPGkzMj4gewogICAgaWYgYiA9PSAwIHsKICAgICAgICBOb25lCiAgICB9IGVsc2UgewogICAgICAgIFNvbWUoYSAvIGIpCiAgICB9Cn0KCiNbY2ZnKHRlc3QpXQptb2QgdGVzdHMgewogICAgdXNlIHN1cGVyOjoqOwoKICAgICNbdGVzdF0KICAgIGZuIHRlc3RfZGl2aWRlKCkgewogICAgICAgIGFzc2VydF9lcSEoZGl2aWRlKDEwLCAyKSwgU29tZSg1KSk7CiAgICAgICAgYXNzZXJ0X2VxIShkaXZpZGUoMTAsIDApLCBOb25lKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/lib.rs

pub fn divide(a: i32, b: i32) -&gt; Option&lt;i32&gt; {
    if b == 0 {
        None
    } else {
        Some(a / b)
    }
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_divide() {
        assert_eq!(divide(10, 2), Some(5));
        assert_eq!(divide(10, 0), None);
    }
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos aprendido cómo escribir y ejecutar pruebas en Rust. Hemos cubierto tanto las pruebas unitarias como las pruebas de integración, y hemos visto cómo organizar nuestras pruebas de manera efectiva. Las pruebas son una herramienta poderosa para asegurar la calidad del código y deben ser una parte integral de cualquier proyecto de software.</p>
<p>En el siguiente tema, exploraremos cómo documentar nuestro código de manera efectiva para que sea fácil de entender y mantener.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='10-01-building-project' title="Construyendo un Proyecto">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='10-03-documentation' title="Documentación">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
