<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revisión y Refactorización de Código en PL/SQL</title>

    <link rel="alternate" href="https://campusempresa.com/mod/plsql/code-review-refactoring" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/plsql/code-review-refactoring" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/plsql/code-review-refactoring" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/plsql/code-review-refactoring" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/plsql/code-review-refactoring" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/plsql/code-review-refactoring">https://enterprisecampus.net/mod/plsql/code-review-refactoring</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='error-handling-best-practices'>&#x25C4;Mejores Prácticas para el Manejo de Errores</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Revisión y Refactorización de Código en PL/SQL</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-simple-application'>Construyendo una Aplicación Simple &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>La revisión y refactorización de código son prácticas esenciales en el desarrollo de software que garantizan la calidad, mantenibilidad y rendimiento del código. En esta sección, exploraremos la importancia de estas prácticas en PL/SQL, proporcionaremos pautas para realizar revisiones de código efectivas y demostraremos técnicas para refactorizar código PL/SQL.</p>
</div><h1>Importancia de la Revisión y Refactorización de Código</h1>
<div class='content'><ul>
<li><strong>Calidad del Código</strong>: Asegura que el código se adhiera a las mejores prácticas y estándares.</li>
<li><strong>Mantenibilidad</strong>: Facilita la comprensión y modificación del código.</li>
<li><strong>Rendimiento</strong>: Identifica y resuelve cuellos de botella en el rendimiento.</li>
<li><strong>Detección de Errores</strong>: Detecta errores y posibles problemas temprano en el proceso de desarrollo.</li>
<li><strong>Compartición de Conocimientos</strong>: Facilita el aprendizaje y la transferencia de conocimientos entre los miembros del equipo.</li>
</ul>
</div><h1>Realización de Revisiones de Código</h1>
<h2>Pautas para Revisiones de Código Efectivas</h2>
<div class='content'><ul>
<li><strong>Consistencia</strong>: Asegúrese de que el código siga los estándares de codificación del proyecto.</li>
<li><strong>Legibilidad</strong>: El código debe ser fácil de leer y entender.</li>
<li><strong>Funcionalidad</strong>: Verifique que el código funcione como se espera y cumpla con los requisitos.</li>
<li><strong>Rendimiento</strong>: Revise el uso eficiente de los recursos y el rendimiento óptimo.</li>
<li><strong>Seguridad</strong>: Identifique y aborde posibles vulnerabilidades de seguridad.</li>
</ul>
</div><h2>Lista de Verificación para la Revisión de Código</h2>
<div class='content'><ul>
<li><strong>Convenciones de Nombres</strong>: ¿Están las variables, procedimientos y funciones nombrados apropiadamente?</li>
<li><strong>Comentarios y Documentación</strong>: ¿Está el código adecuadamente comentado y documentado?</li>
<li><strong>Manejo de Errores</strong>: ¿Se manejan correctamente las excepciones y errores?</li>
<li><strong>Optimización de SQL</strong>: ¿Están las consultas SQL optimizadas para el rendimiento?</li>
<li><strong>Duplicación de Código</strong>: ¿Hay algún código redundante o duplicado?</li>
</ul>
</div><h2>Ejemplo de Revisión de Código</h2>
<div class='content'><p>Considere el siguiente procedimiento PL/SQL:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIE9SIFJFUExBQ0UgUFJPQ0VEVVJFIGNhbGN1bGF0ZV9ib251cyAoZW1wX2lkIElOIE5VTUJFUikgSVMKICB2X3NhbGFyeSBOVU1CRVI7CiAgdl9ib251cyBOVU1CRVI7CkJFR0lOCiAgU0VMRUNUIHNhbGFyeSBJTlRPIHZfc2FsYXJ5IEZST00gZW1wbG95ZWVzIFdIRVJFIGVtcGxveWVlX2lkID0gZW1wX2lkOwogIElGIHZfc2FsYXJ5IDwgNTAwMCBUSEVOCiAgICB2X2JvbnVzIDo9IHZfc2FsYXJ5ICogMC4xMDsKICBFTFNFCiAgICB2X2JvbnVzIDo9IHZfc2FsYXJ5ICogMC4wNTsKICBFTkQgSUY7CiAgVVBEQVRFIGVtcGxveWVlcyBTRVQgYm9udXMgPSB2X2JvbnVzIFdIRVJFIGVtcGxveWVlX2lkID0gZW1wX2lkOwpFTkQ7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE OR REPLACE PROCEDURE calculate_bonus (emp_id IN NUMBER) IS
  v_salary NUMBER;
  v_bonus NUMBER;
BEGIN
  SELECT salary INTO v_salary FROM employees WHERE employee_id = emp_id;
  IF v_salary &lt; 5000 THEN
    v_bonus := v_salary * 0.10;
  ELSE
    v_bonus := v_salary * 0.05;
  END IF;
  UPDATE employees SET bonus = v_bonus WHERE employee_id = emp_id;
END;</pre></div><div class='content'><p><strong>Puntos de Revisión:</strong></p>
<ul>
<li><strong>Convenciones de Nombres</strong>: Los nombres de las variables son claros y descriptivos.</li>
<li><strong>Comentarios</strong>: El procedimiento carece de comentarios que expliquen su propósito y lógica.</li>
<li><strong>Manejo de Errores</strong>: No hay manejo de excepciones en caso de que la declaración <code>SELECT</code> falle.</li>
<li><strong>Optimización de SQL</strong>: Las declaraciones <code>SELECT</code> y <code>UPDATE</code> son directas, pero debemos asegurarnos de que se utilicen índices en <code>employee_id</code>.</li>
</ul>
</div><h1>Refactorización de Código PL/SQL</h1>
<h2>Técnicas Comunes de Refactorización</h2>
<div class='content'><ul>
<li><strong>Extraer Procedimiento</strong>: Divida procedimientos grandes en procedimientos más pequeños y reutilizables.</li>
<li><strong>Renombrar Variables</strong>: Use nombres significativos para las variables para mejorar la legibilidad.</li>
<li><strong>Eliminar Código Redundante</strong>: Elimine el código duplicado o innecesario.</li>
<li><strong>Optimizar Declaraciones SQL</strong>: Reescriba las consultas SQL para mejorar el rendimiento.</li>
<li><strong>Agregar Manejo de Errores</strong>: Implemente un manejo adecuado de excepciones.</li>
</ul>
</div><h2>Ejemplo de Refactorización</h2>
<div class='content'><p>Refactorice el ejemplo anterior para mejorar la legibilidad y agregar manejo de errores:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIE9SIFJFUExBQ0UgUFJPQ0VEVVJFIGNhbGN1bGF0ZV9ib251cyAoZW1wX2lkIElOIE5VTUJFUikgSVMKICB2X3NhbGFyeSBOVU1CRVI7CiAgdl9ib251cyBOVU1CRVI7CgogIFBST0NFRFVSRSBnZXRfc2FsYXJ5KHBfZW1wX2lkIElOIE5VTUJFUiwgcF9zYWxhcnkgT1VUIE5VTUJFUikgSVMKICBCRUdJTgogICAgU0VMRUNUIHNhbGFyeSBJTlRPIHBfc2FsYXJ5IEZST00gZW1wbG95ZWVzIFdIRVJFIGVtcGxveWVlX2lkID0gcF9lbXBfaWQ7CiAgRVhDRVBUSU9OCiAgICBXSEVOIE5PX0RBVEFfRk9VTkQgVEhFTgogICAgICBwX3NhbGFyeSA6PSAwOwogIEVORCBnZXRfc2FsYXJ5OwoKICBQUk9DRURVUkUgdXBkYXRlX2JvbnVzKHBfZW1wX2lkIElOIE5VTUJFUiwgcF9ib251cyBJTiBOVU1CRVIpIElTCiAgQkVHSU4KICAgIFVQREFURSBlbXBsb3llZXMgU0VUIGJvbnVzID0gcF9ib251cyBXSEVSRSBlbXBsb3llZV9pZCA9IHBfZW1wX2lkOwogIEVORCB1cGRhdGVfYm9udXM7CgpCRUdJTgogIGdldF9zYWxhcnkoZW1wX2lkLCB2X3NhbGFyeSk7CiAgSUYgdl9zYWxhcnkgPCA1MDAwIFRIRU4KICAgIHZfYm9udXMgOj0gdl9zYWxhcnkgKiAwLjEwOwogIEVMU0UKICAgIHZfYm9udXMgOj0gdl9zYWxhcnkgKiAwLjA1OwogIEVORCBJRjsKICB1cGRhdGVfYm9udXMoZW1wX2lkLCB2X2JvbnVzKTsKRU5EOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE OR REPLACE PROCEDURE calculate_bonus (emp_id IN NUMBER) IS
  v_salary NUMBER;
  v_bonus NUMBER;

  PROCEDURE get_salary(p_emp_id IN NUMBER, p_salary OUT NUMBER) IS
  BEGIN
    SELECT salary INTO p_salary FROM employees WHERE employee_id = p_emp_id;
  EXCEPTION
    WHEN NO_DATA_FOUND THEN
      p_salary := 0;
  END get_salary;

  PROCEDURE update_bonus(p_emp_id IN NUMBER, p_bonus IN NUMBER) IS
  BEGIN
    UPDATE employees SET bonus = p_bonus WHERE employee_id = p_emp_id;
  END update_bonus;

BEGIN
  get_salary(emp_id, v_salary);
  IF v_salary &lt; 5000 THEN
    v_bonus := v_salary * 0.10;
  ELSE
    v_bonus := v_salary * 0.05;
  END IF;
  update_bonus(emp_id, v_bonus);
END;</pre></div><div class='content'><p><strong>Mejoras:</strong></p>
<ul>
<li><strong>Extraer Procedimiento</strong>: Los procedimientos <code>get_salary</code> y <code>update_bonus</code> encapsulan tareas específicas.</li>
<li><strong>Manejo de Errores</strong>: El procedimiento <code>get_salary</code> incluye manejo de excepciones para <code>NO_DATA_FOUND</code>.</li>
<li><strong>Legibilidad</strong>: El procedimiento principal ahora es más legible y fácil de entender.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>La revisión y refactorización de código son prácticas críticas para mantener un código PL/SQL de alta calidad. Siguiendo pautas estructuradas y empleando técnicas comunes de refactorización, los desarrolladores pueden asegurar que su código sea eficiente, mantenible y libre de errores. Las revisiones de código regulares y la refactorización continua contribuyen a la salud y rendimiento general del código, fomentando una cultura de excelencia y colaboración dentro de los equipos de desarrollo.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='error-handling-best-practices'>&#x25C4;Mejores Prácticas para el Manejo de Errores</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Revisión y Refactorización de Código en PL/SQL</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-simple-application'>Construyendo una Aplicación Simple &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
