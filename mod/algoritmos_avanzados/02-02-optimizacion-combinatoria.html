<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algoritmos de Optimización Combinatoria</title>

    <link rel="alternate" href="https://campusempresa.com/mod/algoritmos_avanzados/02-02-optimizacion-combinatoria" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/algoritmos_avanzados/02-02-optimitzacio-combinatoria" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/algoritmos_avanzados/02-02-combinatorial-optimization" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/algoritmos_avanzados/02-02-combinatorial-optimization" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/algoritmos_avanzados/02-02-optimitzacio-combinatoria" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-01-programacion-lineal' title="Programación Lineal">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Algoritmos de Optimización Combinatoria</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='02-03-algoritmos-geneticos' title="Algoritmos Genéticos">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1><p>Introducción</p>
</h1>
<div class='content'><p>La optimización combinatoria es una rama de la optimización matemática que se centra en problemas donde el objetivo es encontrar el mejor objeto de un conjunto finito de objetos. Estos problemas son comunes en diversas áreas como la logística, la planificación, las redes y la bioinformática. En este tema, exploraremos varias técnicas y algoritmos utilizados para resolver problemas de optimización combinatoria.</p>
</div><h1><p>Conceptos Clave</p>
</h1>
<div class='content'><ol>
<li><strong>Problema de Optimización Combinatoria</strong>: Un problema donde se busca encontrar el mejor objeto (solución) de un conjunto finito de objetos.</li>
<li><strong>Espacio de Soluciones</strong>: El conjunto de todas las posibles soluciones de un problema.</li>
<li><strong>Función Objetivo</strong>: Una función que asigna un valor a cada solución en el espacio de soluciones, indicando su calidad.</li>
<li><strong>Restricciones</strong>: Condiciones que deben cumplir las soluciones válidas.</li>
</ol>
</div><h1><p>Algoritmos Clásicos</p>
</h1>
<div class='content'></div><h2><ol>
<li>Algoritmo de Fuerza Bruta</li>
</ol>
</h2>
<div class='content'><p>El algoritmo de fuerza bruta evalúa todas las posibles soluciones y selecciona la mejor. Aunque es simple y garantiza encontrar la solución óptima, es ineficiente para problemas grandes debido a su complejidad exponencial.</p>
<h4>Ejemplo: Problema del Viajante (TSP)</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBpdGVydG9vbHMgaW1wb3J0IHBlcm11dGF0aW9ucwoKZGVmIGNhbGN1bGF0ZV9kaXN0YW5jZShwYXRoLCBkaXN0YW5jZV9tYXRyaXgpOgogICAgcmV0dXJuIHN1bShkaXN0YW5jZV9tYXRyaXhbcGF0aFtpXV1bcGF0aFtpICsgMV1dIGZvciBpIGluIHJhbmdlKGxlbihwYXRoKSAtIDEpKQoKZGVmIHRzcF9icnV0ZV9mb3JjZShkaXN0YW5jZV9tYXRyaXgpOgogICAgbiA9IGxlbihkaXN0YW5jZV9tYXRyaXgpCiAgICBhbGxfcGVybXV0YXRpb25zID0gcGVybXV0YXRpb25zKHJhbmdlKG4pKQogICAgbWluX2Rpc3RhbmNlID0gZmxvYXQoJ2luZicpCiAgICBiZXN0X3BhdGggPSBOb25lCiAgICBmb3IgcGVybSBpbiBhbGxfcGVybXV0YXRpb25zOgogICAgICAgIGN1cnJlbnRfZGlzdGFuY2UgPSBjYWxjdWxhdGVfZGlzdGFuY2UocGVybSArIChwZXJtWzBdLCksIGRpc3RhbmNlX21hdHJpeCkKICAgICAgICBpZiBjdXJyZW50X2Rpc3RhbmNlIDwgbWluX2Rpc3RhbmNlOgogICAgICAgICAgICBtaW5fZGlzdGFuY2UgPSBjdXJyZW50X2Rpc3RhbmNlCiAgICAgICAgICAgIGJlc3RfcGF0aCA9IHBlcm0KICAgIHJldHVybiBiZXN0X3BhdGgsIG1pbl9kaXN0YW5jZQoKIyBFamVtcGxvIGRlIHVzbwpkaXN0YW5jZV9tYXRyaXggPSBbCiAgICBbMCwgMTAsIDE1LCAyMF0sCiAgICBbMTAsIDAsIDM1LCAyNV0sCiAgICBbMTUsIDM1LCAwLCAzMF0sCiAgICBbMjAsIDI1LCAzMCwgMF0KXQpiZXN0X3BhdGgsIG1pbl9kaXN0YW5jZSA9IHRzcF9icnV0ZV9mb3JjZShkaXN0YW5jZV9tYXRyaXgpCnByaW50KGYiTWVqb3IgcnV0YToge2Jlc3RfcGF0aH0sIERpc3RhbmNpYSBtw61uaW1hOiB7bWluX2Rpc3RhbmNlfSIp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from itertools import permutations

def calculate_distance(path, distance_matrix):
    return sum(distance_matrix[path[i]][path[i + 1]] for i in range(len(path) - 1))

def tsp_brute_force(distance_matrix):
    n = len(distance_matrix)
    all_permutations = permutations(range(n))
    min_distance = float('inf')
    best_path = None
    for perm in all_permutations:
        current_distance = calculate_distance(perm + (perm[0],), distance_matrix)
        if current_distance &lt; min_distance:
            min_distance = current_distance
            best_path = perm
    return best_path, min_distance

# Ejemplo de uso
distance_matrix = [
    [0, 10, 15, 20],
    [10, 0, 35, 25],
    [15, 35, 0, 30],
    [20, 25, 30, 0]
]
best_path, min_distance = tsp_brute_force(distance_matrix)
print(f&quot;Mejor ruta: {best_path}, Distancia m&iacute;nima: {min_distance}&quot;)</pre></div><div class='content'></div><h2><ol start="2">
<li>Algoritmo de Ramificación y Poda (Branch and Bound)</li>
</ol>
</h2>
<div class='content'><p>Este algoritmo explora el espacio de soluciones de manera más eficiente que la fuerza bruta, utilizando una estructura de árbol y podando ramas que no pueden contener la solución óptima.</p>
<h4>Ejemplo: Problema de la Mochila (Knapsack)</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGtuYXBzYWNrX2JyYW5jaF9hbmRfYm91bmQod2VpZ2h0cywgdmFsdWVzLCBjYXBhY2l0eSk6CiAgICBuID0gbGVuKHdlaWdodHMpCiAgICBtYXhfdmFsdWUgPSAwCiAgICBiZXN0X2NvbWJpbmF0aW9uID0gW10KCiAgICBkZWYgYm91bmQoaSwgY3VycmVudF93ZWlnaHQsIGN1cnJlbnRfdmFsdWUpOgogICAgICAgIGlmIGN1cnJlbnRfd2VpZ2h0ID49IGNhcGFjaXR5OgogICAgICAgICAgICByZXR1cm4gMAogICAgICAgIHVwcGVyX2JvdW5kID0gY3VycmVudF92YWx1ZQogICAgICAgIHRvdGFsX3dlaWdodCA9IGN1cnJlbnRfd2VpZ2h0CiAgICAgICAgZm9yIGogaW4gcmFuZ2UoaSwgbik6CiAgICAgICAgICAgIGlmIHRvdGFsX3dlaWdodCArIHdlaWdodHNbal0gPD0gY2FwYWNpdHk6CiAgICAgICAgICAgICAgICB0b3RhbF93ZWlnaHQgKz0gd2VpZ2h0c1tqXQogICAgICAgICAgICAgICAgdXBwZXJfYm91bmQgKz0gdmFsdWVzW2pdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB1cHBlcl9ib3VuZCArPSAoY2FwYWNpdHkgLSB0b3RhbF93ZWlnaHQpICogdmFsdWVzW2pdIC8gd2VpZ2h0c1tqXQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICByZXR1cm4gdXBwZXJfYm91bmQKCiAgICBkZWYgYnJhbmNoX2FuZF9ib3VuZChpLCBjdXJyZW50X3dlaWdodCwgY3VycmVudF92YWx1ZSwgY3VycmVudF9jb21iaW5hdGlvbik6CiAgICAgICAgbm9ubG9jYWwgbWF4X3ZhbHVlLCBiZXN0X2NvbWJpbmF0aW9uCiAgICAgICAgaWYgaSA9PSBuOgogICAgICAgICAgICBpZiBjdXJyZW50X3ZhbHVlID4gbWF4X3ZhbHVlOgogICAgICAgICAgICAgICAgbWF4X3ZhbHVlID0gY3VycmVudF92YWx1ZQogICAgICAgICAgICAgICAgYmVzdF9jb21iaW5hdGlvbiA9IGN1cnJlbnRfY29tYmluYXRpb25bOl0KICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgY3VycmVudF93ZWlnaHQgKyB3ZWlnaHRzW2ldIDw9IGNhcGFjaXR5OgogICAgICAgICAgICBjdXJyZW50X2NvbWJpbmF0aW9uLmFwcGVuZChpKQogICAgICAgICAgICBicmFuY2hfYW5kX2JvdW5kKGkgKyAxLCBjdXJyZW50X3dlaWdodCArIHdlaWdodHNbaV0sIGN1cnJlbnRfdmFsdWUgKyB2YWx1ZXNbaV0sIGN1cnJlbnRfY29tYmluYXRpb24pCiAgICAgICAgICAgIGN1cnJlbnRfY29tYmluYXRpb24ucG9wKCkKICAgICAgICBpZiBib3VuZChpICsgMSwgY3VycmVudF93ZWlnaHQsIGN1cnJlbnRfdmFsdWUpID4gbWF4X3ZhbHVlOgogICAgICAgICAgICBicmFuY2hfYW5kX2JvdW5kKGkgKyAxLCBjdXJyZW50X3dlaWdodCwgY3VycmVudF92YWx1ZSwgY3VycmVudF9jb21iaW5hdGlvbikKCiAgICBicmFuY2hfYW5kX2JvdW5kKDAsIDAsIDAsIFtdKQogICAgcmV0dXJuIGJlc3RfY29tYmluYXRpb24sIG1heF92YWx1ZQoKIyBFamVtcGxvIGRlIHVzbwp3ZWlnaHRzID0gWzIsIDMsIDQsIDVdCnZhbHVlcyA9IFszLCA0LCA1LCA2XQpjYXBhY2l0eSA9IDUKYmVzdF9jb21iaW5hdGlvbiwgbWF4X3ZhbHVlID0ga25hcHNhY2tfYnJhbmNoX2FuZF9ib3VuZCh3ZWlnaHRzLCB2YWx1ZXMsIGNhcGFjaXR5KQpwcmludChmIk1lam9yIGNvbWJpbmFjacOzbjoge2Jlc3RfY29tYmluYXRpb259LCBWYWxvciBtw6F4aW1vOiB7bWF4X3ZhbHVlfSIp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def knapsack_branch_and_bound(weights, values, capacity):
    n = len(weights)
    max_value = 0
    best_combination = []

    def bound(i, current_weight, current_value):
        if current_weight &gt;= capacity:
            return 0
        upper_bound = current_value
        total_weight = current_weight
        for j in range(i, n):
            if total_weight + weights[j] &lt;= capacity:
                total_weight += weights[j]
                upper_bound += values[j]
            else:
                upper_bound += (capacity - total_weight) * values[j] / weights[j]
                break
        return upper_bound

    def branch_and_bound(i, current_weight, current_value, current_combination):
        nonlocal max_value, best_combination
        if i == n:
            if current_value &gt; max_value:
                max_value = current_value
                best_combination = current_combination[:]
            return
        if current_weight + weights[i] &lt;= capacity:
            current_combination.append(i)
            branch_and_bound(i + 1, current_weight + weights[i], current_value + values[i], current_combination)
            current_combination.pop()
        if bound(i + 1, current_weight, current_value) &gt; max_value:
            branch_and_bound(i + 1, current_weight, current_value, current_combination)

    branch_and_bound(0, 0, 0, [])
    return best_combination, max_value

# Ejemplo de uso
weights = [2, 3, 4, 5]
values = [3, 4, 5, 6]
capacity = 5
best_combination, max_value = knapsack_branch_and_bound(weights, values, capacity)
print(f&quot;Mejor combinaci&oacute;n: {best_combination}, Valor m&aacute;ximo: {max_value}&quot;)</pre></div><div class='content'></div><h2><ol start="3">
<li>Algoritmo de Recocido Simulado (Simulated Annealing)</li>
</ol>
</h2>
<div class='content'><p>Este algoritmo es una técnica probabilística para aproximar la solución óptima de un problema. Se basa en el proceso de recocido en metalurgia, donde un material se calienta y luego se enfría lentamente para eliminar defectos.</p>
<h4>Ejemplo: Problema del Viajante (TSP)</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJhbmRvbQppbXBvcnQgbWF0aAoKZGVmIHRzcF9zaW11bGF0ZWRfYW5uZWFsaW5nKGRpc3RhbmNlX21hdHJpeCwgaW5pdGlhbF90ZW1wLCBjb29saW5nX3JhdGUpOgogICAgZGVmIGNhbGN1bGF0ZV9kaXN0YW5jZShwYXRoKToKICAgICAgICByZXR1cm4gc3VtKGRpc3RhbmNlX21hdHJpeFtwYXRoW2ldXVtwYXRoW2kgKyAxXV0gZm9yIGkgaW4gcmFuZ2UobGVuKHBhdGgpIC0gMSkpCgogICAgZGVmIGdldF9uZWlnaGJvdXIocGF0aCk6CiAgICAgICAgYSwgYiA9IHJhbmRvbS5zYW1wbGUocmFuZ2UobGVuKHBhdGgpKSwgMikKICAgICAgICBwYXRoW2FdLCBwYXRoW2JdID0gcGF0aFtiXSwgcGF0aFthXQogICAgICAgIHJldHVybiBwYXRoCgogICAgbiA9IGxlbihkaXN0YW5jZV9tYXRyaXgpCiAgICBjdXJyZW50X3BhdGggPSBsaXN0KHJhbmdlKG4pKQogICAgcmFuZG9tLnNodWZmbGUoY3VycmVudF9wYXRoKQogICAgY3VycmVudF9kaXN0YW5jZSA9IGNhbGN1bGF0ZV9kaXN0YW5jZShjdXJyZW50X3BhdGggKyBbY3VycmVudF9wYXRoWzBdXSkKICAgIGJlc3RfcGF0aCA9IGN1cnJlbnRfcGF0aFs6XQogICAgYmVzdF9kaXN0YW5jZSA9IGN1cnJlbnRfZGlzdGFuY2UKICAgIHRlbXAgPSBpbml0aWFsX3RlbXAKCiAgICB3aGlsZSB0ZW1wID4gMToKICAgICAgICBuZXdfcGF0aCA9IGdldF9uZWlnaGJvdXIoY3VycmVudF9wYXRoWzpdKQogICAgICAgIG5ld19kaXN0YW5jZSA9IGNhbGN1bGF0ZV9kaXN0YW5jZShuZXdfcGF0aCArIFtuZXdfcGF0aFswXV0pCiAgICAgICAgaWYgbmV3X2Rpc3RhbmNlIDwgY3VycmVudF9kaXN0YW5jZSBvciBtYXRoLmV4cCgoY3VycmVudF9kaXN0YW5jZSAtIG5ld19kaXN0YW5jZSkgLyB0ZW1wKSA+IHJhbmRvbS5yYW5kb20oKToKICAgICAgICAgICAgY3VycmVudF9wYXRoID0gbmV3X3BhdGgKICAgICAgICAgICAgY3VycmVudF9kaXN0YW5jZSA9IG5ld19kaXN0YW5jZQogICAgICAgICAgICBpZiBuZXdfZGlzdGFuY2UgPCBiZXN0X2Rpc3RhbmNlOgogICAgICAgICAgICAgICAgYmVzdF9wYXRoID0gbmV3X3BhdGgKICAgICAgICAgICAgICAgIGJlc3RfZGlzdGFuY2UgPSBuZXdfZGlzdGFuY2UKICAgICAgICB0ZW1wICo9IGNvb2xpbmdfcmF0ZQoKICAgIHJldHVybiBiZXN0X3BhdGgsIGJlc3RfZGlzdGFuY2UKCiMgRWplbXBsbyBkZSB1c28KZGlzdGFuY2VfbWF0cml4ID0gWwogICAgWzAsIDEwLCAxNSwgMjBdLAogICAgWzEwLCAwLCAzNSwgMjVdLAogICAgWzE1LCAzNSwgMCwgMzBdLAogICAgWzIwLCAyNSwgMzAsIDBdCl0KaW5pdGlhbF90ZW1wID0gMTAwMApjb29saW5nX3JhdGUgPSAwLjk5CmJlc3RfcGF0aCwgYmVzdF9kaXN0YW5jZSA9IHRzcF9zaW11bGF0ZWRfYW5uZWFsaW5nKGRpc3RhbmNlX21hdHJpeCwgaW5pdGlhbF90ZW1wLCBjb29saW5nX3JhdGUpCnByaW50KGYiTWVqb3IgcnV0YToge2Jlc3RfcGF0aH0sIERpc3RhbmNpYSBtw61uaW1hOiB7YmVzdF9kaXN0YW5jZX0iKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import random
import math

def tsp_simulated_annealing(distance_matrix, initial_temp, cooling_rate):
    def calculate_distance(path):
        return sum(distance_matrix[path[i]][path[i + 1]] for i in range(len(path) - 1))

    def get_neighbour(path):
        a, b = random.sample(range(len(path)), 2)
        path[a], path[b] = path[b], path[a]
        return path

    n = len(distance_matrix)
    current_path = list(range(n))
    random.shuffle(current_path)
    current_distance = calculate_distance(current_path + [current_path[0]])
    best_path = current_path[:]
    best_distance = current_distance
    temp = initial_temp

    while temp &gt; 1:
        new_path = get_neighbour(current_path[:])
        new_distance = calculate_distance(new_path + [new_path[0]])
        if new_distance &lt; current_distance or math.exp((current_distance - new_distance) / temp) &gt; random.random():
            current_path = new_path
            current_distance = new_distance
            if new_distance &lt; best_distance:
                best_path = new_path
                best_distance = new_distance
        temp *= cooling_rate

    return best_path, best_distance

# Ejemplo de uso
distance_matrix = [
    [0, 10, 15, 20],
    [10, 0, 35, 25],
    [15, 35, 0, 30],
    [20, 25, 30, 0]
]
initial_temp = 1000
cooling_rate = 0.99
best_path, best_distance = tsp_simulated_annealing(distance_matrix, initial_temp, cooling_rate)
print(f&quot;Mejor ruta: {best_path}, Distancia m&iacute;nima: {best_distance}&quot;)</pre></div><div class='content'></div><h1><p>Ejercicios Prácticos</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Problema del Viajante (TSP) con Fuerza Bruta</p>
</h2>
<div class='content'><p><strong>Descripción</strong>: Implementa el algoritmo de fuerza bruta para resolver el problema del viajante con una matriz de distancias diferente.</p>
<p><strong>Matriz de distancias</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("WwogICAgWzAsIDI5LCAyMCwgMjFdLAogICAgWzI5LCAwLCAxNSwgMTddLAogICAgWzIwLCAxNSwgMCwgMjhdLAogICAgWzIxLCAxNywgMjgsIDBdCl0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>[
    [0, 29, 20, 21],
    [29, 0, 15, 17],
    [20, 15, 0, 28],
    [21, 17, 28, 0]
]</pre></div><div class='content'><p><strong>Solución</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBpdGVydG9vbHMgaW1wb3J0IHBlcm11dGF0aW9ucwoKZGVmIGNhbGN1bGF0ZV9kaXN0YW5jZShwYXRoLCBkaXN0YW5jZV9tYXRyaXgpOgogICAgcmV0dXJuIHN1bShkaXN0YW5jZV9tYXRyaXhbcGF0aFtpXV1bcGF0aFtpICsgMV1dIGZvciBpIGluIHJhbmdlKGxlbihwYXRoKSAtIDEpKQoKZGVmIHRzcF9icnV0ZV9mb3JjZShkaXN0YW5jZV9tYXRyaXgpOgogICAgbiA9IGxlbihkaXN0YW5jZV9tYXRyaXgpCiAgICBhbGxfcGVybXV0YXRpb25zID0gcGVybXV0YXRpb25zKHJhbmdlKG4pKQogICAgbWluX2Rpc3RhbmNlID0gZmxvYXQoJ2luZicpCiAgICBiZXN0X3BhdGggPSBOb25lCiAgICBmb3IgcGVybSBpbiBhbGxfcGVybXV0YXRpb25zOgogICAgICAgIGN1cnJlbnRfZGlzdGFuY2UgPSBjYWxjdWxhdGVfZGlzdGFuY2UocGVybSArIChwZXJtWzBdLCksIGRpc3RhbmNlX21hdHJpeCkKICAgICAgICBpZiBjdXJyZW50X2Rpc3RhbmNlIDwgbWluX2Rpc3RhbmNlOgogICAgICAgICAgICBtaW5fZGlzdGFuY2UgPSBjdXJyZW50X2Rpc3RhbmNlCiAgICAgICAgICAgIGJlc3RfcGF0aCA9IHBlcm0KICAgIHJldHVybiBiZXN0X3BhdGgsIG1pbl9kaXN0YW5jZQoKIyBFamVtcGxvIGRlIHVzbwpkaXN0YW5jZV9tYXRyaXggPSBbCiAgICBbMCwgMjksIDIwLCAyMV0sCiAgICBbMjksIDAsIDE1LCAxN10sCiAgICBbMjAsIDE1LCAwLCAyOF0sCiAgICBbMjEsIDE3LCAyOCwgMF0KXQpiZXN0X3BhdGgsIG1pbl9kaXN0YW5jZSA9IHRzcF9icnV0ZV9mb3JjZShkaXN0YW5jZV9tYXRyaXgpCnByaW50KGYiTWVqb3IgcnV0YToge2Jlc3RfcGF0aH0sIERpc3RhbmNpYSBtw61uaW1hOiB7bWluX2Rpc3RhbmNlfSIp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from itertools import permutations

def calculate_distance(path, distance_matrix):
    return sum(distance_matrix[path[i]][path[i + 1]] for i in range(len(path) - 1))

def tsp_brute_force(distance_matrix):
    n = len(distance_matrix)
    all_permutations = permutations(range(n))
    min_distance = float('inf')
    best_path = None
    for perm in all_permutations:
        current_distance = calculate_distance(perm + (perm[0],), distance_matrix)
        if current_distance &lt; min_distance:
            min_distance = current_distance
            best_path = perm
    return best_path, min_distance

# Ejemplo de uso
distance_matrix = [
    [0, 29, 20, 21],
    [29, 0, 15, 17],
    [20, 15, 0, 28],
    [21, 17, 28, 0]
]
best_path, min_distance = tsp_brute_force(distance_matrix)
print(f&quot;Mejor ruta: {best_path}, Distancia m&iacute;nima: {min_distance}&quot;)</pre></div><div class='content'></div><h2><p>Ejercicio 2: Problema de la Mochila con Ramificación y Poda</p>
</h2>
<div class='content'><p><strong>Descripción</strong>: Implementa el algoritmo de ramificación y poda para resolver el problema de la mochila con diferentes pesos y valores.</p>
<p><strong>Pesos</strong>: <code>[1, 2, 3, 8]</code>
<strong>Valores</strong>: <code>[20, 5, 10, 40]</code>
<strong>Capacidad</strong>: <code>10</code></p>
<p><strong>Solución</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGtuYXBzYWNrX2JyYW5jaF9hbmRfYm91bmQod2VpZ2h0cywgdmFsdWVzLCBjYXBhY2l0eSk6CiAgICBuID0gbGVuKHdlaWdodHMpCiAgICBtYXhfdmFsdWUgPSAwCiAgICBiZXN0X2NvbWJpbmF0aW9uID0gW10KCiAgICBkZWYgYm91bmQoaSwgY3VycmVudF93ZWlnaHQsIGN1cnJlbnRfdmFsdWUpOgogICAgICAgIGlmIGN1cnJlbnRfd2VpZ2h0ID49IGNhcGFjaXR5OgogICAgICAgICAgICByZXR1cm4gMAogICAgICAgIHVwcGVyX2JvdW5kID0gY3VycmVudF92YWx1ZQogICAgICAgIHRvdGFsX3dlaWdodCA9IGN1cnJlbnRfd2VpZ2h0CiAgICAgICAgZm9yIGogaW4gcmFuZ2UoaSwgbik6CiAgICAgICAgICAgIGlmIHRvdGFsX3dlaWdodCArIHdlaWdodHNbal0gPD0gY2FwYWNpdHk6CiAgICAgICAgICAgICAgICB0b3RhbF93ZWlnaHQgKz0gd2VpZ2h0c1tqXQogICAgICAgICAgICAgICAgdXBwZXJfYm91bmQgKz0gdmFsdWVzW2pdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB1cHBlcl9ib3VuZCArPSAoY2FwYWNpdHkgLSB0b3RhbF93ZWlnaHQpICogdmFsdWVzW2pdIC8gd2VpZ2h0c1tqXQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICByZXR1cm4gdXBwZXJfYm91bmQKCiAgICBkZWYgYnJhbmNoX2FuZF9ib3VuZChpLCBjdXJyZW50X3dlaWdodCwgY3VycmVudF92YWx1ZSwgY3VycmVudF9jb21iaW5hdGlvbik6CiAgICAgICAgbm9ubG9jYWwgbWF4X3ZhbHVlLCBiZXN0X2NvbWJpbmF0aW9uCiAgICAgICAgaWYgaSA9PSBuOgogICAgICAgICAgICBpZiBjdXJyZW50X3ZhbHVlID4gbWF4X3ZhbHVlOgogICAgICAgICAgICAgICAgbWF4X3ZhbHVlID0gY3VycmVudF92YWx1ZQogICAgICAgICAgICAgICAgYmVzdF9jb21iaW5hdGlvbiA9IGN1cnJlbnRfY29tYmluYXRpb25bOl0KICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgY3VycmVudF93ZWlnaHQgKyB3ZWlnaHRzW2ldIDw9IGNhcGFjaXR5OgogICAgICAgICAgICBjdXJyZW50X2NvbWJpbmF0aW9uLmFwcGVuZChpKQogICAgICAgICAgICBicmFuY2hfYW5kX2JvdW5kKGkgKyAxLCBjdXJyZW50X3dlaWdodCArIHdlaWdodHNbaV0sIGN1cnJlbnRfdmFsdWUgKyB2YWx1ZXNbaV0sIGN1cnJlbnRfY29tYmluYXRpb24pCiAgICAgICAgICAgIGN1cnJlbnRfY29tYmluYXRpb24ucG9wKCkKICAgICAgICBpZiBib3VuZChpICsgMSwgY3VycmVudF93ZWlnaHQsIGN1cnJlbnRfdmFsdWUpID4gbWF4X3ZhbHVlOgogICAgICAgICAgICBicmFuY2hfYW5kX2JvdW5kKGkgKyAxLCBjdXJyZW50X3dlaWdodCwgY3VycmVudF92YWx1ZSwgY3VycmVudF9jb21iaW5hdGlvbikKCiAgICBicmFuY2hfYW5kX2JvdW5kKDAsIDAsIDAsIFtdKQogICAgcmV0dXJuIGJlc3RfY29tYmluYXRpb24sIG1heF92YWx1ZQoKIyBFamVtcGxvIGRlIHVzbwp3ZWlnaHRzID0gWzEsIDIsIDMsIDhdCnZhbHVlcyA9IFsyMCwgNSwgMTAsIDQwXQpjYXBhY2l0eSA9IDEwCmJlc3RfY29tYmluYXRpb24sIG1heF92YWx1ZSA9IGtuYXBzYWNrX2JyYW5jaF9hbmRfYm91bmQod2VpZ2h0cywgdmFsdWVzLCBjYXBhY2l0eSkKcHJpbnQoZiJNZWpvciBjb21iaW5hY2nDs246IHtiZXN0X2NvbWJpbmF0aW9ufSwgVmFsb3IgbcOheGltbzoge21heF92YWx1ZX0iKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def knapsack_branch_and_bound(weights, values, capacity):
    n = len(weights)
    max_value = 0
    best_combination = []

    def bound(i, current_weight, current_value):
        if current_weight &gt;= capacity:
            return 0
        upper_bound = current_value
        total_weight = current_weight
        for j in range(i, n):
            if total_weight + weights[j] &lt;= capacity:
                total_weight += weights[j]
                upper_bound += values[j]
            else:
                upper_bound += (capacity - total_weight) * values[j] / weights[j]
                break
        return upper_bound

    def branch_and_bound(i, current_weight, current_value, current_combination):
        nonlocal max_value, best_combination
        if i == n:
            if current_value &gt; max_value:
                max_value = current_value
                best_combination = current_combination[:]
            return
        if current_weight + weights[i] &lt;= capacity:
            current_combination.append(i)
            branch_and_bound(i + 1, current_weight + weights[i], current_value + values[i], current_combination)
            current_combination.pop()
        if bound(i + 1, current_weight, current_value) &gt; max_value:
            branch_and_bound(i + 1, current_weight, current_value, current_combination)

    branch_and_bound(0, 0, 0, [])
    return best_combination, max_value

# Ejemplo de uso
weights = [1, 2, 3, 8]
values = [20, 5, 10, 40]
capacity = 10
best_combination, max_value = knapsack_branch_and_bound(weights, values, capacity)
print(f&quot;Mejor combinaci&oacute;n: {best_combination}, Valor m&aacute;ximo: {max_value}&quot;)</pre></div><div class='content'></div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En esta sección, hemos explorado varios algoritmos de optimización combinatoria, incluyendo fuerza bruta, ramificación y poda, y recocido simulado. Cada uno de estos algoritmos tiene sus propias ventajas y desventajas, y la elección del algoritmo adecuado depende de la naturaleza del problema y las restricciones de tiempo y recursos. En los ejercicios prácticos, hemos aplicado estos algoritmos a problemas clásicos como el problema del viajante y el problema de la mochila, proporcionando una comprensión más profunda de cómo funcionan en la práctica.</p>
<p>En el siguiente módulo, profundizaremos en los algoritmos de optimización combinatoria más avanzados, como los algoritmos genéticos y la optimización de colonia de hormigas.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-01-programacion-lineal' title="Programación Lineal">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='02-03-algoritmos-geneticos' title="Algoritmos Genéticos">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
