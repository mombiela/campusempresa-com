<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Búsqueda Geoespacial</title>

    <link rel="alternate" href="https://campusempresa.com/mod/elasticsearch/08-04-geo-search" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/elasticsearch/08-04-geo-search" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/elasticsearch/08-04-geo-search" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/elasticsearch/08-04-geo-search" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/elasticsearch/08-04-geo-search" class="px-2">CA</a>
<br>
			<cite>Construyendo la sociedad de hoy y del mañana</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Lenguajes de Programación</a>
				 					<a href="/categ/frameworks">Frameworks y Librerías</a>
				 					<a href="/categ/tech-tools">Herramientas Técnicas</a>
				 					<a href="/categ/foundations">Fundamentos Teóricos</a>
				 					<a href="/categ/soft-skills">Habilidades Sociales</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-03-graph-exploration' title="Exploración de Grafos">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Búsqueda Geoespacial</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
			</div>
</div>
<div class='content'><p>La búsqueda geoespacial en Elasticsearch permite realizar consultas basadas en la ubicación geográfica de los datos. Este tipo de búsqueda es esencial para aplicaciones que necesitan manejar datos espaciales, como servicios de mapas, aplicaciones de entrega, y análisis de datos geográficos.</p>
</div><h1><p>Conceptos Clave</p>
</h1>
<div class='content'><p>Antes de profundizar en la búsqueda geoespacial, es importante entender algunos conceptos clave:</p>
<ul>
<li><strong>Coordenadas Geográficas</strong>: Representan una ubicación en la Tierra usando latitud y longitud.</li>
<li><strong>Tipos de Datos Geoespaciales</strong>: Elasticsearch soporta varios tipos de datos geoespaciales, como <code>geo_point</code> y <code>geo_shape</code>.</li>
<li><strong>Consultas Geoespaciales</strong>: Permiten buscar documentos basados en su ubicación geográfica.</li>
</ul>
</div><h1><p>Tipos de Datos Geoespaciales</p>
</h1>
<div class='content'></div><h2><p><code>geo_point</code></p>
</h2>
<div class='content'><p>El tipo <code>geo_point</code> se utiliza para representar una ubicación geográfica mediante una latitud y una longitud.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIC9teV9pbmRleAp7CiAgIm1hcHBpbmdzIjogewogICAgInByb3BlcnRpZXMiOiB7CiAgICAgICJsb2NhdGlvbiI6IHsKICAgICAgICAidHlwZSI6ICJnZW9fcG9pbnQiCiAgICAgIH0KICAgIH0KICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT /my_index
{
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;location&quot;: {
        &quot;type&quot;: &quot;geo_point&quot;
      }
    }
  }
}</pre></div><div class='content'></div><h2><p><code>geo_shape</code></p>
</h2>
<div class='content'><p>El tipo <code>geo_shape</code> se utiliza para representar formas geográficas complejas, como polígonos, líneas y círculos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIC9teV9pbmRleAp7CiAgIm1hcHBpbmdzIjogewogICAgInByb3BlcnRpZXMiOiB7CiAgICAgICJsb2NhdGlvbiI6IHsKICAgICAgICAidHlwZSI6ICJnZW9fc2hhcGUiCiAgICAgIH0KICAgIH0KICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT /my_index
{
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;location&quot;: {
        &quot;type&quot;: &quot;geo_shape&quot;
      }
    }
  }
}</pre></div><div class='content'></div><h1><p>Indexando Datos Geoespaciales</p>
</h1>
<div class='content'></div><h2><p>Ejemplo con <code>geo_point</code></p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UE9TVCAvbXlfaW5kZXgvX2RvYy8xCnsKICAibmFtZSI6ICJDZW50cmFsIFBhcmsiLAogICJsb2NhdGlvbiI6IHsKICAgICJsYXQiOiA0MC43ODUwOTEsCiAgICAibG9uIjogLTczLjk2ODI4NQogIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>POST /my_index/_doc/1
{
  &quot;name&quot;: &quot;Central Park&quot;,
  &quot;location&quot;: {
    &quot;lat&quot;: 40.785091,
    &quot;lon&quot;: -73.968285
  }
}</pre></div><div class='content'></div><h2><p>Ejemplo con <code>geo_shape</code></p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UE9TVCAvbXlfaW5kZXgvX2RvYy8yCnsKICAibmFtZSI6ICJNYW5oYXR0YW4iLAogICJsb2NhdGlvbiI6IHsKICAgICJ0eXBlIjogInBvbHlnb24iLAogICAgImNvb3JkaW5hdGVzIjogWwogICAgICBbCiAgICAgICAgWy03My45ODEsIDQwLjc2OF0sCiAgICAgICAgWy03My45ODEsIDQwLjc3NF0sCiAgICAgICAgWy03My45NzMsIDQwLjc3NF0sCiAgICAgICAgWy03My45NzMsIDQwLjc2OF0sCiAgICAgICAgWy03My45ODEsIDQwLjc2OF0KICAgICAgXQogICAgXQogIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>POST /my_index/_doc/2
{
  &quot;name&quot;: &quot;Manhattan&quot;,
  &quot;location&quot;: {
    &quot;type&quot;: &quot;polygon&quot;,
    &quot;coordinates&quot;: [
      [
        [-73.981, 40.768],
        [-73.981, 40.774],
        [-73.973, 40.774],
        [-73.973, 40.768],
        [-73.981, 40.768]
      ]
    ]
  }
}</pre></div><div class='content'></div><h1><p>Consultas Geoespaciales</p>
</h1>
<div class='content'></div><h2><p>Consulta de Distancia</p>
</h2>
<div class='content'><p>Busca documentos dentro de una distancia específica de un punto.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIC9teV9pbmRleC9fc2VhcmNoCnsKICAicXVlcnkiOiB7CiAgICAiYm9vbCI6IHsKICAgICAgImZpbHRlciI6IHsKICAgICAgICAiZ2VvX2Rpc3RhbmNlIjogewogICAgICAgICAgImRpc3RhbmNlIjogIjJrbSIsCiAgICAgICAgICAibG9jYXRpb24iOiB7CiAgICAgICAgICAgICJsYXQiOiA0MC43ODUwOTEsCiAgICAgICAgICAgICJsb24iOiAtNzMuOTY4Mjg1CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET /my_index/_search
{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;filter&quot;: {
        &quot;geo_distance&quot;: {
          &quot;distance&quot;: &quot;2km&quot;,
          &quot;location&quot;: {
            &quot;lat&quot;: 40.785091,
            &quot;lon&quot;: -73.968285
          }
        }
      }
    }
  }
}</pre></div><div class='content'></div><h2><p>Consulta de Bounding Box</p>
</h2>
<div class='content'><p>Busca documentos dentro de un rectángulo definido por dos puntos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIC9teV9pbmRleC9fc2VhcmNoCnsKICAicXVlcnkiOiB7CiAgICAiYm9vbCI6IHsKICAgICAgImZpbHRlciI6IHsKICAgICAgICAiZ2VvX2JvdW5kaW5nX2JveCI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6IHsKICAgICAgICAgICAgInRvcF9sZWZ0IjogewogICAgICAgICAgICAgICJsYXQiOiA0MC43NzQsCiAgICAgICAgICAgICAgImxvbiI6IC03My45ODEKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImJvdHRvbV9yaWdodCI6IHsKICAgICAgICAgICAgICAibGF0IjogNDAuNzY4LAogICAgICAgICAgICAgICJsb24iOiAtNzMuOTczCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET /my_index/_search
{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;filter&quot;: {
        &quot;geo_bounding_box&quot;: {
          &quot;location&quot;: {
            &quot;top_left&quot;: {
              &quot;lat&quot;: 40.774,
              &quot;lon&quot;: -73.981
            },
            &quot;bottom_right&quot;: {
              &quot;lat&quot;: 40.768,
              &quot;lon&quot;: -73.973
            }
          }
        }
      }
    }
  }
}</pre></div><div class='content'></div><h2><p>Consulta de Polígono</p>
</h2>
<div class='content'><p>Busca documentos dentro de un polígono definido por una serie de puntos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIC9teV9pbmRleC9fc2VhcmNoCnsKICAicXVlcnkiOiB7CiAgICAiYm9vbCI6IHsKICAgICAgImZpbHRlciI6IHsKICAgICAgICAiZ2VvX3BvbHlnb24iOiB7CiAgICAgICAgICAibG9jYXRpb24iOiB7CiAgICAgICAgICAgICJwb2ludHMiOiBbCiAgICAgICAgICAgICAgeyAibGF0IjogNDAuNzc0LCAibG9uIjogLTczLjk4MSB9LAogICAgICAgICAgICAgIHsgImxhdCI6IDQwLjc3NCwgImxvbiI6IC03My45NzMgfSwKICAgICAgICAgICAgICB7ICJsYXQiOiA0MC43NjgsICJsb24iOiAtNzMuOTczIH0sCiAgICAgICAgICAgICAgeyAibGF0IjogNDAuNzY4LCAibG9uIjogLTczLjk4MSB9CiAgICAgICAgICAgIF0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET /my_index/_search
{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;filter&quot;: {
        &quot;geo_polygon&quot;: {
          &quot;location&quot;: {
            &quot;points&quot;: [
              { &quot;lat&quot;: 40.774, &quot;lon&quot;: -73.981 },
              { &quot;lat&quot;: 40.774, &quot;lon&quot;: -73.973 },
              { &quot;lat&quot;: 40.768, &quot;lon&quot;: -73.973 },
              { &quot;lat&quot;: 40.768, &quot;lon&quot;: -73.981 }
            ]
          }
        }
      }
    }
  }
}</pre></div><div class='content'></div><h1><p>Ejercicios Prácticos</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Indexar y Buscar por Distancia</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Indexar un documento con una ubicación geográfica</strong>:</p>
<pre><code class="language-json">POST /places/_doc/1
{
  &quot;name&quot;: &quot;Statue of Liberty&quot;,
  &quot;location&quot;: {
    &quot;lat&quot;: 40.689247,
    &quot;lon&quot;: -74.044502
  }
}
</code></pre>
</li>
<li>
<p><strong>Buscar lugares dentro de 5 km de la Estatua de la Libertad</strong>:</p>
<pre><code class="language-json">GET /places/_search
{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;filter&quot;: {
        &quot;geo_distance&quot;: {
          &quot;distance&quot;: &quot;5km&quot;,
          &quot;location&quot;: {
            &quot;lat&quot;: 40.689247,
            &quot;lon&quot;: -74.044502
          }
        }
      }
    }
  }
}
</code></pre>
</li>
</ol>
</div><h2><p>Ejercicio 2: Indexar y Buscar por Polígono</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Indexar un documento con una forma geográfica</strong>:</p>
<pre><code class="language-json">POST /places/_doc/2
{
  &quot;name&quot;: &quot;Central Park&quot;,
  &quot;location&quot;: {
    &quot;type&quot;: &quot;polygon&quot;,
    &quot;coordinates&quot;: [
      [
        [-73.981, 40.768],
        [-73.981, 40.774],
        [-73.973, 40.774],
        [-73.973, 40.768],
        [-73.981, 40.768]
      ]
    ]
  }
}
</code></pre>
</li>
<li>
<p><strong>Buscar lugares dentro del polígono de Central Park</strong>:</p>
<pre><code class="language-json">GET /places/_search
{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;filter&quot;: {
        &quot;geo_polygon&quot;: {
          &quot;location&quot;: {
            &quot;points&quot;: [
              { &quot;lat&quot;: 40.774, &quot;lon&quot;: -73.981 },
              { &quot;lat&quot;: 40.774, &quot;lon&quot;: -73.973 },
              { &quot;lat&quot;: 40.768, &quot;lon&quot;: -73.973 },
              { &quot;lat&quot;: 40.768, &quot;lon&quot;: -73.981 }
            ]
          }
        }
      }
    }
  }
}
</code></pre>
</li>
</ol>
</div><h1><p>Resumen</p>
</h1>
<div class='content'><p>En esta sección, hemos cubierto los conceptos básicos de la búsqueda geoespacial en Elasticsearch, incluyendo los tipos de datos geoespaciales (<code>geo_point</code> y <code>geo_shape</code>), cómo indexar datos geoespaciales y cómo realizar consultas geoespaciales. Estas habilidades son esenciales para trabajar con datos geográficos y pueden ser aplicadas en una variedad de aplicaciones del mundo real.</p>
<p>En el siguiente módulo, exploraremos temas avanzados como la creación de plugins personalizados y el uso de aprendizaje automático en Elasticsearch.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-03-graph-exploration' title="Exploración de Grafos">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
