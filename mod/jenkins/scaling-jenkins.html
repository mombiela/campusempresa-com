<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escalado de Jenkins</title>

    <link rel="alternate" href="https://campusempresa.com/mod/jenkins/scaling-jenkins" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/jenkins/scaling-jenkins" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/jenkins/scaling-jenkins" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/jenkins/scaling-jenkins" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/jenkins/scaling-jenkins" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='monitoring-jenkins'>&#x25C4;Monitoreo de Jenkins</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Escalado de Jenkins</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integrating-jenkins-with-git'>Integrando Jenkins con Git &#x25BA;</a>
			</div>
</div>
<div class='content'><p>El escalado de Jenkins es un tema crucial para las organizaciones que necesitan gestionar una gran cantidad de trabajos y nodos de manera eficiente. Esta sección cubrirá los conceptos clave, estrategias y mejores prácticas para escalar Jenkins desde una configuración de un solo nodo hasta un sistema distribuido y de alta disponibilidad.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Arquitectura Maestro-Esclavo</strong>: Jenkins utiliza una arquitectura maestro-esclavo para gestionar compilaciones distribuidas.</li>
<li><strong>Escalado Horizontal</strong>: Añadir más nodos de Jenkins (esclavos) para distribuir la carga.</li>
<li><strong>Escalado Vertical</strong>: Aumentar los recursos (CPU, RAM) del nodo maestro de Jenkins.</li>
<li><strong>Alta Disponibilidad</strong>: Asegurar que Jenkins esté siempre disponible, incluso en caso de fallos de hardware o software.</li>
</ul>
</div><h1>Arquitectura Maestro-Esclavo</h1>
<div class='content'><p>Jenkins opera en una arquitectura maestro-esclavo donde el maestro es responsable de:</p>
<ul>
<li>Programar trabajos de compilación.</li>
<li>Despachar compilaciones a los esclavos para la ejecución real del trabajo.</li>
<li>Monitorear los esclavos (posiblemente poniéndolos en línea y fuera de línea según sea necesario).</li>
<li>Registrar y presentar los resultados de las compilaciones.</li>
<li>Gestionar las solicitudes y el acceso de los usuarios.</li>
</ul>
<p>Los esclavos son responsables de:</p>
<ul>
<li>Ejecutar trabajos de compilación despachados por el maestro.</li>
<li>Informar los resultados de la compilación al maestro.</li>
</ul>
</div><h2>Ejemplo de Configuración</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRWplbXBsbyBkZSBjb25maWd1cmFjacOzbiBkZSB1biBub2RvIGVzY2xhdm8gZGUgSmVua2lucyB1c2FuZG8gdW4gc2NyaXB0IEdyb292eQppbXBvcnQgaHVkc29uLm1vZGVsLioKaW1wb3J0IGh1ZHNvbi5zbGF2ZXMuKgoKZGVmIHNsYXZlID0gbmV3IER1bWJTbGF2ZSgKICAgICJzbGF2ZS1ub2RlIiwgLy8gTm9tYnJlIGRlbCBub2RvCiAgICAiVW4gbm9kbyBlc2NsYXZvIHBhcmEgSmVua2lucyIsIC8vIERlc2NyaXBjacOzbgogICAgIi9ob21lL2plbmtpbnMvc2xhdmUiLCAvLyBSYcOteiBkZWwgRlMgcmVtb3RvCiAgICAiMiIsIC8vIE7Dum1lcm8gZGUgZWplY3V0b3JlcwogICAgTm9kZS5Nb2RlLk5PUk1BTCwgLy8gTW9kbyBkZSB1c28KICAgICJsYWJlbCIsIC8vIEV0aXF1ZXRhCiAgICBuZXcgSk5MUExhdW5jaGVyKCksIC8vIExhbnphZG9yCiAgICBSZXRlbnRpb25TdHJhdGVneS5JTlNUQU5DRSwgLy8gRXN0cmF0ZWdpYSBkZSByZXRlbmNpw7NuCiAgICBuZXcgTGlua2VkTGlzdCgpIC8vIFByb3BpZWRhZGVzIGRlbCBub2RvCikKCkplbmtpbnMuaW5zdGFuY2UuYWRkTm9kZShzbGF2ZSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Ejemplo de configuraci&oacute;n de un nodo esclavo de Jenkins usando un script Groovy
import hudson.model.*
import hudson.slaves.*

def slave = new DumbSlave(
    &quot;slave-node&quot;, // Nombre del nodo
    &quot;Un nodo esclavo para Jenkins&quot;, // Descripci&oacute;n
    &quot;/home/jenkins/slave&quot;, // Ra&iacute;z del FS remoto
    &quot;2&quot;, // N&uacute;mero de ejecutores
    Node.Mode.NORMAL, // Modo de uso
    &quot;label&quot;, // Etiqueta
    new JNLPLauncher(), // Lanzador
    RetentionStrategy.INSTANCE, // Estrategia de retenci&oacute;n
    new LinkedList() // Propiedades del nodo
)

Jenkins.instance.addNode(slave)</pre></div><div class='content'></div><h1>Escalado Horizontal</h1>
<div class='content'><p>El escalado horizontal implica añadir más nodos esclavos para distribuir la carga de los trabajos de compilación. Esto se puede hacer manualmente o automáticamente usando complementos como el EC2 Plugin o el Kubernetes Plugin.</p>
</div><h2>Escalado Manual</h2>
<div class='content'><ul>
<li><strong>Añadir Nuevos Nodos</strong>: Añadir manualmente nuevos nodos esclavos a través de la interfaz de usuario de Jenkins o usando scripts.</li>
<li><strong>Configurar Etiquetas</strong>: Usar etiquetas para categorizar nodos y asignar trabajos específicos a nodos específicos.</li>
</ul>
</div><h2>Escalado Automático</h2>
<div class='content'><ul>
<li><strong>EC2 Plugin</strong>: Provisión y desprovisión automática de instancias EC2 según la carga.</li>
<li><strong>Kubernetes Plugin</strong>: Usar Kubernetes para gestionar agentes de Jenkins dinámicamente.</li>
</ul>
</div><h2>Ejemplo: Usando EC2 Plugin</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRWplbXBsbyBkZSBjb25maWd1cmFjacOzbiBkZWwgY29tcGxlbWVudG8gRUMyIHBhcmEgZXNjYWxhZG8gYXV0b23DoXRpY28KaW1wb3J0IGh1ZHNvbi5wbHVnaW5zLmVjMi4qCgpkZWYgZWMyQ2xvdWQgPSBuZXcgQW1hem9uRUMyQ2xvdWQoCiAgICAiYXdzIiwgLy8gTm9tYnJlIGRlIGxhIG51YmUKICAgIHRydWUsIC8vIFVzYXIgcGVyZmlsIGRlIGluc3RhbmNpYSBwYXJhIGNyZWRlbmNpYWxlcwogICAgInVzLXdlc3QtMiIsIC8vIFJlZ2nDs24KICAgICJodHRwczovL2VjMi51cy13ZXN0LTIuYW1hem9uYXdzLmNvbSIsIC8vIEVuZHBvaW50CiAgICAiMTAiLCAvLyBMw61taXRlIGRlIGluc3RhbmNpYXMKICAgIG5ldyBBcnJheUxpc3Q8U2xhdmVUZW1wbGF0ZT4oKSAvLyBMaXN0YSBkZSBwbGFudGlsbGFzIGRlIGVzY2xhdm9zCikKCkplbmtpbnMuaW5zdGFuY2UuY2xvdWRzLmFkZChlYzJDbG91ZCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Ejemplo de configuraci&oacute;n del complemento EC2 para escalado autom&aacute;tico
import hudson.plugins.ec2.*

def ec2Cloud = new AmazonEC2Cloud(
    &quot;aws&quot;, // Nombre de la nube
    true, // Usar perfil de instancia para credenciales
    &quot;us-west-2&quot;, // Regi&oacute;n
    &quot;https://ec2.us-west-2.amazonaws.com&quot;, // Endpoint
    &quot;10&quot;, // L&iacute;mite de instancias
    new ArrayList&lt;SlaveTemplate&gt;() // Lista de plantillas de esclavos
)

Jenkins.instance.clouds.add(ec2Cloud)</pre></div><div class='content'></div><h1>Escalado Vertical</h1>
<div class='content'><p>El escalado vertical implica aumentar los recursos del nodo maestro de Jenkins. Esto se puede lograr mediante:</p>
<ul>
<li><strong>Actualización de Hardware</strong>: Añadir más CPU, RAM y espacio en disco al nodo maestro.</li>
<li><strong>Optimización de la Configuración de Jenkins</strong>: Ajustar la configuración de Jenkins para hacer un mejor uso de los recursos disponibles.</li>
</ul>
</div><h2>Configuraciones Clave</h2>
<div class='content'><ul>
<li><strong>Cantidad de Ejecutores</strong>: Ajustar el número de ejecutores en el nodo maestro.</li>
<li><strong>Historial de Compilaciones</strong>: Limitar el historial de compilaciones para reducir el uso de disco.</li>
<li><strong>Complementos</strong>: Deshabilitar o eliminar complementos innecesarios para liberar recursos.</li>
</ul>
</div><h1>Alta Disponibilidad</h1>
<div class='content'><p>La alta disponibilidad asegura que Jenkins esté siempre disponible, incluso en caso de fallos. Esto se puede lograr mediante:</p>
<ul>
<li><strong>Copia de Seguridad y Restauración</strong>: Realizar copias de seguridad regulares de la configuración de Jenkins y los datos de los trabajos.</li>
<li><strong>Configuración de Failover</strong>: Usar un maestro secundario de Jenkins que pueda tomar el control en caso de que falle el maestro primario.</li>
<li><strong>Balanceo de Carga</strong>: Distribuir la carga entre múltiples maestros de Jenkins usando un balanceador de carga.</li>
</ul>
</div><h2>Ejemplo: Copia de Seguridad y Restauración</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDb3BpYSBkZSBzZWd1cmlkYWQgZGVsIGRpcmVjdG9yaW8gaG9tZSBkZSBKZW5raW5zCnRhciAtY3p2ZiBqZW5raW5zX2JhY2t1cC50YXIuZ3ogL3Zhci9saWIvamVua2lucwoKIyBSZXN0YXVyYXIgZWwgZGlyZWN0b3JpbyBob21lIGRlIEplbmtpbnMKdGFyIC14enZmIGplbmtpbnNfYmFja3VwLnRhci5neiAtQyAvdmFyL2xpYi9qZW5raW5z"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Copia de seguridad del directorio home de Jenkins
tar -czvf jenkins_backup.tar.gz /var/lib/jenkins

# Restaurar el directorio home de Jenkins
tar -xzvf jenkins_backup.tar.gz -C /var/lib/jenkins</pre></div><div class='content'></div><h1>Resumen</h1>
<div class='content'><p>Escalar Jenkins implica tanto estrategias de escalado horizontal como vertical, así como asegurar la alta disponibilidad. Al comprender e implementar la arquitectura maestro-esclavo, configurar el escalado automático con complementos, optimizar la configuración de Jenkins y establecer mecanismos de copia de seguridad y failover, puedes gestionar eficientemente una gran cantidad de trabajos y nodos en Jenkins.</p>
<ul>
<li><strong>Arquitectura Maestro-Esclavo</strong>: Distribuye trabajos de compilación entre múltiples nodos.</li>
<li><strong>Escalado Horizontal</strong>: Añade más nodos para manejar una carga aumentada.</li>
<li><strong>Escalado Vertical</strong>: Aumenta los recursos del nodo maestro.</li>
<li><strong>Alta Disponibilidad</strong>: Asegura que Jenkins esté siempre disponible mediante copias de seguridad, failover y balanceo de carga.</li>
</ul>
<p>Siguiendo estas mejores prácticas, puedes asegurar que tu configuración de Jenkins sea robusta, escalable y confiable.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='monitoring-jenkins'>&#x25C4;Monitoreo de Jenkins</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Escalado de Jenkins</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integrating-jenkins-with-git'>Integrando Jenkins con Git &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
