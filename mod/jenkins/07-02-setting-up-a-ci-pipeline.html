<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurando una Pipeline de CI</title>

    <link rel="alternate" href="https://campusempresa.com/mod/jenkins/07-02-setting-up-a-ci-pipeline" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/jenkins/07-02-setting-up-a-ci-pipeline" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/jenkins/07-02-setting-up-a-ci-pipeline" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/jenkins/07-02-setting-up-a-ci-pipeline" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/jenkins/07-02-setting-up-a-ci-pipeline" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-01-understanding-ci-cd' title="Entendiendo CI/CD">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Configurando una Pipeline de CI</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-03-setting-up-a-cd-pipeline' title="Configurando una Pipeline de CD">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En este tema, aprenderás a configurar una Pipeline de Integración Continua (CI) en Jenkins. La Integración Continua es una práctica de desarrollo de software en la que los desarrolladores integran su código en un repositorio compartido con frecuencia, lo que permite detectar errores rápidamente y mejorar la calidad del software.</p>
</div><h1>Objetivos de Aprendizaje</h1>
<div class='content'><ul>
<li>Entender los conceptos básicos de una Pipeline de CI.</li>
<li>Configurar una Pipeline de CI en Jenkins.</li>
<li>Ejecutar y monitorear la Pipeline de CI.</li>
</ul>
</div><h1>Conceptos Básicos de una Pipeline de CI</h1>
<div class='content'><p>Una Pipeline de CI generalmente incluye los siguientes pasos:</p>
<ol>
<li><strong>Compilación</strong>: Compilar el código fuente para asegurarse de que no haya errores de compilación.</li>
<li><strong>Pruebas Unitarias</strong>: Ejecutar pruebas unitarias para verificar que las unidades individuales de código funcionen correctamente.</li>
<li><strong>Análisis de Código</strong>: Analizar el código para detectar problemas de calidad y seguridad.</li>
<li><strong>Empaquetado</strong>: Empaquetar el código en un formato que pueda ser desplegado (por ejemplo, un archivo JAR o WAR).</li>
<li><strong>Despliegue</strong>: Desplegar el paquete en un entorno de prueba para realizar pruebas adicionales.</li>
</ol>
</div><h1>Configurando una Pipeline de CI en Jenkins</h1>
<div class='content'></div><h2>Paso 1: Crear un Nuevo Trabajo de Pipeline</h2>
<div class='content'><ol>
<li>Abre tu instancia de Jenkins y navega al tablero principal.</li>
<li>Haz clic en &quot;Nuevo Item&quot; en el menú de la izquierda.</li>
<li>Introduce un nombre para tu trabajo y selecciona &quot;Pipeline&quot;. Luego, haz clic en &quot;OK&quot;.</li>
</ol>
</div><h2>Paso 2: Configurar el Repositorio de Código Fuente</h2>
<div class='content'><ol>
<li>En la configuración del trabajo, desplázate hacia abajo hasta la sección &quot;Pipeline&quot;.</li>
<li>Selecciona &quot;Pipeline script from SCM&quot; (Script de Pipeline desde SCM).</li>
<li>En &quot;SCM&quot;, selecciona &quot;Git&quot;.</li>
<li>Introduce la URL del repositorio de Git donde se encuentra tu código.</li>
<li>Si es necesario, proporciona las credenciales para acceder al repositorio.</li>
</ol>
</div><h2>Paso 3: Definir el Script de Pipeline</h2>
<div class='content'><ol>
<li>En la sección &quot;Script Path&quot;, introduce la ruta al archivo <code>Jenkinsfile</code> en tu repositorio. Por defecto, es <code>Jenkinsfile</code>.</li>
<li>Crea un archivo <code>Jenkinsfile</code> en tu repositorio con el siguiente contenido básico:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CgogICAgc3RhZ2VzIHsKICAgICAgICBzdGFnZSgnQ29tcGlsYWNpw7NuJykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBlY2hvICdDb21waWxhbmRvLi4uJwogICAgICAgICAgICAgICAgLy8gQXF1w60gaXLDrWFuIGxvcyBjb21hbmRvcyBwYXJhIGNvbXBpbGFyIHR1IGPDs2RpZ28KICAgICAgICAgICAgICAgIHNoICdtdm4gY2xlYW4gY29tcGlsZScKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnUHJ1ZWJhcyBVbml0YXJpYXMnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0VqZWN1dGFuZG8gcHJ1ZWJhcyB1bml0YXJpYXMuLi4nCiAgICAgICAgICAgICAgICAvLyBBcXXDrSBpcsOtYW4gbG9zIGNvbWFuZG9zIHBhcmEgZWplY3V0YXIgbGFzIHBydWViYXMgdW5pdGFyaWFzCiAgICAgICAgICAgICAgICBzaCAnbXZuIHRlc3QnCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc3RhZ2UoJ0Fuw6FsaXNpcyBkZSBDw7NkaWdvJykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBlY2hvICdBbmFsaXphbmRvIGVsIGPDs2RpZ28uLi4nCiAgICAgICAgICAgICAgICAvLyBBcXXDrSBpcsOtYW4gbG9zIGNvbWFuZG9zIHBhcmEgYW5hbGl6YXIgZWwgY8OzZGlnbwogICAgICAgICAgICAgICAgc2ggJ212biBzb25hcjpzb25hcicKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnRW1wYXF1ZXRhZG8nKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0VtcGFxdWV0YW5kby4uLicKICAgICAgICAgICAgICAgIC8vIEFxdcOtIGlyw61hbiBsb3MgY29tYW5kb3MgcGFyYSBlbXBhcXVldGFyIGVsIGPDs2RpZ28KICAgICAgICAgICAgICAgIHNoICdtdm4gcGFja2FnZScKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnRGVzcGxpZWd1ZScpIHsKICAgICAgICAgICAgc3RlcHMgewogICAgICAgICAgICAgICAgZWNobyAnRGVzcGxlZ2FuZG8uLi4nCiAgICAgICAgICAgICAgICAvLyBBcXXDrSBpcsOtYW4gbG9zIGNvbWFuZG9zIHBhcmEgZGVzcGxlZ2FyIGVsIHBhcXVldGUKICAgICAgICAgICAgICAgIHNoICdzY3AgdGFyZ2V0L215YXBwLndhciB1c2VyQHNlcnZlcjovcGF0aC90by9kZXBsb3knCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any

    stages {
        stage('Compilaci&oacute;n') {
            steps {
                echo 'Compilando...'
                // Aqu&iacute; ir&iacute;an los comandos para compilar tu c&oacute;digo
                sh 'mvn clean compile'
            }
        }
        stage('Pruebas Unitarias') {
            steps {
                echo 'Ejecutando pruebas unitarias...'
                // Aqu&iacute; ir&iacute;an los comandos para ejecutar las pruebas unitarias
                sh 'mvn test'
            }
        }
        stage('An&aacute;lisis de C&oacute;digo') {
            steps {
                echo 'Analizando el c&oacute;digo...'
                // Aqu&iacute; ir&iacute;an los comandos para analizar el c&oacute;digo
                sh 'mvn sonar:sonar'
            }
        }
        stage('Empaquetado') {
            steps {
                echo 'Empaquetando...'
                // Aqu&iacute; ir&iacute;an los comandos para empaquetar el c&oacute;digo
                sh 'mvn package'
            }
        }
        stage('Despliegue') {
            steps {
                echo 'Desplegando...'
                // Aqu&iacute; ir&iacute;an los comandos para desplegar el paquete
                sh 'scp target/myapp.war user@server:/path/to/deploy'
            }
        }
    }
}</pre></div><div class='content'></div><h2>Paso 4: Guardar y Ejecutar la Pipeline</h2>
<div class='content'><ol>
<li>Haz clic en &quot;Guardar&quot; para guardar la configuración del trabajo.</li>
<li>En el tablero principal, selecciona tu nuevo trabajo y haz clic en &quot;Construir ahora&quot; para ejecutar la Pipeline.</li>
</ol>
</div><h2>Paso 5: Monitorear la Ejecución de la Pipeline</h2>
<div class='content'><ol>
<li>Navega a la página del trabajo y selecciona el número de construcción en la sección &quot;Historial de Construcción&quot;.</li>
<li>Observa la salida de la consola para ver los detalles de cada etapa de la Pipeline.</li>
</ol>
</div><h1>Ejercicio Práctico</h1>
<h2>Ejercicio 1: Configurar una Pipeline de CI Básica</h2>
<div class='content'><ol>
<li>Crea un nuevo trabajo de Pipeline en Jenkins.</li>
<li>Configura el repositorio de código fuente.</li>
<li>Define un <code>Jenkinsfile</code> con las etapas de compilación, pruebas unitarias, análisis de código, empaquetado y despliegue.</li>
<li>Ejecuta la Pipeline y verifica que todas las etapas se completen correctamente.</li>
</ol>
</div><h2>Solución del Ejercicio 1</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CgogICAgc3RhZ2VzIHsKICAgICAgICBzdGFnZSgnQ29tcGlsYWNpw7NuJykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBlY2hvICdDb21waWxhbmRvLi4uJwogICAgICAgICAgICAgICAgc2ggJ212biBjbGVhbiBjb21waWxlJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YWdlKCdQcnVlYmFzIFVuaXRhcmlhcycpIHsKICAgICAgICAgICAgc3RlcHMgewogICAgICAgICAgICAgICAgZWNobyAnRWplY3V0YW5kbyBwcnVlYmFzIHVuaXRhcmlhcy4uLicKICAgICAgICAgICAgICAgIHNoICdtdm4gdGVzdCcKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnQW7DoWxpc2lzIGRlIEPDs2RpZ28nKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0FuYWxpemFuZG8gZWwgY8OzZGlnby4uLicKICAgICAgICAgICAgICAgIHNoICdtdm4gc29uYXI6c29uYXInCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc3RhZ2UoJ0VtcGFxdWV0YWRvJykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICBlY2hvICdFbXBhcXVldGFuZG8uLi4nCiAgICAgICAgICAgICAgICBzaCAnbXZuIHBhY2thZ2UnCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc3RhZ2UoJ0Rlc3BsaWVndWUnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0Rlc3BsZWdhbmRvLi4uJwogICAgICAgICAgICAgICAgc2ggJ3NjcCB0YXJnZXQvbXlhcHAud2FyIHVzZXJAc2VydmVyOi9wYXRoL3RvL2RlcGxveScKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any

    stages {
        stage('Compilaci&oacute;n') {
            steps {
                echo 'Compilando...'
                sh 'mvn clean compile'
            }
        }
        stage('Pruebas Unitarias') {
            steps {
                echo 'Ejecutando pruebas unitarias...'
                sh 'mvn test'
            }
        }
        stage('An&aacute;lisis de C&oacute;digo') {
            steps {
                echo 'Analizando el c&oacute;digo...'
                sh 'mvn sonar:sonar'
            }
        }
        stage('Empaquetado') {
            steps {
                echo 'Empaquetando...'
                sh 'mvn package'
            }
        }
        stage('Despliegue') {
            steps {
                echo 'Desplegando...'
                sh 'scp target/myapp.war user@server:/path/to/deploy'
            }
        }
    }
}</pre></div><div class='content'></div><h1>Errores Comunes y Consejos</h1>
<div class='content'><ul>
<li><strong>Error de Compilación</strong>: Asegúrate de que todas las dependencias estén correctamente configuradas en tu proyecto.</li>
<li><strong>Fallo en Pruebas Unitarias</strong>: Revisa los resultados de las pruebas para identificar y corregir los errores.</li>
<li><strong>Problemas de Conexión al Repositorio</strong>: Verifica que la URL del repositorio y las credenciales sean correctas.</li>
<li><strong>Errores de Despliegue</strong>: Asegúrate de que el servidor de despliegue esté accesible y que las rutas sean correctas.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, has aprendido a configurar una Pipeline de CI en Jenkins, desde la creación del trabajo hasta la ejecución y monitoreo de la Pipeline. Ahora estás preparado para integrar y automatizar el proceso de construcción y pruebas de tu código, mejorando así la calidad y eficiencia de tu desarrollo de software. En el próximo tema, aprenderás a configurar una Pipeline de CD para automatizar el despliegue de tu aplicación.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-01-understanding-ci-cd' title="Entendiendo CI/CD">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-03-setting-up-a-cd-pipeline' title="Configurando una Pipeline de CD">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
