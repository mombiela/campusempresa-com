<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protocolos y Delegados</title>

    <link rel="alternate" href="https://campusempresa.com/mod/objective_c/06-01-protocols-and-delegates" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/objective_c/06-01-protocols-and-delegates" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/objective_c/06-01-protocols-and-delegates" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/objective_c/06-01-protocols-and-delegates" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/objective_c/06-01-protocols-and-delegates" class="px-2">CA</a>
<br>
			<cite>Construyendo la sociedad de hoy y del mañana</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Lenguajes de Programación</a>
				 					<a href="/categ/frameworks">Frameworks y Librerías</a>
				 					<a href="/categ/tech-tools">Herramientas Técnicas</a>
				 					<a href="/categ/foundations">Fundamentos Teóricos</a>
				 					<a href="/categ/soft-skills">Habilidades Sociales</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-04-memory-management-best-practices' title="Mejores Prácticas de Gestión de Memoria">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Protocolos y Delegados</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-02-categories-and-extensions' title="Categorías y Extensiones">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En Objective-C, los protocolos y delegados son conceptos fundamentales que permiten la comunicación entre objetos de manera flexible y desacoplada. Este tema es crucial para entender cómo se estructuran muchas aplicaciones iOS y macOS.</p>
</div><h1><p>¿Qué es un Protocolo?</p>
</h1>
<div class='content'><p>Un protocolo en Objective-C es similar a una interfaz en otros lenguajes de programación. Define un conjunto de métodos que una clase puede implementar. Los protocolos permiten que las clases se comuniquen entre sí sin necesidad de conocer los detalles internos de las otras clases.</p>
</div><h2><p>Definición de un Protocolo</p>
</h2>
<div class='content'><p>Para definir un protocolo, utilizamos la palabra clave <code>@protocol</code> seguida del nombre del protocolo y la lista de métodos que deben implementarse.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QHByb3RvY29sIE1pUHJvdG9jb2xvIDxOU09iamVjdD4KLSAodm9pZCltZXRvZG9SZXF1ZXJpZG87CkBvcHRpb25hbAotICh2b2lkKW1ldG9kb09wY2lvbmFsOwpAZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@protocol MiProtocolo &lt;NSObject&gt;
- (void)metodoRequerido;
@optional
- (void)metodoOpcional;
@end</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li><code>MiProtocolo</code> es el nombre del protocolo.</li>
<li><code>metodoRequerido</code> es un método que cualquier clase que adopte este protocolo debe implementar.</li>
<li><code>metodoOpcional</code> es un método que las clases pueden implementar si lo desean.</li>
</ul>
</div><h2><p>Adopción de un Protocolo</p>
</h2>
<div class='content'><p>Una clase adopta un protocolo declarando su conformidad con el protocolo en su interfaz.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QGludGVyZmFjZSBNaUNsYXNlIDogTlNPYmplY3QgPE1pUHJvdG9jb2xvPgpAZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@interface MiClase : NSObject &lt;MiProtocolo&gt;
@end</pre></div><div class='content'><p>Luego, la clase debe implementar los métodos requeridos del protocolo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QGltcGxlbWVudGF0aW9uIE1pQ2xhc2UKLSAodm9pZCltZXRvZG9SZXF1ZXJpZG8gewogICAgLy8gSW1wbGVtZW50YWNpw7NuIGRlbCBtw6l0b2RvIHJlcXVlcmlkbwp9CkBlbmQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@implementation MiClase
- (void)metodoRequerido {
    // Implementaci&oacute;n del m&eacute;todo requerido
}
@end</pre></div><div class='content'></div><h1><p>¿Qué es un Delegado?</p>
</h1>
<div class='content'><p>Un delegado es un objeto que actúa en nombre de otro objeto para realizar tareas específicas. En Objective-C, los delegados se utilizan comúnmente para manejar eventos y acciones de manera flexible.</p>
</div><h2><p>Uso de Delegados</p>
</h2>
<div class='content'><p>Para utilizar un delegado, primero definimos un protocolo que el delegado debe seguir. Luego, la clase que necesita un delegado declara una propiedad para el delegado y llama a los métodos del protocolo en los momentos apropiados.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QHByb3RvY29sIE1pRGVsZWdhZG8gPE5TT2JqZWN0PgotICh2b2lkKXRhcmVhQ29tcGxldGFkYTsKQGVuZAoKQGludGVyZmFjZSBNaUNsYXNlQ29uRGVsZWdhZG8gOiBOU09iamVjdApAcHJvcGVydHkgKG5vbmF0b21pYywgd2VhaykgaWQ8TWlEZWxlZ2Fkbz4gZGVsZWdhZG87Ci0gKHZvaWQpcmVhbGl6YXJUYXJlYTsKQGVuZAoKQGltcGxlbWVudGF0aW9uIE1pQ2xhc2VDb25EZWxlZ2FkbwotICh2b2lkKXJlYWxpemFyVGFyZWEgewogICAgLy8gUmVhbGl6YXIgYWxndW5hIHRhcmVhCiAgICAvLyAuLi4KICAgIC8vIE5vdGlmaWNhciBhbCBkZWxlZ2FkbyBxdWUgbGEgdGFyZWEgc2UgaGEgY29tcGxldGFkbwogICAgW3NlbGYuZGVsZWdhZG8gdGFyZWFDb21wbGV0YWRhXTsKfQpAZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@protocol MiDelegado &lt;NSObject&gt;
- (void)tareaCompletada;
@end

@interface MiClaseConDelegado : NSObject
@property (nonatomic, weak) id&lt;MiDelegado&gt; delegado;
- (void)realizarTarea;
@end

@implementation MiClaseConDelegado
- (void)realizarTarea {
    // Realizar alguna tarea
    // ...
    // Notificar al delegado que la tarea se ha completado
    [self.delegado tareaCompletada];
}
@end</pre></div><div class='content'></div><h2><p>Implementación del Delegado</p>
</h2>
<div class='content'><p>Una clase que actúa como delegado debe adoptar el protocolo y proporcionar implementaciones para los métodos del protocolo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QGludGVyZmFjZSBNaUNsYXNlRGVsZWdhZGEgOiBOU09iamVjdCA8TWlEZWxlZ2Fkbz4KQGVuZAoKQGltcGxlbWVudGF0aW9uIE1pQ2xhc2VEZWxlZ2FkYQotICh2b2lkKXRhcmVhQ29tcGxldGFkYSB7CiAgICBOU0xvZyhAIkxhIHRhcmVhIGhhIHNpZG8gY29tcGxldGFkYS4iKTsKfQpAZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@interface MiClaseDelegada : NSObject &lt;MiDelegado&gt;
@end

@implementation MiClaseDelegada
- (void)tareaCompletada {
    NSLog(@&quot;La tarea ha sido completada.&quot;);
}
@end</pre></div><div class='content'></div><h2><p>Ejemplo Completo</p>
</h2>
<div class='content'><p>A continuación, se muestra un ejemplo completo que ilustra el uso de protocolos y delegados.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRGVmaW5pY2nDs24gZGVsIHByb3RvY29sbwpAcHJvdG9jb2wgUHJvdG9jb2xvRGVFamVtcGxvIDxOU09iamVjdD4KLSAodm9pZClwcm9jZXNvRmluYWxpemFkbzsKQGVuZAoKLy8gQ2xhc2UgcXVlIHV0aWxpemEgZWwgZGVsZWdhZG8KQGludGVyZmFjZSBDbGFzZUNvbkRlbGVnYWRvIDogTlNPYmplY3QKQHByb3BlcnR5IChub25hdG9taWMsIHdlYWspIGlkPFByb3RvY29sb0RlRWplbXBsbz4gZGVsZWdhZG87Ci0gKHZvaWQpaW5pY2lhclByb2Nlc287CkBlbmQKCkBpbXBsZW1lbnRhdGlvbiBDbGFzZUNvbkRlbGVnYWRvCi0gKHZvaWQpaW5pY2lhclByb2Nlc28gewogICAgLy8gU2ltdWxhY2nDs24gZGUgdW4gcHJvY2VzbwogICAgTlNMb2coQCJQcm9jZXNvIGluaWNpYWRvLi4uIik7CiAgICAvLyBOb3RpZmljYXIgYWwgZGVsZWdhZG8gcXVlIGVsIHByb2Nlc28gaGEgZmluYWxpemFkbwogICAgW3NlbGYuZGVsZWdhZG8gcHJvY2Vzb0ZpbmFsaXphZG9dOwp9CkBlbmQKCi8vIENsYXNlIHF1ZSBhY3TDumEgY29tbyBkZWxlZ2FkbwpAaW50ZXJmYWNlIENsYXNlRGVsZWdhZGEgOiBOU09iamVjdCA8UHJvdG9jb2xvRGVFamVtcGxvPgpAZW5kCgpAaW1wbGVtZW50YXRpb24gQ2xhc2VEZWxlZ2FkYQotICh2b2lkKXByb2Nlc29GaW5hbGl6YWRvIHsKICAgIE5TTG9nKEAiRWwgcHJvY2VzbyBoYSBmaW5hbGl6YWRvLiIpOwp9CkBlbmQKCi8vIFVzbyBkZSBsYXMgY2xhc2VzCmludCBtYWluKGludCBhcmdjLCBjb25zdCBjaGFyICogYXJndltdKSB7CiAgICBAYXV0b3JlbGVhc2Vwb29sIHsKICAgICAgICBDbGFzZUNvbkRlbGVnYWRvICpvYmpldG9Db25EZWxlZ2FkbyA9IFtbQ2xhc2VDb25EZWxlZ2FkbyBhbGxvY10gaW5pdF07CiAgICAgICAgQ2xhc2VEZWxlZ2FkYSAqb2JqZXRvRGVsZWdhZG8gPSBbW0NsYXNlRGVsZWdhZGEgYWxsb2NdIGluaXRdOwogICAgICAgIAogICAgICAgIG9iamV0b0NvbkRlbGVnYWRvLmRlbGVnYWRvID0gb2JqZXRvRGVsZWdhZG87CiAgICAgICAgW29iamV0b0NvbkRlbGVnYWRvIGluaWNpYXJQcm9jZXNvXTsKICAgIH0KICAgIHJldHVybiAwOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Definici&oacute;n del protocolo
@protocol ProtocoloDeEjemplo &lt;NSObject&gt;
- (void)procesoFinalizado;
@end

// Clase que utiliza el delegado
@interface ClaseConDelegado : NSObject
@property (nonatomic, weak) id&lt;ProtocoloDeEjemplo&gt; delegado;
- (void)iniciarProceso;
@end

@implementation ClaseConDelegado
- (void)iniciarProceso {
    // Simulaci&oacute;n de un proceso
    NSLog(@&quot;Proceso iniciado...&quot;);
    // Notificar al delegado que el proceso ha finalizado
    [self.delegado procesoFinalizado];
}
@end

// Clase que act&uacute;a como delegado
@interface ClaseDelegada : NSObject &lt;ProtocoloDeEjemplo&gt;
@end

@implementation ClaseDelegada
- (void)procesoFinalizado {
    NSLog(@&quot;El proceso ha finalizado.&quot;);
}
@end

// Uso de las clases
int main(int argc, const char * argv[]) {
    @autoreleasepool {
        ClaseConDelegado *objetoConDelegado = [[ClaseConDelegado alloc] init];
        ClaseDelegada *objetoDelegado = [[ClaseDelegada alloc] init];
        
        objetoConDelegado.delegado = objetoDelegado;
        [objetoConDelegado iniciarProceso];
    }
    return 0;
}</pre></div><div class='content'></div><h1><p>Ejercicio Práctico</p>
</h1>
<div class='content'></div><h2><p>Ejercicio</p>
</h2>
<div class='content'><ol>
<li>Define un protocolo llamado <code>ProtocoloDeNotificacion</code> con un método requerido <code>- (void)notificacionRecibida</code>.</li>
<li>Crea una clase <code>ClaseNotificadora</code> que tenga una propiedad delegada de tipo <code>id&lt;ProtocoloDeNotificacion&gt;</code>.</li>
<li>Implementa un método en <code>ClaseNotificadora</code> que simule el envío de una notificación y llame al método del delegado.</li>
<li>Crea una clase <code>ClaseReceptora</code> que adopte el protocolo <code>ProtocoloDeNotificacion</code> y proporcione una implementación para el método <code>notificacionRecibida</code>.</li>
<li>En el <code>main</code>, crea instancias de <code>ClaseNotificadora</code> y <code>ClaseReceptora</code>, asigna el delegado y prueba la notificación.</li>
</ol>
</div><h2><p>Solución</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRGVmaW5pY2nDs24gZGVsIHByb3RvY29sbwpAcHJvdG9jb2wgUHJvdG9jb2xvRGVOb3RpZmljYWNpb24gPE5TT2JqZWN0PgotICh2b2lkKW5vdGlmaWNhY2lvblJlY2liaWRhOwpAZW5kCgovLyBDbGFzZSBxdWUgZW52w61hIG5vdGlmaWNhY2lvbmVzCkBpbnRlcmZhY2UgQ2xhc2VOb3RpZmljYWRvcmEgOiBOU09iamVjdApAcHJvcGVydHkgKG5vbmF0b21pYywgd2VhaykgaWQ8UHJvdG9jb2xvRGVOb3RpZmljYWNpb24+IGRlbGVnYWRvOwotICh2b2lkKWVudmlhck5vdGlmaWNhY2lvbjsKQGVuZAoKQGltcGxlbWVudGF0aW9uIENsYXNlTm90aWZpY2Fkb3JhCi0gKHZvaWQpZW52aWFyTm90aWZpY2FjaW9uIHsKICAgIE5TTG9nKEAiRW52aWFuZG8gbm90aWZpY2FjacOzbi4uLiIpOwogICAgW3NlbGYuZGVsZWdhZG8gbm90aWZpY2FjaW9uUmVjaWJpZGFdOwp9CkBlbmQKCi8vIENsYXNlIHF1ZSByZWNpYmUgbm90aWZpY2FjaW9uZXMKQGludGVyZmFjZSBDbGFzZVJlY2VwdG9yYSA6IE5TT2JqZWN0IDxQcm90b2NvbG9EZU5vdGlmaWNhY2lvbj4KQGVuZAoKQGltcGxlbWVudGF0aW9uIENsYXNlUmVjZXB0b3JhCi0gKHZvaWQpbm90aWZpY2FjaW9uUmVjaWJpZGEgewogICAgTlNMb2coQCJOb3RpZmljYWNpw7NuIHJlY2liaWRhLiIpOwp9CkBlbmQKCi8vIFVzbyBkZSBsYXMgY2xhc2VzCmludCBtYWluKGludCBhcmdjLCBjb25zdCBjaGFyICogYXJndltdKSB7CiAgICBAYXV0b3JlbGVhc2Vwb29sIHsKICAgICAgICBDbGFzZU5vdGlmaWNhZG9yYSAqbm90aWZpY2Fkb3JhID0gW1tDbGFzZU5vdGlmaWNhZG9yYSBhbGxvY10gaW5pdF07CiAgICAgICAgQ2xhc2VSZWNlcHRvcmEgKnJlY2VwdG9yYSA9IFtbQ2xhc2VSZWNlcHRvcmEgYWxsb2NdIGluaXRdOwogICAgICAgIAogICAgICAgIG5vdGlmaWNhZG9yYS5kZWxlZ2FkbyA9IHJlY2VwdG9yYTsKICAgICAgICBbbm90aWZpY2Fkb3JhIGVudmlhck5vdGlmaWNhY2lvbl07CiAgICB9CiAgICByZXR1cm4gMDsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Definici&oacute;n del protocolo
@protocol ProtocoloDeNotificacion &lt;NSObject&gt;
- (void)notificacionRecibida;
@end

// Clase que env&iacute;a notificaciones
@interface ClaseNotificadora : NSObject
@property (nonatomic, weak) id&lt;ProtocoloDeNotificacion&gt; delegado;
- (void)enviarNotificacion;
@end

@implementation ClaseNotificadora
- (void)enviarNotificacion {
    NSLog(@&quot;Enviando notificaci&oacute;n...&quot;);
    [self.delegado notificacionRecibida];
}
@end

// Clase que recibe notificaciones
@interface ClaseReceptora : NSObject &lt;ProtocoloDeNotificacion&gt;
@end

@implementation ClaseReceptora
- (void)notificacionRecibida {
    NSLog(@&quot;Notificaci&oacute;n recibida.&quot;);
}
@end

// Uso de las clases
int main(int argc, const char * argv[]) {
    @autoreleasepool {
        ClaseNotificadora *notificadora = [[ClaseNotificadora alloc] init];
        ClaseReceptora *receptora = [[ClaseReceptora alloc] init];
        
        notificadora.delegado = receptora;
        [notificadora enviarNotificacion];
    }
    return 0;
}</pre></div><div class='content'></div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En esta sección, hemos aprendido sobre los protocolos y delegados en Objective-C, cómo definir y adoptar protocolos, y cómo utilizar delegados para manejar eventos y acciones de manera flexible. Estos conceptos son fundamentales para la programación en Objective-C y son ampliamente utilizados en el desarrollo de aplicaciones iOS y macOS. En el siguiente módulo, exploraremos las categorías y extensiones, que nos permitirán añadir funcionalidades a las clases existentes sin modificar su código fuente original.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-04-memory-management-best-practices' title="Mejores Prácticas de Gestión de Memoria">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-02-categories-and-extensions' title="Categorías y Extensiones">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
