<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Template Haskell</title>

    <link rel="alternate" href="https://campusempresa.com/mod/haskell/template-haskell" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/haskell/template-haskell" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/haskell/template-haskell" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/haskell/template-haskell" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/haskell/template-haskell" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/haskell/template-haskell">https://enterprisecampus.net/mod/haskell/template-haskell</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='foreign-function-interface'>&#x25C4;Interfaz de Funciones Extranjeras (FFI)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Template Haskell</a>
	</div>
	<div class='col-4 text-end'>
					<a href='metaprogramming'>Metaprogramación &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Template Haskell es una poderosa herramienta de metaprogramación en Haskell que te permite generar y manipular código Haskell programáticamente. Este tema te guiará a través de los conceptos básicos de Template Haskell, sus conceptos clave y ejemplos prácticos para ayudarte a entender y utilizar esta característica de manera efectiva.</p>
</div><h1>Introducción a Template Haskell</h1>
<div class='content'><p>Template Haskell (TH) es una extensión de Haskell que permite la metaprogramación en tiempo de compilación. Te permite escribir código que genera otro código, lo cual puede ser muy útil para tareas como:</p>
<ul>
<li>Generación de código</li>
<li>Cálculo en tiempo de compilación</li>
<li>Implementación de lenguajes específicos de dominio</li>
<li>Optimización</li>
</ul>
<p>Para usar Template Haskell, necesitas habilitar la extensión agregando la siguiente pragma en la parte superior de tu archivo Haskell:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ey0jIExBTkdVQUdFIFRlbXBsYXRlSGFza2VsbCAjLX0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{-# LANGUAGE TemplateHaskell #-}</pre></div><div class='content'></div><h1>Conceptos Clave</h1>
<div class='content'></div><h2>Quasi-Quoting</h2>
<div class='content'><p>Quasi-quoting es una forma de incluir fragmentos de código dentro de tu código Haskell que serán procesados por Template Haskell. Quasi-quoting usa una sintaxis especial para denotar código que debe ser tratado como una expresión de Template Haskell.</p>
<ul>
<li><strong>Expression Quasi-Quotes</strong>: Denotado por <code>[| ... |]</code>, usado para citar expresiones.</li>
<li><strong>Pattern Quasi-Quotes</strong>: Denotado por <code>[p| ... |]</code>, usado para citar patrones.</li>
<li><strong>Type Quasi-Quotes</strong>: Denotado por <code>[t| ... |]</code>, usado para citar tipos.</li>
<li><strong>Declaration Quasi-Quotes</strong>: Denotado por <code>[d| ... |]</code>, usado para citar declaraciones.</li>
</ul>
<p>Ejemplo:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ey0jIExBTkdVQUdFIFRlbXBsYXRlSGFza2VsbCAjLX0KCm1vZHVsZSBNYWluIHdoZXJlCgppbXBvcnQgTGFuZ3VhZ2UuSGFza2VsbC5USAoKbWFpbiA6OiBJTyAoKQptYWluID0gZG8KICBsZXQgZXhwciA9IFt8IDEgKyAyIHxdCiAgcHV0U3RyTG4gJCAiTGEgZXhwcmVzacOzbiBjaXRhZGEgZXM6ICIgKysgc2hvdyBleHBy"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{-# LANGUAGE TemplateHaskell #-}

module Main where

import Language.Haskell.TH

main :: IO ()
main = do
  let expr = [| 1 + 2 |]
  putStrLn $ &quot;La expresi&oacute;n citada es: &quot; ++ show expr</pre></div><div class='content'></div><h2>Splicing</h2>
<div class='content'><p>Splicing es el proceso de insertar el resultado de un cálculo de Template Haskell en tu código. Splicing se denota por <code>$</code> para expresiones y <code>$$</code> para declaraciones.</p>
<p>Ejemplo:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ey0jIExBTkdVQUdFIFRlbXBsYXRlSGFza2VsbCAjLX0KCm1vZHVsZSBNYWluIHdoZXJlCgppbXBvcnQgTGFuZ3VhZ2UuSGFza2VsbC5USAoKbWFpbiA6OiBJTyAoKQptYWluID0gZG8KICBsZXQgZXhwciA9ICQoIFt8IDEgKyAyIHxdICkKICBwdXRTdHJMbiAkICJMYSBleHByZXNpw7NuIGluc2VydGFkYSBldmFsw7phIGE6ICIgKysgc2hvdyBleHBy"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{-# LANGUAGE TemplateHaskell #-}

module Main where

import Language.Haskell.TH

main :: IO ()
main = do
  let expr = $( [| 1 + 2 |] )
  putStrLn $ &quot;La expresi&oacute;n insertada eval&uacute;a a: &quot; ++ show expr</pre></div><div class='content'></div><h2>Reificación</h2>
<div class='content'><p>Reificación es el proceso de consultar al compilador información sobre un nombre dado. Esto puede ser útil para la introspección y la generación de código basado en definiciones existentes.</p>
<p>Ejemplo:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ey0jIExBTkdVQUdFIFRlbXBsYXRlSGFza2VsbCAjLX0KCm1vZHVsZSBNYWluIHdoZXJlCgppbXBvcnQgTGFuZ3VhZ2UuSGFza2VsbC5USAoKbWFpbiA6OiBJTyAoKQptYWluID0gZG8KICBpbmZvIDwtIHJlaWZ5ICdtYWluCiAgcHV0U3RyTG4gJCAiSW5mb3JtYWNpw7NuIHNvYnJlICdtYWluJzogIiArKyBzaG93IGluZm8="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{-# LANGUAGE TemplateHaskell #-}

module Main where

import Language.Haskell.TH

main :: IO ()
main = do
  info &lt;- reify 'main
  putStrLn $ &quot;Informaci&oacute;n sobre 'main': &quot; ++ show info</pre></div><div class='content'></div><h2>Generación de Código</h2>
<div class='content'><p>Template Haskell te permite generar código programáticamente usando su API. Esto puede ser particularmente útil para crear código repetitivo o implementar lenguajes específicos de dominio.</p>
<p>Ejemplo:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ey0jIExBTkdVQUdFIFRlbXBsYXRlSGFza2VsbCAjLX0KCm1vZHVsZSBNYWluIHdoZXJlCgppbXBvcnQgTGFuZ3VhZ2UuSGFza2VsbC5USAoKZ2VuRnVuY3Rpb24gOjogUSBbRGVjXQpnZW5GdW5jdGlvbiA9IFtkfAogIGdlbmVyYXRlZEZ1bmN0aW9uIDo6IEludCAtPiBJbnQKICBnZW5lcmF0ZWRGdW5jdGlvbiB4ID0geCArIDEKICB8XQoKJChnZW5GdW5jdGlvbikKCm1haW4gOjogSU8gKCkKbWFpbiA9IHByaW50ICQgZ2VuZXJhdGVkRnVuY3Rpb24gNQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{-# LANGUAGE TemplateHaskell #-}

module Main where

import Language.Haskell.TH

genFunction :: Q [Dec]
genFunction = [d|
  generatedFunction :: Int -&gt; Int
  generatedFunction x = x + 1
  |]

$(genFunction)

main :: IO ()
main = print $ generatedFunction 5</pre></div><div class='content'></div><h1>Ejemplos Prácticos</h1>
<div class='content'></div><h2>Ejemplo 1: Cálculo en Tiempo de Compilación</h2>
<div class='content'><p>Template Haskell puede ser usado para realizar cálculos en tiempo de compilación, los cuales pueden ser insertados en el código.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ey0jIExBTkdVQUdFIFRlbXBsYXRlSGFza2VsbCAjLX0KCm1vZHVsZSBNYWluIHdoZXJlCgppbXBvcnQgTGFuZ3VhZ2UuSGFza2VsbC5USAoKZmFjdG9yaWFsIDo6IEludGVnZXIgLT4gSW50ZWdlcgpmYWN0b3JpYWwgMCA9IDEKZmFjdG9yaWFsIG4gPSBuICogZmFjdG9yaWFsIChuIC0gMSkKCmZhY3RvcmlhbFRIIDo6IEludGVnZXIgLT4gUSBFeHAKZmFjdG9yaWFsVEggbiA9IFt8IGZhY3RvcmlhbCBuIHxdCgptYWluIDo6IElPICgpCm1haW4gPSBkbwogIGxldCBmYWN0NSA9ICQoZmFjdG9yaWFsVEggNSkKICBwdXRTdHJMbiAkICJFbCBmYWN0b3JpYWwgZGUgNSBlczogIiArKyBzaG93IGZhY3Q1"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{-# LANGUAGE TemplateHaskell #-}

module Main where

import Language.Haskell.TH

factorial :: Integer -&gt; Integer
factorial 0 = 1
factorial n = n * factorial (n - 1)

factorialTH :: Integer -&gt; Q Exp
factorialTH n = [| factorial n |]

main :: IO ()
main = do
  let fact5 = $(factorialTH 5)
  putStrLn $ &quot;El factorial de 5 es: &quot; ++ show fact5</pre></div><div class='content'></div><h2>Ejemplo 2: Generación de Código Repetitivo</h2>
<div class='content'><p>Template Haskell puede ser usado para generar código repetitivo, como instancias para tipos de datos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ey0jIExBTkdVQUdFIFRlbXBsYXRlSGFza2VsbCAjLX0KCm1vZHVsZSBNYWluIHdoZXJlCgppbXBvcnQgTGFuZ3VhZ2UuSGFza2VsbC5USAoKZGF0YSBNeURhdGEgPSBNeURhdGEgSW50IFN0cmluZwoKZGVyaXZlU2hvdyA6OiBOYW1lIC0+IFEgW0RlY10KZGVyaXZlU2hvdyBuYW1lID0gW2R8CiAgaW5zdGFuY2UgU2hvdyAkKGNvblQgbmFtZSkgd2hlcmUKICAgIHNob3cgKE15RGF0YSBpIHMpID0gIk15RGF0YSAiICsrIHNob3cgaSArKyAiICIgKysgc2hvdyBzCiAgfF0KCiQoZGVyaXZlU2hvdyAnJ015RGF0YSkKCm1haW4gOjogSU8gKCkKbWFpbiA9IHByaW50ICQgTXlEYXRhIDQyICJIb2xhIg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{-# LANGUAGE TemplateHaskell #-}

module Main where

import Language.Haskell.TH

data MyData = MyData Int String

deriveShow :: Name -&gt; Q [Dec]
deriveShow name = [d|
  instance Show $(conT name) where
    show (MyData i s) = &quot;MyData &quot; ++ show i ++ &quot; &quot; ++ show s
  |]

$(deriveShow ''MyData)

main :: IO ()
main = print $ MyData 42 &quot;Hola&quot;</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Template Haskell es una herramienta poderosa que puede mejorar enormemente tu programación en Haskell al permitirte generar y manipular código en tiempo de compilación. Al entender y utilizar quasi-quoting, splicing, reificación y generación de código, puedes escribir programas en Haskell más eficientes y mantenibles. Practica con los ejemplos proporcionados y explora más para dominar Template Haskell y aprovechar todo su potencial en tus proyectos.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='foreign-function-interface'>&#x25C4;Interfaz de Funciones Extranjeras (FFI)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Template Haskell</a>
	</div>
	<div class='col-4 text-end'>
					<a href='metaprogramming'>Metaprogramación &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
