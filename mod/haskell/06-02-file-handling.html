<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manejo de Archivos</title>

    <link rel="alternate" href="https://campusempresa.com/mod/haskell/06-02-file-handling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/haskell/06-02-file-handling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/haskell/06-02-file-handling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/haskell/06-02-file-handling" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/haskell/06-02-file-handling" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-basic-io' title="I/O Básico">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Manejo de Archivos</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-interacting-with-system' title="Interacción con el Sistema">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En este tema, aprenderemos cómo manejar archivos en Haskell. Trabajar con archivos es una habilidad esencial para cualquier programador, ya que permite leer y escribir datos persistentes. Cubriremos los siguientes puntos:</p>
<ol>
<li><strong>Apertura y Cierre de Archivos</strong></li>
<li><strong>Lectura de Archivos</strong></li>
<li><strong>Escritura en Archivos</strong></li>
<li><strong>Manejo de Errores</strong></li>
</ol>
</div><h1><ol>
<li>Apertura y Cierre de Archivos</li>
</ol>
</h1>
<div class='content'><p>Para trabajar con archivos en Haskell, utilizamos el módulo <code>System.IO</code>. Este módulo proporciona funciones para abrir, cerrar, leer y escribir archivos.</p>
</div><h2><p>Apertura de Archivos</p>
</h2>
<div class='content'><p>Para abrir un archivo, utilizamos la función <code>openFile</code>, que toma dos argumentos: el nombre del archivo y el modo de apertura (<code>ReadMode</code>, <code>WriteMode</code>, <code>AppendMode</code>, <code>ReadWriteMode</code>).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5JTwoKbWFpbiA6OiBJTyAoKQptYWluID0gZG8KICAgIGhhbmRsZSA8LSBvcGVuRmlsZSAiZXhhbXBsZS50eHQiIFJlYWRNb2RlCiAgICAtLSBSZWFsaXphciBvcGVyYWNpb25lcyBjb24gZWwgYXJjaGl2bwogICAgaENsb3NlIGhhbmRsZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.IO

main :: IO ()
main = do
    handle &lt;- openFile &quot;example.txt&quot; ReadMode
    -- Realizar operaciones con el archivo
    hClose handle</pre></div><div class='content'></div><h2><p>Cierre de Archivos</p>
</h2>
<div class='content'><p>Es importante cerrar el archivo después de terminar de usarlo para liberar los recursos del sistema. Utilizamos la función <code>hClose</code> para cerrar el archivo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aENsb3NlIGhhbmRsZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>hClose handle</pre></div><div class='content'></div><h1><ol start="2">
<li>Lectura de Archivos</li>
</ol>
</h1>
<div class='content'><p>Haskell proporciona varias funciones para leer archivos. Las más comunes son <code>hGetContents</code>, <code>hGetLine</code> y <code>hGetChar</code>.</p>
</div><h2><p>Leer Todo el Contenido del Archivo</p>
</h2>
<div class='content'><p>La función <code>hGetContents</code> lee todo el contenido del archivo y lo devuelve como una cadena.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5JTwoKbWFpbiA6OiBJTyAoKQptYWluID0gZG8KICAgIGhhbmRsZSA8LSBvcGVuRmlsZSAiZXhhbXBsZS50eHQiIFJlYWRNb2RlCiAgICBjb250ZW50cyA8LSBoR2V0Q29udGVudHMgaGFuZGxlCiAgICBwdXRTdHJMbiBjb250ZW50cwogICAgaENsb3NlIGhhbmRsZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.IO

main :: IO ()
main = do
    handle &lt;- openFile &quot;example.txt&quot; ReadMode
    contents &lt;- hGetContents handle
    putStrLn contents
    hClose handle</pre></div><div class='content'></div><h2><p>Leer Línea por Línea</p>
</h2>
<div class='content'><p>La función <code>hGetLine</code> lee una línea del archivo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5JTwoKbWFpbiA6OiBJTyAoKQptYWluID0gZG8KICAgIGhhbmRsZSA8LSBvcGVuRmlsZSAiZXhhbXBsZS50eHQiIFJlYWRNb2RlCiAgICBsaW5lIDwtIGhHZXRMaW5lIGhhbmRsZQogICAgcHV0U3RyTG4gbGluZQogICAgaENsb3NlIGhhbmRsZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.IO

main :: IO ()
main = do
    handle &lt;- openFile &quot;example.txt&quot; ReadMode
    line &lt;- hGetLine handle
    putStrLn line
    hClose handle</pre></div><div class='content'></div><h2><p>Leer Caracter por Caracter</p>
</h2>
<div class='content'><p>La función <code>hGetChar</code> lee un carácter del archivo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5JTwoKbWFpbiA6OiBJTyAoKQptYWluID0gZG8KICAgIGhhbmRsZSA8LSBvcGVuRmlsZSAiZXhhbXBsZS50eHQiIFJlYWRNb2RlCiAgICBjaGFyIDwtIGhHZXRDaGFyIGhhbmRsZQogICAgcHV0U3RyTG4gW2NoYXJdCiAgICBoQ2xvc2UgaGFuZGxl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.IO

main :: IO ()
main = do
    handle &lt;- openFile &quot;example.txt&quot; ReadMode
    char &lt;- hGetChar handle
    putStrLn [char]
    hClose handle</pre></div><div class='content'></div><h1><ol start="3">
<li>Escritura en Archivos</li>
</ol>
</h1>
<div class='content'><p>Para escribir en archivos, utilizamos las funciones <code>hPutStr</code>, <code>hPutStrLn</code> y <code>hPutChar</code>.</p>
</div><h2><p>Escribir una Cadena</p>
</h2>
<div class='content'><p>La función <code>hPutStr</code> escribe una cadena en el archivo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5JTwoKbWFpbiA6OiBJTyAoKQptYWluID0gZG8KICAgIGhhbmRsZSA8LSBvcGVuRmlsZSAiZXhhbXBsZS50eHQiIFdyaXRlTW9kZQogICAgaFB1dFN0ciBoYW5kbGUgIkhlbGxvLCBIYXNrZWxsISIKICAgIGhDbG9zZSBoYW5kbGU="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.IO

main :: IO ()
main = do
    handle &lt;- openFile &quot;example.txt&quot; WriteMode
    hPutStr handle &quot;Hello, Haskell!&quot;
    hClose handle</pre></div><div class='content'></div><h2><p>Escribir una Línea</p>
</h2>
<div class='content'><p>La función <code>hPutStrLn</code> escribe una cadena seguida de un salto de línea.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5JTwoKbWFpbiA6OiBJTyAoKQptYWluID0gZG8KICAgIGhhbmRsZSA8LSBvcGVuRmlsZSAiZXhhbXBsZS50eHQiIFdyaXRlTW9kZQogICAgaFB1dFN0ckxuIGhhbmRsZSAiSGVsbG8sIEhhc2tlbGwhIgogICAgaENsb3NlIGhhbmRsZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.IO

main :: IO ()
main = do
    handle &lt;- openFile &quot;example.txt&quot; WriteMode
    hPutStrLn handle &quot;Hello, Haskell!&quot;
    hClose handle</pre></div><div class='content'></div><h2><p>Escribir un Carácter</p>
</h2>
<div class='content'><p>La función <code>hPutChar</code> escribe un carácter en el archivo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5JTwoKbWFpbiA6OiBJTyAoKQptYWluID0gZG8KICAgIGhhbmRsZSA8LSBvcGVuRmlsZSAiZXhhbXBsZS50eHQiIFdyaXRlTW9kZQogICAgaFB1dENoYXIgaGFuZGxlICdIJwogICAgaENsb3NlIGhhbmRsZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.IO

main :: IO ()
main = do
    handle &lt;- openFile &quot;example.txt&quot; WriteMode
    hPutChar handle 'H'
    hClose handle</pre></div><div class='content'></div><h1><ol start="4">
<li>Manejo de Errores</li>
</ol>
</h1>
<div class='content'><p>Es importante manejar errores al trabajar con archivos para evitar que el programa falle inesperadamente. Utilizamos la función <code>catch</code> del módulo <code>Control.Exception</code> para capturar excepciones.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5JTwppbXBvcnQgQ29udHJvbC5FeGNlcHRpb24KCm1haW4gOjogSU8gKCkKbWFpbiA9IGRvCiAgICByZXN1bHQgPC0gdHJ5IChvcGVuRmlsZSAibm9uZXhpc3RlbnQudHh0IiBSZWFkTW9kZSkgOjogSU8gKEVpdGhlciBJT0V4Y2VwdGlvbiBIYW5kbGUpCiAgICBjYXNlIHJlc3VsdCBvZgogICAgICAgIExlZnQgZXggIC0+IHB1dFN0ckxuICQgIkVycm9yOiAiICsrIHNob3cgZXgKICAgICAgICBSaWdodCBoYW5kbGUgLT4gZG8KICAgICAgICAgICAgY29udGVudHMgPC0gaEdldENvbnRlbnRzIGhhbmRsZQogICAgICAgICAgICBwdXRTdHJMbiBjb250ZW50cwogICAgICAgICAgICBoQ2xvc2UgaGFuZGxl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.IO
import Control.Exception

main :: IO ()
main = do
    result &lt;- try (openFile &quot;nonexistent.txt&quot; ReadMode) :: IO (Either IOException Handle)
    case result of
        Left ex  -&gt; putStrLn $ &quot;Error: &quot; ++ show ex
        Right handle -&gt; do
            contents &lt;- hGetContents handle
            putStrLn contents
            hClose handle</pre></div><div class='content'></div><h1><p>Ejercicio Práctico</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Leer y Escribir Archivos</p>
</h2>
<div class='content'><ol>
<li>Crea un programa que lea el contenido de un archivo llamado <code>input.txt</code> y lo copie a un archivo llamado <code>output.txt</code>.</li>
<li>Asegúrate de manejar cualquier error que pueda ocurrir durante la lectura o escritura de los archivos.</li>
</ol>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN5c3RlbS5JTwppbXBvcnQgQ29udHJvbC5FeGNlcHRpb24KCm1haW4gOjogSU8gKCkKbWFpbiA9IGRvCiAgICByZXN1bHQgPC0gdHJ5IChvcGVuRmlsZSAiaW5wdXQudHh0IiBSZWFkTW9kZSkgOjogSU8gKEVpdGhlciBJT0V4Y2VwdGlvbiBIYW5kbGUpCiAgICBjYXNlIHJlc3VsdCBvZgogICAgICAgIExlZnQgZXggLT4gcHV0U3RyTG4gJCAiRXJyb3IgYWwgYWJyaXIgaW5wdXQudHh0OiAiICsrIHNob3cgZXgKICAgICAgICBSaWdodCBpbkhhbmRsZSAtPiBkbwogICAgICAgICAgICBjb250ZW50cyA8LSBoR2V0Q29udGVudHMgaW5IYW5kbGUKICAgICAgICAgICAgb3V0UmVzdWx0IDwtIHRyeSAob3BlbkZpbGUgIm91dHB1dC50eHQiIFdyaXRlTW9kZSkgOjogSU8gKEVpdGhlciBJT0V4Y2VwdGlvbiBIYW5kbGUpCiAgICAgICAgICAgIGNhc2Ugb3V0UmVzdWx0IG9mCiAgICAgICAgICAgICAgICBMZWZ0IGV4IC0+IHB1dFN0ckxuICQgIkVycm9yIGFsIGFicmlyIG91dHB1dC50eHQ6ICIgKysgc2hvdyBleAogICAgICAgICAgICAgICAgUmlnaHQgb3V0SGFuZGxlIC0+IGRvCiAgICAgICAgICAgICAgICAgICAgaFB1dFN0ciBvdXRIYW5kbGUgY29udGVudHMKICAgICAgICAgICAgICAgICAgICBoQ2xvc2Ugb3V0SGFuZGxlCiAgICAgICAgICAgIGhDbG9zZSBpbkhhbmRsZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import System.IO
import Control.Exception

main :: IO ()
main = do
    result &lt;- try (openFile &quot;input.txt&quot; ReadMode) :: IO (Either IOException Handle)
    case result of
        Left ex -&gt; putStrLn $ &quot;Error al abrir input.txt: &quot; ++ show ex
        Right inHandle -&gt; do
            contents &lt;- hGetContents inHandle
            outResult &lt;- try (openFile &quot;output.txt&quot; WriteMode) :: IO (Either IOException Handle)
            case outResult of
                Left ex -&gt; putStrLn $ &quot;Error al abrir output.txt: &quot; ++ show ex
                Right outHandle -&gt; do
                    hPutStr outHandle contents
                    hClose outHandle
            hClose inHandle</pre></div><div class='content'></div><h2><p>Resumen</p>
</h2>
<div class='content'><p>En esta sección, hemos aprendido cómo manejar archivos en Haskell. Hemos cubierto cómo abrir y cerrar archivos, leer y escribir datos, y manejar errores. Estos conceptos son fundamentales para trabajar con datos persistentes en Haskell y te preparan para tareas más avanzadas en programación funcional.</p>
<p>En el próximo tema, exploraremos cómo interactuar con el sistema utilizando Haskell.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-basic-io' title="I/O Básico">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-interacting-with-system' title="Interacción con el Sistema">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
