<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Estrategias de Despliegue</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ci_cd/03-03-estrategias-despliegue" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ci_cd/03-03-estrategies-desplegament" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ci_cd/03-03-deployment-strategies" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/ci_cd/03-03-deployment-strategies" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/ci_cd/03-03-estrategies-desplegament" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Todo el conocimiento a tu alcance</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-02-automatizacion-despliegue' title="Automatización del Despliegue">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Estrategias de Despliegue</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-04-monitoreo-retroalimentacion' title="Monitoreo y Retroalimentación">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En este tema, exploraremos diversas estrategias de despliegue que se utilizan en el Despliegue Continuo (CD). Estas estrategias son esenciales para minimizar el tiempo de inactividad, reducir riesgos y asegurar una transición suave de una versión a otra. A continuación, desglosaremos cada estrategia, proporcionando ejemplos y ejercicios prácticos para reforzar los conceptos.</p>
</div><h1><ol>
<li>Despliegue en Azul/Verde (Blue/Green Deployment)</li>
</ol></h1>
<div class='content'></div><h2>Concepto</h2>
<div class='content'><p>El despliegue en azul/verde implica tener dos entornos de producción idénticos: uno activo (verde) y otro inactivo (azul). La nueva versión del software se despliega en el entorno inactivo. Una vez que se verifica que la nueva versión funciona correctamente, el tráfico se redirige al entorno inactivo, que ahora se convierte en el activo.</p>
</div><h2>Ventajas</h2>
<div class='content'><ul>
<li><strong>Minimiza el tiempo de inactividad</strong>: El cambio entre versiones es casi instantáneo.</li>
<li><strong>Facilita la reversión</strong>: Si algo sale mal, es fácil volver a la versión anterior.</li>
</ul>
</div><h2>Desventajas</h2>
<div class='content'><ul>
<li><strong>Costos</strong>: Requiere el doble de recursos, ya que se mantienen dos entornos de producción.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvIGRlIGNvbmZpZ3VyYWNpw7NuIGRlIHVuIGRlc3BsaWVndWUgYXp1bC92ZXJkZSBlbiBLdWJlcm5ldGVzCmFwaVZlcnNpb246IGFwcHMvdjEKa2luZDogRGVwbG95bWVudAptZXRhZGF0YToKICBuYW1lOiBteS1hcHAtYmx1ZQpzcGVjOgogIHJlcGxpY2FzOiAzCiAgdGVtcGxhdGU6CiAgICBtZXRhZGF0YToKICAgICAgbGFiZWxzOgogICAgICAgIGFwcDogbXktYXBwCiAgICAgICAgdmVyc2lvbjogYmx1ZQogICAgc3BlYzoKICAgICAgY29udGFpbmVyczoKICAgICAgLSBuYW1lOiBteS1hcHAKICAgICAgICBpbWFnZTogbXktYXBwOmJsdWUKCi0tLQphcGlWZXJzaW9uOiBhcHBzL3YxCmtpbmQ6IERlcGxveW1lbnQKbWV0YWRhdGE6CiAgbmFtZTogbXktYXBwLWdyZWVuCnNwZWM6CiAgcmVwbGljYXM6IDMKICB0ZW1wbGF0ZToKICAgIG1ldGFkYXRhOgogICAgICBsYWJlbHM6CiAgICAgICAgYXBwOiBteS1hcHAKICAgICAgICB2ZXJzaW9uOiBncmVlbgogICAgc3BlYzoKICAgICAgY29udGFpbmVyczoKICAgICAgLSBuYW1lOiBteS1hcHAKICAgICAgICBpbWFnZTogbXktYXBwOmdyZWVu"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo de configuraci&oacute;n de un despliegue azul/verde en Kubernetes
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-blue
spec:
  replicas: 3
  template:
    metadata:
      labels:
        app: my-app
        version: blue
    spec:
      containers:
      - name: my-app
        image: my-app:blue

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-green
spec:
  replicas: 3
  template:
    metadata:
      labels:
        app: my-app
        version: green
    spec:
      containers:
      - name: my-app
        image: my-app:green</pre></div><div class='content'></div><h2>Ejercicio</h2>
<div class='content'><ol>
<li>Configura un despliegue azul/verde en tu entorno utilizando Kubernetes.</li>
<li>Verifica que puedes cambiar el tráfico entre las versiones azul y verde sin tiempo de inactividad.</li>
</ol>
</div><h1><ol start="2">
<li>Despliegue Canario (Canary Deployment)</li>
</ol></h1>
<div class='content'></div><h2>Concepto</h2>
<div class='content'><p>El despliegue canario implica liberar la nueva versión del software a un pequeño subconjunto de usuarios antes de hacerla disponible para todos. Esto permite probar la nueva versión en un entorno de producción real con un riesgo mínimo.</p>
</div><h2>Ventajas</h2>
<div class='content'><ul>
<li><strong>Reducción de riesgos</strong>: Solo un pequeño porcentaje de usuarios se ve afectado si hay problemas.</li>
<li><strong>Feedback temprano</strong>: Permite obtener retroalimentación temprana sobre la nueva versión.</li>
</ul>
</div><h2>Desventajas</h2>
<div class='content'><ul>
<li><strong>Complejidad</strong>: Requiere una gestión cuidadosa del tráfico y monitoreo.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvIGRlIGNvbmZpZ3VyYWNpw7NuIGRlIHVuIGRlc3BsaWVndWUgY2FuYXJpbyBlbiBLdWJlcm5ldGVzCmFwaVZlcnNpb246IGFwcHMvdjEKa2luZDogRGVwbG95bWVudAptZXRhZGF0YToKICBuYW1lOiBteS1hcHAtY2FuYXJ5CnNwZWM6CiAgcmVwbGljYXM6IDEKICB0ZW1wbGF0ZToKICAgIG1ldGFkYXRhOgogICAgICBsYWJlbHM6CiAgICAgICAgYXBwOiBteS1hcHAKICAgICAgICB2ZXJzaW9uOiBjYW5hcnkKICAgIHNwZWM6CiAgICAgIGNvbnRhaW5lcnM6CiAgICAgIC0gbmFtZTogbXktYXBwCiAgICAgICAgaW1hZ2U6IG15LWFwcDpjYW5hcnkKCi0tLQphcGlWZXJzaW9uOiBhcHBzL3YxCmtpbmQ6IERlcGxveW1lbnQKbWV0YWRhdGE6CiAgbmFtZTogbXktYXBwLXN0YWJsZQpzcGVjOgogIHJlcGxpY2FzOiA5CiAgdGVtcGxhdGU6CiAgICBtZXRhZGF0YToKICAgICAgbGFiZWxzOgogICAgICAgIGFwcDogbXktYXBwCiAgICAgICAgdmVyc2lvbjogc3RhYmxlCiAgICBzcGVjOgogICAgICBjb250YWluZXJzOgogICAgICAtIG5hbWU6IG15LWFwcAogICAgICAgIGltYWdlOiBteS1hcHA6c3RhYmxl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo de configuraci&oacute;n de un despliegue canario en Kubernetes
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-canary
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: my-app
        version: canary
    spec:
      containers:
      - name: my-app
        image: my-app:canary

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-stable
spec:
  replicas: 9
  template:
    metadata:
      labels:
        app: my-app
        version: stable
    spec:
      containers:
      - name: my-app
        image: my-app:stable</pre></div><div class='content'></div><h2>Ejercicio</h2>
<div class='content'><ol>
<li>Configura un despliegue canario en tu entorno utilizando Kubernetes.</li>
<li>Monitorea el comportamiento de la nueva versión y ajusta el tráfico según sea necesario.</li>
</ol>
</div><h1><ol start="3">
<li>Despliegue Rolling (Rolling Deployment)</li>
</ol></h1>
<div class='content'></div><h2>Concepto</h2>
<div class='content'><p>El despliegue rolling actualiza gradualmente las instancias de la aplicación con la nueva versión, una a la vez, sin tiempo de inactividad. Esto asegura que siempre haya instancias disponibles para manejar el tráfico.</p>
</div><h2>Ventajas</h2>
<div class='content'><ul>
<li><strong>Sin tiempo de inactividad</strong>: La aplicación sigue siendo accesible durante el despliegue.</li>
<li><strong>Despliegue gradual</strong>: Permite detectar problemas antes de que afecten a todos los usuarios.</li>
</ul>
</div><h2>Desventajas</h2>
<div class='content'><ul>
<li><strong>Complejidad en la gestión</strong>: Requiere un monitoreo cuidadoso para asegurar que las nuevas instancias funcionen correctamente.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvIGRlIGNvbmZpZ3VyYWNpw7NuIGRlIHVuIGRlc3BsaWVndWUgcm9sbGluZyBlbiBLdWJlcm5ldGVzCmFwaVZlcnNpb246IGFwcHMvdjEKa2luZDogRGVwbG95bWVudAptZXRhZGF0YToKICBuYW1lOiBteS1hcHAKc3BlYzoKICByZXBsaWNhczogMTAKICBzdHJhdGVneToKICAgIHR5cGU6IFJvbGxpbmdVcGRhdGUKICAgIHJvbGxpbmdVcGRhdGU6CiAgICAgIG1heFVuYXZhaWxhYmxlOiAxCiAgICAgIG1heFN1cmdlOiAxCiAgdGVtcGxhdGU6CiAgICBtZXRhZGF0YToKICAgICAgbGFiZWxzOgogICAgICAgIGFwcDogbXktYXBwCiAgICBzcGVjOgogICAgICBjb250YWluZXJzOgogICAgICAtIG5hbWU6IG15LWFwcAogICAgICAgIGltYWdlOiBteS1hcHA6bGF0ZXN0"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo de configuraci&oacute;n de un despliegue rolling en Kubernetes
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app
spec:
  replicas: 10
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1
      maxSurge: 1
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-app
        image: my-app:latest</pre></div><div class='content'></div><h2>Ejercicio</h2>
<div class='content'><ol>
<li>Configura un despliegue rolling en tu entorno utilizando Kubernetes.</li>
<li>Asegúrate de que la aplicación sigue siendo accesible durante el despliegue.</li>
</ol>
</div><h1><ol start="4">
<li>Despliegue de Sombra (Shadow Deployment)</li>
</ol></h1>
<div class='content'></div><h2>Concepto</h2>
<div class='content'><p>El despliegue de sombra implica desplegar la nueva versión en paralelo con la versión actual, pero sin dirigir el tráfico de usuarios reales a la nueva versión. En su lugar, se envía una copia del tráfico a la nueva versión para probar su comportamiento.</p>
</div><h2>Ventajas</h2>
<div class='content'><ul>
<li><strong>Pruebas en producción</strong>: Permite probar la nueva versión en un entorno de producción real sin afectar a los usuarios.</li>
<li><strong>Detección temprana de problemas</strong>: Identifica problemas antes de que la nueva versión se haga pública.</li>
</ul>
</div><h2>Desventajas</h2>
<div class='content'><ul>
<li><strong>Complejidad</strong>: Requiere duplicar el tráfico y gestionar dos versiones en paralelo.</li>
<li><strong>Costos</strong>: Puede ser costoso en términos de recursos.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvIGRlIGNvbmZpZ3VyYWNpw7NuIGRlIHVuIGRlc3BsaWVndWUgZGUgc29tYnJhIGVuIEt1YmVybmV0ZXMKYXBpVmVyc2lvbjogYXBwcy92MQpraW5kOiBEZXBsb3ltZW50Cm1ldGFkYXRhOgogIG5hbWU6IG15LWFwcC1zaGFkb3cKc3BlYzoKICByZXBsaWNhczogMQogIHRlbXBsYXRlOgogICAgbWV0YWRhdGE6CiAgICAgIGxhYmVsczoKICAgICAgICBhcHA6IG15LWFwcAogICAgICAgIHZlcnNpb246IHNoYWRvdwogICAgc3BlYzoKICAgICAgY29udGFpbmVyczoKICAgICAgLSBuYW1lOiBteS1hcHAKICAgICAgICBpbWFnZTogbXktYXBwOnNoYWRvdw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo de configuraci&oacute;n de un despliegue de sombra en Kubernetes
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-shadow
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: my-app
        version: shadow
    spec:
      containers:
      - name: my-app
        image: my-app:shadow</pre></div><div class='content'></div><h2>Ejercicio</h2>
<div class='content'><ol>
<li>Configura un despliegue de sombra en tu entorno utilizando Kubernetes.</li>
<li>Envía una copia del tráfico a la nueva versión y monitorea su comportamiento.</li>
</ol>
</div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos explorado varias estrategias de despliegue, cada una con sus propias ventajas y desventajas. La elección de la estrategia adecuada depende de las necesidades específicas de tu proyecto y de los recursos disponibles. Asegúrate de practicar cada una de estas estrategias en un entorno controlado para comprender mejor sus implicaciones y beneficios.</p>
<p>En el siguiente módulo, profundizaremos en la automatización del despliegue, donde aprenderás a implementar estas estrategias de manera eficiente utilizando herramientas de CI/CD.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-02-automatizacion-despliegue' title="Automatización del Despliegue">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-04-monitoreo-retroalimentacion' title="Monitoreo y Retroalimentación">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicidad</h1>
<p>Este espacio está destinado a publicidad.</p>
<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>¡Gracias por colaborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
