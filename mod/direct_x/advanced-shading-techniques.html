<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Técnicas Avanzadas de Sombreado</title>

    <link rel="alternate" href="https://campusempresa.com/mod/direct_x/advanced-shading-techniques" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/direct_x/advanced-shading-techniques" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/direct_x/advanced-shading-techniques" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/direct_x/advanced-shading-techniques" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/direct_x/advanced-shading-techniques" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/direct_x/advanced-shading-techniques">https://enterprisecampus.net/mod/direct_x/advanced-shading-techniques</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='rendering-techniques'>&#x25C4;Técnicas de Renderizado</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Técnicas Avanzadas de Sombreado</a>
	</div>
	<div class='col-4 text-end'>
					<a href='post-processing-effects'>Efectos de Post-Procesamiento &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En esta sección, profundizaremos en técnicas avanzadas de sombreado utilizando DirectX. El sombreado es un aspecto crucial para renderizar gráficos realistas, y dominar estas técnicas mejorará significativamente la calidad visual de tus aplicaciones.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Shaders</strong>: Pequeños programas que se ejecutan en la GPU para controlar el pipeline de renderizado.</li>
<li><strong>HLSL (High-Level Shading Language)</strong>: El lenguaje utilizado para escribir shaders en DirectX.</li>
<li><strong>Modelos de Iluminación</strong>: Técnicas para simular la interacción de la luz con las superficies.</li>
<li><strong>Mapeo de Sombras</strong>: Técnica para añadir sombras a una escena.</li>
<li><strong>Mapeo de Normales</strong>: Técnica para añadir texturas detalladas sin aumentar el conteo de polígonos.</li>
<li><strong>Mapeo de Parallax</strong>: Técnica para crear una ilusión de profundidad en las texturas.</li>
<li><strong>Oclusión Ambiental en Espacio de Pantalla (SSAO)</strong>: Técnica para simular sombras suaves en las hendiduras.</li>
</ul>
</div><h1>Shaders en DirectX</h1>
<div class='content'><p>Los shaders son esenciales para crear efectos visuales avanzados. Hay varios tipos de shaders:</p>
<ul>
<li><strong>Vertex Shader</strong>: Procesa los atributos de cada vértice.</li>
<li><strong>Pixel Shader</strong>: Determina el color de cada píxel.</li>
<li><strong>Geometry Shader</strong>: Procesa primitivas completas (como triángulos).</li>
</ul>
</div><h2>Ejemplo: Vertex y Pixel Shader Básico</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVmVydGV4IFNoYWRlcgpzdHJ1Y3QgVlNfSU5QVVQgewogICAgZmxvYXQ0IFBvcyA6IFBPU0lUSU9OOwogICAgZmxvYXQ0IENvbG9yIDogQ09MT1I7Cn07CgpzdHJ1Y3QgUFNfSU5QVVQgewogICAgZmxvYXQ0IFBvcyA6IFNWX1BPU0lUSU9OOwogICAgZmxvYXQ0IENvbG9yIDogQ09MT1I7Cn07CgpQU19JTlBVVCBWUyhWU19JTlBVVCBpbnB1dCkgewogICAgUFNfSU5QVVQgb3V0cHV0OwogICAgb3V0cHV0LlBvcyA9IGlucHV0LlBvczsKICAgIG91dHB1dC5Db2xvciA9IGlucHV0LkNvbG9yOwogICAgcmV0dXJuIG91dHB1dDsKfQoKLy8gUGl4ZWwgU2hhZGVyCmZsb2F0NCBQUyhQU19JTlBVVCBpbnB1dCkgOiBTVl9UYXJnZXQgewogICAgcmV0dXJuIGlucHV0LkNvbG9yOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Vertex Shader
struct VS_INPUT {
    float4 Pos : POSITION;
    float4 Color : COLOR;
};

struct PS_INPUT {
    float4 Pos : SV_POSITION;
    float4 Color : COLOR;
};

PS_INPUT VS(VS_INPUT input) {
    PS_INPUT output;
    output.Pos = input.Pos;
    output.Color = input.Color;
    return output;
}

// Pixel Shader
float4 PS(PS_INPUT input) : SV_Target {
    return input.Color;
}</pre></div><div class='content'><p>Este ejemplo demuestra un vertex y pixel shader de paso simple. El vertex shader toma la posición y el color del vértice como entrada y los pasa al pixel shader, que luego produce el color.</p>
</div><h1>Modelos de Iluminación</h1>
<div class='content'><p>Los modelos de iluminación se utilizan para simular cómo la luz interactúa con las superficies. Los modelos comunes incluyen:</p>
<ul>
<li><strong>Iluminación Phong</strong>: Simula reflejos especulares.</li>
<li><strong>Iluminación Blinn-Phong</strong>: Una variación de Phong con mejor rendimiento.</li>
<li><strong>PBR (Renderizado Basado en Física)</strong>: Simula propiedades de materiales realistas.</li>
</ul>
</div><h2>Ejemplo: Iluminación Blinn-Phong</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmxvYXQ0IEJsaW5uUGhvbmdMaWdodGluZyhmbG9hdDMgbm9ybWFsLCBmbG9hdDMgbGlnaHREaXIsIGZsb2F0MyB2aWV3RGlyLCBmbG9hdDMgbGlnaHRDb2xvciwgZmxvYXQzIGFtYmllbnRDb2xvcikgewogICAgZmxvYXQzIGhhbGZWZWN0b3IgPSBub3JtYWxpemUobGlnaHREaXIgKyB2aWV3RGlyKTsKICAgIGZsb2F0IHNwZWN1bGFyID0gcG93KG1heChkb3Qobm9ybWFsLCBoYWxmVmVjdG9yKSwgMC4wKSwgMTYpOwogICAgZmxvYXQgZGlmZnVzZSA9IG1heChkb3Qobm9ybWFsLCBsaWdodERpciksIDAuMCk7CiAgICByZXR1cm4gZmxvYXQ0KGFtYmllbnRDb2xvciArIGxpZ2h0Q29sb3IgKiAoZGlmZnVzZSArIHNwZWN1bGFyKSwgMS4wKTsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>float4 BlinnPhongLighting(float3 normal, float3 lightDir, float3 viewDir, float3 lightColor, float3 ambientColor) {
    float3 halfVector = normalize(lightDir + viewDir);
    float specular = pow(max(dot(normal, halfVector), 0.0), 16);
    float diffuse = max(dot(normal, lightDir), 0.0);
    return float4(ambientColor + lightColor * (diffuse + specular), 1.0);
}</pre></div><div class='content'><p>Esta función calcula el modelo de iluminación Blinn-Phong, combinando componentes ambientales, difusas y especulares.</p>
</div><h1>Mapeo de Sombras</h1>
<div class='content'><p>El mapeo de sombras es una técnica para añadir sombras a una escena renderizando la escena desde la perspectiva de la luz.</p>
</div><h2>Ejemplo: Pasos del Mapeo de Sombras</h2>
<div class='content'><ol>
<li><strong>Renderizar el Mapa de Profundidad</strong>: Renderizar la escena desde la perspectiva de la luz y almacenar la información de profundidad.</li>
<li><strong>Cálculo de Sombras</strong>: En el pixel shader, comparar la profundidad del píxel actual con el mapa de profundidad para determinar si está en sombra.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ8OhbGN1bG8gZGUgU29tYnJhcyBlbiBQaXhlbCBTaGFkZXIKZmxvYXQgU2hhZG93Q2FsY3VsYXRpb24oZmxvYXQ0IGxpZ2h0U3BhY2VQb3MsIFRleHR1cmUyRCBzaGFkb3dNYXAsIFNhbXBsZXJTdGF0ZSBzaGFkb3dTYW1wbGVyKSB7CiAgICBmbG9hdCBzaGFkb3cgPSAwLjA7CiAgICBmbG9hdDIgdXYgPSBsaWdodFNwYWNlUG9zLnh5IC8gbGlnaHRTcGFjZVBvcy53OwogICAgZmxvYXQgZGVwdGggPSBsaWdodFNwYWNlUG9zLnogLyBsaWdodFNwYWNlUG9zLnc7CiAgICBmbG9hdCBzaGFkb3dEZXB0aCA9IHNoYWRvd01hcC5TYW1wbGUoc2hhZG93U2FtcGxlciwgdXYpLnI7CiAgICBpZiAoZGVwdGggPiBzaGFkb3dEZXB0aCArIDAuMDA1KSB7CiAgICAgICAgc2hhZG93ID0gMS4wOwogICAgfQogICAgcmV0dXJuIHNoYWRvdzsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// C&aacute;lculo de Sombras en Pixel Shader
float ShadowCalculation(float4 lightSpacePos, Texture2D shadowMap, SamplerState shadowSampler) {
    float shadow = 0.0;
    float2 uv = lightSpacePos.xy / lightSpacePos.w;
    float depth = lightSpacePos.z / lightSpacePos.w;
    float shadowDepth = shadowMap.Sample(shadowSampler, uv).r;
    if (depth &gt; shadowDepth + 0.005) {
        shadow = 1.0;
    }
    return shadow;
}</pre></div><div class='content'><p>Esta función verifica si un píxel está en sombra comparando su profundidad con el mapa de sombras.</p>
</div><h1>Mapeo de Normales</h1>
<div class='content'><p>El mapeo de normales añade texturas detalladas a las superficies sin aumentar el conteo de polígonos.</p>
</div><h2>Ejemplo: Mapeo de Normales</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmxvYXQzIE5vcm1hbE1hcHBpbmcoZmxvYXQzIG5vcm1hbCwgZmxvYXQzIHRhbmdlbnQsIGZsb2F0MyBiaXRhbmdlbnQsIGZsb2F0MyBub3JtYWxNYXApIHsKICAgIGZsb2F0M3gzIFRCTiA9IGZsb2F0M3gzKHRhbmdlbnQsIGJpdGFuZ2VudCwgbm9ybWFsKTsKICAgIHJldHVybiBub3JtYWxpemUobXVsKG5vcm1hbE1hcCwgVEJOKSk7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>float3 NormalMapping(float3 normal, float3 tangent, float3 bitangent, float3 normalMap) {
    float3x3 TBN = float3x3(tangent, bitangent, normal);
    return normalize(mul(normalMap, TBN));
}</pre></div><div class='content'><p>Esta función transforma el mapa de normales del espacio tangente al espacio mundial utilizando la matriz TBN.</p>
</div><h1>Mapeo de Parallax</h1>
<div class='content'><p>El mapeo de parallax crea una ilusión de profundidad en las texturas desplazando las coordenadas de textura.</p>
</div><h2>Ejemplo: Mapeo de Parallax</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmxvYXQyIFBhcmFsbGF4TWFwcGluZyhmbG9hdDIgdGV4Q29vcmRzLCBmbG9hdDMgdmlld0RpciwgZmxvYXQgaGVpZ2h0U2NhbGUsIFRleHR1cmUyRCBoZWlnaHRNYXAsIFNhbXBsZXJTdGF0ZSBzYW1wbGVyKSB7CiAgICBmbG9hdCBoZWlnaHQgPSBoZWlnaHRNYXAuU2FtcGxlKHNhbXBsZXIsIHRleENvb3JkcykucjsKICAgIGZsb2F0MiBvZmZzZXQgPSB2aWV3RGlyLnh5ICogKGhlaWdodCAqIGhlaWdodFNjYWxlKTsKICAgIHJldHVybiB0ZXhDb29yZHMgKyBvZmZzZXQ7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>float2 ParallaxMapping(float2 texCoords, float3 viewDir, float heightScale, Texture2D heightMap, SamplerState sampler) {
    float height = heightMap.Sample(sampler, texCoords).r;
    float2 offset = viewDir.xy * (height * heightScale);
    return texCoords + offset;
}</pre></div><div class='content'><p>Esta función desplaza las coordenadas de textura basándose en la dirección de vista y el mapa de altura para crear un efecto de parallax.</p>
</div><h1>Oclusión Ambiental en Espacio de Pantalla (SSAO)</h1>
<div class='content'><p>SSAO simula sombras suaves en las hendiduras analizando el buffer de profundidad.</p>
</div><h2>Ejemplo: SSAO</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmxvYXQgQ2FsY3VsYXRlU1NBTyhmbG9hdDMgcG9zLCBmbG9hdDMgbm9ybWFsLCBUZXh0dXJlMkQgZGVwdGhNYXAsIFNhbXBsZXJTdGF0ZSBzYW1wbGVyKSB7CiAgICBmbG9hdCBvY2NsdXNpb24gPSAwLjA7CiAgICBmb3IgKGludCBpID0gMDsgaSA8IDE2OyArK2kpIHsKICAgICAgICBmbG9hdDMgc2FtcGxlUG9zID0gcG9zICsgc2FtcGxlS2VybmVsW2ldICogcmFkaXVzOwogICAgICAgIGZsb2F0IHNhbXBsZURlcHRoID0gZGVwdGhNYXAuU2FtcGxlKHNhbXBsZXIsIHNhbXBsZVBvcy54eSkucjsKICAgICAgICBpZiAoc2FtcGxlRGVwdGggPCBzYW1wbGVQb3MueikgewogICAgICAgICAgICBvY2NsdXNpb24gKz0gMS4wOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBvY2NsdXNpb24gLyAxNi4wOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>float CalculateSSAO(float3 pos, float3 normal, Texture2D depthMap, SamplerState sampler) {
    float occlusion = 0.0;
    for (int i = 0; i &lt; 16; ++i) {
        float3 samplePos = pos + sampleKernel[i] * radius;
        float sampleDepth = depthMap.Sample(sampler, samplePos.xy).r;
        if (sampleDepth &lt; samplePos.z) {
            occlusion += 1.0;
        }
    }
    return occlusion / 16.0;
}</pre></div><div class='content'><p>Esta función calcula la oclusión ambiental muestreando el mapa de profundidad alrededor del píxel actual.</p>
</div><h1>Conclusión</h1>
<div class='content'><p>Las técnicas avanzadas de sombreado en DirectX, como los modelos de iluminación, el mapeo de sombras, el mapeo de normales, el mapeo de parallax y el SSAO, son esenciales para crear gráficos realistas y visualmente atractivos. Al dominar estas técnicas, puedes mejorar significativamente la calidad de tus aplicaciones. Practica implementando estas técnicas y experimenta con diferentes parámetros para ver sus efectos en tus escenas.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='rendering-techniques'>&#x25C4;Técnicas de Renderizado</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Técnicas Avanzadas de Sombreado</a>
	</div>
	<div class='col-4 text-end'>
					<a href='post-processing-effects'>Efectos de Post-Procesamiento &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
