<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perl en la Administración de Sistemas</title>

    <link rel="alternate" href="https://campusempresa.com/mod/perl/07-02-perl-in-system-administration" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/perl/07-02-perl-in-system-administration" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/perl/07-02-perl-in-system-administration" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/perl/07-02-perl-in-system-administration" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/perl/07-02-perl-in-system-administration" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-01-cpan-and-perl-community' title="CPAN y la Comunidad Perl">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Perl en la Administración de Sistemas</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-03-perl-for-data-processing' title="Perl para el Procesamiento de Datos">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La administración de sistemas es una de las áreas donde Perl ha demostrado ser extremadamente útil debido a su capacidad para manipular archivos, interactuar con el sistema operativo y automatizar tareas repetitivas. En este módulo, exploraremos cómo Perl puede ser utilizado para diversas tareas de administración de sistemas.</p>
</div><h1>Contenido</h1>
<div class='content'><ol>
<li><a href="#introducción-a-la-administración-de-sistemas-con-perl">Introducción a la Administración de Sistemas con Perl</a></li>
<li><a href="#manipulación-de-archivos-y-directorios">Manipulación de Archivos y Directorios</a></li>
<li><a href="#automatización-de-tareas">Automatización de Tareas</a></li>
<li><a href="#interacción-con-el-sistema-operativo">Interacción con el Sistema Operativo</a></li>
<li><a href="#monitoreo-del-sistema">Monitoreo del Sistema</a></li>
<li><a href="#ejercicios-prácticos">Ejercicios Prácticos</a></li>
<li><a href="#conclusión">Conclusión</a></li>
</ol>
</div><h1>Introducción a la Administración de Sistemas con Perl</h1>
<div class='content'><p>Perl es una herramienta poderosa para la administración de sistemas debido a su flexibilidad y capacidad para manejar tareas complejas con facilidad. Algunas de las tareas comunes que se pueden realizar con Perl incluyen:</p>
<ul>
<li>Manipulación de archivos y directorios.</li>
<li>Automatización de tareas repetitivas.</li>
<li>Interacción con el sistema operativo.</li>
<li>Monitoreo y reporte del estado del sistema.</li>
</ul>
</div><h1>Manipulación de Archivos y Directorios</h1>
<div class='content'></div><h2>Listar Archivos en un Directorio</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwp1c2UgRmlsZTo6RmluZDsKCm15ICRkaXJlY3RvcnkgPSAnL3BhdGgvdG8vZGlyZWN0b3J5JzsKCm9wZW5kaXIobXkgJGRoLCAkZGlyZWN0b3J5KSBvciBkaWUgIk5vIHNlIHB1ZWRlIGFicmlyIGVsIGRpcmVjdG9yaW8gJGRpcmVjdG9yeTogJCEiOwp3aGlsZSAobXkgJGZpbGUgPSByZWFkZGlyKCRkaCkpIHsKICAgIHByaW50ICIkZmlsZVxuIjsKfQpjbG9zZWRpcigkZGgpOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use strict;
use warnings;
use File::Find;

my $directory = '/path/to/directory';

opendir(my $dh, $directory) or die &quot;No se puede abrir el directorio $directory: $!&quot;;
while (my $file = readdir($dh)) {
    print &quot;$file\n&quot;;
}
closedir($dh);</pre></div><div class='content'></div><h2>Crear y Eliminar Archivos</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKIyBDcmVhciB1biBhcmNoaXZvCm15ICRmaWxlbmFtZSA9ICdleGFtcGxlLnR4dCc7Cm9wZW4obXkgJGZoLCAnPicsICRmaWxlbmFtZSkgb3IgZGllICJObyBzZSBwdWVkZSBjcmVhciBlbCBhcmNoaXZvICRmaWxlbmFtZTogJCEiOwpwcmludCAkZmggIkNvbnRlbmlkbyBkZWwgYXJjaGl2b1xuIjsKY2xvc2UoJGZoKTsKCiMgRWxpbWluYXIgdW4gYXJjaGl2bwp1bmxpbmsgJGZpbGVuYW1lIG9yIHdhcm4gIk5vIHNlIHB1ZWRlIGVsaW1pbmFyIGVsIGFyY2hpdm8gJGZpbGVuYW1lOiAkISI7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use strict;
use warnings;

# Crear un archivo
my $filename = 'example.txt';
open(my $fh, '&gt;', $filename) or die &quot;No se puede crear el archivo $filename: $!&quot;;
print $fh &quot;Contenido del archivo\n&quot;;
close($fh);

# Eliminar un archivo
unlink $filename or warn &quot;No se puede eliminar el archivo $filename: $!&quot;;</pre></div><div class='content'></div><h2>Crear y Eliminar Directorios</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwp1c2UgRmlsZTo6UGF0aCBxdyhtYWtlX3BhdGggcmVtb3ZlX3RyZWUpOwoKIyBDcmVhciB1biBkaXJlY3RvcmlvCm15ICRkaXIgPSAnZXhhbXBsZV9kaXInOwptYWtlX3BhdGgoJGRpcikgb3IgZGllICJObyBzZSBwdWVkZSBjcmVhciBlbCBkaXJlY3RvcmlvICRkaXI6ICQhIjsKCiMgRWxpbWluYXIgdW4gZGlyZWN0b3JpbwpyZW1vdmVfdHJlZSgkZGlyKSBvciB3YXJuICJObyBzZSBwdWVkZSBlbGltaW5hciBlbCBkaXJlY3RvcmlvICRkaXI6ICQhIjs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use strict;
use warnings;
use File::Path qw(make_path remove_tree);

# Crear un directorio
my $dir = 'example_dir';
make_path($dir) or die &quot;No se puede crear el directorio $dir: $!&quot;;

# Eliminar un directorio
remove_tree($dir) or warn &quot;No se puede eliminar el directorio $dir: $!&quot;;</pre></div><div class='content'></div><h1>Automatización de Tareas</h1>
<div class='content'></div><h2>Ejecución de Comandos del Sistema</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKbXkgJGNvbW1hbmQgPSAnbHMgLWwnOwpteSBAb3V0cHV0ID0gYCRjb21tYW5kYDsKCmZvcmVhY2ggbXkgJGxpbmUgKEBvdXRwdXQpIHsKICAgIHByaW50ICRsaW5lOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use strict;
use warnings;

my $command = 'ls -l';
my @output = `$command`;

foreach my $line (@output) {
    print $line;
}</pre></div><div class='content'></div><h2>Programación de Tareas con `cron`</h2>
<div class='content'><p>Perl puede ser utilizado para escribir scripts que se ejecuten periódicamente utilizando <code>cron</code>. Aquí hay un ejemplo de un script Perl que se puede programar con <code>cron</code> para realizar una copia de seguridad diaria:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvdXNyL2Jpbi9wZXJsCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKdXNlIEZpbGU6OkNvcHk7CgpteSAkc291cmNlID0gJy9wYXRoL3RvL3NvdXJjZSc7Cm15ICRkZXN0aW5hdGlvbiA9ICcvcGF0aC90by9kZXN0aW5hdGlvbic7Cgpjb3B5KCRzb3VyY2UsICRkZXN0aW5hdGlvbikgb3IgZGllICJObyBzZSBwdWVkZSBjb3BpYXIgJHNvdXJjZSBhICRkZXN0aW5hdGlvbjogJCEiOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/usr/bin/perl
use strict;
use warnings;
use File::Copy;

my $source = '/path/to/source';
my $destination = '/path/to/destination';

copy($source, $destination) or die &quot;No se puede copiar $source a $destination: $!&quot;;</pre></div><div class='content'><p>Para programar este script con <code>cron</code>, edita el archivo <code>crontab</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y3JvbnRhYiAtZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>crontab -e</pre></div><div class='content'><p>Y añade la siguiente línea para ejecutar el script todos los días a las 2 AM:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("MCAyICogKiAqIC9wYXRoL3RvL2JhY2t1cF9zY3JpcHQucGw="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>0 2 * * * /path/to/backup_script.pl</pre></div><div class='content'></div><h1>Interacción con el Sistema Operativo</h1>
<div class='content'></div><h2>Información del Sistema</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKIyBPYnRlbmVyIGVsIG5vbWJyZSBkZWwgc2lzdGVtYSBvcGVyYXRpdm8KbXkgJG9zID0gJF5POwpwcmludCAiU2lzdGVtYSBPcGVyYXRpdm86ICRvc1xuIjsKCiMgT2J0ZW5lciBsYSBpbmZvcm1hY2nDs24gZGVsIHVzdWFyaW8gYWN0dWFsCm15ICR1c2VyID0gJEVOVntVU0VSfSB8fCAkRU5We0xPR05BTUV9IHx8IGdldHB3dWlkKCQ8KTsKcHJpbnQgIlVzdWFyaW8gQWN0dWFsOiAkdXNlclxuIjs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use strict;
use warnings;

# Obtener el nombre del sistema operativo
my $os = $^O;
print &quot;Sistema Operativo: $os\n&quot;;

# Obtener la informaci&oacute;n del usuario actual
my $user = $ENV{USER} || $ENV{LOGNAME} || getpwuid($&lt;);
print &quot;Usuario Actual: $user\n&quot;;</pre></div><div class='content'></div><h2>Gestión de Procesos</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKIyBMaXN0YXIgcHJvY2Vzb3MKbXkgQHBzX291dHB1dCA9IGBwcyBhdXhgOwpmb3JlYWNoIG15ICRsaW5lIChAcHNfb3V0cHV0KSB7CiAgICBwcmludCAkbGluZTsKfQoKIyBFamVjdXRhciB1biBwcm9jZXNvIGVuIHNlZ3VuZG8gcGxhbm8KbXkgJHBpZCA9IGZvcmsoKTsKaWYgKCRwaWQgPT0gMCkgewogICAgZXhlYygnc2xlZXAgMTAnKTsKICAgIGV4aXQoMCk7Cn0KcHJpbnQgIlByb2Nlc28gaGlqbyBjb24gUElEICRwaWQgZWplY3V0w6FuZG9zZSBlbiBzZWd1bmRvIHBsYW5vXG4iOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use strict;
use warnings;

# Listar procesos
my @ps_output = `ps aux`;
foreach my $line (@ps_output) {
    print $line;
}

# Ejecutar un proceso en segundo plano
my $pid = fork();
if ($pid == 0) {
    exec('sleep 10');
    exit(0);
}
print &quot;Proceso hijo con PID $pid ejecut&aacute;ndose en segundo plano\n&quot;;</pre></div><div class='content'></div><h1>Monitoreo del Sistema</h1>
<div class='content'></div><h2>Uso de CPU y Memoria</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKIyBVc28gZGUgQ1BVCm15ICRjcHVfdXNhZ2UgPSBgdG9wIC1ibjEgfCBncmVwICJDcHUocykiYDsKcHJpbnQgIlVzbyBkZSBDUFU6ICRjcHVfdXNhZ2VcbiI7CgojIFVzbyBkZSBNZW1vcmlhCm15ICRtZW1fdXNhZ2UgPSBgZnJlZSAtbWA7CnByaW50ICJVc28gZGUgTWVtb3JpYTogJG1lbV91c2FnZVxuIjs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use strict;
use warnings;

# Uso de CPU
my $cpu_usage = `top -bn1 | grep &quot;Cpu(s)&quot;`;
print &quot;Uso de CPU: $cpu_usage\n&quot;;

# Uso de Memoria
my $mem_usage = `free -m`;
print &quot;Uso de Memoria: $mem_usage\n&quot;;</pre></div><div class='content'></div><h2>Espacio en Disco</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKbXkgJGRpc2tfdXNhZ2UgPSBgZGYgLWhgOwpwcmludCAiVXNvIGRlIERpc2NvOiAkZGlza191c2FnZVxuIjs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use strict;
use warnings;

my $disk_usage = `df -h`;
print &quot;Uso de Disco: $disk_usage\n&quot;;</pre></div><div class='content'></div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Listar Archivos Modificados Recientemente</h2>
<div class='content'><p>Escribe un script Perl que liste todos los archivos en un directorio que han sido modificados en las últimas 24 horas.</p>
<p><strong>Solución:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwp1c2UgRmlsZTo6RmluZDsKdXNlIFRpbWU6OkxvY2FsOwoKbXkgJGRpcmVjdG9yeSA9ICcvcGF0aC90by9kaXJlY3RvcnknOwpteSAkdGltZV9saW1pdCA9IHRpbWUoKSAtIDI0ICogNjAgKiA2MDsKCmZpbmQoc3ViIHsKICAgIHJldHVybiB1bmxlc3MgLWY7CiAgICBteSAkbXRpbWUgPSAoc3RhdCgkXykpWzldOwogICAgaWYgKCRtdGltZSA+ICR0aW1lX2xpbWl0KSB7CiAgICAgICAgcHJpbnQgIiRGaWxlOjpGaW5kOjpuYW1lXG4iOwogICAgfQp9LCAkZGlyZWN0b3J5KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use strict;
use warnings;
use File::Find;
use Time::Local;

my $directory = '/path/to/directory';
my $time_limit = time() - 24 * 60 * 60;

find(sub {
    return unless -f;
    my $mtime = (stat($_))[9];
    if ($mtime &gt; $time_limit) {
        print &quot;$File::Find::name\n&quot;;
    }
}, $directory);</pre></div><div class='content'></div><h2>Ejercicio 2: Monitorear el Uso de CPU y Enviar una Alerta</h2>
<div class='content'><p>Escribe un script Perl que monitoree el uso de CPU y envíe un correo electrónico si el uso de CPU supera el 80%.</p>
<p><strong>Solución:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwp1c2UgTUlNRTo6TGl0ZTsKCm15ICRjcHVfdXNhZ2UgPSBgdG9wIC1ibjEgfCBncmVwICJDcHUocykiIHwgYXdrICd7cHJpbnQgXCQyICsgXCQ0fSdgOwpjaG9tcCgkY3B1X3VzYWdlKTsKCmlmICgkY3B1X3VzYWdlID4gODApIHsKICAgIG15ICRtc2cgPSBNSU1FOjpMaXRlLT5uZXcoCiAgICAgICAgRnJvbSAgICA9PiAnYWRtaW5AZXhhbXBsZS5jb20nLAogICAgICAgIFRvICAgICAgPT4gJ3VzZXJAZXhhbXBsZS5jb20nLAogICAgICAgIFN1YmplY3QgPT4gJ0FsZXJ0YTogVXNvIGRlIENQVSBBbHRvJywKICAgICAgICBEYXRhICAgID0+ICJFbCB1c28gZGUgQ1BVIGhhIHN1cGVyYWRvIGVsIDgwJS4gVXNvIGFjdHVhbDogJGNwdV91c2FnZSUiCiAgICApOwogICAgJG1zZy0+c2VuZDsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use strict;
use warnings;
use MIME::Lite;

my $cpu_usage = `top -bn1 | grep &quot;Cpu(s)&quot; | awk '{print \$2 + \$4}'`;
chomp($cpu_usage);

if ($cpu_usage &gt; 80) {
    my $msg = MIME::Lite-&gt;new(
        From    =&gt; 'admin@example.com',
        To      =&gt; 'user@example.com',
        Subject =&gt; 'Alerta: Uso de CPU Alto',
        Data    =&gt; &quot;El uso de CPU ha superado el 80%. Uso actual: $cpu_usage%&quot;
    );
    $msg-&gt;send;
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos explorado cómo Perl puede ser utilizado para diversas tareas de administración de sistemas, incluyendo la manipulación de archivos y directorios, la automatización de tareas, la interacción con el sistema operativo y el monitoreo del sistema. Con estos conocimientos, puedes empezar a utilizar Perl para simplificar y automatizar muchas de las tareas repetitivas y complejas que forman parte de la administración de sistemas.</p>
<p>En el siguiente módulo, profundizaremos en cómo Perl puede ser utilizado para el procesamiento de datos, una habilidad esencial para cualquier administrador de sistemas que necesite analizar y manipular grandes volúmenes de información.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-01-cpan-and-perl-community' title="CPAN y la Comunidad Perl">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-03-perl-for-data-processing' title="Perl para el Procesamiento de Datos">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
