<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semántica de Movimiento en C++</title>

    <link rel="alternate" href="https://campusempresa.com/mod/cplusplus/move-semantics" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/cplusplus/move-semantics" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/cplusplus/move-semantics" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/cplusplus/move-semantics" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/cplusplus/move-semantics" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/cplusplus/move-semantics">https://enterprisecampus.net/mod/cplusplus/move-semantics</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='lambda-expressions'>&#x25C4;Expresiones Lambda</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Semántica de Movimiento en C++</a>
	</div>
	<div class='col-4 text-end'>
					<a href='regular-expressions'>Expresiones Regulares &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La semántica de movimiento es una característica poderosa introducida en C++11 que permite que los recursos de objetos temporales se muevan en lugar de copiarse. Esto puede mejorar significativamente el rendimiento al eliminar copias profundas innecesarias. En esta sección, exploraremos el concepto de semántica de movimiento, sus beneficios y cómo implementarlo en tus programas en C++.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li>
<p><strong>Lvalue y Rvalue</strong>:</p>
<ul>
<li><strong>Lvalue</strong>: Un objeto que ocupa alguna ubicación identificable en la memoria (por ejemplo, variables).</li>
<li><strong>Rvalue</strong>: Un objeto temporal que no ocupa una ubicación de memoria persistente (por ejemplo, el resultado de una expresión).</li>
</ul>
</li>
<li>
<p><strong>Constructor de Movimiento</strong>: Un constructor que transfiere recursos de un objeto temporal a un nuevo objeto.</p>
</li>
<li>
<p><strong>Operador de Asignación de Movimiento</strong>: Un operador que transfiere recursos de un objeto temporal a un objeto existente.</p>
</li>
<li>
<p><strong>std::move</strong>: Una función de la biblioteca estándar que convierte un objeto a una referencia rvalue, habilitando la semántica de movimiento.</p>
</li>
</ul>
</div><h1>Constructor de Movimiento</h1>
<div class='content'><p>Un constructor de movimiento permite que un objeto tome posesión de los recursos de un objeto temporal. Esto se hace usando referencias rvalue.</p>
</div><h2>Ejemplo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8dXRpbGl0eT4gLy8gcGFyYSBzdGQ6Om1vdmUKCmNsYXNzIE15Q2xhc3MgewpwdWJsaWM6CiAgICBpbnQqIGRhdGE7CiAgICAKICAgIC8vIENvbnN0cnVjdG9yCiAgICBNeUNsYXNzKGludCB2YWx1ZSkgOiBkYXRhKG5ldyBpbnQodmFsdWUpKSB7CiAgICAgICAgc3RkOjpjb3V0IDw8ICJDb25zdHJ1Y3RvciBsbGFtYWRvXG4iOwogICAgfQogICAgCiAgICAvLyBDb25zdHJ1Y3RvciBkZSBNb3ZpbWllbnRvCiAgICBNeUNsYXNzKE15Q2xhc3MmJiBvdGhlcikgbm9leGNlcHQgOiBkYXRhKG90aGVyLmRhdGEpIHsKICAgICAgICBvdGhlci5kYXRhID0gbnVsbHB0cjsgLy8gQW51bGFyIGVsIHB1bnRlcm8gZGUgb3JpZ2VuCiAgICAgICAgc3RkOjpjb3V0IDw8ICJDb25zdHJ1Y3RvciBkZSBNb3ZpbWllbnRvIGxsYW1hZG9cbiI7CiAgICB9CiAgICAKICAgIC8vIERlc3RydWN0b3IKICAgIH5NeUNsYXNzKCkgewogICAgICAgIGRlbGV0ZSBkYXRhOwogICAgICAgIHN0ZDo6Y291dCA8PCAiRGVzdHJ1Y3RvciBsbGFtYWRvXG4iOwogICAgfQp9OwoKaW50IG1haW4oKSB7CiAgICBNeUNsYXNzIG9iajEoMTApOwogICAgTXlDbGFzcyBvYmoyKHN0ZDo6bW92ZShvYmoxKSk7IC8vIFNlIGxsYW1hIGFsIGNvbnN0cnVjdG9yIGRlIG1vdmltaWVudG8KICAgIHJldHVybiAwOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;iostream&gt;
#include &lt;utility&gt; // para std::move

class MyClass {
public:
    int* data;
    
    // Constructor
    MyClass(int value) : data(new int(value)) {
        std::cout &lt;&lt; &quot;Constructor llamado\n&quot;;
    }
    
    // Constructor de Movimiento
    MyClass(MyClass&amp;&amp; other) noexcept : data(other.data) {
        other.data = nullptr; // Anular el puntero de origen
        std::cout &lt;&lt; &quot;Constructor de Movimiento llamado\n&quot;;
    }
    
    // Destructor
    ~MyClass() {
        delete data;
        std::cout &lt;&lt; &quot;Destructor llamado\n&quot;;
    }
};

int main() {
    MyClass obj1(10);
    MyClass obj2(std::move(obj1)); // Se llama al constructor de movimiento
    return 0;
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Constructor</strong>: Asigna memoria e inicializa el miembro <code>data</code>.</li>
<li><strong>Constructor de Movimiento</strong>: Transfiere la propiedad del puntero <code>data</code> de <code>other</code> al nuevo objeto y anula el puntero <code>data</code> en <code>other</code>.</li>
<li><strong>Destructor</strong>: Elimina la memoria asignada.</li>
</ul>
</div><h1>Operador de Asignación de Movimiento</h1>
<div class='content'><p>El operador de asignación de movimiento permite que un objeto existente tome posesión de los recursos de un objeto temporal.</p>
</div><h2>Ejemplo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8dXRpbGl0eT4gLy8gcGFyYSBzdGQ6Om1vdmUKCmNsYXNzIE15Q2xhc3MgewpwdWJsaWM6CiAgICBpbnQqIGRhdGE7CiAgICAKICAgIC8vIENvbnN0cnVjdG9yCiAgICBNeUNsYXNzKGludCB2YWx1ZSkgOiBkYXRhKG5ldyBpbnQodmFsdWUpKSB7CiAgICAgICAgc3RkOjpjb3V0IDw8ICJDb25zdHJ1Y3RvciBsbGFtYWRvXG4iOwogICAgfQogICAgCiAgICAvLyBDb25zdHJ1Y3RvciBkZSBNb3ZpbWllbnRvCiAgICBNeUNsYXNzKE15Q2xhc3MmJiBvdGhlcikgbm9leGNlcHQgOiBkYXRhKG90aGVyLmRhdGEpIHsKICAgICAgICBvdGhlci5kYXRhID0gbnVsbHB0cjsgLy8gQW51bGFyIGVsIHB1bnRlcm8gZGUgb3JpZ2VuCiAgICAgICAgc3RkOjpjb3V0IDw8ICJDb25zdHJ1Y3RvciBkZSBNb3ZpbWllbnRvIGxsYW1hZG9cbiI7CiAgICB9CiAgICAKICAgIC8vIE9wZXJhZG9yIGRlIEFzaWduYWNpw7NuIGRlIE1vdmltaWVudG8KICAgIE15Q2xhc3MmIG9wZXJhdG9yPShNeUNsYXNzJiYgb3RoZXIpIG5vZXhjZXB0IHsKICAgICAgICBpZiAodGhpcyAhPSAmb3RoZXIpIHsKICAgICAgICAgICAgZGVsZXRlIGRhdGE7IC8vIExpYmVyYXIgcmVjdXJzbyBleGlzdGVudGUKICAgICAgICAgICAgZGF0YSA9IG90aGVyLmRhdGE7IC8vIFRyYW5zZmVyaXIgcHJvcGllZGFkCiAgICAgICAgICAgIG90aGVyLmRhdGEgPSBudWxscHRyOyAvLyBBbnVsYXIgZWwgcHVudGVybyBkZSBvcmlnZW4KICAgICAgICAgICAgc3RkOjpjb3V0IDw8ICJPcGVyYWRvciBkZSBBc2lnbmFjacOzbiBkZSBNb3ZpbWllbnRvIGxsYW1hZG9cbiI7CiAgICAgICAgfQogICAgICAgIHJldHVybiAqdGhpczsKICAgIH0KICAgIAogICAgLy8gRGVzdHJ1Y3RvcgogICAgfk15Q2xhc3MoKSB7CiAgICAgICAgZGVsZXRlIGRhdGE7CiAgICAgICAgc3RkOjpjb3V0IDw8ICJEZXN0cnVjdG9yIGxsYW1hZG9cbiI7CiAgICB9Cn07CgppbnQgbWFpbigpIHsKICAgIE15Q2xhc3Mgb2JqMSgxMCk7CiAgICBNeUNsYXNzIG9iajIoMjApOwogICAgb2JqMiA9IHN0ZDo6bW92ZShvYmoxKTsgLy8gU2UgbGxhbWEgYWwgb3BlcmFkb3IgZGUgYXNpZ25hY2nDs24gZGUgbW92aW1pZW50bwogICAgcmV0dXJuIDA7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;iostream&gt;
#include &lt;utility&gt; // para std::move

class MyClass {
public:
    int* data;
    
    // Constructor
    MyClass(int value) : data(new int(value)) {
        std::cout &lt;&lt; &quot;Constructor llamado\n&quot;;
    }
    
    // Constructor de Movimiento
    MyClass(MyClass&amp;&amp; other) noexcept : data(other.data) {
        other.data = nullptr; // Anular el puntero de origen
        std::cout &lt;&lt; &quot;Constructor de Movimiento llamado\n&quot;;
    }
    
    // Operador de Asignaci&oacute;n de Movimiento
    MyClass&amp; operator=(MyClass&amp;&amp; other) noexcept {
        if (this != &amp;other) {
            delete data; // Liberar recurso existente
            data = other.data; // Transferir propiedad
            other.data = nullptr; // Anular el puntero de origen
            std::cout &lt;&lt; &quot;Operador de Asignaci&oacute;n de Movimiento llamado\n&quot;;
        }
        return *this;
    }
    
    // Destructor
    ~MyClass() {
        delete data;
        std::cout &lt;&lt; &quot;Destructor llamado\n&quot;;
    }
};

int main() {
    MyClass obj1(10);
    MyClass obj2(20);
    obj2 = std::move(obj1); // Se llama al operador de asignaci&oacute;n de movimiento
    return 0;
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Operador de Asignación de Movimiento</strong>: Verifica la autoasignación, elimina el recurso existente, transfiere la propiedad del puntero <code>data</code> de <code>other</code> al objeto actual y anula el puntero <code>data</code> en <code>other</code>.</li>
</ul>
</div><h1>std::move</h1>
<div class='content'><p>La función <code>std::move</code> se usa para convertir un objeto a una referencia rvalue, habilitando la semántica de movimiento.</p>
</div><h2>Ejemplo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8dXRpbGl0eT4gLy8gcGFyYSBzdGQ6Om1vdmUKCnZvaWQgcHJvY2VzcyhNeUNsYXNzIG9iaikgewogICAgLy8gRnVuY2nDs24gcXVlIHRvbWEgcG9zZXNpw7NuIGRlIG9iagp9CgppbnQgbWFpbigpIHsKICAgIE15Q2xhc3Mgb2JqMSgxMCk7CiAgICBwcm9jZXNzKHN0ZDo6bW92ZShvYmoxKSk7IC8vIHN0ZDo6bW92ZSBjb252aWVydGUgb2JqMSBhIHVuYSByZWZlcmVuY2lhIHJ2YWx1ZQogICAgcmV0dXJuIDA7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;iostream&gt;
#include &lt;utility&gt; // para std::move

void process(MyClass obj) {
    // Funci&oacute;n que toma posesi&oacute;n de obj
}

int main() {
    MyClass obj1(10);
    process(std::move(obj1)); // std::move convierte obj1 a una referencia rvalue
    return 0;
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>std::move</strong>: Convierte <code>obj1</code> a una referencia rvalue, permitiendo que la función <code>process</code> tome posesión de sus recursos.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>La semántica de movimiento es una característica crucial en el C++ moderno que mejora el rendimiento al eliminar copias profundas innecesarias. Al entender e implementar constructores de movimiento y operadores de asignación de movimiento, puedes escribir programas en C++ más eficientes y amigables con los recursos. Recuerda usar <code>std::move</code> para habilitar la semántica de movimiento cuando trabajes con objetos temporales.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='lambda-expressions'>&#x25C4;Expresiones Lambda</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Semántica de Movimiento en C++</a>
	</div>
	<div class='col-4 text-end'>
					<a href='regular-expressions'>Expresiones Regulares &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
