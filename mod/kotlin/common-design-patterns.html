<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrones de Diseño Comunes en Kotlin</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kotlin/common-design-patterns" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kotlin/common-design-patterns" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kotlin/common-design-patterns" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/kotlin/common-design-patterns" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/kotlin/common-design-patterns" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='code-style-and-conventions'>&#x25C4;Estilo de Código y Convenciones</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Patrones de Diseño Comunes en Kotlin</a>
	</div>
	<div class='col-4 text-end'>
					<a href='effective-kotlin'>Kotlin Efectivo &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Los patrones de diseño son soluciones típicas a problemas comunes en el diseño de software. Son como planos que se pueden personalizar para resolver un problema de diseño particular en tu código. En esta sección, exploraremos algunos de los patrones de diseño más comunes y cómo implementarlos en Kotlin.</p>
</div><h1>1. Patrón Singleton</h1>
<div class='content'><p>El patrón Singleton asegura que una clase tenga solo una instancia y proporciona un punto de acceso global a ella.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li>Asegura que una clase tenga solo una instancia.</li>
<li>Proporciona un punto de acceso global a la instancia.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b2JqZWN0IFNpbmdsZXRvbiB7CiAgICB2YXIgY291bnRlcjogSW50ID0gMAoKICAgIGZ1biBzaG93TWVzc2FnZSgpIHsKICAgICAgICBwcmludGxuKCLCoUhvbGEgZGVzZGUgU2luZ2xldG9uISBDb250YWRvcjogJGNvdW50ZXIiKQogICAgfQp9CgpmdW4gbWFpbigpIHsKICAgIFNpbmdsZXRvbi5jb3VudGVyKysKICAgIFNpbmdsZXRvbi5zaG93TWVzc2FnZSgpIC8vIFNhbGlkYTogwqFIb2xhIGRlc2RlIFNpbmdsZXRvbiEgQ29udGFkb3I6IDEKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>object Singleton {
    var counter: Int = 0

    fun showMessage() {
        println(&quot;&iexcl;Hola desde Singleton! Contador: $counter&quot;)
    }
}

fun main() {
    Singleton.counter++
    Singleton.showMessage() // Salida: &iexcl;Hola desde Singleton! Contador: 1
}</pre></div><div class='content'><ul>
<li>La palabra clave <code>object</code> en Kotlin se usa para crear un Singleton.</li>
<li>La variable <code>counter</code> y la función <code>showMessage</code> son accesibles globalmente.</li>
</ul>
</div><h1>2. Patrón Factory</h1>
<div class='content'><p>El patrón Factory proporciona una forma de crear objetos sin especificar la clase exacta del objeto que se creará.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li>Define una interfaz para crear un objeto.</li>
<li>Las subclases deciden qué clase instanciar.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50ZXJmYWNlIFNoYXBlIHsKICAgIGZ1biBkcmF3KCkKfQoKY2xhc3MgQ2lyY2xlIDogU2hhcGUgewogICAgb3ZlcnJpZGUgZnVuIGRyYXcoKSB7CiAgICAgICAgcHJpbnRsbigiRGlidWphbmRvIHVuIEPDrXJjdWxvIikKICAgIH0KfQoKY2xhc3MgU3F1YXJlIDogU2hhcGUgewogICAgb3ZlcnJpZGUgZnVuIGRyYXcoKSB7CiAgICAgICAgcHJpbnRsbigiRGlidWphbmRvIHVuIEN1YWRyYWRvIikKICAgIH0KfQoKY2xhc3MgU2hhcGVGYWN0b3J5IHsKICAgIGZ1biBnZXRTaGFwZShzaGFwZVR5cGU6IFN0cmluZyk6IFNoYXBlPyB7CiAgICAgICAgcmV0dXJuIHdoZW4gKHNoYXBlVHlwZSkgewogICAgICAgICAgICAiQ0lSQ0xFIiAtPiBDaXJjbGUoKQogICAgICAgICAgICAiU1FVQVJFIiAtPiBTcXVhcmUoKQogICAgICAgICAgICBlbHNlIC0+IG51bGwKICAgICAgICB9CiAgICB9Cn0KCmZ1biBtYWluKCkgewogICAgdmFsIHNoYXBlRmFjdG9yeSA9IFNoYXBlRmFjdG9yeSgpCgogICAgdmFsIHNoYXBlMSA9IHNoYXBlRmFjdG9yeS5nZXRTaGFwZSgiQ0lSQ0xFIikKICAgIHNoYXBlMT8uZHJhdygpIC8vIFNhbGlkYTogRGlidWphbmRvIHVuIEPDrXJjdWxvCgogICAgdmFsIHNoYXBlMiA9IHNoYXBlRmFjdG9yeS5nZXRTaGFwZSgiU1FVQVJFIikKICAgIHNoYXBlMj8uZHJhdygpIC8vIFNhbGlkYTogRGlidWphbmRvIHVuIEN1YWRyYWRvCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>interface Shape {
    fun draw()
}

class Circle : Shape {
    override fun draw() {
        println(&quot;Dibujando un C&iacute;rculo&quot;)
    }
}

class Square : Shape {
    override fun draw() {
        println(&quot;Dibujando un Cuadrado&quot;)
    }
}

class ShapeFactory {
    fun getShape(shapeType: String): Shape? {
        return when (shapeType) {
            &quot;CIRCLE&quot; -&gt; Circle()
            &quot;SQUARE&quot; -&gt; Square()
            else -&gt; null
        }
    }
}

fun main() {
    val shapeFactory = ShapeFactory()

    val shape1 = shapeFactory.getShape(&quot;CIRCLE&quot;)
    shape1?.draw() // Salida: Dibujando un C&iacute;rculo

    val shape2 = shapeFactory.getShape(&quot;SQUARE&quot;)
    shape2?.draw() // Salida: Dibujando un Cuadrado
}</pre></div><div class='content'><ul>
<li>La interfaz <code>Shape</code> define un método <code>draw</code>.</li>
<li>Las clases <code>Circle</code> y <code>Square</code> implementan la interfaz <code>Shape</code>.</li>
<li>La clase <code>ShapeFactory</code> contiene un método <code>getShape</code> para crear objetos basados en el tipo de entrada.</li>
</ul>
</div><h1>3. Patrón Observer</h1>
<div class='content'><p>El patrón Observer define una dependencia de uno a muchos entre objetos para que cuando un objeto cambie de estado, todos sus dependientes sean notificados y actualizados automáticamente.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li>Dependencia de uno a muchos entre objetos.</li>
<li>Los observadores se registran con un sujeto para recibir actualizaciones.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50ZXJmYWNlIE9ic2VydmVyIHsKICAgIGZ1biB1cGRhdGUobWVzc2FnZTogU3RyaW5nKQp9CgpjbGFzcyBTdWJqZWN0IHsKICAgIHByaXZhdGUgdmFsIG9ic2VydmVycyA9IG11dGFibGVMaXN0T2Y8T2JzZXJ2ZXI+KCkKCiAgICBmdW4gcmVnaXN0ZXIob2JzZXJ2ZXI6IE9ic2VydmVyKSB7CiAgICAgICAgb2JzZXJ2ZXJzLmFkZChvYnNlcnZlcikKICAgIH0KCiAgICBmdW4gdW5yZWdpc3RlcihvYnNlcnZlcjogT2JzZXJ2ZXIpIHsKICAgICAgICBvYnNlcnZlcnMucmVtb3ZlKG9ic2VydmVyKQogICAgfQoKICAgIGZ1biBub3RpZnlPYnNlcnZlcnMobWVzc2FnZTogU3RyaW5nKSB7CiAgICAgICAgZm9yIChvYnNlcnZlciBpbiBvYnNlcnZlcnMpIHsKICAgICAgICAgICAgb2JzZXJ2ZXIudXBkYXRlKG1lc3NhZ2UpCiAgICAgICAgfQogICAgfQp9CgpjbGFzcyBDb25jcmV0ZU9ic2VydmVyKHByaXZhdGUgdmFsIG5hbWU6IFN0cmluZykgOiBPYnNlcnZlciB7CiAgICBvdmVycmlkZSBmdW4gdXBkYXRlKG1lc3NhZ2U6IFN0cmluZykgewogICAgICAgIHByaW50bG4oIiRuYW1lIHJlY2liacOzIGVsIG1lbnNhamU6ICRtZXNzYWdlIikKICAgIH0KfQoKZnVuIG1haW4oKSB7CiAgICB2YWwgc3ViamVjdCA9IFN1YmplY3QoKQoKICAgIHZhbCBvYnNlcnZlcjEgPSBDb25jcmV0ZU9ic2VydmVyKCJPYnNlcnZhZG9yIDEiKQogICAgdmFsIG9ic2VydmVyMiA9IENvbmNyZXRlT2JzZXJ2ZXIoIk9ic2VydmFkb3IgMiIpCgogICAgc3ViamVjdC5yZWdpc3RlcihvYnNlcnZlcjEpCiAgICBzdWJqZWN0LnJlZ2lzdGVyKG9ic2VydmVyMikKCiAgICBzdWJqZWN0Lm5vdGlmeU9ic2VydmVycygiwqFIb2xhIE9ic2VydmFkb3JlcyEiKSAKICAgIC8vIFNhbGlkYToKICAgIC8vIE9ic2VydmFkb3IgMSByZWNpYmnDsyBlbCBtZW5zYWplOiDCoUhvbGEgT2JzZXJ2YWRvcmVzIQogICAgLy8gT2JzZXJ2YWRvciAyIHJlY2liacOzIGVsIG1lbnNhamU6IMKhSG9sYSBPYnNlcnZhZG9yZXMhCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>interface Observer {
    fun update(message: String)
}

class Subject {
    private val observers = mutableListOf&lt;Observer&gt;()

    fun register(observer: Observer) {
        observers.add(observer)
    }

    fun unregister(observer: Observer) {
        observers.remove(observer)
    }

    fun notifyObservers(message: String) {
        for (observer in observers) {
            observer.update(message)
        }
    }
}

class ConcreteObserver(private val name: String) : Observer {
    override fun update(message: String) {
        println(&quot;$name recibi&oacute; el mensaje: $message&quot;)
    }
}

fun main() {
    val subject = Subject()

    val observer1 = ConcreteObserver(&quot;Observador 1&quot;)
    val observer2 = ConcreteObserver(&quot;Observador 2&quot;)

    subject.register(observer1)
    subject.register(observer2)

    subject.notifyObservers(&quot;&iexcl;Hola Observadores!&quot;) 
    // Salida:
    // Observador 1 recibi&oacute; el mensaje: &iexcl;Hola Observadores!
    // Observador 2 recibi&oacute; el mensaje: &iexcl;Hola Observadores!
}</pre></div><div class='content'><ul>
<li>La interfaz <code>Observer</code> define un método <code>update</code>.</li>
<li>La clase <code>Subject</code> mantiene una lista de observadores y los notifica de los cambios.</li>
<li><code>ConcreteObserver</code> implementa la interfaz <code>Observer</code> y define cómo maneja las actualizaciones.</li>
</ul>
</div><h1>4. Patrón Strategy</h1>
<div class='content'><p>El patrón Strategy define una familia de algoritmos, encapsula cada uno y los hace intercambiables. Este patrón permite que el algoritmo varíe independientemente de los clientes que lo usan.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li>Define una familia de algoritmos.</li>
<li>Encapsula cada algoritmo.</li>
<li>Hace que los algoritmos sean intercambiables.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50ZXJmYWNlIFN0cmF0ZWd5IHsKICAgIGZ1biBleGVjdXRlKGE6IEludCwgYjogSW50KTogSW50Cn0KCmNsYXNzIEFkZFN0cmF0ZWd5IDogU3RyYXRlZ3kgewogICAgb3ZlcnJpZGUgZnVuIGV4ZWN1dGUoYTogSW50LCBiOiBJbnQpOiBJbnQgewogICAgICAgIHJldHVybiBhICsgYgogICAgfQp9CgpjbGFzcyBNdWx0aXBseVN0cmF0ZWd5IDogU3RyYXRlZ3kgewogICAgb3ZlcnJpZGUgZnVuIGV4ZWN1dGUoYTogSW50LCBiOiBJbnQpOiBJbnQgewogICAgICAgIHJldHVybiBhICogYgogICAgfQp9CgpjbGFzcyBDb250ZXh0KHByaXZhdGUgdmFyIHN0cmF0ZWd5OiBTdHJhdGVneSkgewogICAgZnVuIHNldFN0cmF0ZWd5KHN0cmF0ZWd5OiBTdHJhdGVneSkgewogICAgICAgIHRoaXMuc3RyYXRlZ3kgPSBzdHJhdGVneQogICAgfQoKICAgIGZ1biBleGVjdXRlU3RyYXRlZ3koYTogSW50LCBiOiBJbnQpOiBJbnQgewogICAgICAgIHJldHVybiBzdHJhdGVneS5leGVjdXRlKGEsIGIpCiAgICB9Cn0KCmZ1biBtYWluKCkgewogICAgdmFsIGNvbnRleHQgPSBDb250ZXh0KEFkZFN0cmF0ZWd5KCkpCiAgICBwcmludGxuKCJTdW1hcjogJHtjb250ZXh0LmV4ZWN1dGVTdHJhdGVneSgzLCA0KX0iKSAvLyBTYWxpZGE6IFN1bWFyOiA3CgogICAgY29udGV4dC5zZXRTdHJhdGVneShNdWx0aXBseVN0cmF0ZWd5KCkpCiAgICBwcmludGxuKCJNdWx0aXBsaWNhcjogJHtjb250ZXh0LmV4ZWN1dGVTdHJhdGVneSgzLCA0KX0iKSAvLyBTYWxpZGE6IE11bHRpcGxpY2FyOiAxMgp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>interface Strategy {
    fun execute(a: Int, b: Int): Int
}

class AddStrategy : Strategy {
    override fun execute(a: Int, b: Int): Int {
        return a + b
    }
}

class MultiplyStrategy : Strategy {
    override fun execute(a: Int, b: Int): Int {
        return a * b
    }
}

class Context(private var strategy: Strategy) {
    fun setStrategy(strategy: Strategy) {
        this.strategy = strategy
    }

    fun executeStrategy(a: Int, b: Int): Int {
        return strategy.execute(a, b)
    }
}

fun main() {
    val context = Context(AddStrategy())
    println(&quot;Sumar: ${context.executeStrategy(3, 4)}&quot;) // Salida: Sumar: 7

    context.setStrategy(MultiplyStrategy())
    println(&quot;Multiplicar: ${context.executeStrategy(3, 4)}&quot;) // Salida: Multiplicar: 12
}</pre></div><div class='content'><ul>
<li>La interfaz <code>Strategy</code> define un método <code>execute</code>.</li>
<li><code>AddStrategy</code> y <code>MultiplyStrategy</code> implementan la interfaz <code>Strategy</code>.</li>
<li>La clase <code>Context</code> usa una <code>Strategy</code> y puede cambiarla dinámicamente.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Los patrones de diseño son herramientas esenciales para resolver problemas comunes de diseño de software. En esta sección, cubrimos:</p>
<ul>
<li>Patrón Singleton para asegurar una única instancia.</li>
<li>Patrón Factory para crear objetos sin especificar la clase exacta.</li>
<li>Patrón Observer para la gestión de dependencias de uno a muchos.</li>
<li>Patrón Strategy para algoritmos intercambiables.</li>
</ul>
<p>Entender e implementar estos patrones en Kotlin te ayudará a escribir código más mantenible y escalable.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='code-style-and-conventions'>&#x25C4;Estilo de Código y Convenciones</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Patrones de Diseño Comunes en Kotlin</a>
	</div>
	<div class='col-4 text-end'>
					<a href='effective-kotlin'>Kotlin Efectivo &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
