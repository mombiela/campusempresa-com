<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuración de una Base de Datos</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flask/setting-up-database" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flask/setting-up-database" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flask/setting-up-database" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/flask/setting-up-database" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/flask/setting-up-database" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/flask/setting-up-database">https://enterprisecampus.net/mod/flask/setting-up-database</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-sqlalchemy'>&#x25C4;Introducción a SQLAlchemy</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Configuración de una Base de Datos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='creating-models'>Creación de Modelos &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En esta sección, aprenderemos cómo configurar una base de datos para una aplicación Flask. Cubriremos los conceptos básicos de la conexión a una base de datos, la creación de tablas y la realización de operaciones CRUD (Crear, Leer, Actualizar, Eliminar). Al final de esta sección, tendrás una comprensión sólida de cómo integrar una base de datos con tu aplicación Flask.</p>
</div><h1>Elegir una Base de Datos</h1>
<div class='content'><p>Antes de comenzar, es importante elegir la base de datos adecuada para tu aplicación. Flask soporta varias bases de datos, pero las más comúnmente usadas son:</p>
<ul>
<li>SQLite: Ligera y fácil de configurar, ideal para aplicaciones pequeñas o desarrollo.</li>
<li>PostgreSQL: Potente y escalable, adecuada para aplicaciones más grandes.</li>
<li>MySQL: Ampliamente utilizada y confiable, buena para aplicaciones medianas a grandes.</li>
</ul>
<p>Para este curso, usaremos SQLite debido a su simplicidad y facilidad de configuración.</p>
</div><h1>Configuración de SQLite con Flask</h1>
<div class='content'></div><h2>Instalación de Flask y Flask-SQLAlchemy</h2>
<div class='content'><p>Primero, asegúrate de tener Flask y Flask-SQLAlchemy instalados. Flask-SQLAlchemy es una extensión que simplifica la integración de SQLAlchemy con Flask.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgRmxhc2sgRmxhc2stU1FMQWxjaGVteQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install Flask Flask-SQLAlchemy</pre></div><div class='content'></div><h2>Configuración de la Base de Datos</h2>
<div class='content'><p>A continuación, configura tu aplicación Flask para usar SQLite. Crea un archivo llamado <code>app.py</code> y agrega el siguiente código:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2sKZnJvbSBmbGFza19zcWxhbGNoZW15IGltcG9ydCBTUUxBbGNoZW15CgphcHAgPSBGbGFzayhfX25hbWVfXykKYXBwLmNvbmZpZ1snU1FMQUxDSEVNWV9EQVRBQkFTRV9VUkknXSA9ICdzcWxpdGU6Ly8vc2l0ZS5kYicKYXBwLmNvbmZpZ1snU1FMQUxDSEVNWV9UUkFDS19NT0RJRklDQVRJT05TJ10gPSBGYWxzZQpkYiA9IFNRTEFsY2hlbXkoYXBwKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask
from flask_sqlalchemy import SQLAlchemy

app = Flask(__name__)
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///site.db'
app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False
db = SQLAlchemy(app)</pre></div><div class='content'></div><h2>Creación de Modelos</h2>
<div class='content'><p>Los modelos son clases que representan tablas en tu base de datos. Vamos a crear un modelo simple para una tabla <code>User</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVXNlcihkYi5Nb2RlbCk6CiAgICBpZCA9IGRiLkNvbHVtbihkYi5JbnRlZ2VyLCBwcmltYXJ5X2tleT1UcnVlKQogICAgdXNlcm5hbWUgPSBkYi5Db2x1bW4oZGIuU3RyaW5nKDE1MCksIHVuaXF1ZT1UcnVlLCBudWxsYWJsZT1GYWxzZSkKICAgIGVtYWlsID0gZGIuQ29sdW1uKGRiLlN0cmluZygxMjApLCB1bmlxdWU9VHJ1ZSwgbnVsbGFibGU9RmFsc2UpCiAgICBwYXNzd29yZCA9IGRiLkNvbHVtbihkYi5TdHJpbmcoNjApLCBudWxsYWJsZT1GYWxzZSkKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGYiVXNlcigne3NlbGYudXNlcm5hbWV9JywgJ3tzZWxmLmVtYWlsfScpIg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class User(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    username = db.Column(db.String(150), unique=True, nullable=False)
    email = db.Column(db.String(120), unique=True, nullable=False)
    password = db.Column(db.String(60), nullable=False)

    def __repr__(self):
        return f&quot;User('{self.username}', '{self.email}')&quot;</pre></div><div class='content'></div><h2>Creación de la Base de Datos</h2>
<div class='content'><p>Para crear la base de datos y las tablas, usa los siguientes comandos en una consola de Python:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhcHAgaW1wb3J0IGRiCmRiLmNyZWF0ZV9hbGwoKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from app import db
db.create_all()</pre></div><div class='content'><p>Esto creará un archivo <code>site.db</code> con una tabla <code>User</code>.</p>
</div><h1>Realización de Operaciones CRUD</h1>
<div class='content'></div><h2>Crear</h2>
<div class='content'><p>Para agregar un nuevo usuario a la base de datos, usa el siguiente código:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhcHAgaW1wb3J0IGRiLCBVc2VyCgpuZXdfdXNlciA9IFVzZXIodXNlcm5hbWU9J2pvaG5fZG9lJywgZW1haWw9J2pvaG5AZXhhbXBsZS5jb20nLCBwYXNzd29yZD0ncGFzc3dvcmQxMjMnKQpkYi5zZXNzaW9uLmFkZChuZXdfdXNlcikKZGIuc2Vzc2lvbi5jb21taXQoKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from app import db, User

new_user = User(username='john_doe', email='john@example.com', password='password123')
db.session.add(new_user)
db.session.commit()</pre></div><div class='content'></div><h2>Leer</h2>
<div class='content'><p>Para consultar usuarios de la base de datos:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlcnMgPSBVc2VyLnF1ZXJ5LmFsbCgpCnByaW50KHVzZXJzKQoKdXNlciA9IFVzZXIucXVlcnkuZmlsdGVyX2J5KHVzZXJuYW1lPSdqb2huX2RvZScpLmZpcnN0KCkKcHJpbnQodXNlcik="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>users = User.query.all()
print(users)

user = User.query.filter_by(username='john_doe').first()
print(user)</pre></div><div class='content'></div><h2>Actualizar</h2>
<div class='content'><p>Para actualizar la información de un usuario:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlciA9IFVzZXIucXVlcnkuZmlsdGVyX2J5KHVzZXJuYW1lPSdqb2huX2RvZScpLmZpcnN0KCkKdXNlci5lbWFpbCA9ICdqb2huX2RvZUBleGFtcGxlLmNvbScKZGIuc2Vzc2lvbi5jb21taXQoKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>user = User.query.filter_by(username='john_doe').first()
user.email = 'john_doe@example.com'
db.session.commit()</pre></div><div class='content'></div><h2>Eliminar</h2>
<div class='content'><p>Para eliminar un usuario de la base de datos:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlciA9IFVzZXIucXVlcnkuZmlsdGVyX2J5KHVzZXJuYW1lPSdqb2huX2RvZScpLmZpcnN0KCkKZGIuc2Vzc2lvbi5kZWxldGUodXNlcikKZGIuc2Vzc2lvbi5jb21taXQoKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>user = User.query.filter_by(username='john_doe').first()
db.session.delete(user)
db.session.commit()</pre></div><div class='content'></div><h1>Resumen</h1>
<div class='content'><p>En esta sección, cubrimos los conceptos básicos de la configuración de una base de datos en una aplicación Flask usando SQLite. Aprendimos cómo instalar los paquetes necesarios, configurar la base de datos, crear modelos y realizar operaciones CRUD. Este conocimiento fundamental te permitirá construir aplicaciones más complejas con interacciones robustas con la base de datos.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-sqlalchemy'>&#x25C4;Introducción a SQLAlchemy</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Configuración de una Base de Datos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='creating-models'>Creación de Modelos &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
