<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Árboles AVL</title>

    <link rel="alternate" href="https://campusempresa.com/mod/estructuras_datos/05-04-arboles-avl" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/estructuras_datos/05-04-arbres-avl" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/estructuras_datos/05-04-avl-trees" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/estructuras_datos/05-04-avl-trees" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/estructuras_datos/05-04-arbres-avl" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-03-arboles-binarios-busqueda' title="Árboles Binarios de Búsqueda">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Árboles AVL</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-05-arboles-b' title="Árboles B">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a los Árboles AVL</h1>
<div class='content'><p>Los árboles AVL son un tipo de árbol binario de búsqueda (BST) que se auto-balancean. Fueron los primeros árboles binarios de búsqueda auto-balanceados y fueron nombrados así por sus inventores, Adelson-Velsky y Landis. La propiedad clave de un árbol AVL es que para cada nodo, la diferencia de altura entre sus subárboles izquierdo y derecho no puede ser mayor que uno. Esta propiedad asegura que las operaciones de búsqueda, inserción y eliminación se realicen en tiempo logarítmico.</p>
</div><h2>Propiedades de los Árboles AVL</h2>
<div class='content'><ol>
<li><strong>Balanceo</strong>: La diferencia de altura entre los subárboles izquierdo y derecho de cualquier nodo no puede ser mayor que uno.</li>
<li><strong>Altura</strong>: La altura de un árbol AVL con <code>n</code> nodos es <code>O(log n)</code>.</li>
<li><strong>Rotaciones</strong>: Para mantener el balanceo, los árboles AVL utilizan rotaciones simples y dobles.</li>
</ol>
</div><h2>Rotaciones en Árboles AVL</h2>
<div class='content'><p>Para mantener el balanceo, los árboles AVL utilizan cuatro tipos de rotaciones:</p>
<ol>
<li>
<p><strong>Rotación Simple a la Derecha (Right Rotation)</strong>:</p>
<ul>
<li>Se utiliza cuando un nodo se inserta en el subárbol izquierdo del subárbol izquierdo.</li>
</ul>
<pre><code class="language-plaintext">    y                               x
   / \     Right Rotation          /  <br>     x   T3   – – – – – – – &gt;        T1   y 
 / \       &lt; - - - - - - -            / <br>   T1  T2     Left Rotation             T2  T3
</code></pre>
</li>
<li>
<p><strong>Rotación Simple a la Izquierda (Left Rotation)</strong>:</p>
<ul>
<li>Se utiliza cuando un nodo se inserta en el subárbol derecho del subárbol derecho.</li>
</ul>
<pre><code class="language-plaintext">  x                            y
 /  \     Left Rotation       /  <br>   T1   y   – – – – – – – &gt;     x   T3
    /  \   &lt; - - - - - - -  /  <br>      T2   T3                 T1   T2
</code></pre>
</li>
<li>
<p><strong>Rotación Doble a la Izquierda-Derecha (Left-Right Rotation)</strong>:</p>
<ul>
<li>Se utiliza cuando un nodo se inserta en el subárbol derecho del subárbol izquierdo.</li>
</ul>
<pre><code class="language-plaintext">    z                               z                           x
   / \                            /   \                        /  \ 
  y   T4  Left Rotation (y)      x    T4  Right Rotation (z)  y    z
 / \      – – – – – – – – – &gt;   /  \      – – – – – – – – – &gt; / \  / <br>   T1   x                          y    T3                      T1  T2 T3 T4
    /  \                       /  <br>      T2   T3                    T1   T2
</code></pre>
</li>
<li>
<p><strong>Rotación Doble a la Derecha-Izquierda (Right-Left Rotation)</strong>:</p>
<ul>
<li>Se utiliza cuando un nodo se inserta en el subárbol izquierdo del subárbol derecho.</li>
</ul>
<pre><code class="language-plaintext">    z                            z                            x
   / \                          / \                          /  \ 
  T1   y   Right Rotation (y)  T1   x   Left Rotation (z)   z    y
      / \  – – – – – – – – – &gt;    /  \  – – – – – – – – – &gt; / \  / <br>        x   T4                      T2   y                    T1  T2 T3 T4
    /  \                            /  <br>      T2   T3                         T3   T4
</code></pre>
</li>
</ol>
</div><h1>Implementación de Árboles AVL</h1>
<div class='content'><p>A continuación, se presenta una implementación básica de un árbol AVL en Python:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTm9kZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBrZXkpOgogICAgICAgIHNlbGYua2V5ID0ga2V5CiAgICAgICAgc2VsZi5sZWZ0ID0gTm9uZQogICAgICAgIHNlbGYucmlnaHQgPSBOb25lCiAgICAgICAgc2VsZi5oZWlnaHQgPSAxCgpjbGFzcyBBVkxUcmVlOgogICAgZGVmIGdldF9oZWlnaHQoc2VsZiwgcm9vdCk6CiAgICAgICAgaWYgbm90IHJvb3Q6CiAgICAgICAgICAgIHJldHVybiAwCiAgICAgICAgcmV0dXJuIHJvb3QuaGVpZ2h0CgogICAgZGVmIGdldF9iYWxhbmNlKHNlbGYsIHJvb3QpOgogICAgICAgIGlmIG5vdCByb290OgogICAgICAgICAgICByZXR1cm4gMAogICAgICAgIHJldHVybiBzZWxmLmdldF9oZWlnaHQocm9vdC5sZWZ0KSAtIHNlbGYuZ2V0X2hlaWdodChyb290LnJpZ2h0KQoKICAgIGRlZiByaWdodF9yb3RhdGUoc2VsZiwgeik6CiAgICAgICAgeSA9IHoubGVmdAogICAgICAgIFQzID0geS5yaWdodAogICAgICAgIHkucmlnaHQgPSB6CiAgICAgICAgei5sZWZ0ID0gVDMKICAgICAgICB6LmhlaWdodCA9IDEgKyBtYXgoc2VsZi5nZXRfaGVpZ2h0KHoubGVmdCksIHNlbGYuZ2V0X2hlaWdodCh6LnJpZ2h0KSkKICAgICAgICB5LmhlaWdodCA9IDEgKyBtYXgoc2VsZi5nZXRfaGVpZ2h0KHkubGVmdCksIHNlbGYuZ2V0X2hlaWdodCh5LnJpZ2h0KSkKICAgICAgICByZXR1cm4geQoKICAgIGRlZiBsZWZ0X3JvdGF0ZShzZWxmLCB6KToKICAgICAgICB5ID0gei5yaWdodAogICAgICAgIFQyID0geS5sZWZ0CiAgICAgICAgeS5sZWZ0ID0gegogICAgICAgIHoucmlnaHQgPSBUMgogICAgICAgIHouaGVpZ2h0ID0gMSArIG1heChzZWxmLmdldF9oZWlnaHQoei5sZWZ0KSwgc2VsZi5nZXRfaGVpZ2h0KHoucmlnaHQpKQogICAgICAgIHkuaGVpZ2h0ID0gMSArIG1heChzZWxmLmdldF9oZWlnaHQoeS5sZWZ0KSwgc2VsZi5nZXRfaGVpZ2h0KHkucmlnaHQpKQogICAgICAgIHJldHVybiB5CgogICAgZGVmIGluc2VydChzZWxmLCByb290LCBrZXkpOgogICAgICAgIGlmIG5vdCByb290OgogICAgICAgICAgICByZXR1cm4gTm9kZShrZXkpCiAgICAgICAgZWxpZiBrZXkgPCByb290LmtleToKICAgICAgICAgICAgcm9vdC5sZWZ0ID0gc2VsZi5pbnNlcnQocm9vdC5sZWZ0LCBrZXkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcm9vdC5yaWdodCA9IHNlbGYuaW5zZXJ0KHJvb3QucmlnaHQsIGtleSkKCiAgICAgICAgcm9vdC5oZWlnaHQgPSAxICsgbWF4KHNlbGYuZ2V0X2hlaWdodChyb290LmxlZnQpLCBzZWxmLmdldF9oZWlnaHQocm9vdC5yaWdodCkpCiAgICAgICAgYmFsYW5jZSA9IHNlbGYuZ2V0X2JhbGFuY2Uocm9vdCkKCiAgICAgICAgaWYgYmFsYW5jZSA+IDEgYW5kIGtleSA8IHJvb3QubGVmdC5rZXk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLnJpZ2h0X3JvdGF0ZShyb290KQogICAgICAgIGlmIGJhbGFuY2UgPCAtMSBhbmQga2V5ID4gcm9vdC5yaWdodC5rZXk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLmxlZnRfcm90YXRlKHJvb3QpCiAgICAgICAgaWYgYmFsYW5jZSA+IDEgYW5kIGtleSA+IHJvb3QubGVmdC5rZXk6CiAgICAgICAgICAgIHJvb3QubGVmdCA9IHNlbGYubGVmdF9yb3RhdGUocm9vdC5sZWZ0KQogICAgICAgICAgICByZXR1cm4gc2VsZi5yaWdodF9yb3RhdGUocm9vdCkKICAgICAgICBpZiBiYWxhbmNlIDwgLTEgYW5kIGtleSA8IHJvb3QucmlnaHQua2V5OgogICAgICAgICAgICByb290LnJpZ2h0ID0gc2VsZi5yaWdodF9yb3RhdGUocm9vdC5yaWdodCkKICAgICAgICAgICAgcmV0dXJuIHNlbGYubGVmdF9yb3RhdGUocm9vdCkKCiAgICAgICAgcmV0dXJuIHJvb3QKCiAgICBkZWYgcHJlX29yZGVyKHNlbGYsIHJvb3QpOgogICAgICAgIGlmIG5vdCByb290OgogICAgICAgICAgICByZXR1cm4KICAgICAgICBwcmludCgiezB9ICIuZm9ybWF0KHJvb3Qua2V5KSwgZW5kPSIiKQogICAgICAgIHNlbGYucHJlX29yZGVyKHJvb3QubGVmdCkKICAgICAgICBzZWxmLnByZV9vcmRlcihyb290LnJpZ2h0KQoKIyBFamVtcGxvIGRlIHVzbwphdmxfdHJlZSA9IEFWTFRyZWUoKQpyb290ID0gTm9uZQprZXlzID0gWzEwLCAyMCwgMzAsIDQwLCA1MCwgMjVdCgpmb3Iga2V5IGluIGtleXM6CiAgICByb290ID0gYXZsX3RyZWUuaW5zZXJ0KHJvb3QsIGtleSkKCnByaW50KCJQcmVvcmRlbiBkZWwgw6FyYm9sIEFWTDoiKQphdmxfdHJlZS5wcmVfb3JkZXIocm9vdCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Node:
    def __init__(self, key):
        self.key = key
        self.left = None
        self.right = None
        self.height = 1

class AVLTree:
    def get_height(self, root):
        if not root:
            return 0
        return root.height

    def get_balance(self, root):
        if not root:
            return 0
        return self.get_height(root.left) - self.get_height(root.right)

    def right_rotate(self, z):
        y = z.left
        T3 = y.right
        y.right = z
        z.left = T3
        z.height = 1 + max(self.get_height(z.left), self.get_height(z.right))
        y.height = 1 + max(self.get_height(y.left), self.get_height(y.right))
        return y

    def left_rotate(self, z):
        y = z.right
        T2 = y.left
        y.left = z
        z.right = T2
        z.height = 1 + max(self.get_height(z.left), self.get_height(z.right))
        y.height = 1 + max(self.get_height(y.left), self.get_height(y.right))
        return y

    def insert(self, root, key):
        if not root:
            return Node(key)
        elif key &lt; root.key:
            root.left = self.insert(root.left, key)
        else:
            root.right = self.insert(root.right, key)

        root.height = 1 + max(self.get_height(root.left), self.get_height(root.right))
        balance = self.get_balance(root)

        if balance &gt; 1 and key &lt; root.left.key:
            return self.right_rotate(root)
        if balance &lt; -1 and key &gt; root.right.key:
            return self.left_rotate(root)
        if balance &gt; 1 and key &gt; root.left.key:
            root.left = self.left_rotate(root.left)
            return self.right_rotate(root)
        if balance &lt; -1 and key &lt; root.right.key:
            root.right = self.right_rotate(root.right)
            return self.left_rotate(root)

        return root

    def pre_order(self, root):
        if not root:
            return
        print(&quot;{0} &quot;.format(root.key), end=&quot;&quot;)
        self.pre_order(root.left)
        self.pre_order(root.right)

# Ejemplo de uso
avl_tree = AVLTree()
root = None
keys = [10, 20, 30, 40, 50, 25]

for key in keys:
    root = avl_tree.insert(root, key)

print(&quot;Preorden del &aacute;rbol AVL:&quot;)
avl_tree.pre_order(root)</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ol>
<li><strong>Clase Node</strong>: Define un nodo del árbol AVL con atributos <code>key</code>, <code>left</code>, <code>right</code> y <code>height</code>.</li>
<li><strong>Clase AVLTree</strong>: Contiene métodos para manejar el árbol AVL:
<ul>
<li><code>get_height</code>: Devuelve la altura de un nodo.</li>
<li><code>get_balance</code>: Calcula el factor de balanceo de un nodo.</li>
<li><code>right_rotate</code> y <code>left_rotate</code>: Realizan las rotaciones necesarias para mantener el balanceo del árbol.</li>
<li><code>insert</code>: Inserta un nuevo nodo en el árbol y realiza las rotaciones necesarias para mantener el balanceo.</li>
<li><code>pre_order</code>: Realiza un recorrido en preorden del árbol.</li>
</ul>
</li>
</ol>
</div><h2>Ejercicio Práctico</h2>
<div class='content'><p><strong>Ejercicio</strong>: Implementa una función para eliminar un nodo en un árbol AVL y ajusta el balance del árbol después de la eliminación.</p>
<p><strong>Solución</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGRlbGV0ZV9ub2RlKHNlbGYsIHJvb3QsIGtleSk6CiAgICBpZiBub3Qgcm9vdDoKICAgICAgICByZXR1cm4gcm9vdAoKICAgIGVsaWYga2V5IDwgcm9vdC5rZXk6CiAgICAgICAgcm9vdC5sZWZ0ID0gc2VsZi5kZWxldGVfbm9kZShyb290LmxlZnQsIGtleSkKICAgIGVsaWYga2V5ID4gcm9vdC5rZXk6CiAgICAgICAgcm9vdC5yaWdodCA9IHNlbGYuZGVsZXRlX25vZGUocm9vdC5yaWdodCwga2V5KQogICAgZWxzZToKICAgICAgICBpZiByb290LmxlZnQgaXMgTm9uZToKICAgICAgICAgICAgdGVtcCA9IHJvb3QucmlnaHQKICAgICAgICAgICAgcm9vdCA9IE5vbmUKICAgICAgICAgICAgcmV0dXJuIHRlbXAKICAgICAgICBlbGlmIHJvb3QucmlnaHQgaXMgTm9uZToKICAgICAgICAgICAgdGVtcCA9IHJvb3QubGVmdAogICAgICAgICAgICByb290ID0gTm9uZQogICAgICAgICAgICByZXR1cm4gdGVtcAoKICAgICAgICB0ZW1wID0gc2VsZi5nZXRfbWluX3ZhbHVlX25vZGUocm9vdC5yaWdodCkKICAgICAgICByb290LmtleSA9IHRlbXAua2V5CiAgICAgICAgcm9vdC5yaWdodCA9IHNlbGYuZGVsZXRlX25vZGUocm9vdC5yaWdodCwgdGVtcC5rZXkpCgogICAgaWYgcm9vdCBpcyBOb25lOgogICAgICAgIHJldHVybiByb290CgogICAgcm9vdC5oZWlnaHQgPSAxICsgbWF4KHNlbGYuZ2V0X2hlaWdodChyb290LmxlZnQpLCBzZWxmLmdldF9oZWlnaHQocm9vdC5yaWdodCkpCiAgICBiYWxhbmNlID0gc2VsZi5nZXRfYmFsYW5jZShyb290KQoKICAgIGlmIGJhbGFuY2UgPiAxIGFuZCBzZWxmLmdldF9iYWxhbmNlKHJvb3QubGVmdCkgPj0gMDoKICAgICAgICByZXR1cm4gc2VsZi5yaWdodF9yb3RhdGUocm9vdCkKICAgIGlmIGJhbGFuY2UgPiAxIGFuZCBzZWxmLmdldF9iYWxhbmNlKHJvb3QubGVmdCkgPCAwOgogICAgICAgIHJvb3QubGVmdCA9IHNlbGYubGVmdF9yb3RhdGUocm9vdC5sZWZ0KQogICAgICAgIHJldHVybiBzZWxmLnJpZ2h0X3JvdGF0ZShyb290KQogICAgaWYgYmFsYW5jZSA8IC0xIGFuZCBzZWxmLmdldF9iYWxhbmNlKHJvb3QucmlnaHQpIDw9IDA6CiAgICAgICAgcmV0dXJuIHNlbGYubGVmdF9yb3RhdGUocm9vdCkKICAgIGlmIGJhbGFuY2UgPCAtMSBhbmQgc2VsZi5nZXRfYmFsYW5jZShyb290LnJpZ2h0KSA+IDA6CiAgICAgICAgcm9vdC5yaWdodCA9IHNlbGYucmlnaHRfcm90YXRlKHJvb3QucmlnaHQpCiAgICAgICAgcmV0dXJuIHNlbGYubGVmdF9yb3RhdGUocm9vdCkKCiAgICByZXR1cm4gcm9vdAoKZGVmIGdldF9taW5fdmFsdWVfbm9kZShzZWxmLCByb290KToKICAgIGlmIHJvb3QgaXMgTm9uZSBvciByb290LmxlZnQgaXMgTm9uZToKICAgICAgICByZXR1cm4gcm9vdAogICAgcmV0dXJuIHNlbGYuZ2V0X21pbl92YWx1ZV9ub2RlKHJvb3QubGVmdCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def delete_node(self, root, key):
    if not root:
        return root

    elif key &lt; root.key:
        root.left = self.delete_node(root.left, key)
    elif key &gt; root.key:
        root.right = self.delete_node(root.right, key)
    else:
        if root.left is None:
            temp = root.right
            root = None
            return temp
        elif root.right is None:
            temp = root.left
            root = None
            return temp

        temp = self.get_min_value_node(root.right)
        root.key = temp.key
        root.right = self.delete_node(root.right, temp.key)

    if root is None:
        return root

    root.height = 1 + max(self.get_height(root.left), self.get_height(root.right))
    balance = self.get_balance(root)

    if balance &gt; 1 and self.get_balance(root.left) &gt;= 0:
        return self.right_rotate(root)
    if balance &gt; 1 and self.get_balance(root.left) &lt; 0:
        root.left = self.left_rotate(root.left)
        return self.right_rotate(root)
    if balance &lt; -1 and self.get_balance(root.right) &lt;= 0:
        return self.left_rotate(root)
    if balance &lt; -1 and self.get_balance(root.right) &gt; 0:
        root.right = self.right_rotate(root.right)
        return self.left_rotate(root)

    return root

def get_min_value_node(self, root):
    if root is None or root.left is None:
        return root
    return self.get_min_value_node(root.left)</pre></div><div class='content'></div><h2>Conclusión</h2>
<div class='content'><p>En esta sección, hemos aprendido sobre los árboles AVL, sus propiedades y cómo se mantienen balanceados mediante rotaciones. También hemos implementado un árbol AVL en Python y discutido cómo insertar y eliminar nodos mientras mantenemos el balance del árbol. Los árboles AVL son fundamentales para asegurar que las operaciones de búsqueda, inserción y eliminación se realicen en tiempo logarítmico, lo que es crucial para aplicaciones que requieren un rendimiento eficiente.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-03-arboles-binarios-busqueda' title="Árboles Binarios de Búsqueda">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-05-arboles-b' title="Árboles B">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
