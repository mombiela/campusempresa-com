<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decoradores</title>

    <link rel="alternate" href="https://campusempresa.com/mod/python/08-01-decorators" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/python/08-01-decorators" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/python/08-01-decorators" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/python/08-01-decorators" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/python/08-01-decorators" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-04-custom-exceptions' title="Excepciones Personalizadas">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Decoradores</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='08-02-generators' title="Generadores">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Los decoradores en Python son una herramienta poderosa que permite modificar el comportamiento de una función o método sin cambiar su código. Los decoradores son funciones que envuelven otra función, permitiendo ejecutar código antes y después de la función decorada sin modificar su estructura.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Función Decoradora</strong>: Una función que toma otra función como argumento y extiende su comportamiento.</li>
<li><strong>Función Decorada</strong>: La función original que se pasa a la función decoradora.</li>
<li><strong>Sintaxis de Decoradores</strong>: Utiliza el símbolo <code>@</code> seguido del nombre de la función decoradora antes de la definición de la función decorada.</li>
</ul>
</div><h1>Ejemplo Básico de Decorador</h1>
<div class='content'></div><h2>Definición de un Decorador</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIG1pX2RlY29yYWRvcihmdW5jKToKICAgIGRlZiBlbnZvbHR1cmEoKToKICAgICAgICBwcmludCgiQWxnbyBzZSBlc3TDoSBoYWNpZW5kbyBhbnRlcyBkZSBsYSBmdW5jacOzbi4iKQogICAgICAgIGZ1bmMoKQogICAgICAgIHByaW50KCJBbGdvIHNlIGVzdMOhIGhhY2llbmRvIGRlc3B1w6lzIGRlIGxhIGZ1bmNpw7NuLiIpCiAgICByZXR1cm4gZW52b2x0dXJh"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def mi_decorador(func):
    def envoltura():
        print(&quot;Algo se est&aacute; haciendo antes de la funci&oacute;n.&quot;)
        func()
        print(&quot;Algo se est&aacute; haciendo despu&eacute;s de la funci&oacute;n.&quot;)
    return envoltura</pre></div><div class='content'></div><h2>Uso del Decorador</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QG1pX2RlY29yYWRvcgpkZWYgZGlfaG9sYSgpOgogICAgcHJpbnQoIsKhSG9sYSEiKQoKZGlfaG9sYSgp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@mi_decorador
def di_hola():
    print(&quot;&iexcl;Hola!&quot;)

di_hola()</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ol>
<li><strong>Definición del Decorador</strong>: <code>mi_decorador</code> es una función que toma otra función <code>func</code> como argumento y define una función interna <code>envoltura</code> que extiende el comportamiento de <code>func</code>.</li>
<li><strong>Uso del Decorador</strong>: El decorador se aplica a <code>di_hola</code> usando la sintaxis <code>@mi_decorador</code>. Esto es equivalente a <code>di_hola = mi_decorador(di_hola)</code>.</li>
<li><strong>Ejecución</strong>: Cuando <code>di_hola</code> se llama, en realidad se ejecuta <code>envoltura</code>, que imprime mensajes antes y después de llamar a <code>func</code>.</li>
</ol>
</div><h1>Decoradores con Argumentos</h1>
<div class='content'><p>Los decoradores también pueden aceptar argumentos. Para lograr esto, se necesita una capa adicional de funciones.</p>
</div><h2>Ejemplo de Decorador con Argumentos</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHJlcGV0aXIobik6CiAgICBkZWYgZGVjb3JhZG9yKGZ1bmMpOgogICAgICAgIGRlZiBlbnZvbHR1cmEoKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2Uobik6CiAgICAgICAgICAgICAgICBmdW5jKCphcmdzLCAqKmt3YXJncykKICAgICAgICByZXR1cm4gZW52b2x0dXJhCiAgICByZXR1cm4gZGVjb3JhZG9y"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def repetir(n):
    def decorador(func):
        def envoltura(*args, **kwargs):
            for _ in range(n):
                func(*args, **kwargs)
        return envoltura
    return decorador</pre></div><div class='content'></div><h2>Uso del Decorador con Argumentos</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QHJlcGV0aXIoMykKZGVmIGRpX2FkaW9zKCk6CiAgICBwcmludCgiwqFBZGnDs3MhIikKCmRpX2FkaW9zKCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@repetir(3)
def di_adios():
    print(&quot;&iexcl;Adi&oacute;s!&quot;)

di_adios()</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ol>
<li><strong>Definición del Decorador con Argumentos</strong>: <code>repetir</code> es una función que toma un argumento <code>n</code> y devuelve un decorador.</li>
<li><strong>Decorador Interno</strong>: El decorador interno <code>decorador</code> toma la función <code>func</code> y define <code>envoltura</code> que llama a <code>func</code> <code>n</code> veces.</li>
<li><strong>Uso del Decorador</strong>: <code>@repetir(3)</code> aplica el decorador a <code>di_adios</code>, haciendo que se ejecute tres veces cuando se llama.</li>
</ol>
</div><h1>Decoradores para Métodos de Clase</h1>
<div class='content'><p>Los decoradores también pueden aplicarse a métodos de clase. Un uso común es el decorador <code>@staticmethod</code> y <code>@classmethod</code>.</p>
</div><h2>Ejemplo de Decorador para Métodos de Clase</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTWlDbGFzZToKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBtZXRvZG9fZXN0YXRpY28oKToKICAgICAgICBwcmludCgiRXN0ZSBlcyB1biBtw6l0b2RvIGVzdMOhdGljby4iKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIG1ldG9kb19kZV9jbGFzZShjbHMpOgogICAgICAgIHByaW50KGYiRXN0ZSBlcyB1biBtw6l0b2RvIGRlIGNsYXNlIGRlIHtjbHN9LiIpCgpNaUNsYXNlLm1ldG9kb19lc3RhdGljbygpCk1pQ2xhc2UubWV0b2RvX2RlX2NsYXNlKCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class MiClase:
    @staticmethod
    def metodo_estatico():
        print(&quot;Este es un m&eacute;todo est&aacute;tico.&quot;)

    @classmethod
    def metodo_de_clase(cls):
        print(f&quot;Este es un m&eacute;todo de clase de {cls}.&quot;)

MiClase.metodo_estatico()
MiClase.metodo_de_clase()</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ol>
<li><strong>Método Estático</strong>: <code>@staticmethod</code> indica que <code>metodo_estatico</code> no recibe una referencia a la instancia (<code>self</code>) ni a la clase (<code>cls</code>).</li>
<li><strong>Método de Clase</strong>: <code>@classmethod</code> indica que <code>metodo_de_clase</code> recibe una referencia a la clase (<code>cls</code>).</li>
</ol>
</div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Decorador de Tiempo de Ejecución</h2>
<div class='content'><p>Crea un decorador que mida y muestre el tiempo de ejecución de una función.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRpbWUKCmRlZiBtZWRpcl90aWVtcG8oZnVuYyk6CiAgICBkZWYgZW52b2x0dXJhKCphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgaW5pY2lvID0gdGltZS50aW1lKCkKICAgICAgICByZXN1bHRhZG8gPSBmdW5jKCphcmdzLCAqKmt3YXJncykKICAgICAgICBmaW4gPSB0aW1lLnRpbWUoKQogICAgICAgIHByaW50KGYiVGllbXBvIGRlIGVqZWN1Y2nDs246IHtmaW4gLSBpbmljaW99IHNlZ3VuZG9zIikKICAgICAgICByZXR1cm4gcmVzdWx0YWRvCiAgICByZXR1cm4gZW52b2x0dXJhCgpAbWVkaXJfdGllbXBvCmRlZiBkb3JtaXIoKToKICAgIHRpbWUuc2xlZXAoMikKCmRvcm1pcigp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import time

def medir_tiempo(func):
    def envoltura(*args, **kwargs):
        inicio = time.time()
        resultado = func(*args, **kwargs)
        fin = time.time()
        print(f&quot;Tiempo de ejecuci&oacute;n: {fin - inicio} segundos&quot;)
        return resultado
    return envoltura

@medir_tiempo
def dormir():
    time.sleep(2)

dormir()</pre></div><div class='content'></div><h2>Ejercicio 2: Decorador de Registro</h2>
<div class='content'><p>Crea un decorador que registre el nombre de la función y los argumentos con los que fue llamada.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHJlZ2lzdHJhcihmdW5jKToKICAgIGRlZiBlbnZvbHR1cmEoKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICBwcmludChmIkxsYW1hbmRvIGEge2Z1bmMuX19uYW1lX199IGNvbiB7YXJnc30geSB7a3dhcmdzfSIpCiAgICAgICAgcmV0dXJuIGZ1bmMoKmFyZ3MsICoqa3dhcmdzKQogICAgcmV0dXJuIGVudm9sdHVyYQoKQHJlZ2lzdHJhcgpkZWYgc3VtYXIoYSwgYik6CiAgICByZXR1cm4gYSArIGIKCnByaW50KHN1bWFyKDMsIDUpKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def registrar(func):
    def envoltura(*args, **kwargs):
        print(f&quot;Llamando a {func.__name__} con {args} y {kwargs}&quot;)
        return func(*args, **kwargs)
    return envoltura

@registrar
def sumar(a, b):
    return a + b

print(sumar(3, 5))</pre></div><div class='content'></div><h1>Soluciones</h1>
<div class='content'></div><h2>Solución al Ejercicio 1</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRpbWUKCmRlZiBtZWRpcl90aWVtcG8oZnVuYyk6CiAgICBkZWYgZW52b2x0dXJhKCphcmdzLCAqKmt3YXJncyk6CiAgICAgICAgaW5pY2lvID0gdGltZS50aW1lKCkKICAgICAgICByZXN1bHRhZG8gPSBmdW5jKCphcmdzLCAqKmt3YXJncykKICAgICAgICBmaW4gPSB0aW1lLnRpbWUoKQogICAgICAgIHByaW50KGYiVGllbXBvIGRlIGVqZWN1Y2nDs246IHtmaW4gLSBpbmljaW99IHNlZ3VuZG9zIikKICAgICAgICByZXR1cm4gcmVzdWx0YWRvCiAgICByZXR1cm4gZW52b2x0dXJhCgpAbWVkaXJfdGllbXBvCmRlZiBkb3JtaXIoKToKICAgIHRpbWUuc2xlZXAoMikKCmRvcm1pcigp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import time

def medir_tiempo(func):
    def envoltura(*args, **kwargs):
        inicio = time.time()
        resultado = func(*args, **kwargs)
        fin = time.time()
        print(f&quot;Tiempo de ejecuci&oacute;n: {fin - inicio} segundos&quot;)
        return resultado
    return envoltura

@medir_tiempo
def dormir():
    time.sleep(2)

dormir()</pre></div><div class='content'></div><h2>Solución al Ejercicio 2</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHJlZ2lzdHJhcihmdW5jKToKICAgIGRlZiBlbnZvbHR1cmEoKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICBwcmludChmIkxsYW1hbmRvIGEge2Z1bmMuX19uYW1lX199IGNvbiB7YXJnc30geSB7a3dhcmdzfSIpCiAgICAgICAgcmV0dXJuIGZ1bmMoKmFyZ3MsICoqa3dhcmdzKQogICAgcmV0dXJuIGVudm9sdHVyYQoKQHJlZ2lzdHJhcgpkZWYgc3VtYXIoYSwgYik6CiAgICByZXR1cm4gYSArIGIKCnByaW50KHN1bWFyKDMsIDUpKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def registrar(func):
    def envoltura(*args, **kwargs):
        print(f&quot;Llamando a {func.__name__} con {args} y {kwargs}&quot;)
        return func(*args, **kwargs)
    return envoltura

@registrar
def sumar(a, b):
    return a + b

print(sumar(3, 5))</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Los decoradores son una herramienta poderosa en Python que permite modificar el comportamiento de funciones y métodos de manera flexible y reutilizable. Entender cómo funcionan y cómo aplicarlos te permitirá escribir código más limpio y eficiente. En el siguiente tema, exploraremos los generadores, otra característica avanzada de Python que facilita la creación de iteradores.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-04-custom-exceptions' title="Excepciones Personalizadas">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='08-02-generators' title="Generadores">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
