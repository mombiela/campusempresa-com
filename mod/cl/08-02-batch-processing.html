<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Procesamiento por Lotes</title>

    <link rel="alternate" href="https://campusempresa.com/mod/cl/08-02-batch-processing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/cl/08-02-batch-processing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/cl/08-02-batch-processing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/cl/08-02-batch-processing" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/cl/08-02-batch-processing" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='08-01-automating-system-tasks' title="Automatización de Tareas del Sistema">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Procesamiento por Lotes</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='08-03-data-integration' title="Integración de Datos">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>El procesamiento por lotes es una técnica fundamental en el Lenguaje de Control (CL) que permite ejecutar una serie de comandos o programas de manera secuencial sin intervención manual. Este método es especialmente útil para tareas repetitivas y de gran volumen, como la generación de informes, la actualización de bases de datos y la automatización de procesos del sistema.</p>
</div><h1>Objetivos de Aprendizaje</h1>
<div class='content'><p>Al final de esta sección, deberías ser capaz de:</p>
<ol>
<li>Entender qué es el procesamiento por lotes y sus beneficios.</li>
<li>Crear y ejecutar scripts de procesamiento por lotes en CL.</li>
<li>Manejar errores y excepciones en el procesamiento por lotes.</li>
<li>Optimizar y depurar scripts de procesamiento por lotes.</li>
</ol>
</div><h1>¿Qué es el Procesamiento por Lotes?</h1>
<div class='content'><p>El procesamiento por lotes implica la ejecución de una serie de comandos o programas en un orden predefinido. Estos comandos se agrupan en un &quot;lote&quot; y se ejecutan sin intervención manual, lo que permite la automatización de tareas repetitivas y la optimización del tiempo de procesamiento.</p>
</div><h2>Beneficios del Procesamiento por Lotes</h2>
<div class='content'><ul>
<li><strong>Automatización</strong>: Reduce la necesidad de intervención manual.</li>
<li><strong>Eficiencia</strong>: Permite ejecutar tareas fuera del horario laboral, optimizando el uso de recursos.</li>
<li><strong>Consistencia</strong>: Asegura que las tareas se ejecuten de manera uniforme y sin errores humanos.</li>
<li><strong>Escalabilidad</strong>: Facilita la gestión de grandes volúmenes de datos y tareas.</li>
</ul>
</div><h1>Creación de un Script de Procesamiento por Lotes</h1>
<div class='content'><p>Para crear un script de procesamiento por lotes en CL, sigue estos pasos:</p>
</div><h2>Paso 1: Definir el Objetivo del Lote</h2>
<div class='content'><p>Antes de escribir el script, define claramente qué tareas necesitas automatizar. Por ejemplo, supongamos que deseas generar un informe diario y actualizar una base de datos.</p>
</div><h2>Paso 2: Escribir el Script</h2>
<div class='content'><p>A continuación, se muestra un ejemplo de un script de procesamiento por lotes en CL:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogU2NyaXB0IGRlIFByb2Nlc2FtaWVudG8gcG9yIExvdGVzIHBhcmEgR2VuZXJhciBJbmZvcm1lIHkgQWN0dWFsaXphciBCYXNlIGRlIERhdG9zICovCgovKiBQYXNvIDE6IEdlbmVyYXIgSW5mb3JtZSBEaWFyaW8gKi8KQ0FMTCBQR00oR0VORVJBVEVfUkVQT1JUKSBQQVJNKCdEQUlMWScpCgovKiBQYXNvIDI6IEFjdHVhbGl6YXIgQmFzZSBkZSBEYXRvcyAqLwpDQUxMIFBHTShVUERBVEVfREFUQUJBU0UpIFBBUk0oJ0RBSUxZX1VQREFURScpCgovKiBQYXNvIDM6IFZlcmlmaWNhciBlbCBFc3RhZG8gZGVsIFByb2Nlc28gKi8KSUYgQ09ORCglRVJST1IpIFRIRU4oRE8pCiAgICAvKiBNYW5lam8gZGUgRXJyb3JlcyAqLwogICAgQ0FMTCBQR00oU0VORF9BTEVSVCkgUEFSTSgnRVJST1JfSU5fQkFUQ0hfUFJPQ0VTUycpCkVORERPCgovKiBGaW4gZGVsIFNjcmlwdCAqLw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Script de Procesamiento por Lotes para Generar Informe y Actualizar Base de Datos */

/* Paso 1: Generar Informe Diario */
CALL PGM(GENERATE_REPORT) PARM('DAILY')

/* Paso 2: Actualizar Base de Datos */
CALL PGM(UPDATE_DATABASE) PARM('DAILY_UPDATE')

/* Paso 3: Verificar el Estado del Proceso */
IF COND(%ERROR) THEN(DO)
    /* Manejo de Errores */
    CALL PGM(SEND_ALERT) PARM('ERROR_IN_BATCH_PROCESS')
ENDDO

/* Fin del Script */</pre></div><div class='content'></div><h2>Explicación del Script</h2>
<div class='content'><ol>
<li><strong>Generar Informe Diario</strong>: Llama al programa <code>GENERATE_REPORT</code> con el parámetro <code>'DAILY'</code>.</li>
<li><strong>Actualizar Base de Datos</strong>: Llama al programa <code>UPDATE_DATABASE</code> con el parámetro <code>'DAILY_UPDATE'</code>.</li>
<li><strong>Verificar el Estado del Proceso</strong>: Utiliza una sentencia condicional <code>IF</code> para verificar si ocurrió un error (<code>%ERROR</code>). Si hay un error, llama al programa <code>SEND_ALERT</code> para enviar una alerta.</li>
</ol>
</div><h2>Paso 3: Ejecutar el Script</h2>
<div class='content'><p>Guarda el script en un archivo y utiliza el comando <code>SBMJOB</code> para enviarlo a la cola de trabajos:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0JNSk9CIENNRChDQUxMIFBHTShNWV9CQVRDSF9TQ1JJUFQpKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SBMJOB CMD(CALL PGM(MY_BATCH_SCRIPT))</pre></div><div class='content'></div><h1>Manejo de Errores y Excepciones</h1>
<div class='content'><p>El manejo de errores es crucial en el procesamiento por lotes para asegurar que los problemas se detecten y manejen adecuadamente. Utiliza sentencias condicionales y programas de manejo de errores para gestionar excepciones.</p>
</div><h2>Ejemplo de Manejo de Errores</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogTWFuZWpvIGRlIEVycm9yZXMgZW4gZWwgU2NyaXB0IGRlIFByb2Nlc2FtaWVudG8gcG9yIExvdGVzICovCkNBTEwgUEdNKEdFTkVSQVRFX1JFUE9SVCkgUEFSTSgnREFJTFknKQpJRiBDT05EKCVFUlJPUikgVEhFTihETykKICAgIENBTEwgUEdNKFNFTkRfQUxFUlQpIFBBUk0oJ0VSUk9SX0lOX0dFTkVSQVRFX1JFUE9SVCcpCiAgICBSRVRVUk4KRU5ERE8KCkNBTEwgUEdNKFVQREFURV9EQVRBQkFTRSkgUEFSTSgnREFJTFlfVVBEQVRFJykKSUYgQ09ORCglRVJST1IpIFRIRU4oRE8pCiAgICBDQUxMIFBHTShTRU5EX0FMRVJUKSBQQVJNKCdFUlJPUl9JTl9VUERBVEVfREFUQUJBU0UnKQogICAgUkVUVVJOCkVORERP"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Manejo de Errores en el Script de Procesamiento por Lotes */
CALL PGM(GENERATE_REPORT) PARM('DAILY')
IF COND(%ERROR) THEN(DO)
    CALL PGM(SEND_ALERT) PARM('ERROR_IN_GENERATE_REPORT')
    RETURN
ENDDO

CALL PGM(UPDATE_DATABASE) PARM('DAILY_UPDATE')
IF COND(%ERROR) THEN(DO)
    CALL PGM(SEND_ALERT) PARM('ERROR_IN_UPDATE_DATABASE')
    RETURN
ENDDO</pre></div><div class='content'></div><h1>Optimización y Depuración de Scripts</h1>
<div class='content'><p>Para optimizar y depurar scripts de procesamiento por lotes, sigue estos consejos:</p>
</div><h2>Consejos de Optimización</h2>
<div class='content'><ul>
<li><strong>Minimiza el uso de recursos</strong>: Evita operaciones innecesarias y optimiza el uso de memoria y CPU.</li>
<li><strong>Paraleliza tareas</strong>: Si es posible, divide el lote en tareas paralelas para mejorar el rendimiento.</li>
<li><strong>Registra eventos</strong>: Utiliza registros para monitorear el estado del proceso y detectar cuellos de botella.</li>
</ul>
</div><h2>Técnicas de Depuración</h2>
<div class='content'><ul>
<li><strong>Prueba en un entorno controlado</strong>: Antes de ejecutar el script en producción, pruébalo en un entorno de prueba.</li>
<li><strong>Utiliza registros detallados</strong>: Registra cada paso del proceso para facilitar la identificación de errores.</li>
<li><strong>Revisa los logs del sistema</strong>: Analiza los logs del sistema para obtener información adicional sobre errores y advertencias.</li>
</ul>
</div><h1>Ejercicio Práctico</h1>
<h2>Ejercicio 1: Crear un Script de Procesamiento por Lotes</h2>
<div class='content'><p><strong>Objetivo</strong>: Crear un script de procesamiento por lotes que realice las siguientes tareas:</p>
<ol>
<li>Generar un informe semanal.</li>
<li>Actualizar la base de datos con los datos del informe.</li>
<li>Enviar una notificación de éxito o error.</li>
</ol>
<p><strong>Solución</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogU2NyaXB0IGRlIFByb2Nlc2FtaWVudG8gcG9yIExvdGVzIHBhcmEgR2VuZXJhciBJbmZvcm1lIFNlbWFuYWwgeSBBY3R1YWxpemFyIEJhc2UgZGUgRGF0b3MgKi8KCi8qIFBhc28gMTogR2VuZXJhciBJbmZvcm1lIFNlbWFuYWwgKi8KQ0FMTCBQR00oR0VORVJBVEVfUkVQT1JUKSBQQVJNKCdXRUVLTFknKQpJRiBDT05EKCVFUlJPUikgVEhFTihETykKICAgIENBTEwgUEdNKFNFTkRfQUxFUlQpIFBBUk0oJ0VSUk9SX0lOX0dFTkVSQVRFX1JFUE9SVCcpCiAgICBSRVRVUk4KRU5ERE8KCi8qIFBhc28gMjogQWN0dWFsaXphciBCYXNlIGRlIERhdG9zICovCkNBTEwgUEdNKFVQREFURV9EQVRBQkFTRSkgUEFSTSgnV0VFS0xZX1VQREFURScpCklGIENPTkQoJUVSUk9SKSBUSEVOKERPKQogICAgQ0FMTCBQR00oU0VORF9BTEVSVCkgUEFSTSgnRVJST1JfSU5fVVBEQVRFX0RBVEFCQVNFJykKICAgIFJFVFVSTgpFTkRETwoKLyogUGFzbyAzOiBFbnZpYXIgTm90aWZpY2FjacOzbiBkZSDDiXhpdG8gKi8KQ0FMTCBQR00oU0VORF9OT1RJRklDQVRJT04pIFBBUk0oJ0JBVENIX1BST0NFU1NfU1VDQ0VTUycp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Script de Procesamiento por Lotes para Generar Informe Semanal y Actualizar Base de Datos */

/* Paso 1: Generar Informe Semanal */
CALL PGM(GENERATE_REPORT) PARM('WEEKLY')
IF COND(%ERROR) THEN(DO)
    CALL PGM(SEND_ALERT) PARM('ERROR_IN_GENERATE_REPORT')
    RETURN
ENDDO

/* Paso 2: Actualizar Base de Datos */
CALL PGM(UPDATE_DATABASE) PARM('WEEKLY_UPDATE')
IF COND(%ERROR) THEN(DO)
    CALL PGM(SEND_ALERT) PARM('ERROR_IN_UPDATE_DATABASE')
    RETURN
ENDDO

/* Paso 3: Enviar Notificaci&oacute;n de &Eacute;xito */
CALL PGM(SEND_NOTIFICATION) PARM('BATCH_PROCESS_SUCCESS')</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>El procesamiento por lotes en CL es una herramienta poderosa para automatizar tareas repetitivas y de gran volumen. Al dominar la creación y ejecución de scripts de procesamiento por lotes, puedes mejorar significativamente la eficiencia y la consistencia de tus procesos. Asegúrate de manejar adecuadamente los errores y optimizar tus scripts para obtener el mejor rendimiento posible.</p>
<p>En el próximo módulo, exploraremos la <strong>Integración de Datos</strong>, donde aprenderás a combinar y manipular datos de diferentes fuentes utilizando CL.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='08-01-automating-system-tasks' title="Automatización de Tareas del Sistema">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='08-03-data-integration' title="Integración de Datos">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
