<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprobaciones de Salud y Sondas</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kubernetes/health-checks-and-probes" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kubernetes/health-checks-and-probes" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kubernetes/health-checks-and-probes" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/kubernetes/health-checks-and-probes" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/kubernetes/health-checks-and-probes" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/kubernetes/health-checks-and-probes">https://enterprisecampus.net/mod/kubernetes/health-checks-and-probes</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='scaling-applications'>&#x25C4;Escalado de Aplicaciones</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Comprobaciones de Salud y Sondas</a>
	</div>
	<div class='col-4 text-end'>
					<a href='resource-requests-and-limits'>Solicitudes y Límites de Recursos &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En Kubernetes, asegurar que tus aplicaciones estén funcionando sin problemas es crucial. Las comprobaciones de salud y las sondas son mecanismos que Kubernetes utiliza para monitorear la salud de tus aplicaciones. Esta sección cubrirá los conceptos básicos de las comprobaciones de salud y las sondas, sus tipos y cómo implementarlas en tus clústeres de Kubernetes.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Comprobaciones de Salud</strong>: Mecanismos para determinar si una aplicación está funcionando como se espera.</li>
<li><strong>Sondas</strong>: Tipos específicos de comprobaciones de salud que Kubernetes utiliza para monitorear el estado de los contenedores.</li>
</ul>
</div><h1>Tipos de Sondas</h1>
<div class='content'><p>Kubernetes soporta tres tipos de sondas:</p>
<ol>
<li><strong>Sondas de Liveness</strong>: Determinan si un contenedor está funcionando. Si la sonda de liveness falla, Kubernetes matará el contenedor y lo reiniciará.</li>
<li><strong>Sondas de Readiness</strong>: Determinan si un contenedor está listo para empezar a aceptar tráfico. Si la sonda de readiness falla, Kubernetes eliminará el contenedor de los endpoints del servicio.</li>
<li><strong>Sondas de Startup</strong>: Se utilizan para verificar si un contenedor ha iniciado correctamente. Si la sonda de startup falla, Kubernetes matará el contenedor y lo reiniciará.</li>
</ol>
</div><h1>Implementación de Sondas</h1>
<div class='content'></div><h2>Sondas de Liveness</h2>
<div class='content'><p>Las sondas de liveness se utilizan para verificar si la aplicación dentro de un contenedor está viva. Si la sonda de liveness falla, Kubernetes reiniciará el contenedor.</p>
<h4>Ejemplo:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IGxpdmVuZXNzLWV4YW1wbGUKc3BlYzoKICBjb250YWluZXJzOgogIC0gbmFtZTogbXlhcHAKICAgIGltYWdlOiBteWFwcDpsYXRlc3QKICAgIGxpdmVuZXNzUHJvYmU6CiAgICAgIGh0dHBHZXQ6CiAgICAgICAgcGF0aDogL2hlYWx0aHoKICAgICAgICBwb3J0OiA4MDgwCiAgICAgIGluaXRpYWxEZWxheVNlY29uZHM6IDMKICAgICAgcGVyaW9kU2Vjb25kczogMw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: liveness-example
spec:
  containers:
  - name: myapp
    image: myapp:latest
    livenessProbe:
      httpGet:
        path: /healthz
        port: 8080
      initialDelaySeconds: 3
      periodSeconds: 3</pre></div><div class='content'><ul>
<li><strong>httpGet</strong>: Especifica el endpoint HTTP a verificar.</li>
<li><strong>initialDelaySeconds</strong>: Tiempo de espera antes de realizar la primera sonda.</li>
<li><strong>periodSeconds</strong>: Tiempo entre sondas sucesivas.</li>
</ul>
</div><h2>Sondas de Readiness</h2>
<div class='content'><p>Las sondas de readiness se utilizan para verificar si la aplicación está lista para servir tráfico. Si la sonda de readiness falla, el contenedor será eliminado de los endpoints del servicio.</p>
<h4>Ejemplo:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IHJlYWRpbmVzcy1leGFtcGxlCnNwZWM6CiAgY29udGFpbmVyczoKICAtIG5hbWU6IG15YXBwCiAgICBpbWFnZTogbXlhcHA6bGF0ZXN0CiAgICByZWFkaW5lc3NQcm9iZToKICAgICAgaHR0cEdldDoKICAgICAgICBwYXRoOiAvcmVhZHkKICAgICAgICBwb3J0OiA4MDgwCiAgICAgIGluaXRpYWxEZWxheVNlY29uZHM6IDUKICAgICAgcGVyaW9kU2Vjb25kczogNQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: readiness-example
spec:
  containers:
  - name: myapp
    image: myapp:latest
    readinessProbe:
      httpGet:
        path: /ready
        port: 8080
      initialDelaySeconds: 5
      periodSeconds: 5</pre></div><div class='content'><ul>
<li><strong>httpGet</strong>: Especifica el endpoint HTTP a verificar.</li>
<li><strong>initialDelaySeconds</strong>: Tiempo de espera antes de realizar la primera sonda.</li>
<li><strong>periodSeconds</strong>: Tiempo entre sondas sucesivas.</li>
</ul>
</div><h2>Sondas de Startup</h2>
<div class='content'><p>Las sondas de startup se utilizan para verificar si la aplicación ha iniciado correctamente. Son útiles para aplicaciones que tienen tiempos de inicio largos.</p>
<h4>Ejemplo:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IHN0YXJ0dXAtZXhhbXBsZQpzcGVjOgogIGNvbnRhaW5lcnM6CiAgLSBuYW1lOiBteWFwcAogICAgaW1hZ2U6IG15YXBwOmxhdGVzdAogICAgc3RhcnR1cFByb2JlOgogICAgICBodHRwR2V0OgogICAgICAgIHBhdGg6IC9zdGFydHVwCiAgICAgICAgcG9ydDogODA4MAogICAgICBpbml0aWFsRGVsYXlTZWNvbmRzOiAxMAogICAgICBwZXJpb2RTZWNvbmRzOiAxMAogICAgICBmYWlsdXJlVGhyZXNob2xkOiAzMA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: startup-example
spec:
  containers:
  - name: myapp
    image: myapp:latest
    startupProbe:
      httpGet:
        path: /startup
        port: 8080
      initialDelaySeconds: 10
      periodSeconds: 10
      failureThreshold: 30</pre></div><div class='content'><ul>
<li><strong>httpGet</strong>: Especifica el endpoint HTTP a verificar.</li>
<li><strong>initialDelaySeconds</strong>: Tiempo de espera antes de realizar la primera sonda.</li>
<li><strong>periodSeconds</strong>: Tiempo entre sondas sucesivas.</li>
<li><strong>failureThreshold</strong>: Número de fallos consecutivos antes de que la sonda se considere fallida.</li>
</ul>
</div><h1>Comparación de Sondas</h1>
<div class='content'><p>| Tipo de Sonda  | Propósito                                 | Acción en Caso de Fallo            | Caso de Uso Típico                    |
|----------------|-------------------------------------------|------------------------------------|---------------------------------------|
| Sonda de Liveness | Verificar si el contenedor está vivo     | Reiniciar el contenedor            | Detectar y recuperarse de bloqueos    |
| Sonda de Readiness| Verificar si el contenedor está listo para servir | Eliminar de los endpoints del servicio | Asegurar que solo los contenedores saludables reciban tráfico |
| Sonda de Startup  | Verificar si el contenedor ha iniciado   | Reiniciar el contenedor            | Manejar aplicaciones con tiempos de inicio largos |</p>
</div><h1>Conclusión</h1>
<div class='content'><p>Las comprobaciones de salud y las sondas son esenciales para mantener la fiabilidad y disponibilidad de tus aplicaciones en Kubernetes. Al implementar correctamente las sondas de liveness, readiness y startup, puedes asegurarte de que tus aplicaciones estén funcionando sin problemas y puedan recuperarse de fallos automáticamente. Entender y usar estas sondas de manera efectiva te ayudará a construir despliegues de Kubernetes robustos y resilientes.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='scaling-applications'>&#x25C4;Escalado de Aplicaciones</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Comprobaciones de Salud y Sondas</a>
	</div>
	<div class='col-4 text-end'>
					<a href='resource-requests-and-limits'>Solicitudes y Límites de Recursos &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
