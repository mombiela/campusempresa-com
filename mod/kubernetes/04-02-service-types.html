<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tipos de Servicios</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kubernetes/04-02-service-types" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kubernetes/04-02-service-types" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kubernetes/04-02-service-types" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/kubernetes/04-02-service-types" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/kubernetes/04-02-service-types" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-cluster-networking' title="Redes de Clúster">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Tipos de Servicios</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-ingress-controllers' title="Controladores de Ingress">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En Kubernetes, los servicios son un recurso fundamental que permite la comunicación entre diferentes componentes de una aplicación, así como con el mundo exterior. Los servicios proporcionan una abstracción sobre los pods, permitiendo el descubrimiento y la comunicación de manera estable y confiable. En esta sección, exploraremos los diferentes tipos de servicios que Kubernetes ofrece y cómo se utilizan.</p>
</div><h1><p>Tipos de Servicios en Kubernetes</p>
</h1>
<div class='content'><p>Kubernetes soporta varios tipos de servicios, cada uno diseñado para diferentes casos de uso. Los tipos de servicios más comunes son:</p>
<ol>
<li><strong>ClusterIP</strong></li>
<li><strong>NodePort</strong></li>
<li><strong>LoadBalancer</strong></li>
<li><strong>ExternalName</strong></li>
</ol>
</div><h2><ol>
<li>ClusterIP</li>
</ol>
</h2>
<div class='content'><p><strong>ClusterIP</strong> es el tipo de servicio por defecto en Kubernetes. Este tipo de servicio expone el servicio internamente dentro del clúster, asignándole una dirección IP interna accesible solo desde dentro del clúster.</p>
<h4>Características:</h4>
<ul>
<li>No es accesible desde fuera del clúster.</li>
<li>Utilizado para la comunicación interna entre los pods.</li>
</ul>
<h4>Ejemplo de YAML para un servicio ClusterIP:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1jbHVzdGVyaXAtc2VydmljZQpzcGVjOgogIHNlbGVjdG9yOgogICAgYXBwOiBNeUFwcAogIHBvcnRzOgogICAgLSBwcm90b2NvbDogVENQCiAgICAgIHBvcnQ6IDgwCiAgICAgIHRhcmdldFBvcnQ6IDgwODAKICB0eXBlOiBDbHVzdGVySVA="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-clusterip-service
spec:
  selector:
    app: MyApp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080
  type: ClusterIP</pre></div><div class='content'></div><h2><ol start="2">
<li>NodePort</li>
</ol>
</h2>
<div class='content'><p><strong>NodePort</strong> expone el servicio en cada nodo del clúster en un puerto específico. Este tipo de servicio permite el acceso externo al clúster a través de la IP del nodo y el puerto asignado.</p>
<h4>Características:</h4>
<ul>
<li>Accesible desde fuera del clúster.</li>
<li>Asigna un puerto en el rango 30000-32767 en cada nodo.</li>
</ul>
<h4>Ejemplo de YAML para un servicio NodePort:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1ub2RlcG9ydC1zZXJ2aWNlCnNwZWM6CiAgc2VsZWN0b3I6CiAgICBhcHA6IE15QXBwCiAgcG9ydHM6CiAgICAtIHByb3RvY29sOiBUQ1AKICAgICAgcG9ydDogODAKICAgICAgdGFyZ2V0UG9ydDogODA4MAogICAgICBub2RlUG9ydDogMzAwMDcKICB0eXBlOiBOb2RlUG9ydA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-nodeport-service
spec:
  selector:
    app: MyApp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080
      nodePort: 30007
  type: NodePort</pre></div><div class='content'></div><h2><ol start="3">
<li>LoadBalancer</li>
</ol>
</h2>
<div class='content'><p><strong>LoadBalancer</strong> crea un balanceador de carga externo que distribuye el tráfico a los pods del servicio. Este tipo de servicio es ideal para aplicaciones que necesitan ser accesibles desde fuera del clúster y requieren balanceo de carga.</p>
<h4>Características:</h4>
<ul>
<li>Proporciona una IP externa para el servicio.</li>
<li>Utiliza el balanceador de carga del proveedor de nube (AWS, GCP, Azure, etc.).</li>
</ul>
<h4>Ejemplo de YAML para un servicio LoadBalancer:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1sb2FkYmFsYW5jZXItc2VydmljZQpzcGVjOgogIHNlbGVjdG9yOgogICAgYXBwOiBNeUFwcAogIHBvcnRzOgogICAgLSBwcm90b2NvbDogVENQCiAgICAgIHBvcnQ6IDgwCiAgICAgIHRhcmdldFBvcnQ6IDgwODAKICB0eXBlOiBMb2FkQmFsYW5jZXI="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-loadbalancer-service
spec:
  selector:
    app: MyApp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080
  type: LoadBalancer</pre></div><div class='content'></div><h2><ol start="4">
<li>ExternalName</li>
</ol>
</h2>
<div class='content'><p><strong>ExternalName</strong> mapea un servicio a un nombre DNS externo. Este tipo de servicio no asigna una IP ni abre puertos, sino que actúa como un alias para un nombre DNS externo.</p>
<h4>Características:</h4>
<ul>
<li>No expone el servicio dentro del clúster.</li>
<li>Utilizado para redirigir el tráfico a servicios externos.</li>
</ul>
<h4>Ejemplo de YAML para un servicio ExternalName:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBteS1leHRlcm5hbG5hbWUtc2VydmljZQpzcGVjOgogIHR5cGU6IEV4dGVybmFsTmFtZQogIGV4dGVybmFsTmFtZTogZXhhbXBsZS5jb20="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Service
metadata:
  name: my-externalname-service
spec:
  type: ExternalName
  externalName: example.com</pre></div><div class='content'></div><h1><p>Comparación de Tipos de Servicios</p>
</h1>
<div class='content'><table>
<thead>
<tr>
<th>Tipo de Servicio</th>
<th>Accesibilidad</th>
<th>Uso Principal</th>
<th>Requiere Balanceador de Carga</th>
</tr>
</thead>
<tbody>
<tr>
<td>ClusterIP</td>
<td>Interna</td>
<td>Comunicación interna entre pods</td>
<td>No</td>
</tr>
<tr>
<td>NodePort</td>
<td>Externa</td>
<td>Acceso externo al clúster</td>
<td>No</td>
</tr>
<tr>
<td>LoadBalancer</td>
<td>Externa</td>
<td>Acceso externo con balanceo de carga</td>
<td>Sí</td>
</tr>
<tr>
<td>ExternalName</td>
<td>Externa</td>
<td>Redirección a servicios externos</td>
<td>No</td>
</tr>
</tbody>
</table>
</div><h1><p>Ejercicio Práctico</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Crear un Servicio NodePort</p>
</h2>
<div class='content'><ol>
<li>
<p>Crea un archivo YAML llamado <code>nodeport-service.yaml</code> con el siguiente contenido:</p>
<pre><code class="language-yaml">apiVersion: v1
kind: Service
metadata:
  name: my-nodeport-service
spec:
  selector:
    app: MyApp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080
      nodePort: 30007
  type: NodePort
</code></pre>
</li>
<li>
<p>Aplica el archivo YAML para crear el servicio:</p>
<pre><code class="language-sh">kubectl apply -f nodeport-service.yaml
</code></pre>
</li>
<li>
<p>Verifica que el servicio se ha creado correctamente:</p>
<pre><code class="language-sh">kubectl get services
</code></pre>
</li>
</ol>
</div><h2><p>Solución del Ejercicio</p>
</h2>
<div class='content'><p>Al ejecutar los comandos anteriores, deberías ver una salida similar a la siguiente:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TkFNRSAgICAgICAgICAgICAgICAgVFlQRSAgICAgICAgQ0xVU1RFUi1JUCAgICAgICBFWFRFUk5BTC1JUCAgIFBPUlQoUykgICAgICAgIEFHRQpteS1ub2RlcG9ydC1zZXJ2aWNlICBOb2RlUG9ydCAgICAxMC45Ni4wLjEgICAgICAgIDxub25lPiAgICAgICAgODA6MzAwMDcvVENQICAgMW0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>NAME                 TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE
my-nodeport-service  NodePort    10.96.0.1        &lt;none&gt;        80:30007/TCP   1m</pre></div><div class='content'><p>Esto indica que el servicio <code>my-nodeport-service</code> ha sido creado y está accesible en el puerto 30007 de cada nodo del clúster.</p>
</div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En esta sección, hemos explorado los diferentes tipos de servicios en Kubernetes y sus usos. Entender cuándo y cómo utilizar cada tipo de servicio es crucial para diseñar aplicaciones escalables y accesibles en Kubernetes. En la próxima sección, profundizaremos en los controladores de Ingress, que proporcionan una forma más avanzada de gestionar el acceso externo a los servicios en Kubernetes.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-01-cluster-networking' title="Redes de Clúster">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-03-ingress-controllers' title="Controladores de Ingress">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
