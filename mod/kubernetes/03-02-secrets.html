<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Secrets</title>

    <link rel="alternate" href="https://campusempresa.com/mod/kubernetes/03-02-secrets" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/kubernetes/03-02-secrets" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/kubernetes/03-02-secrets" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "es";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "kubernetes";
  		var TEMA_NAME = "3-2";
  		var TYPE = "mod";
  		var PATH = "mod/kubernetes/03-02-secrets";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.86da6c742a.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/kubernetes/03-02-secrets" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/kubernetes/03-02-secrets" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Todo el conocimiento a tu alcance</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Mis cursos</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalizados             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="kubernetes">
		<a  href="#" class="text-secondary d-none" data-read-mod="kubernetes" data-read-unit="3-2" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar como leído
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="kubernetes" data-unread-unit="3-2" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar como no leído
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contenido del curso
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-01-configmaps' title="ConfigMaps" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-01-configmaps' title="ConfigMaps" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Secrets</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-03-environment-variables' title="Variables de Entorno" class="py-2 px-3 btn btn-primary"
				data-read-mod="kubernetes" data-read-unit="3-2">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-03-environment-variables' title="Variables de Entorno" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kubernetes" data-read-unit="3-2">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En Kubernetes, los Secrets (Secretos) son objetos que permiten almacenar y gestionar información sensible, como contraseñas, tokens y claves SSH. A diferencia de los ConfigMaps, que se utilizan para almacenar datos de configuración no sensibles, los Secrets están diseñados para proteger la confidencialidad de la información.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Secret</strong>: Un objeto de Kubernetes que contiene una pequeña cantidad de datos sensibles, como una contraseña, un token o una clave.</li>
<li><strong>Base64</strong>: Los datos en un Secret deben estar codificados en Base64.</li>
<li><strong>Tipos de Secretos</strong>: Kubernetes soporta varios tipos de secretos, como <code>Opaque</code>, <code>kubernetes.io/service-account-token</code>, <code>kubernetes.io/dockercfg</code>, entre otros.</li>
</ul>
</div><h1>Creación de un Secret</h1>
<div class='content'></div><h2>Método 1: Usando un archivo YAML</h2>
<div class='content'><p>Puedes definir un Secret en un archivo YAML. Aquí hay un ejemplo de cómo crear un Secret que almacena un nombre de usuario y una contraseña:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogU2VjcmV0Cm1ldGFkYXRhOgogIG5hbWU6IG15LXNlY3JldAp0eXBlOiBPcGFxdWUKZGF0YToKICB1c2VybmFtZTogWVdSdGFXND0gICMgImFkbWluIiBjb2RpZmljYWRvIGVuIEJhc2U2NAogIHBhc3N3b3JkOiBNV1l5WkRGbE1tVTJOMlJtICAjICIxZjJkMWUyZTY3ZGYiIGNvZGlmaWNhZG8gZW4gQmFzZTY0"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Secret
metadata:
  name: my-secret
type: Opaque
data:
  username: YWRtaW4=  # &quot;admin&quot; codificado en Base64
  password: MWYyZDFlMmU2N2Rm  # &quot;1f2d1e2e67df&quot; codificado en Base64</pre></div><div class='content'><p>Para aplicar este Secret, usa el comando <code>kubectl apply</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBhcHBseSAtZiBteS1zZWNyZXQueWFtbA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl apply -f my-secret.yaml</pre></div><div class='content'></div><h2>Método 2: Usando el comando <code>kubectl create secret</code></h2>
<div class='content'><p>También puedes crear un Secret directamente desde la línea de comandos:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a3ViZWN0bCBjcmVhdGUgc2VjcmV0IGdlbmVyaWMgbXktc2VjcmV0IC0tZnJvbS1saXRlcmFsPXVzZXJuYW1lPWFkbWluIC0tZnJvbS1saXRlcmFsPXBhc3N3b3JkPTFmMmQxZTJlNjdkZg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kubectl create secret generic my-secret --from-literal=username=admin --from-literal=password=1f2d1e2e67df</pre></div><div class='content'></div><h1>Acceso a los Secrets en Pods</h1>
<div class='content'></div><h2>Usando Variables de Entorno</h2>
<div class='content'><p>Puedes acceder a los datos de un Secret en un Pod a través de variables de entorno. Aquí hay un ejemplo de cómo hacerlo:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IG15LXBvZApzcGVjOgogIGNvbnRhaW5lcnM6CiAgLSBuYW1lOiBteS1jb250YWluZXIKICAgIGltYWdlOiBuZ2lueAogICAgZW52OgogICAgLSBuYW1lOiBVU0VSTkFNRQogICAgICB2YWx1ZUZyb206CiAgICAgICAgc2VjcmV0S2V5UmVmOgogICAgICAgICAgbmFtZTogbXktc2VjcmV0CiAgICAgICAgICBrZXk6IHVzZXJuYW1lCiAgICAtIG5hbWU6IFBBU1NXT1JECiAgICAgIHZhbHVlRnJvbToKICAgICAgICBzZWNyZXRLZXlSZWY6CiAgICAgICAgICBuYW1lOiBteS1zZWNyZXQKICAgICAgICAgIGtleTogcGFzc3dvcmQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: my-pod
spec:
  containers:
  - name: my-container
    image: nginx
    env:
    - name: USERNAME
      valueFrom:
        secretKeyRef:
          name: my-secret
          key: username
    - name: PASSWORD
      valueFrom:
        secretKeyRef:
          name: my-secret
          key: password</pre></div><div class='content'></div><h2>Montando como Volumen</h2>
<div class='content'><p>Otra forma de acceder a los datos de un Secret es montándolo como un volumen en el Pod:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogdjEKa2luZDogUG9kCm1ldGFkYXRhOgogIG5hbWU6IG15LXBvZApzcGVjOgogIGNvbnRhaW5lcnM6CiAgLSBuYW1lOiBteS1jb250YWluZXIKICAgIGltYWdlOiBuZ2lueAogICAgdm9sdW1lTW91bnRzOgogICAgLSBuYW1lOiBzZWNyZXQtdm9sdW1lCiAgICAgIG1vdW50UGF0aDogL2V0Yy9zZWNyZXQKICAgICAgcmVhZE9ubHk6IHRydWUKICB2b2x1bWVzOgogIC0gbmFtZTogc2VjcmV0LXZvbHVtZQogICAgc2VjcmV0OgogICAgICBzZWNyZXROYW1lOiBteS1zZWNyZXQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: v1
kind: Pod
metadata:
  name: my-pod
spec:
  containers:
  - name: my-container
    image: nginx
    volumeMounts:
    - name: secret-volume
      mountPath: /etc/secret
      readOnly: true
  volumes:
  - name: secret-volume
    secret:
      secretName: my-secret</pre></div><div class='content'></div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Crear y Usar un Secret</h2>
<div class='content'><ol>
<li><strong>Crear un Secret</strong>: Define un Secret en un archivo YAML que contenga un nombre de usuario y una contraseña.</li>
<li><strong>Aplicar el Secret</strong>: Usa <code>kubectl apply</code> para crear el Secret en tu clúster.</li>
<li><strong>Acceder al Secret en un Pod</strong>: Crea un Pod que acceda a los datos del Secret a través de variables de entorno.</li>
</ol>
<h4>Solución</h4>
<ol>
<li>
<p><strong>Archivo YAML del Secret</strong> (<code>my-secret.yaml</code>):</p>
<pre><code class="language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: my-secret
type: Opaque
data:
  username: YWRtaW4=  # &quot;admin&quot; codificado en Base64
  password: MWYyZDFlMmU2N2Rm  # &quot;1f2d1e2e67df&quot; codificado en Base64
</code></pre>
</li>
<li>
<p><strong>Aplicar el Secret</strong>:</p>
<pre><code class="language-sh">kubectl apply -f my-secret.yaml
</code></pre>
</li>
<li>
<p><strong>Archivo YAML del Pod</strong> (<code>my-pod.yaml</code>):</p>
<pre><code class="language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: my-pod
spec:
  containers:
  - name: my-container
    image: nginx
    env:
    - name: USERNAME
      valueFrom:
        secretKeyRef:
          name: my-secret
          key: username
    - name: PASSWORD
      valueFrom:
        secretKeyRef:
          name: my-secret
          key: password
</code></pre>
</li>
<li>
<p><strong>Aplicar el Pod</strong>:</p>
<pre><code class="language-sh">kubectl apply -f my-pod.yaml
</code></pre>
</li>
</ol>
</div><h1>Errores Comunes y Consejos</h1>
<div class='content'><ul>
<li><strong>Error: Datos no codificados en Base64</strong>: Asegúrate de que los datos en el Secret estén codificados en Base64. Puedes usar el comando <code>echo -n 'data' | base64</code> para codificar datos.</li>
<li><strong>Error: Acceso denegado</strong>: Verifica que el Pod tenga los permisos necesarios para acceder al Secret.</li>
<li><strong>Consejo</strong>: Usa <code>kubectl describe secret &lt;secret-name&gt;</code> para verificar el contenido y los detalles del Secret.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos aprendido qué son los Secrets en Kubernetes, cómo crearlos y cómo acceder a ellos desde los Pods. Los Secrets son una herramienta esencial para gestionar información sensible de manera segura en tus aplicaciones desplegadas en Kubernetes. En la próxima sección, exploraremos cómo gestionar variables de entorno en Kubernetes.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='03-01-configmaps' title="ConfigMaps" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='03-01-configmaps' title="ConfigMaps" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='03-03-environment-variables' title="Variables de Entorno" class="py-2 px-3 btn btn-primary"
				data-read-mod="kubernetes" data-read-unit="3-2">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='03-03-environment-variables' title="Variables de Entorno" class="py-2 px-3 btn btn-primary" 
				data-read-mod="kubernetes" data-read-unit="3-2">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curso de Kubernetes</h1>
<h2>Módulo 1: Introducción a Kubernetes</h2>
<ul>
<li><a href="01-01-what-is-kubernetes">¿Qué es Kubernetes?</a></li>
<li><a href="01-02-kubernetes-architecture">Arquitectura de Kubernetes</a></li>
<li><a href="01-03-key-concepts-terminology">Conceptos y Terminología Clave</a></li>
<li><a href="01-04-setting-up-cluster">Configuración de un Clúster de Kubernetes</a></li>
<li><a href="01-05-kubernetes-cli">CLI de Kubernetes (kubectl)</a></li>
</ul>
<h2>Módulo 2: Componentes Principales de Kubernetes</h2>
<ul>
<li><a href="02-01-pods">Pods</a></li>
<li><a href="02-02-replicasets">ReplicaSets</a></li>
<li><a href="02-03-deployments">Deployments</a></li>
<li><a href="02-04-services">Servicios</a></li>
<li><a href="02-05-namespaces">Namespaces</a></li>
</ul>
<h2>Módulo 3: Gestión de Configuración y Secretos</h2>
<ul>
<li><a href="03-01-configmaps">ConfigMaps</a></li>
<li><a href="03-02-secrets">Secrets</a></li>
<li><a href="03-03-environment-variables">Variables de Entorno</a></li>
<li><a href="03-04-resource-quotas-limits">Cuotas y Límites de Recursos</a></li>
</ul>
<h2>Módulo 4: Redes en Kubernetes</h2>
<ul>
<li><a href="04-01-cluster-networking">Redes de Clúster</a></li>
<li><a href="04-02-service-types">Tipos de Servicios</a></li>
<li><a href="04-03-ingress-controllers">Controladores de Ingress</a></li>
<li><a href="04-04-network-policies">Políticas de Red</a></li>
</ul>
<h2>Módulo 5: Almacenamiento en Kubernetes</h2>
<ul>
<li><a href="05-01-volumes">Volúmenes</a></li>
<li><a href="05-02-persistent-volumes">Volúmenes Persistentes</a></li>
<li><a href="05-03-persistent-volume-claims">Reclamaciones de Volúmenes Persistentes</a></li>
<li><a href="05-04-storage-classes">Clases de Almacenamiento</a></li>
</ul>
<h2>Módulo 6: Conceptos Avanzados de Kubernetes</h2>
<ul>
<li><a href="06-01-statefulsets">StatefulSets</a></li>
<li><a href="06-02-daemonsets">DaemonSets</a></li>
<li><a href="06-03-jobs-cronjobs">Trabajos y CronJobs</a></li>
<li><a href="06-04-crds">Definiciones de Recursos Personalizados (CRDs)</a></li>
</ul>
<h2>Módulo 7: Monitoreo y Registro</h2>
<ul>
<li><a href="07-01-monitoring-prometheus">Monitoreo con Prometheus</a></li>
<li><a href="07-02-logging-efk">Registro con Elasticsearch, Fluentd y Kibana (EFK)</a></li>
<li><a href="07-03-health-checks-probes">Verificaciones de Salud y Sondas</a></li>
<li><a href="07-04-metrics-server">Servidor de Métricas</a></li>
</ul>
<h2>Módulo 8: Seguridad en Kubernetes</h2>
<ul>
<li><a href="08-01-rbac">Control de Acceso Basado en Roles (RBAC)</a></li>
<li><a href="08-02-pod-security-policies">Políticas de Seguridad de Pods</a></li>
<li><a href="08-03-network-security">Seguridad de Red</a></li>
<li><a href="08-04-image-security">Seguridad de Imágenes</a></li>
</ul>
<h2>Módulo 9: Escalado y Rendimiento</h2>
<ul>
<li><a href="09-01-horizontal-pod-autoscaling">Autoescalado Horizontal de Pods</a></li>
<li><a href="09-02-vertical-pod-autoscaling">Autoescalado Vertical de Pods</a></li>
<li><a href="09-03-cluster-autoscaling">Autoescalado de Clúster</a></li>
<li><a href="09-04-performance-tuning">Ajuste de Rendimiento</a></li>
</ul>
<h2>Módulo 10: Ecosistema y Herramientas de Kubernetes</h2>
<ul>
<li><a href="10-01-helm">Helm</a></li>
<li><a href="10-02-kustomize">Kustomize</a></li>
<li><a href="10-03-kubeadm">Kubeadm</a></li>
<li><a href="10-04-minikube">Minikube</a></li>
</ul>
<h2>Módulo 11: Estudios de Caso y Aplicaciones del Mundo Real</h2>
<ul>
<li><a href="11-01-deploying-web-application">Despliegue de una Aplicación Web</a></li>
<li><a href="11-02-cicd-kubernetes">CI/CD con Kubernetes</a></li>
<li><a href="11-03-running-stateful-applications">Ejecución de Aplicaciones con Estado</a></li>
<li><a href="11-04-multi-cluster-management">Gestión Multi-Clúster</a></li>
</ul>
<h2>Módulo 12: Preparación para la Certificación de Kubernetes</h2>
<ul>
<li><a href="12-01-cka">Administrador Certificado de Kubernetes (CKA)</a></li>
<li><a href="12-02-ckad">Desarrollador de Aplicaciones Certificado de Kubernetes (CKAD)</a></li>
<li><a href="12-03-cks">Especialista en Seguridad Certificado de Kubernetes (CKS)</a></li>
<li><a href="12-04-exam-preparation-tips">Consejos para la Preparación del Examen</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuario no autenticado</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="modal-body-main"></div>
            </div>
        </div>
    </div>
</div>	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
