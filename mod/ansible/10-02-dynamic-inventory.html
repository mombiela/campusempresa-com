<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Inventario Dinámico</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ansible/10-02-dynamic-inventory" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ansible/10-02-dynamic-inventory" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ansible/10-02-dynamic-inventory" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>var DEVELOP = window.location.href.indexOf("localhost")!=-1 && true;</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/ansible/10-02-dynamic-inventory" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/ansible/10-02-dynamic-inventory" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Todo el conocimiento a tu alcance</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col" id="left_menu">
					<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contenido del curso
	</a>

			</div>
		</div>
	</div>
</div>

<!--  
<div class="top-bar container-fluid">
	<div class="container-xxl">
		<nav class="navbar navbar-expand-md p-0">
			<div class="container-fluid">
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarNav">
					<div class="navbar-nav me-auto">
							<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contenido del curso
	</a>

					</div>
				</div>			
							</div>
		</nav>
	</div>
</div>
 -->				<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='10-01-custom-modules' title="Módulos Personalizados">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<h2 style="text-decoration:underline">Inventario Dinámico</h2>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-03-ansible-plugins' title="Plugins de Ansible">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En Ansible, el inventario es una lista de nodos (hosts) que Ansible administra. Por defecto, Ansible utiliza un archivo estático para definir este inventario. Sin embargo, en entornos dinámicos donde los hosts pueden cambiar frecuentemente, un inventario estático puede no ser suficiente. Aquí es donde entra en juego el inventario dinámico.</p>
<p>El inventario dinámico permite a Ansible obtener la lista de hosts desde una fuente externa, como una API de un proveedor de nube, una base de datos, o cualquier otro sistema que pueda proporcionar información sobre los hosts.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Inventario Estático</strong>: Un archivo de texto plano que contiene una lista de hosts y grupos.</li>
<li><strong>Inventario Dinámico</strong>: Un script o plugin que genera dinámicamente la lista de hosts y grupos.</li>
<li><strong>Fuente de Datos</strong>: El sistema externo del cual se obtiene la información del inventario.</li>
</ul>
</div><h1>Ventajas del Inventario Dinámico</h1>
<div class='content'><ul>
<li><strong>Actualización Automática</strong>: Los cambios en la infraestructura se reflejan automáticamente en el inventario.</li>
<li><strong>Escalabilidad</strong>: Facilita la gestión de grandes infraestructuras.</li>
<li><strong>Flexibilidad</strong>: Permite integrar Ansible con diversas fuentes de datos.</li>
</ul>
</div><h1>Ejemplo Práctico: Inventario Dinámico con AWS</h1>
<div class='content'></div><h2>Paso 1: Configurar AWS CLI</h2>
<div class='content'><p>Antes de usar un inventario dinámico con AWS, necesitas configurar AWS CLI en tu máquina.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBhd3MgY29uZmlndXJl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ aws configure</pre></div><div class='content'><p>Sigue las instrucciones para ingresar tu <code>AWS Access Key ID</code>, <code>AWS Secret Access Key</code>, <code>Default region name</code>, y <code>Default output format</code>.</p>
</div><h2>Paso 2: Instalar el Plugin de Inventario Dinámico de AWS</h2>
<div class='content'><p>Ansible proporciona un plugin para AWS que facilita la creación de inventarios dinámicos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBwaXAgaW5zdGFsbCBib3RvIGJvdG8z"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ pip install boto boto3</pre></div><div class='content'></div><h2>Paso 3: Configurar el Plugin de Inventario Dinámico</h2>
<div class='content'><p>Crea un archivo de configuración para el plugin de AWS. Por ejemplo, <code>aws_ec2.yml</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGx1Z2luOiBhd3NfZWMyCnJlZ2lvbnM6CiAgLSB1cy1lYXN0LTEKZmlsdGVyczoKICBpbnN0YW5jZS1zdGF0ZS1uYW1lOiBydW5uaW5nCmtleWVkX2dyb3VwczoKICAtIGtleTogdGFncy5OYW1lCiAgICBwcmVmaXg6IHRhZwpob3N0bmFtZXM6CiAgLSB0YWc6TmFtZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>plugin: aws_ec2
regions:
  - us-east-1
filters:
  instance-state-name: running
keyed_groups:
  - key: tags.Name
    prefix: tag
hostnames:
  - tag:Name</pre></div><div class='content'></div><h2>Paso 4: Ejecutar Ansible con el Inventario Dinámico</h2>
<div class='content'><p>Usa el archivo de configuración del plugin como inventario en tus comandos de Ansible.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBhbnNpYmxlLWludmVudG9yeSAtaSBhd3NfZWMyLnltbCAtLWdyYXBo"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ ansible-inventory -i aws_ec2.yml --graph</pre></div><div class='content'><p>Este comando mostrará la estructura del inventario generado dinámicamente.</p>
</div><h2>Ejemplo de Playbook</h2>
<div class='content'><p>A continuación, se muestra un ejemplo de un playbook que utiliza el inventario dinámico de AWS:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRWplbXBsbyBkZSBQbGF5Ym9vayBjb24gSW52ZW50YXJpbyBEaW7DoW1pY28gZGUgQVdTCiAgaG9zdHM6IHRhZ19XZWJTZXJ2ZXIKICB0YXNrczoKICAgIC0gbmFtZTogSW5zdGFsYXIgQXBhY2hlCiAgICAgIHl1bToKICAgICAgICBuYW1lOiBodHRwZAogICAgICAgIHN0YXRlOiBwcmVzZW50CiAgICAtIG5hbWU6IEluaWNpYXIgZWwgc2VydmljaW8gZGUgQXBhY2hlCiAgICAgIHNlcnZpY2U6CiAgICAgICAgbmFtZTogaHR0cGQKICAgICAgICBzdGF0ZTogc3RhcnRlZA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Ejemplo de Playbook con Inventario Din&aacute;mico de AWS
  hosts: tag_WebServer
  tasks:
    - name: Instalar Apache
      yum:
        name: httpd
        state: present
    - name: Iniciar el servicio de Apache
      service:
        name: httpd
        state: started</pre></div><div class='content'></div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Configurar un Inventario Dinámico con DigitalOcean</h2>
<div class='content'><ol>
<li><strong>Configura la CLI de DigitalOcean</strong>: Instala y configura <code>doctl</code> (CLI de DigitalOcean).</li>
<li><strong>Instala el Plugin de Inventario Dinámico de DigitalOcean</strong>: Usa <code>pip</code> para instalar el plugin.</li>
<li><strong>Crea un Archivo de Configuración</strong>: Configura el plugin para obtener información de tus droplet.</li>
<li><strong>Ejecuta un Playbook</strong>: Usa el inventario dinámico para ejecutar un playbook que instale Nginx en tus droplet.</li>
</ol>
</div><h2>Solución</h2>
<div class='content'><ol>
<li><strong>Configura la CLI de DigitalOcean</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBkb2N0bCBhdXRoIGluaXQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ doctl auth init</pre></div><div class='content'><ol start="2">
<li><strong>Instala el Plugin de Inventario Dinámico de DigitalOcean</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBwaXAgaW5zdGFsbCBkb3B5"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ pip install dopy</pre></div><div class='content'><ol start="3">
<li><strong>Crea un Archivo de Configuración</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGx1Z2luOiBjb21tdW5pdHkuZGlnaXRhbG9jZWFuLmRpZ2l0YWxvY2VhbgphcGlfdG9rZW46IFlPVVJfRElHSVRBTE9DRUFOX0FQSV9UT0tFTg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>plugin: community.digitalocean.digitalocean
api_token: YOUR_DIGITALOCEAN_API_TOKEN</pre></div><div class='content'><ol start="4">
<li><strong>Ejecuta un Playbook</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRWplbXBsbyBkZSBQbGF5Ym9vayBjb24gSW52ZW50YXJpbyBEaW7DoW1pY28gZGUgRGlnaXRhbE9jZWFuCiAgaG9zdHM6IGFsbAogIHRhc2tzOgogICAgLSBuYW1lOiBJbnN0YWxhciBOZ2lueAogICAgICBhcHQ6CiAgICAgICAgbmFtZTogbmdpbngKICAgICAgICBzdGF0ZTogcHJlc2VudAogICAgLSBuYW1lOiBJbmljaWFyIGVsIHNlcnZpY2lvIGRlIE5naW54CiAgICAgIHNlcnZpY2U6CiAgICAgICAgbmFtZTogbmdpbngKICAgICAgICBzdGF0ZTogc3RhcnRlZA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Ejemplo de Playbook con Inventario Din&aacute;mico de DigitalOcean
  hosts: all
  tasks:
    - name: Instalar Nginx
      apt:
        name: nginx
        state: present
    - name: Iniciar el servicio de Nginx
      service:
        name: nginx
        state: started</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBhbnNpYmxlLXBsYXlib29rIC1pIGRpZ2l0YWxvY2Vhbi55bWwgcGxheWJvb2sueW1s"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ ansible-playbook -i digitalocean.yml playbook.yml</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>El inventario dinámico en Ansible es una herramienta poderosa que permite gestionar infraestructuras dinámicas de manera eficiente. Al integrar Ansible con diversas fuentes de datos, puedes mantener tu inventario actualizado automáticamente, lo que facilita la administración de grandes entornos y mejora la flexibilidad de tus operaciones.</p>
<p>En el siguiente tema, exploraremos los <strong>Plugins de Ansible</strong>, que te permitirán extender la funcionalidad de Ansible aún más.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='10-01-custom-modules' title="Módulos Personalizados">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='10-03-ansible-plugins' title="Plugins de Ansible">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
	     crossorigin="anonymous"></script>
	<!-- enterprise_campus -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-0611338592562725"
	     data-ad-slot="6914733106"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
	     (adsbygoogle = window.adsbygoogle || []).push({});
	</script>
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>Ansible: De Principiante a Avanzado</h1>
<h2>Módulo 1: Introducción a Ansible</h2>
<ul>
<li><a href="01-01-what-is-ansible">¿Qué es Ansible?</a></li>
<li><a href="01-02-installing-ansible">Instalando Ansible</a></li>
<li><a href="01-03-ansible-architecture">Arquitectura de Ansible</a></li>
<li><a href="01-04-basic-ansible-commands">Comandos Básicos de Ansible</a></li>
</ul>
<h2>Módulo 2: Conceptos Básicos de Ansible</h2>
<ul>
<li><a href="02-01-inventory-files">Archivos de Inventario</a></li>
<li><a href="02-02-ansible-configuration">Configuración de Ansible</a></li>
<li><a href="02-03-ad-hoc-commands">Comandos Ad-Hoc</a></li>
<li><a href="02-04-ansible-modules">Módulos de Ansible</a></li>
</ul>
<h2>Módulo 3: Playbooks</h2>
<ul>
<li><a href="03-01-introduction-to-playbooks">Introducción a los Playbooks</a></li>
<li><a href="03-02-writing-your-first-playbook">Escribiendo tu Primer Playbook</a></li>
<li><a href="03-03-playbook-structure">Estructura del Playbook</a></li>
<li><a href="03-04-variables-and-facts">Variables y Hechos</a></li>
<li><a href="03-05-conditionals-and-loops">Condicionales y Bucles</a></li>
</ul>
<h2>Módulo 4: Roles</h2>
<ul>
<li><a href="04-01-introduction-to-roles">Introducción a los Roles</a></li>
<li><a href="04-02-creating-roles">Creando Roles</a></li>
<li><a href="04-03-role-directory-structure">Estructura del Directorio de Roles</a></li>
<li><a href="04-04-using-roles-in-playbooks">Usando Roles en Playbooks</a></li>
</ul>
<h2>Módulo 5: Técnicas Avanzadas de Playbook</h2>
<ul>
<li><a href="05-01-handlers">Manejadores</a></li>
<li><a href="05-02-templates">Plantillas</a></li>
<li><a href="05-03-ansible-vault">Ansible Vault</a></li>
<li><a href="05-04-error-handling">Manejo de Errores</a></li>
<li><a href="05-05-optimizing-playbooks">Optimizando Playbooks</a></li>
</ul>
<h2>Módulo 6: Ansible Galaxy</h2>
<ul>
<li><a href="06-01-what-is-ansible-galaxy">¿Qué es Ansible Galaxy?</a></li>
<li><a href="06-02-using-ansible-galaxy">Usando Ansible Galaxy</a></li>
<li><a href="06-03-creating-and-sharing-roles">Creando y Compartiendo Roles</a></li>
</ul>
<h2>Módulo 7: Ansible Tower</h2>
<ul>
<li><a href="07-01-introduction-to-ansible-tower">Introducción a Ansible Tower</a></li>
<li><a href="07-02-installing-ansible-tower">Instalando Ansible Tower</a></li>
<li><a href="07-03-using-ansible-tower">Usando Ansible Tower</a></li>
<li><a href="07-04-managing-projects-and-inventories">Gestionando Proyectos e Inventarios</a></li>
</ul>
<h2>Módulo 8: Ansible para DevOps</h2>
<ul>
<li><a href="08-01-ansible-and-docker">Ansible y Docker</a></li>
<li><a href="08-02-ansible-and-kubernetes">Ansible y Kubernetes</a></li>
<li><a href="08-03-ci-cd-with-ansible">CI/CD con Ansible</a></li>
<li><a href="08-04-ansible-in-cloud-environments">Ansible en Entornos Cloud</a></li>
</ul>
<h2>Módulo 9: Mejores Prácticas de Ansible</h2>
<ul>
<li><a href="09-01-code-organization">Organización del Código</a></li>
<li><a href="09-02-security-best-practices">Mejores Prácticas de Seguridad</a></li>
<li><a href="09-03-performance-tuning">Ajuste de Rendimiento</a></li>
<li><a href="09-04-testing-ansible-code">Pruebas de Código Ansible</a></li>
</ul>
<h2>Módulo 10: Temas Avanzados de Ansible</h2>
<ul>
<li><a href="10-01-custom-modules">Módulos Personalizados</a></li>
<li><a href="10-02-dynamic-inventory">Inventario Dinámico</a></li>
<li><a href="10-03-ansible-plugins">Plugins de Ansible</a></li>
<li><a href="10-04-ansible-api">API de Ansible</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
