<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejecución de Comandos Ad-Hoc</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ansible/running-ad-hoc-commands" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ansible/running-ad-hoc-commands" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ansible/running-ad-hoc-commands" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/ansible/running-ad-hoc-commands" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/ansible/running-ad-hoc-commands" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='ansible-modules'>&#x25C4;Módulos de Ansible</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Ejecución de Comandos Ad-Hoc</a>
	</div>
	<div class='col-4 text-end'>
					<a href='variables-and-facts'>Variables y Hechos &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Los comandos ad-hoc de Ansible te permiten realizar tareas rápidas y puntuales sin necesidad de escribir un playbook. Son útiles para operaciones simples, pruebas y resolución de problemas. Esta sección te guiará a través de los conceptos básicos de la ejecución de comandos ad-hoc en Ansible, desde niveles principiantes hasta avanzados.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Comando Ad-Hoc</strong>: Un comando puntual ejecutado directamente desde la línea de comandos.</li>
<li><strong>Módulos</strong>: Scripts reutilizables e independientes que Ansible ejecuta en tu nombre. Ejemplos incluyen <code>ping</code>, <code>shell</code>, <code>copy</code> y <code>yum</code>.</li>
<li><strong>Inventario</strong>: Una lista de hosts que Ansible gestiona.</li>
</ul>
</div><h1>Comandos Ad-Hoc Básicos</h1>
<h2>Módulo Ping</h2>
<div class='content'><p>El módulo <code>ping</code> se utiliza para comprobar la conectividad de tus hosts.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gcGluZw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m ping</pre></div><div class='content'><ul>
<li><code>all</code>: Apunta a todos los hosts en el inventario.</li>
<li><code>-m ping</code>: Usa el módulo <code>ping</code>.</li>
</ul>
</div><h2>Módulo Shell</h2>
<div class='content'><p>El módulo <code>shell</code> te permite ejecutar comandos de shell en tus hosts.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gc2hlbGwgLWEgJ3VwdGltZSc="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m shell -a 'uptime'</pre></div><div class='content'><ul>
<li><code>-a 'uptime'</code>: El argumento a pasar al módulo <code>shell</code>, que en este caso es el comando <code>uptime</code>.</li>
</ul>
</div><h2>Módulo Copy</h2>
<div class='content'><p>El módulo <code>copy</code> se utiliza para copiar archivos a hosts remotos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gY29weSAtYSAnc3JjPS9wYXRoL3RvL2xvY2FsL2ZpbGUgZGVzdD0vcGF0aC90by9yZW1vdGUvZmlsZSc="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m copy -a 'src=/path/to/local/file dest=/path/to/remote/file'</pre></div><div class='content'><ul>
<li><code>src</code>: Ruta del archivo fuente en la máquina local.</li>
<li><code>dest</code>: Ruta del archivo de destino en la máquina remota.</li>
</ul>
</div><h1>Comandos Ad-Hoc Intermedios</h1>
<h2>Gestión de Paquetes</h2>
<div class='content'><p>Puedes gestionar paquetes en tus hosts usando módulos como <code>yum</code> para sistemas basados en Red Hat o <code>apt</code> para sistemas basados en Debian.</p>
<h4>Módulo Yum</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0geXVtIC1hICduYW1lPWh0dHBkIHN0YXRlPXByZXNlbnQn"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m yum -a 'name=httpd state=present'</pre></div><div class='content'><ul>
<li><code>name</code>: El nombre del paquete.</li>
<li><code>state</code>: El estado deseado del paquete (<code>present</code> para instalar, <code>absent</code> para eliminar).</li>
</ul>
<h4>Módulo Apt</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gYXB0IC1hICduYW1lPW5naW54IHN0YXRlPWxhdGVzdCc="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m apt -a 'name=nginx state=latest'</pre></div><div class='content'><ul>
<li><code>state=latest</code>: Asegura que el paquete esté en la versión más reciente.</li>
</ul>
</div><h2>Gestión de Usuarios</h2>
<div class='content'><p>Puedes gestionar usuarios en tus hosts usando el módulo <code>user</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gdXNlciAtYSAnbmFtZT1qb2huZG9lIHN0YXRlPXByZXNlbnQn"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m user -a 'name=johndoe state=present'</pre></div><div class='content'><ul>
<li><code>name</code>: El nombre de usuario.</li>
<li><code>state=present</code>: Asegura que el usuario exista.</li>
</ul>
</div><h1>Comandos Ad-Hoc Avanzados</h1>
<h2>Uso de Variables</h2>
<div class='content'><p>Puedes pasar variables a los comandos ad-hoc para operaciones más dinámicas.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gc2hlbGwgLWEgJ2VjaG8ge3sgbXlfdmFyIH19JyAtZSAnbXlfdmFyPUhlbGxvV29ybGQn"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m shell -a 'echo {{ my_var }}' -e 'my_var=HelloWorld'</pre></div><div class='content'><ul>
<li><code>-e 'my_var=HelloWorld'</code>: Define la variable <code>my_var</code>.</li>
</ul>
</div><h2>Ejecución de Comandos en Hosts Específicos</h2>
<div class='content'><p>Puedes apuntar a hosts o grupos específicos en tu inventario.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSB3ZWJzZXJ2ZXJzIC1tIHNoZWxsIC1hICdzeXN0ZW1jdGwgcmVzdGFydCBuZ2lueCc="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible webservers -m shell -a 'systemctl restart nginx'</pre></div><div class='content'><ul>
<li><code>webservers</code>: Apunta al grupo <code>webservers</code> definido en tu inventario.</li>
</ul>
</div><h2>Uso de Etiquetas</h2>
<div class='content'><p>Las etiquetas pueden ser utilizadas para ejecutar partes específicas de tus playbooks, pero también pueden aplicarse en comandos ad-hoc para un control más granular.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZSBhbGwgLW0gc2hlbGwgLWEgJ3N5c3RlbWN0bCByZXN0YXJ0IG5naW54JyAtLXRhZ3MgIndlYiI="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible all -m shell -a 'systemctl restart nginx' --tags &quot;web&quot;</pre></div><div class='content'><ul>
<li><code>--tags &quot;web&quot;</code>: Solo ejecuta el comando en hosts etiquetados con <code>web</code>.</li>
</ul>
</div><h1>Resumen</h1>
<div class='content'><p>Los comandos ad-hoc en Ansible son herramientas poderosas para realizar tareas rápidas y puntuales en múltiples hosts. Son útiles para pruebas, resolución de problemas y operaciones simples sin necesidad de escribir un playbook completo. Al comprender los usos básicos, intermedios y avanzados de los comandos ad-hoc, puedes gestionar eficientemente tu infraestructura con Ansible.</p>
<p>En esta sección, cubrimos:</p>
<ul>
<li>Comandos ad-hoc básicos como <code>ping</code>, <code>shell</code> y <code>copy</code>.</li>
<li>Comandos intermedios para la gestión de paquetes y usuarios.</li>
<li>Comandos avanzados usando variables, apuntando a hosts específicos y aplicando etiquetas.</li>
</ul>
<p>Al dominar estos comandos, puedes aprovechar todo el potencial de Ansible para operaciones ad-hoc.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='ansible-modules'>&#x25C4;Módulos de Ansible</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Ejecución de Comandos Ad-Hoc</a>
	</div>
	<div class='col-4 text-end'>
					<a href='variables-and-facts'>Variables y Hechos &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
