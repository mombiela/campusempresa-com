<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escalando Ansible</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ansible/scaling-ansible" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ansible/scaling-ansible" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ansible/scaling-ansible" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/ansible/scaling-ansible" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/ansible/scaling-ansible" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='security-best-practices'>&#x25C4;Mejores Prácticas de Seguridad</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Escalando Ansible</a>
	</div>
	<div class='col-4 text-end'>
					<a href='overview-of-ansible-certification'>Visión General de la Certificación de Ansible &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Escalar Ansible es crucial para gestionar grandes infraestructuras de manera eficiente. Este tema cubre estrategias y mejores prácticas para escalar Ansible desde manejar unos pocos nodos hasta gestionar miles. Exploraremos varias técnicas, herramientas y configuraciones que pueden ayudarte a escalar tus despliegues de Ansible.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Gestión de Inventario</strong>: Organizar y gestionar tu inventario eficientemente.</li>
<li><strong>Paralelismo y Optimización de Rendimiento</strong>: Optimizar Ansible para ejecutar tareas en paralelo y mejorar el rendimiento.</li>
<li><strong>Ansible Tower/AWX</strong>: Usar Ansible Tower o AWX para la gestión a nivel empresarial.</li>
<li><strong>Inventario Dinámico</strong>: Usar scripts de inventario dinámico para gestionar entornos grandes y dinámicos.</li>
<li><strong>Organización de Roles y Playbooks</strong>: Estructurar roles y playbooks para reutilizabilidad y mantenibilidad.</li>
<li><strong>Ansible Vault</strong>: Gestionar secretos y datos sensibles de manera segura.</li>
</ul>
</div><h1>Gestión de Inventario</h1>
<div class='content'><p>La gestión eficiente del inventario es la base para escalar Ansible. Los inventarios bien organizados pueden reducir significativamente la complejidad y mejorar la manejabilidad.</p>
</div><h2>Inventario Estático</h2>
<div class='content'><p>Los inventarios estáticos son simples y fáciles de comenzar, pero pueden volverse engorrosos a medida que aumenta el número de nodos gestionados.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBpbnZlbnRvcnkuaW5pClt3ZWJzZXJ2ZXJzXQp3ZWIxLmV4YW1wbGUuY29tCndlYjIuZXhhbXBsZS5jb20KCltkYnNlcnZlcnNdCmRiMS5leGFtcGxlLmNvbQpkYjIuZXhhbXBsZS5jb20="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># inventory.ini
[webservers]
web1.example.com
web2.example.com

[dbservers]
db1.example.com
db2.example.com</pre></div><div class='content'></div><h2>Inventario Dinámico</h2>
<div class='content'><p>Los inventarios dinámicos son más escalables ya que pueden obtener automáticamente la lista de hosts de fuentes externas como proveedores de nube, CMDBs, etc.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvIGRlIHNhbGlkYSBkZSBzY3JpcHQgZGUgaW52ZW50YXJpbyBkaW7DoW1pY28KewogICJ3ZWJzZXJ2ZXJzIjogewogICAgImhvc3RzIjogWyJ3ZWIxLmV4YW1wbGUuY29tIiwgIndlYjIuZXhhbXBsZS5jb20iXQogIH0sCiAgImRic2VydmVycyI6IHsKICAgICJob3N0cyI6IFsiZGIxLmV4YW1wbGUuY29tIiwgImRiMi5leGFtcGxlLmNvbSJdCiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo de salida de script de inventario din&aacute;mico
{
  &quot;webservers&quot;: {
    &quot;hosts&quot;: [&quot;web1.example.com&quot;, &quot;web2.example.com&quot;]
  },
  &quot;dbservers&quot;: {
    &quot;hosts&quot;: [&quot;db1.example.com&quot;, &quot;db2.example.com&quot;]
  }
}</pre></div><div class='content'></div><h1>Paralelismo y Optimización de Rendimiento</h1>
<div class='content'><p>Ansible puede configurarse para ejecutar tareas en paralelo, lo que puede acelerar significativamente los tiempos de ejecución.</p>
</div><h2>Forks</h2>
<div class='content'><p>El parámetro <code>forks</code> controla el número de procesos paralelos que usa Ansible.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhbnNpYmxlLmNmZwpbZGVmYXVsdHNdCmZvcmtzID0gNTA="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># ansible.cfg
[defaults]
forks = 50</pre></div><div class='content'></div><h2>Multiplexación SSH</h2>
<div class='content'><p>La multiplexación SSH puede reducir la sobrecarga de establecer conexiones SSH.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhbnNpYmxlLmNmZwpbc3NoX2Nvbm5lY3Rpb25dCnNzaF9hcmdzID0gLW8gQ29udHJvbE1hc3Rlcj1hdXRvIC1vIENvbnRyb2xQZXJzaXN0PTYwcw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># ansible.cfg
[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s</pre></div><div class='content'></div><h1>Ansible Tower/AWX</h1>
<div class='content'><p>Ansible Tower (o su contraparte de código abierto AWX) proporciona una interfaz web, API REST y otras características que ayudan a gestionar y escalar despliegues de Ansible.</p>
</div><h2>Características Clave</h2>
<div class='content'><ul>
<li><strong>Programación de Tareas</strong>: Programar ejecuciones de playbooks.</li>
<li><strong>Control de Acceso Basado en Roles (RBAC)</strong>: Gestionar permisos y acceso.</li>
<li><strong>Registro Centralizado</strong>: Agregar registros para facilitar la resolución de problemas.</li>
<li><strong>Gestión de Inventario</strong>: Gestionar inventarios a través de la UI o API.</li>
</ul>
</div><h1>Inventario Dinámico</h1>
<div class='content'><p>Los scripts de inventario dinámico permiten a Ansible consultar sistemas externos para obtener la lista de hosts.</p>
</div><h2>Ejemplo: AWS EC2</h2>
<div class='content'><p>Usar el script de inventario dinámico <code>ec2.py</code> para obtener instancias de AWS EC2.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBPYnRlbmVyIGludmVudGFyaW8gZGUgQVdTIEVDMgphbnNpYmxlLXBsYXlib29rIC1pIGVjMi5weSBwbGF5Ym9vay55bWw="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Obtener inventario de AWS EC2
ansible-playbook -i ec2.py playbook.yml</pre></div><div class='content'></div><h1>Organización de Roles y Playbooks</h1>
<div class='content'><p>Organizar roles y playbooks adecuadamente puede hacer que tu base de código de Ansible sea más mantenible y reutilizable.</p>
</div><h2>Estructura de Directorios</h2>
<div class='content'><p>Una estructura de directorios bien organizada ayuda a gestionar playbooks complejos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2l0ZS55bWwKd2Vic2VydmVycy55bWwKcm9sZXMvCiAgICBjb21tb24vCiAgICAgICAgdGFza3MvCiAgICAgICAgaGFuZGxlcnMvCiAgICAgICAgdGVtcGxhdGVzLwogICAgICAgIGZpbGVzLwogICAgICAgIHZhcnMvCiAgICAgICAgZGVmYXVsdHMvCiAgICAgICAgbWV0YS8KICAgIHdlYnNlcnZlcnMvCiAgICAgICAgdGFza3MvCiAgICAgICAgaGFuZGxlcnMvCiAgICAgICAgdGVtcGxhdGVzLwogICAgICAgIGZpbGVzLwogICAgICAgIHZhcnMvCiAgICAgICAgZGVmYXVsdHMvCiAgICAgICAgbWV0YS8="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>site.yml
webservers.yml
roles/
    common/
        tasks/
        handlers/
        templates/
        files/
        vars/
        defaults/
        meta/
    webservers/
        tasks/
        handlers/
        templates/
        files/
        vars/
        defaults/
        meta/</pre></div><div class='content'></div><h2>Ejemplo de Rol</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyByb2xlcy93ZWJzZXJ2ZXJzL3Rhc2tzL21haW4ueW1sCi0gbmFtZTogSW5zdGFsYXIgTmdpbngKICBhcHQ6CiAgICBuYW1lOiBuZ2lueAogICAgc3RhdGU6IHByZXNlbnQKCi0gbmFtZTogSW5pY2lhciBOZ2lueAogIHNlcnZpY2U6CiAgICBuYW1lOiBuZ2lueAogICAgc3RhdGU6IHN0YXJ0ZWQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># roles/webservers/tasks/main.yml
- name: Instalar Nginx
  apt:
    name: nginx
    state: present

- name: Iniciar Nginx
  service:
    name: nginx
    state: started</pre></div><div class='content'></div><h1>Ansible Vault</h1>
<div class='content'><p>Ansible Vault te permite cifrar datos sensibles como contraseñas o claves.</p>
</div><h2>Cifrar un Archivo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS12YXVsdCBlbmNyeXB0IHNlY3JldHMueW1s"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-vault encrypt secrets.yml</pre></div><div class='content'></div><h2>Usar Vault en Playbooks</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBwbGF5Ym9vay55bWwKLSBob3N0czogYWxsCiAgdmFyc19maWxlczoKICAgIC0gc2VjcmV0cy55bWwKICB0YXNrczoKICAgIC0gbmFtZTogVXNhciB2YXJpYWJsZSBzZWNyZXRhCiAgICAgIGRlYnVnOgogICAgICAgIG1zZzogInt7IHNlY3JldF92YXJpYWJsZSB9fSI="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># playbook.yml
- hosts: all
  vars_files:
    - secrets.yml
  tasks:
    - name: Usar variable secreta
      debug:
        msg: &quot;{{ secret_variable }}&quot;</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Escalar Ansible implica una combinación de gestión eficiente del inventario, optimización del rendimiento, uso de herramientas avanzadas como Ansible Tower/AWX y organización efectiva de tus playbooks y roles. Implementando estas estrategias, puedes gestionar infraestructuras grandes y complejas con facilidad y eficiencia.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='security-best-practices'>&#x25C4;Mejores Prácticas de Seguridad</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Escalando Ansible</a>
	</div>
	<div class='col-4 text-end'>
					<a href='overview-of-ansible-certification'>Visión General de la Certificación de Ansible &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
