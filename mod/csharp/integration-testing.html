<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas de Integración en C#</title>

    <link rel="alternate" href="https://campusempresa.com/mod/csharp/integration-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/csharp/integration-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/csharp/integration-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/csharp/integration-testing" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/csharp/integration-testing" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/csharp/integration-testing">https://enterprisecampus.net/mod/csharp/integration-testing</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='unit-testing'>&#x25C4;Pruebas Unitarias</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas de Integración en C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='debugging-techniques'>Técnicas de Depuración &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Las pruebas de integración son una fase crucial en el ciclo de vida del desarrollo de software donde unidades o componentes individuales de una aplicación de software se combinan y prueban como un grupo. Esto asegura que los componentes integrados funcionen juntos como se espera. En esta sección, exploraremos las pruebas de integración en C#, desde conceptos básicos hasta técnicas avanzadas.</p>
</div><h1>¿Qué son las Pruebas de Integración?</h1>
<div class='content'><p>Las pruebas de integración se centran en verificar las interacciones entre diferentes módulos o servicios en una aplicación de software. Vienen después de las pruebas unitarias y antes de las pruebas de sistema.</p>
<ul>
<li><strong>Objetivo</strong>: Identificar problemas en la interacción entre unidades integradas.</li>
<li><strong>Alcance</strong>: Prueba múltiples componentes juntos.</li>
<li><strong>Herramientas</strong>: Las herramientas comunes incluyen NUnit, MSTest y xUnit.</li>
</ul>
</div><h1>¿Por qué son Importantes las Pruebas de Integración?</h1>
<div class='content'><ul>
<li><strong>Detecta Problemas de Interfaz</strong>: Asegura que diferentes módulos interactúen correctamente.</li>
<li><strong>Mejora la Calidad del Código</strong>: Ayuda a detectar errores que las pruebas unitarias podrían pasar por alto.</li>
<li><strong>Facilita una Integración Suave</strong>: Asegura que el nuevo código se integre bien con el código existente.</li>
</ul>
</div><h1>Configuración de Pruebas de Integración en C#</h1>
<div class='content'></div><h2>Requisitos Previos</h2>
<div class='content'><p>Antes de comenzar a escribir pruebas de integración, asegúrate de tener lo siguiente:</p>
<ul>
<li>Visual Studio o cualquier IDE de C#.</li>
<li>Un marco de pruebas como NUnit, MSTest o xUnit.</li>
<li>Una comprensión básica de las pruebas unitarias.</li>
</ul>
</div><h2>Ejemplo: Configuración de NUnit para Pruebas de Integración</h2>
<div class='content'><ol>
<li>
<p><strong>Instalar NUnit y NUnit3TestAdapter</strong>:</p>
<ul>
<li>Abre tu proyecto en Visual Studio.</li>
<li>Ve a <code>Herramientas</code> &gt; <code>Administrador de Paquetes NuGet</code> &gt; <code>Administrar Paquetes NuGet para la Solución</code>.</li>
<li>Busca <code>NUnit</code> y <code>NUnit3TestAdapter</code> e instálalos.</li>
</ul>
</li>
<li>
<p><strong>Crear un Proyecto de Pruebas</strong>:</p>
<ul>
<li>Haz clic derecho en tu solución en el Explorador de Soluciones.</li>
<li>Selecciona <code>Agregar</code> &gt; <code>Nuevo Proyecto</code>.</li>
<li>Elige <code>Proyecto de Prueba Unitaria</code> y nómbralo apropiadamente (por ejemplo, <code>MyApp.IntegrationTests</code>).</li>
</ul>
</li>
</ol>
</div><h2>Escribiendo Tu Primera Prueba de Integración</h2>
<div class='content'><p>Vamos a escribir una simple prueba de integración para un servicio que interactúa con una base de datos.</p>
<h4>Código de Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgTlVuaXQuRnJhbWV3b3JrOwp1c2luZyBTeXN0ZW0uRGF0YS5TcWxDbGllbnQ7CgpuYW1lc3BhY2UgTXlBcHAuSW50ZWdyYXRpb25UZXN0cwp7CiAgICBbVGVzdEZpeHR1cmVdCiAgICBwdWJsaWMgY2xhc3MgRGF0YWJhc2VTZXJ2aWNlVGVzdHMKICAgIHsKICAgICAgICBwcml2YXRlIERhdGFiYXNlU2VydmljZSBfZGF0YWJhc2VTZXJ2aWNlOwoKICAgICAgICBbU2V0VXBdCiAgICAgICAgcHVibGljIHZvaWQgU2V0dXAoKQogICAgICAgIHsKICAgICAgICAgICAgLy8gSW5pY2lhbGl6YSBlbCBzZXJ2aWNpbyBjb24gdW5hIGNhZGVuYSBkZSBjb25leGnDs24gZGUgYmFzZSBkZSBkYXRvcyBkZSBwcnVlYmEKICAgICAgICAgICAgX2RhdGFiYXNlU2VydmljZSA9IG5ldyBEYXRhYmFzZVNlcnZpY2UoIlRlc3RDb25uZWN0aW9uU3RyaW5nIik7CiAgICAgICAgfQoKICAgICAgICBbVGVzdF0KICAgICAgICBwdWJsaWMgdm9pZCBHZXRVc2VyQnlJZF9TaG91bGRSZXR1cm5Db3JyZWN0VXNlcigpCiAgICAgICAgewogICAgICAgICAgICAvLyBQcmVwYXJhcgogICAgICAgICAgICB2YXIgZXhwZWN0ZWRVc2VySWQgPSAxOwogICAgICAgICAgICB2YXIgZXhwZWN0ZWRVc2VyTmFtZSA9ICJKb2huIERvZSI7CgogICAgICAgICAgICAvLyBBY3R1YXIKICAgICAgICAgICAgdmFyIHVzZXIgPSBfZGF0YWJhc2VTZXJ2aWNlLkdldFVzZXJCeUlkKGV4cGVjdGVkVXNlcklkKTsKCiAgICAgICAgICAgIC8vIEFmaXJtYXIKICAgICAgICAgICAgQXNzZXJ0LkFyZUVxdWFsKGV4cGVjdGVkVXNlcklkLCB1c2VyLklkKTsKICAgICAgICAgICAgQXNzZXJ0LkFyZUVxdWFsKGV4cGVjdGVkVXNlck5hbWUsIHVzZXIuTmFtZSk7CiAgICAgICAgfQogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using NUnit.Framework;
using System.Data.SqlClient;

namespace MyApp.IntegrationTests
{
    [TestFixture]
    public class DatabaseServiceTests
    {
        private DatabaseService _databaseService;

        [SetUp]
        public void Setup()
        {
            // Inicializa el servicio con una cadena de conexi&oacute;n de base de datos de prueba
            _databaseService = new DatabaseService(&quot;TestConnectionString&quot;);
        }

        [Test]
        public void GetUserById_ShouldReturnCorrectUser()
        {
            // Preparar
            var expectedUserId = 1;
            var expectedUserName = &quot;John Doe&quot;;

            // Actuar
            var user = _databaseService.GetUserById(expectedUserId);

            // Afirmar
            Assert.AreEqual(expectedUserId, user.Id);
            Assert.AreEqual(expectedUserName, user.Name);
        }
    }
}</pre></div><div class='content'><h4>Explicación</h4>
<ul>
<li><strong>Método Setup</strong>: Inicializa el <code>DatabaseService</code> con una cadena de conexión de base de datos de prueba.</li>
<li><strong>Método de Prueba</strong>: <code>GetUserById_ShouldReturnCorrectUser</code> verifica si el servicio devuelve el usuario correcto para un ID dado.</li>
</ul>
</div><h1>Técnicas Avanzadas de Pruebas de Integración</h1>
<div class='content'></div><h2>Simulación de Dependencias</h2>
<div class='content'><p>En aplicaciones del mundo real, los servicios a menudo dependen de sistemas externos como bases de datos, servicios web o APIs de terceros. Simular estas dependencias puede ayudar a aislar los componentes que se están probando.</p>
<h4>Código de Ejemplo con Simulación</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgTW9xOwp1c2luZyBOVW5pdC5GcmFtZXdvcms7CgpuYW1lc3BhY2UgTXlBcHAuSW50ZWdyYXRpb25UZXN0cwp7CiAgICBbVGVzdEZpeHR1cmVdCiAgICBwdWJsaWMgY2xhc3MgVXNlclNlcnZpY2VUZXN0cwogICAgewogICAgICAgIHByaXZhdGUgTW9jazxJVXNlclJlcG9zaXRvcnk+IF91c2VyUmVwb3NpdG9yeU1vY2s7CiAgICAgICAgcHJpdmF0ZSBVc2VyU2VydmljZSBfdXNlclNlcnZpY2U7CgogICAgICAgIFtTZXRVcF0KICAgICAgICBwdWJsaWMgdm9pZCBTZXR1cCgpCiAgICAgICAgewogICAgICAgICAgICBfdXNlclJlcG9zaXRvcnlNb2NrID0gbmV3IE1vY2s8SVVzZXJSZXBvc2l0b3J5PigpOwogICAgICAgICAgICBfdXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UoX3VzZXJSZXBvc2l0b3J5TW9jay5PYmplY3QpOwogICAgICAgIH0KCiAgICAgICAgW1Rlc3RdCiAgICAgICAgcHVibGljIHZvaWQgR2V0VXNlckJ5SWRfU2hvdWxkUmV0dXJuQ29ycmVjdFVzZXIoKQogICAgICAgIHsKICAgICAgICAgICAgLy8gUHJlcGFyYXIKICAgICAgICAgICAgdmFyIGV4cGVjdGVkVXNlciA9IG5ldyBVc2VyIHsgSWQgPSAxLCBOYW1lID0gIkpvaG4gRG9lIiB9OwogICAgICAgICAgICBfdXNlclJlcG9zaXRvcnlNb2NrLlNldHVwKHJlcG8gPT4gcmVwby5HZXRVc2VyQnlJZCgxKSkuUmV0dXJucyhleHBlY3RlZFVzZXIpOwoKICAgICAgICAgICAgLy8gQWN0dWFyCiAgICAgICAgICAgIHZhciB1c2VyID0gX3VzZXJTZXJ2aWNlLkdldFVzZXJCeUlkKDEpOwoKICAgICAgICAgICAgLy8gQWZpcm1hcgogICAgICAgICAgICBBc3NlcnQuQXJlRXF1YWwoZXhwZWN0ZWRVc2VyLklkLCB1c2VyLklkKTsKICAgICAgICAgICAgQXNzZXJ0LkFyZUVxdWFsKGV4cGVjdGVkVXNlci5OYW1lLCB1c2VyLk5hbWUpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using Moq;
using NUnit.Framework;

namespace MyApp.IntegrationTests
{
    [TestFixture]
    public class UserServiceTests
    {
        private Mock&lt;IUserRepository&gt; _userRepositoryMock;
        private UserService _userService;

        [SetUp]
        public void Setup()
        {
            _userRepositoryMock = new Mock&lt;IUserRepository&gt;();
            _userService = new UserService(_userRepositoryMock.Object);
        }

        [Test]
        public void GetUserById_ShouldReturnCorrectUser()
        {
            // Preparar
            var expectedUser = new User { Id = 1, Name = &quot;John Doe&quot; };
            _userRepositoryMock.Setup(repo =&gt; repo.GetUserById(1)).Returns(expectedUser);

            // Actuar
            var user = _userService.GetUserById(1);

            // Afirmar
            Assert.AreEqual(expectedUser.Id, user.Id);
            Assert.AreEqual(expectedUser.Name, user.Name);
        }
    }
}</pre></div><div class='content'></div><h2>Integración Continua (CI) y Pruebas Automatizadas</h2>
<div class='content'><p>Integrar tus pruebas en una tubería de CI asegura que se ejecuten automáticamente cada vez que se realicen cambios en el código.</p>
<ul>
<li><strong>Herramientas</strong>: Jenkins, Azure DevOps, GitHub Actions.</li>
<li><strong>Beneficios</strong>: Detección temprana de problemas de integración, entorno de pruebas consistente.</li>
</ul>
</div><h1>Resumen</h1>
<div class='content'><p>Las pruebas de integración son esenciales para asegurar que los diferentes componentes de tu aplicación funcionen juntos como se espera. Al configurar un marco de pruebas de integración robusto en C#, puedes detectar errores temprano, mejorar la calidad del código y facilitar una integración más suave de nuevas características. Ya seas un principiante o un desarrollador avanzado, dominar las pruebas de integración mejorará significativamente tu flujo de trabajo de desarrollo.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='unit-testing'>&#x25C4;Pruebas Unitarias</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas de Integración en C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='debugging-techniques'>Técnicas de Depuración &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
