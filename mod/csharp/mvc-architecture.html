<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arquitectura MVC en C#</title>

    <link rel="alternate" href="https://campusempresa.com/mod/csharp/mvc-architecture" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/csharp/mvc-architecture" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/csharp/mvc-architecture" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/csharp/mvc-architecture" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/csharp/mvc-architecture" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/csharp/mvc-architecture">https://enterprisecampus.net/mod/csharp/mvc-architecture</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='simple-web-application'>&#x25C4;Construcción de una Aplicación Web Simple</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Arquitectura MVC en C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='web-api'>API Web &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a la Arquitectura MVC</h1>
<div class='content'><p>MVC (Modelo-Vista-Controlador) es un patrón de diseño que separa una aplicación en tres componentes principales: Modelo, Vista y Controlador. Esta separación ayuda a gestionar aplicaciones complejas dividiendo las responsabilidades entre diferentes partes de la aplicación.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Modelo</strong>: Representa los datos y la lógica de negocio de la aplicación. Gestiona directamente los datos, la lógica y las reglas de la aplicación.</li>
<li><strong>Vista</strong>: Representa los componentes de la interfaz de usuario. Muestra los datos del Modelo al usuario y envía los comandos del usuario al Controlador.</li>
<li><strong>Controlador</strong>: Actúa como intermediario entre el Modelo y la Vista. Escucha la entrada de la Vista, la procesa (usando el Modelo) y devuelve la salida para mostrarla en la Vista.</li>
</ul>
</div><h1>Configuración de un Proyecto MVC en C#</h1>
<div class='content'><p>Para empezar a trabajar con MVC en C#, necesitas configurar un proyecto ASP.NET MVC. Aquí están los pasos:</p>
<ol>
<li>Abre Visual Studio.</li>
<li>Crea un nuevo proyecto.</li>
<li>Selecciona &quot;Aplicación web ASP.NET Core&quot;.</li>
<li>Elige la plantilla &quot;Aplicación web (Modelo-Vista-Controlador)&quot;.</li>
</ol>
</div><h1>Entendiendo los Componentes</h1>
<div class='content'></div><h2>Modelo</h2>
<div class='content'><p>El Modelo representa los datos y las reglas de negocio de la aplicación. En C#, un Modelo es típicamente una clase que contiene propiedades y métodos para manejar datos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFByb2R1Y3QKewogICAgcHVibGljIGludCBJZCB7IGdldDsgc2V0OyB9CiAgICBwdWJsaWMgc3RyaW5nIE5hbWUgeyBnZXQ7IHNldDsgfQogICAgcHVibGljIGRlY2ltYWwgUHJpY2UgeyBnZXQ7IHNldDsgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Product
{
    public int Id { get; set; }
    public string Name { get; set; }
    public decimal Price { get; set; }
}</pre></div><div class='content'></div><h2>Vista</h2>
<div class='content'><p>La Vista es responsable de mostrar los datos al usuario. En ASP.NET MVC, las Vistas son típicamente archivos Razor (.cshtml) que combinan HTML y código C#.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QG1vZGVsIElFbnVtZXJhYmxlPFByb2R1Y3Q+Cgo8IURPQ1RZUEUgaHRtbD4KPGh0bWw+CjxoZWFkPgogICAgPHRpdGxlPlByb2R1Y3QgTGlzdDwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8aDE+UHJvZHVjdHM8L2gxPgogICAgPHVsPgogICAgICAgIEBmb3JlYWNoICh2YXIgcHJvZHVjdCBpbiBNb2RlbCkKICAgICAgICB7CiAgICAgICAgICAgIDxsaT5AcHJvZHVjdC5OYW1lIC0gQHByb2R1Y3QuUHJpY2U8L2xpPgogICAgICAgIH0KICAgIDwvdWw+CjwvYm9keT4KPC9odG1sPg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@model IEnumerable&lt;Product&gt;

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Product List&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Products&lt;/h1&gt;
    &lt;ul&gt;
        @foreach (var product in Model)
        {
            &lt;li&gt;@product.Name - @product.Price&lt;/li&gt;
        }
    &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Controlador</h2>
<div class='content'><p>El Controlador maneja la entrada y las interacciones del usuario. Procesa la entrada, interactúa con el Modelo y selecciona la Vista para renderizar.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFByb2R1Y3RDb250cm9sbGVyIDogQ29udHJvbGxlcgp7CiAgICBwdWJsaWMgSUFjdGlvblJlc3VsdCBJbmRleCgpCiAgICB7CiAgICAgICAgdmFyIHByb2R1Y3RzID0gbmV3IExpc3Q8UHJvZHVjdD4KICAgICAgICB7CiAgICAgICAgICAgIG5ldyBQcm9kdWN0IHsgSWQgPSAxLCBOYW1lID0gIkxhcHRvcCIsIFByaWNlID0gOTk5Ljk5TSB9LAogICAgICAgICAgICBuZXcgUHJvZHVjdCB7IElkID0gMiwgTmFtZSA9ICJTbWFydHBob25lIiwgUHJpY2UgPSA0OTkuOTlNIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gVmlldyhwcm9kdWN0cyk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class ProductController : Controller
{
    public IActionResult Index()
    {
        var products = new List&lt;Product&gt;
        {
            new Product { Id = 1, Name = &quot;Laptop&quot;, Price = 999.99M },
            new Product { Id = 2, Name = &quot;Smartphone&quot;, Price = 499.99M }
        };

        return View(products);
    }
}</pre></div><div class='content'></div><h1>Ejemplo: Creando una Aplicación MVC Simple</h1>
<div class='content'></div><h2>Paso 1: Crear el Modelo</h2>
<div class='content'><p>Crea una clase <code>Product</code> en la carpeta Models.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFByb2R1Y3QKewogICAgcHVibGljIGludCBJZCB7IGdldDsgc2V0OyB9CiAgICBwdWJsaWMgc3RyaW5nIE5hbWUgeyBnZXQ7IHNldDsgfQogICAgcHVibGljIGRlY2ltYWwgUHJpY2UgeyBnZXQ7IHNldDsgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Product
{
    public int Id { get; set; }
    public string Name { get; set; }
    public decimal Price { get; set; }
}</pre></div><div class='content'></div><h2>Paso 2: Crear el Controlador</h2>
<div class='content'><p>Crea un <code>ProductController</code> en la carpeta Controllers.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFByb2R1Y3RDb250cm9sbGVyIDogQ29udHJvbGxlcgp7CiAgICBwdWJsaWMgSUFjdGlvblJlc3VsdCBJbmRleCgpCiAgICB7CiAgICAgICAgdmFyIHByb2R1Y3RzID0gbmV3IExpc3Q8UHJvZHVjdD4KICAgICAgICB7CiAgICAgICAgICAgIG5ldyBQcm9kdWN0IHsgSWQgPSAxLCBOYW1lID0gIkxhcHRvcCIsIFByaWNlID0gOTk5Ljk5TSB9LAogICAgICAgICAgICBuZXcgUHJvZHVjdCB7IElkID0gMiwgTmFtZSA9ICJTbWFydHBob25lIiwgUHJpY2UgPSA0OTkuOTlNIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gVmlldyhwcm9kdWN0cyk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class ProductController : Controller
{
    public IActionResult Index()
    {
        var products = new List&lt;Product&gt;
        {
            new Product { Id = 1, Name = &quot;Laptop&quot;, Price = 999.99M },
            new Product { Id = 2, Name = &quot;Smartphone&quot;, Price = 499.99M }
        };

        return View(products);
    }
}</pre></div><div class='content'></div><h2>Paso 3: Crear la Vista</h2>
<div class='content'><p>Crea un archivo <code>Index.cshtml</code> en la carpeta Views/Product.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QG1vZGVsIElFbnVtZXJhYmxlPFByb2R1Y3Q+Cgo8IURPQ1RZUEUgaHRtbD4KPGh0bWw+CjxoZWFkPgogICAgPHRpdGxlPlByb2R1Y3QgTGlzdDwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8aDE+UHJvZHVjdHM8L2gxPgogICAgPHVsPgogICAgICAgIEBmb3JlYWNoICh2YXIgcHJvZHVjdCBpbiBNb2RlbCkKICAgICAgICB7CiAgICAgICAgICAgIDxsaT5AcHJvZHVjdC5OYW1lIC0gQHByb2R1Y3QuUHJpY2U8L2xpPgogICAgICAgIH0KICAgIDwvdWw+CjwvYm9keT4KPC9odG1sPg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@model IEnumerable&lt;Product&gt;

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Product List&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Products&lt;/h1&gt;
    &lt;ul&gt;
        @foreach (var product in Model)
        {
            &lt;li&gt;@product.Name - @product.Price&lt;/li&gt;
        }
    &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h1>Temas Avanzados</h1>
<div class='content'></div><h2>Inyección de Dependencias</h2>
<div class='content'><p>La Inyección de Dependencias (DI) es una técnica para lograr la Inversión de Control (IoC) entre clases y sus dependencias. ASP.NET Core tiene soporte incorporado para DI.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBJUHJvZHVjdFNlcnZpY2UKewogICAgSUVudW1lcmFibGU8UHJvZHVjdD4gR2V0UHJvZHVjdHMoKTsKfQoKcHVibGljIGNsYXNzIFByb2R1Y3RTZXJ2aWNlIDogSVByb2R1Y3RTZXJ2aWNlCnsKICAgIHB1YmxpYyBJRW51bWVyYWJsZTxQcm9kdWN0PiBHZXRQcm9kdWN0cygpCiAgICB7CiAgICAgICAgcmV0dXJuIG5ldyBMaXN0PFByb2R1Y3Q+CiAgICAgICAgewogICAgICAgICAgICBuZXcgUHJvZHVjdCB7IElkID0gMSwgTmFtZSA9ICJMYXB0b3AiLCBQcmljZSA9IDk5OS45OU0gfSwKICAgICAgICAgICAgbmV3IFByb2R1Y3QgeyBJZCA9IDIsIE5hbWUgPSAiU21hcnRwaG9uZSIsIFByaWNlID0gNDk5Ljk5TSB9CiAgICAgICAgfTsKICAgIH0KfQoKcHVibGljIGNsYXNzIFByb2R1Y3RDb250cm9sbGVyIDogQ29udHJvbGxlcgp7CiAgICBwcml2YXRlIHJlYWRvbmx5IElQcm9kdWN0U2VydmljZSBfcHJvZHVjdFNlcnZpY2U7CgogICAgcHVibGljIFByb2R1Y3RDb250cm9sbGVyKElQcm9kdWN0U2VydmljZSBwcm9kdWN0U2VydmljZSkKICAgIHsKICAgICAgICBfcHJvZHVjdFNlcnZpY2UgPSBwcm9kdWN0U2VydmljZTsKICAgIH0KCiAgICBwdWJsaWMgSUFjdGlvblJlc3VsdCBJbmRleCgpCiAgICB7CiAgICAgICAgdmFyIHByb2R1Y3RzID0gX3Byb2R1Y3RTZXJ2aWNlLkdldFByb2R1Y3RzKCk7CiAgICAgICAgcmV0dXJuIFZpZXcocHJvZHVjdHMpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface IProductService
{
    IEnumerable&lt;Product&gt; GetProducts();
}

public class ProductService : IProductService
{
    public IEnumerable&lt;Product&gt; GetProducts()
    {
        return new List&lt;Product&gt;
        {
            new Product { Id = 1, Name = &quot;Laptop&quot;, Price = 999.99M },
            new Product { Id = 2, Name = &quot;Smartphone&quot;, Price = 499.99M }
        };
    }
}

public class ProductController : Controller
{
    private readonly IProductService _productService;

    public ProductController(IProductService productService)
    {
        _productService = productService;
    }

    public IActionResult Index()
    {
        var products = _productService.GetProducts();
        return View(products);
    }
}</pre></div><div class='content'></div><h2>Pruebas Unitarias</h2>
<div class='content'><p>Las pruebas unitarias en aplicaciones MVC aseguran que cada componente funcione como se espera. Puedes usar frameworks como xUnit o NUnit para las pruebas.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIFByb2R1Y3RDb250cm9sbGVyVGVzdHMKewogICAgW0ZhY3RdCiAgICBwdWJsaWMgdm9pZCBJbmRleF9SZXR1cm5zQVZpZXdSZXN1bHRfV2l0aEFMaXN0T2ZQcm9kdWN0cygpCiAgICB7CiAgICAgICAgLy8gQXJyYW5nZQogICAgICAgIHZhciBtb2NrU2VydmljZSA9IG5ldyBNb2NrPElQcm9kdWN0U2VydmljZT4oKTsKICAgICAgICBtb2NrU2VydmljZS5TZXR1cChzZXJ2aWNlID0+IHNlcnZpY2UuR2V0UHJvZHVjdHMoKSkuUmV0dXJucyhHZXRUZXN0UHJvZHVjdHMoKSk7CiAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBuZXcgUHJvZHVjdENvbnRyb2xsZXIobW9ja1NlcnZpY2UuT2JqZWN0KTsKCiAgICAgICAgLy8gQWN0CiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnRyb2xsZXIuSW5kZXgoKTsKCiAgICAgICAgLy8gQXNzZXJ0CiAgICAgICAgdmFyIHZpZXdSZXN1bHQgPSBBc3NlcnQuSXNUeXBlPFZpZXdSZXN1bHQ+KHJlc3VsdCk7CiAgICAgICAgdmFyIG1vZGVsID0gQXNzZXJ0LklzQXNzaWduYWJsZUZyb208SUVudW1lcmFibGU8UHJvZHVjdD4+KHZpZXdSZXN1bHQuVmlld0RhdGEuTW9kZWwpOwogICAgICAgIEFzc2VydC5FcXVhbCgyLCBtb2RlbC5Db3VudCgpKTsKICAgIH0KCiAgICBwcml2YXRlIExpc3Q8UHJvZHVjdD4gR2V0VGVzdFByb2R1Y3RzKCkKICAgIHsKICAgICAgICByZXR1cm4gbmV3IExpc3Q8UHJvZHVjdD4KICAgICAgICB7CiAgICAgICAgICAgIG5ldyBQcm9kdWN0IHsgSWQgPSAxLCBOYW1lID0gIkxhcHRvcCIsIFByaWNlID0gOTk5Ljk5TSB9LAogICAgICAgICAgICBuZXcgUHJvZHVjdCB7IElkID0gMiwgTmFtZSA9ICJTbWFydHBob25lIiwgUHJpY2UgPSA0OTkuOTlNIH0KICAgICAgICB9OwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class ProductControllerTests
{
    [Fact]
    public void Index_ReturnsAViewResult_WithAListOfProducts()
    {
        // Arrange
        var mockService = new Mock&lt;IProductService&gt;();
        mockService.Setup(service =&gt; service.GetProducts()).Returns(GetTestProducts());
        var controller = new ProductController(mockService.Object);

        // Act
        var result = controller.Index();

        // Assert
        var viewResult = Assert.IsType&lt;ViewResult&gt;(result);
        var model = Assert.IsAssignableFrom&lt;IEnumerable&lt;Product&gt;&gt;(viewResult.ViewData.Model);
        Assert.Equal(2, model.Count());
    }

    private List&lt;Product&gt; GetTestProducts()
    {
        return new List&lt;Product&gt;
        {
            new Product { Id = 1, Name = &quot;Laptop&quot;, Price = 999.99M },
            new Product { Id = 2, Name = &quot;Smartphone&quot;, Price = 499.99M }
        };
    }
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>La arquitectura MVC es un poderoso patrón de diseño que ayuda a organizar y gestionar aplicaciones complejas separando las preocupaciones en Modelo, Vista y Controlador. Al entender e implementar MVC en C#, puedes crear aplicaciones escalables, mantenibles y testeables. Este tema cubrió los conceptos básicos de la configuración de un proyecto MVC, la creación de Modelos, Vistas y Controladores, y tocó temas avanzados como la Inyección de Dependencias y las Pruebas Unitarias.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='simple-web-application'>&#x25C4;Construcción de una Aplicación Web Simple</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Arquitectura MVC en C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='web-api'>API Web &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
