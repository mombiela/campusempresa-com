<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introducción a la Programación Asíncrona</title>

    <link rel="alternate" href="https://campusempresa.com/mod/csharp/introduction-async" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/csharp/introduction-async" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/csharp/introduction-async" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/csharp/introduction-async" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/csharp/introduction-async" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='linq-sql'>&#x25C4;LINQ a SQL</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introducción a la Programación Asíncrona</a>
	</div>
	<div class='col-4 text-end'>
					<a href='tasks-tpl'>Tareas y Biblioteca de Paralelismo de Tareas (TPL) &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La programación asíncrona es una técnica poderosa que permite que tus programas realicen tareas concurrentemente, mejorando la eficiencia y la capacidad de respuesta. Este tema te guiará desde los conceptos básicos hasta los avanzados de la programación asíncrona en C#.</p>
</div><h1>¿Qué es la Programación Asíncrona?</h1>
<div class='content'><p>La programación asíncrona permite que un programa realice tareas sin bloquear el hilo principal. Esto es particularmente útil para operaciones dependientes de I/O, como leer de un archivo o hacer solicitudes de red, donde esperar a que la operación se complete bloquearía la ejecución de otras tareas.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Síncrono vs Asíncrono</strong>: Las operaciones síncronas bloquean la ejecución hasta que la tarea se completa, mientras que las operaciones asíncronas permiten que el programa continúe ejecutando otras tareas.</li>
<li><strong>Concurrencia</strong>: La capacidad de ejecutar múltiples tareas simultáneamente.</li>
<li><strong>Hilos</strong>: Uso de múltiples hilos para lograr concurrencia.</li>
<li><strong>Patrón Asíncrono Basado en Tareas (TAP)</strong>: Un modelo en C# para escribir código asíncrono usando los tipos <code>Task</code> y <code>Task&lt;T&gt;</code>.</li>
</ul>
</div><h1>Programación Asíncrona en C#</h1>
<div class='content'><p>C# proporciona varias formas de implementar programación asíncrona, principalmente a través de las palabras clave <code>async</code> y <code>await</code>, y la clase <code>Task</code>.</p>
</div><h2>Las Palabras Clave `async` y `await`</h2>
<div class='content'><p>La palabra clave <code>async</code> se usa para definir un método asíncrono, y la palabra clave <code>await</code> se usa para pausar la ejecución del método hasta que la tarea esperada se complete.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzOwoKY2xhc3MgUHJvZ3JhbQp7CiAgICBzdGF0aWMgYXN5bmMgVGFzayBNYWluKHN0cmluZ1tdIGFyZ3MpCiAgICB7CiAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoIlN0YXJ0aW5nLi4uIik7CiAgICAgICAgYXdhaXQgUGVyZm9ybVRhc2tBc3luYygpOwogICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJGaW5pc2hlZC4iKTsKICAgIH0KCiAgICBzdGF0aWMgYXN5bmMgVGFzayBQZXJmb3JtVGFza0FzeW5jKCkKICAgIHsKICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiVGFzayBzdGFydGVkLiIpOwogICAgICAgIGF3YWl0IFRhc2suRGVsYXkoMjAwMCk7IC8vIFNpbXVsYSB1biByZXRyYXNvCiAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoIlRhc2sgY29tcGxldGVkLiIpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using System;
using System.Threading.Tasks;

class Program
{
    static async Task Main(string[] args)
    {
        Console.WriteLine(&quot;Starting...&quot;);
        await PerformTaskAsync();
        Console.WriteLine(&quot;Finished.&quot;);
    }

    static async Task PerformTaskAsync()
    {
        Console.WriteLine(&quot;Task started.&quot;);
        await Task.Delay(2000); // Simula un retraso
        Console.WriteLine(&quot;Task completed.&quot;);
    }
}</pre></div><div class='content'><p><strong>Explicación</strong>:</p>
<ul>
<li>El método <code>Main</code> está marcado con <code>async</code> y devuelve un <code>Task</code>.</li>
<li><code>await Task.Delay(2000)</code> pausa el método durante 2 segundos sin bloquear el hilo principal.</li>
</ul>
</div><h2>Patrón Asíncrono Basado en Tareas (TAP)</h2>
<div class='content'><p>TAP es el patrón recomendado para la programación asíncrona en C#. Utiliza los tipos <code>Task</code> y <code>Task&lt;T&gt;</code> para representar operaciones asíncronas.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uTmV0Lkh0dHA7CnVzaW5nIFN5c3RlbS5UaHJlYWRpbmcuVGFza3M7CgpjbGFzcyBQcm9ncmFtCnsKICAgIHN0YXRpYyBhc3luYyBUYXNrIE1haW4oc3RyaW5nW10gYXJncykKICAgIHsKICAgICAgICBzdHJpbmcgdXJsID0gImh0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cy8xIjsKICAgICAgICBzdHJpbmcgcmVzdWx0ID0gYXdhaXQgRmV0Y2hEYXRhQXN5bmModXJsKTsKICAgICAgICBDb25zb2xlLldyaXRlTGluZShyZXN1bHQpOwogICAgfQoKICAgIHN0YXRpYyBhc3luYyBUYXNrPHN0cmluZz4gRmV0Y2hEYXRhQXN5bmMoc3RyaW5nIHVybCkKICAgIHsKICAgICAgICB1c2luZyBIdHRwQ2xpZW50IGNsaWVudCA9IG5ldyBIdHRwQ2xpZW50KCk7CiAgICAgICAgSHR0cFJlc3BvbnNlTWVzc2FnZSByZXNwb25zZSA9IGF3YWl0IGNsaWVudC5HZXRBc3luYyh1cmwpOwogICAgICAgIHJlc3BvbnNlLkVuc3VyZVN1Y2Nlc3NTdGF0dXNDb2RlKCk7CiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLkNvbnRlbnQuUmVhZEFzU3RyaW5nQXN5bmMoKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using System;
using System.Net.Http;
using System.Threading.Tasks;

class Program
{
    static async Task Main(string[] args)
    {
        string url = &quot;https://jsonplaceholder.typicode.com/posts/1&quot;;
        string result = await FetchDataAsync(url);
        Console.WriteLine(result);
    }

    static async Task&lt;string&gt; FetchDataAsync(string url)
    {
        using HttpClient client = new HttpClient();
        HttpResponseMessage response = await client.GetAsync(url);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStringAsync();
    }
}</pre></div><div class='content'><p><strong>Explicación</strong>:</p>
<ul>
<li>El método <code>FetchDataAsync</code> obtiene datos de una URL de manera asíncrona.</li>
<li><code>await client.GetAsync(url)</code> envía una solicitud HTTP GET y espera la respuesta.</li>
<li><code>await response.Content.ReadAsStringAsync()</code> lee el contenido de la respuesta como una cadena.</li>
</ul>
</div><h1>Conceptos Avanzados</h1>
<div class='content'></div><h2>Manejo de Excepciones</h2>
<div class='content'><p>Los métodos asíncronos pueden lanzar excepciones, las cuales deben ser manejadas adecuadamente.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uTmV0Lkh0dHA7CnVzaW5nIFN5c3RlbS5UaHJlYWRpbmcuVGFza3M7CgpjbGFzcyBQcm9ncmFtCnsKICAgIHN0YXRpYyBhc3luYyBUYXNrIE1haW4oc3RyaW5nW10gYXJncykKICAgIHsKICAgICAgICB0cnkKICAgICAgICB7CiAgICAgICAgICAgIHN0cmluZyB1cmwgPSAiaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzLzEiOwogICAgICAgICAgICBzdHJpbmcgcmVzdWx0ID0gYXdhaXQgRmV0Y2hEYXRhQXN5bmModXJsKTsKICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUocmVzdWx0KTsKICAgICAgICB9CiAgICAgICAgY2F0Y2ggKEh0dHBSZXF1ZXN0RXhjZXB0aW9uIGUpCiAgICAgICAgewogICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgkIlJlcXVlc3QgZXJyb3I6IHtlLk1lc3NhZ2V9Iik7CiAgICAgICAgfQogICAgfQoKICAgIHN0YXRpYyBhc3luYyBUYXNrPHN0cmluZz4gRmV0Y2hEYXRhQXN5bmMoc3RyaW5nIHVybCkKICAgIHsKICAgICAgICB1c2luZyBIdHRwQ2xpZW50IGNsaWVudCA9IG5ldyBIdHRwQ2xpZW50KCk7CiAgICAgICAgSHR0cFJlc3BvbnNlTWVzc2FnZSByZXNwb25zZSA9IGF3YWl0IGNsaWVudC5HZXRBc3luYyh1cmwpOwogICAgICAgIHJlc3BvbnNlLkVuc3VyZVN1Y2Nlc3NTdGF0dXNDb2RlKCk7CiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLkNvbnRlbnQuUmVhZEFzU3RyaW5nQXN5bmMoKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using System;
using System.Net.Http;
using System.Threading.Tasks;

class Program
{
    static async Task Main(string[] args)
    {
        try
        {
            string url = &quot;https://jsonplaceholder.typicode.com/posts/1&quot;;
            string result = await FetchDataAsync(url);
            Console.WriteLine(result);
        }
        catch (HttpRequestException e)
        {
            Console.WriteLine($&quot;Request error: {e.Message}&quot;);
        }
    }

    static async Task&lt;string&gt; FetchDataAsync(string url)
    {
        using HttpClient client = new HttpClient();
        HttpResponseMessage response = await client.GetAsync(url);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStringAsync();
    }
}</pre></div><div class='content'><p><strong>Explicación</strong>:</p>
<ul>
<li>El bloque <code>try-catch</code> en el método <code>Main</code> captura cualquier <code>HttpRequestException</code> lanzada por <code>FetchDataAsync</code>.</li>
</ul>
</div><h2>Programación Paralela</h2>
<div class='content'><p>La programación paralela implica ejecutar múltiples operaciones simultáneamente. La clase <code>Parallel</code> en C# proporciona métodos para la ejecución paralela.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgU3lzdGVtOwp1c2luZyBTeXN0ZW0uVGhyZWFkaW5nLlRhc2tzOwoKY2xhc3MgUHJvZ3JhbQp7CiAgICBzdGF0aWMgdm9pZCBNYWluKHN0cmluZ1tdIGFyZ3MpCiAgICB7CiAgICAgICAgUGFyYWxsZWwuRm9yKDAsIDEwLCBpID0+CiAgICAgICAgewogICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgkIlByb2Nlc3Npbmcge2l9Iik7CiAgICAgICAgfSk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using System;
using System.Threading.Tasks;

class Program
{
    static void Main(string[] args)
    {
        Parallel.For(0, 10, i =&gt;
        {
            Console.WriteLine($&quot;Processing {i}&quot;);
        });
    }
}</pre></div><div class='content'><p><strong>Explicación</strong>:</p>
<ul>
<li><code>Parallel.For</code> ejecuta el cuerpo del bucle en paralelo, procesando múltiples iteraciones concurrentemente.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>La programación asíncrona en C# es esencial para construir aplicaciones receptivas y eficientes. Al comprender y utilizar las palabras clave <code>async</code> y <code>await</code>, el Patrón Asíncrono Basado en Tareas, y manejar las excepciones adecuadamente, puedes escribir código asíncrono robusto. Los conceptos avanzados como la programación paralela mejoran aún más el rendimiento de tus aplicaciones. Practica estos conceptos con escenarios del mundo real para dominar la programación asíncrona en C#.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='linq-sql'>&#x25C4;LINQ a SQL</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introducción a la Programación Asíncrona</a>
	</div>
	<div class='col-4 text-end'>
					<a href='tasks-tpl'>Tareas y Biblioteca de Paralelismo de Tareas (TPL) &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
