<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas Unitarias en C#</title>

    <link rel="alternate" href="https://campusempresa.com/mod/csharp/unit-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/csharp/unit-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/csharp/unit-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/csharp/unit-testing" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/csharp/unit-testing" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='design-patterns'>&#x25C4;Patrones de Diseño</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas Unitarias en C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integration-testing'>Pruebas de Integración &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Las pruebas unitarias son un aspecto crucial del desarrollo de software que asegura que las unidades individuales de código funcionen como se espera. En esta sección, cubriremos los conceptos básicos de las pruebas unitarias en C#, progresando desde conceptos para principiantes hasta conceptos avanzados.</p>
</div><h1>Introducción a las Pruebas Unitarias</h1>
<div class='content'><p>Las pruebas unitarias implican probar componentes individuales o funciones de un programa para asegurar que funcionen correctamente. El objetivo principal es validar que cada unidad del software funcione según lo diseñado.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Unidad</strong>: La parte más pequeña de una aplicación que se puede probar, como una función o método.</li>
<li><strong>Caso de Prueba</strong>: Un conjunto de condiciones o variables bajo las cuales un probador determina si una unidad de código funciona correctamente.</li>
<li><strong>Suite de Pruebas</strong>: Una colección de casos de prueba destinados a probar un comportamiento o un conjunto de comportamientos de programas de software.</li>
<li><strong>Mocking</strong>: Crear una versión falsa de un objeto para simular el comportamiento de objetos reales.</li>
</ul>
</div><h1>Configuración de Pruebas Unitarias en C#</h1>
<div class='content'><p>Para comenzar con las pruebas unitarias en C#, necesitas configurar tu entorno de desarrollo. Usaremos Visual Studio y el marco de trabajo NUnit para nuestros ejemplos.</p>
</div><h2>Instalando NUnit</h2>
<div class='content'><ol>
<li>Abre Visual Studio.</li>
<li>Crea un nuevo proyecto de C# o abre uno existente.</li>
<li>Abre el Administrador de Paquetes NuGet (Herramientas &gt; Administrador de Paquetes NuGet &gt; Administrar Paquetes NuGet para la Solución).</li>
<li>Busca &quot;NUnit&quot; e instálalo.</li>
<li>También instala &quot;NUnit3TestAdapter&quot; para integrar NUnit con el explorador de pruebas de Visual Studio.</li>
</ol>
</div><h1>Escribiendo Tu Primera Prueba Unitaria</h1>
<div class='content'><p>Vamos a escribir una prueba unitaria simple para un método que suma dos números.</p>
</div><h2>Código de Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2FsY3VsYXRvci5jcwpwdWJsaWMgY2xhc3MgQ2FsY3VsYXRvcgp7CiAgICBwdWJsaWMgaW50IEFkZChpbnQgYSwgaW50IGIpCiAgICB7CiAgICAgICAgcmV0dXJuIGEgKyBiOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Calculator.cs
public class Calculator
{
    public int Add(int a, int b)
    {
        return a + b;
    }
}</pre></div><div class='content'></div><h2>Escribiendo la Prueba</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2FsY3VsYXRvclRlc3RzLmNzCnVzaW5nIE5Vbml0LkZyYW1ld29yazsKCltUZXN0Rml4dHVyZV0KcHVibGljIGNsYXNzIENhbGN1bGF0b3JUZXN0cwp7CiAgICBbVGVzdF0KICAgIHB1YmxpYyB2b2lkIEFkZF9XaGVuQ2FsbGVkX1JldHVybnNTdW1PZkFyZ3VtZW50cygpCiAgICB7CiAgICAgICAgLy8gQXJyYW5nZQogICAgICAgIHZhciBjYWxjdWxhdG9yID0gbmV3IENhbGN1bGF0b3IoKTsKCiAgICAgICAgLy8gQWN0CiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGN1bGF0b3IuQWRkKDEsIDIpOwoKICAgICAgICAvLyBBc3NlcnQKICAgICAgICBBc3NlcnQuQXJlRXF1YWwoMywgcmVzdWx0KTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// CalculatorTests.cs
using NUnit.Framework;

[TestFixture]
public class CalculatorTests
{
    [Test]
    public void Add_WhenCalled_ReturnsSumOfArguments()
    {
        // Arrange
        var calculator = new Calculator();

        // Act
        var result = calculator.Add(1, 2);

        // Assert
        Assert.AreEqual(3, result);
    }
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Arrange</strong>: Configura cualquier objeto o variable necesaria.</li>
<li><strong>Act</strong>: Llama al método que se está probando.</li>
<li><strong>Assert</strong>: Verifica que la salida del método sea la esperada.</li>
</ul>
</div><h1>Conceptos Avanzados de Pruebas Unitarias</h1>
<div class='content'><p>A medida que te sientas más cómodo con las pruebas unitarias básicas, puedes explorar conceptos más avanzados.</p>
</div><h2>Mocking de Dependencias</h2>
<div class='content'><p>Cuando una clase depende de otras clases, puedes usar mocking para aislar la unidad que se está probando.</p>
<h4>Ejemplo con Moq</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU2VydmljZS5jcwpwdWJsaWMgY2xhc3MgU2VydmljZQp7CiAgICBwcml2YXRlIHJlYWRvbmx5IElSZXBvc2l0b3J5IF9yZXBvc2l0b3J5OwoKICAgIHB1YmxpYyBTZXJ2aWNlKElSZXBvc2l0b3J5IHJlcG9zaXRvcnkpCiAgICB7CiAgICAgICAgX3JlcG9zaXRvcnkgPSByZXBvc2l0b3J5OwogICAgfQoKICAgIHB1YmxpYyBzdHJpbmcgR2V0RGF0YShpbnQgaWQpCiAgICB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVwb3NpdG9yeS5HZXREYXRhQnlJZChpZCk7CiAgICAgICAgcmV0dXJuIGRhdGEuVG9VcHBlcigpOwogICAgfQp9CgovLyBJUmVwb3NpdG9yeS5jcwpwdWJsaWMgaW50ZXJmYWNlIElSZXBvc2l0b3J5CnsKICAgIHN0cmluZyBHZXREYXRhQnlJZChpbnQgaWQpOwp9CgovLyBTZXJ2aWNlVGVzdHMuY3MKdXNpbmcgTW9xOwp1c2luZyBOVW5pdC5GcmFtZXdvcms7CgpbVGVzdEZpeHR1cmVdCnB1YmxpYyBjbGFzcyBTZXJ2aWNlVGVzdHMKewogICAgW1Rlc3RdCiAgICBwdWJsaWMgdm9pZCBHZXREYXRhX1doZW5DYWxsZWRfUmV0dXJuc1VwcGVyQ2FzZURhdGEoKQogICAgewogICAgICAgIC8vIEFycmFuZ2UKICAgICAgICB2YXIgbW9ja1JlcG9zaXRvcnkgPSBuZXcgTW9jazxJUmVwb3NpdG9yeT4oKTsKICAgICAgICBtb2NrUmVwb3NpdG9yeS5TZXR1cChyZXBvID0+IHJlcG8uR2V0RGF0YUJ5SWQoSXQuSXNBbnk8aW50PigpKSkuUmV0dXJucygiZGF0YSIpOwogICAgICAgIHZhciBzZXJ2aWNlID0gbmV3IFNlcnZpY2UobW9ja1JlcG9zaXRvcnkuT2JqZWN0KTsKCiAgICAgICAgLy8gQWN0CiAgICAgICAgdmFyIHJlc3VsdCA9IHNlcnZpY2UuR2V0RGF0YSgxKTsKCiAgICAgICAgLy8gQXNzZXJ0CiAgICAgICAgQXNzZXJ0LkFyZUVxdWFsKCJEQVRBIiwgcmVzdWx0KTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Service.cs
public class Service
{
    private readonly IRepository _repository;

    public Service(IRepository repository)
    {
        _repository = repository;
    }

    public string GetData(int id)
    {
        var data = _repository.GetDataById(id);
        return data.ToUpper();
    }
}

// IRepository.cs
public interface IRepository
{
    string GetDataById(int id);
}

// ServiceTests.cs
using Moq;
using NUnit.Framework;

[TestFixture]
public class ServiceTests
{
    [Test]
    public void GetData_WhenCalled_ReturnsUpperCaseData()
    {
        // Arrange
        var mockRepository = new Mock&lt;IRepository&gt;();
        mockRepository.Setup(repo =&gt; repo.GetDataById(It.IsAny&lt;int&gt;())).Returns(&quot;data&quot;);
        var service = new Service(mockRepository.Object);

        // Act
        var result = service.GetData(1);

        // Assert
        Assert.AreEqual(&quot;DATA&quot;, result);
    }
}</pre></div><div class='content'></div><h2>Pruebas Parametrizadas</h2>
<div class='content'><p>NUnit te permite ejecutar la misma prueba con diferentes entradas usando pruebas parametrizadas.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("W1Rlc3RGaXh0dXJlXQpwdWJsaWMgY2xhc3MgQ2FsY3VsYXRvclRlc3RzCnsKICAgIFtUZXN0Q2FzZSgxLCAyLCAzKV0KICAgIFtUZXN0Q2FzZSgtMSwgLTEsIC0yKV0KICAgIFtUZXN0Q2FzZSgwLCAwLCAwKV0KICAgIHB1YmxpYyB2b2lkIEFkZF9XaGVuQ2FsbGVkX1JldHVybnNTdW1PZkFyZ3VtZW50cyhpbnQgYSwgaW50IGIsIGludCBleHBlY3RlZFJlc3VsdCkKICAgIHsKICAgICAgICAvLyBBcnJhbmdlCiAgICAgICAgdmFyIGNhbGN1bGF0b3IgPSBuZXcgQ2FsY3VsYXRvcigpOwoKICAgICAgICAvLyBBY3QKICAgICAgICB2YXIgcmVzdWx0ID0gY2FsY3VsYXRvci5BZGQoYSwgYik7CgogICAgICAgIC8vIEFzc2VydAogICAgICAgIEFzc2VydC5BcmVFcXVhbChleHBlY3RlZFJlc3VsdCwgcmVzdWx0KTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>[TestFixture]
public class CalculatorTests
{
    [TestCase(1, 2, 3)]
    [TestCase(-1, -1, -2)]
    [TestCase(0, 0, 0)]
    public void Add_WhenCalled_ReturnsSumOfArguments(int a, int b, int expectedResult)
    {
        // Arrange
        var calculator = new Calculator();

        // Act
        var result = calculator.Add(a, b);

        // Assert
        Assert.AreEqual(expectedResult, result);
    }
}</pre></div><div class='content'></div><h1>Resumen</h1>
<div class='content'><p>Las pruebas unitarias son una práctica esencial en el desarrollo de software que ayuda a asegurar la calidad y fiabilidad del código. Comenzando con pruebas básicas y gradualmente incorporando técnicas avanzadas como mocking y pruebas parametrizadas, puedes crear una robusta suite de pruebas para tus aplicaciones en C#. Recuerda:</p>
<ul>
<li>Escribir casos de prueba claros y concisos.</li>
<li>Usar mocking para aislar unidades de código.</li>
<li>Aprovechar las pruebas parametrizadas para mayor eficiencia.</li>
</ul>
<p>Con práctica constante, las pruebas unitarias se convertirán en una parte integral de tu flujo de trabajo de desarrollo, llevando a un código más mantenible y libre de errores.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='design-patterns'>&#x25C4;Patrones de Diseño</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas Unitarias en C#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='integration-testing'>Pruebas de Integración &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
