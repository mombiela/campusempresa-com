<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Pruebas Unitarias con Jest</title>

    <link rel="alternate" href="https://campusempresa.com/mod/javascript/08-02-unit-testing-jest" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/javascript/08-02-unit-testing-jest" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/javascript/08-02-unit-testing-jest" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/javascript/08-02-unit-testing-jest" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/javascript/08-02-unit-testing-jest" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Todo el conocimiento a tu alcance</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-01-debugging-javascript' title="Depuración de JavaScript">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Pruebas Unitarias con Jest</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-03-integration-testing' title="Pruebas de Integración">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Las pruebas unitarias son una parte esencial del desarrollo de software, ya que permiten verificar que las unidades individuales de código (como funciones y métodos) funcionan correctamente. Jest es un framework de pruebas de JavaScript desarrollado por Facebook, que se utiliza principalmente para probar aplicaciones de React, pero también es adecuado para cualquier proyecto de JavaScript.</p>
<p>En esta sección, aprenderás a configurar Jest, escribir pruebas unitarias básicas y ejecutar esas pruebas para asegurarte de que tu código funcione como se espera.</p>
</div><h1>Configuración de Jest</h1>
<div class='content'></div><h2>Instalación</h2>
<div class='content'><p>Para comenzar a usar Jest, primero necesitas instalarlo en tu proyecto. Puedes hacerlo utilizando npm o yarn:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVc2FuZG8gbnBtCm5wbSBpbnN0YWxsIC0tc2F2ZS1kZXYgamVzdAoKIyBVc2FuZG8geWFybgp5YXJuIGFkZCAtLWRldiBqZXN0"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Usando npm
npm install --save-dev jest

# Usando yarn
yarn add --dev jest</pre></div><div class='content'></div><h2>Configuración del Script de Pruebas</h2>
<div class='content'><p>Agrega un script en tu <code>package.json</code> para ejecutar Jest:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJzY3JpcHRzIjogewogICAgInRlc3QiOiAiamVzdCIKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;jest&quot;
  }
}</pre></div><div class='content'></div><h1>Escribiendo Pruebas Unitarias</h1>
<div class='content'></div><h2>Estructura Básica de una Prueba</h2>
<div class='content'><p>Las pruebas en Jest se escriben utilizando funciones como <code>test</code> o <code>it</code>. Aquí hay un ejemplo básico:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3VtLmpzCmZ1bmN0aW9uIHN1bShhLCBiKSB7CiAgcmV0dXJuIGEgKyBiOwp9Cgptb2R1bGUuZXhwb3J0cyA9IHN1bTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// sum.js
function sum(a, b) {
  return a + b;
}

module.exports = sum;</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3VtLnRlc3QuanMKY29uc3Qgc3VtID0gcmVxdWlyZSgnLi9zdW0nKTsKCnRlc3QoJ2FkZHMgMSArIDIgdG8gZXF1YWwgMycsICgpID0+IHsKICBleHBlY3Qoc3VtKDEsIDIpKS50b0JlKDMpOwp9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// sum.test.js
const sum = require('./sum');

test('adds 1 + 2 to equal 3', () =&gt; {
  expect(sum(1, 2)).toBe(3);
});</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ol>
<li><strong>sum.js</strong>: Define una función <code>sum</code> que toma dos argumentos y devuelve su suma.</li>
<li><strong>sum.test.js</strong>: Importa la función <code>sum</code> y define una prueba que verifica si <code>sum(1, 2)</code> es igual a <code>3</code>.</li>
</ol>
</div><h2>Ejecutando las Pruebas</h2>
<div class='content'><p>Para ejecutar las pruebas, simplemente corre el siguiente comando en tu terminal:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIHRlc3Q="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm test</pre></div><div class='content'></div><h1>Métodos de Expectación</h1>
<div class='content'><p>Jest proporciona varios métodos de expectación para verificar diferentes condiciones. Aquí hay algunos ejemplos comunes:</p>
</div><h2>toBe</h2>
<div class='content'><p>Verifica que el valor sea exactamente igual (usando <code>===</code>).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVzdCgnZG9zIG3DoXMgZG9zIGVzIGN1YXRybycsICgpID0+IHsKICBleHBlY3QoMiArIDIpLnRvQmUoNCk7Cn0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>test('dos m&aacute;s dos es cuatro', () =&gt; {
  expect(2 + 2).toBe(4);
});</pre></div><div class='content'></div><h2>toEqual</h2>
<div class='content'><p>Verifica que los objetos o arrays sean iguales en estructura y contenido.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVzdCgnb2JqZXRvIGRlIGFzaWduYWNpw7NuJywgKCkgPT4gewogIGNvbnN0IGRhdGEgPSB7IHVubzogMSB9OwogIGRhdGFbJ2RvcyddID0gMjsKICBleHBlY3QoZGF0YSkudG9FcXVhbCh7IHVubzogMSwgZG9zOiAyIH0pOwp9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>test('objeto de asignaci&oacute;n', () =&gt; {
  const data = { uno: 1 };
  data['dos'] = 2;
  expect(data).toEqual({ uno: 1, dos: 2 });
});</pre></div><div class='content'></div><h2>toBeNull, toBeUndefined, toBeDefined</h2>
<div class='content'><p>Verifica valores nulos, indefinidos o definidos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVzdCgnbnVsbycsICgpID0+IHsKICBjb25zdCBuID0gbnVsbDsKICBleHBlY3QobikudG9CZU51bGwoKTsKICBleHBlY3QobikudG9CZURlZmluZWQoKTsKICBleHBlY3Qobikubm90LnRvQmVVbmRlZmluZWQoKTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>test('nulo', () =&gt; {
  const n = null;
  expect(n).toBeNull();
  expect(n).toBeDefined();
  expect(n).not.toBeUndefined();
});</pre></div><div class='content'></div><h2>toBeTruthy, toBeFalsy</h2>
<div class='content'><p>Verifica valores verdaderos o falsos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVzdCgndmVyZGFkZXJvIG8gZmFsc28nLCAoKSA9PiB7CiAgZXhwZWN0KHRydWUpLnRvQmVUcnV0aHkoKTsKICBleHBlY3QoZmFsc2UpLnRvQmVGYWxzeSgpOwp9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>test('verdadero o falso', () =&gt; {
  expect(true).toBeTruthy();
  expect(false).toBeFalsy();
});</pre></div><div class='content'></div><h1>Pruebas Asíncronas</h1>
<div class='content'><p>Jest también soporta pruebas asíncronas. Puedes usar <code>async/await</code> o promesas para manejar código asíncrono.</p>
</div><h2>Usando async/await</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gZmV0Y2hEYXRhLmpzCmNvbnN0IGZldGNoRGF0YSA9IGFzeW5jICgpID0+IHsKICByZXR1cm4gJ3BlYW51dCBidXR0ZXInOwp9OwoKbW9kdWxlLmV4cG9ydHMgPSBmZXRjaERhdGE7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// fetchData.js
const fetchData = async () =&gt; {
  return 'peanut butter';
};

module.exports = fetchData;</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gZmV0Y2hEYXRhLnRlc3QuanMKY29uc3QgZmV0Y2hEYXRhID0gcmVxdWlyZSgnLi9mZXRjaERhdGEnKTsKCnRlc3QoJ2xvcyBkYXRvcyBzb24gcGVhbnV0IGJ1dHRlcicsIGFzeW5jICgpID0+IHsKICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2hEYXRhKCk7CiAgZXhwZWN0KGRhdGEpLnRvQmUoJ3BlYW51dCBidXR0ZXInKTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// fetchData.test.js
const fetchData = require('./fetchData');

test('los datos son peanut butter', async () =&gt; {
  const data = await fetchData();
  expect(data).toBe('peanut butter');
});</pre></div><div class='content'></div><h2>Usando Promesas</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVzdCgnbG9zIGRhdG9zIHNvbiBwZWFudXQgYnV0dGVyJywgKCkgPT4gewogIHJldHVybiBmZXRjaERhdGEoKS50aGVuKGRhdGEgPT4gewogICAgZXhwZWN0KGRhdGEpLnRvQmUoJ3BlYW51dCBidXR0ZXInKTsKICB9KTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>test('los datos son peanut butter', () =&gt; {
  return fetchData().then(data =&gt; {
    expect(data).toBe('peanut butter');
  });
});</pre></div><div class='content'></div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Prueba de una Función de Multiplicación</h2>
<div class='content'><ol>
<li>Crea una función <code>multiply</code> que tome dos números y devuelva su producto.</li>
<li>Escribe una prueba para verificar que <code>multiply(2, 3)</code> devuelve <code>6</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbXVsdGlwbHkuanMKZnVuY3Rpb24gbXVsdGlwbHkoYSwgYikgewogIHJldHVybiBhICogYjsKfQoKbW9kdWxlLmV4cG9ydHMgPSBtdWx0aXBseTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// multiply.js
function multiply(a, b) {
  return a * b;
}

module.exports = multiply;</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbXVsdGlwbHkudGVzdC5qcwpjb25zdCBtdWx0aXBseSA9IHJlcXVpcmUoJy4vbXVsdGlwbHknKTsKCnRlc3QoJ211bHRpcGxpY2EgMiAqIDMgcGFyYSBpZ3VhbGFyIDYnLCAoKSA9PiB7CiAgZXhwZWN0KG11bHRpcGx5KDIsIDMpKS50b0JlKDYpOwp9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// multiply.test.js
const multiply = require('./multiply');

test('multiplica 2 * 3 para igualar 6', () =&gt; {
  expect(multiply(2, 3)).toBe(6);
});</pre></div><div class='content'></div><h2>Ejercicio 2: Prueba de una Función Asíncrona</h2>
<div class='content'><ol>
<li>Crea una función <code>fetchUser</code> que simule una llamada a una API y devuelva un objeto de usuario.</li>
<li>Escribe una prueba para verificar que <code>fetchUser</code> devuelve el objeto de usuario correcto.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gZmV0Y2hVc2VyLmpzCmNvbnN0IGZldGNoVXNlciA9IGFzeW5jICgpID0+IHsKICByZXR1cm4geyBuYW1lOiAnSm9obiBEb2UnLCBhZ2U6IDMwIH07Cn07Cgptb2R1bGUuZXhwb3J0cyA9IGZldGNoVXNlcjs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// fetchUser.js
const fetchUser = async () =&gt; {
  return { name: 'John Doe', age: 30 };
};

module.exports = fetchUser;</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gZmV0Y2hVc2VyLnRlc3QuanMKY29uc3QgZmV0Y2hVc2VyID0gcmVxdWlyZSgnLi9mZXRjaFVzZXInKTsKCnRlc3QoJ2xvcyBkYXRvcyBkZWwgdXN1YXJpbyBzb24gY29ycmVjdG9zJywgYXN5bmMgKCkgPT4gewogIGNvbnN0IHVzZXIgPSBhd2FpdCBmZXRjaFVzZXIoKTsKICBleHBlY3QodXNlcikudG9FcXVhbCh7IG5hbWU6ICdKb2huIERvZScsIGFnZTogMzAgfSk7Cn0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// fetchUser.test.js
const fetchUser = require('./fetchUser');

test('los datos del usuario son correctos', async () =&gt; {
  const user = await fetchUser();
  expect(user).toEqual({ name: 'John Doe', age: 30 });
});</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, has aprendido a configurar Jest, escribir pruebas unitarias básicas y ejecutar esas pruebas. También has visto cómo manejar pruebas asíncronas y utilizar diferentes métodos de expectación. Las pruebas unitarias son una herramienta poderosa para asegurar la calidad de tu código y facilitar el mantenimiento a largo plazo.</p>
<p>En el siguiente módulo, profundizaremos en las pruebas de integración, donde aprenderás a probar cómo interactúan diferentes partes de tu aplicación entre sí.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-01-debugging-javascript' title="Depuración de JavaScript">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-03-integration-testing' title="Pruebas de Integración">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicidad</h1>
<p>Este espacio está destinado a publicidad.</p>
<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>¡Gracias por colaborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
