<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carga Perezosa y División de Código</title>

    <link rel="alternate" href="https://campusempresa.com/mod/javascript/09-04-lazy-loading-code-splitting" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/javascript/09-04-lazy-loading-code-splitting" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/javascript/09-04-lazy-loading-code-splitting" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/javascript/09-04-lazy-loading-code-splitting" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/javascript/09-04-lazy-loading-code-splitting" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='09-03-efficient-dom-manipulation' title="Manipulación Eficiente del DOM">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Carga Perezosa y División de Código</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='10-01-introduction-react' title="Introducción a React">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La carga perezosa (lazy loading) y la división de código (code splitting) son técnicas avanzadas de optimización de rendimiento en aplicaciones JavaScript. Estas técnicas permiten mejorar la velocidad de carga inicial y la experiencia del usuario al cargar solo el código necesario cuando se necesita.</p>
</div><h1>¿Qué es la Carga Perezosa?</h1>
<div class='content'><p>La carga perezosa es una técnica que retrasa la carga de recursos hasta que son realmente necesarios. En lugar de cargar todos los recursos al inicio, se cargan bajo demanda, lo que reduce el tiempo de carga inicial de la página.</p>
</div><h2>Ventajas de la Carga Perezosa</h2>
<div class='content'><ul>
<li><strong>Mejora del rendimiento inicial</strong>: Al cargar solo lo necesario, la página se carga más rápido.</li>
<li><strong>Reducción del uso de ancho de banda</strong>: Solo se descargan los recursos que el usuario necesita.</li>
<li><strong>Mejor experiencia de usuario</strong>: Menos tiempo de espera para que la página sea interactiva.</li>
</ul>
</div><h2>Ejemplo de Carga Perezosa en JavaScript</h2>
<div class='content'><p>Supongamos que tenemos una función que realiza una operación costosa y solo se necesita cuando el usuario hace clic en un botón.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRnVuY2nDs24gY29zdG9zYSBxdWUgc29sbyBzZSBuZWNlc2l0YSBiYWpvIGRlbWFuZGEKZnVuY3Rpb24gb3BlcmFjaW9uQ29zdG9zYSgpIHsKICAgIGNvbnNvbGUubG9nKCJPcGVyYWNpw7NuIGNvc3Rvc2EgcmVhbGl6YWRhIik7Cn0KCi8vIEV2ZW50byBkZSBjbGljIHF1ZSBjYXJnYSBsYSBmdW5jacOzbiBzb2xvIGN1YW5kbyBlcyBuZWNlc2FyaW8KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvdG9uIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBpbXBvcnQoJy4vb3BlcmFjaW9uQ29zdG9zYS5qcycpCiAgICAgICAgLnRoZW4obW9kdWxlID0+IHsKICAgICAgICAgICAgY29uc3Qgb3BlcmFjaW9uQ29zdG9zYSA9IG1vZHVsZS5kZWZhdWx0OwogICAgICAgICAgICBvcGVyYWNpb25Db3N0b3NhKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgYWwgY2FyZ2FyIGVsIG3Ds2R1bG86IiwgZXJyKTsKICAgICAgICB9KTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Funci&oacute;n costosa que solo se necesita bajo demanda
function operacionCostosa() {
    console.log(&quot;Operaci&oacute;n costosa realizada&quot;);
}

// Evento de clic que carga la funci&oacute;n solo cuando es necesario
document.getElementById(&quot;boton&quot;).addEventListener(&quot;click&quot;, () =&gt; {
    import('./operacionCostosa.js')
        .then(module =&gt; {
            const operacionCostosa = module.default;
            operacionCostosa();
        })
        .catch(err =&gt; {
            console.error(&quot;Error al cargar el m&oacute;dulo:&quot;, err);
        });
});</pre></div><div class='content'><p>En este ejemplo, <code>import('./operacionCostosa.js')</code> es una importación dinámica que carga el módulo solo cuando el usuario hace clic en el botón.</p>
</div><h1>¿Qué es la División de Código?</h1>
<div class='content'><p>La división de código es una técnica que divide el código en partes más pequeñas (chunks) que pueden ser cargadas de manera independiente. Esto es especialmente útil en aplicaciones grandes donde no todo el código es necesario al inicio.</p>
</div><h2>Ventajas de la División de Código</h2>
<div class='content'><ul>
<li><strong>Carga más rápida</strong>: Al dividir el código en partes más pequeñas, el tiempo de carga inicial se reduce.</li>
<li><strong>Mejor mantenimiento</strong>: El código dividido es más fácil de gestionar y mantener.</li>
<li><strong>Optimización del rendimiento</strong>: Solo se cargan los módulos necesarios, lo que mejora el rendimiento general de la aplicación.</li>
</ul>
</div><h2>Ejemplo de División de Código con Webpack</h2>
<div class='content'><p>Webpack es una herramienta popular para la división de código. Aquí hay un ejemplo básico de cómo configurar Webpack para dividir el código.</p>
<h4>Configuración de Webpack</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gd2VicGFjay5jb25maWcuanMKY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTsKCm1vZHVsZS5leHBvcnRzID0gewogICAgZW50cnk6IHsKICAgICAgICBtYWluOiAnLi9zcmMvaW5kZXguanMnLAogICAgICAgIHZlbmRvcjogJy4vc3JjL3ZlbmRvci5qcycKICAgIH0sCiAgICBvdXRwdXQ6IHsKICAgICAgICBmaWxlbmFtZTogJ1tuYW1lXS5bY29udGVudGhhc2hdLmpzJywKICAgICAgICBwYXRoOiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnZGlzdCcpCiAgICB9LAogICAgb3B0aW1pemF0aW9uOiB7CiAgICAgICAgc3BsaXRDaHVua3M6IHsKICAgICAgICAgICAgY2h1bmtzOiAnYWxsJywKICAgICAgICB9LAogICAgfSwKfTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// webpack.config.js
const path = require('path');

module.exports = {
    entry: {
        main: './src/index.js',
        vendor: './src/vendor.js'
    },
    output: {
        filename: '[name].[contenthash].js',
        path: path.resolve(__dirname, 'dist')
    },
    optimization: {
        splitChunks: {
            chunks: 'all',
        },
    },
};</pre></div><div class='content'><p>En esta configuración, Webpack divide el código en dos partes: <code>main</code> y <code>vendor</code>. La opción <code>splitChunks</code> asegura que todos los módulos comunes se extraigan a un chunk separado.</p>
</div><h2>Ejemplo de División de Código en React</h2>
<div class='content'><p>React soporta la división de código de manera nativa usando <code>React.lazy</code> y <code>Suspense</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IFN1c3BlbnNlIH0gZnJvbSAncmVhY3QnOwoKY29uc3QgQ29tcG9uZW50ZVBlc2FkbyA9IFJlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCcuL0NvbXBvbmVudGVQZXNhZG8nKSk7CgpmdW5jdGlvbiBBcHAoKSB7CiAgICByZXR1cm4gKAogICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxoMT5NaSBBcGxpY2FjacOzbjwvaDE+CiAgICAgICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdj5DYXJnYW5kby4uLjwvZGl2Pn0+CiAgICAgICAgICAgICAgICA8Q29tcG9uZW50ZVBlc2FkbyAvPgogICAgICAgICAgICA8L1N1c3BlbnNlPgogICAgICAgIDwvZGl2PgogICAgKTsKfQoKZXhwb3J0IGRlZmF1bHQgQXBwOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { Suspense } from 'react';

const ComponentePesado = React.lazy(() =&gt; import('./ComponentePesado'));

function App() {
    return (
        &lt;div&gt;
            &lt;h1&gt;Mi Aplicaci&oacute;n&lt;/h1&gt;
            &lt;Suspense fallback={&lt;div&gt;Cargando...&lt;/div&gt;}&gt;
                &lt;ComponentePesado /&gt;
            &lt;/Suspense&gt;
        &lt;/div&gt;
    );
}

export default App;</pre></div><div class='content'><p>En este ejemplo, <code>React.lazy</code> se utiliza para cargar el componente <code>ComponentePesado</code> solo cuando es necesario. <code>Suspense</code> muestra un indicador de carga mientras se carga el componente.</p>
</div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Implementar Carga Perezosa</h2>
<div class='content'><ol>
<li>
<p>Crea un archivo <code>operacionCostosa.js</code> con la siguiente función:</p>
<pre><code class="language-javascript">export default function operacionCostosa() {
    console.log(&quot;Operación costosa realizada&quot;);
}
</code></pre>
</li>
<li>
<p>En tu archivo principal, agrega un botón y un evento de clic para cargar la función de manera perezosa:</p>
<pre><code class="language-html">&lt;button id=&quot;boton&quot;&gt;Realizar Operación Costosa&lt;/button&gt;
&lt;script type=&quot;module&quot;&gt;
    document.getElementById(&quot;boton&quot;).addEventListener(&quot;click&quot;, () =&gt; {
        import('./operacionCostosa.js')
            .then(module =&gt; {
                const operacionCostosa = module.default;
                operacionCostosa();
            })
            .catch(err =&gt; {
                console.error(&quot;Error al cargar el módulo:&quot;, err);
            });
    });
&lt;/script&gt;
</code></pre>
</li>
</ol>
</div><h2>Ejercicio 2: Implementar División de Código con Webpack</h2>
<div class='content'><ol>
<li>Configura un proyecto básico de Webpack siguiendo la configuración proporcionada anteriormente.</li>
<li>Crea dos archivos de entrada <code>index.js</code> y <code>vendor.js</code> con algún código JavaScript básico.</li>
<li>Ejecuta Webpack y verifica que los archivos de salida se dividan correctamente en el directorio <code>dist</code>.</li>
</ol>
</div><h1>Conclusión</h1>
<div class='content'><p>La carga perezosa y la división de código son técnicas esenciales para optimizar el rendimiento de aplicaciones JavaScript. Al implementar estas técnicas, puedes mejorar significativamente la velocidad de carga inicial y la experiencia del usuario. A medida que avances en el desarrollo de aplicaciones más complejas, estas técnicas serán herramientas valiosas en tu arsenal de optimización.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='09-03-efficient-dom-manipulation' title="Manipulación Eficiente del DOM">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='10-01-introduction-react' title="Introducción a React">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
