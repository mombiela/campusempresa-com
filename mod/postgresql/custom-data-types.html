<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tipos de Datos Personalizados</title>

    <link rel="alternate" href="https://campusempresa.com/mod/postgresql/custom-data-types" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/postgresql/custom-data-types" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/postgresql/custom-data-types" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/postgresql/custom-data-types" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/postgresql/custom-data-types" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='foreign-data-wrappers'>&#x25C4;Wrappers de Datos Externos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Tipos de Datos Personalizados</a>
	</div>
	<div class='col-4 text-end'>
					<a href='contributing-to-postgresql'>Contribuyendo a PostgreSQL &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En PostgreSQL, los tipos de datos personalizados te permiten definir tus propias estructuras de datos para satisfacer requisitos específicos de la aplicación. Esto puede ser particularmente útil cuando los tipos incorporados no cumplen con tus necesidades. Este tema te guiará a través de la creación y uso de tipos de datos personalizados en PostgreSQL, desde niveles principiantes hasta avanzados.</p>
</div><h1>Introducción a los Tipos de Datos Personalizados</h1>
<div class='content'><ul>
<li>
<p><strong>¿Qué son los Tipos de Datos Personalizados?</strong></p>
<ul>
<li>Los tipos de datos personalizados son tipos definidos por el usuario que te permiten encapsular estructuras de datos complejas.</li>
<li>Pueden ser utilizados para reforzar la integridad de los datos y simplificar el diseño del esquema de la base de datos.</li>
</ul>
</li>
<li>
<p><strong>¿Por qué Usar Tipos de Datos Personalizados?</strong></p>
<ul>
<li>Para modelar datos complejos de manera más natural.</li>
<li>Para reforzar reglas de negocio a nivel de base de datos.</li>
<li>Para mejorar la legibilidad y mantenibilidad del código.</li>
</ul>
</li>
</ul>
</div><h1>Creación de Tipos de Datos Personalizados</h1>
<div class='content'></div><h2>Tipos Enumerados (ENUM)</h2>
<div class='content'><p>Los tipos enumerados son útiles cuando tienes una columna que solo debe aceptar un conjunto limitado de valores.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRZUEUgbW9vZCBBUyBFTlVNICgnaGFwcHknLCAnc2FkJywgJ25ldXRyYWwnKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TYPE mood AS ENUM ('happy', 'sad', 'neutral');</pre></div><div class='content'><ul>
<li><strong>Ejemplo de Uso:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHBlcnNvbiAoCiAgICBuYW1lIFRFWFQsCiAgICBjdXJyZW50X21vb2QgbW9vZAopOwoKSU5TRVJUIElOVE8gcGVyc29uIChuYW1lLCBjdXJyZW50X21vb2QpIFZBTFVFUyAoJ0FsaWNlJywgJ2hhcHB5Jyk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE person (
    name TEXT,
    current_mood mood
);

INSERT INTO person (name, current_mood) VALUES ('Alice', 'happy');</pre></div><div class='content'></div><h2>Tipos Compuestos</h2>
<div class='content'><p>Los tipos compuestos te permiten agrupar múltiples campos en un solo tipo de datos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRZUEUgYWRkcmVzcyBBUyAoCiAgICBzdHJlZXQgVEVYVCwKICAgIGNpdHkgVEVYVCwKICAgIHppcF9jb2RlIFRFWFQKKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TYPE address AS (
    street TEXT,
    city TEXT,
    zip_code TEXT
);</pre></div><div class='content'><ul>
<li><strong>Ejemplo de Uso:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIGVtcGxveWVlICgKICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIG5hbWUgVEVYVCwKICAgIGhvbWVfYWRkcmVzcyBhZGRyZXNzCik7CgpJTlNFUlQgSU5UTyBlbXBsb3llZSAobmFtZSwgaG9tZV9hZGRyZXNzKSAKVkFMVUVTICgnSm9obiBEb2UnLCBST1coJzEyMyBNYWluIFN0JywgJ0FueXRvd24nLCAnMTIzNDUnKSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE employee (
    id SERIAL PRIMARY KEY,
    name TEXT,
    home_address address
);

INSERT INTO employee (name, home_address) 
VALUES ('John Doe', ROW('123 Main St', 'Anytown', '12345'));</pre></div><div class='content'></div><h2>Tipos de Rango</h2>
<div class='content'><p>Los tipos de rango representan un rango de valores, como un rango de fechas o números.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRZUEUgaW50NHJhbmdlIEFTIFJBTkdFICgKICAgIHN1YnR5cGUgPSBpbnQ0Cik7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TYPE int4range AS RANGE (
    subtype = int4
);</pre></div><div class='content'><ul>
<li><strong>Ejemplo de Uso:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHJlc2VydmF0aW9uICgKICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIHBlcmlvZCBpbnQ0cmFuZ2UKKTsKCklOU0VSVCBJTlRPIHJlc2VydmF0aW9uIChwZXJpb2QpIFZBTFVFUyAoJ1sxLDEwXScpOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE reservation (
    id SERIAL PRIMARY KEY,
    period int4range
);

INSERT INTO reservation (period) VALUES ('[1,10]');</pre></div><div class='content'></div><h1>Tipos de Datos Personalizados Avanzados</h1>
<div class='content'></div><h2>Tipos de Dominio</h2>
<div class='content'><p>Los tipos de dominio se basan en tipos de datos existentes pero con restricciones.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIERPTUFJTiBwb3NpdGl2ZV9pbnRlZ2VyIEFTIElOVEVHRVIgQ0hFQ0sgKFZBTFVFID4gMCk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE DOMAIN positive_integer AS INTEGER CHECK (VALUE &gt; 0);</pre></div><div class='content'><ul>
<li><strong>Ejemplo de Uso:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHByb2R1Y3QgKAogICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLAogICAgcHJpY2UgcG9zaXRpdmVfaW50ZWdlcgopOwoKSU5TRVJUIElOVE8gcHJvZHVjdCAocHJpY2UpIFZBTFVFUyAoMTAwKTsgIC0tIFbDoWxpZG8KSU5TRVJUIElOVE8gcHJvZHVjdCAocHJpY2UpIFZBTFVFUyAoLTUwKTsgIC0tIEludsOhbGlkbw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE product (
    id SERIAL PRIMARY KEY,
    price positive_integer
);

INSERT INTO product (price) VALUES (100);  -- V&aacute;lido
INSERT INTO product (price) VALUES (-50);  -- Inv&aacute;lido</pre></div><div class='content'></div><h2>Tipos Compuestos con Funciones</h2>
<div class='content'><p>Puedes crear funciones que devuelvan tipos compuestos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRZUEUgZnVsbF9uYW1lIEFTICgKICAgIGZpcnN0X25hbWUgVEVYVCwKICAgIGxhc3RfbmFtZSBURVhUCik7CgpDUkVBVEUgRlVOQ1RJT04gZ2V0X2Z1bGxfbmFtZSgpIFJFVFVSTlMgZnVsbF9uYW1lIEFTICQkCkJFR0lOCiAgICBSRVRVUk4gUk9XKCdKb2huJywgJ0RvZScpOwpFTkQ7CiQkIExBTkdVQUdFIHBscGdzcWw7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TYPE full_name AS (
    first_name TEXT,
    last_name TEXT
);

CREATE FUNCTION get_full_name() RETURNS full_name AS $$
BEGIN
    RETURN ROW('John', 'Doe');
END;
$$ LANGUAGE plpgsql;</pre></div><div class='content'><ul>
<li><strong>Ejemplo de Uso:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUICogRlJPTSBnZXRfZnVsbF9uYW1lKCk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT * FROM get_full_name();</pre></div><div class='content'></div><h1>Gestión de Tipos de Datos Personalizados</h1>
<div class='content'><ul>
<li><strong>Alterar Tipos de Datos Personalizados:</strong>
<ul>
<li>Puedes alterar tipos de datos personalizados para agregar o eliminar valores (para tipos ENUM) o para cambiar restricciones (para tipos de DOMINIO).</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QUxURVIgVFlQRSBtb29kIEFERCBWQUxVRSAnZXhjaXRlZCc7CkFMVEVSIERPTUFJTiBwb3NpdGl2ZV9pbnRlZ2VyIFNFVCBERUZBVUxUIDE7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ALTER TYPE mood ADD VALUE 'excited';
ALTER DOMAIN positive_integer SET DEFAULT 1;</pre></div><div class='content'><ul>
<li><strong>Eliminar Tipos de Datos Personalizados:</strong>
<ul>
<li>Puedes eliminar tipos de datos personalizados cuando ya no sean necesarios.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RFJPUCBUWVBFIG1vb2Q7CkRST1AgRE9NQUlOIHBvc2l0aXZlX2ludGVnZXI7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DROP TYPE mood;
DROP DOMAIN positive_integer;</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Los tipos de datos personalizados en PostgreSQL proporcionan una manera poderosa de modelar estructuras de datos complejas y reforzar reglas de negocio directamente dentro de la base de datos. Al comprender y utilizar tipos enumerados, tipos compuestos, tipos de rango y tipos de dominio, puedes crear esquemas de bases de datos más robustos y mantenibles. A medida que avances, también puedes aprovechar funciones que devuelvan tipos compuestos para encapsular lógica compleja y recuperación de datos.</p>
<p>Al dominar los tipos de datos personalizados, estarás bien equipado para manejar una amplia gama de desafíos de modelado de datos en PostgreSQL.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='foreign-data-wrappers'>&#x25C4;Wrappers de Datos Externos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Tipos de Datos Personalizados</a>
	</div>
	<div class='col-4 text-end'>
					<a href='contributing-to-postgresql'>Contribuyendo a PostgreSQL &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
