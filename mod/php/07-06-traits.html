<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traits</title>

    <link rel="alternate" href="https://campusempresa.com/mod/php/07-06-traits" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/php/07-06-traits" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/php/07-06-traits" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/php/07-06-traits" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/php/07-06-traits" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-05-interfaces-abstract-classes' title="Interfaces y Clases Abstractas">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Traits</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='08-01-introduction-databases' title="Introducción a las Bases de Datos">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En PHP, los traits son un mecanismo para reutilizar código en lenguajes de programación con herencia simple, como PHP. Los traits permiten a los desarrolladores definir métodos que pueden ser utilizados en múltiples clases, sin necesidad de herencia múltiple. Esto es especialmente útil para evitar la duplicación de código y para compartir funcionalidades comunes entre diferentes clases.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Trait</strong>: Un conjunto de métodos que pueden ser incluidos en una o más clases.</li>
<li><strong>Uso de Traits</strong>: Se utiliza la palabra clave <code>use</code> dentro de una clase para incluir un trait.</li>
<li><strong>Resolución de Conflictos</strong>: Si dos traits incluidos en una clase tienen métodos con el mismo nombre, se debe resolver el conflicto explícitamente.</li>
</ul>
</div><h1>Definiendo y Usando Traits</h1>
<div class='content'></div><h2>Definición de un Trait</h2>
<div class='content'><p>Un trait se define utilizando la palabra clave <code>trait</code> seguida del nombre del trait y un bloque de código que contiene los métodos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKdHJhaXQgTG9nZ2VyIHsKICAgIHB1YmxpYyBmdW5jdGlvbiBsb2coJG1lc3NhZ2UpIHsKICAgICAgICBlY2hvICJMb2c6ICRtZXNzYWdlIjsKICAgIH0KfQo/Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
trait Logger {
    public function log($message) {
        echo &quot;Log: $message&quot;;
    }
}
?&gt;</pre></div><div class='content'></div><h2>Uso de un Trait en una Clase</h2>
<div class='content'><p>Para usar un trait en una clase, se utiliza la palabra clave <code>use</code> dentro de la definición de la clase.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKY2xhc3MgVXNlciB7CiAgICB1c2UgTG9nZ2VyOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGVVc2VyKCRuYW1lKSB7CiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIGNyZWFyIHVuIHVzdWFyaW8KICAgICAgICAkdGhpcy0+bG9nKCJVc2VyICRuYW1lIGNyZWF0ZWQuIik7CiAgICB9Cn0KCiR1c2VyID0gbmV3IFVzZXIoKTsKJHVzZXItPmNyZWF0ZVVzZXIoIkpvaG4gRG9lIik7Cj8+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
class User {
    use Logger;

    public function createUser($name) {
        // L&oacute;gica para crear un usuario
        $this-&gt;log(&quot;User $name created.&quot;);
    }
}

$user = new User();
$user-&gt;createUser(&quot;John Doe&quot;);
?&gt;</pre></div><div class='content'></div><h2>Ejemplo Práctico</h2>
<div class='content'><p>Supongamos que tenemos dos clases, <code>User</code> y <code>Product</code>, y ambas necesitan la funcionalidad de logging. En lugar de duplicar el código de logging en ambas clases, podemos definir un trait <code>Logger</code> y usarlo en ambas clases.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKdHJhaXQgTG9nZ2VyIHsKICAgIHB1YmxpYyBmdW5jdGlvbiBsb2coJG1lc3NhZ2UpIHsKICAgICAgICBlY2hvICJMb2c6ICRtZXNzYWdlIjsKICAgIH0KfQoKY2xhc3MgVXNlciB7CiAgICB1c2UgTG9nZ2VyOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGVVc2VyKCRuYW1lKSB7CiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIGNyZWFyIHVuIHVzdWFyaW8KICAgICAgICAkdGhpcy0+bG9nKCJVc2VyICRuYW1lIGNyZWF0ZWQuIik7CiAgICB9Cn0KCmNsYXNzIFByb2R1Y3QgewogICAgdXNlIExvZ2dlcjsKCiAgICBwdWJsaWMgZnVuY3Rpb24gY3JlYXRlUHJvZHVjdCgkbmFtZSkgewogICAgICAgIC8vIEzDs2dpY2EgcGFyYSBjcmVhciB1biBwcm9kdWN0bwogICAgICAgICR0aGlzLT5sb2coIlByb2R1Y3QgJG5hbWUgY3JlYXRlZC4iKTsKICAgIH0KfQoKJHVzZXIgPSBuZXcgVXNlcigpOwokdXNlci0+Y3JlYXRlVXNlcigiSm9obiBEb2UiKTsKCiRwcm9kdWN0ID0gbmV3IFByb2R1Y3QoKTsKJHByb2R1Y3QtPmNyZWF0ZVByb2R1Y3QoIkxhcHRvcCIpOwo/Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
trait Logger {
    public function log($message) {
        echo &quot;Log: $message&quot;;
    }
}

class User {
    use Logger;

    public function createUser($name) {
        // L&oacute;gica para crear un usuario
        $this-&gt;log(&quot;User $name created.&quot;);
    }
}

class Product {
    use Logger;

    public function createProduct($name) {
        // L&oacute;gica para crear un producto
        $this-&gt;log(&quot;Product $name created.&quot;);
    }
}

$user = new User();
$user-&gt;createUser(&quot;John Doe&quot;);

$product = new Product();
$product-&gt;createProduct(&quot;Laptop&quot;);
?&gt;</pre></div><div class='content'></div><h1>Resolución de Conflictos</h1>
<div class='content'><p>Si dos traits tienen métodos con el mismo nombre y ambos se usan en la misma clase, se debe resolver el conflicto utilizando la palabra clave <code>insteadof</code> para especificar cuál método debe ser utilizado.</p>
</div><h2>Ejemplo de Resolución de Conflictos</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKdHJhaXQgTG9nZ2VyIHsKICAgIHB1YmxpYyBmdW5jdGlvbiBsb2coJG1lc3NhZ2UpIHsKICAgICAgICBlY2hvICJMb2c6ICRtZXNzYWdlIjsKICAgIH0KfQoKdHJhaXQgRmlsZUxvZ2dlciB7CiAgICBwdWJsaWMgZnVuY3Rpb24gbG9nKCRtZXNzYWdlKSB7CiAgICAgICAgZWNobyAiRmlsZSBsb2c6ICRtZXNzYWdlIjsKICAgIH0KfQoKY2xhc3MgVXNlciB7CiAgICB1c2UgTG9nZ2VyLCBGaWxlTG9nZ2VyIHsKICAgICAgICBGaWxlTG9nZ2VyOjpsb2cgaW5zdGVhZG9mIExvZ2dlcjsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gY3JlYXRlVXNlcigkbmFtZSkgewogICAgICAgIC8vIEzDs2dpY2EgcGFyYSBjcmVhciB1biB1c3VhcmlvCiAgICAgICAgJHRoaXMtPmxvZygiVXNlciAkbmFtZSBjcmVhdGVkLiIpOwogICAgfQp9CgokdXNlciA9IG5ldyBVc2VyKCk7CiR1c2VyLT5jcmVhdGVVc2VyKCJKb2huIERvZSIpOwo/Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
trait Logger {
    public function log($message) {
        echo &quot;Log: $message&quot;;
    }
}

trait FileLogger {
    public function log($message) {
        echo &quot;File log: $message&quot;;
    }
}

class User {
    use Logger, FileLogger {
        FileLogger::log insteadof Logger;
    }

    public function createUser($name) {
        // L&oacute;gica para crear un usuario
        $this-&gt;log(&quot;User $name created.&quot;);
    }
}

$user = new User();
$user-&gt;createUser(&quot;John Doe&quot;);
?&gt;</pre></div><div class='content'><p>En este ejemplo, la clase <code>User</code> usa ambos traits <code>Logger</code> y <code>FileLogger</code>, pero especifica que debe usar el método <code>log</code> de <code>FileLogger</code> en lugar del de <code>Logger</code>.</p>
</div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Definir y Usar un Trait</h2>
<div class='content'><ol>
<li>Define un trait llamado <code>Timestamp</code> que tenga un método <code>getCurrentTimestamp</code> que devuelva la fecha y hora actual.</li>
<li>Crea una clase <code>Order</code> que use el trait <code>Timestamp</code>.</li>
<li>En la clase <code>Order</code>, define un método <code>createOrder</code> que imprima un mensaje con la fecha y hora actual utilizando el método <code>getCurrentTimestamp</code>.</li>
</ol>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKdHJhaXQgVGltZXN0YW1wIHsKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRDdXJyZW50VGltZXN0YW1wKCkgewogICAgICAgIHJldHVybiBkYXRlKCdZLW0tZCBIOmk6cycpOwogICAgfQp9CgpjbGFzcyBPcmRlciB7CiAgICB1c2UgVGltZXN0YW1wOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGVPcmRlcigpIHsKICAgICAgICBlY2hvICJPcmRlciBjcmVhdGVkIGF0ICIgLiAkdGhpcy0+Z2V0Q3VycmVudFRpbWVzdGFtcCgpOwogICAgfQp9Cgokb3JkZXIgPSBuZXcgT3JkZXIoKTsKJG9yZGVyLT5jcmVhdGVPcmRlcigpOwo/Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
trait Timestamp {
    public function getCurrentTimestamp() {
        return date('Y-m-d H:i:s');
    }
}

class Order {
    use Timestamp;

    public function createOrder() {
        echo &quot;Order created at &quot; . $this-&gt;getCurrentTimestamp();
    }
}

$order = new Order();
$order-&gt;createOrder();
?&gt;</pre></div><div class='content'></div><h2>Ejercicio 2: Resolución de Conflictos</h2>
<div class='content'><ol>
<li>Define dos traits, <code>Logger</code> y <code>FileLogger</code>, ambos con un método <code>log</code>.</li>
<li>Crea una clase <code>Product</code> que use ambos traits.</li>
<li>Resuelve el conflicto para que la clase <code>Product</code> use el método <code>log</code> de <code>FileLogger</code>.</li>
</ol>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKdHJhaXQgTG9nZ2VyIHsKICAgIHB1YmxpYyBmdW5jdGlvbiBsb2coJG1lc3NhZ2UpIHsKICAgICAgICBlY2hvICJMb2c6ICRtZXNzYWdlIjsKICAgIH0KfQoKdHJhaXQgRmlsZUxvZ2dlciB7CiAgICBwdWJsaWMgZnVuY3Rpb24gbG9nKCRtZXNzYWdlKSB7CiAgICAgICAgZWNobyAiRmlsZSBsb2c6ICRtZXNzYWdlIjsKICAgIH0KfQoKY2xhc3MgUHJvZHVjdCB7CiAgICB1c2UgTG9nZ2VyLCBGaWxlTG9nZ2VyIHsKICAgICAgICBGaWxlTG9nZ2VyOjpsb2cgaW5zdGVhZG9mIExvZ2dlcjsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gY3JlYXRlUHJvZHVjdCgkbmFtZSkgewogICAgICAgICR0aGlzLT5sb2coIlByb2R1Y3QgJG5hbWUgY3JlYXRlZC4iKTsKICAgIH0KfQoKJHByb2R1Y3QgPSBuZXcgUHJvZHVjdCgpOwokcHJvZHVjdC0+Y3JlYXRlUHJvZHVjdCgiTGFwdG9wIik7Cj8+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
trait Logger {
    public function log($message) {
        echo &quot;Log: $message&quot;;
    }
}

trait FileLogger {
    public function log($message) {
        echo &quot;File log: $message&quot;;
    }
}

class Product {
    use Logger, FileLogger {
        FileLogger::log insteadof Logger;
    }

    public function createProduct($name) {
        $this-&gt;log(&quot;Product $name created.&quot;);
    }
}

$product = new Product();
$product-&gt;createProduct(&quot;Laptop&quot;);
?&gt;</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Los traits en PHP son una herramienta poderosa para reutilizar código y evitar la duplicación. Permiten compartir métodos entre diferentes clases sin necesidad de herencia múltiple. Además, proporcionan mecanismos para resolver conflictos cuando múltiples traits tienen métodos con el mismo nombre. Con la práctica y el uso adecuado, los traits pueden mejorar significativamente la organización y la mantenibilidad del código en proyectos PHP.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-05-interfaces-abstract-classes' title="Interfaces y Clases Abstractas">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='08-01-introduction-databases' title="Introducción a las Bases de Datos">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
