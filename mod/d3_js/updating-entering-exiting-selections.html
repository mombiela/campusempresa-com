<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actualización, Entrada y Salida de Selecciones en D3.js</title>

    <link rel="alternate" href="https://campusempresa.com/mod/d3_js/updating-entering-exiting-selections" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/d3_js/updating-entering-exiting-selections" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/d3_js/updating-entering-exiting-selections" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/d3_js/updating-entering-exiting-selections" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/d3_js/updating-entering-exiting-selections" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='binding-data-to-elements'>&#x25C4;Vinculando Datos a Elementos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Actualización, Entrada y Salida de Selecciones en D3.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-svgs'>Introducción a los SVGs &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En esta sección, exploraremos cómo gestionar documentos impulsados por datos utilizando D3.js mediante la actualización, entrada y salida de selecciones. Estos conceptos son fundamentales para crear visualizaciones dinámicas que respondan a cambios en los datos.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Selecciones</strong>: D3.js utiliza selecciones para vincular datos a elementos del DOM.</li>
<li><strong>Selección de Entrada</strong>: Maneja puntos de datos que son nuevos y necesitan ser añadidos al DOM.</li>
<li><strong>Selección de Actualización</strong>: Maneja puntos de datos que ya existen en el DOM y necesitan ser actualizados.</li>
<li><strong>Selección de Salida</strong>: Maneja puntos de datos que ya no existen en los datos y necesitan ser eliminados del DOM.</li>
</ul>
</div><h1>Selecciones en D3.js</h1>
<div class='content'><p>Las selecciones en D3.js se utilizan para vincular datos a elementos del DOM. Esta es la base para crear visualizaciones dinámicas.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gU2VsZWNjaW9uYXIgdG9kb3MgbG9zIGPDrXJjdWxvcyB5IHZpbmN1bGFyIGRhdG9zIGEgZWxsb3MKY29uc3QgY2lyY2xlcyA9IGQzLnNlbGVjdEFsbCgnY2lyY2xlJykuZGF0YShkYXRhKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Seleccionar todos los c&iacute;rculos y vincular datos a ellos
const circles = d3.selectAll('circle').data(data);</pre></div><div class='content'></div><h1>Selección de Entrada</h1>
<div class='content'><p>La selección de entrada se utiliza para crear nuevos elementos para puntos de datos entrantes que aún no tienen elementos correspondientes en el DOM.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQXJyYXkgZGUgZGF0b3MKY29uc3QgZGF0YSA9IFszMCwgNzAsIDExMF07CgovLyBTZWxlY2Npb25hciB0b2RvcyBsb3MgY8OtcmN1bG9zIHkgdmluY3VsYXIgZGF0b3MKY29uc3QgY2lyY2xlcyA9IGQzLnNlbGVjdCgnc3ZnJykuc2VsZWN0QWxsKCdjaXJjbGUnKS5kYXRhKGRhdGEpOwoKLy8gU2VsZWNjacOzbiBkZSBlbnRyYWRhOiBjcmVhciBudWV2b3MgY8OtcmN1bG9zIHBhcmEgbnVldm9zIHB1bnRvcyBkZSBkYXRvcwpjaXJjbGVzLmVudGVyKCkKICAuYXBwZW5kKCdjaXJjbGUnKQogIC5hdHRyKCdjeCcsIChkLCBpKSA9PiAoaSArIDEpICogNTApCiAgLmF0dHIoJ2N5JywgNTApCiAgLmF0dHIoJ3InLCBkID0+IGQgLyAyKQogIC5hdHRyKCdmaWxsJywgJ2JsdWUnKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Array de datos
const data = [30, 70, 110];

// Seleccionar todos los c&iacute;rculos y vincular datos
const circles = d3.select('svg').selectAll('circle').data(data);

// Selecci&oacute;n de entrada: crear nuevos c&iacute;rculos para nuevos puntos de datos
circles.enter()
  .append('circle')
  .attr('cx', (d, i) =&gt; (i + 1) * 50)
  .attr('cy', 50)
  .attr('r', d =&gt; d / 2)
  .attr('fill', 'blue');</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li>El array <code>data</code> contiene los puntos de datos.</li>
<li><code>selectAll('circle')</code> selecciona todos los elementos de círculo.</li>
<li><code>data(data)</code> vincula los datos a la selección.</li>
<li><code>enter()</code> crea una selección para puntos de datos que no tienen elementos correspondientes en el DOM.</li>
<li><code>append('circle')</code> crea nuevos elementos de círculo para cada nuevo punto de datos.</li>
</ul>
</div><h1>Selección de Actualización</h1>
<div class='content'><p>La selección de actualización se utiliza para modificar elementos existentes del DOM para reflejar cambios en los datos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQXJyYXkgZGUgZGF0b3MKY29uc3QgZGF0YSA9IFszMCwgNzAsIDExMF07CgovLyBTZWxlY2Npb25hciB0b2RvcyBsb3MgY8OtcmN1bG9zIHkgdmluY3VsYXIgZGF0b3MKY29uc3QgY2lyY2xlcyA9IGQzLnNlbGVjdCgnc3ZnJykuc2VsZWN0QWxsKCdjaXJjbGUnKS5kYXRhKGRhdGEpOwoKLy8gU2VsZWNjacOzbiBkZSBhY3R1YWxpemFjacOzbjogYWN0dWFsaXphciBjw61yY3Vsb3MgZXhpc3RlbnRlcwpjaXJjbGVzCiAgLmF0dHIoJ3InLCBkID0+IGQgLyAyKQogIC5hdHRyKCdmaWxsJywgJ2dyZWVuJyk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Array de datos
const data = [30, 70, 110];

// Seleccionar todos los c&iacute;rculos y vincular datos
const circles = d3.select('svg').selectAll('circle').data(data);

// Selecci&oacute;n de actualizaci&oacute;n: actualizar c&iacute;rculos existentes
circles
  .attr('r', d =&gt; d / 2)
  .attr('fill', 'green');</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li>La selección <code>circles</code> se actualiza con nuevos atributos.</li>
<li><code>attr('r', d =&gt; d / 2)</code> actualiza el radio de cada círculo basado en los datos.</li>
<li><code>attr('fill', 'green')</code> cambia el color de relleno de los círculos.</li>
</ul>
</div><h1>Selección de Salida</h1>
<div class='content'><p>La selección de salida se utiliza para eliminar elementos del DOM que ya no tienen puntos de datos correspondientes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQXJyYXkgZGUgZGF0b3MKY29uc3QgZGF0YSA9IFszMCwgNzBdOwoKLy8gU2VsZWNjaW9uYXIgdG9kb3MgbG9zIGPDrXJjdWxvcyB5IHZpbmN1bGFyIGRhdG9zCmNvbnN0IGNpcmNsZXMgPSBkMy5zZWxlY3QoJ3N2ZycpLnNlbGVjdEFsbCgnY2lyY2xlJykuZGF0YShkYXRhKTsKCi8vIFNlbGVjY2nDs24gZGUgc2FsaWRhOiBlbGltaW5hciBjw61yY3Vsb3MgcXVlIHlhIG5vIHRpZW5lbiBkYXRvcwpjaXJjbGVzLmV4aXQoKS5yZW1vdmUoKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Array de datos
const data = [30, 70];

// Seleccionar todos los c&iacute;rculos y vincular datos
const circles = d3.select('svg').selectAll('circle').data(data);

// Selecci&oacute;n de salida: eliminar c&iacute;rculos que ya no tienen datos
circles.exit().remove();</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li>La selección <code>circles</code> está vinculada al nuevo array de datos.</li>
<li><code>exit()</code> crea una selección para elementos del DOM que ya no tienen puntos de datos correspondientes.</li>
<li><code>remove()</code> elimina estos elementos del DOM.</li>
</ul>
</div><h1>Ejemplo Combinado</h1>
<div class='content'><p>Vamos a combinar las selecciones de entrada, actualización y salida en un solo ejemplo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQXJyYXkgZGUgZGF0b3MgaW5pY2lhbApsZXQgZGF0YSA9IFszMCwgNzAsIDExMF07CgovLyBGdW5jacOzbiBwYXJhIGFjdHVhbGl6YXIgbGEgdmlzdWFsaXphY2nDs24KZnVuY3Rpb24gdXBkYXRlKGRhdGEpIHsKICAvLyBTZWxlY2Npb25hciB0b2RvcyBsb3MgY8OtcmN1bG9zIHkgdmluY3VsYXIgZGF0b3MKICBjb25zdCBjaXJjbGVzID0gZDMuc2VsZWN0KCdzdmcnKS5zZWxlY3RBbGwoJ2NpcmNsZScpLmRhdGEoZGF0YSk7CgogIC8vIFNlbGVjY2nDs24gZGUgZW50cmFkYTogY3JlYXIgbnVldm9zIGPDrXJjdWxvcyBwYXJhIG51ZXZvcyBwdW50b3MgZGUgZGF0b3MKICBjaXJjbGVzLmVudGVyKCkKICAgIC5hcHBlbmQoJ2NpcmNsZScpCiAgICAuYXR0cignY3gnLCAoZCwgaSkgPT4gKGkgKyAxKSAqIDUwKQogICAgLmF0dHIoJ2N5JywgNTApCiAgICAuYXR0cigncicsIGQgPT4gZCAvIDIpCiAgICAuYXR0cignZmlsbCcsICdibHVlJyk7CgogIC8vIFNlbGVjY2nDs24gZGUgYWN0dWFsaXphY2nDs246IGFjdHVhbGl6YXIgY8OtcmN1bG9zIGV4aXN0ZW50ZXMKICBjaXJjbGVzCiAgICAuYXR0cigncicsIGQgPT4gZCAvIDIpCiAgICAuYXR0cignZmlsbCcsICdncmVlbicpOwoKICAvLyBTZWxlY2Npw7NuIGRlIHNhbGlkYTogZWxpbWluYXIgY8OtcmN1bG9zIHF1ZSB5YSBubyB0aWVuZW4gZGF0b3MKICBjaXJjbGVzLmV4aXQoKS5yZW1vdmUoKTsKfQoKLy8gUmVuZGVyaXphZG8gaW5pY2lhbAp1cGRhdGUoZGF0YSk7CgovLyBBY3R1YWxpemFyIGRhdG9zIHkgdm9sdmVyIGEgcmVuZGVyaXphciBkZXNwdcOpcyBkZSAyIHNlZ3VuZG9zCnNldFRpbWVvdXQoKCkgPT4gewogIGRhdGEgPSBbNTAsIDkwXTsKICB1cGRhdGUoZGF0YSk7Cn0sIDIwMDApOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Array de datos inicial
let data = [30, 70, 110];

// Funci&oacute;n para actualizar la visualizaci&oacute;n
function update(data) {
  // Seleccionar todos los c&iacute;rculos y vincular datos
  const circles = d3.select('svg').selectAll('circle').data(data);

  // Selecci&oacute;n de entrada: crear nuevos c&iacute;rculos para nuevos puntos de datos
  circles.enter()
    .append('circle')
    .attr('cx', (d, i) =&gt; (i + 1) * 50)
    .attr('cy', 50)
    .attr('r', d =&gt; d / 2)
    .attr('fill', 'blue');

  // Selecci&oacute;n de actualizaci&oacute;n: actualizar c&iacute;rculos existentes
  circles
    .attr('r', d =&gt; d / 2)
    .attr('fill', 'green');

  // Selecci&oacute;n de salida: eliminar c&iacute;rculos que ya no tienen datos
  circles.exit().remove();
}

// Renderizado inicial
update(data);

// Actualizar datos y volver a renderizar despu&eacute;s de 2 segundos
setTimeout(() =&gt; {
  data = [50, 90];
  update(data);
}, 2000);</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li>La función <code>update</code> maneja las selecciones de entrada, actualización y salida.</li>
<li>Inicialmente, el array <code>data</code> contiene tres puntos de datos.</li>
<li>Después de 2 segundos, el array <code>data</code> se actualiza para contener dos puntos de datos, y la función <code>update</code> se llama nuevamente para reflejar estos cambios en la visualización.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Entender cómo gestionar selecciones en D3.js es crucial para crear visualizaciones dinámicas e interactivas. Al dominar las selecciones de entrada, actualización y salida, puedes asegurarte de que tus visualizaciones reflejen con precisión los cambios en los datos subyacentes. Practica estos conceptos con diferentes conjuntos de datos para volverte competente en la manipulación de documentos impulsados por datos utilizando D3.js.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='binding-data-to-elements'>&#x25C4;Vinculando Datos a Elementos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Actualización, Entrada y Salida de Selecciones en D3.js</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-svgs'>Introducción a los SVGs &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
