<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paquete Provider</title>

    <link rel="alternate" href="https://campusempresa.com/mod/flutter/04-03-provider-package" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/flutter/04-03-provider-package" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/flutter/04-03-provider-package" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/flutter/04-03-provider-package" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/flutter/04-03-provider-package" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-setstate-and-inheritedwidget' title="setState e InheritedWidget">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Paquete Provider</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-riverpod' title="Riverpod">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>El paquete <code>provider</code> es una solución popular para la gestión de estado en Flutter. Es fácil de usar y se integra bien con la arquitectura de Flutter, proporcionando una forma eficiente de compartir y gestionar el estado de la aplicación.</p>
</div><h1>¿Qué es Provider?</h1>
<div class='content'><p><code>provider</code> es un paquete que facilita la gestión de estado y la inyección de dependencias en Flutter. Utiliza el patrón de diseño de Inversión de Dependencias para proporcionar objetos a través del árbol de widgets de Flutter.</p>
</div><h2>Ventajas de usar Provider:</h2>
<div class='content'><ul>
<li><strong>Simplicidad</strong>: Es fácil de entender y usar.</li>
<li><strong>Escalabilidad</strong>: Adecuado tanto para aplicaciones pequeñas como grandes.</li>
<li><strong>Integración</strong>: Se integra perfectamente con el ciclo de vida de los widgets de Flutter.</li>
</ul>
</div><h1>Instalación</h1>
<div class='content'><p>Para usar <code>provider</code>, primero debes agregarlo a tu archivo <code>pubspec.yaml</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzOgogIGZsdXR0ZXI6CiAgICBzZGs6IGZsdXR0ZXIKICBwcm92aWRlcjogXjYuMC4w"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies:
  flutter:
    sdk: flutter
  provider: ^6.0.0</pre></div><div class='content'><p>Luego, ejecuta <code>flutter pub get</code> para instalar el paquete.</p>
</div><h1>Conceptos Básicos</h1>
<div class='content'></div><h2>ChangeNotifier</h2>
<div class='content'><p><code>ChangeNotifier</code> es una clase que proporciona una forma de notificar a los oyentes cuando hay cambios en el estado. Es la base de muchos patrones de gestión de estado en Flutter.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CgpjbGFzcyBDb3VudGVyIHdpdGggQ2hhbmdlTm90aWZpZXIgewogIGludCBfY291bnQgPSAwOwoKICBpbnQgZ2V0IGNvdW50ID0+IF9jb3VudDsKCiAgdm9pZCBpbmNyZW1lbnQoKSB7CiAgICBfY291bnQrKzsKICAgIG5vdGlmeUxpc3RlbmVycygpOwogIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:flutter/material.dart';

class Counter with ChangeNotifier {
  int _count = 0;

  int get count =&gt; _count;

  void increment() {
    _count++;
    notifyListeners();
  }
}</pre></div><div class='content'></div><h2>ChangeNotifierProvider</h2>
<div class='content'><p><code>ChangeNotifierProvider</code> es un widget que proporciona una instancia de <code>ChangeNotifier</code> a su árbol de widgets descendente.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAncGFja2FnZTpwcm92aWRlci9wcm92aWRlci5kYXJ0JzsKCnZvaWQgbWFpbigpIHsKICBydW5BcHAoCiAgICBDaGFuZ2VOb3RpZmllclByb3ZpZGVyKAogICAgICBjcmVhdGU6IChjb250ZXh0KSA9PiBDb3VudGVyKCksCiAgICAgIGNoaWxkOiBNeUFwcCgpLAogICAgKSwKICApOwp9CgpjbGFzcyBNeUFwcCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gTWF0ZXJpYWxBcHAoCiAgICAgIGhvbWU6IENvdW50ZXJTY3JlZW4oKSwKICAgICk7CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:flutter/material.dart';
import 'package:provider/provider.dart';

void main() {
  runApp(
    ChangeNotifierProvider(
      create: (context) =&gt; Counter(),
      child: MyApp(),
    ),
  );
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: CounterScreen(),
    );
  }
}</pre></div><div class='content'></div><h2>Consumer</h2>
<div class='content'><p><code>Consumer</code> es un widget que escucha los cambios en el <code>ChangeNotifier</code> y reconstruye su árbol de widgets cuando hay cambios.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ291bnRlclNjcmVlbiBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gU2NhZmZvbGQoCiAgICAgIGFwcEJhcjogQXBwQmFyKAogICAgICAgIHRpdGxlOiBUZXh0KCdQcm92aWRlciBFeGFtcGxlJyksCiAgICAgICksCiAgICAgIGJvZHk6IENlbnRlcigKICAgICAgICBjaGlsZDogQ29uc3VtZXI8Q291bnRlcj4oCiAgICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgY291bnRlciwgY2hpbGQpIHsKICAgICAgICAgICAgcmV0dXJuIFRleHQoCiAgICAgICAgICAgICAgJyR7Y291bnRlci5jb3VudH0nLAogICAgICAgICAgICAgIHN0eWxlOiBUZXh0U3R5bGUoZm9udFNpemU6IDQ4KSwKICAgICAgICAgICAgKTsKICAgICAgICAgIH0sCiAgICAgICAgKSwKICAgICAgKSwKICAgICAgZmxvYXRpbmdBY3Rpb25CdXR0b246IEZsb2F0aW5nQWN0aW9uQnV0dG9uKAogICAgICAgIG9uUHJlc3NlZDogKCkgewogICAgICAgICAgY29udGV4dC5yZWFkPENvdW50ZXI+KCkuaW5jcmVtZW50KCk7CiAgICAgICAgfSwKICAgICAgICBjaGlsZDogSWNvbihJY29ucy5hZGQpLAogICAgICApLAogICAgKTsKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class CounterScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Provider Example'),
      ),
      body: Center(
        child: Consumer&lt;Counter&gt;(
          builder: (context, counter, child) {
            return Text(
              '${counter.count}',
              style: TextStyle(fontSize: 48),
            );
          },
        ),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: () {
          context.read&lt;Counter&gt;().increment();
        },
        child: Icon(Icons.add),
      ),
    );
  }
}</pre></div><div class='content'></div><h1>Ejemplo Completo</h1>
<div class='content'><p>Aquí tienes un ejemplo completo que muestra cómo usar <code>provider</code> para gestionar el estado de un contador:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAncGFja2FnZTpwcm92aWRlci9wcm92aWRlci5kYXJ0JzsKCnZvaWQgbWFpbigpIHsKICBydW5BcHAoCiAgICBDaGFuZ2VOb3RpZmllclByb3ZpZGVyKAogICAgICBjcmVhdGU6IChjb250ZXh0KSA9PiBDb3VudGVyKCksCiAgICAgIGNoaWxkOiBNeUFwcCgpLAogICAgKSwKICApOwp9CgpjbGFzcyBDb3VudGVyIHdpdGggQ2hhbmdlTm90aWZpZXIgewogIGludCBfY291bnQgPSAwOwoKICBpbnQgZ2V0IGNvdW50ID0+IF9jb3VudDsKCiAgdm9pZCBpbmNyZW1lbnQoKSB7CiAgICBfY291bnQrKzsKICAgIG5vdGlmeUxpc3RlbmVycygpOwogIH0KfQoKY2xhc3MgTXlBcHAgZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIEBvdmVycmlkZQogIFdpZGdldCBidWlsZChCdWlsZENvbnRleHQgY29udGV4dCkgewogICAgcmV0dXJuIE1hdGVyaWFsQXBwKAogICAgICBob21lOiBDb3VudGVyU2NyZWVuKCksCiAgICApOwogIH0KfQoKY2xhc3MgQ291bnRlclNjcmVlbiBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gU2NhZmZvbGQoCiAgICAgIGFwcEJhcjogQXBwQmFyKAogICAgICAgIHRpdGxlOiBUZXh0KCdQcm92aWRlciBFeGFtcGxlJyksCiAgICAgICksCiAgICAgIGJvZHk6IENlbnRlcigKICAgICAgICBjaGlsZDogQ29uc3VtZXI8Q291bnRlcj4oCiAgICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgY291bnRlciwgY2hpbGQpIHsKICAgICAgICAgICAgcmV0dXJuIFRleHQoCiAgICAgICAgICAgICAgJyR7Y291bnRlci5jb3VudH0nLAogICAgICAgICAgICAgIHN0eWxlOiBUZXh0U3R5bGUoZm9udFNpemU6IDQ4KSwKICAgICAgICAgICAgKTsKICAgICAgICAgIH0sCiAgICAgICAgKSwKICAgICAgKSwKICAgICAgZmxvYXRpbmdBY3Rpb25CdXR0b246IEZsb2F0aW5nQWN0aW9uQnV0dG9uKAogICAgICAgIG9uUHJlc3NlZDogKCkgewogICAgICAgICAgY29udGV4dC5yZWFkPENvdW50ZXI+KCkuaW5jcmVtZW50KCk7CiAgICAgICAgfSwKICAgICAgICBjaGlsZDogSWNvbihJY29ucy5hZGQpLAogICAgICApLAogICAgKTsKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:flutter/material.dart';
import 'package:provider/provider.dart';

void main() {
  runApp(
    ChangeNotifierProvider(
      create: (context) =&gt; Counter(),
      child: MyApp(),
    ),
  );
}

class Counter with ChangeNotifier {
  int _count = 0;

  int get count =&gt; _count;

  void increment() {
    _count++;
    notifyListeners();
  }
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: CounterScreen(),
    );
  }
}

class CounterScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Provider Example'),
      ),
      body: Center(
        child: Consumer&lt;Counter&gt;(
          builder: (context, counter, child) {
            return Text(
              '${counter.count}',
              style: TextStyle(fontSize: 48),
            );
          },
        ),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: () {
          context.read&lt;Counter&gt;().increment();
        },
        child: Icon(Icons.add),
      ),
    );
  }
}</pre></div><div class='content'></div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Contador Decremental</h2>
<div class='content'><p>Modifica el ejemplo anterior para que el contador también pueda decrementar. Añade un botón adicional para decrementar el contador.</p>
<h4>Solución:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ291bnRlciB3aXRoIENoYW5nZU5vdGlmaWVyIHsKICBpbnQgX2NvdW50ID0gMDsKCiAgaW50IGdldCBjb3VudCA9PiBfY291bnQ7CgogIHZvaWQgaW5jcmVtZW50KCkgewogICAgX2NvdW50Kys7CiAgICBub3RpZnlMaXN0ZW5lcnMoKTsKICB9CgogIHZvaWQgZGVjcmVtZW50KCkgewogICAgX2NvdW50LS07CiAgICBub3RpZnlMaXN0ZW5lcnMoKTsKICB9Cn0KCmNsYXNzIENvdW50ZXJTY3JlZW4gZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIEBvdmVycmlkZQogIFdpZGdldCBidWlsZChCdWlsZENvbnRleHQgY29udGV4dCkgewogICAgcmV0dXJuIFNjYWZmb2xkKAogICAgICBhcHBCYXI6IEFwcEJhcigKICAgICAgICB0aXRsZTogVGV4dCgnUHJvdmlkZXIgRXhhbXBsZScpLAogICAgICApLAogICAgICBib2R5OiBDZW50ZXIoCiAgICAgICAgY2hpbGQ6IENvbnN1bWVyPENvdW50ZXI+KAogICAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIGNvdW50ZXIsIGNoaWxkKSB7CiAgICAgICAgICAgIHJldHVybiBUZXh0KAogICAgICAgICAgICAgICcke2NvdW50ZXIuY291bnR9JywKICAgICAgICAgICAgICBzdHlsZTogVGV4dFN0eWxlKGZvbnRTaXplOiA0OCksCiAgICAgICAgICAgICk7CiAgICAgICAgICB9LAogICAgICAgICksCiAgICAgICksCiAgICAgIGZsb2F0aW5nQWN0aW9uQnV0dG9uOiBDb2x1bW4oCiAgICAgICAgbWFpbkF4aXNBbGlnbm1lbnQ6IE1haW5BeGlzQWxpZ25tZW50LmVuZCwKICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgRmxvYXRpbmdBY3Rpb25CdXR0b24oCiAgICAgICAgICAgIG9uUHJlc3NlZDogKCkgewogICAgICAgICAgICAgIGNvbnRleHQucmVhZDxDb3VudGVyPigpLmluY3JlbWVudCgpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjaGlsZDogSWNvbihJY29ucy5hZGQpLAogICAgICAgICAgKSwKICAgICAgICAgIFNpemVkQm94KGhlaWdodDogMTApLAogICAgICAgICAgRmxvYXRpbmdBY3Rpb25CdXR0b24oCiAgICAgICAgICAgIG9uUHJlc3NlZDogKCkgewogICAgICAgICAgICAgIGNvbnRleHQucmVhZDxDb3VudGVyPigpLmRlY3JlbWVudCgpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjaGlsZDogSWNvbihJY29ucy5yZW1vdmUpLAogICAgICAgICAgKSwKICAgICAgICBdLAogICAgICApLAogICAgKTsKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Counter with ChangeNotifier {
  int _count = 0;

  int get count =&gt; _count;

  void increment() {
    _count++;
    notifyListeners();
  }

  void decrement() {
    _count--;
    notifyListeners();
  }
}

class CounterScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Provider Example'),
      ),
      body: Center(
        child: Consumer&lt;Counter&gt;(
          builder: (context, counter, child) {
            return Text(
              '${counter.count}',
              style: TextStyle(fontSize: 48),
            );
          },
        ),
      ),
      floatingActionButton: Column(
        mainAxisAlignment: MainAxisAlignment.end,
        children: [
          FloatingActionButton(
            onPressed: () {
              context.read&lt;Counter&gt;().increment();
            },
            child: Icon(Icons.add),
          ),
          SizedBox(height: 10),
          FloatingActionButton(
            onPressed: () {
              context.read&lt;Counter&gt;().decrement();
            },
            child: Icon(Icons.remove),
          ),
        ],
      ),
    );
  }
}</pre></div><div class='content'></div><h2>Ejercicio 2: Estado de Autenticación</h2>
<div class='content'><p>Crea una clase <code>Auth</code> que gestione el estado de autenticación (logueado/no logueado) y usa <code>provider</code> para mostrar diferentes pantallas dependiendo del estado de autenticación.</p>
<h4>Solución:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQXV0aCB3aXRoIENoYW5nZU5vdGlmaWVyIHsKICBib29sIF9pc0xvZ2dlZEluID0gZmFsc2U7CgogIGJvb2wgZ2V0IGlzTG9nZ2VkSW4gPT4gX2lzTG9nZ2VkSW47CgogIHZvaWQgbG9naW4oKSB7CiAgICBfaXNMb2dnZWRJbiA9IHRydWU7CiAgICBub3RpZnlMaXN0ZW5lcnMoKTsKICB9CgogIHZvaWQgbG9nb3V0KCkgewogICAgX2lzTG9nZ2VkSW4gPSBmYWxzZTsKICAgIG5vdGlmeUxpc3RlbmVycygpOwogIH0KfQoKY2xhc3MgTXlBcHAgZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIEBvdmVycmlkZQogIFdpZGdldCBidWlsZChCdWlsZENvbnRleHQgY29udGV4dCkgewogICAgcmV0dXJuIE1hdGVyaWFsQXBwKAogICAgICBob21lOiBDb25zdW1lcjxBdXRoPigKICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgYXV0aCwgY2hpbGQpIHsKICAgICAgICAgIHJldHVybiBhdXRoLmlzTG9nZ2VkSW4gPyBIb21lU2NyZWVuKCkgOiBMb2dpblNjcmVlbigpOwogICAgICAgIH0sCiAgICAgICksCiAgICApOwogIH0KfQoKY2xhc3MgTG9naW5TY3JlZW4gZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIEBvdmVycmlkZQogIFdpZGdldCBidWlsZChCdWlsZENvbnRleHQgY29udGV4dCkgewogICAgcmV0dXJuIFNjYWZmb2xkKAogICAgICBhcHBCYXI6IEFwcEJhcigKICAgICAgICB0aXRsZTogVGV4dCgnTG9naW4nKSwKICAgICAgKSwKICAgICAgYm9keTogQ2VudGVyKAogICAgICAgIGNoaWxkOiBFbGV2YXRlZEJ1dHRvbigKICAgICAgICAgIG9uUHJlc3NlZDogKCkgewogICAgICAgICAgICBjb250ZXh0LnJlYWQ8QXV0aD4oKS5sb2dpbigpOwogICAgICAgICAgfSwKICAgICAgICAgIGNoaWxkOiBUZXh0KCdMb2dpbicpLAogICAgICAgICksCiAgICAgICksCiAgICApOwogIH0KfQoKY2xhc3MgSG9tZVNjcmVlbiBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gU2NhZmZvbGQoCiAgICAgIGFwcEJhcjogQXBwQmFyKAogICAgICAgIHRpdGxlOiBUZXh0KCdIb21lJyksCiAgICAgICAgYWN0aW9uczogWwogICAgICAgICAgSWNvbkJ1dHRvbigKICAgICAgICAgICAgaWNvbjogSWNvbihJY29ucy5sb2dvdXQpLAogICAgICAgICAgICBvblByZXNzZWQ6ICgpIHsKICAgICAgICAgICAgICBjb250ZXh0LnJlYWQ8QXV0aD4oKS5sb2dvdXQoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICksCiAgICAgICAgXSwKICAgICAgKSwKICAgICAgYm9keTogQ2VudGVyKAogICAgICAgIGNoaWxkOiBUZXh0KCdXZWxjb21lIEhvbWUhJyksCiAgICAgICksCiAgICApOwogIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Auth with ChangeNotifier {
  bool _isLoggedIn = false;

  bool get isLoggedIn =&gt; _isLoggedIn;

  void login() {
    _isLoggedIn = true;
    notifyListeners();
  }

  void logout() {
    _isLoggedIn = false;
    notifyListeners();
  }
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Consumer&lt;Auth&gt;(
        builder: (context, auth, child) {
          return auth.isLoggedIn ? HomeScreen() : LoginScreen();
        },
      ),
    );
  }
}

class LoginScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Login'),
      ),
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            context.read&lt;Auth&gt;().login();
          },
          child: Text('Login'),
        ),
      ),
    );
  }
}

class HomeScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Home'),
        actions: [
          IconButton(
            icon: Icon(Icons.logout),
            onPressed: () {
              context.read&lt;Auth&gt;().logout();
            },
          ),
        ],
      ),
      body: Center(
        child: Text('Welcome Home!'),
      ),
    );
  }
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos aprendido cómo usar el paquete <code>provider</code> para gestionar el estado en Flutter. Hemos cubierto los conceptos básicos, incluyendo <code>ChangeNotifier</code>, <code>ChangeNotifierProvider</code>, y <code>Consumer</code>. También hemos visto ejemplos prácticos y ejercicios para reforzar los conceptos aprendidos.</p>
<p>En el siguiente módulo, exploraremos más sobre la gestión de estado en Flutter, incluyendo otros paquetes y patrones como <code>Riverpod</code> y el patrón <code>Bloc</code>.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-setstate-and-inheritedwidget' title="setState e InheritedWidget">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-riverpod' title="Riverpod">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
