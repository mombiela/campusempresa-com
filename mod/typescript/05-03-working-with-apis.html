<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trabajando con APIs</title>

    <link rel="alternate" href="https://campusempresa.com/mod/typescript/05-03-working-with-apis" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/typescript/05-03-working-with-apis" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/typescript/05-03-working-with-apis" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/typescript/05-03-working-with-apis" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/typescript/05-03-working-with-apis" class="px-2">CA</a>
<br>
			<cite>Construyendo la sociedad de hoy y del mañana</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Contenido del curso</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competencias técnicas</a>
				<a href="/all/conocimientos">Conocimientos</a>
				<a href="/all/soft_skills">Competencias sociales</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-02-async-await' title="Async/Await">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Trabajando con APIs</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-04-error-handling' title="Manejo de Errores">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En este tema, aprenderemos cómo trabajar con APIs en TypeScript. Las APIs (Interfaces de Programación de Aplicaciones) son esenciales para la comunicación entre diferentes sistemas y servicios. TypeScript, con su tipado estático, puede ayudarnos a manejar las respuestas de las APIs de manera más segura y eficiente.</p>
</div><h1><p>Contenido</p>
</h1>
<div class='content'><ol>
<li><a href="#introducción-a-las-apis">Introducción a las APIs</a></li>
<li><a href="#realizando-peticiones-http">Realizando Peticiones HTTP</a></li>
<li><a href="#tipando-respuestas-de-apis">Tipando Respuestas de APIs</a></li>
<li><a href="#ejemplo-práctico">Ejemplo Práctico</a></li>
<li><a href="#ejercicios-prácticos">Ejercicios Prácticos</a></li>
<li><a href="#conclusión">Conclusión</a></li>
</ol>
</div><h1><p>Introducción a las APIs</p>
</h1>
<div class='content'><p>Las APIs permiten que diferentes aplicaciones se comuniquen entre sí. En el contexto de aplicaciones web, las APIs RESTful son muy comunes. Estas APIs utilizan métodos HTTP (GET, POST, PUT, DELETE) para realizar operaciones sobre recursos.</p>
</div><h1><p>Realizando Peticiones HTTP</p>
</h1>
<div class='content'><p>Para realizar peticiones HTTP en TypeScript, podemos usar la API Fetch, que es nativa en los navegadores modernos. También podemos usar bibliotecas como Axios para simplificar el manejo de peticiones.</p>
</div><h2><p>Usando Fetch</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUmVhbGl6YW5kbyB1bmEgcGV0aWNpw7NuIEdFVCB1c2FuZG8gRmV0Y2gKZmV0Y2goJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tL2RhdGEnKQogIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAudGhlbihkYXRhID0+IHsKICAgIGNvbnNvbGUubG9nKGRhdGEpOwogIH0pCiAgLmNhdGNoKGVycm9yID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTsKICB9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Realizando una petici&oacute;n GET usando Fetch
fetch('https://api.example.com/data')
  .then(response =&gt; response.json())
  .then(data =&gt; {
    console.log(data);
  })
  .catch(error =&gt; {
    console.error('Error:', error);
  });</pre></div><div class='content'></div><h2><p>Usando Axios</p>
</h2>
<div class='content'><p>Primero, instala Axios:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgYXhpb3M="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install axios</pre></div><div class='content'><p>Luego, puedes usar Axios de la siguiente manera:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCi8vIFJlYWxpemFuZG8gdW5hIHBldGljacOzbiBHRVQgdXNhbmRvIEF4aW9zCmF4aW9zLmdldCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScpCiAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgfSkKICAuY2F0Y2goZXJyb3IgPT4gewogICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOwogIH0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import axios from 'axios';

// Realizando una petici&oacute;n GET usando Axios
axios.get('https://api.example.com/data')
  .then(response =&gt; {
    console.log(response.data);
  })
  .catch(error =&gt; {
    console.error('Error:', error);
  });</pre></div><div class='content'></div><h1><p>Tipando Respuestas de APIs</p>
</h1>
<div class='content'><p>Una de las ventajas de TypeScript es que podemos definir tipos para las respuestas de las APIs, lo que nos ayuda a evitar errores y a tener un código más robusto.</p>
</div><h2><p>Definiendo Tipos</p>
</h2>
<div class='content'><p>Supongamos que la API devuelve un objeto con la siguiente estructura:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJpZCI6IDEsCiAgIm5hbWUiOiAiSm9obiBEb2UiLAogICJlbWFpbCI6ICJqb2huLmRvZUBleGFtcGxlLmNvbSIKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;id&quot;: 1,
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;email&quot;: &quot;john.doe@example.com&quot;
}</pre></div><div class='content'><p>Podemos definir un tipo para esta respuesta en TypeScript:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50ZXJmYWNlIFVzZXIgewogIGlkOiBudW1iZXI7CiAgbmFtZTogc3RyaW5nOwogIGVtYWlsOiBzdHJpbmc7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>interface User {
  id: number;
  name: string;
  email: string;
}</pre></div><div class='content'></div><h2><p>Usando el Tipo en la Petición</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmludGVyZmFjZSBVc2VyIHsKICBpZDogbnVtYmVyOwogIG5hbWU6IHN0cmluZzsKICBlbWFpbDogc3RyaW5nOwp9CgpheGlvcy5nZXQ8VXNlcj4oJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tL3VzZXIvMScpCiAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgY29uc3QgdXNlcjogVXNlciA9IHJlc3BvbnNlLmRhdGE7CiAgICBjb25zb2xlLmxvZyh1c2VyLm5hbWUpOwogIH0pCiAgLmNhdGNoKGVycm9yID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTsKICB9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import axios from 'axios';

interface User {
  id: number;
  name: string;
  email: string;
}

axios.get&lt;User&gt;('https://api.example.com/user/1')
  .then(response =&gt; {
    const user: User = response.data;
    console.log(user.name);
  })
  .catch(error =&gt; {
    console.error('Error:', error);
  });</pre></div><div class='content'></div><h1><p>Ejemplo Práctico</p>
</h1>
<div class='content'><p>Vamos a crear un ejemplo práctico donde realizamos una petición a una API pública y mostramos los datos en la consola.</p>
</div><h2><p>Paso 1: Definir el Tipo</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50ZXJmYWNlIFBvc3QgewogIHVzZXJJZDogbnVtYmVyOwogIGlkOiBudW1iZXI7CiAgdGl0bGU6IHN0cmluZzsKICBib2R5OiBzdHJpbmc7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>interface Post {
  userId: number;
  id: number;
  title: string;
  body: string;
}</pre></div><div class='content'></div><h2><p>Paso 2: Realizar la Petición</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmF4aW9zLmdldDxQb3N0W10+KCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnKQogIC50aGVuKHJlc3BvbnNlID0+IHsKICAgIGNvbnN0IHBvc3RzOiBQb3N0W10gPSByZXNwb25zZS5kYXRhOwogICAgcG9zdHMuZm9yRWFjaChwb3N0ID0+IHsKICAgICAgY29uc29sZS5sb2coYFRpdGxlOiAke3Bvc3QudGl0bGV9YCk7CiAgICAgIGNvbnNvbGUubG9nKGBCb2R5OiAke3Bvc3QuYm9keX1gKTsKICAgIH0pOwogIH0pCiAgLmNhdGNoKGVycm9yID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTsKICB9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import axios from 'axios';

axios.get&lt;Post[]&gt;('https://jsonplaceholder.typicode.com/posts')
  .then(response =&gt; {
    const posts: Post[] = response.data;
    posts.forEach(post =&gt; {
      console.log(`Title: ${post.title}`);
      console.log(`Body: ${post.body}`);
    });
  })
  .catch(error =&gt; {
    console.error('Error:', error);
  });</pre></div><div class='content'></div><h1><p>Ejercicios Prácticos</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Obtener Usuarios</p>
</h2>
<div class='content'><ol>
<li>Define un tipo <code>User</code> con las propiedades <code>id</code>, <code>name</code>, <code>username</code>, y <code>email</code>.</li>
<li>Realiza una petición GET a <code>https://jsonplaceholder.typicode.com/users</code>.</li>
<li>Muestra los nombres de los usuarios en la consola.</li>
</ol>
</div><h2><p>Ejercicio 2: Crear un Nuevo Post</p>
</h2>
<div class='content'><ol>
<li>Define un tipo <code>NewPost</code> con las propiedades <code>userId</code>, <code>title</code>, y <code>body</code>.</li>
<li>Realiza una petición POST a <code>https://jsonplaceholder.typicode.com/posts</code> para crear un nuevo post.</li>
<li>Muestra la respuesta en la consola.</li>
</ol>
</div><h2><p>Soluciones</p>
</h2>
<div class='content'><h4>Solución Ejercicio 1</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmludGVyZmFjZSBVc2VyIHsKICBpZDogbnVtYmVyOwogIG5hbWU6IHN0cmluZzsKICB1c2VybmFtZTogc3RyaW5nOwogIGVtYWlsOiBzdHJpbmc7Cn0KCmF4aW9zLmdldDxVc2VyW10+KCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vdXNlcnMnKQogIC50aGVuKHJlc3BvbnNlID0+IHsKICAgIGNvbnN0IHVzZXJzOiBVc2VyW10gPSByZXNwb25zZS5kYXRhOwogICAgdXNlcnMuZm9yRWFjaCh1c2VyID0+IHsKICAgICAgY29uc29sZS5sb2codXNlci5uYW1lKTsKICAgIH0pOwogIH0pCiAgLmNhdGNoKGVycm9yID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTsKICB9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import axios from 'axios';

interface User {
  id: number;
  name: string;
  username: string;
  email: string;
}

axios.get&lt;User[]&gt;('https://jsonplaceholder.typicode.com/users')
  .then(response =&gt; {
    const users: User[] = response.data;
    users.forEach(user =&gt; {
      console.log(user.name);
    });
  })
  .catch(error =&gt; {
    console.error('Error:', error);
  });</pre></div><div class='content'><h4>Solución Ejercicio 2</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmludGVyZmFjZSBOZXdQb3N0IHsKICB1c2VySWQ6IG51bWJlcjsKICB0aXRsZTogc3RyaW5nOwogIGJvZHk6IHN0cmluZzsKfQoKY29uc3QgbmV3UG9zdDogTmV3UG9zdCA9IHsKICB1c2VySWQ6IDEsCiAgdGl0bGU6ICdNeSBOZXcgUG9zdCcsCiAgYm9keTogJ1RoaXMgaXMgdGhlIGNvbnRlbnQgb2YgbXkgbmV3IHBvc3QuJwp9OwoKYXhpb3MucG9zdDxOZXdQb3N0PignaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJywgbmV3UG9zdCkKICAudGhlbihyZXNwb25zZSA9PiB7CiAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICB9KQogIC5jYXRjaChlcnJvciA9PiB7CiAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcik7CiAgfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import axios from 'axios';

interface NewPost {
  userId: number;
  title: string;
  body: string;
}

const newPost: NewPost = {
  userId: 1,
  title: 'My New Post',
  body: 'This is the content of my new post.'
};

axios.post&lt;NewPost&gt;('https://jsonplaceholder.typicode.com/posts', newPost)
  .then(response =&gt; {
    console.log(response.data);
  })
  .catch(error =&gt; {
    console.error('Error:', error);
  });</pre></div><div class='content'></div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En esta sección, hemos aprendido cómo trabajar con APIs en TypeScript. Hemos visto cómo realizar peticiones HTTP usando Fetch y Axios, cómo definir tipos para las respuestas de las APIs y cómo usar estos tipos para manejar las respuestas de manera segura. Los ejercicios prácticos te ayudarán a reforzar estos conceptos y a aplicarlos en tus propios proyectos.</p>
<p>En el próximo módulo, profundizaremos en el manejo de errores y patrones asíncronos avanzados para mejorar aún más nuestras habilidades en la programación asíncrona con TypeScript.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-02-async-await' title="Async/Await">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-04-error-handling' title="Manejo de Errores">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
