<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas de Código TypeScript</title>

    <link rel="alternate" href="https://campusempresa.com/mod/typescript/06-02-testing-typescript" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/typescript/06-02-testing-typescript" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/typescript/06-02-testing-typescript" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/typescript/06-02-testing-typescript" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/typescript/06-02-testing-typescript" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-linting-formatting' title="Linting y Formateo">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Pruebas de Código TypeScript</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-typescript-webpack' title="TypeScript con Webpack">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Las pruebas de código son una parte esencial del desarrollo de software, ya que aseguran que el código funcione como se espera y ayuda a prevenir errores en el futuro. En este tema, aprenderemos cómo escribir y ejecutar pruebas en TypeScript utilizando herramientas populares como Jest y Mocha.</p>
</div><h1><p>Contenido</p>
</h1>
<div class='content'><ol>
<li><a href="#introducción-a-las-pruebas">Introducción a las Pruebas</a></li>
<li><a href="#configuración-del-entorno-de-pruebas">Configuración del Entorno de Pruebas</a></li>
<li><a href="#escribiendo-pruebas-con-jest">Escribiendo Pruebas con Jest</a></li>
<li><a href="#escribiendo-pruebas-con-mocha">Escribiendo Pruebas con Mocha</a></li>
<li><a href="#ejercicios-prácticos">Ejercicios Prácticos</a></li>
<li><a href="#conclusión">Conclusión</a></li>
</ol>
</div><h1><p>Introducción a las Pruebas</p>
</h1>
<div class='content'><p>Las pruebas de software se dividen en varias categorías, pero las más comunes son:</p>
<ul>
<li><strong>Pruebas Unitarias</strong>: Verifican el funcionamiento de una unidad individual de código (por ejemplo, una función o un método).</li>
<li><strong>Pruebas de Integración</strong>: Verifican la interacción entre diferentes unidades de código.</li>
<li><strong>Pruebas de Sistema</strong>: Verifican el sistema completo para asegurarse de que cumple con los requisitos.</li>
</ul>
<p>En este tema, nos centraremos principalmente en las pruebas unitarias.</p>
</div><h1><p>Configuración del Entorno de Pruebas</p>
</h1>
<div class='content'></div><h2><p>Instalación de Jest</p>
</h2>
<div class='content'><p>Jest es un framework de pruebas popular para JavaScript y TypeScript. Para instalar Jest en un proyecto TypeScript, sigue estos pasos:</p>
<ol>
<li>
<p><strong>Inicializa un proyecto Node.js</strong> (si aún no lo has hecho):</p>
<pre><code class="language-bash">npm init -y
</code></pre>
</li>
<li>
<p><strong>Instala Jest y sus tipos para TypeScript</strong>:</p>
<pre><code class="language-bash">npm install --save-dev jest @types/jest ts-jest
</code></pre>
</li>
<li>
<p><strong>Configura Jest</strong>:
Crea un archivo de configuración <code>jest.config.js</code> en la raíz del proyecto:</p>
<pre><code class="language-javascript">module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'node',
};
</code></pre>
</li>
</ol>
</div><h2><p>Instalación de Mocha</p>
</h2>
<div class='content'><p>Mocha es otro framework de pruebas popular. Para instalar Mocha en un proyecto TypeScript, sigue estos pasos:</p>
<ol>
<li>
<p><strong>Instala Mocha y Chai</strong>:</p>
<pre><code class="language-bash">npm install --save-dev mocha chai @types/mocha @types/chai ts-node
</code></pre>
</li>
<li>
<p><strong>Configura Mocha</strong>:
Crea un archivo de configuración <code>mocha.opts</code> en la carpeta <code>test</code>:</p>
<pre><code>--require ts-node/register
--require source-map-support/register
--recursive
</code></pre>
</li>
</ol>
</div><h1><p>Escribiendo Pruebas con Jest</p>
</h1>
<div class='content'></div><h2><p>Ejemplo de Prueba Unitaria</p>
</h2>
<div class='content'><p>Supongamos que tenemos una función <code>sum</code> en un archivo <code>sum.ts</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3VtLnRzCmV4cG9ydCBmdW5jdGlvbiBzdW0oYTogbnVtYmVyLCBiOiBudW1iZXIpOiBudW1iZXIgewogIHJldHVybiBhICsgYjsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// sum.ts
export function sum(a: number, b: number): number {
  return a + b;
}</pre></div><div class='content'><p>Podemos escribir una prueba unitaria para esta función en un archivo <code>sum.test.ts</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3VtLnRlc3QudHMKaW1wb3J0IHsgc3VtIH0gZnJvbSAnLi9zdW0nOwoKdGVzdCgnYWRkcyAxICsgMiB0byBlcXVhbCAzJywgKCkgPT4gewogIGV4cGVjdChzdW0oMSwgMikpLnRvQmUoMyk7Cn0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// sum.test.ts
import { sum } from './sum';

test('adds 1 + 2 to equal 3', () =&gt; {
  expect(sum(1, 2)).toBe(3);
});</pre></div><div class='content'></div><h2><p>Ejecutar las Pruebas</p>
</h2>
<div class='content'><p>Para ejecutar las pruebas, simplemente usa el comando:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IGplc3Q="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx jest</pre></div><div class='content'></div><h1><p>Escribiendo Pruebas con Mocha</p>
</h1>
<div class='content'></div><h2><p>Ejemplo de Prueba Unitaria</p>
</h2>
<div class='content'><p>Supongamos que tenemos la misma función <code>sum</code> en un archivo <code>sum.ts</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3VtLnRzCmV4cG9ydCBmdW5jdGlvbiBzdW0oYTogbnVtYmVyLCBiOiBudW1iZXIpOiBudW1iZXIgewogIHJldHVybiBhICsgYjsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// sum.ts
export function sum(a: number, b: number): number {
  return a + b;
}</pre></div><div class='content'><p>Podemos escribir una prueba unitaria para esta función en un archivo <code>sum.test.ts</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3VtLnRlc3QudHMKaW1wb3J0IHsgZXhwZWN0IH0gZnJvbSAnY2hhaSc7CmltcG9ydCB7IHN1bSB9IGZyb20gJy4vc3VtJzsKCmRlc2NyaWJlKCdzdW0gZnVuY3Rpb24nLCAoKSA9PiB7CiAgaXQoJ3Nob3VsZCBhZGQgMSArIDIgdG8gZXF1YWwgMycsICgpID0+IHsKICAgIGV4cGVjdChzdW0oMSwgMikpLnRvLmVxdWFsKDMpOwogIH0pOwp9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// sum.test.ts
import { expect } from 'chai';
import { sum } from './sum';

describe('sum function', () =&gt; {
  it('should add 1 + 2 to equal 3', () =&gt; {
    expect(sum(1, 2)).to.equal(3);
  });
});</pre></div><div class='content'></div><h2><p>Ejecutar las Pruebas</p>
</h2>
<div class='content'><p>Para ejecutar las pruebas, simplemente usa el comando:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IG1vY2hh"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx mocha</pre></div><div class='content'></div><h1><p>Ejercicios Prácticos</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Prueba de una Función de Multiplicación</p>
</h2>
<div class='content'><ol>
<li>Crea una función <code>multiply</code> en un archivo <code>multiply.ts</code> que multiplique dos números.</li>
<li>Escribe una prueba unitaria para la función <code>multiply</code> usando Jest.</li>
<li>Escribe una prueba unitaria para la función <code>multiply</code> usando Mocha.</li>
</ol>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbXVsdGlwbHkudHMKZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KGE6IG51bWJlciwgYjogbnVtYmVyKTogbnVtYmVyIHsKICByZXR1cm4gYSAqIGI7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// multiply.ts
export function multiply(a: number, b: number): number {
  return a * b;
}</pre></div><div class='content'><p><strong>Prueba con Jest:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbXVsdGlwbHkudGVzdC50cwppbXBvcnQgeyBtdWx0aXBseSB9IGZyb20gJy4vbXVsdGlwbHknOwoKdGVzdCgnbXVsdGlwbGllcyAyICogMyB0byBlcXVhbCA2JywgKCkgPT4gewogIGV4cGVjdChtdWx0aXBseSgyLCAzKSkudG9CZSg2KTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// multiply.test.ts
import { multiply } from './multiply';

test('multiplies 2 * 3 to equal 6', () =&gt; {
  expect(multiply(2, 3)).toBe(6);
});</pre></div><div class='content'><p><strong>Prueba con Mocha:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbXVsdGlwbHkudGVzdC50cwppbXBvcnQgeyBleHBlY3QgfSBmcm9tICdjaGFpJzsKaW1wb3J0IHsgbXVsdGlwbHkgfSBmcm9tICcuL211bHRpcGx5JzsKCmRlc2NyaWJlKCdtdWx0aXBseSBmdW5jdGlvbicsICgpID0+IHsKICBpdCgnc2hvdWxkIG11bHRpcGx5IDIgKiAzIHRvIGVxdWFsIDYnLCAoKSA9PiB7CiAgICBleHBlY3QobXVsdGlwbHkoMiwgMykpLnRvLmVxdWFsKDYpOwogIH0pOwp9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// multiply.test.ts
import { expect } from 'chai';
import { multiply } from './multiply';

describe('multiply function', () =&gt; {
  it('should multiply 2 * 3 to equal 6', () =&gt; {
    expect(multiply(2, 3)).to.equal(6);
  });
});</pre></div><div class='content'></div><h2><p>Ejercicio 2: Prueba de una Función de División</p>
</h2>
<div class='content'><ol>
<li>Crea una función <code>divide</code> en un archivo <code>divide.ts</code> que divida dos números.</li>
<li>Escribe una prueba unitaria para la función <code>divide</code> usando Jest.</li>
<li>Escribe una prueba unitaria para la función <code>divide</code> usando Mocha.</li>
</ol>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gZGl2aWRlLnRzCmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUoYTogbnVtYmVyLCBiOiBudW1iZXIpOiBudW1iZXIgewogIGlmIChiID09PSAwKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBkaXZpZGUgYnkgemVybycpOwogIH0KICByZXR1cm4gYSAvIGI7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// divide.ts
export function divide(a: number, b: number): number {
  if (b === 0) {
    throw new Error('Cannot divide by zero');
  }
  return a / b;
}</pre></div><div class='content'><p><strong>Prueba con Jest:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gZGl2aWRlLnRlc3QudHMKaW1wb3J0IHsgZGl2aWRlIH0gZnJvbSAnLi9kaXZpZGUnOwoKdGVzdCgnZGl2aWRlcyA2IC8gMiB0byBlcXVhbCAzJywgKCkgPT4gewogIGV4cGVjdChkaXZpZGUoNiwgMikpLnRvQmUoMyk7Cn0pOwoKdGVzdCgndGhyb3dzIGVycm9yIHdoZW4gZGl2aWRpbmcgYnkgemVybycsICgpID0+IHsKICBleHBlY3QoKCkgPT4gZGl2aWRlKDYsIDApKS50b1Rocm93KCdDYW5ub3QgZGl2aWRlIGJ5IHplcm8nKTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// divide.test.ts
import { divide } from './divide';

test('divides 6 / 2 to equal 3', () =&gt; {
  expect(divide(6, 2)).toBe(3);
});

test('throws error when dividing by zero', () =&gt; {
  expect(() =&gt; divide(6, 0)).toThrow('Cannot divide by zero');
});</pre></div><div class='content'><p><strong>Prueba con Mocha:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gZGl2aWRlLnRlc3QudHMKaW1wb3J0IHsgZXhwZWN0IH0gZnJvbSAnY2hhaSc7CmltcG9ydCB7IGRpdmlkZSB9IGZyb20gJy4vZGl2aWRlJzsKCmRlc2NyaWJlKCdkaXZpZGUgZnVuY3Rpb24nLCAoKSA9PiB7CiAgaXQoJ3Nob3VsZCBkaXZpZGUgNiAvIDIgdG8gZXF1YWwgMycsICgpID0+IHsKICAgIGV4cGVjdChkaXZpZGUoNiwgMikpLnRvLmVxdWFsKDMpOwogIH0pOwoKICBpdCgnc2hvdWxkIHRocm93IGVycm9yIHdoZW4gZGl2aWRpbmcgYnkgemVybycsICgpID0+IHsKICAgIGV4cGVjdCgoKSA9PiBkaXZpZGUoNiwgMCkpLnRvLnRocm93KCdDYW5ub3QgZGl2aWRlIGJ5IHplcm8nKTsKICB9KTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// divide.test.ts
import { expect } from 'chai';
import { divide } from './divide';

describe('divide function', () =&gt; {
  it('should divide 6 / 2 to equal 3', () =&gt; {
    expect(divide(6, 2)).to.equal(3);
  });

  it('should throw error when dividing by zero', () =&gt; {
    expect(() =&gt; divide(6, 0)).to.throw('Cannot divide by zero');
  });
});</pre></div><div class='content'></div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En esta sección, hemos aprendido cómo configurar un entorno de pruebas para TypeScript utilizando Jest y Mocha. También hemos visto cómo escribir y ejecutar pruebas unitarias para funciones simples. Las pruebas son una herramienta poderosa para asegurar la calidad del código y deben ser una parte integral de cualquier proyecto de software.</p>
<p>En el siguiente módulo, exploraremos cómo integrar TypeScript con herramientas de construcción y frameworks populares como Webpack y React.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-01-linting-formatting' title="Linting y Formateo">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-03-typescript-webpack' title="TypeScript con Webpack">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
