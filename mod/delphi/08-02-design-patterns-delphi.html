<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrones de Diseño en Delphi</title>

    <link rel="alternate" href="https://campusempresa.com/mod/delphi/08-02-design-patterns-delphi" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/delphi/08-02-design-patterns-delphi" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/delphi/08-02-design-patterns-delphi" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/delphi/08-02-design-patterns-delphi" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/delphi/08-02-design-patterns-delphi" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='08-01-code-organization-documentation' title="Organización del Código y Documentación">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Patrones de Diseño en Delphi</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='08-03-refactoring-techniques' title="Técnicas de Refactorización">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Los patrones de diseño son soluciones reutilizables a problemas comunes en el diseño de software. En Delphi, como en otros lenguajes de programación orientados a objetos, los patrones de diseño ayudan a crear código más robusto, mantenible y escalable. En esta sección, exploraremos algunos de los patrones de diseño más utilizados y cómo implementarlos en Delphi.</p>
</div><h1>1. Introducción a los Patrones de Diseño</h1>
<div class='content'></div><h2>¿Qué son los Patrones de Diseño?</h2>
<div class='content'><ul>
<li><strong>Definición</strong>: Un patrón de diseño es una solución general y reutilizable para un problema común en un contexto dado.</li>
<li><strong>Categorías</strong>: Los patrones de diseño se dividen en tres categorías principales:
<ul>
<li><strong>Patrones Creacionales</strong>: Se enfocan en la creación de objetos.</li>
<li><strong>Patrones Estructurales</strong>: Se enfocan en la composición de clases y objetos.</li>
<li><strong>Patrones de Comportamiento</strong>: Se enfocan en la interacción y responsabilidad entre objetos.</li>
</ul>
</li>
</ul>
</div><h2>Beneficios de Usar Patrones de Diseño</h2>
<div class='content'><ul>
<li><strong>Reutilización de Código</strong>: Facilitan la reutilización de soluciones probadas.</li>
<li><strong>Mantenibilidad</strong>: Mejoran la estructura y claridad del código.</li>
<li><strong>Flexibilidad</strong>: Permiten crear sistemas más flexibles y adaptables a cambios.</li>
</ul>
</div><h1>2. Patrones Creacionales</h1>
<div class='content'></div><h2>2.1. Singleton</h2>
<div class='content'><p>El patrón Singleton asegura que una clase tenga una única instancia y proporciona un punto de acceso global a ella.</p>
<h4>Implementación en Delphi</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZQogIFRTaW5nbGV0b24gPSBjbGFzcwogIHByaXZhdGUKICAgIGNsYXNzIHZhciBGSW5zdGFuY2U6IFRTaW5nbGV0b247CiAgICBjb25zdHJ1Y3RvciBDcmVhdGU7IC8vIENvbnN0cnVjdG9yIHByaXZhZG8KICBwdWJsaWMKICAgIGNsYXNzIGZ1bmN0aW9uIEdldEluc3RhbmNlOiBUU2luZ2xldG9uOwogIGVuZDsKCmNvbnN0cnVjdG9yIFRTaW5nbGV0b24uQ3JlYXRlOwpiZWdpbgogIGluaGVyaXRlZDsKICAvLyBJbmljaWFsaXphY2nDs24gZGUgbGEgaW5zdGFuY2lhCmVuZDsKCmNsYXNzIGZ1bmN0aW9uIFRTaW5nbGV0b24uR2V0SW5zdGFuY2U6IFRTaW5nbGV0b247CmJlZ2luCiAgaWYgRkluc3RhbmNlID0gbmlsIHRoZW4KICAgIEZJbnN0YW5jZSA6PSBUU2luZ2xldG9uLkNyZWF0ZTsKICBSZXN1bHQgOj0gRkluc3RhbmNlOwplbmQ7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type
  TSingleton = class
  private
    class var FInstance: TSingleton;
    constructor Create; // Constructor privado
  public
    class function GetInstance: TSingleton;
  end;

constructor TSingleton.Create;
begin
  inherited;
  // Inicializaci&oacute;n de la instancia
end;

class function TSingleton.GetInstance: TSingleton;
begin
  if FInstance = nil then
    FInstance := TSingleton.Create;
  Result := FInstance;
end;</pre></div><div class='content'><h4>Explicación</h4>
<ul>
<li><strong>Constructor Privado</strong>: Evita la creación de instancias fuera de la clase.</li>
<li><strong>Método GetInstance</strong>: Crea y devuelve la única instancia de la clase.</li>
</ul>
</div><h2>2.2. Factory Method</h2>
<div class='content'><p>El patrón Factory Method define una interfaz para crear un objeto, pero permite a las subclases alterar el tipo de objetos que se crearán.</p>
<h4>Implementación en Delphi</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZQogIFRQcm9kdWN0ID0gY2xhc3MKICAgIHByb2NlZHVyZSBPcGVyYXRpb247IHZpcnR1YWw7IGFic3RyYWN0OwogIGVuZDsKCiAgVENvbmNyZXRlUHJvZHVjdEEgPSBjbGFzcyhUUHJvZHVjdCkKICAgIHByb2NlZHVyZSBPcGVyYXRpb247IG92ZXJyaWRlOwogIGVuZDsKCiAgVENvbmNyZXRlUHJvZHVjdEIgPSBjbGFzcyhUUHJvZHVjdCkKICAgIHByb2NlZHVyZSBPcGVyYXRpb247IG92ZXJyaWRlOwogIGVuZDsKCiAgVENyZWF0b3IgPSBjbGFzcwogICAgZnVuY3Rpb24gRmFjdG9yeU1ldGhvZDogVFByb2R1Y3Q7IHZpcnR1YWw7IGFic3RyYWN0OwogIGVuZDsKCiAgVENvbmNyZXRlQ3JlYXRvckEgPSBjbGFzcyhUQ3JlYXRvcikKICAgIGZ1bmN0aW9uIEZhY3RvcnlNZXRob2Q6IFRQcm9kdWN0OyBvdmVycmlkZTsKICBlbmQ7CgogIFRDb25jcmV0ZUNyZWF0b3JCID0gY2xhc3MoVENyZWF0b3IpCiAgICBmdW5jdGlvbiBGYWN0b3J5TWV0aG9kOiBUUHJvZHVjdDsgb3ZlcnJpZGU7CiAgZW5kOwoKcHJvY2VkdXJlIFRDb25jcmV0ZVByb2R1Y3RBLk9wZXJhdGlvbjsKYmVnaW4KICAvLyBJbXBsZW1lbnRhY2nDs24gZXNwZWPDrWZpY2EgZGUgQQplbmQ7Cgpwcm9jZWR1cmUgVENvbmNyZXRlUHJvZHVjdEIuT3BlcmF0aW9uOwpiZWdpbgogIC8vIEltcGxlbWVudGFjacOzbiBlc3BlY8OtZmljYSBkZSBCCmVuZDsKCmZ1bmN0aW9uIFRDb25jcmV0ZUNyZWF0b3JBLkZhY3RvcnlNZXRob2Q6IFRQcm9kdWN0OwpiZWdpbgogIFJlc3VsdCA6PSBUQ29uY3JldGVQcm9kdWN0QS5DcmVhdGU7CmVuZDsKCmZ1bmN0aW9uIFRDb25jcmV0ZUNyZWF0b3JCLkZhY3RvcnlNZXRob2Q6IFRQcm9kdWN0OwpiZWdpbgogIFJlc3VsdCA6PSBUQ29uY3JldGVQcm9kdWN0Qi5DcmVhdGU7CmVuZDs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type
  TProduct = class
    procedure Operation; virtual; abstract;
  end;

  TConcreteProductA = class(TProduct)
    procedure Operation; override;
  end;

  TConcreteProductB = class(TProduct)
    procedure Operation; override;
  end;

  TCreator = class
    function FactoryMethod: TProduct; virtual; abstract;
  end;

  TConcreteCreatorA = class(TCreator)
    function FactoryMethod: TProduct; override;
  end;

  TConcreteCreatorB = class(TCreator)
    function FactoryMethod: TProduct; override;
  end;

procedure TConcreteProductA.Operation;
begin
  // Implementaci&oacute;n espec&iacute;fica de A
end;

procedure TConcreteProductB.Operation;
begin
  // Implementaci&oacute;n espec&iacute;fica de B
end;

function TConcreteCreatorA.FactoryMethod: TProduct;
begin
  Result := TConcreteProductA.Create;
end;

function TConcreteCreatorB.FactoryMethod: TProduct;
begin
  Result := TConcreteProductB.Create;
end;</pre></div><div class='content'><h4>Explicación</h4>
<ul>
<li><strong>Clase Abstracta TProduct</strong>: Define la interfaz de los productos.</li>
<li><strong>Subclases TConcreteProductA y TConcreteProductB</strong>: Implementan la interfaz de productos.</li>
<li><strong>Clase Abstracta TCreator</strong>: Define el método FactoryMethod.</li>
<li><strong>Subclases TConcreteCreatorA y TConcreteCreatorB</strong>: Implementan el método FactoryMethod para crear instancias específicas.</li>
</ul>
</div><h1>3. Patrones Estructurales</h1>
<div class='content'></div><h2>3.1. Adapter</h2>
<div class='content'><p>El patrón Adapter permite que clases con interfaces incompatibles trabajen juntas.</p>
<h4>Implementación en Delphi</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZQogIFRUYXJnZXQgPSBjbGFzcwogICAgcHJvY2VkdXJlIFJlcXVlc3Q7IHZpcnR1YWw7CiAgZW5kOwoKICBUQWRhcHRlZSA9IGNsYXNzCiAgICBwcm9jZWR1cmUgU3BlY2lmaWNSZXF1ZXN0OwogIGVuZDsKCiAgVEFkYXB0ZXIgPSBjbGFzcyhUVGFyZ2V0KQogIHByaXZhdGUKICAgIEZBZGFwdGVlOiBUQWRhcHRlZTsKICBwdWJsaWMKICAgIGNvbnN0cnVjdG9yIENyZWF0ZShBQWRhcHRlZTogVEFkYXB0ZWUpOwogICAgcHJvY2VkdXJlIFJlcXVlc3Q7IG92ZXJyaWRlOwogIGVuZDsKCnByb2NlZHVyZSBUVGFyZ2V0LlJlcXVlc3Q7CmJlZ2luCiAgLy8gSW1wbGVtZW50YWNpw7NuIHBvciBkZWZlY3RvCmVuZDsKCnByb2NlZHVyZSBUQWRhcHRlZS5TcGVjaWZpY1JlcXVlc3Q7CmJlZ2luCiAgLy8gSW1wbGVtZW50YWNpw7NuIGVzcGVjw61maWNhCmVuZDsKCmNvbnN0cnVjdG9yIFRBZGFwdGVyLkNyZWF0ZShBQWRhcHRlZTogVEFkYXB0ZWUpOwpiZWdpbgogIEZBZGFwdGVlIDo9IEFBZGFwdGVlOwplbmQ7Cgpwcm9jZWR1cmUgVEFkYXB0ZXIuUmVxdWVzdDsKYmVnaW4KICBGQWRhcHRlZS5TcGVjaWZpY1JlcXVlc3Q7CmVuZDs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type
  TTarget = class
    procedure Request; virtual;
  end;

  TAdaptee = class
    procedure SpecificRequest;
  end;

  TAdapter = class(TTarget)
  private
    FAdaptee: TAdaptee;
  public
    constructor Create(AAdaptee: TAdaptee);
    procedure Request; override;
  end;

procedure TTarget.Request;
begin
  // Implementaci&oacute;n por defecto
end;

procedure TAdaptee.SpecificRequest;
begin
  // Implementaci&oacute;n espec&iacute;fica
end;

constructor TAdapter.Create(AAdaptee: TAdaptee);
begin
  FAdaptee := AAdaptee;
end;

procedure TAdapter.Request;
begin
  FAdaptee.SpecificRequest;
end;</pre></div><div class='content'><h4>Explicación</h4>
<ul>
<li><strong>Clase TTarget</strong>: Define la interfaz que se espera.</li>
<li><strong>Clase TAdaptee</strong>: Tiene una interfaz incompatible que necesita ser adaptada.</li>
<li><strong>Clase TAdapter</strong>: Adapta la interfaz de TAdaptee a la interfaz de TTarget.</li>
</ul>
</div><h1>4. Patrones de Comportamiento</h1>
<div class='content'></div><h2>4.1. Observer</h2>
<div class='content'><p>El patrón Observer define una dependencia uno a muchos entre objetos, de manera que cuando un objeto cambia de estado, todos sus dependientes son notificados y actualizados automáticamente.</p>
<h4>Implementación en Delphi</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZQogIElPYnNlcnZlciA9IGludGVyZmFjZQogICAgcHJvY2VkdXJlIFVwZGF0ZTsKICBlbmQ7CgogIFRTdWJqZWN0ID0gY2xhc3MKICBwcml2YXRlCiAgICBGT2JzZXJ2ZXJzOiBUTGlzdDxJT2JzZXJ2ZXI+OwogIHB1YmxpYwogICAgY29uc3RydWN0b3IgQ3JlYXRlOwogICAgZGVzdHJ1Y3RvciBEZXN0cm95OyBvdmVycmlkZTsKICAgIHByb2NlZHVyZSBBdHRhY2goQU9ic2VydmVyOiBJT2JzZXJ2ZXIpOwogICAgcHJvY2VkdXJlIERldGFjaChBT2JzZXJ2ZXI6IElPYnNlcnZlcik7CiAgICBwcm9jZWR1cmUgTm90aWZ5OwogIGVuZDsKCiAgVENvbmNyZXRlT2JzZXJ2ZXIgPSBjbGFzcyhUSW50ZXJmYWNlZE9iamVjdCwgSU9ic2VydmVyKQogIHB1YmxpYwogICAgcHJvY2VkdXJlIFVwZGF0ZTsKICBlbmQ7Cgpjb25zdHJ1Y3RvciBUU3ViamVjdC5DcmVhdGU7CmJlZ2luCiAgRk9ic2VydmVycyA6PSBUTGlzdDxJT2JzZXJ2ZXI+LkNyZWF0ZTsKZW5kOwoKZGVzdHJ1Y3RvciBUU3ViamVjdC5EZXN0cm95OwpiZWdpbgogIEZPYnNlcnZlcnMuRnJlZTsKICBpbmhlcml0ZWQ7CmVuZDsKCnByb2NlZHVyZSBUU3ViamVjdC5BdHRhY2goQU9ic2VydmVyOiBJT2JzZXJ2ZXIpOwpiZWdpbgogIEZPYnNlcnZlcnMuQWRkKEFPYnNlcnZlcik7CmVuZDsKCnByb2NlZHVyZSBUU3ViamVjdC5EZXRhY2goQU9ic2VydmVyOiBJT2JzZXJ2ZXIpOwpiZWdpbgogIEZPYnNlcnZlcnMuUmVtb3ZlKEFPYnNlcnZlcik7CmVuZDsKCnByb2NlZHVyZSBUU3ViamVjdC5Ob3RpZnk7CnZhcgogIE9ic2VydmVyOiBJT2JzZXJ2ZXI7CmJlZ2luCiAgZm9yIE9ic2VydmVyIGluIEZPYnNlcnZlcnMgZG8KICAgIE9ic2VydmVyLlVwZGF0ZTsKZW5kOwoKcHJvY2VkdXJlIFRDb25jcmV0ZU9ic2VydmVyLlVwZGF0ZTsKYmVnaW4KICAvLyBJbXBsZW1lbnRhY2nDs24gZGUgbGEgYWN0dWFsaXphY2nDs24KZW5kOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type
  IObserver = interface
    procedure Update;
  end;

  TSubject = class
  private
    FObservers: TList&lt;IObserver&gt;;
  public
    constructor Create;
    destructor Destroy; override;
    procedure Attach(AObserver: IObserver);
    procedure Detach(AObserver: IObserver);
    procedure Notify;
  end;

  TConcreteObserver = class(TInterfacedObject, IObserver)
  public
    procedure Update;
  end;

constructor TSubject.Create;
begin
  FObservers := TList&lt;IObserver&gt;.Create;
end;

destructor TSubject.Destroy;
begin
  FObservers.Free;
  inherited;
end;

procedure TSubject.Attach(AObserver: IObserver);
begin
  FObservers.Add(AObserver);
end;

procedure TSubject.Detach(AObserver: IObserver);
begin
  FObservers.Remove(AObserver);
end;

procedure TSubject.Notify;
var
  Observer: IObserver;
begin
  for Observer in FObservers do
    Observer.Update;
end;

procedure TConcreteObserver.Update;
begin
  // Implementaci&oacute;n de la actualizaci&oacute;n
end;</pre></div><div class='content'><h4>Explicación</h4>
<ul>
<li><strong>Interfaz IObserver</strong>: Define el método Update que deben implementar los observadores.</li>
<li><strong>Clase TSubject</strong>: Mantiene una lista de observadores y los notifica de los cambios.</li>
<li><strong>Clase TConcreteObserver</strong>: Implementa la interfaz IObserver y define la lógica de actualización.</li>
</ul>
</div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Implementar el Patrón Singleton</h2>
<div class='content'><ol>
<li>Crea una clase <code>TLogger</code> que implemente el patrón Singleton.</li>
<li>La clase debe tener un método <code>Log</code> que acepte un mensaje y lo imprima en la consola.</li>
</ol>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZQogIFRMb2dnZXIgPSBjbGFzcwogIHByaXZhdGUKICAgIGNsYXNzIHZhciBGSW5zdGFuY2U6IFRMb2dnZXI7CiAgICBjb25zdHJ1Y3RvciBDcmVhdGU7CiAgcHVibGljCiAgICBjbGFzcyBmdW5jdGlvbiBHZXRJbnN0YW5jZTogVExvZ2dlcjsKICAgIHByb2NlZHVyZSBMb2coY29uc3QgTXNnOiBzdHJpbmcpOwogIGVuZDsKCmNvbnN0cnVjdG9yIFRMb2dnZXIuQ3JlYXRlOwpiZWdpbgogIGluaGVyaXRlZDsKZW5kOwoKY2xhc3MgZnVuY3Rpb24gVExvZ2dlci5HZXRJbnN0YW5jZTogVExvZ2dlcjsKYmVnaW4KICBpZiBGSW5zdGFuY2UgPSBuaWwgdGhlbgogICAgRkluc3RhbmNlIDo9IFRMb2dnZXIuQ3JlYXRlOwogIFJlc3VsdCA6PSBGSW5zdGFuY2U7CmVuZDsKCnByb2NlZHVyZSBUTG9nZ2VyLkxvZyhjb25zdCBNc2c6IHN0cmluZyk7CmJlZ2luCiAgV3JpdGVsbihNc2cpOwplbmQ7CgovLyBVc28KdmFyCiAgTG9nZ2VyOiBUTG9nZ2VyOwpiZWdpbgogIExvZ2dlciA6PSBUTG9nZ2VyLkdldEluc3RhbmNlOwogIExvZ2dlci5Mb2coJ0VzdGUgZXMgdW4gbWVuc2FqZSBkZSBsb2cuJyk7CmVuZDs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type
  TLogger = class
  private
    class var FInstance: TLogger;
    constructor Create;
  public
    class function GetInstance: TLogger;
    procedure Log(const Msg: string);
  end;

constructor TLogger.Create;
begin
  inherited;
end;

class function TLogger.GetInstance: TLogger;
begin
  if FInstance = nil then
    FInstance := TLogger.Create;
  Result := FInstance;
end;

procedure TLogger.Log(const Msg: string);
begin
  Writeln(Msg);
end;

// Uso
var
  Logger: TLogger;
begin
  Logger := TLogger.GetInstance;
  Logger.Log('Este es un mensaje de log.');
end;</pre></div><div class='content'></div><h2>Ejercicio 2: Implementar el Patrón Observer</h2>
<div class='content'><ol>
<li>Crea una clase <code>TStock</code> que actúe como el sujeto.</li>
<li>Crea una clase <code>TInvestor</code> que actúe como el observador.</li>
<li>Implementa la lógica para que los inversores sean notificados cuando el precio de la acción cambie.</li>
</ol>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZQogIElJbnZlc3RvciA9IGludGVyZmFjZQogICAgcHJvY2VkdXJlIFVwZGF0ZShTdG9jazogVE9iamVjdCk7CiAgZW5kOwoKICBUU3RvY2sgPSBjbGFzcwogIHByaXZhdGUKICAgIEZQcmljZTogRG91YmxlOwogICAgRkludmVzdG9yczogVExpc3Q8SUludmVzdG9yPjsKICAgIHByb2NlZHVyZSBTZXRQcmljZShjb25zdCBWYWx1ZTogRG91YmxlKTsKICBwdWJsaWMKICAgIGNvbnN0cnVjdG9yIENyZWF0ZTsKICAgIGRlc3RydWN0b3IgRGVzdHJveTsgb3ZlcnJpZGU7CiAgICBwcm9jZWR1cmUgQXR0YWNoKEludmVzdG9yOiBJSW52ZXN0b3IpOwogICAgcHJvY2VkdXJlIERldGFjaChJbnZlc3RvcjogSUludmVzdG9yKTsKICAgIHByb2NlZHVyZSBOb3RpZnk7CiAgICBwcm9wZXJ0eSBQcmljZTogRG91YmxlIHJlYWQgRlByaWNlIHdyaXRlIFNldFByaWNlOwogIGVuZDsKCiAgVEludmVzdG9yID0gY2xhc3MoVEludGVyZmFjZWRPYmplY3QsIElJbnZlc3RvcikKICBwdWJsaWMKICAgIHByb2NlZHVyZSBVcGRhdGUoU3RvY2s6IFRPYmplY3QpOwogIGVuZDsKCmNvbnN0cnVjdG9yIFRTdG9jay5DcmVhdGU7CmJlZ2luCiAgRkludmVzdG9ycyA6PSBUTGlzdDxJSW52ZXN0b3I+LkNyZWF0ZTsKZW5kOwoKZGVzdHJ1Y3RvciBUU3RvY2suRGVzdHJveTsKYmVnaW4KICBGSW52ZXN0b3JzLkZyZWU7CiAgaW5oZXJpdGVkOwplbmQ7Cgpwcm9jZWR1cmUgVFN0b2NrLkF0dGFjaChJbnZlc3RvcjogSUludmVzdG9yKTsKYmVnaW4KICBGSW52ZXN0b3JzLkFkZChJbnZlc3Rvcik7CmVuZDsKCnByb2NlZHVyZSBUU3RvY2suRGV0YWNoKEludmVzdG9yOiBJSW52ZXN0b3IpOwpiZWdpbgogIEZJbnZlc3RvcnMuUmVtb3ZlKEludmVzdG9yKTsKZW5kOwoKcHJvY2VkdXJlIFRTdG9jay5Ob3RpZnk7CnZhcgogIEludmVzdG9yOiBJSW52ZXN0b3I7CmJlZ2luCiAgZm9yIEludmVzdG9yIGluIEZJbnZlc3RvcnMgZG8KICAgIEludmVzdG9yLlVwZGF0ZShTZWxmKTsKZW5kOwoKcHJvY2VkdXJlIFRTdG9jay5TZXRQcmljZShjb25zdCBWYWx1ZTogRG91YmxlKTsKYmVnaW4KICBGUHJpY2UgOj0gVmFsdWU7CiAgTm90aWZ5OwplbmQ7Cgpwcm9jZWR1cmUgVEludmVzdG9yLlVwZGF0ZShTdG9jazogVE9iamVjdCk7CmJlZ2luCiAgV3JpdGVsbignRWwgcHJlY2lvIGRlIGxhIGFjY2nDs24gaGEgY2FtYmlhZG8gYTogJywgVFN0b2NrKFN0b2NrKS5QcmljZTowOjIpOwplbmQ7CgovLyBVc28KdmFyCiAgU3RvY2s6IFRTdG9jazsKICBJbnZlc3RvcjEsIEludmVzdG9yMjogSUludmVzdG9yOwpiZWdpbgogIFN0b2NrIDo9IFRTdG9jay5DcmVhdGU7CiAgdHJ5CiAgICBJbnZlc3RvcjEgOj0gVEludmVzdG9yLkNyZWF0ZTsKICAgIEludmVzdG9yMiA6PSBUSW52ZXN0b3IuQ3JlYXRlOwogICAgU3RvY2suQXR0YWNoKEludmVzdG9yMSk7CiAgICBTdG9jay5BdHRhY2goSW52ZXN0b3IyKTsKICAgIFN0b2NrLlByaWNlIDo9IDEwMC4wOwogICAgU3RvY2suUHJpY2UgOj0gMTIwLjU7CiAgZmluYWxseQogICAgU3RvY2suRnJlZTsKICBlbmQ7CmVuZDs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type
  IInvestor = interface
    procedure Update(Stock: TObject);
  end;

  TStock = class
  private
    FPrice: Double;
    FInvestors: TList&lt;IInvestor&gt;;
    procedure SetPrice(const Value: Double);
  public
    constructor Create;
    destructor Destroy; override;
    procedure Attach(Investor: IInvestor);
    procedure Detach(Investor: IInvestor);
    procedure Notify;
    property Price: Double read FPrice write SetPrice;
  end;

  TInvestor = class(TInterfacedObject, IInvestor)
  public
    procedure Update(Stock: TObject);
  end;

constructor TStock.Create;
begin
  FInvestors := TList&lt;IInvestor&gt;.Create;
end;

destructor TStock.Destroy;
begin
  FInvestors.Free;
  inherited;
end;

procedure TStock.Attach(Investor: IInvestor);
begin
  FInvestors.Add(Investor);
end;

procedure TStock.Detach(Investor: IInvestor);
begin
  FInvestors.Remove(Investor);
end;

procedure TStock.Notify;
var
  Investor: IInvestor;
begin
  for Investor in FInvestors do
    Investor.Update(Self);
end;

procedure TStock.SetPrice(const Value: Double);
begin
  FPrice := Value;
  Notify;
end;

procedure TInvestor.Update(Stock: TObject);
begin
  Writeln('El precio de la acci&oacute;n ha cambiado a: ', TStock(Stock).Price:0:2);
end;

// Uso
var
  Stock: TStock;
  Investor1, Investor2: IInvestor;
begin
  Stock := TStock.Create;
  try
    Investor1 := TInvestor.Create;
    Investor2 := TInvestor.Create;
    Stock.Attach(Investor1);
    Stock.Attach(Investor2);
    Stock.Price := 100.0;
    Stock.Price := 120.5;
  finally
    Stock.Free;
  end;
end;</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos explorado algunos de los patrones de diseño más comunes y cómo implementarlos en Delphi. Los patrones de diseño son herramientas poderosas que pueden mejorar significativamente la calidad y mantenibilidad de tu código. A medida que avances en tu carrera como desarrollador, te encontrarás con estos patrones una y otra vez, y comprender cómo y cuándo usarlos te convertirá en un programador más eficiente y efectivo.</p>
<p>En el próximo tema, profundizaremos en técnicas de refactorización para mejorar y optimizar el código existente.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='08-01-code-organization-documentation' title="Organización del Código y Documentación">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='08-03-refactoring-techniques' title="Técnicas de Refactorización">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
