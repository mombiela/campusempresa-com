<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimización del Código en Ensamblador</title>

    <link rel="alternate" href="https://campusempresa.com/mod/assembly/05-04-optimizing-code" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/assembly/05-04-optimizing-code" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/assembly/05-04-optimizing-code" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/assembly/05-04-optimizing-code" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/assembly/05-04-optimizing-code" class="px-2">CA</a>
								</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<!-- <a href="/">Home</a>  -->
									<a href="./">Contenido del curso</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competencias técnicas</a>
				<a href="/all/conocimientos">Conocimientos</a>
				<a href="/all/soft_skills">Competencias sociales</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-03-inline-assembly' title="Ensamblador Inline en Lenguajes de Alto Nivel">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Optimización del Código en Ensamblador</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-01-x86-assembly' title="Lenguaje Ensamblador x86">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>La optimización del código en ensamblador es una habilidad crucial para maximizar el rendimiento de los programas, especialmente en sistemas con recursos limitados. En este tema, aprenderemos técnicas y estrategias para escribir código ensamblador más eficiente.</p>
</div><h1><p>Objetivos de la Optimización</p>
</h1>
<div class='content'><ul>
<li><strong>Reducir el tiempo de ejecución</strong>: Hacer que el programa se ejecute más rápido.</li>
<li><strong>Minimizar el uso de memoria</strong>: Reducir la cantidad de memoria utilizada por el programa.</li>
<li><strong>Mejorar la eficiencia energética</strong>: Disminuir el consumo de energía, especialmente importante en dispositivos móviles y embebidos.</li>
</ul>
</div><h1><p>Estrategias de Optimización</p>
</h1>
<div class='content'></div><h2><ol>
<li>Uso Eficiente de los Registros</li>
</ol>
</h2>
<div class='content'><p>Los registros son mucho más rápidos que la memoria. Siempre que sea posible, almacena datos en registros en lugar de en la memoria.</p>
<h4>Ejemplo:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBJbmVmaWNpZW50ZTogVXNvIGRlIG1lbW9yaWEKbW92IGVheCwgW3ZhcjFdCmFkZCBlYXgsIFt2YXIyXQptb3YgW3Jlc3VsdF0sIGVheAoKOyBFZmljaWVudGU6IFVzbyBkZSByZWdpc3Ryb3MKbW92IGVheCwgdmFyMQphZGQgZWF4LCB2YXIyCm1vdiByZXN1bHQsIGVheA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Ineficiente: Uso de memoria
mov eax, [var1]
add eax, [var2]
mov [result], eax

; Eficiente: Uso de registros
mov eax, var1
add eax, var2
mov result, eax</pre></div><div class='content'></div><h2><ol start="2">
<li>Minimizar el Número de Instrucciones</li>
</ol>
</h2>
<div class='content'><p>Reducir el número de instrucciones puede disminuir el tiempo de ejecución.</p>
<h4>Ejemplo:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBJbmVmaWNpZW50ZTogTcOhcyBpbnN0cnVjY2lvbmVzCm1vdiBlYXgsIDAKYWRkIGVheCwgMQoKOyBFZmljaWVudGU6IE1lbm9zIGluc3RydWNjaW9uZXMKbW92IGVheCwgMQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Ineficiente: M&aacute;s instrucciones
mov eax, 0
add eax, 1

; Eficiente: Menos instrucciones
mov eax, 1</pre></div><div class='content'></div><h2><ol start="3">
<li>Evitar Instrucciones Lentas</li>
</ol>
</h2>
<div class='content'><p>Algunas instrucciones son más lentas que otras. Por ejemplo, las divisiones son generalmente más lentas que las multiplicaciones.</p>
<h4>Ejemplo:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBJbmVmaWNpZW50ZTogRGl2aXNpw7NuCm1vdiBlYXgsIDEwMAptb3YgZWJ4LCAxMApkaXYgZWJ4Cgo7IEVmaWNpZW50ZTogRGVzcGxhemFtaWVudG8gKHNpIGVsIGRpdmlzb3IgZXMgdW5hIHBvdGVuY2lhIGRlIDIpCm1vdiBlYXgsIDEwMApzaHIgZWF4LCAxICA7IERpdmlkZSBwb3IgMg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Ineficiente: Divisi&oacute;n
mov eax, 100
mov ebx, 10
div ebx

; Eficiente: Desplazamiento (si el divisor es una potencia de 2)
mov eax, 100
shr eax, 1  ; Divide por 2</pre></div><div class='content'></div><h2><ol start="4">
<li>Desenrollado de Bucles</li>
</ol>
</h2>
<div class='content'><p>El desenrollado de bucles reduce la sobrecarga de las instrucciones de control de bucle.</p>
<h4>Ejemplo:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBJbmVmaWNpZW50ZTogQnVjbGUgY29uIG11Y2hhcyBpdGVyYWNpb25lcwptb3YgZWN4LCAxMApsb29wX3N0YXJ0OgogICAgOyBDw7NkaWdvIGRlbCBidWNsZQogICAgZGVjIGVjeAogICAgam56IGxvb3Bfc3RhcnQKCjsgRWZpY2llbnRlOiBEZXNlbnJvbGxhZG8gZGVsIGJ1Y2xlCjsgQ8OzZGlnbyBkZWwgYnVjbGUKOyBDw7NkaWdvIGRlbCBidWNsZQo7IEPDs2RpZ28gZGVsIGJ1Y2xlCjsgQ8OzZGlnbyBkZWwgYnVjbGUKOyBDw7NkaWdvIGRlbCBidWNsZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Ineficiente: Bucle con muchas iteraciones
mov ecx, 10
loop_start:
    ; C&oacute;digo del bucle
    dec ecx
    jnz loop_start

; Eficiente: Desenrollado del bucle
; C&oacute;digo del bucle
; C&oacute;digo del bucle
; C&oacute;digo del bucle
; C&oacute;digo del bucle
; C&oacute;digo del bucle</pre></div><div class='content'></div><h2><ol start="5">
<li>Uso de Instrucciones SIMD</li>
</ol>
</h2>
<div class='content'><p>Las instrucciones SIMD (Single Instruction, Multiple Data) permiten realizar la misma operación en múltiples datos simultáneamente.</p>
<h4>Ejemplo:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBJbmVmaWNpZW50ZTogT3BlcmFjaW9uZXMgZXNjYWxhcmVzCm1vdiBlYXgsIFthcnJheTFdCmFkZCBlYXgsIFthcnJheTJdCm1vdiBbcmVzdWx0XSwgZWF4Cgo7IEVmaWNpZW50ZTogT3BlcmFjaW9uZXMgU0lNRCAodXNhbmRvIFNTRSkKbW92YXBzIHhtbTAsIFthcnJheTFdCmFkZHBzIHhtbTAsIFthcnJheTJdCm1vdmFwcyBbcmVzdWx0XSwgeG1tMA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Ineficiente: Operaciones escalares
mov eax, [array1]
add eax, [array2]
mov [result], eax

; Eficiente: Operaciones SIMD (usando SSE)
movaps xmm0, [array1]
addps xmm0, [array2]
movaps [result], xmm0</pre></div><div class='content'></div><h1><p>Ejercicios Prácticos</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Optimización de Suma de Arreglos</p>
</h2>
<div class='content'><p>Optimiza el siguiente código ensamblador que suma dos arreglos de 10 elementos cada uno y almacena el resultado en un tercer arreglo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQphcnJheTEgZGIgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAKYXJyYXkyIGRiIDEwLCA5LCA4LCA3LCA2LCA1LCA0LCAzLCAyLCAxCnJlc3VsdCBkYiAxMCBkdXAoMCkKCnNlY3Rpb24gLnRleHQKZ2xvYmFsIF9zdGFydAoKX3N0YXJ0OgogICAgbW92IGVjeCwgMTAKICAgIG1vdiBlc2ksIGFycmF5MQogICAgbW92IGVkaSwgYXJyYXkyCiAgICBtb3YgZWR4LCByZXN1bHQKCnN1bV9sb29wOgogICAgbW92IGFsLCBbZXNpXQogICAgYWRkIGFsLCBbZWRpXQogICAgbW92IFtlZHhdLCBhbAogICAgaW5jIGVzaQogICAgaW5jIGVkaQogICAgaW5jIGVkeAogICAgbG9vcCBzdW1fbG9vcAoKICAgIDsgRXhpdAogICAgbW92IGVheCwgNjAKICAgIHhvciBlZGksIGVkaQogICAgc3lzY2FsbA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
array1 db 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
array2 db 10, 9, 8, 7, 6, 5, 4, 3, 2, 1
result db 10 dup(0)

section .text
global _start

_start:
    mov ecx, 10
    mov esi, array1
    mov edi, array2
    mov edx, result

sum_loop:
    mov al, [esi]
    add al, [edi]
    mov [edx], al
    inc esi
    inc edi
    inc edx
    loop sum_loop

    ; Exit
    mov eax, 60
    xor edi, edi
    syscall</pre></div><div class='content'><h4>Solución:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQphcnJheTEgZGIgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAKYXJyYXkyIGRiIDEwLCA5LCA4LCA3LCA2LCA1LCA0LCAzLCAyLCAxCnJlc3VsdCBkYiAxMCBkdXAoMCkKCnNlY3Rpb24gLnRleHQKZ2xvYmFsIF9zdGFydAoKX3N0YXJ0OgogICAgbW92IGVjeCwgMTAKICAgIG1vdiBlc2ksIGFycmF5MQogICAgbW92IGVkaSwgYXJyYXkyCiAgICBtb3YgZWR4LCByZXN1bHQKCnN1bV9sb29wOgogICAgbW92IGFsLCBbZXNpXQogICAgYWRkIGFsLCBbZWRpXQogICAgbW92IFtlZHhdLCBhbAogICAgYWRkIGVzaSwgMQogICAgYWRkIGVkaSwgMQogICAgYWRkIGVkeCwgMQogICAgZGVjIGVjeAogICAgam56IHN1bV9sb29wCgogICAgOyBFeGl0CiAgICBtb3YgZWF4LCA2MAogICAgeG9yIGVkaSwgZWRpCiAgICBzeXNjYWxs"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
array1 db 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
array2 db 10, 9, 8, 7, 6, 5, 4, 3, 2, 1
result db 10 dup(0)

section .text
global _start

_start:
    mov ecx, 10
    mov esi, array1
    mov edi, array2
    mov edx, result

sum_loop:
    mov al, [esi]
    add al, [edi]
    mov [edx], al
    add esi, 1
    add edi, 1
    add edx, 1
    dec ecx
    jnz sum_loop

    ; Exit
    mov eax, 60
    xor edi, edi
    syscall</pre></div><div class='content'></div><h2><p>Ejercicio 2: Desenrollado de Bucle</p>
</h2>
<div class='content'><p>Desenrolla el siguiente bucle que multiplica cada elemento de un arreglo por 2.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQphcnJheSBkYiAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMAoKc2VjdGlvbiAudGV4dApnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICBtb3YgZWN4LCAxMAogICAgbW92IGVzaSwgYXJyYXkKCm11bHRpcGx5X2xvb3A6CiAgICBtb3YgYWwsIFtlc2ldCiAgICBzaGwgYWwsIDEKICAgIG1vdiBbZXNpXSwgYWwKICAgIGluYyBlc2kKICAgIGxvb3AgbXVsdGlwbHlfbG9vcAoKICAgIDsgRXhpdAogICAgbW92IGVheCwgNjAKICAgIHhvciBlZGksIGVkaQogICAgc3lzY2FsbA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
array db 1, 2, 3, 4, 5, 6, 7, 8, 9, 10

section .text
global _start

_start:
    mov ecx, 10
    mov esi, array

multiply_loop:
    mov al, [esi]
    shl al, 1
    mov [esi], al
    inc esi
    loop multiply_loop

    ; Exit
    mov eax, 60
    xor edi, edi
    syscall</pre></div><div class='content'><h4>Solución:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQphcnJheSBkYiAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMAoKc2VjdGlvbiAudGV4dApnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICBtb3YgZXNpLCBhcnJheQoKICAgIDsgRGVzZW5yb2xsYWRvIGRlbCBidWNsZQogICAgbW92IGFsLCBbZXNpXQogICAgc2hsIGFsLCAxCiAgICBtb3YgW2VzaV0sIGFsCiAgICBhZGQgZXNpLCAxCgogICAgbW92IGFsLCBbZXNpXQogICAgc2hsIGFsLCAxCiAgICBtb3YgW2VzaV0sIGFsCiAgICBhZGQgZXNpLCAxCgogICAgbW92IGFsLCBbZXNpXQogICAgc2hsIGFsLCAxCiAgICBtb3YgW2VzaV0sIGFsCiAgICBhZGQgZXNpLCAxCgogICAgbW92IGFsLCBbZXNpXQogICAgc2hsIGFsLCAxCiAgICBtb3YgW2VzaV0sIGFsCiAgICBhZGQgZXNpLCAxCgogICAgbW92IGFsLCBbZXNpXQogICAgc2hsIGFsLCAxCiAgICBtb3YgW2VzaV0sIGFsCiAgICBhZGQgZXNpLCAxCgogICAgbW92IGFsLCBbZXNpXQogICAgc2hsIGFsLCAxCiAgICBtb3YgW2VzaV0sIGFsCiAgICBhZGQgZXNpLCAxCgogICAgbW92IGFsLCBbZXNpXQogICAgc2hsIGFsLCAxCiAgICBtb3YgW2VzaV0sIGFsCiAgICBhZGQgZXNpLCAxCgogICAgbW92IGFsLCBbZXNpXQogICAgc2hsIGFsLCAxCiAgICBtb3YgW2VzaV0sIGFsCiAgICBhZGQgZXNpLCAxCgogICAgbW92IGFsLCBbZXNpXQogICAgc2hsIGFsLCAxCiAgICBtb3YgW2VzaV0sIGFsCiAgICBhZGQgZXNpLCAxCgogICAgbW92IGFsLCBbZXNpXQogICAgc2hsIGFsLCAxCiAgICBtb3YgW2VzaV0sIGFsCgogICAgOyBFeGl0CiAgICBtb3YgZWF4LCA2MAogICAgeG9yIGVkaSwgZWRpCiAgICBzeXNjYWxs"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
array db 1, 2, 3, 4, 5, 6, 7, 8, 9, 10

section .text
global _start

_start:
    mov esi, array

    ; Desenrollado del bucle
    mov al, [esi]
    shl al, 1
    mov [esi], al
    add esi, 1

    mov al, [esi]
    shl al, 1
    mov [esi], al
    add esi, 1

    mov al, [esi]
    shl al, 1
    mov [esi], al
    add esi, 1

    mov al, [esi]
    shl al, 1
    mov [esi], al
    add esi, 1

    mov al, [esi]
    shl al, 1
    mov [esi], al
    add esi, 1

    mov al, [esi]
    shl al, 1
    mov [esi], al
    add esi, 1

    mov al, [esi]
    shl al, 1
    mov [esi], al
    add esi, 1

    mov al, [esi]
    shl al, 1
    mov [esi], al
    add esi, 1

    mov al, [esi]
    shl al, 1
    mov [esi], al
    add esi, 1

    mov al, [esi]
    shl al, 1
    mov [esi], al

    ; Exit
    mov eax, 60
    xor edi, edi
    syscall</pre></div><div class='content'></div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>La optimización del código en ensamblador es una tarea que requiere atención al detalle y un buen entendimiento de la arquitectura del procesador. Al aplicar las técnicas discutidas, puedes mejorar significativamente el rendimiento de tus programas. En el siguiente módulo, exploraremos cómo aplicar estas técnicas en diferentes arquitecturas de ensamblador.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-03-inline-assembly' title="Ensamblador Inline en Lenguajes de Alto Nivel">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='06-01-x86-assembly' title="Lenguaje Ensamblador x86">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
