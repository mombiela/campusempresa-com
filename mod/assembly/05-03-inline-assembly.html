<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Ensamblador Inline en Lenguajes de Alto Nivel</title>

    <link rel="alternate" href="https://campusempresa.com/mod/assembly/05-03-inline-assembly" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/assembly/05-03-inline-assembly" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/assembly/05-03-inline-assembly" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/assembly/05-03-inline-assembly" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/assembly/05-03-inline-assembly" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Todo el conocimiento a tu alcance</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-02-macros-conditional' title="Macros y Ensamblado Condicional">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Ensamblador Inline en Lenguajes de Alto Nivel</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-04-optimizing-code' title="Optimización del Código en Ensamblador">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>El ensamblador inline permite a los programadores insertar código ensamblador directamente dentro de un programa escrito en un lenguaje de alto nivel, como C o C++. Esta técnica es útil para optimizar secciones críticas del código, acceder a instrucciones específicas del hardware o realizar operaciones que no son fácilmente accesibles desde el lenguaje de alto nivel.</p>
</div><h1>¿Qué es el Ensamblador Inline?</h1>
<div class='content'><p>El ensamblador inline es una característica que permite incluir instrucciones de ensamblador directamente dentro del código fuente de un lenguaje de alto nivel. Esto se hace utilizando una sintaxis específica que varía según el compilador y el lenguaje.</p>
</div><h2>Ventajas del Ensamblador Inline</h2>
<div class='content'><ul>
<li><strong>Optimización</strong>: Permite optimizar secciones críticas del código para mejorar el rendimiento.</li>
<li><strong>Acceso a Instrucciones Especiales</strong>: Facilita el uso de instrucciones específicas del hardware que no están disponibles en el lenguaje de alto nivel.</li>
<li><strong>Control Preciso</strong>: Proporciona un control más preciso sobre el comportamiento del hardware.</li>
</ul>
</div><h2>Desventajas del Ensamblador Inline</h2>
<div class='content'><ul>
<li><strong>Portabilidad</strong>: El código ensamblador es específico de la arquitectura, lo que puede dificultar la portabilidad del código.</li>
<li><strong>Complejidad</strong>: Aumenta la complejidad del código, lo que puede dificultar su mantenimiento y comprensión.</li>
<li><strong>Errores Difíciles de Depurar</strong>: Los errores en el código ensamblador pueden ser difíciles de depurar y diagnosticar.</li>
</ul>
</div><h1>Sintaxis del Ensamblador Inline en C/C++</h1>
<div class='content'><p>En C y C++, el ensamblador inline se puede utilizar con la palabra clave <code>asm</code> o <code>__asm__</code>. A continuación, se muestra la sintaxis básica:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXNtKCJpbnN0cnVjY2nDs24gZGUgZW5zYW1ibGFkb3IiKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>asm(&quot;instrucci&oacute;n de ensamblador&quot;);</pre></div><div class='content'></div><h2>Ejemplo Básico</h2>
<div class='content'><p>A continuación, se muestra un ejemplo básico de ensamblador inline en C:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIGludCBhID0gMTAsIGIgPSAyMCwgcmVzdWx0OwoKICAgIGFzbSgiYWRkbCAlJWVieCwgJSVlYXg7IgogICAgICAgIDogIj1hIiAocmVzdWx0KQogICAgICAgIDogImEiIChhKSwgImIiIChiKQogICAgKTsKCiAgICBwcmludGYoIlJlc3VsdGFkbzogJWRcbiIsIHJlc3VsdCk7CiAgICByZXR1cm4gMDsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    int a = 10, b = 20, result;

    asm(&quot;addl %%ebx, %%eax;&quot;
        : &quot;=a&quot; (result)
        : &quot;a&quot; (a), &quot;b&quot; (b)
    );

    printf(&quot;Resultado: %d\n&quot;, result);
    return 0;
}</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ul>
<li><strong><code>asm(&quot;addl %%ebx, %%eax;&quot;)</code></strong>: Esta línea contiene la instrucción de ensamblador que suma los valores de los registros <code>ebx</code> y <code>eax</code>.</li>
<li><strong><code>&quot;=a&quot; (result)</code></strong>: Indica que el resultado de la operación se almacenará en la variable <code>result</code>.</li>
<li><strong><code>&quot;a&quot; (a), &quot;b&quot; (b)</code></strong>: Especifica que los valores de las variables <code>a</code> y <code>b</code> se cargarán en los registros <code>eax</code> y <code>ebx</code>, respectivamente.</li>
</ul>
</div><h1>Clobbers y Operandos</h1>
<div class='content'></div><h2>Clobbers</h2>
<div class='content'><p>Los clobbers son registros que el ensamblador inline puede modificar. Es importante especificar estos registros para que el compilador pueda gestionar adecuadamente el uso de los registros.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXNtKCJpbnN0cnVjY2nDs24gZGUgZW5zYW1ibGFkb3IiCiAgICA6IC8qIG91dHB1dCBvcGVyYW5kcyAqLwogICAgOiAvKiBpbnB1dCBvcGVyYW5kcyAqLwogICAgOiAiY2xvYmJlcmVkIHJlZ2lzdGVycyIKKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>asm(&quot;instrucci&oacute;n de ensamblador&quot;
    : /* output operands */
    : /* input operands */
    : &quot;clobbered registers&quot;
);</pre></div><div class='content'></div><h2>Ejemplo con Clobbers</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIGludCBhID0gMTAsIGIgPSAyMCwgcmVzdWx0OwoKICAgIGFzbSgiYWRkbCAlJWVieCwgJSVlYXg7IgogICAgICAgIDogIj1hIiAocmVzdWx0KQogICAgICAgIDogImEiIChhKSwgImIiIChiKQogICAgICAgIDogImNjIgogICAgKTsKCiAgICBwcmludGYoIlJlc3VsdGFkbzogJWRcbiIsIHJlc3VsdCk7CiAgICByZXR1cm4gMDsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    int a = 10, b = 20, result;

    asm(&quot;addl %%ebx, %%eax;&quot;
        : &quot;=a&quot; (result)
        : &quot;a&quot; (a), &quot;b&quot; (b)
        : &quot;cc&quot;
    );

    printf(&quot;Resultado: %d\n&quot;, result);
    return 0;
}</pre></div><div class='content'><p>En este ejemplo, el clobber <code>&quot;cc&quot;</code> indica que la instrucción de ensamblador puede modificar los flags de condición.</p>
</div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Multiplicación de Dos Números</h2>
<div class='content'><p>Escribe un programa en C que utilice ensamblador inline para multiplicar dos números.</p>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIGludCBhID0gNSwgYiA9IDMsIHJlc3VsdDsKCiAgICBhc20oImltdWxsICUlZWJ4LCAlJWVheDsiCiAgICAgICAgOiAiPWEiIChyZXN1bHQpCiAgICAgICAgOiAiYSIgKGEpLCAiYiIgKGIpCiAgICApOwoKICAgIHByaW50ZigiUmVzdWx0YWRvOiAlZFxuIiwgcmVzdWx0KTsKICAgIHJldHVybiAwOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    int a = 5, b = 3, result;

    asm(&quot;imull %%ebx, %%eax;&quot;
        : &quot;=a&quot; (result)
        : &quot;a&quot; (a), &quot;b&quot; (b)
    );

    printf(&quot;Resultado: %d\n&quot;, result);
    return 0;
}</pre></div><div class='content'></div><h2>Ejercicio 2: Intercambio de Valores</h2>
<div class='content'><p>Escribe un programa en C que utilice ensamblador inline para intercambiar los valores de dos variables.</p>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIGludCBhID0gNSwgYiA9IDEwOwoKICAgIGFzbSgieGNoZ2wgJSVlYXgsICUlZWJ4OyIKICAgICAgICA6ICI9YSIgKGEpLCAiPWIiIChiKQogICAgICAgIDogImEiIChhKSwgImIiIChiKQogICAgKTsKCiAgICBwcmludGYoImE6ICVkLCBiOiAlZFxuIiwgYSwgYik7CiAgICByZXR1cm4gMDsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    int a = 5, b = 10;

    asm(&quot;xchgl %%eax, %%ebx;&quot;
        : &quot;=a&quot; (a), &quot;=b&quot; (b)
        : &quot;a&quot; (a), &quot;b&quot; (b)
    );

    printf(&quot;a: %d, b: %d\n&quot;, a, b);
    return 0;
}</pre></div><div class='content'></div><h1>Errores Comunes y Consejos</h1>
<div class='content'></div><h2>Errores Comunes</h2>
<div class='content'><ul>
<li><strong>Olvidar Especificar Clobbers</strong>: No especificar los registros que pueden ser modificados puede llevar a comportamientos inesperados.</li>
<li><strong>Confundir Sintaxis</strong>: La sintaxis del ensamblador inline puede variar entre compiladores, por lo que es importante consultar la documentación específica del compilador que se está utilizando.</li>
<li><strong>No Inicializar Variables</strong>: Asegúrate de que todas las variables utilizadas en el ensamblador inline estén correctamente inicializadas.</li>
</ul>
</div><h2>Consejos</h2>
<div class='content'><ul>
<li><strong>Consultar la Documentación del Compilador</strong>: La sintaxis y las características del ensamblador inline pueden variar entre compiladores, por lo que es importante consultar la documentación específica.</li>
<li><strong>Probar y Depurar</strong>: Utiliza herramientas de depuración para verificar que el ensamblador inline se está ejecutando correctamente y produciendo los resultados esperados.</li>
<li><strong>Mantener el Código Claro</strong>: Documenta y comenta el código ensamblador inline para facilitar su comprensión y mantenimiento.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>El ensamblador inline es una herramienta poderosa que permite a los programadores optimizar y controlar secciones críticas del código. Aunque puede aumentar la complejidad y reducir la portabilidad, su uso adecuado puede proporcionar mejoras significativas en el rendimiento y la funcionalidad del software. Con la práctica y la comprensión de los conceptos básicos, los programadores pueden aprovechar al máximo esta técnica avanzada.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-02-macros-conditional' title="Macros y Ensamblado Condicional">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-04-optimizing-code' title="Optimización del Código en Ensamblador">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicidad</h1>
<p>Este espacio está destinado a publicidad.</p>
<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>¡Gracias por colaborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
