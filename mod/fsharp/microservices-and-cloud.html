<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Microservicios y la Nube con F#</title>

    <link rel="alternate" href="https://campusempresa.com/mod/fsharp/microservices-and-cloud" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/fsharp/microservices-and-cloud" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/fsharp/microservices-and-cloud" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/fsharp/microservices-and-cloud" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/fsharp/microservices-and-cloud" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='mobile-development'>&#x25C4;Desarrollo Móvil</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Microservicios y la Nube con F#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='code-organization'>Organización del Código y Módulos &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a los Microservicios</h1>
<div class='content'><p>La arquitectura de microservicios es un patrón de diseño donde una aplicación de software está compuesta por pequeños servicios independientes que se comunican a través de APIs bien definidas. Cada servicio se enfoca en una función de negocio específica y puede ser desarrollado, desplegado y escalado de manera independiente.</p>
<ul>
<li><strong>Conceptos Clave:</strong>
<ul>
<li><strong>Independencia del Servicio:</strong> Cada microservicio opera de manera independiente.</li>
<li><strong>Comunicación por API:</strong> Los servicios se comunican a través de APIs, a menudo usando HTTP/REST o colas de mensajería.</li>
<li><strong>Escalabilidad:</strong> Cada servicio puede ser escalado de manera independiente según la demanda.</li>
<li><strong>Resiliencia:</strong> La falla en un servicio no necesariamente afecta a los demás.</li>
</ul>
</li>
</ul>
</div><h1>Introducción a la Computación en la Nube</h1>
<div class='content'><p>La computación en la nube proporciona la entrega bajo demanda de recursos informáticos a través de internet. Permite una gestión de recursos escalable y flexible, lo cual es ideal para microservicios.</p>
<ul>
<li><strong>Conceptos Clave:</strong>
<ul>
<li><strong>Infraestructura como Servicio (IaaS):</strong> Proporciona recursos informáticos virtualizados a través de internet.</li>
<li><strong>Plataforma como Servicio (PaaS):</strong> Proporciona una plataforma que permite a los clientes desarrollar, ejecutar y gestionar aplicaciones.</li>
<li><strong>Software como Servicio (SaaS):</strong> Entrega aplicaciones de software a través de internet, en base a suscripción.</li>
</ul>
</li>
</ul>
</div><h1>Configuración de Tu Entorno</h1>
<div class='content'><p>Antes de sumergirte en los microservicios con F#, asegúrate de tener las herramientas necesarias instaladas.</p>
<ul>
<li><strong>Herramientas Requeridas:</strong>
<ul>
<li><strong>.NET SDK:</strong> El kit de desarrollo de software para construir aplicaciones.</li>
<li><strong>Compilador de F#:</strong> Parte del .NET SDK.</li>
<li><strong>Docker:</strong> Para contenerizar microservicios.</li>
<li><strong>Kubernetes:</strong> Para orquestar contenedores (opcional pero recomendado para usuarios avanzados).</li>
</ul>
</li>
</ul>
</div><h2>Pasos de Instalación</h2>
<div class='content'><ol>
<li>
<p><strong>Instalar .NET SDK:</strong></p>
<pre><code class="language-bash">wget https://dotnet.microsoft.com/download/dotnet-core/scripts/v1/dotnet-install.sh
chmod +x dotnet-install.sh
./dotnet-install.sh
</code></pre>
</li>
<li>
<p><strong>Instalar Docker:</strong>
Sigue las instrucciones en el <a href="https://docs.docker.com/get-docker/">sitio web de Docker</a>.</p>
</li>
<li>
<p><strong>Instalar Kubernetes (Opcional):</strong>
Sigue las instrucciones en el <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">sitio web de Kubernetes</a>.</p>
</li>
</ol>
</div><h1>Construyendo un Microservicio Simple en F#</h1>
<div class='content'><p>Comencemos construyendo un microservicio simple en F# que realice operaciones CRUD básicas.</p>
</div><h2>Paso 1: Crear un Nuevo Proyecto en F#</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG90bmV0IG5ldyBjb25zb2xlIC1sYW5nIEYjIC1vIFNpbXBsZU1pY3Jvc2VydmljZQpjZCBTaW1wbGVNaWNyb3NlcnZpY2U="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dotnet new console -lang F# -o SimpleMicroservice
cd SimpleMicroservice</pre></div><div class='content'></div><h2>Paso 2: Definir un Modelo de Datos Simple</h2>
<div class='content'><p>Crea un archivo llamado <code>Models.fs</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9kdWxlIE1vZGVscwoKdHlwZSBJdGVtID0gewogICAgSWQ6IGludAogICAgTmFtZTogc3RyaW5nCiAgICBEZXNjcmlwdGlvbjogc3RyaW5nCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>module Models

type Item = {
    Id: int
    Name: string
    Description: string
}</pre></div><div class='content'></div><h2>Paso 3: Implementar Operaciones CRUD</h2>
<div class='content'><p>Crea un archivo llamado <code>Service.fs</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9kdWxlIFNlcnZpY2UKCm9wZW4gTW9kZWxzCgpsZXQgbXV0YWJsZSBpdGVtcyA9IFtdCgpsZXQgYWRkSXRlbSBpdGVtID0KICAgIGl0ZW1zIDwtIGl0ZW0gOjogaXRlbXMKCmxldCBnZXRJdGVtIGlkID0KICAgIGl0ZW1zIHw+IExpc3QudHJ5RmluZCAoZnVuIGl0ZW0gLT4gaXRlbS5JZCA9IGlkKQoKbGV0IHVwZGF0ZUl0ZW0gdXBkYXRlZEl0ZW0gPQogICAgaXRlbXMgPC0gaXRlbXMgfD4gTGlzdC5tYXAgKGZ1biBpdGVtIC0+IGlmIGl0ZW0uSWQgPSB1cGRhdGVkSXRlbS5JZCBlbnRvbmNlcyB1cGRhdGVkSXRlbSBlbHNlIGl0ZW0pCgpsZXQgZGVsZXRlSXRlbSBpZCA9CiAgICBpdGVtcyA8LSBpdGVtcyB8PiBMaXN0LmZpbHRlciAoZnVuIGl0ZW0gLT4gaXRlbS5JZCA8PiBpZCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>module Service

open Models

let mutable items = []

let addItem item =
    items &lt;- item :: items

let getItem id =
    items |&gt; List.tryFind (fun item -&gt; item.Id = id)

let updateItem updatedItem =
    items &lt;- items |&gt; List.map (fun item -&gt; if item.Id = updatedItem.Id entonces updatedItem else item)

let deleteItem id =
    items &lt;- items |&gt; List.filter (fun item -&gt; item.Id &lt;&gt; id)</pre></div><div class='content'></div><h2>Paso 4: Crear una API REST</h2>
<div class='content'><p>Crea un archivo llamado <code>Program.fs</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbiBTeXN0ZW0Kb3BlbiBHaXJhZmZlCm9wZW4gTWljcm9zb2Z0LkFzcE5ldENvcmUuQnVpbGRlcgpvcGVuIE1pY3Jvc29mdC5Bc3BOZXRDb3JlLkhvc3RpbmcKb3BlbiBNaWNyb3NvZnQuRXh0ZW5zaW9ucy5EZXBlbmRlbmN5SW5qZWN0aW9uCm9wZW4gTWljcm9zb2Z0LkV4dGVuc2lvbnMuSG9zdGluZwpvcGVuIFNlcnZpY2UKb3BlbiBNb2RlbHMKCmxldCB3ZWJBcHAgPQogICAgY2hvb3NlIFsKICAgICAgICBHRVQgPj0+IHJvdXRlICIvaXRlbXMiID49PiBqc29uIGl0ZW1zCiAgICAgICAgR0VUID49PiByb3V0ZWYgIi9pdGVtcy8laSIgKGZ1biBpZCAtPiBqc29uIChnZXRJdGVtIGlkKSkKICAgICAgICBQT1NUID49PiByb3V0ZSAiL2l0ZW1zIiA+PT4gYmluZEpzb248SXRlbT4gKGZ1biBpdGVtIC0+IGFkZEl0ZW0gaXRlbTsganNvbiBpdGVtKQogICAgICAgIFBVVCA+PT4gcm91dGVmICIvaXRlbXMvJWkiIChmdW4gaWQgLT4gYmluZEpzb248SXRlbT4gKGZ1biBpdGVtIC0+IHVwZGF0ZUl0ZW0geyBpdGVtIHdpdGggSWQgPSBpZCB9OyBqc29uIGl0ZW0pKQogICAgICAgIERFTEVURSA+PT4gcm91dGVmICIvaXRlbXMvJWkiIChmdW4gaWQgLT4gZGVsZXRlSXRlbSBpZDsganNvbiBpZCkKICAgIF0KCmxldCBjb25maWd1cmVBcHAgKGFwcDogSUFwcGxpY2F0aW9uQnVpbGRlcikgPQogICAgYXBwLlVzZUdpcmFmZmUgd2ViQXBwCgpsZXQgY29uZmlndXJlU2VydmljZXMgKHNlcnZpY2VzOiBJU2VydmljZUNvbGxlY3Rpb24pID0KICAgIHNlcnZpY2VzLkFkZEdpcmFmZmUoKSB8PiBpZ25vcmUKCls8RW50cnlQb2ludD5dCmxldCBtYWluIF8gPQogICAgSG9zdC5DcmVhdGVEZWZhdWx0QnVpbGRlcigpCiAgICAgICAgLkNvbmZpZ3VyZVdlYkhvc3REZWZhdWx0cyhmdW4gd2ViSG9zdEJ1aWxkZXIgLT4KICAgICAgICAgICAgd2ViSG9zdEJ1aWxkZXIKICAgICAgICAgICAgICAgIC5Db25maWd1cmUoY29uZmlndXJlQXBwKQogICAgICAgICAgICAgICAgLkNvbmZpZ3VyZVNlcnZpY2VzKGNvbmZpZ3VyZVNlcnZpY2VzKQogICAgICAgICAgICAgICAgLlVzZVVybHMoImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMCIpCiAgICAgICAgICAgICAgICB8PiBpZ25vcmUpCiAgICAgICAgLkJ1aWxkKCkKICAgICAgICAuUnVuKCkKICAgIDA="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open System
open Giraffe
open Microsoft.AspNetCore.Builder
open Microsoft.AspNetCore.Hosting
open Microsoft.Extensions.DependencyInjection
open Microsoft.Extensions.Hosting
open Service
open Models

let webApp =
    choose [
        GET &gt;=&gt; route &quot;/items&quot; &gt;=&gt; json items
        GET &gt;=&gt; routef &quot;/items/%i&quot; (fun id -&gt; json (getItem id))
        POST &gt;=&gt; route &quot;/items&quot; &gt;=&gt; bindJson&lt;Item&gt; (fun item -&gt; addItem item; json item)
        PUT &gt;=&gt; routef &quot;/items/%i&quot; (fun id -&gt; bindJson&lt;Item&gt; (fun item -&gt; updateItem { item with Id = id }; json item))
        DELETE &gt;=&gt; routef &quot;/items/%i&quot; (fun id -&gt; deleteItem id; json id)
    ]

let configureApp (app: IApplicationBuilder) =
    app.UseGiraffe webApp

let configureServices (services: IServiceCollection) =
    services.AddGiraffe() |&gt; ignore

[&lt;EntryPoint&gt;]
let main _ =
    Host.CreateDefaultBuilder()
        .ConfigureWebHostDefaults(fun webHostBuilder -&gt;
            webHostBuilder
                .Configure(configureApp)
                .ConfigureServices(configureServices)
                .UseUrls(&quot;http://localhost:5000&quot;)
                |&gt; ignore)
        .Build()
        .Run()
    0</pre></div><div class='content'></div><h2>Paso 5: Ejecutar el Microservicio</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG90bmV0IHJ1bg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dotnet run</pre></div><div class='content'></div><h1>Desplegando en la Nube</h1>
<div class='content'><p>Desplegar microservicios en la nube implica contenerizar la aplicación y usar servicios en la nube para gestionarla y escalarla.</p>
</div><h2>Paso 1: Crear un Dockerfile</h2>
<div class='content'><p>Crea un archivo llamado <code>Dockerfile</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RlJPTSBtY3IubWljcm9zb2Z0LmNvbS9kb3RuZXQvc2RrOjUuMCBBUyBidWlsZApXT1JLRElSIC9hcHAKQ09QWSAuIC4KUlVOIGRvdG5ldCBwdWJsaXNoIC1jIFJlbGVhc2UgLW8gb3V0CgpGUk9NIG1jci5taWNyb3NvZnQuY29tL2RvdG5ldC9hc3BuZXQ6NS4wCldPUktESVIgL2FwcApDT1BZIC0tZnJvbT1idWlsZCAvYXBwL291dCAuCkVOVFJZUE9JTlQgWyJkb3RuZXQiLCAiU2ltcGxlTWljcm9zZXJ2aWNlLmRsbCJd"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>FROM mcr.microsoft.com/dotnet/sdk:5.0 AS build
WORKDIR /app
COPY . .
RUN dotnet publish -c Release -o out

FROM mcr.microsoft.com/dotnet/aspnet:5.0
WORKDIR /app
COPY --from=build /app/out .
ENTRYPOINT [&quot;dotnet&quot;, &quot;SimpleMicroservice.dll&quot;]</pre></div><div class='content'></div><h2>Paso 2: Construir y Ejecutar la Imagen de Docker</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9ja2VyIGJ1aWxkIC10IHNpbXBsZW1pY3Jvc2VydmljZSAuCmRvY2tlciBydW4gLWQgLXAgNTAwMDo4MCBzaW1wbGVtaWNyb3NlcnZpY2U="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>docker build -t simplemicroservice .
docker run -d -p 5000:80 simplemicroservice</pre></div><div class='content'></div><h2>Paso 3: Desplegar en un Proveedor de Nube</h2>
<div class='content'><ul>
<li><strong>Azure:</strong> Usa Azure Container Instances o Azure Kubernetes Service.</li>
<li><strong>AWS:</strong> Usa Amazon ECS o Amazon EKS.</li>
<li><strong>Google Cloud:</strong> Usa Google Kubernetes Engine.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>En este tema, cubrimos los conceptos básicos de microservicios y computación en la nube, configuramos un entorno para el desarrollo en F#, construimos un microservicio simple y lo contenerizamos para su despliegue en la nube. Esta base te permite explorar temas más avanzados como descubrimiento de servicios, balanceo de carga y monitoreo en una arquitectura de microservicios.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='mobile-development'>&#x25C4;Desarrollo Móvil</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Microservicios y la Nube con F#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='code-organization'>Organización del Código y Módulos &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
