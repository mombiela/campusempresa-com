<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flujos de Trabajo Asíncronos</title>

    <link rel="alternate" href="https://campusempresa.com/mod/fsharp/06-01-asynchronous-workflows" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/fsharp/06-01-asynchronous-workflows" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/fsharp/06-01-asynchronous-workflows" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/fsharp/06-01-asynchronous-workflows" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/fsharp/06-01-asynchronous-workflows" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-modules-namespaces' title="Módulos y Espacios de Nombres">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Flujos de Trabajo Asíncronos</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-02-task-parallel-library' title="Biblioteca de Tareas Paralelas">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En este módulo, aprenderemos sobre los flujos de trabajo asíncronos en F#. La programación asíncrona es crucial para construir aplicaciones eficientes y escalables, especialmente cuando se trata de operaciones de I/O, como la lectura de archivos, el acceso a bases de datos o la comunicación con servicios web.</p>
</div><h1>Objetivos del Módulo</h1>
<div class='content'><ul>
<li>Comprender los conceptos básicos de la programación asíncrona.</li>
<li>Aprender a utilizar flujos de trabajo asíncronos en F#.</li>
<li>Implementar operaciones asíncronas utilizando <code>async</code> y <code>Async</code>.</li>
<li>Manejar errores en flujos de trabajo asíncronos.</li>
<li>Ejecutar y combinar tareas asíncronas.</li>
</ul>
</div><h1>Conceptos Básicos de la Programación Asíncrona</h1>
<div class='content'><p>La programación asíncrona permite que un programa continúe ejecutándose mientras espera que se completen operaciones de larga duración. Esto es especialmente útil para mejorar la capacidad de respuesta de las aplicaciones.</p>
</div><h2>Ventajas de la Programación Asíncrona</h2>
<div class='content'><ul>
<li><strong>Mejor rendimiento</strong>: Permite que el programa realice otras tareas mientras espera.</li>
<li><strong>Escalabilidad</strong>: Mejora la capacidad de manejar múltiples operaciones simultáneamente.</li>
<li><strong>Capacidad de respuesta</strong>: Mantiene la interfaz de usuario activa y receptiva.</li>
</ul>
</div><h1>Flujos de Trabajo Asíncronos en F#</h1>
<div class='content'><p>En F#, los flujos de trabajo asíncronos se manejan mediante el uso de la palabra clave <code>async</code> y el tipo <code>Async</code>. Un flujo de trabajo asíncrono se define utilizando <code>async { ... }</code>.</p>
</div><h2>Sintaxis Básica</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGFzeW5jV29ya2Zsb3cgPSBhc3luYyB7CiAgICAvLyBPcGVyYWNpb25lcyBhc8OtbmNyb25hcyBhcXXDrQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let asyncWorkflow = async {
    // Operaciones as&iacute;ncronas aqu&iacute;
}</pre></div><div class='content'></div><h2>Ejemplo Práctico: Operación Asíncrona Simple</h2>
<div class='content'><p>Vamos a crear un flujo de trabajo asíncrono que simula una operación de larga duración utilizando <code>Async.Sleep</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbiBTeXN0ZW0KCmxldCBhc3luY09wZXJhdGlvbiA9IGFzeW5jIHsKICAgIHByaW50Zm4gIk9wZXJhY2nDs24gaW5pY2lhZGEuLi4iCiAgICBkbyEgQXN5bmMuU2xlZXAoMjAwMCkgLy8gU2ltdWxhIHVuYSBvcGVyYWNpw7NuIGRlIDIgc2VndW5kb3MKICAgIHByaW50Zm4gIk9wZXJhY2nDs24gY29tcGxldGFkYS4iCn0KCi8vIEVqZWN1dGFyIGVsIGZsdWpvIGRlIHRyYWJham8gYXPDrW5jcm9ubwpBc3luYy5SdW5TeW5jaHJvbm91c2x5IGFzeW5jT3BlcmF0aW9u"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open System

let asyncOperation = async {
    printfn &quot;Operaci&oacute;n iniciada...&quot;
    do! Async.Sleep(2000) // Simula una operaci&oacute;n de 2 segundos
    printfn &quot;Operaci&oacute;n completada.&quot;
}

// Ejecutar el flujo de trabajo as&iacute;ncrono
Async.RunSynchronously asyncOperation</pre></div><div class='content'><h4>Explicación del Código</h4>
<ul>
<li><code>async { ... }</code>: Define un flujo de trabajo asíncrono.</li>
<li><code>do! Async.Sleep(2000)</code>: Pausa la ejecución del flujo de trabajo durante 2 segundos.</li>
<li><code>Async.RunSynchronously asyncOperation</code>: Ejecuta el flujo de trabajo asíncrono de manera sincrónica.</li>
</ul>
</div><h2>Manejo de Errores en Flujos de Trabajo Asíncronos</h2>
<div class='content'><p>Es importante manejar los errores que pueden ocurrir durante la ejecución de operaciones asíncronas. Esto se puede hacer utilizando <code>try...with</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGFzeW5jT3BlcmF0aW9uV2l0aEVycm9ySGFuZGxpbmcgPSBhc3luYyB7CiAgICB0cnkKICAgICAgICBwcmludGZuICJPcGVyYWNpw7NuIGluaWNpYWRhLi4uIgogICAgICAgIGRvISBBc3luYy5TbGVlcCgyMDAwKQogICAgICAgIGZhaWx3aXRoICJPY3VycmnDsyB1biBlcnJvciIKICAgICAgICBwcmludGZuICJPcGVyYWNpw7NuIGNvbXBsZXRhZGEuIgogICAgd2l0aAogICAgfCBleCAtPiBwcmludGZuICJFcnJvcjogJXMiIGV4Lk1lc3NhZ2UKfQoKQXN5bmMuUnVuU3luY2hyb25vdXNseSBhc3luY09wZXJhdGlvbldpdGhFcnJvckhhbmRsaW5n"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let asyncOperationWithErrorHandling = async {
    try
        printfn &quot;Operaci&oacute;n iniciada...&quot;
        do! Async.Sleep(2000)
        failwith &quot;Ocurri&oacute; un error&quot;
        printfn &quot;Operaci&oacute;n completada.&quot;
    with
    | ex -&gt; printfn &quot;Error: %s&quot; ex.Message
}

Async.RunSynchronously asyncOperationWithErrorHandling</pre></div><div class='content'><h4>Explicación del Código</h4>
<ul>
<li><code>try...with</code>: Bloque para manejar excepciones.</li>
<li><code>failwith &quot;Ocurrió un error&quot;</code>: Lanza una excepción.</li>
<li><code>| ex -&gt; printfn &quot;Error: %s&quot; ex.Message</code>: Captura y maneja la excepción.</li>
</ul>
</div><h2>Combinación de Tareas Asíncronas</h2>
<div class='content'><p>A menudo, es necesario ejecutar múltiples tareas asíncronas y combinar sus resultados. Esto se puede hacer utilizando <code>Async.Parallel</code> y <code>Async.Sequential</code>.</p>
<h4>Ejemplo: Ejecutar Tareas en Paralelo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IHRhc2sxID0gYXN5bmMgewogICAgZG8hIEFzeW5jLlNsZWVwKDEwMDApCiAgICByZXR1cm4gIlRhcmVhIDEgY29tcGxldGFkYSIKfQoKbGV0IHRhc2syID0gYXN5bmMgewogICAgZG8hIEFzeW5jLlNsZWVwKDIwMDApCiAgICByZXR1cm4gIlRhcmVhIDIgY29tcGxldGFkYSIKfQoKbGV0IGNvbWJpbmVkVGFza3MgPSBhc3luYyB7CiAgICBsZXQhIHJlc3VsdHMgPSBbdGFzazE7IHRhc2syXSB8PiBBc3luYy5QYXJhbGxlbAogICAgcmVzdWx0cyB8PiBBcnJheS5pdGVyIHByaW50Zm4KfQoKQXN5bmMuUnVuU3luY2hyb25vdXNseSBjb21iaW5lZFRhc2tz"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let task1 = async {
    do! Async.Sleep(1000)
    return &quot;Tarea 1 completada&quot;
}

let task2 = async {
    do! Async.Sleep(2000)
    return &quot;Tarea 2 completada&quot;
}

let combinedTasks = async {
    let! results = [task1; task2] |&gt; Async.Parallel
    results |&gt; Array.iter printfn
}

Async.RunSynchronously combinedTasks</pre></div><div class='content'><h4>Explicación del Código</h4>
<ul>
<li><code>Async.Parallel</code>: Ejecuta las tareas en paralelo.</li>
<li><code>let! results = [task1; task2] |&gt; Async.Parallel</code>: Espera a que todas las tareas se completen y obtiene sus resultados.</li>
<li><code>results |&gt; Array.iter printfn</code>: Imprime los resultados de las tareas.</li>
</ul>
</div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Simulación de Operación de Red</h2>
<div class='content'><p>Crea un flujo de trabajo asíncrono que simule una operación de red que tarda 3 segundos en completarse. Imprime un mensaje antes y después de la operación.</p>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IG5ldHdvcmtPcGVyYXRpb24gPSBhc3luYyB7CiAgICBwcmludGZuICJJbmljaWFuZG8gb3BlcmFjacOzbiBkZSByZWQuLi4iCiAgICBkbyEgQXN5bmMuU2xlZXAoMzAwMCkKICAgIHByaW50Zm4gIk9wZXJhY2nDs24gZGUgcmVkIGNvbXBsZXRhZGEuIgp9CgpBc3luYy5SdW5TeW5jaHJvbm91c2x5IG5ldHdvcmtPcGVyYXRpb24="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let networkOperation = async {
    printfn &quot;Iniciando operaci&oacute;n de red...&quot;
    do! Async.Sleep(3000)
    printfn &quot;Operaci&oacute;n de red completada.&quot;
}

Async.RunSynchronously networkOperation</pre></div><div class='content'></div><h2>Ejercicio 2: Manejo de Errores en Operaciones Asíncronas</h2>
<div class='content'><p>Modifica el ejercicio anterior para que maneje cualquier error que pueda ocurrir durante la operación de red.</p>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IG5ldHdvcmtPcGVyYXRpb25XaXRoRXJyb3JIYW5kbGluZyA9IGFzeW5jIHsKICAgIHRyeQogICAgICAgIHByaW50Zm4gIkluaWNpYW5kbyBvcGVyYWNpw7NuIGRlIHJlZC4uLiIKICAgICAgICBkbyEgQXN5bmMuU2xlZXAoMzAwMCkKICAgICAgICBmYWlsd2l0aCAiRXJyb3IgZGUgcmVkIgogICAgICAgIHByaW50Zm4gIk9wZXJhY2nDs24gZGUgcmVkIGNvbXBsZXRhZGEuIgogICAgd2l0aAogICAgfCBleCAtPiBwcmludGZuICJFcnJvcjogJXMiIGV4Lk1lc3NhZ2UKfQoKQXN5bmMuUnVuU3luY2hyb25vdXNseSBuZXR3b3JrT3BlcmF0aW9uV2l0aEVycm9ySGFuZGxpbmc="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let networkOperationWithErrorHandling = async {
    try
        printfn &quot;Iniciando operaci&oacute;n de red...&quot;
        do! Async.Sleep(3000)
        failwith &quot;Error de red&quot;
        printfn &quot;Operaci&oacute;n de red completada.&quot;
    with
    | ex -&gt; printfn &quot;Error: %s&quot; ex.Message
}

Async.RunSynchronously networkOperationWithErrorHandling</pre></div><div class='content'></div><h2>Ejercicio 3: Combinación de Tareas Asíncronas</h2>
<div class='content'><p>Crea dos tareas asíncronas que simulen operaciones de I/O, una que tarde 1 segundo y otra que tarde 2 segundos. Ejecuta ambas tareas en paralelo y muestra sus resultados.</p>
<h4>Solución</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGlvVGFzazEgPSBhc3luYyB7CiAgICBkbyEgQXN5bmMuU2xlZXAoMTAwMCkKICAgIHJldHVybiAiT3BlcmFjacOzbiBJL08gMSBjb21wbGV0YWRhIgp9CgpsZXQgaW9UYXNrMiA9IGFzeW5jIHsKICAgIGRvISBBc3luYy5TbGVlcCgyMDAwKQogICAgcmV0dXJuICJPcGVyYWNpw7NuIEkvTyAyIGNvbXBsZXRhZGEiCn0KCmxldCBjb21iaW5lZElPVGFza3MgPSBhc3luYyB7CiAgICBsZXQhIHJlc3VsdHMgPSBbaW9UYXNrMTsgaW9UYXNrMl0gfD4gQXN5bmMuUGFyYWxsZWwKICAgIHJlc3VsdHMgfD4gQXJyYXkuaXRlciBwcmludGZuCn0KCkFzeW5jLlJ1blN5bmNocm9ub3VzbHkgY29tYmluZWRJT1Rhc2tz"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let ioTask1 = async {
    do! Async.Sleep(1000)
    return &quot;Operaci&oacute;n I/O 1 completada&quot;
}

let ioTask2 = async {
    do! Async.Sleep(2000)
    return &quot;Operaci&oacute;n I/O 2 completada&quot;
}

let combinedIOTasks = async {
    let! results = [ioTask1; ioTask2] |&gt; Async.Parallel
    results |&gt; Array.iter printfn
}

Async.RunSynchronously combinedIOTasks</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En este módulo, hemos aprendido los conceptos básicos de la programación asíncrona en F# y cómo utilizar flujos de trabajo asíncronos para mejorar el rendimiento y la capacidad de respuesta de nuestras aplicaciones. Hemos cubierto la sintaxis básica, el manejo de errores y la combinación de tareas asíncronas. Con estos conocimientos, estás preparado para manejar operaciones de larga duración de manera eficiente en tus aplicaciones F#.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-modules-namespaces' title="Módulos y Espacios de Nombres">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-02-task-parallel-library' title="Biblioteca de Tareas Paralelas">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
