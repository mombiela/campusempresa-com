<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manejo de Eventos UI</title>

    <link rel="alternate" href="https://campusempresa.com/mod/unity/05-03-handling-ui-events" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/unity/05-03-handling-ui-events" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/unity/05-03-handling-ui-events" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/unity/05-03-handling-ui-events" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/unity/05-03-handling-ui-events" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-02-creating-customizing-ui-elements' title="Creación y Personalización de Elementos UI">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Manejo de Eventos UI</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-04-creating-menus-huds' title="Creación de Menús y HUDs">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En este tema, aprenderemos cómo manejar eventos en la interfaz de usuario (UI) de Unity. Los eventos UI son interacciones del usuario con los elementos de la interfaz, como hacer clic en botones, mover deslizadores, o ingresar texto en campos de entrada. Unity proporciona un sistema robusto para manejar estos eventos de manera eficiente.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ol>
<li><strong>Eventos UI</strong>: Acciones que el usuario realiza en la interfaz, como clics, toques, y arrastres.</li>
<li><strong>Event System</strong>: El sistema de Unity que gestiona y distribuye eventos UI.</li>
<li><strong>Componentes de Eventos</strong>: Scripts y componentes que responden a eventos específicos, como <code>Button</code>, <code>Toggle</code>, <code>Slider</code>, etc.</li>
<li><strong>Delegados y Listeners</strong>: Mecanismos para suscribirse y responder a eventos.</li>
</ol>
</div><h1>Configuración del Sistema de Eventos</h1>
<div class='content'><p>Unity utiliza un objeto llamado <code>EventSystem</code> para gestionar los eventos UI. Este objeto se crea automáticamente cuando añades un elemento UI a tu escena.</p>
</div><h2>Paso 1: Crear un Canvas y un Botón</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Canvas</strong>:</p>
<ul>
<li>Ve a <code>GameObject &gt; UI &gt; Canvas</code>. Esto creará un objeto <code>Canvas</code> en tu escena.</li>
</ul>
</li>
<li>
<p><strong>Añadir un Botón</strong>:</p>
<ul>
<li>Con el <code>Canvas</code> seleccionado, ve a <code>GameObject &gt; UI &gt; Button</code>. Esto añadirá un botón al <code>Canvas</code>.</li>
</ul>
</li>
</ol>
</div><h2>Paso 2: Configurar el Botón para Manejar Eventos</h2>
<div class='content'><ol>
<li>
<p><strong>Seleccionar el Botón</strong>:</p>
<ul>
<li>En el Inspector, verás un componente <code>Button (Script)</code>.</li>
</ul>
</li>
<li>
<p><strong>Añadir un Listener al Botón</strong>:</p>
<ul>
<li>En el componente <code>Button</code>, hay una sección llamada <code>On Click ()</code>.</li>
<li>Haz clic en el botón <code>+</code> para añadir un nuevo listener.</li>
<li>Arrastra el objeto que contiene el script que manejará el evento al campo vacío.</li>
</ul>
</li>
</ol>
</div><h2>Paso 3: Crear un Script para Manejar el Evento</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Script</strong>:</p>
<ul>
<li>Crea un nuevo script en la carpeta <code>Assets/Scripts</code> llamado <code>ButtonHandler.cs</code>.</li>
</ul>
</li>
<li>
<p><strong>Escribir el Script</strong>:</p>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CnVzaW5nIFVuaXR5RW5naW5lLlVJOwoKcHVibGljIGNsYXNzIEJ1dHRvbkhhbmRsZXIgOiBNb25vQmVoYXZpb3VyCnsKICAgIHB1YmxpYyB2b2lkIE9uQnV0dG9uQ2xpY2soKQogICAgewogICAgICAgIERlYnVnLkxvZygiQm90w7NuIGNsaWNhZG8hIik7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;
using UnityEngine.UI;

public class ButtonHandler : MonoBehaviour
{
    public void OnButtonClick()
    {
        Debug.Log(&quot;Bot&oacute;n clicado!&quot;);
    }
}</pre></div><div class='content'><ol start="3">
<li><strong>Asignar el Método al Listener</strong>:
<ul>
<li>Con el botón seleccionado, en el campo <code>On Click ()</code>, selecciona el objeto que contiene el script <code>ButtonHandler</code>.</li>
<li>En el menú desplegable, selecciona <code>ButtonHandler &gt; OnButtonClick</code>.</li>
</ul>
</li>
</ol>
</div><h2>Ejemplo Completo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CnVzaW5nIFVuaXR5RW5naW5lLlVJOwoKcHVibGljIGNsYXNzIEJ1dHRvbkhhbmRsZXIgOiBNb25vQmVoYXZpb3VyCnsKICAgIHB1YmxpYyBCdXR0b24gbXlCdXR0b247CgogICAgdm9pZCBTdGFydCgpCiAgICB7CiAgICAgICAgLy8gQXNlZ8O6cmF0ZSBkZSBxdWUgZWwgYm90w7NuIGVzdMOpIGFzaWduYWRvIGVuIGVsIEluc3BlY3RvcgogICAgICAgIGlmIChteUJ1dHRvbiAhPSBudWxsKQogICAgICAgIHsKICAgICAgICAgICAgbXlCdXR0b24ub25DbGljay5BZGRMaXN0ZW5lcihPbkJ1dHRvbkNsaWNrKTsKICAgICAgICB9CiAgICB9CgogICAgdm9pZCBPbkJ1dHRvbkNsaWNrKCkKICAgIHsKICAgICAgICBEZWJ1Zy5Mb2coIkJvdMOzbiBjbGljYWRvISIpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;
using UnityEngine.UI;

public class ButtonHandler : MonoBehaviour
{
    public Button myButton;

    void Start()
    {
        // Aseg&uacute;rate de que el bot&oacute;n est&eacute; asignado en el Inspector
        if (myButton != null)
        {
            myButton.onClick.AddListener(OnButtonClick);
        }
    }

    void OnButtonClick()
    {
        Debug.Log(&quot;Bot&oacute;n clicado!&quot;);
    }
}</pre></div><div class='content'><p>En este ejemplo, el método <code>OnButtonClick</code> se llama cada vez que el botón es clicado. El método <code>AddListener</code> se usa para suscribirse al evento <code>onClick</code> del botón.</p>
</div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Manejar Eventos de un Slider</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Slider</strong>:</p>
<ul>
<li>Ve a <code>GameObject &gt; UI &gt; Slider</code>.</li>
</ul>
</li>
<li>
<p><strong>Crear un Script</strong>:</p>
<ul>
<li>Crea un nuevo script llamado <code>SliderHandler.cs</code>.</li>
</ul>
</li>
<li>
<p><strong>Escribir el Script</strong>:</p>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CnVzaW5nIFVuaXR5RW5naW5lLlVJOwoKcHVibGljIGNsYXNzIFNsaWRlckhhbmRsZXIgOiBNb25vQmVoYXZpb3VyCnsKICAgIHB1YmxpYyBTbGlkZXIgbXlTbGlkZXI7CiAgICBwdWJsaWMgVGV4dCB2YWx1ZVRleHQ7CgogICAgdm9pZCBTdGFydCgpCiAgICB7CiAgICAgICAgaWYgKG15U2xpZGVyICE9IG51bGwpCiAgICAgICAgewogICAgICAgICAgICBteVNsaWRlci5vblZhbHVlQ2hhbmdlZC5BZGRMaXN0ZW5lcihPblNsaWRlclZhbHVlQ2hhbmdlZCk7CiAgICAgICAgfQogICAgfQoKICAgIHZvaWQgT25TbGlkZXJWYWx1ZUNoYW5nZWQoZmxvYXQgdmFsdWUpCiAgICB7CiAgICAgICAgaWYgKHZhbHVlVGV4dCAhPSBudWxsKQogICAgICAgIHsKICAgICAgICAgICAgdmFsdWVUZXh0LnRleHQgPSAiVmFsb3IgZGVsIFNsaWRlcjogIiArIHZhbHVlLlRvU3RyaW5nKCIwLjAwIik7CiAgICAgICAgfQogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;
using UnityEngine.UI;

public class SliderHandler : MonoBehaviour
{
    public Slider mySlider;
    public Text valueText;

    void Start()
    {
        if (mySlider != null)
        {
            mySlider.onValueChanged.AddListener(OnSliderValueChanged);
        }
    }

    void OnSliderValueChanged(float value)
    {
        if (valueText != null)
        {
            valueText.text = &quot;Valor del Slider: &quot; + value.ToString(&quot;0.00&quot;);
        }
    }
}</pre></div><div class='content'><ol start="4">
<li><strong>Asignar el Script y Configurar el Slider</strong>:
<ul>
<li>Asigna el script <code>SliderHandler</code> a un objeto en la escena.</li>
<li>Arrastra el <code>Slider</code> y un <code>Text</code> al script en el Inspector.</li>
<li>El texto se actualizará cada vez que el valor del slider cambie.</li>
</ul>
</li>
</ol>
</div><h2>Solución del Ejercicio</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CnVzaW5nIFVuaXR5RW5naW5lLlVJOwoKcHVibGljIGNsYXNzIFNsaWRlckhhbmRsZXIgOiBNb25vQmVoYXZpb3VyCnsKICAgIHB1YmxpYyBTbGlkZXIgbXlTbGlkZXI7CiAgICBwdWJsaWMgVGV4dCB2YWx1ZVRleHQ7CgogICAgdm9pZCBTdGFydCgpCiAgICB7CiAgICAgICAgaWYgKG15U2xpZGVyICE9IG51bGwpCiAgICAgICAgewogICAgICAgICAgICBteVNsaWRlci5vblZhbHVlQ2hhbmdlZC5BZGRMaXN0ZW5lcihPblNsaWRlclZhbHVlQ2hhbmdlZCk7CiAgICAgICAgfQogICAgfQoKICAgIHZvaWQgT25TbGlkZXJWYWx1ZUNoYW5nZWQoZmxvYXQgdmFsdWUpCiAgICB7CiAgICAgICAgaWYgKHZhbHVlVGV4dCAhPSBudWxsKQogICAgICAgIHsKICAgICAgICAgICAgdmFsdWVUZXh0LnRleHQgPSAiVmFsb3IgZGVsIFNsaWRlcjogIiArIHZhbHVlLlRvU3RyaW5nKCIwLjAwIik7CiAgICAgICAgfQogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;
using UnityEngine.UI;

public class SliderHandler : MonoBehaviour
{
    public Slider mySlider;
    public Text valueText;

    void Start()
    {
        if (mySlider != null)
        {
            mySlider.onValueChanged.AddListener(OnSliderValueChanged);
        }
    }

    void OnSliderValueChanged(float value)
    {
        if (valueText != null)
        {
            valueText.text = &quot;Valor del Slider: &quot; + value.ToString(&quot;0.00&quot;);
        }
    }
}</pre></div><div class='content'></div><h1>Resumen</h1>
<div class='content'><p>En esta lección, hemos aprendido cómo manejar eventos UI en Unity utilizando el sistema de eventos y componentes como <code>Button</code> y <code>Slider</code>. Hemos visto cómo suscribirnos a eventos y cómo responder a ellos mediante scripts. Estos conceptos son fundamentales para crear interfaces de usuario interactivas y responsivas en tus juegos.</p>
<p>En la próxima lección, exploraremos cómo crear menús y HUDs (Heads-Up Displays) para mejorar la experiencia del usuario en tus juegos.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-02-creating-customizing-ui-elements' title="Creación y Personalización de Elementos UI">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-04-creating-menus-huds' title="Creación de Menús y HUDs">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
