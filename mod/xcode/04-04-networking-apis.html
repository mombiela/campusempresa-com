<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Redes y APIs</title>

    <link rel="alternate" href="https://campusempresa.com/mod/xcode/04-04-networking-apis" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/xcode/04-04-networking-apis" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/xcode/04-04-networking-apis" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=3" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/xcode/04-04-networking-apis" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/xcode/04-04-networking-apis" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Construyendo la sociedad de hoy y del mañana</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Lenguajes</a>
				 					<a href="/categ/frameworks">Frameworks</a>
				 					<a href="/categ/tech-tools">Herramientas</a>
				 					<a href="/categ/foundations">Fundamentos</a>
				 					<a href="/categ/soft-skills">Competencias</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-03-data-persistence' title="Persistencia de Datos">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Redes y APIs</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-01-debugging-basics' title="Conceptos Básicos de Depuración">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En este módulo, aprenderás cómo trabajar con redes y APIs en Xcode utilizando Swift. Este es un tema crucial para cualquier desarrollador de aplicaciones móviles, ya que la mayoría de las aplicaciones modernas necesitan interactuar con servicios web para obtener y enviar datos.</p>
</div><h1><p>Objetivos del Módulo</p>
</h1>
<div class='content'><ul>
<li>Comprender los conceptos básicos de las redes y las APIs.</li>
<li>Aprender a realizar solicitudes HTTP en Swift.</li>
<li>Manejar respuestas de APIs y parsear datos JSON.</li>
<li>Implementar operaciones de red de manera eficiente y segura.</li>
</ul>
</div><h1><p>Contenido</p>
</h1>
<div class='content'><ol>
<li><a href="#conceptos-básicos-de-redes-y-apis">Conceptos Básicos de Redes y APIs</a></li>
<li><a href="#realizando-solicitudes-http">Realizando Solicitudes HTTP</a></li>
<li><a href="#manejo-de-respuestas-y-parseo-de-json">Manejo de Respuestas y Parseo de JSON</a></li>
<li><a href="#manejo-de-errores-y-seguridad">Manejo de Errores y Seguridad</a></li>
<li><a href="#ejercicio-práctico">Ejercicio Práctico</a></li>
</ol>
</div><h1><p>Conceptos Básicos de Redes y APIs</p>
</h1>
<div class='content'></div><h2><p>¿Qué es una API?</p>
</h2>
<div class='content'><p>Una API (Interfaz de Programación de Aplicaciones) es un conjunto de reglas que permite a diferentes aplicaciones comunicarse entre sí. En el contexto de las aplicaciones móviles, las APIs suelen ser servicios web que proporcionan datos y funcionalidades a través de la red.</p>
</div><h2><p>Tipos de Solicitudes HTTP</p>
</h2>
<div class='content'><p>Las solicitudes HTTP son la forma en que las aplicaciones se comunican con las APIs. Los tipos más comunes de solicitudes HTTP son:</p>
<ul>
<li><strong>GET</strong>: Recupera datos del servidor.</li>
<li><strong>POST</strong>: Envía datos al servidor.</li>
<li><strong>PUT</strong>: Actualiza datos en el servidor.</li>
<li><strong>DELETE</strong>: Elimina datos del servidor.</li>
</ul>
</div><h1><p>Realizando Solicitudes HTTP</p>
</h1>
<div class='content'><p>En Swift, puedes realizar solicitudes HTTP utilizando la clase <code>URLSession</code>. Aquí hay un ejemplo básico de cómo realizar una solicitud GET:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IEZvdW5kYXRpb24KCi8vIFVSTCBkZWwgQVBJCmxldCB1cmwgPSBVUkwoc3RyaW5nOiAiaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YSIpIQoKLy8gQ3JlYXIgdW5hIHNlc2nDs24KbGV0IHNlc3Npb24gPSBVUkxTZXNzaW9uLnNoYXJlZAoKLy8gQ3JlYXIgdW5hIHRhcmVhIGRlIGRhdG9zCmxldCB0YXNrID0gc2Vzc2lvbi5kYXRhVGFzayh3aXRoOiB1cmwpIHsgZGF0YSwgcmVzcG9uc2UsIGVycm9yIGluCiAgICAvLyBWZXJpZmljYXIgc2kgaHVibyB1biBlcnJvcgogICAgaWYgbGV0IGVycm9yID0gZXJyb3IgewogICAgICAgIHByaW50KCJFcnJvcjogXChlcnJvci5sb2NhbGl6ZWREZXNjcmlwdGlvbikiKQogICAgICAgIHJldHVybgogICAgfQogICAgCiAgICAvLyBWZXJpZmljYXIgc2kgc2UgcmVjaWJpZXJvbiBkYXRvcwogICAgZ3VhcmQgbGV0IGRhdGEgPSBkYXRhIGVsc2UgewogICAgICAgIHByaW50KCJObyBkYXRhIHJlY2VpdmVkIikKICAgICAgICByZXR1cm4KICAgIH0KICAgIAogICAgLy8gQ29udmVydGlyIGxvcyBkYXRvcyBhIHVuYSBjYWRlbmEgcGFyYSB2aXN1YWxpemFjacOzbgogICAgbGV0IGRhdGFTdHJpbmcgPSBTdHJpbmcoZGF0YTogZGF0YSwgZW5jb2Rpbmc6IC51dGY4KQogICAgcHJpbnQoIkRhdGEgcmVjZWl2ZWQ6IFwoZGF0YVN0cmluZyA/PyAiTm8gZGF0YSIpIikKfQoKLy8gSW5pY2lhciBsYSB0YXJlYQp0YXNrLnJlc3VtZSgp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import Foundation

// URL del API
let url = URL(string: &quot;https://api.example.com/data&quot;)!

// Crear una sesi&oacute;n
let session = URLSession.shared

// Crear una tarea de datos
let task = session.dataTask(with: url) { data, response, error in
    // Verificar si hubo un error
    if let error = error {
        print(&quot;Error: \(error.localizedDescription)&quot;)
        return
    }
    
    // Verificar si se recibieron datos
    guard let data = data else {
        print(&quot;No data received&quot;)
        return
    }
    
    // Convertir los datos a una cadena para visualizaci&oacute;n
    let dataString = String(data: data, encoding: .utf8)
    print(&quot;Data received: \(dataString ?? &quot;No data&quot;)&quot;)
}

// Iniciar la tarea
task.resume()</pre></div><div class='content'></div><h2><p>Explicación del Código</p>
</h2>
<div class='content'><ol>
<li><strong>URL del API</strong>: Se define la URL del API con la que se desea interactuar.</li>
<li><strong>Crear una sesión</strong>: Se utiliza <code>URLSession.shared</code> para crear una sesión compartida.</li>
<li><strong>Crear una tarea de datos</strong>: Se crea una tarea de datos con <code>session.dataTask(with: url)</code>.</li>
<li><strong>Manejo de la respuesta</strong>: Se maneja la respuesta dentro del closure, verificando errores y datos recibidos.</li>
<li><strong>Iniciar la tarea</strong>: Se llama a <code>task.resume()</code> para iniciar la tarea.</li>
</ol>
</div><h1><p>Manejo de Respuestas y Parseo de JSON</p>
</h1>
<div class='content'><p>La mayoría de las APIs modernas devuelven datos en formato JSON. Aquí se muestra cómo parsear una respuesta JSON:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IEZvdW5kYXRpb24KCi8vIFVSTCBkZWwgQVBJCmxldCB1cmwgPSBVUkwoc3RyaW5nOiAiaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YSIpIQoKLy8gQ3JlYXIgdW5hIHNlc2nDs24KbGV0IHNlc3Npb24gPSBVUkxTZXNzaW9uLnNoYXJlZAoKLy8gQ3JlYXIgdW5hIHRhcmVhIGRlIGRhdG9zCmxldCB0YXNrID0gc2Vzc2lvbi5kYXRhVGFzayh3aXRoOiB1cmwpIHsgZGF0YSwgcmVzcG9uc2UsIGVycm9yIGluCiAgICAvLyBWZXJpZmljYXIgc2kgaHVibyB1biBlcnJvcgogICAgaWYgbGV0IGVycm9yID0gZXJyb3IgewogICAgICAgIHByaW50KCJFcnJvcjogXChlcnJvci5sb2NhbGl6ZWREZXNjcmlwdGlvbikiKQogICAgICAgIHJldHVybgogICAgfQogICAgCiAgICAvLyBWZXJpZmljYXIgc2kgc2UgcmVjaWJpZXJvbiBkYXRvcwogICAgZ3VhcmQgbGV0IGRhdGEgPSBkYXRhIGVsc2UgewogICAgICAgIHByaW50KCJObyBkYXRhIHJlY2VpdmVkIikKICAgICAgICByZXR1cm4KICAgIH0KICAgIAogICAgLy8gUGFyc2VhciBKU09OCiAgICBkbyB7CiAgICAgICAgaWYgbGV0IGpzb24gPSB0cnkgSlNPTlNlcmlhbGl6YXRpb24uanNvbk9iamVjdCh3aXRoOiBkYXRhLCBvcHRpb25zOiBbXSkgYXM/IFtTdHJpbmc6IEFueV0gewogICAgICAgICAgICBwcmludCgiSlNPTiByZWNlaXZlZDogXChqc29uKSIpCiAgICAgICAgfQogICAgfSBjYXRjaCBsZXQgcGFyc2VFcnJvciB7CiAgICAgICAgcHJpbnQoIkpTT04gcGFyc2UgZXJyb3I6IFwocGFyc2VFcnJvci5sb2NhbGl6ZWREZXNjcmlwdGlvbikiKQogICAgfQp9CgovLyBJbmljaWFyIGxhIHRhcmVhCnRhc2sucmVzdW1lKCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import Foundation

// URL del API
let url = URL(string: &quot;https://api.example.com/data&quot;)!

// Crear una sesi&oacute;n
let session = URLSession.shared

// Crear una tarea de datos
let task = session.dataTask(with: url) { data, response, error in
    // Verificar si hubo un error
    if let error = error {
        print(&quot;Error: \(error.localizedDescription)&quot;)
        return
    }
    
    // Verificar si se recibieron datos
    guard let data = data else {
        print(&quot;No data received&quot;)
        return
    }
    
    // Parsear JSON
    do {
        if let json = try JSONSerialization.jsonObject(with: data, options: []) as? [String: Any] {
            print(&quot;JSON received: \(json)&quot;)
        }
    } catch let parseError {
        print(&quot;JSON parse error: \(parseError.localizedDescription)&quot;)
    }
}

// Iniciar la tarea
task.resume()</pre></div><div class='content'></div><h2><p>Explicación del Código</p>
</h2>
<div class='content'><ol>
<li><strong>Parsear JSON</strong>: Se utiliza <code>JSONSerialization.jsonObject(with:options:)</code> para convertir los datos en un objeto JSON.</li>
<li><strong>Manejo de errores</strong>: Se utiliza un bloque <code>do-catch</code> para manejar posibles errores de parseo.</li>
</ol>
</div><h1><p>Manejo de Errores y Seguridad</p>
</h1>
<div class='content'></div><h2><p>Manejo de Errores</p>
</h2>
<div class='content'><p>Es crucial manejar adecuadamente los errores en las operaciones de red. Aquí hay algunos puntos clave:</p>
<ul>
<li><strong>Errores de red</strong>: Verifica si hay errores en la conexión.</li>
<li><strong>Errores de datos</strong>: Asegúrate de que los datos recibidos no sean nulos.</li>
<li><strong>Errores de parseo</strong>: Maneja posibles errores al parsear JSON.</li>
</ul>
</div><h2><p>Seguridad</p>
</h2>
<div class='content'><ul>
<li><strong>HTTPS</strong>: Siempre utiliza HTTPS en lugar de HTTP para asegurar la comunicación.</li>
<li><strong>Validación de Certificados</strong>: Asegúrate de validar los certificados SSL/TLS para evitar ataques de intermediarios.</li>
</ul>
</div><h1><p>Ejercicio Práctico</p>
</h1>
<div class='content'></div><h2><p>Ejercicio</p>
</h2>
<div class='content'><p>Crea una aplicación que realice una solicitud GET a una API pública (por ejemplo, https://jsonplaceholder.typicode.com/todos/1) y muestre los datos en la consola.</p>
</div><h2><p>Solución</p>
</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IEZvdW5kYXRpb24KCi8vIFVSTCBkZWwgQVBJCmxldCB1cmwgPSBVUkwoc3RyaW5nOiAiaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3RvZG9zLzEiKSEKCi8vIENyZWFyIHVuYSBzZXNpw7NuCmxldCBzZXNzaW9uID0gVVJMU2Vzc2lvbi5zaGFyZWQKCi8vIENyZWFyIHVuYSB0YXJlYSBkZSBkYXRvcwpsZXQgdGFzayA9IHNlc3Npb24uZGF0YVRhc2sod2l0aDogdXJsKSB7IGRhdGEsIHJlc3BvbnNlLCBlcnJvciBpbgogICAgLy8gVmVyaWZpY2FyIHNpIGh1Ym8gdW4gZXJyb3IKICAgIGlmIGxldCBlcnJvciA9IGVycm9yIHsKICAgICAgICBwcmludCgiRXJyb3I6IFwoZXJyb3IubG9jYWxpemVkRGVzY3JpcHRpb24pIikKICAgICAgICByZXR1cm4KICAgIH0KICAgIAogICAgLy8gVmVyaWZpY2FyIHNpIHNlIHJlY2liaWVyb24gZGF0b3MKICAgIGd1YXJkIGxldCBkYXRhID0gZGF0YSBlbHNlIHsKICAgICAgICBwcmludCgiTm8gZGF0YSByZWNlaXZlZCIpCiAgICAgICAgcmV0dXJuCiAgICB9CiAgICAKICAgIC8vIFBhcnNlYXIgSlNPTgogICAgZG8gewogICAgICAgIGlmIGxldCBqc29uID0gdHJ5IEpTT05TZXJpYWxpemF0aW9uLmpzb25PYmplY3Qod2l0aDogZGF0YSwgb3B0aW9uczogW10pIGFzPyBbU3RyaW5nOiBBbnldIHsKICAgICAgICAgICAgcHJpbnQoIkpTT04gcmVjZWl2ZWQ6IFwoanNvbikiKQogICAgICAgIH0KICAgIH0gY2F0Y2ggbGV0IHBhcnNlRXJyb3IgewogICAgICAgIHByaW50KCJKU09OIHBhcnNlIGVycm9yOiBcKHBhcnNlRXJyb3IubG9jYWxpemVkRGVzY3JpcHRpb24pIikKICAgIH0KfQoKLy8gSW5pY2lhciBsYSB0YXJlYQp0YXNrLnJlc3VtZSgp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import Foundation

// URL del API
let url = URL(string: &quot;https://jsonplaceholder.typicode.com/todos/1&quot;)!

// Crear una sesi&oacute;n
let session = URLSession.shared

// Crear una tarea de datos
let task = session.dataTask(with: url) { data, response, error in
    // Verificar si hubo un error
    if let error = error {
        print(&quot;Error: \(error.localizedDescription)&quot;)
        return
    }
    
    // Verificar si se recibieron datos
    guard let data = data else {
        print(&quot;No data received&quot;)
        return
    }
    
    // Parsear JSON
    do {
        if let json = try JSONSerialization.jsonObject(with: data, options: []) as? [String: Any] {
            print(&quot;JSON received: \(json)&quot;)
        }
    } catch let parseError {
        print(&quot;JSON parse error: \(parseError.localizedDescription)&quot;)
    }
}

// Iniciar la tarea
task.resume()</pre></div><div class='content'></div><h2><p>Retroalimentación</p>
</h2>
<div class='content'><ul>
<li><strong>Error Común</strong>: Olvidar llamar a <code>task.resume()</code>. Sin esta llamada, la tarea no se iniciará.</li>
<li><strong>Consejo</strong>: Utiliza <code>guard let</code> para manejar opcionales de manera segura y evitar anidaciones profundas.</li>
</ul>
</div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En este módulo, has aprendido los conceptos básicos de las redes y las APIs, cómo realizar solicitudes HTTP, manejar respuestas y parsear JSON, y cómo manejar errores y asegurar tus operaciones de red. Estos conocimientos te permitirán crear aplicaciones que interactúan con servicios web de manera eficiente y segura. En el próximo módulo, profundizaremos en la persistencia de datos y cómo trabajar con Core Data en Xcode.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-03-data-persistence' title="Persistencia de Datos">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-01-debugging-basics' title="Conceptos Básicos de Depuración">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicidad</h1>
<p>Este espacio está destinado a publicidad.</p>
<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>¡Gracias por colaborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
