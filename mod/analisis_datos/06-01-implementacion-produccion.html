<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implementación de Modelos en Producción</title>

    <link rel="alternate" href="https://campusempresa.com/mod/analisis_datos/06-01-implementacion-produccion" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/analisis_datos/06-01-implementacio-produccio" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/analisis_datos/06-01-implementation-production" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/analisis_datos/06-01-implementation-production" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/analisis_datos/06-01-implementacio-produccio" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-03-ajuste-optimizacion' title="Ajuste y Optimización de Modelos">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Implementación de Modelos en Producción</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-02-comunicacion-resultados' title="Comunicación de Resultados a Partes Interesadas">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La implementación de modelos en producción es una etapa crucial en el ciclo de vida del análisis de datos. En esta fase, los modelos desarrollados y validados se despliegan en un entorno de producción donde pueden ser utilizados para tomar decisiones en tiempo real o para automatizar procesos. Este módulo cubre los conceptos clave, herramientas y mejores prácticas para implementar modelos de manera efectiva.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ol>
<li><strong>Entorno de Producción</strong>: Es el entorno donde el modelo se utiliza para hacer predicciones en datos reales. Debe ser robusto, escalable y seguro.</li>
<li><strong>Pipeline de Datos</strong>: Conjunto de procesos automatizados que transforman y preparan los datos para ser utilizados por el modelo.</li>
<li><strong>Monitorización y Mantenimiento</strong>: Proceso continuo de supervisión del rendimiento del modelo y actualización según sea necesario.</li>
</ol>
</div><h1>Pasos para la Implementación de Modelos</h1>
<div class='content'></div><h2>1. Preparación del Entorno de Producción</h2>
<div class='content'><ul>
<li><strong>Configuración del Entorno</strong>: Asegúrate de que el entorno de producción esté configurado correctamente. Esto incluye la instalación de dependencias, configuración de servidores y bases de datos.</li>
<li><strong>Seguridad y Acceso</strong>: Implementa medidas de seguridad para proteger los datos y el modelo. Controla el acceso al entorno de producción.</li>
</ul>
</div><h2>2. Creación del Pipeline de Datos</h2>
<div class='content'><ul>
<li><strong>Ingesta de Datos</strong>: Define cómo se recopilarán los datos en tiempo real o en lotes.</li>
<li><strong>Transformación de Datos</strong>: Asegúrate de que los datos se transformen de la misma manera que durante la fase de desarrollo del modelo.</li>
<li><strong>Almacenamiento de Datos</strong>: Decide dónde y cómo se almacenarán los datos transformados.</li>
</ul>
</div><h2>3. Despliegue del Modelo</h2>
<div class='content'><ul>
<li><strong>Serialización del Modelo</strong>: Guarda el modelo en un formato que pueda ser cargado en producción (por ejemplo, usando <code>pickle</code> en Python).</li>
<li><strong>Carga del Modelo</strong>: Carga el modelo en el entorno de producción.</li>
<li><strong>API de Predicción</strong>: Crea una API que permita a otras aplicaciones enviar datos y recibir predicciones.</li>
</ul>
</div><h2>4. Monitorización y Mantenimiento</h2>
<div class='content'><ul>
<li><strong>Monitorización del Rendimiento</strong>: Implementa herramientas para monitorear el rendimiento del modelo en producción.</li>
<li><strong>Alertas y Notificaciones</strong>: Configura alertas para detectar problemas de rendimiento o errores.</li>
<li><strong>Actualización del Modelo</strong>: Planifica cómo y cuándo actualizar el modelo con nuevos datos o mejoras.</li>
</ul>
</div><h1>Herramientas Comúnmente Utilizadas</h1>
<div class='content'><table>
<thead>
<tr>
<th>Herramienta</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td>Docker</td>
<td>Plataforma para desarrollar, enviar y ejecutar aplicaciones en contenedores.</td>
</tr>
<tr>
<td>Kubernetes</td>
<td>Sistema de orquestación de contenedores para automatizar la implementación.</td>
</tr>
<tr>
<td>Flask/Django</td>
<td>Frameworks web en Python para crear APIs de predicción.</td>
</tr>
<tr>
<td>Airflow</td>
<td>Plataforma para crear, programar y monitorear flujos de trabajo.</td>
</tr>
<tr>
<td>Prometheus/Grafana</td>
<td>Herramientas para la monitorización y visualización de métricas.</td>
</tr>
</tbody>
</table>
</div><h1>Ejemplo Práctico: Despliegue de un Modelo de Regresión Lineal</h1>
<div class='content'></div><h2>Paso 1: Serialización del Modelo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHBpY2tsZQpmcm9tIHNrbGVhcm4ubGluZWFyX21vZGVsIGltcG9ydCBMaW5lYXJSZWdyZXNzaW9uCgojIFN1cG9uZ2Ftb3MgcXVlIHlhIGhlbW9zIGVudHJlbmFkbyB1biBtb2RlbG8gZGUgcmVncmVzacOzbiBsaW5lYWwKbW9kZWwgPSBMaW5lYXJSZWdyZXNzaW9uKCkKbW9kZWwuZml0KFhfdHJhaW4sIHlfdHJhaW4pCgojIFNlcmlhbGl6YXIgZWwgbW9kZWxvCndpdGggb3BlbignbGluZWFyX3JlZ3Jlc3Npb25fbW9kZWwucGtsJywgJ3diJykgYXMgZmlsZToKICAgIHBpY2tsZS5kdW1wKG1vZGVsLCBmaWxlKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import pickle
from sklearn.linear_model import LinearRegression

# Supongamos que ya hemos entrenado un modelo de regresi&oacute;n lineal
model = LinearRegression()
model.fit(X_train, y_train)

# Serializar el modelo
with open('linear_regression_model.pkl', 'wb') as file:
    pickle.dump(model, file)</pre></div><div class='content'></div><h2>Paso 2: Creación de una API con Flask</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlcXVlc3QsIGpzb25pZnkKaW1wb3J0IHBpY2tsZQoKYXBwID0gRmxhc2soX19uYW1lX18pCgojIENhcmdhciBlbCBtb2RlbG8Kd2l0aCBvcGVuKCdsaW5lYXJfcmVncmVzc2lvbl9tb2RlbC5wa2wnLCAncmInKSBhcyBmaWxlOgogICAgbW9kZWwgPSBwaWNrbGUubG9hZChmaWxlKQoKQGFwcC5yb3V0ZSgnL3ByZWRpY3QnLCBtZXRob2RzPVsnUE9TVCddKQpkZWYgcHJlZGljdCgpOgogICAgZGF0YSA9IHJlcXVlc3QuZ2V0X2pzb24oKQogICAgcHJlZGljdGlvbiA9IG1vZGVsLnByZWRpY3QoW2RhdGFbJ2ZlYXR1cmVzJ11dKQogICAgcmV0dXJuIGpzb25pZnkoeydwcmVkaWN0aW9uJzogcHJlZGljdGlvbi50b2xpc3QoKX0pCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgYXBwLnJ1bihkZWJ1Zz1UcnVlKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, request, jsonify
import pickle

app = Flask(__name__)

# Cargar el modelo
with open('linear_regression_model.pkl', 'rb') as file:
    model = pickle.load(file)

@app.route('/predict', methods=['POST'])
def predict():
    data = request.get_json()
    prediction = model.predict([data['features']])
    return jsonify({'prediction': prediction.tolist()})

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'></div><h2>Paso 3: Monitorización del Modelo</h2>
<div class='content'><ul>
<li><strong>Prometheus</strong>: Configura Prometheus para recolectar métricas de la API.</li>
<li><strong>Grafana</strong>: Utiliza Grafana para visualizar las métricas recolectadas y configurar alertas.</li>
</ul>
</div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Despliegue de un Modelo de Clasificación</h2>
<div class='content'><ol>
<li>Entrena un modelo de clasificación (por ejemplo, un árbol de decisión) en un conjunto de datos de tu elección.</li>
<li>Serializa el modelo utilizando <code>pickle</code>.</li>
<li>Crea una API con Flask que permita enviar datos y recibir predicciones.</li>
<li>Implementa la monitorización básica del rendimiento de la API.</li>
</ol>
</div><h2>Solución</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFbnRyZW5hbWllbnRvIHkgc2VyaWFsaXphY2nDs24gZGVsIG1vZGVsbwpmcm9tIHNrbGVhcm4udHJlZSBpbXBvcnQgRGVjaXNpb25UcmVlQ2xhc3NpZmllcgppbXBvcnQgcGlja2xlCgojIFN1cG9uZ2Ftb3MgcXVlIHlhIGhlbW9zIGVudHJlbmFkbyB1biBtb2RlbG8gZGUgw6FyYm9sIGRlIGRlY2lzacOzbgptb2RlbCA9IERlY2lzaW9uVHJlZUNsYXNzaWZpZXIoKQptb2RlbC5maXQoWF90cmFpbiwgeV90cmFpbikKCiMgU2VyaWFsaXphciBlbCBtb2RlbG8Kd2l0aCBvcGVuKCdkZWNpc2lvbl90cmVlX21vZGVsLnBrbCcsICd3YicpIGFzIGZpbGU6CiAgICBwaWNrbGUuZHVtcChtb2RlbCwgZmlsZSkKCiMgQ3JlYWNpw7NuIGRlIGxhIEFQSSBjb24gRmxhc2sKZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlcXVlc3QsIGpzb25pZnkKCmFwcCA9IEZsYXNrKF9fbmFtZV9fKQoKIyBDYXJnYXIgZWwgbW9kZWxvCndpdGggb3BlbignZGVjaXNpb25fdHJlZV9tb2RlbC5wa2wnLCAncmInKSBhcyBmaWxlOgogICAgbW9kZWwgPSBwaWNrbGUubG9hZChmaWxlKQoKQGFwcC5yb3V0ZSgnL3ByZWRpY3QnLCBtZXRob2RzPVsnUE9TVCddKQpkZWYgcHJlZGljdCgpOgogICAgZGF0YSA9IHJlcXVlc3QuZ2V0X2pzb24oKQogICAgcHJlZGljdGlvbiA9IG1vZGVsLnByZWRpY3QoW2RhdGFbJ2ZlYXR1cmVzJ11dKQogICAgcmV0dXJuIGpzb25pZnkoeydwcmVkaWN0aW9uJzogcHJlZGljdGlvbi50b2xpc3QoKX0pCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgYXBwLnJ1bihkZWJ1Zz1UcnVlKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Entrenamiento y serializaci&oacute;n del modelo
from sklearn.tree import DecisionTreeClassifier
import pickle

# Supongamos que ya hemos entrenado un modelo de &aacute;rbol de decisi&oacute;n
model = DecisionTreeClassifier()
model.fit(X_train, y_train)

# Serializar el modelo
with open('decision_tree_model.pkl', 'wb') as file:
    pickle.dump(model, file)

# Creaci&oacute;n de la API con Flask
from flask import Flask, request, jsonify

app = Flask(__name__)

# Cargar el modelo
with open('decision_tree_model.pkl', 'rb') as file:
    model = pickle.load(file)

@app.route('/predict', methods=['POST'])
def predict():
    data = request.get_json()
    prediction = model.predict([data['features']])
    return jsonify({'prediction': prediction.tolist()})

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Implementar modelos en producción es un paso esencial para aprovechar el valor de los análisis de datos en la toma de decisiones. Este proceso implica la preparación del entorno, la creación de pipelines de datos, el despliegue del modelo y la monitorización continua. Utilizando herramientas adecuadas y siguiendo las mejores prácticas, se puede asegurar que los modelos funcionen de manera eficiente y segura en producción.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-03-ajuste-optimizacion' title="Ajuste y Optimización de Modelos">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-02-comunicacion-resultados' title="Comunicación de Resultados a Partes Interesadas">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
