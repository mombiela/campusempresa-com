<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Hibernate</title>

    <link rel="alternate" href="https://campusempresa.com/mod/java/11-03-hibernate" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/java/11-03-hibernate" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/java/11-03-hibernate" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "es";
  		var CATEGORY = "languages";
  		var MOD_NAME = "java";
  		var TEMA_NAME = "11-3";
  		var TYPE = "mod";
  		var PATH = "mod/java/11-03-hibernate";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.49d891d32f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/java/11-03-hibernate" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/java/11-03-hibernate" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Todo el conocimiento a tu alcance</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Mis cursos</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalizados             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" style="display:none;" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="java">
		<a  href="#" class="text-secondary d-none" data-read-mod="java" data-read-unit="11-3" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar como leído
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="java" data-unread-unit="11-3" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar como no leído
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contenido del curso
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='11-02-spring-framework' title="Spring Framework" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='11-02-spring-framework' title="Spring Framework" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Hibernate</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='11-04-junit' title="JUnit" class="py-2 px-3 btn btn-primary"
				data-read-mod="java" data-read-unit="11-3">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='11-04-junit' title="JUnit" class="py-2 px-3 btn btn-primary" 
				data-read-mod="java" data-read-unit="11-3">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>Hibernate es un framework de mapeo objeto-relacional (ORM) para Java. Facilita la tarea de trabajar con bases de datos relacionales mediante la abstracción de las operaciones de base de datos en objetos Java. En este módulo, aprenderás los conceptos básicos y avanzados de Hibernate, cómo configurarlo y cómo utilizarlo para interactuar con bases de datos.</p>
</div><h1>Contenido</h1>
<div class='content'><ol>
<li><a href="#introducción-a-hibernate">Introducción a Hibernate</a></li>
<li><a href="#configuración-de-hibernate">Configuración de Hibernate</a></li>
<li><a href="#mapeo-de-entidades">Mapeo de Entidades</a></li>
<li><a href="#consultas-con-hibernate">Consultas con Hibernate</a></li>
<li><a href="#relaciones-entre-entidades">Relaciones entre Entidades</a></li>
<li><a href="#transacciones-y-concurrencia">Transacciones y Concurrencia</a></li>
<li><a href="#caché-en-hibernate">Caché en Hibernate</a></li>
<li><a href="#ejercicios-prácticos">Ejercicios Prácticos</a></li>
</ol>
</div><h1>Introducción a Hibernate</h1>
<div class='content'><p>Hibernate es un framework ORM que permite a los desarrolladores mapear clases Java a tablas de bases de datos y viceversa. Esto simplifica el desarrollo de aplicaciones que interactúan con bases de datos, ya que elimina la necesidad de escribir código SQL manualmente.</p>
</div><h2>Ventajas de Hibernate</h2>
<div class='content'><ul>
<li><strong>Independencia de la base de datos</strong>: Hibernate soporta múltiples bases de datos y permite cambiar de una a otra con mínima configuración.</li>
<li><strong>Reducción de código SQL</strong>: Hibernate genera automáticamente las consultas SQL necesarias.</li>
<li><strong>Gestión de transacciones</strong>: Hibernate facilita la gestión de transacciones y la concurrencia.</li>
<li><strong>Caché</strong>: Hibernate incluye mecanismos de caché para mejorar el rendimiento.</li>
</ul>
</div><h1>Configuración de Hibernate</h1>
<div class='content'><p>Para empezar a usar Hibernate, necesitas configurar tu proyecto y proporcionar la información necesaria para conectarte a la base de datos.</p>
</div><h2>Dependencias</h2>
<div class='content'><p>Primero, agrega las dependencias de Hibernate y la base de datos en tu archivo <code>pom.xml</code> si estás usando Maven:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY2llcz4KICAgIDxkZXBlbmRlbmN5PgogICAgICAgIDxncm91cElkPm9yZy5oaWJlcm5hdGU8L2dyb3VwSWQ+CiAgICAgICAgPGFydGlmYWN0SWQ+aGliZXJuYXRlLWNvcmU8L2FydGlmYWN0SWQ+CiAgICAgICAgPHZlcnNpb24+NS40LjMwLkZpbmFsPC92ZXJzaW9uPgogICAgPC9kZXBlbmRlbmN5PgogICAgPGRlcGVuZGVuY3k+CiAgICAgICAgPGdyb3VwSWQ+bXlzcWw8L2dyb3VwSWQ+CiAgICAgICAgPGFydGlmYWN0SWQ+bXlzcWwtY29ubmVjdG9yLWphdmE8L2FydGlmYWN0SWQ+CiAgICAgICAgPHZlcnNpb24+OC4wLjIzPC92ZXJzaW9uPgogICAgPC9kZXBlbmRlbmN5Pgo8L2RlcGVuZGVuY2llcz4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;
        &lt;version&gt;5.4.30.Final&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;mysql&lt;/groupId&gt;
        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
        &lt;version&gt;8.0.23&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</pre></div><div class='content'></div><h2>Archivo de Configuración</h2>
<div class='content'><p>Crea un archivo <code>hibernate.cfg.xml</code> en tu carpeta de recursos (<code>src/main/resources</code>):</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGhpYmVybmF0ZS1jb25maWd1cmF0aW9uIFBVQkxJQyAiLS8vSGliZXJuYXRlL0hpYmVybmF0ZSBDb25maWd1cmF0aW9uIERURCAzLjAvL0VOIiAiaHR0cDovL2hpYmVybmF0ZS5zb3VyY2Vmb3JnZS5uZXQvaGliZXJuYXRlLWNvbmZpZ3VyYXRpb24tMy4wLmR0ZCI+CjxoaWJlcm5hdGUtY29uZmlndXJhdGlvbj4KICAgIDxzZXNzaW9uLWZhY3Rvcnk+CiAgICAgICAgPHByb3BlcnR5IG5hbWU9ImhpYmVybmF0ZS5kaWFsZWN0Ij5vcmcuaGliZXJuYXRlLmRpYWxlY3QuTXlTUUxEaWFsZWN0PC9wcm9wZXJ0eT4KICAgICAgICA8cHJvcGVydHkgbmFtZT0iaGliZXJuYXRlLmNvbm5lY3Rpb24uZHJpdmVyX2NsYXNzIj5jb20ubXlzcWwuY2ouamRiYy5Ecml2ZXI8L3Byb3BlcnR5PgogICAgICAgIDxwcm9wZXJ0eSBuYW1lPSJoaWJlcm5hdGUuY29ubmVjdGlvbi51cmwiPmpkYmM6bXlzcWw6Ly9sb2NhbGhvc3Q6MzMwNi9taV9iYXNlX2RlX2RhdG9zPC9wcm9wZXJ0eT4KICAgICAgICA8cHJvcGVydHkgbmFtZT0iaGliZXJuYXRlLmNvbm5lY3Rpb24udXNlcm5hbWUiPnVzdWFyaW88L3Byb3BlcnR5PgogICAgICAgIDxwcm9wZXJ0eSBuYW1lPSJoaWJlcm5hdGUuY29ubmVjdGlvbi5wYXNzd29yZCI+Y29udHJhc2XDsWE8L3Byb3BlcnR5PgogICAgICAgIDxwcm9wZXJ0eSBuYW1lPSJoaWJlcm5hdGUuaGJtMmRkbC5hdXRvIj51cGRhdGU8L3Byb3BlcnR5PgogICAgICAgIDxwcm9wZXJ0eSBuYW1lPSJoaWJlcm5hdGUuc2hvd19zcWwiPnRydWU8L3Byb3BlcnR5PgogICAgPC9zZXNzaW9uLWZhY3Rvcnk+CjwvaGliZXJuYXRlLWNvbmZpZ3VyYXRpb24+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;
&lt;hibernate-configuration&gt;
    &lt;session-factory&gt;
        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;
        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;
        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/mi_base_de_datos&lt;/property&gt;
        &lt;property name=&quot;hibernate.connection.username&quot;&gt;usuario&lt;/property&gt;
        &lt;property name=&quot;hibernate.connection.password&quot;&gt;contrase&ntilde;a&lt;/property&gt;
        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;
        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;
    &lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;</pre></div><div class='content'></div><h2>Clase Utilitaria de Hibernate</h2>
<div class='content'><p>Crea una clase utilitaria para manejar la configuración de Hibernate:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5oaWJlcm5hdGUuU2Vzc2lvbkZhY3Rvcnk7CmltcG9ydCBvcmcuaGliZXJuYXRlLmNmZy5Db25maWd1cmF0aW9uOwoKcHVibGljIGNsYXNzIEhpYmVybmF0ZVV0aWwgewogICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2Vzc2lvbkZhY3Rvcnkgc2Vzc2lvbkZhY3RvcnkgPSBidWlsZFNlc3Npb25GYWN0b3J5KCk7CgogICAgcHJpdmF0ZSBzdGF0aWMgU2Vzc2lvbkZhY3RvcnkgYnVpbGRTZXNzaW9uRmFjdG9yeSgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gbmV3IENvbmZpZ3VyYXRpb24oKS5jb25maWd1cmUoKS5idWlsZFNlc3Npb25GYWN0b3J5KCk7CiAgICAgICAgfSBjYXRjaCAoVGhyb3dhYmxlIGV4KSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb25JbkluaXRpYWxpemVyRXJyb3IoZXgpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIFNlc3Npb25GYWN0b3J5IGdldFNlc3Npb25GYWN0b3J5KCkgewogICAgICAgIHJldHVybiBzZXNzaW9uRmFjdG9yeTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2h1dGRvd24oKSB7CiAgICAgICAgZ2V0U2Vzc2lvbkZhY3RvcnkoKS5jbG9zZSgpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;

public class HibernateUtil {
    private static final SessionFactory sessionFactory = buildSessionFactory();

    private static SessionFactory buildSessionFactory() {
        try {
            return new Configuration().configure().buildSessionFactory();
        } catch (Throwable ex) {
            throw new ExceptionInInitializerError(ex);
        }
    }

    public static SessionFactory getSessionFactory() {
        return sessionFactory;
    }

    public static void shutdown() {
        getSessionFactory().close();
    }
}</pre></div><div class='content'></div><h1>Mapeo de Entidades</h1>
<div class='content'><p>El mapeo de entidades es el proceso de vincular las clases Java con las tablas de la base de datos.</p>
</div><h2>Ejemplo de Entidad</h2>
<div class='content'><p>Supongamos que tenemos una tabla <code>Usuario</code> en nuestra base de datos. Creamos una clase <code>Usuario</code> y la anotamos con las anotaciones de Hibernate:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLklkOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuVGFibGU7CgpARW50aXR5CkBUYWJsZShuYW1lID0gIlVzdWFyaW8iKQpwdWJsaWMgY2xhc3MgVXN1YXJpbyB7CiAgICBASWQKICAgIHByaXZhdGUgaW50IGlkOwogICAgcHJpdmF0ZSBTdHJpbmcgbm9tYnJlOwogICAgcHJpdmF0ZSBTdHJpbmcgZW1haWw7CgogICAgLy8gR2V0dGVycyB5IFNldHRlcnMKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import javax.persistence.Entity;
import javax.persistence.Id;
import javax.persistence.Table;

@Entity
@Table(name = &quot;Usuario&quot;)
public class Usuario {
    @Id
    private int id;
    private String nombre;
    private String email;

    // Getters y Setters
}</pre></div><div class='content'></div><h1>Consultas con Hibernate</h1>
<div class='content'><p>Hibernate proporciona varias formas de realizar consultas a la base de datos, incluyendo HQL (Hibernate Query Language) y Criteria API.</p>
</div><h2>HQL</h2>
<div class='content'><p>HQL es similar a SQL pero opera sobre objetos en lugar de tablas.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5oaWJlcm5hdGUuU2Vzc2lvbjsKaW1wb3J0IG9yZy5oaWJlcm5hdGUuVHJhbnNhY3Rpb247CmltcG9ydCBvcmcuaGliZXJuYXRlLnF1ZXJ5LlF1ZXJ5OwoKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKcHVibGljIGNsYXNzIFVzdWFyaW9EQU8gewogICAgcHVibGljIExpc3Q8VXN1YXJpbz4gb2J0ZW5lclVzdWFyaW9zKCkgewogICAgICAgIFRyYW5zYWN0aW9uIHRyYW5zYWN0aW9uID0gbnVsbDsKICAgICAgICBMaXN0PFVzdWFyaW8+IHVzdWFyaW9zID0gbnVsbDsKICAgICAgICB0cnkgKFNlc3Npb24gc2Vzc2lvbiA9IEhpYmVybmF0ZVV0aWwuZ2V0U2Vzc2lvbkZhY3RvcnkoKS5vcGVuU2Vzc2lvbigpKSB7CiAgICAgICAgICAgIHRyYW5zYWN0aW9uID0gc2Vzc2lvbi5iZWdpblRyYW5zYWN0aW9uKCk7CiAgICAgICAgICAgIFF1ZXJ5PFVzdWFyaW8+IHF1ZXJ5ID0gc2Vzc2lvbi5jcmVhdGVRdWVyeSgiRlJPTSBVc3VhcmlvIiwgVXN1YXJpby5jbGFzcyk7CiAgICAgICAgICAgIHVzdWFyaW9zID0gcXVlcnkubGlzdCgpOwogICAgICAgICAgICB0cmFuc2FjdGlvbi5jb21taXQoKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBpZiAodHJhbnNhY3Rpb24gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ucm9sbGJhY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdXN1YXJpb3M7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.hibernate.Session;
import org.hibernate.Transaction;
import org.hibernate.query.Query;

import java.util.List;

public class UsuarioDAO {
    public List&lt;Usuario&gt; obtenerUsuarios() {
        Transaction transaction = null;
        List&lt;Usuario&gt; usuarios = null;
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            Query&lt;Usuario&gt; query = session.createQuery(&quot;FROM Usuario&quot;, Usuario.class);
            usuarios = query.list();
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) {
                transaction.rollback();
            }
            e.printStackTrace();
        }
        return usuarios;
    }
}</pre></div><div class='content'></div><h1>Relaciones entre Entidades</h1>
<div class='content'><p>Hibernate soporta varios tipos de relaciones entre entidades, como <code>One-to-One</code>, <code>One-to-Many</code>, <code>Many-to-One</code> y <code>Many-to-Many</code>.</p>
</div><h2>Ejemplo de Relación One-to-Many</h2>
<div class='content'><p>Supongamos que un <code>Usuario</code> puede tener múltiples <code>Pedidos</code>. Definimos las entidades de la siguiente manera:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLio7CmltcG9ydCBqYXZhLnV0aWwuU2V0OwoKQEVudGl0eQpAVGFibGUobmFtZSA9ICJVc3VhcmlvIikKcHVibGljIGNsYXNzIFVzdWFyaW8gewogICAgQElkCiAgICBwcml2YXRlIGludCBpZDsKICAgIHByaXZhdGUgU3RyaW5nIG5vbWJyZTsKICAgIHByaXZhdGUgU3RyaW5nIGVtYWlsOwoKICAgIEBPbmVUb01hbnkobWFwcGVkQnkgPSAidXN1YXJpbyIsIGNhc2NhZGUgPSBDYXNjYWRlVHlwZS5BTEwsIGZldGNoID0gRmV0Y2hUeXBlLkxBWlkpCiAgICBwcml2YXRlIFNldDxQZWRpZG8+IHBlZGlkb3M7CgogICAgLy8gR2V0dGVycyB5IFNldHRlcnMKfQoKQEVudGl0eQpAVGFibGUobmFtZSA9ICJQZWRpZG8iKQpwdWJsaWMgY2xhc3MgUGVkaWRvIHsKICAgIEBJZAogICAgcHJpdmF0ZSBpbnQgaWQ7CiAgICBwcml2YXRlIFN0cmluZyBkZXNjcmlwY2lvbjsKCiAgICBATWFueVRvT25lCiAgICBASm9pbkNvbHVtbihuYW1lID0gInVzdWFyaW9faWQiLCBudWxsYWJsZSA9IGZhbHNlKQogICAgcHJpdmF0ZSBVc3VhcmlvIHVzdWFyaW87CgogICAgLy8gR2V0dGVycyB5IFNldHRlcnMKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import javax.persistence.*;
import java.util.Set;

@Entity
@Table(name = &quot;Usuario&quot;)
public class Usuario {
    @Id
    private int id;
    private String nombre;
    private String email;

    @OneToMany(mappedBy = &quot;usuario&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    private Set&lt;Pedido&gt; pedidos;

    // Getters y Setters
}

@Entity
@Table(name = &quot;Pedido&quot;)
public class Pedido {
    @Id
    private int id;
    private String descripcion;

    @ManyToOne
    @JoinColumn(name = &quot;usuario_id&quot;, nullable = false)
    private Usuario usuario;

    // Getters y Setters
}</pre></div><div class='content'></div><h1>Transacciones y Concurrencia</h1>
<div class='content'><p>Hibernate maneja las transacciones de manera automática, pero también puedes gestionarlas manualmente.</p>
</div><h2>Ejemplo de Transacción</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5oaWJlcm5hdGUuU2Vzc2lvbjsKaW1wb3J0IG9yZy5oaWJlcm5hdGUuVHJhbnNhY3Rpb247CgpwdWJsaWMgY2xhc3MgVXN1YXJpb0RBTyB7CiAgICBwdWJsaWMgdm9pZCBndWFyZGFyVXN1YXJpbyhVc3VhcmlvIHVzdWFyaW8pIHsKICAgICAgICBUcmFuc2FjdGlvbiB0cmFuc2FjdGlvbiA9IG51bGw7CiAgICAgICAgdHJ5IChTZXNzaW9uIHNlc3Npb24gPSBIaWJlcm5hdGVVdGlsLmdldFNlc3Npb25GYWN0b3J5KCkub3BlblNlc3Npb24oKSkgewogICAgICAgICAgICB0cmFuc2FjdGlvbiA9IHNlc3Npb24uYmVnaW5UcmFuc2FjdGlvbigpOwogICAgICAgICAgICBzZXNzaW9uLnNhdmUodXN1YXJpbyk7CiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmNvbW1pdCgpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGlmICh0cmFuc2FjdGlvbiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5yb2xsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7CiAgICAgICAgfQogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.hibernate.Session;
import org.hibernate.Transaction;

public class UsuarioDAO {
    public void guardarUsuario(Usuario usuario) {
        Transaction transaction = null;
        try (Session session = HibernateUtil.getSessionFactory().openSession()) {
            transaction = session.beginTransaction();
            session.save(usuario);
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) {
                transaction.rollback();
            }
            e.printStackTrace();
        }
    }
}</pre></div><div class='content'></div><h1>Caché en Hibernate</h1>
<div class='content'><p>Hibernate soporta caché de primer y segundo nivel para mejorar el rendimiento.</p>
</div><h2>Caché de Primer Nivel</h2>
<div class='content'><p>El caché de primer nivel está habilitado por defecto y es específico de la sesión.</p>
</div><h2>Caché de Segundo Nivel</h2>
<div class='content'><p>El caché de segundo nivel es compartido entre sesiones y debe ser configurado explícitamente.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHByb3BlcnR5IG5hbWU9ImhpYmVybmF0ZS5jYWNoZS51c2Vfc2Vjb25kX2xldmVsX2NhY2hlIj50cnVlPC9wcm9wZXJ0eT4KPHByb3BlcnR5IG5hbWU9ImhpYmVybmF0ZS5jYWNoZS5yZWdpb24uZmFjdG9yeV9jbGFzcyI+b3JnLmhpYmVybmF0ZS5jYWNoZS5laGNhY2hlLkVoQ2FjaGVSZWdpb25GYWN0b3J5PC9wcm9wZXJ0eT4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;property name=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/property&gt;
&lt;property name=&quot;hibernate.cache.region.factory_class&quot;&gt;org.hibernate.cache.ehcache.EhCacheRegionFactory&lt;/property&gt;</pre></div><div class='content'></div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Configuración de Hibernate</h2>
<div class='content'><ol>
<li>Configura un proyecto Java con Hibernate y MySQL.</li>
<li>Crea una clase <code>Producto</code> mapeada a una tabla <code>Producto</code> en la base de datos.</li>
<li>Escribe un programa que guarde un nuevo producto en la base de datos.</li>
</ol>
</div><h2>Ejercicio 2: Relaciones entre Entidades</h2>
<div class='content'><ol>
<li>Crea una relación <code>One-to-Many</code> entre <code>Usuario</code> y <code>Pedido</code>.</li>
<li>Escribe un programa que guarde un usuario con varios pedidos en la base de datos.</li>
<li>Escribe un programa que recupere un usuario y sus pedidos desde la base de datos.</li>
</ol>
</div><h2>Ejercicio 3: Consultas y Transacciones</h2>
<div class='content'><ol>
<li>Escribe una consulta HQL para obtener todos los usuarios con un email específico.</li>
<li>Escribe un programa que actualice el nombre de un usuario en una transacción.</li>
</ol>
</div><h1>Conclusión</h1>
<div class='content'><p>En este módulo, has aprendido los conceptos básicos y avanzados de Hibernate, cómo configurarlo y cómo utilizarlo para interactuar con bases de datos. Hibernate es una herramienta poderosa que simplifica el desarrollo de aplicaciones Java que requieren acceso a bases de datos relacionales. Con la práctica y la comprensión de los conceptos presentados, estarás bien preparado para utilizar Hibernate en tus proyectos.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='11-02-spring-framework' title="Spring Framework" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='11-02-spring-framework' title="Spring Framework" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='11-04-junit' title="JUnit" class="py-2 px-3 btn btn-primary"
				data-read-mod="java" data-read-unit="11-3">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='11-04-junit' title="JUnit" class="py-2 px-3 btn btn-primary" 
				data-read-mod="java" data-read-unit="11-3">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curso de Programación en Java</h1>
<h2>Módulo 1: Introducción a Java</h2>
<ul>
<li><a href="01-01-introduction-to-java">Introducción a Java</a></li>
<li><a href="01-02-setting-up-development-environment">Configuración del Entorno de Desarrollo</a></li>
<li><a href="01-03-basic-syntax-and-structure">Sintaxis y Estructura Básica</a></li>
<li><a href="01-04-variables-and-data-types">Variables y Tipos de Datos</a></li>
<li><a href="01-05-operators">Operadores</a></li>
</ul>
<h2>Módulo 2: Flujo de Control</h2>
<ul>
<li><a href="02-01-conditional-statements">Sentencias Condicionales</a></li>
<li><a href="02-02-loops">Bucles</a></li>
<li><a href="02-03-switch-statements">Sentencias Switch</a></li>
<li><a href="02-04-break-and-continue">Break y Continue</a></li>
</ul>
<h2>Módulo 3: Programación Orientada a Objetos</h2>
<ul>
<li><a href="03-01-introduction-to-oop">Introducción a la POO</a></li>
<li><a href="03-02-classes-and-objects">Clases y Objetos</a></li>
<li><a href="03-03-methods">Métodos</a></li>
<li><a href="03-04-constructors">Constructores</a></li>
<li><a href="03-05-inheritance">Herencia</a></li>
<li><a href="03-06-polymorphism">Polimorfismo</a></li>
<li><a href="03-07-encapsulation">Encapsulamiento</a></li>
<li><a href="03-08-abstraction">Abstracción</a></li>
</ul>
<h2>Módulo 4: Programación Orientada a Objetos Avanzada</h2>
<ul>
<li><a href="04-01-interfaces">Interfaces</a></li>
<li><a href="04-02-abstract-classes">Clases Abstractas</a></li>
<li><a href="04-03-inner-classes">Clases Internas</a></li>
<li><a href="04-04-anonymous-classes">Clases Anónimas</a></li>
<li><a href="04-05-lambda-expressions">Expresiones Lambda</a></li>
</ul>
<h2>Módulo 5: Estructuras de Datos y Colecciones</h2>
<ul>
<li><a href="05-01-arrays">Arreglos</a></li>
<li><a href="05-02-arraylist">ArrayList</a></li>
<li><a href="05-03-linkedlist">LinkedList</a></li>
<li><a href="05-04-hashmap">HashMap</a></li>
<li><a href="05-05-hashset">HashSet</a></li>
<li><a href="05-06-queue-and-deque">Cola y Deque</a></li>
<li><a href="05-07-stack">Pila</a></li>
</ul>
<h2>Módulo 6: Manejo de Excepciones</h2>
<ul>
<li><a href="06-01-introduction-to-exceptions">Introducción a las Excepciones</a></li>
<li><a href="06-02-try-catch-block">Bloque Try-Catch</a></li>
<li><a href="06-03-throw-and-throws">Throw y Throws</a></li>
<li><a href="06-04-custom-exceptions">Excepciones Personalizadas</a></li>
<li><a href="06-05-finally-block">Bloque Finally</a></li>
</ul>
<h2>Módulo 7: Entrada/Salida de Archivos</h2>
<ul>
<li><a href="07-01-reading-files">Lectura de Archivos</a></li>
<li><a href="07-02-writing-files">Escritura de Archivos</a></li>
<li><a href="07-03-file-streams">Flujos de Archivos</a></li>
<li><a href="07-04-bufferedreader-and-bufferedwriter">BufferedReader y BufferedWriter</a></li>
<li><a href="07-05-serialization">Serialización</a></li>
</ul>
<h2>Módulo 8: Multihilo y Concurrencia</h2>
<ul>
<li><a href="08-01-introduction-to-multithreading">Introducción al Multihilo</a></li>
<li><a href="08-02-creating-threads">Creación de Hilos</a></li>
<li><a href="08-03-thread-lifecycle">Ciclo de Vida de un Hilo</a></li>
<li><a href="08-04-synchronization">Sincronización</a></li>
<li><a href="08-05-concurrency-utilities">Utilidades de Concurrencia</a></li>
</ul>
<h2>Módulo 9: Redes</h2>
<ul>
<li><a href="09-01-introduction-to-networking">Introducción a las Redes</a></li>
<li><a href="09-02-sockets">Sockets</a></li>
<li><a href="09-03-serversocket">ServerSocket</a></li>
<li><a href="09-04-datagramsocket-and-datagrampacket">DatagramSocket y DatagramPacket</a></li>
<li><a href="09-05-url-and-httpurlconnection">URL y HttpURLConnection</a></li>
</ul>
<h2>Módulo 10: Temas Avanzados</h2>
<ul>
<li><a href="10-01-generics">Genéricos</a></li>
<li><a href="10-02-annotations">Anotaciones</a></li>
<li><a href="10-03-reflection">Reflexión</a></li>
<li><a href="10-04-java-8-features">Características de Java 8</a></li>
<li><a href="10-05-java-9-and-beyond">Java 9 y Más Allá</a></li>
</ul>
<h2>Módulo 11: Frameworks y Librerías de Java</h2>
<ul>
<li><a href="11-01-introduction-to-java-frameworks">Introducción a los Frameworks de Java</a></li>
<li><a href="11-02-spring-framework">Spring Framework</a></li>
<li><a href="11-03-hibernate">Hibernate</a></li>
<li><a href="11-04-junit">JUnit</a></li>
<li><a href="11-05-maven">Maven</a></li>
</ul>
<h2>Módulo 12: Construcción de Aplicaciones del Mundo Real</h2>
<ul>
<li><a href="12-01-project-setup">Configuración del Proyecto</a></li>
<li><a href="12-02-design-patterns">Patrones de Diseño</a></li>
<li><a href="12-03-developing-a-console-application">Desarrollo de una Aplicación de Consola</a></li>
<li><a href="12-04-developing-a-web-application">Desarrollo de una Aplicación Web</a></li>
<li><a href="12-05-deploying-applications">Despliegue de Aplicaciones</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuario no autenticado</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="mensaje" class="d-none alert alert-danger"></div>
            	<div id="mensaje_info" class="d-none alert alert-success"></div>
            	
            	<div id="modal-body-main">
					<div class="mt-4 d-none" id="forgotPasswordSection">
						<div class="mb-3">
    <label for="recovery-email" class="form-label">Correo electrónico</label>
    <input type="email" required class="form-control" id="recovery-email" placeholder="Introduce tu correo electrónico">
</div>
<button class="btn btn-primary" id="btnRecover">Enviar enlace de recuperación</button>

					</div>
									
					<div class="mt-4 d-none" id="deleteUserSection">	
						<div class="mb-3 alert alert-danger">
	¡Atención! Estás a punto de eliminar todos los datos de registro y progreso.<br><b>Esta acción no se puede deshacer.</b>
</div>
<div class="mb-3">
    <input type="password" required class="form-control" id="delete-user-pwd" placeholder="Introduce tu contraseña">
</div>
<button class="btn btn-primary" id="btnDeleteUser">Eliminar usuario</button>

					</div>
					
					<div class="mt-4 d-none" id="changePassordSection">
						<div class="mb-3 row">
	<div class="col col-12 my-2">
	    <input type="password" required class="form-control" id="change-pwd-actual" placeholder="Introduce el password actual">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-1" placeholder="Introduce el nuevo password">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-2" placeholder="Repite el nuevo password">
	</div>
</div>
<button class="btn btn-primary" id="btnChangePassword">Cambiar el password</button>

					</div>
					
					<div class="mt-4 d-none alert alert-warning" id="verifyPasswordSection">
						<p><b>Falta verificar correu</b></p>
						<a id="btnVerifyEmail" href="#">Enviar enlace de verificación</a>

					</div>
					
					<div class="mt-4 d-none" id="disconnectUserSection">
						<div class="mb-3">
    <button id="btnDisconnect" class="btn btn-primary">Desconectar</button>
</div>

<hr>

<div class="mt-3">
    <button class="btn btn-outline-secondary" id="change-password-link">Cambiar el password</button>
</div>

<div class="mt-3">
    <a href="#" id="delete-user-link">Eliminar usuario</a>
</div>

					</div>
	            
	            	<div class="mt-4 d-none" id="modalTabsSection">
	            		<ul class="nav nav-tabs" id="authTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="true">
        	Iniciar sesión
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab" aria-controls="register" aria-selected="false">
        	Registrarse
        </button>
    </li>
</ul>

<div class="tab-content mt-3" id="authTabsContent">
    <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
    	<div class="mb-3">
    <label for="login-username" class="form-label">Correo electrónico</label>
    <input type="email" required class="form-control" id="login-username" placeholder="Introduce tu correo electrónico">
</div>
<div class="mb-3">
    <label for="login-password" class="form-label">Contraseña</label>
    <input type="password"  required class="form-control" id="login-password" placeholder="Introduce tu contraseña">
</div>
<button class="btn btn-primary" id="btnLogin">Iniciar sesión</button>
<div class="mt-3">
    <a href="#" id="forgot-password-link">¿Has olvidado tu contraseña?</a>
</div>
    </div>

    <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
    	<div class="mb-3">
    <label for="register-email" class="form-label">Correo electrónico</label>
    <input type="email" class="form-control" id="register-email" required placeholder="Introduce tu correo electrónico">
</div>

<div class="mb-3">
    <label for="register-password" class="form-label">Contraseña</label>
    <input type="password" class="form-control"  required id="register-password" placeholder="Introduce tu contraseña">
</div>

<div class="mb-3">
    <label for="register-name" class="form-label">Nombre</label>
    <input type="text" class="form-control"  required id="register-name" placeholder="Introduce tu nombre">
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-conditions-reg">
    <label for="accept-conditions-reg" class="form-check-label">
        He leído y acepto la <a href="/privacity" target="blank">Política de Privacidad</a> y los <a href="/licence" target="blank">Términos y Condiciones de Uso</a>.
    </label>
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-allow_comunications">
    <label for="accept-allow_comunications" class="form-check-label">
        Deseo recibir noticias y actualizaciones sobre los cursos (opcional).
    </label>
</div>

<button id="btnRegister" class="btn btn-primary">Registrarse</button>
    </div>
</div>
	            	</div>
            	</div>
            </div>
        </div>
    </div>
</div>

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
