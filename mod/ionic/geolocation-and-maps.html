<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geolocalización y Mapas</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ionic/geolocation-and-maps" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ionic/geolocation-and-maps" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ionic/geolocation-and-maps" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/ionic/geolocation-and-maps" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/ionic/geolocation-and-maps" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='push-notifications'>&#x25C4;Notificaciones Push</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Geolocalización y Mapas</a>
	</div>
	<div class='col-4 text-end'>
					<a href='camera-and-file-handling'>Manejo de Cámara y Archivos &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En este módulo, exploraremos cómo integrar geolocalización y mapas en una aplicación Ionic. Esto incluye obtener la ubicación del usuario, mostrar mapas y agregar marcadores. Al final de este módulo, podrás crear una aplicación completamente funcional basada en mapas.</p>
</div><h1>Prerrequisitos</h1>
<div class='content'><p>Antes de sumergirte en la geolocalización y los mapas, asegúrate de tener:</p>
<ul>
<li>Conocimientos básicos del framework Ionic.</li>
<li>Ionic CLI instalado.</li>
<li>Un proyecto Ionic en funcionamiento.</li>
</ul>
</div><h1>Configuración de la Geolocalización</h1>
<div class='content'></div><h2>Instalación del Plugin de Geolocalización</h2>
<div class='content'><p>Para usar la geolocalización en una aplicación Ionic, necesitamos instalar el plugin Cordova Geolocation.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW9uaWMgY29yZG92YSBwbHVnaW4gYWRkIGNvcmRvdmEtcGx1Z2luLWdlb2xvY2F0aW9uCm5wbSBpbnN0YWxsIEBpb25pYy1uYXRpdmUvZ2VvbG9jYXRpb24="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ionic cordova plugin add cordova-plugin-geolocation
npm install @ionic-native/geolocation</pre></div><div class='content'></div><h2>Importar y Usar Geolocalización</h2>
<div class='content'><p>Primero, importa el servicio de Geolocalización en tu componente.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgR2VvbG9jYXRpb24gfSBmcm9tICdAaW9uaWMtbmF0aXZlL2dlb2xvY2F0aW9uL25neCc7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Geolocation } from '@ionic-native/geolocation/ngx';</pre></div><div class='content'><p>Inyecta el servicio de Geolocalización en el constructor de tu componente.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3RydWN0b3IocHJpdmF0ZSBnZW9sb2NhdGlvbjogR2VvbG9jYXRpb24pIHt9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>constructor(private geolocation: Geolocation) {}</pre></div><div class='content'><p>Ahora, puedes usar el método <code>getCurrentPosition</code> para obtener la ubicación actual del usuario.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGhpcy5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKS50aGVuKChyZXNwKSA9PiB7CiAgY29uc29sZS5sb2coJ0xhdGl0dWQ6ICcgKyByZXNwLmNvb3Jkcy5sYXRpdHVkZSk7CiAgY29uc29sZS5sb2coJ0xvbmdpdHVkOiAnICsgcmVzcC5jb29yZHMubG9uZ2l0dWRlKTsKfSkuY2F0Y2goKGVycm9yKSA9PiB7CiAgY29uc29sZS5sb2coJ0Vycm9yIG9idGVuaWVuZG8gbGEgdWJpY2FjacOzbicsIGVycm9yKTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>this.geolocation.getCurrentPosition().then((resp) =&gt; {
  console.log('Latitud: ' + resp.coords.latitude);
  console.log('Longitud: ' + resp.coords.longitude);
}).catch((error) =&gt; {
  console.log('Error obteniendo la ubicaci&oacute;n', error);
});</pre></div><div class='content'></div><h1>Mostrar Mapas</h1>
<div class='content'></div><h2>Configuración de Google Maps</h2>
<div class='content'><p>Para mostrar mapas, utilizaremos la API de JavaScript de Google Maps. Primero, necesitas obtener una clave API desde Google Cloud Console.</p>
</div><h2>Instalación del Plugin de Google Maps</h2>
<div class='content'><p>Instala el plugin de Google Maps y sus dependencias.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW9uaWMgY29yZG92YSBwbHVnaW4gYWRkIGNvcmRvdmEtcGx1Z2luLWdvb2dsZW1hcHMKbnBtIGluc3RhbGwgQGlvbmljLW5hdGl2ZS9nb29nbGUtbWFwcw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ionic cordova plugin add cordova-plugin-googlemaps
npm install @ionic-native/google-maps</pre></div><div class='content'></div><h2>Importar y Usar Google Maps</h2>
<div class='content'><p>Importa el servicio de Google Maps en tu componente.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgR29vZ2xlTWFwcywgR29vZ2xlTWFwLCBHb29nbGVNYXBzRXZlbnQsIExhdExuZywgTWFya2VyT3B0aW9ucywgTWFya2VyIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9nb29nbGUtbWFwcy9uZ3gnOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { GoogleMaps, GoogleMap, GoogleMapsEvent, LatLng, MarkerOptions, Marker } from '@ionic-native/google-maps/ngx';</pre></div><div class='content'><p>Inicializa el mapa en tu componente.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3RydWN0b3IocHJpdmF0ZSBnb29nbGVNYXBzOiBHb29nbGVNYXBzKSB7fQoKbmdBZnRlclZpZXdJbml0KCkgewogIHRoaXMubG9hZE1hcCgpOwp9Cgpsb2FkTWFwKCkgewogIGxldCBtYXBPcHRpb25zOiBHb29nbGVNYXBPcHRpb25zID0gewogICAgY2FtZXJhOiB7CiAgICAgIHRhcmdldDogewogICAgICAgIGxhdDogNDMuMDc0MTkwNCwKICAgICAgICBsbmc6IC04OS4zODA5ODAyCiAgICAgIH0sCiAgICAgIHpvb206IDE4LAogICAgICB0aWx0OiAzMAogICAgfQogIH07CgogIHRoaXMubWFwID0gR29vZ2xlTWFwcy5jcmVhdGUoJ21hcF9jYW52YXMnLCBtYXBPcHRpb25zKTsKCiAgLy8gRXNwZXJhIGEgcXVlIGVsIE1BUF9SRUFEWSBlc3TDqSBsaXN0byBhbnRlcyBkZSB1c2FyIGN1YWxxdWllciBtw6l0b2RvLgogIHRoaXMubWFwLm9uZShHb29nbGVNYXBzRXZlbnQuTUFQX1JFQURZKS50aGVuKCgpID0+IHsKICAgIGNvbnNvbGUubG9nKCfCoUVsIG1hcGEgZXN0w6EgbGlzdG8hJyk7CiAgfSk7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>constructor(private googleMaps: GoogleMaps) {}

ngAfterViewInit() {
  this.loadMap();
}

loadMap() {
  let mapOptions: GoogleMapOptions = {
    camera: {
      target: {
        lat: 43.0741904,
        lng: -89.3809802
      },
      zoom: 18,
      tilt: 30
    }
  };

  this.map = GoogleMaps.create('map_canvas', mapOptions);

  // Espera a que el MAP_READY est&eacute; listo antes de usar cualquier m&eacute;todo.
  this.map.one(GoogleMapsEvent.MAP_READY).then(() =&gt; {
    console.log('&iexcl;El mapa est&aacute; listo!');
  });
}</pre></div><div class='content'></div><h2>Agregar Marcadores</h2>
<div class='content'><p>Para agregar marcadores al mapa, usa el método <code>addMarker</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IG1hcmtlcjogTWFya2VyID0gdGhpcy5tYXAuYWRkTWFya2VyU3luYyh7CiAgdGl0bGU6ICdJb25pYycsCiAgaWNvbjogJ2JsdWUnLAogIGFuaW1hdGlvbjogJ0RST1AnLAogIHBvc2l0aW9uOiB7CiAgICBsYXQ6IDQzLjA3NDE5MDQsCiAgICBsbmc6IC04OS4zODA5ODAyCiAgfQp9KTsKCm1hcmtlci5vbihHb29nbGVNYXBzRXZlbnQuTUFSS0VSX0NMSUNLKS5zdWJzY3JpYmUoKCkgPT4gewogIGFsZXJ0KCdNYXJjYWRvciBjbGljYWRvJyk7Cn0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let marker: Marker = this.map.addMarkerSync({
  title: 'Ionic',
  icon: 'blue',
  animation: 'DROP',
  position: {
    lat: 43.0741904,
    lng: -89.3809802
  }
});

marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe(() =&gt; {
  alert('Marcador clicado');
});</pre></div><div class='content'></div><h1>Características Avanzadas</h1>
<div class='content'></div><h2>Seguimiento de Ubicación en Tiempo Real</h2>
<div class='content'><p>Para rastrear la ubicación del usuario en tiempo real, usa el método <code>watchPosition</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IHdhdGNoID0gdGhpcy5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKCk7CndhdGNoLnN1YnNjcmliZSgoZGF0YSkgPT4gewogIGNvbnNvbGUubG9nKCdMYXRpdHVkOiAnICsgZGF0YS5jb29yZHMubGF0aXR1ZGUpOwogIGNvbnNvbGUubG9nKCdMb25naXR1ZDogJyArIGRhdGEuY29vcmRzLmxvbmdpdHVkZSk7Cn0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let watch = this.geolocation.watchPosition();
watch.subscribe((data) =&gt; {
  console.log('Latitud: ' + data.coords.latitude);
  console.log('Longitud: ' + data.coords.longitude);
});</pre></div><div class='content'></div><h2>Personalización de Estilos del Mapa</h2>
<div class='content'><p>Puedes personalizar la apariencia de tu mapa usando estilos de mapa.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IG1hcE9wdGlvbnM6IEdvb2dsZU1hcE9wdGlvbnMgPSB7CiAgc3R5bGVzOiBbCiAgICB7CiAgICAgICJmZWF0dXJlVHlwZSI6ICJhbGwiLAogICAgICAiZWxlbWVudFR5cGUiOiAiZ2VvbWV0cnkuZmlsbCIsCiAgICAgICJzdHlsZXJzIjogWwogICAgICAgIHsKICAgICAgICAgICJ3ZWlnaHQiOiAiMi4wMCIKICAgICAgICB9CiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJmZWF0dXJlVHlwZSI6ICJhbGwiLAogICAgICAiZWxlbWVudFR5cGUiOiAiZ2VvbWV0cnkuc3Ryb2tlIiwKICAgICAgInN0eWxlcnMiOiBbCiAgICAgICAgewogICAgICAgICAgImNvbG9yIjogIiM5YzljOWMiCiAgICAgICAgfQogICAgICBdCiAgICB9CiAgXQp9Ow=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let mapOptions: GoogleMapOptions = {
  styles: [
    {
      &quot;featureType&quot;: &quot;all&quot;,
      &quot;elementType&quot;: &quot;geometry.fill&quot;,
      &quot;stylers&quot;: [
        {
          &quot;weight&quot;: &quot;2.00&quot;
        }
      ]
    },
    {
      &quot;featureType&quot;: &quot;all&quot;,
      &quot;elementType&quot;: &quot;geometry.stroke&quot;,
      &quot;stylers&quot;: [
        {
          &quot;color&quot;: &quot;#9c9c9c&quot;
        }
      ]
    }
  ]
};</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En este módulo, hemos cubierto los conceptos básicos de la integración de geolocalización y mapas en una aplicación Ionic. Comenzamos con la configuración del plugin de geolocalización, obteniendo la ubicación del usuario y mostrando mapas utilizando la API de Google Maps. También exploramos características avanzadas como el seguimiento de ubicación en tiempo real y la personalización de estilos de mapas. Con estas habilidades, ahora puedes crear aplicaciones poderosas basadas en la ubicación en Ionic.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='push-notifications'>&#x25C4;Notificaciones Push</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Geolocalización y Mapas</a>
	</div>
	<div class='col-4 text-end'>
					<a href='camera-and-file-handling'>Manejo de Cámara y Archivos &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
