<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subiendo Archivos</title>

    <link rel="alternate" href="https://campusempresa.com/mod/firebase/uploading-files" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/firebase/uploading-files" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/firebase/uploading-files" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/firebase/uploading-files" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/firebase/uploading-files" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-firebase-storage'>&#x25C4;Introducción a Firebase Storage</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Subiendo Archivos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='downloading-files'>Descarga de Archivos &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Subir archivos a Firebase es un requisito común para muchas aplicaciones, ya sea para almacenar contenido generado por el usuario, fotos de perfil u otros tipos de medios. Firebase proporciona un servicio robusto y fácil de usar llamado Firebase Storage para manejar la carga de archivos. Este tema te guiará a través del proceso de subir archivos a Firebase, desde niveles principiantes hasta avanzados.</p>
</div><h1>Introducción a Firebase Storage</h1>
<div class='content'><p>Firebase Storage es un servicio de almacenamiento de objetos poderoso, simple y rentable, construido para la escala de Google. Te permite almacenar y servir contenido generado por el usuario, como fotos o videos.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Buckets</strong>: Contenedores de almacenamiento para tus archivos.</li>
<li><strong>References</strong>: Punteros a la ubicación de tus archivos dentro de un bucket.</li>
<li><strong>Metadata</strong>: Información sobre tus archivos, como tamaño, tipo de contenido, etc.</li>
</ul>
</div><h1>Configuración de Firebase Storage</h1>
<div class='content'><p>Antes de que puedas subir archivos, necesitas configurar Firebase Storage en tu proyecto.</p>
</div><h2>Pasos para Configurar Firebase Storage</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Proyecto de Firebase</strong>:</p>
<ul>
<li>Ve a la <a href="https://console.firebase.google.com/">Consola de Firebase</a>.</li>
<li>Haz clic en &quot;Agregar proyecto&quot; y sigue las instrucciones para crear un nuevo proyecto.</li>
</ul>
</li>
<li>
<p><strong>Agregar Firebase a Tu Aplicación</strong>:</p>
<ul>
<li>Sigue las instrucciones para agregar Firebase a tu aplicación web, Android o iOS.</li>
</ul>
</li>
<li>
<p><strong>Habilitar Firebase Storage</strong>:</p>
<ul>
<li>En la Consola de Firebase, navega a la sección &quot;Storage&quot;.</li>
<li>Haz clic en &quot;Comenzar&quot; y sigue las indicaciones para habilitar Firebase Storage.</li>
</ul>
</li>
</ol>
</div><h1>Subiendo Archivos (Nivel Principiante)</h1>
<div class='content'><p>En el nivel principiante, cubriremos lo básico de subir un archivo a Firebase Storage usando un formulario HTML simple y JavaScript.</p>
</div><h2>Formulario HTML para Subir Archivos</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICA8dGl0bGU+U3ViaXIgQXJjaGl2byBhIEZpcmViYXNlPC90aXRsZT4KPC9oZWFkPgo8Ym9keT4KICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9ImZpbGVJbnB1dCIgLz4KICA8YnV0dG9uIG9uY2xpY2s9InVwbG9hZEZpbGUoKSI+U3ViaXI8L2J1dHRvbj4KCiAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vd3d3LmdzdGF0aWMuY29tL2ZpcmViYXNlanMvOS4wLjAvZmlyZWJhc2UtYXBwLmpzIj48L3NjcmlwdD4KICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy85LjAuMC9maXJlYmFzZS1zdG9yYWdlLmpzIj48L3NjcmlwdD4KICA8c2NyaXB0IHNyYz0icGF0aC90by95b3VyL2ZpcmViYXNlLWNvbmZpZy5qcyI+PC9zY3JpcHQ+CiAgPHNjcmlwdCBzcmM9InBhdGgvdG8veW91ci91cGxvYWQtc2NyaXB0LmpzIj48L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Subir Archivo a Firebase&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;input type=&quot;file&quot; id=&quot;fileInput&quot; /&gt;
  &lt;button onclick=&quot;uploadFile()&quot;&gt;Subir&lt;/button&gt;

  &lt;script src=&quot;https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://www.gstatic.com/firebasejs/9.0.0/firebase-storage.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;path/to/your/firebase-config.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;path/to/your/upload-script.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>JavaScript para Subir Archivos</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gSW5pY2lhbGl6YXIgRmlyZWJhc2UKY29uc3QgZmlyZWJhc2VDb25maWcgPSB7CiAgYXBpS2V5OiAiVFVfQVBJX0tFWSIsCiAgYXV0aERvbWFpbjogIlRVX0FVVEhfRE9NQUlOIiwKICBwcm9qZWN0SWQ6ICJUVV9QUk9KRUNUX0lEIiwKICBzdG9yYWdlQnVja2V0OiAiVFVfU1RPUkFHRV9CVUNLRVQiLAogIG1lc3NhZ2luZ1NlbmRlcklkOiAiVFVfTUVTU0FHSU5HX1NFTkRFUl9JRCIsCiAgYXBwSWQ6ICJUVV9BUFBfSUQiCn07CgpmaXJlYmFzZS5pbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTsKY29uc3Qgc3RvcmFnZSA9IGZpcmViYXNlLnN0b3JhZ2UoKTsKCmZ1bmN0aW9uIHVwbG9hZEZpbGUoKSB7CiAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVJbnB1dCcpOwogIGNvbnN0IGZpbGUgPSBmaWxlSW5wdXQuZmlsZXNbMF07CiAgY29uc3Qgc3RvcmFnZVJlZiA9IHN0b3JhZ2UucmVmKCd1cGxvYWRzLycgKyBmaWxlLm5hbWUpOwoKICBjb25zdCB1cGxvYWRUYXNrID0gc3RvcmFnZVJlZi5wdXQoZmlsZSk7CgogIHVwbG9hZFRhc2sub24oJ3N0YXRlX2NoYW5nZWQnLCAKICAgIChzbmFwc2hvdCkgPT4gewogICAgICAvLyBPYnNlcnZhciBldmVudG9zIGRlIGNhbWJpbyBkZSBlc3RhZG8gY29tbyBwcm9ncmVzbywgcGF1c2EgeSByZWFudWRhY2nDs24KICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAoc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZCAvIHNuYXBzaG90LnRvdGFsQnl0ZXMpICogMTAwOwogICAgICBjb25zb2xlLmxvZygnTGEgc3ViaWRhIGVzdMOhICcgKyBwcm9ncmVzcyArICclIGNvbXBsZXRhJyk7CiAgICB9LCAKICAgIChlcnJvcikgPT4gewogICAgICAvLyBNYW5lamFyIHN1YmlkYXMgbm8gZXhpdG9zYXMKICAgICAgY29uc29sZS5lcnJvcignTGEgc3ViaWRhIGZhbGzDszonLCBlcnJvcik7CiAgICB9LCAKICAgICgpID0+IHsKICAgICAgLy8gTWFuZWphciBzdWJpZGFzIGV4aXRvc2FzIGFsIGNvbXBsZXRhcgogICAgICBjb25zb2xlLmxvZygnwqFTdWJpZGEgZXhpdG9zYSEnKTsKICAgIH0KICApOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Inicializar Firebase
const firebaseConfig = {
  apiKey: &quot;TU_API_KEY&quot;,
  authDomain: &quot;TU_AUTH_DOMAIN&quot;,
  projectId: &quot;TU_PROJECT_ID&quot;,
  storageBucket: &quot;TU_STORAGE_BUCKET&quot;,
  messagingSenderId: &quot;TU_MESSAGING_SENDER_ID&quot;,
  appId: &quot;TU_APP_ID&quot;
};

firebase.initializeApp(firebaseConfig);
const storage = firebase.storage();

function uploadFile() {
  const fileInput = document.getElementById('fileInput');
  const file = fileInput.files[0];
  const storageRef = storage.ref('uploads/' + file.name);

  const uploadTask = storageRef.put(file);

  uploadTask.on('state_changed', 
    (snapshot) =&gt; {
      // Observar eventos de cambio de estado como progreso, pausa y reanudaci&oacute;n
      const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
      console.log('La subida est&aacute; ' + progress + '% completa');
    }, 
    (error) =&gt; {
      // Manejar subidas no exitosas
      console.error('La subida fall&oacute;:', error);
    }, 
    () =&gt; {
      // Manejar subidas exitosas al completar
      console.log('&iexcl;Subida exitosa!');
    }
  );
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Formulario HTML</strong>: Un formulario simple con un input de archivo y un botón para iniciar la subida.</li>
<li><strong>JavaScript</strong>:
<ul>
<li>Inicializa Firebase con tu configuración.</li>
<li>Obtiene el archivo del elemento input.</li>
<li>Crea una referencia a la ubicación de almacenamiento.</li>
<li>Sube el archivo y monitorea el estado de la subida.</li>
</ul>
</li>
</ul>
</div><h1>Subiendo Archivos (Nivel Intermedio)</h1>
<div class='content'><p>En el nivel intermedio, manejaremos escenarios más complejos, como mostrar el progreso de la subida y manejar errores de manera más elegante.</p>
</div><h2>Mostrando el Progreso de la Subida</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gdXBsb2FkRmlsZSgpIHsKICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZUlucHV0Jyk7CiAgY29uc3QgZmlsZSA9IGZpbGVJbnB1dC5maWxlc1swXTsKICBjb25zdCBzdG9yYWdlUmVmID0gc3RvcmFnZS5yZWYoJ3VwbG9hZHMvJyArIGZpbGUubmFtZSk7CgogIGNvbnN0IHVwbG9hZFRhc2sgPSBzdG9yYWdlUmVmLnB1dChmaWxlKTsKCiAgdXBsb2FkVGFzay5vbignc3RhdGVfY2hhbmdlZCcsIAogICAgKHNuYXBzaG90KSA9PiB7CiAgICAgIGNvbnN0IHByb2dyZXNzID0gKHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQgLyBzbmFwc2hvdC50b3RhbEJ5dGVzKSAqIDEwMDsKICAgICAgY29uc29sZS5sb2coJ0xhIHN1YmlkYSBlc3TDoSAnICsgcHJvZ3Jlc3MgKyAnJSBjb21wbGV0YScpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MnKS5pbm5lclRleHQgPSAnTGEgc3ViaWRhIGVzdMOhICcgKyBwcm9ncmVzcyArICclIGNvbXBsZXRhJzsKICAgIH0sIAogICAgKGVycm9yKSA9PiB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xhIHN1YmlkYSBmYWxsw7M6JywgZXJyb3IpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3InKS5pbm5lclRleHQgPSAnTGEgc3ViaWRhIGZhbGzDszogJyArIGVycm9yLm1lc3NhZ2U7CiAgICB9LCAKICAgICgpID0+IHsKICAgICAgY29uc29sZS5sb2coJ8KhU3ViaWRhIGV4aXRvc2EhJyk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWNjZXNzJykuaW5uZXJUZXh0ID0gJ8KhU3ViaWRhIGV4aXRvc2EhJzsKICAgIH0KICApOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function uploadFile() {
  const fileInput = document.getElementById('fileInput');
  const file = fileInput.files[0];
  const storageRef = storage.ref('uploads/' + file.name);

  const uploadTask = storageRef.put(file);

  uploadTask.on('state_changed', 
    (snapshot) =&gt; {
      const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
      console.log('La subida est&aacute; ' + progress + '% completa');
      document.getElementById('progress').innerText = 'La subida est&aacute; ' + progress + '% completa';
    }, 
    (error) =&gt; {
      console.error('La subida fall&oacute;:', error);
      document.getElementById('error').innerText = 'La subida fall&oacute;: ' + error.message;
    }, 
    () =&gt; {
      console.log('&iexcl;Subida exitosa!');
      document.getElementById('success').innerText = '&iexcl;Subida exitosa!';
    }
  );
}</pre></div><div class='content'></div><h2>HTML para Mostrar el Progreso</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICA8dGl0bGU+U3ViaXIgQXJjaGl2byBhIEZpcmViYXNlPC90aXRsZT4KPC9oZWFkPgo8Ym9keT4KICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9ImZpbGVJbnB1dCIgLz4KICA8YnV0dG9uIG9uY2xpY2s9InVwbG9hZEZpbGUoKSI+U3ViaXI8L2J1dHRvbj4KICA8ZGl2IGlkPSJwcm9ncmVzcyI+PC9kaXY+CiAgPGRpdiBpZD0iZXJyb3IiPjwvZGl2PgogIDxkaXYgaWQ9InN1Y2Nlc3MiPjwvZGl2PgoKICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy85LjAuMC9maXJlYmFzZS1hcHAuanMiPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPSJodHRwczovL3d3dy5nc3RhdGljLmNvbS9maXJlYmFzZWpzLzkuMC4wL2ZpcmViYXNlLXN0b3JhZ2UuanMiPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPSJwYXRoL3RvL3lvdXIvZmlyZWJhc2UtY29uZmlnLmpzIj48L3NjcmlwdD4KICA8c2NyaXB0IHNyYz0icGF0aC90by95b3VyL3VwbG9hZC1zY3JpcHQuanMiPjwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Subir Archivo a Firebase&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;input type=&quot;file&quot; id=&quot;fileInput&quot; /&gt;
  &lt;button onclick=&quot;uploadFile()&quot;&gt;Subir&lt;/button&gt;
  &lt;div id=&quot;progress&quot;&gt;&lt;/div&gt;
  &lt;div id=&quot;error&quot;&gt;&lt;/div&gt;
  &lt;div id=&quot;success&quot;&gt;&lt;/div&gt;

  &lt;script src=&quot;https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://www.gstatic.com/firebasejs/9.0.0/firebase-storage.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;path/to/your/firebase-config.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;path/to/your/upload-script.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Mostrar Progreso</strong>: Actualiza el HTML para mostrar el progreso de la subida, mensajes de éxito o error.</li>
</ul>
</div><h1>Subiendo Archivos (Nivel Avanzado)</h1>
<div class='content'><p>En el nivel avanzado, cubriremos características más sofisticadas como subidas reanudables, manejo de archivos grandes y configuración de metadata.</p>
</div><h2>Subidas Reanudables y Metadata</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gdXBsb2FkRmlsZSgpIHsKICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZUlucHV0Jyk7CiAgY29uc3QgZmlsZSA9IGZpbGVJbnB1dC5maWxlc1swXTsKICBjb25zdCBzdG9yYWdlUmVmID0gc3RvcmFnZS5yZWYoJ3VwbG9hZHMvJyArIGZpbGUubmFtZSk7CgogIGNvbnN0IG1ldGFkYXRhID0gewogICAgY29udGVudFR5cGU6IGZpbGUudHlwZSwKICAgIGN1c3RvbU1ldGFkYXRhOiB7CiAgICAgICd1cGxvYWRlZEJ5JzogJ1VzZXIxMjMnLAogICAgICAnZGVzY3JpcHRpb24nOiAnRm90byBkZSBwZXJmaWwnCiAgICB9CiAgfTsKCiAgY29uc3QgdXBsb2FkVGFzayA9IHN0b3JhZ2VSZWYucHV0KGZpbGUsIG1ldGFkYXRhKTsKCiAgdXBsb2FkVGFzay5vbignc3RhdGVfY2hhbmdlZCcsIAogICAgKHNuYXBzaG90KSA9PiB7CiAgICAgIGNvbnN0IHByb2dyZXNzID0gKHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQgLyBzbmFwc2hvdC50b3RhbEJ5dGVzKSAqIDEwMDsKICAgICAgY29uc29sZS5sb2coJ0xhIHN1YmlkYSBlc3TDoSAnICsgcHJvZ3Jlc3MgKyAnJSBjb21wbGV0YScpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MnKS5pbm5lclRleHQgPSAnTGEgc3ViaWRhIGVzdMOhICcgKyBwcm9ncmVzcyArICclIGNvbXBsZXRhJzsKICAgIH0sIAogICAgKGVycm9yKSA9PiB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xhIHN1YmlkYSBmYWxsw7M6JywgZXJyb3IpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3InKS5pbm5lclRleHQgPSAnTGEgc3ViaWRhIGZhbGzDszogJyArIGVycm9yLm1lc3NhZ2U7CiAgICB9LCAKICAgICgpID0+IHsKICAgICAgY29uc29sZS5sb2coJ8KhU3ViaWRhIGV4aXRvc2EhJyk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWNjZXNzJykuaW5uZXJUZXh0ID0gJ8KhU3ViaWRhIGV4aXRvc2EhJzsKICAgIH0KICApOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function uploadFile() {
  const fileInput = document.getElementById('fileInput');
  const file = fileInput.files[0];
  const storageRef = storage.ref('uploads/' + file.name);

  const metadata = {
    contentType: file.type,
    customMetadata: {
      'uploadedBy': 'User123',
      'description': 'Foto de perfil'
    }
  };

  const uploadTask = storageRef.put(file, metadata);

  uploadTask.on('state_changed', 
    (snapshot) =&gt; {
      const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
      console.log('La subida est&aacute; ' + progress + '% completa');
      document.getElementById('progress').innerText = 'La subida est&aacute; ' + progress + '% completa';
    }, 
    (error) =&gt; {
      console.error('La subida fall&oacute;:', error);
      document.getElementById('error').innerText = 'La subida fall&oacute;: ' + error.message;
    }, 
    () =&gt; {
      console.log('&iexcl;Subida exitosa!');
      document.getElementById('success').innerText = '&iexcl;Subida exitosa!';
    }
  );
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Metadata</strong>: Agrega información adicional al archivo que se está subiendo.</li>
<li><strong>Subidas Reanudables</strong>: Firebase Storage maneja automáticamente las subidas reanudables, facilitando la subida de archivos grandes.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Subir archivos a Firebase Storage es una característica poderosa que puede implementarse en varios niveles de complejidad. Desde una simple subida de archivos hasta el manejo de archivos grandes con metadata, Firebase Storage proporciona una solución escalable y fácil de usar para las necesidades de almacenamiento de tu aplicación. Siguiendo los pasos y ejemplos proporcionados, puedes integrar la subida de archivos en tu aplicación de manera eficiente y efectiva.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-firebase-storage'>&#x25C4;Introducción a Firebase Storage</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Subiendo Archivos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='downloading-files'>Descarga de Archivos &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
