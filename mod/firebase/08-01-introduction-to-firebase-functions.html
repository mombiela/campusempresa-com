<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introducción a las funciones de Firebase</title>

    <link rel="alternate" href="https://campusempresa.com/mod/firebase/08-01-introduction-to-firebase-functions" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/firebase/08-01-introduction-to-firebase-functions" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/firebase/08-01-introduction-to-firebase-functions" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/firebase/08-01-introduction-to-firebase-functions" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/firebase/08-01-introduction-to-firebase-functions" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-04-analyzing-data' title="Análisis de datos">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Introducción a las funciones de Firebase</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='08-02-writing-functions' title="Escritura de funciones">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>¿Qué son las funciones de Firebase?</h1>
<div class='content'><p>Las funciones de Firebase, también conocidas como Cloud Functions for Firebase, son un servicio de computación sin servidor que permite ejecutar código backend en respuesta a eventos desencadenados por Firebase y otros servicios de Google Cloud. Estas funciones se escriben en JavaScript, TypeScript o Python y se ejecutan en un entorno administrado por Google.</p>
</div><h2>Características clave:</h2>
<div class='content'><ul>
<li><strong>Sin servidor</strong>: No necesitas gestionar servidores ni infraestructura.</li>
<li><strong>Escalabilidad automática</strong>: Las funciones se escalan automáticamente según la demanda.</li>
<li><strong>Integración con Firebase y Google Cloud</strong>: Puedes reaccionar a eventos de Firebase, como cambios en la base de datos, autenticación de usuarios, y más.</li>
</ul>
</div><h1>Casos de uso comunes</h1>
<div class='content'><ol>
<li><strong>Procesamiento de datos en tiempo real</strong>: Realizar operaciones en datos cuando se escriben en la base de datos.</li>
<li><strong>Autenticación y autorización</strong>: Validar y gestionar usuarios.</li>
<li><strong>Notificaciones push</strong>: Enviar notificaciones a los usuarios en respuesta a eventos específicos.</li>
<li><strong>Integración con servicios externos</strong>: Conectar tu aplicación con APIs de terceros.</li>
</ol>
</div><h1>Configuración inicial</h1>
<div class='content'></div><h2>Paso 1: Instalar Firebase CLI</h2>
<div class='content'><p>Para empezar a trabajar con las funciones de Firebase, necesitas instalar la Firebase CLI (Command Line Interface). Abre tu terminal y ejecuta el siguiente comando:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLWcgZmlyZWJhc2UtdG9vbHM="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install -g firebase-tools</pre></div><div class='content'></div><h2>Paso 2: Inicializar el proyecto de Firebase</h2>
<div class='content'><p>Navega a tu proyecto y ejecuta el siguiente comando para inicializar Firebase:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmlyZWJhc2UgaW5pdA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>firebase init</pre></div><div class='content'><p>Selecciona &quot;Functions&quot; en el menú de opciones y sigue las instrucciones para configurar tu proyecto.</p>
</div><h2>Paso 3: Estructura del proyecto</h2>
<div class='content'><p>Una vez inicializado, tu proyecto tendrá una estructura similar a esta:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXktcHJvamVjdC8K4pSc4pSA4pSAIGZ1bmN0aW9ucy8K4pSCICAg4pSc4pSA4pSAIC5lc2xpbnRyYy5qcwrilIIgICDilJzilIDilIAgaW5kZXguanMK4pSCICAg4pSc4pSA4pSAIHBhY2thZ2UuanNvbgrilIIgICDilJTilIDilIAgbm9kZV9tb2R1bGVzLwrilJTilIDilIAgZmlyZWJhc2UuanNvbg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>my-project/
├── functions/
│   ├── .eslintrc.js
│   ├── index.js
│   ├── package.json
│   └── node_modules/
└── firebase.json</pre></div><div class='content'><ul>
<li><strong>functions/index.js</strong>: Aquí es donde escribirás tus funciones.</li>
<li><strong>firebase.json</strong>: Archivo de configuración de Firebase.</li>
</ul>
</div><h1>Escribiendo tu primera función</h1>
<div class='content'><p>Vamos a escribir una función simple que se ejecuta cuando se crea un nuevo usuario en Firebase Authentication.</p>
</div><h2>Paso 1: Importar Firebase Functions y Admin SDK</h2>
<div class='content'><p>Abre <code>functions/index.js</code> y añade las siguientes líneas:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZnVuY3Rpb25zID0gcmVxdWlyZSgnZmlyZWJhc2UtZnVuY3Rpb25zJyk7CmNvbnN0IGFkbWluID0gcmVxdWlyZSgnZmlyZWJhc2UtYWRtaW4nKTsKYWRtaW4uaW5pdGlhbGl6ZUFwcCgpOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const functions = require('firebase-functions');
const admin = require('firebase-admin');
admin.initializeApp();</pre></div><div class='content'></div><h2>Paso 2: Definir la función</h2>
<div class='content'><p>Añade la siguiente función para manejar el evento de creación de un nuevo usuario:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwb3J0cy5zZW5kV2VsY29tZUVtYWlsID0gZnVuY3Rpb25zLmF1dGgudXNlcigpLm9uQ3JlYXRlKCh1c2VyKSA9PiB7CiAgY29uc3QgZW1haWwgPSB1c2VyLmVtYWlsOwogIGNvbnN0IGRpc3BsYXlOYW1lID0gdXNlci5kaXNwbGF5TmFtZTsKCiAgLy8gQXF1w60gcHVlZGVzIGHDsWFkaXIgbGEgbMOzZ2ljYSBwYXJhIGVudmlhciB1biBjb3JyZW8gZWxlY3Ryw7NuaWNvCiAgY29uc29sZS5sb2coYEJpZW52ZW5pZG8gJHtkaXNwbGF5TmFtZX0hIEVtYWlsOiAke2VtYWlsfWApOwoKICByZXR1cm4gbnVsbDsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>exports.sendWelcomeEmail = functions.auth.user().onCreate((user) =&gt; {
  const email = user.email;
  const displayName = user.displayName;

  // Aqu&iacute; puedes a&ntilde;adir la l&oacute;gica para enviar un correo electr&oacute;nico
  console.log(`Bienvenido ${displayName}! Email: ${email}`);

  return null;
});</pre></div><div class='content'></div><h2>Paso 3: Desplegar la función</h2>
<div class='content'><p>Para desplegar tu función, ejecuta el siguiente comando en tu terminal:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmlyZWJhc2UgZGVwbG95IC0tb25seSBmdW5jdGlvbnM="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>firebase deploy --only functions</pre></div><div class='content'></div><h1>Ejercicio práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Crear una función que se ejecute al escribir en la base de datos</h2>
<div class='content'><ol>
<li><strong>Objetivo</strong>: Crear una función que se ejecute cada vez que se añade un nuevo mensaje a la base de datos en tiempo real de Firebase.</li>
<li><strong>Instrucciones</strong>:
<ul>
<li>Inicializa un nuevo proyecto de Firebase.</li>
<li>Escribe una función que se dispare cuando se añade un nuevo mensaje a <code>/messages/{messageId}</code>.</li>
<li>La función debe registrar el contenido del mensaje en la consola.</li>
</ul>
</li>
</ol>
</div><h2>Solución:</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgZnVuY3Rpb25zID0gcmVxdWlyZSgnZmlyZWJhc2UtZnVuY3Rpb25zJyk7CmNvbnN0IGFkbWluID0gcmVxdWlyZSgnZmlyZWJhc2UtYWRtaW4nKTsKYWRtaW4uaW5pdGlhbGl6ZUFwcCgpOwoKZXhwb3J0cy5sb2dOZXdNZXNzYWdlID0gZnVuY3Rpb25zLmRhdGFiYXNlLnJlZignL21lc3NhZ2VzL3ttZXNzYWdlSWR9JykKICAgIC5vbkNyZWF0ZSgoc25hcHNob3QsIGNvbnRleHQpID0+IHsKICAgICAgICBjb25zdCBtZXNzYWdlID0gc25hcHNob3QudmFsKCk7CiAgICAgICAgY29uc29sZS5sb2coYE51ZXZvIG1lbnNhamU6ICR7bWVzc2FnZS50ZXh0fWApOwogICAgICAgIHJldHVybiBudWxsOwogICAgfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const functions = require('firebase-functions');
const admin = require('firebase-admin');
admin.initializeApp();

exports.logNewMessage = functions.database.ref('/messages/{messageId}')
    .onCreate((snapshot, context) =&gt; {
        const message = snapshot.val();
        console.log(`Nuevo mensaje: ${message.text}`);
        return null;
    });</pre></div><div class='content'><p>Despliega la función con:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmlyZWJhc2UgZGVwbG95IC0tb25seSBmdW5jdGlvbnM="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>firebase deploy --only functions</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En esta lección, hemos aprendido qué son las funciones de Firebase, cómo configurarlas y escribir una función básica. Las funciones de Firebase son una herramienta poderosa para manejar lógica backend sin necesidad de gestionar servidores. En las próximas lecciones, profundizaremos en cómo escribir funciones más complejas y cómo integrarlas con otros servicios de Firebase y Google Cloud.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-04-analyzing-data' title="Análisis de datos">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='08-02-writing-functions' title="Escritura de funciones">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
