<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autenticación de Redes Sociales</title>

    <link rel="alternate" href="https://campusempresa.com/mod/firebase/02-03-social-media-authentication" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/firebase/02-03-social-media-authentication" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/firebase/02-03-social-media-authentication" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/firebase/02-03-social-media-authentication" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/firebase/02-03-social-media-authentication" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-02-email-and-password-authentication' title="Autenticación por correo electrónico y contraseña">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Autenticación de Redes Sociales</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='02-04-managing-users' title="Gestión de usuarios">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La autenticación de redes sociales en Firebase permite a los usuarios iniciar sesión en tu aplicación utilizando sus cuentas de redes sociales como Google, Facebook, Twitter, entre otras. Esto no solo mejora la experiencia del usuario al simplificar el proceso de inicio de sesión, sino que también puede aumentar la tasa de registro en tu aplicación.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ol>
<li><strong>Proveedores de Autenticación</strong>: Firebase soporta varios proveedores de autenticación, incluyendo Google, Facebook, Twitter, y GitHub.</li>
<li><strong>OAuth</strong>: Es el protocolo utilizado para permitir que los usuarios autoricen a tu aplicación a acceder a sus datos en las redes sociales.</li>
<li><strong>Tokens de Acceso</strong>: Son utilizados para autenticar y autorizar solicitudes a las APIs de los proveedores de redes sociales.</li>
</ol>
</div><h1>Configuración de Proveedores de Autenticación</h1>
<div class='content'></div><h2>Paso 1: Habilitar Proveedores en la Consola de Firebase</h2>
<div class='content'><ol>
<li>Ve a la <a href="https://console.firebase.google.com/">Consola de Firebase</a>.</li>
<li>Selecciona tu proyecto.</li>
<li>En el menú de la izquierda, selecciona <strong>Authentication</strong> y luego <strong>Sign-in method</strong>.</li>
<li>Habilita los proveedores de autenticación que deseas utilizar (Google, Facebook, Twitter, etc.).</li>
</ol>
</div><h2>Paso 2: Configurar Credenciales del Proveedor</h2>
<div class='content'><h4>Google</h4>
<ol>
<li>Habilita Google como proveedor en la consola de Firebase.</li>
<li>No se requiere configuración adicional en la consola de Google.</li>
</ol>
<h4>Facebook</h4>
<ol>
<li>Habilita Facebook como proveedor en la consola de Firebase.</li>
<li>Ve a <a href="https://developers.facebook.com/">Facebook for Developers</a> y crea una nueva aplicación.</li>
<li>Obtén el <strong>App ID</strong> y <strong>App Secret</strong> de Facebook y configúralos en la consola de Firebase.</li>
</ol>
<h4>Twitter</h4>
<ol>
<li>Habilita Twitter como proveedor en la consola de Firebase.</li>
<li>Ve a <a href="https://developer.twitter.com/">Twitter Developer</a> y crea una nueva aplicación.</li>
<li>Obtén las <strong>API Key</strong> y <strong>API Secret Key</strong> de Twitter y configúralos en la consola de Firebase.</li>
</ol>
</div><h1>Implementación en el Código</h1>
<div class='content'></div><h2>Ejemplo: Autenticación con Google</h2>
<div class='content'><h4>Paso 1: Agregar Dependencias</h4>
<p>Asegúrate de tener las dependencias necesarias en tu archivo <code>build.gradle</code> (para Android) o <code>Podfile</code> (para iOS).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYnVpbGQuZ3JhZGxlIChhcHApCmRlcGVuZGVuY2llcyB7CiAgICBpbXBsZW1lbnRhdGlvbiAnY29tLmdvb2dsZS5maXJlYmFzZTpmaXJlYmFzZS1hdXRoOjIxLjAuMScKICAgIGltcGxlbWVudGF0aW9uICdjb20uZ29vZ2xlLmFuZHJvaWQuZ21zOnBsYXktc2VydmljZXMtYXV0aDoxOS4yLjAnCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// build.gradle (app)
dependencies {
    implementation 'com.google.firebase:firebase-auth:21.0.1'
    implementation 'com.google.android.gms:play-services-auth:19.2.0'
}</pre></div><div class='content'><h4>Paso 2: Configurar Google Sign-In</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTWFpbkFjdGl2aXR5LmphdmEKaW1wb3J0IGNvbS5nb29nbGUuZmlyZWJhc2UuYXV0aC5GaXJlYmFzZUF1dGg7CmltcG9ydCBjb20uZ29vZ2xlLmZpcmViYXNlLmF1dGguRmlyZWJhc2VVc2VyOwppbXBvcnQgY29tLmdvb2dsZS5maXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcjsKaW1wb3J0IGNvbS5nb29nbGUuYW5kcm9pZC5nbXMuYXV0aC5hcGkuc2lnbmluLkdvb2dsZVNpZ25JbjsKaW1wb3J0IGNvbS5nb29nbGUuYW5kcm9pZC5nbXMuYXV0aC5hcGkuc2lnbmluLkdvb2dsZVNpZ25JbkFjY291bnQ7CmltcG9ydCBjb20uZ29vZ2xlLmFuZHJvaWQuZ21zLmF1dGguYXBpLnNpZ25pbi5Hb29nbGVTaWduSW5DbGllbnQ7CmltcG9ydCBjb20uZ29vZ2xlLmFuZHJvaWQuZ21zLmF1dGguYXBpLnNpZ25pbi5Hb29nbGVTaWduSW5PcHRpb25zOwppbXBvcnQgY29tLmdvb2dsZS5hbmRyb2lkLmdtcy50YXNrcy5UYXNrOwoKcHVibGljIGNsYXNzIE1haW5BY3Rpdml0eSBleHRlbmRzIEFwcENvbXBhdEFjdGl2aXR5IHsKICAgIHByaXZhdGUgRmlyZWJhc2VBdXRoIG1BdXRoOwogICAgcHJpdmF0ZSBHb29nbGVTaWduSW5DbGllbnQgbUdvb2dsZVNpZ25JbkNsaWVudDsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIGludCBSQ19TSUdOX0lOID0gOTAwMTsKCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCB2b2lkIG9uQ3JlYXRlKEJ1bmRsZSBzYXZlZEluc3RhbmNlU3RhdGUpIHsKICAgICAgICBzdXBlci5vbkNyZWF0ZShzYXZlZEluc3RhbmNlU3RhdGUpOwogICAgICAgIHNldENvbnRlbnRWaWV3KFIubGF5b3V0LmFjdGl2aXR5X21haW4pOwoKICAgICAgICAvLyBJbml0aWFsaXplIEZpcmViYXNlIEF1dGgKICAgICAgICBtQXV0aCA9IEZpcmViYXNlQXV0aC5nZXRJbnN0YW5jZSgpOwoKICAgICAgICAvLyBDb25maWd1cmUgR29vZ2xlIFNpZ24gSW4KICAgICAgICBHb29nbGVTaWduSW5PcHRpb25zIGdzbyA9IG5ldyBHb29nbGVTaWduSW5PcHRpb25zLkJ1aWxkZXIoR29vZ2xlU2lnbkluT3B0aW9ucy5ERUZBVUxUX1NJR05fSU4pCiAgICAgICAgICAgICAgICAucmVxdWVzdElkVG9rZW4oZ2V0U3RyaW5nKFIuc3RyaW5nLmRlZmF1bHRfd2ViX2NsaWVudF9pZCkpCiAgICAgICAgICAgICAgICAucmVxdWVzdEVtYWlsKCkKICAgICAgICAgICAgICAgIC5idWlsZCgpOwoKICAgICAgICBtR29vZ2xlU2lnbkluQ2xpZW50ID0gR29vZ2xlU2lnbkluLmdldENsaWVudCh0aGlzLCBnc28pOwoKICAgICAgICBmaW5kVmlld0J5SWQoUi5pZC5zaWduX2luX2J1dHRvbikuc2V0T25DbGlja0xpc3RlbmVyKG5ldyBWaWV3Lk9uQ2xpY2tMaXN0ZW5lcigpIHsKICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgIHB1YmxpYyB2b2lkIG9uQ2xpY2soVmlldyB2KSB7CiAgICAgICAgICAgICAgICBzaWduSW4oKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgIHByaXZhdGUgdm9pZCBzaWduSW4oKSB7CiAgICAgICAgSW50ZW50IHNpZ25JbkludGVudCA9IG1Hb29nbGVTaWduSW5DbGllbnQuZ2V0U2lnbkluSW50ZW50KCk7CiAgICAgICAgc3RhcnRBY3Rpdml0eUZvclJlc3VsdChzaWduSW5JbnRlbnQsIFJDX1NJR05fSU4pOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIHZvaWQgb25BY3Rpdml0eVJlc3VsdChpbnQgcmVxdWVzdENvZGUsIGludCByZXN1bHRDb2RlLCBJbnRlbnQgZGF0YSkgewogICAgICAgIHN1cGVyLm9uQWN0aXZpdHlSZXN1bHQocmVxdWVzdENvZGUsIHJlc3VsdENvZGUsIGRhdGEpOwoKICAgICAgICAvLyBSZXN1bHQgcmV0dXJuZWQgZnJvbSBsYXVuY2hpbmcgdGhlIEludGVudCBmcm9tIEdvb2dsZVNpZ25JbkNsaWVudC5nZXRTaWduSW5JbnRlbnQoLi4uKTsKICAgICAgICBpZiAocmVxdWVzdENvZGUgPT0gUkNfU0lHTl9JTikgewogICAgICAgICAgICBUYXNrPEdvb2dsZVNpZ25JbkFjY291bnQ+IHRhc2sgPSBHb29nbGVTaWduSW4uZ2V0U2lnbmVkSW5BY2NvdW50RnJvbUludGVudChkYXRhKTsKICAgICAgICAgICAgaGFuZGxlU2lnbkluUmVzdWx0KHRhc2spOwogICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlU2lnbkluUmVzdWx0KFRhc2s8R29vZ2xlU2lnbkluQWNjb3VudD4gY29tcGxldGVkVGFzaykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEdvb2dsZVNpZ25JbkFjY291bnQgYWNjb3VudCA9IGNvbXBsZXRlZFRhc2suZ2V0UmVzdWx0KEFwaUV4Y2VwdGlvbi5jbGFzcyk7CiAgICAgICAgICAgIGZpcmViYXNlQXV0aFdpdGhHb29nbGUoYWNjb3VudCk7CiAgICAgICAgfSBjYXRjaCAoQXBpRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgLy8gR29vZ2xlIFNpZ24gSW4gZmFpbGVkLCB1cGRhdGUgVUkgYXBwcm9wcmlhdGVseQogICAgICAgICAgICBMb2cudyhUQUcsICJHb29nbGUgc2lnbiBpbiBmYWlsZWQiLCBlKTsKICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSB2b2lkIGZpcmViYXNlQXV0aFdpdGhHb29nbGUoR29vZ2xlU2lnbkluQWNjb3VudCBhY2N0KSB7CiAgICAgICAgQXV0aENyZWRlbnRpYWwgY3JlZGVudGlhbCA9IEdvb2dsZUF1dGhQcm92aWRlci5nZXRDcmVkZW50aWFsKGFjY3QuZ2V0SWRUb2tlbigpLCBudWxsKTsKICAgICAgICBtQXV0aC5zaWduSW5XaXRoQ3JlZGVudGlhbChjcmVkZW50aWFsKQogICAgICAgICAgICAgICAgLmFkZE9uQ29tcGxldGVMaXN0ZW5lcih0aGlzLCBuZXcgT25Db21wbGV0ZUxpc3RlbmVyPEF1dGhSZXN1bHQ+KCkgewogICAgICAgICAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIG9uQ29tcGxldGUoQE5vbk51bGwgVGFzazxBdXRoUmVzdWx0PiB0YXNrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXNrLmlzU3VjY2Vzc2Z1bCgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaWduIGluIHN1Y2Nlc3MsIHVwZGF0ZSBVSSB3aXRoIHRoZSBzaWduZWQtaW4gdXNlcidzIGluZm9ybWF0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaXJlYmFzZVVzZXIgdXNlciA9IG1BdXRoLmdldEN1cnJlbnRVc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVVSSh1c2VyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHNpZ24gaW4gZmFpbHMsIGRpc3BsYXkgYSBtZXNzYWdlIHRvIHRoZSB1c2VyLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nLncoVEFHLCAic2lnbkluV2l0aENyZWRlbnRpYWw6ZmFpbHVyZSIsIHRhc2suZ2V0RXhjZXB0aW9uKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlVUkobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgdXBkYXRlVUkoRmlyZWJhc2VVc2VyIHVzZXIpIHsKICAgICAgICAvLyBVcGRhdGUgeW91ciBVSSBoZXJlCiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// MainActivity.java
import com.google.firebase.auth.FirebaseAuth;
import com.google.firebase.auth.FirebaseUser;
import com.google.firebase.auth.GoogleAuthProvider;
import com.google.android.gms.auth.api.signin.GoogleSignIn;
import com.google.android.gms.auth.api.signin.GoogleSignInAccount;
import com.google.android.gms.auth.api.signin.GoogleSignInClient;
import com.google.android.gms.auth.api.signin.GoogleSignInOptions;
import com.google.android.gms.tasks.Task;

public class MainActivity extends AppCompatActivity {
    private FirebaseAuth mAuth;
    private GoogleSignInClient mGoogleSignInClient;
    private static final int RC_SIGN_IN = 9001;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // Initialize Firebase Auth
        mAuth = FirebaseAuth.getInstance();

        // Configure Google Sign In
        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)
                .requestIdToken(getString(R.string.default_web_client_id))
                .requestEmail()
                .build();

        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);

        findViewById(R.id.sign_in_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                signIn();
            }
        });
    }

    private void signIn() {
        Intent signInIntent = mGoogleSignInClient.getSignInIntent();
        startActivityForResult(signInIntent, RC_SIGN_IN);
    }

    @Override
    public void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);

        // Result returned from launching the Intent from GoogleSignInClient.getSignInIntent(...);
        if (requestCode == RC_SIGN_IN) {
            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);
            handleSignInResult(task);
        }
    }

    private void handleSignInResult(Task&lt;GoogleSignInAccount&gt; completedTask) {
        try {
            GoogleSignInAccount account = completedTask.getResult(ApiException.class);
            firebaseAuthWithGoogle(account);
        } catch (ApiException e) {
            // Google Sign In failed, update UI appropriately
            Log.w(TAG, &quot;Google sign in failed&quot;, e);
        }
    }

    private void firebaseAuthWithGoogle(GoogleSignInAccount acct) {
        AuthCredential credential = GoogleAuthProvider.getCredential(acct.getIdToken(), null);
        mAuth.signInWithCredential(credential)
                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {
                    @Override
                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {
                        if (task.isSuccessful()) {
                            // Sign in success, update UI with the signed-in user's information
                            FirebaseUser user = mAuth.getCurrentUser();
                            updateUI(user);
                        } else {
                            // If sign in fails, display a message to the user.
                            Log.w(TAG, &quot;signInWithCredential:failure&quot;, task.getException());
                            updateUI(null);
                        }
                    }
                });
    }

    private void updateUI(FirebaseUser user) {
        // Update your UI here
    }
}</pre></div><div class='content'></div><h2>Ejemplo: Autenticación con Facebook</h2>
<div class='content'><h4>Paso 1: Agregar Dependencias</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYnVpbGQuZ3JhZGxlIChhcHApCmRlcGVuZGVuY2llcyB7CiAgICBpbXBsZW1lbnRhdGlvbiAnY29tLmdvb2dsZS5maXJlYmFzZTpmaXJlYmFzZS1hdXRoOjIxLjAuMScKICAgIGltcGxlbWVudGF0aW9uICdjb20uZmFjZWJvb2suYW5kcm9pZDpmYWNlYm9vay1hbmRyb2lkLXNkazpbNSw2KScKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// build.gradle (app)
dependencies {
    implementation 'com.google.firebase:firebase-auth:21.0.1'
    implementation 'com.facebook.android:facebook-android-sdk:[5,6)'
}</pre></div><div class='content'><h4>Paso 2: Configurar Facebook Login</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTWFpbkFjdGl2aXR5LmphdmEKaW1wb3J0IGNvbS5mYWNlYm9vay5BY2Nlc3NUb2tlbjsKaW1wb3J0IGNvbS5mYWNlYm9vay5DYWxsYmFja01hbmFnZXI7CmltcG9ydCBjb20uZmFjZWJvb2suRmFjZWJvb2tDYWxsYmFjazsKaW1wb3J0IGNvbS5mYWNlYm9vay5GYWNlYm9va0V4Y2VwdGlvbjsKaW1wb3J0IGNvbS5mYWNlYm9vay5sb2dpbi5Mb2dpbk1hbmFnZXI7CmltcG9ydCBjb20uZmFjZWJvb2subG9naW4uTG9naW5SZXN1bHQ7CmltcG9ydCBjb20uZ29vZ2xlLmZpcmViYXNlLmF1dGguQXV0aENyZWRlbnRpYWw7CmltcG9ydCBjb20uZ29vZ2xlLmZpcmViYXNlLmF1dGguRmFjZWJvb2tBdXRoUHJvdmlkZXI7CmltcG9ydCBjb20uZ29vZ2xlLmZpcmViYXNlLmF1dGguRmlyZWJhc2VBdXRoOwppbXBvcnQgY29tLmdvb2dsZS5maXJlYmFzZS5hdXRoLkZpcmViYXNlVXNlcjsKCnB1YmxpYyBjbGFzcyBNYWluQWN0aXZpdHkgZXh0ZW5kcyBBcHBDb21wYXRBY3Rpdml0eSB7CiAgICBwcml2YXRlIEZpcmViYXNlQXV0aCBtQXV0aDsKICAgIHByaXZhdGUgQ2FsbGJhY2tNYW5hZ2VyIG1DYWxsYmFja01hbmFnZXI7CgogICAgQE92ZXJyaWRlCiAgICBwcm90ZWN0ZWQgdm9pZCBvbkNyZWF0ZShCdW5kbGUgc2F2ZWRJbnN0YW5jZVN0YXRlKSB7CiAgICAgICAgc3VwZXIub25DcmVhdGUoc2F2ZWRJbnN0YW5jZVN0YXRlKTsKICAgICAgICBzZXRDb250ZW50VmlldyhSLmxheW91dC5hY3Rpdml0eV9tYWluKTsKCiAgICAgICAgLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZSBBdXRoCiAgICAgICAgbUF1dGggPSBGaXJlYmFzZUF1dGguZ2V0SW5zdGFuY2UoKTsKCiAgICAgICAgLy8gSW5pdGlhbGl6ZSBGYWNlYm9vayBMb2dpbiBidXR0b24KICAgICAgICBtQ2FsbGJhY2tNYW5hZ2VyID0gQ2FsbGJhY2tNYW5hZ2VyLkZhY3RvcnkuY3JlYXRlKCk7CiAgICAgICAgTG9naW5NYW5hZ2VyLmdldEluc3RhbmNlKCkucmVnaXN0ZXJDYWxsYmFjayhtQ2FsbGJhY2tNYW5hZ2VyLCBuZXcgRmFjZWJvb2tDYWxsYmFjazxMb2dpblJlc3VsdD4oKSB7CiAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICBwdWJsaWMgdm9pZCBvblN1Y2Nlc3MoTG9naW5SZXN1bHQgbG9naW5SZXN1bHQpIHsKICAgICAgICAgICAgICAgIGhhbmRsZUZhY2Vib29rQWNjZXNzVG9rZW4obG9naW5SZXN1bHQuZ2V0QWNjZXNzVG9rZW4oKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICBwdWJsaWMgdm9pZCBvbkNhbmNlbCgpIHsKICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBjYW5jZWwKICAgICAgICAgICAgfQoKICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgIHB1YmxpYyB2b2lkIG9uRXJyb3IoRmFjZWJvb2tFeGNlcHRpb24gZXJyb3IpIHsKICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBlcnJvcgogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGZpbmRWaWV3QnlJZChSLmlkLmxvZ2luX2J1dHRvbikuc2V0T25DbGlja0xpc3RlbmVyKG5ldyBWaWV3Lk9uQ2xpY2tMaXN0ZW5lcigpIHsKICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgIHB1YmxpYyB2b2lkIG9uQ2xpY2soVmlldyB2KSB7CiAgICAgICAgICAgICAgICBMb2dpbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5sb2dJbldpdGhSZWFkUGVybWlzc2lvbnMoTWFpbkFjdGl2aXR5LnRoaXMsIEFycmF5cy5hc0xpc3QoImVtYWlsIiwgInB1YmxpY19wcm9maWxlIikpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwcm90ZWN0ZWQgdm9pZCBvbkFjdGl2aXR5UmVzdWx0KGludCByZXF1ZXN0Q29kZSwgaW50IHJlc3VsdENvZGUsIEludGVudCBkYXRhKSB7CiAgICAgICAgc3VwZXIub25BY3Rpdml0eVJlc3VsdChyZXF1ZXN0Q29kZSwgcmVzdWx0Q29kZSwgZGF0YSk7CiAgICAgICAgbUNhbGxiYWNrTWFuYWdlci5vbkFjdGl2aXR5UmVzdWx0KHJlcXVlc3RDb2RlLCByZXN1bHRDb2RlLCBkYXRhKTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRmFjZWJvb2tBY2Nlc3NUb2tlbihBY2Nlc3NUb2tlbiB0b2tlbikgewogICAgICAgIEF1dGhDcmVkZW50aWFsIGNyZWRlbnRpYWwgPSBGYWNlYm9va0F1dGhQcm92aWRlci5nZXRDcmVkZW50aWFsKHRva2VuLmdldFRva2VuKCkpOwogICAgICAgIG1BdXRoLnNpZ25JbldpdGhDcmVkZW50aWFsKGNyZWRlbnRpYWwpCiAgICAgICAgICAgICAgICAuYWRkT25Db21wbGV0ZUxpc3RlbmVyKHRoaXMsIG5ldyBPbkNvbXBsZXRlTGlzdGVuZXI8QXV0aFJlc3VsdD4oKSB7CiAgICAgICAgICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgICAgICAgICAgcHVibGljIHZvaWQgb25Db21wbGV0ZShATm9uTnVsbCBUYXNrPEF1dGhSZXN1bHQ+IHRhc2spIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2suaXNTdWNjZXNzZnVsKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpcmViYXNlVXNlciB1c2VyID0gbUF1dGguZ2V0Q3VycmVudFVzZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVVJKHVzZXIpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlVUkobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgdXBkYXRlVUkoRmlyZWJhc2VVc2VyIHVzZXIpIHsKICAgICAgICAvLyBVcGRhdGUgeW91ciBVSSBoZXJlCiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// MainActivity.java
import com.facebook.AccessToken;
import com.facebook.CallbackManager;
import com.facebook.FacebookCallback;
import com.facebook.FacebookException;
import com.facebook.login.LoginManager;
import com.facebook.login.LoginResult;
import com.google.firebase.auth.AuthCredential;
import com.google.firebase.auth.FacebookAuthProvider;
import com.google.firebase.auth.FirebaseAuth;
import com.google.firebase.auth.FirebaseUser;

public class MainActivity extends AppCompatActivity {
    private FirebaseAuth mAuth;
    private CallbackManager mCallbackManager;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // Initialize Firebase Auth
        mAuth = FirebaseAuth.getInstance();

        // Initialize Facebook Login button
        mCallbackManager = CallbackManager.Factory.create();
        LoginManager.getInstance().registerCallback(mCallbackManager, new FacebookCallback&lt;LoginResult&gt;() {
            @Override
            public void onSuccess(LoginResult loginResult) {
                handleFacebookAccessToken(loginResult.getAccessToken());
            }

            @Override
            public void onCancel() {
                // Handle cancel
            }

            @Override
            public void onError(FacebookException error) {
                // Handle error
            }
        });

        findViewById(R.id.login_button).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                LoginManager.getInstance().logInWithReadPermissions(MainActivity.this, Arrays.asList(&quot;email&quot;, &quot;public_profile&quot;));
            }
        });
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        mCallbackManager.onActivityResult(requestCode, resultCode, data);
    }

    private void handleFacebookAccessToken(AccessToken token) {
        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());
        mAuth.signInWithCredential(credential)
                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {
                    @Override
                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {
                        if (task.isSuccessful()) {
                            FirebaseUser user = mAuth.getCurrentUser();
                            updateUI(user);
                        } else {
                            updateUI(null);
                        }
                    }
                });
    }

    private void updateUI(FirebaseUser user) {
        // Update your UI here
    }
}</pre></div><div class='content'></div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Implementar Autenticación con Google</h2>
<div class='content'><ol>
<li>Configura un proyecto de Firebase y habilita Google como proveedor de autenticación.</li>
<li>Implementa la autenticación con Google en una aplicación Android siguiendo los pasos descritos anteriormente.</li>
<li>Verifica que los usuarios puedan iniciar sesión con sus cuentas de Google.</li>
</ol>
</div><h2>Ejercicio 2: Implementar Autenticación con Facebook</h2>
<div class='content'><ol>
<li>Configura un proyecto de Firebase y habilita Facebook como proveedor de autenticación.</li>
<li>Implementa la autenticación con Facebook en una aplicación Android siguiendo los pasos descritos anteriormente.</li>
<li>Verifica que los usuarios puedan iniciar sesión con sus cuentas de Facebook.</li>
</ol>
</div><h1>Soluciones</h1>
<div class='content'></div><h2>Solución al Ejercicio 1</h2>
<div class='content'><p>Sigue los pasos detallados en la sección &quot;Ejemplo: Autenticación con Google&quot; para implementar la autenticación con Google en tu aplicación.</p>
</div><h2>Solución al Ejercicio 2</h2>
<div class='content'><p>Sigue los pasos detallados en la sección &quot;Ejemplo: Autenticación con Facebook&quot; para implementar la autenticación con Facebook en tu aplicación.</p>
</div><h1>Errores Comunes y Consejos</h1>
<div class='content'><ol>
<li>
<p><strong>Error: &quot;DEVELOPER_ERROR&quot; al iniciar sesión con Google</strong>:</p>
<ul>
<li>Asegúrate de que el <code>google-services.json</code> esté correctamente configurado y ubicado en el directorio <code>app/</code> de tu proyecto.</li>
<li>Verifica que el <code>SHA-1</code> de tu aplicación esté correctamente configurado en la consola de Firebase.</li>
</ul>
</li>
<li>
<p><strong>Error: &quot;INVALID_KEY_HASH&quot; al iniciar sesión con Facebook</strong>:</p>
<ul>
<li>Asegúrate de que el hash de clave de tu aplicación esté correctamente configurado en el panel de desarrolladores de Facebook.</li>
</ul>
</li>
<li>
<p><strong>Consejo</strong>: Siempre maneja los errores de autenticación de manera adecuada para proporcionar una buena experiencia de usuario. Muestra mensajes claros y útiles cuando ocurra un error.</p>
</li>
</ol>
</div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos aprendido cómo implementar la autenticación de redes sociales utilizando Firebase. Hemos cubierto la configuración de proveedores de autenticación en la consola de Firebase, así como la implementación de la autenticación con Google y Facebook en una aplicación Android. Con estos conocimientos, puedes mejorar la experiencia de usuario en tu aplicación al permitirles iniciar sesión con sus cuentas de redes sociales favoritas. En el próximo módulo, exploraremos cómo gestionar usuarios en Firebase.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-02-email-and-password-authentication' title="Autenticación por correo electrónico y contraseña">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='02-04-managing-users' title="Gestión de usuarios">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
