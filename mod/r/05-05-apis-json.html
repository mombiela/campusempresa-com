<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APIs y JSON</title>

    <link rel="alternate" href="https://campusempresa.com/mod/r/05-05-apis-json" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/r/05-05-apis-json" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/r/05-05-apis-json" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/r/05-05-apis-json" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/r/05-05-apis-json" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-web-scraping' title="Web Scraping">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">APIs y JSON</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='06-01-writing-functions' title="Escritura de Funciones">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En este módulo, aprenderás cómo interactuar con APIs (Interfaz de Programación de Aplicaciones) y manejar datos en formato JSON (JavaScript Object Notation) utilizando R. Las APIs permiten a las aplicaciones comunicarse entre sí, y JSON es un formato común para intercambiar datos. Este conocimiento es esencial para trabajar con datos en la web y construir aplicaciones más complejas.</p>
</div><h1>Contenidos</h1>
<div class='content'><ol>
<li><strong>Introducción a las APIs</strong></li>
<li><strong>Formato JSON</strong></li>
<li><strong>Solicitudes HTTP en R</strong></li>
<li><strong>Manipulación de Datos JSON</strong></li>
<li><strong>Ejemplos Prácticos</strong></li>
<li><strong>Ejercicios y Soluciones</strong></li>
</ol>
</div><h1>1. Introducción a las APIs</h1>
<div class='content'></div><h2>¿Qué es una API?</h2>
<div class='content'><p>Una API es un conjunto de reglas que permite a diferentes programas comunicarse entre sí. Las APIs web permiten a las aplicaciones acceder a datos y servicios a través de la web.</p>
</div><h2>Tipos de APIs</h2>
<div class='content'><ul>
<li><strong>REST (Representational State Transfer):</strong> Utiliza HTTP y es el tipo más común de API web.</li>
<li><strong>SOAP (Simple Object Access Protocol):</strong> Utiliza XML y es más complejo que REST.</li>
</ul>
</div><h1>2. Formato JSON</h1>
<div class='content'></div><h2>¿Qué es JSON?</h2>
<div class='content'><p>JSON es un formato ligero de intercambio de datos. Es fácil de leer y escribir para los humanos y fácil de parsear y generar para las máquinas.</p>
</div><h2>Ejemplo de JSON</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJuYW1lIjogIkpvaG4gRG9lIiwKICAiYWdlIjogMzAsCiAgImlzU3R1ZGVudCI6IGZhbHNlLAogICJjb3Vyc2VzIjogWyJNYXRoIiwgIlNjaWVuY2UiLCAiSGlzdG9yeSJdCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;age&quot;: 30,
  &quot;isStudent&quot;: false,
  &quot;courses&quot;: [&quot;Math&quot;, &quot;Science&quot;, &quot;History&quot;]
}</pre></div><div class='content'></div><h1>3. Solicitudes HTTP en R</h1>
<div class='content'><p>Para interactuar con APIs en R, utilizaremos el paquete <code>httr</code>.</p>
</div><h2>Instalación del Paquete</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW5zdGFsbC5wYWNrYWdlcygiaHR0ciIpCmxpYnJhcnkoaHR0cik="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>install.packages(&quot;httr&quot;)
library(httr)</pre></div><div class='content'></div><h2>Realizar una Solicitud GET</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzcG9uc2UgPC0gR0VUKCJodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhIikKc3RhdHVzX2NvZGUocmVzcG9uc2UpICAjIFZlcmlmaWNhciBlbCBjw7NkaWdvIGRlIGVzdGFkbyBkZSBsYSByZXNwdWVzdGEKY29udGVudChyZXNwb25zZSwgInRleHQiKSAgIyBPYnRlbmVyIGVsIGNvbnRlbmlkbyBkZSBsYSByZXNwdWVzdGE="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>response &lt;- GET(&quot;https://api.example.com/data&quot;)
status_code(response)  # Verificar el c&oacute;digo de estado de la respuesta
content(response, &quot;text&quot;)  # Obtener el contenido de la respuesta</pre></div><div class='content'></div><h2>Realizar una Solicitud POST</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzcG9uc2UgPC0gUE9TVCgiaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YSIsIGJvZHkgPSBsaXN0KGtleTEgPSAidmFsdWUxIiwga2V5MiA9ICJ2YWx1ZTIiKSwgZW5jb2RlID0gImpzb24iKQpzdGF0dXNfY29kZShyZXNwb25zZSkKY29udGVudChyZXNwb25zZSwgInRleHQiKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>response &lt;- POST(&quot;https://api.example.com/data&quot;, body = list(key1 = &quot;value1&quot;, key2 = &quot;value2&quot;), encode = &quot;json&quot;)
status_code(response)
content(response, &quot;text&quot;)</pre></div><div class='content'></div><h1>4. Manipulación de Datos JSON</h1>
<div class='content'><p>Para trabajar con datos JSON en R, utilizaremos el paquete <code>jsonlite</code>.</p>
</div><h2>Instalación del Paquete</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW5zdGFsbC5wYWNrYWdlcygianNvbmxpdGUiKQpsaWJyYXJ5KGpzb25saXRlKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>install.packages(&quot;jsonlite&quot;)
library(jsonlite)</pre></div><div class='content'></div><h2>Parsear JSON</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("anNvbl9kYXRhIDwtICd7Im5hbWUiOiAiSm9obiBEb2UiLCAiYWdlIjogMzAsICJpc1N0dWRlbnQiOiBmYWxzZSwgImNvdXJzZXMiOiBbIk1hdGgiLCAiU2NpZW5jZSIsICJIaXN0b3J5Il19JwpwYXJzZWRfZGF0YSA8LSBmcm9tSlNPTihqc29uX2RhdGEpCnByaW50KHBhcnNlZF9kYXRhKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>json_data &lt;- '{&quot;name&quot;: &quot;John Doe&quot;, &quot;age&quot;: 30, &quot;isStudent&quot;: false, &quot;courses&quot;: [&quot;Math&quot;, &quot;Science&quot;, &quot;History&quot;]}'
parsed_data &lt;- fromJSON(json_data)
print(parsed_data)</pre></div><div class='content'></div><h2>Convertir Datos a JSON</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGF0YSA8LSBsaXN0KG5hbWUgPSAiSm9obiBEb2UiLCBhZ2UgPSAzMCwgaXNTdHVkZW50ID0gRkFMU0UsIGNvdXJzZXMgPSBjKCJNYXRoIiwgIlNjaWVuY2UiLCAiSGlzdG9yeSIpKQpqc29uX2RhdGEgPC0gdG9KU09OKGRhdGEsIHByZXR0eSA9IFRSVUUpCnByaW50KGpzb25fZGF0YSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>data &lt;- list(name = &quot;John Doe&quot;, age = 30, isStudent = FALSE, courses = c(&quot;Math&quot;, &quot;Science&quot;, &quot;History&quot;))
json_data &lt;- toJSON(data, pretty = TRUE)
print(json_data)</pre></div><div class='content'></div><h1>5. Ejemplos Prácticos</h1>
<div class='content'></div><h2>Ejemplo 1: Obtener Datos de una API Pública</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBPYnRlbmVyIGRhdG9zIGRlIHVuYSBBUEkgcMO6YmxpY2EKcmVzcG9uc2UgPC0gR0VUKCJodHRwczovL2FwaS5jb2luZGVzay5jb20vdjEvYnBpL2N1cnJlbnRwcmljZS5qc29uIikKZGF0YSA8LSBmcm9tSlNPTihjb250ZW50KHJlc3BvbnNlLCAidGV4dCIpKQpwcmludChkYXRhKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Obtener datos de una API p&uacute;blica
response &lt;- GET(&quot;https://api.coindesk.com/v1/bpi/currentprice.json&quot;)
data &lt;- fromJSON(content(response, &quot;text&quot;))
print(data)</pre></div><div class='content'></div><h2>Ejemplo 2: Enviar Datos a una API</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFbnZpYXIgZGF0b3MgYSB1bmEgQVBJCnJlc3BvbnNlIDwtIFBPU1QoImh0dHBzOi8vaHR0cGJpbi5vcmcvcG9zdCIsIGJvZHkgPSBsaXN0KG5hbWUgPSAiSm9obiBEb2UiLCBhZ2UgPSAzMCksIGVuY29kZSA9ICJqc29uIikKZGF0YSA8LSBmcm9tSlNPTihjb250ZW50KHJlc3BvbnNlLCAidGV4dCIpKQpwcmludChkYXRhKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Enviar datos a una API
response &lt;- POST(&quot;https://httpbin.org/post&quot;, body = list(name = &quot;John Doe&quot;, age = 30), encode = &quot;json&quot;)
data &lt;- fromJSON(content(response, &quot;text&quot;))
print(data)</pre></div><div class='content'></div><h1>6. Ejercicios y Soluciones</h1>
<div class='content'></div><h2>Ejercicio 1: Obtener Datos de una API</h2>
<div class='content'><p><strong>Instrucciones:</strong></p>
<ol>
<li>Utiliza la API de OpenWeatherMap para obtener el clima actual de una ciudad.</li>
<li>Parsear los datos JSON y extraer la temperatura actual.</li>
</ol>
<p><strong>Código:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbnN0YWxhciB5IGNhcmdhciBsb3MgcGFxdWV0ZXMgbmVjZXNhcmlvcwppbnN0YWxsLnBhY2thZ2VzKCJodHRyIikKaW5zdGFsbC5wYWNrYWdlcygianNvbmxpdGUiKQpsaWJyYXJ5KGh0dHIpCmxpYnJhcnkoanNvbmxpdGUpCgojIFJlYWxpemFyIGxhIHNvbGljaXR1ZCBHRVQKYXBpX2tleSA8LSAiVFVfQVBJX0tFWSIKY2l0eSA8LSAiTG9uZG9uIgpyZXNwb25zZSA8LSBHRVQocGFzdGUwKCJodHRwOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9IiwgY2l0eSwgIiZhcHBpZD0iLCBhcGlfa2V5KSkKCiMgVmVyaWZpY2FyIGVsIGPDs2RpZ28gZGUgZXN0YWRvCmlmIChzdGF0dXNfY29kZShyZXNwb25zZSkgPT0gMjAwKSB7CiAgIyBQYXJzZWFyIGxvcyBkYXRvcyBKU09OCiAgZGF0YSA8LSBmcm9tSlNPTihjb250ZW50KHJlc3BvbnNlLCAidGV4dCIpKQogICMgRXh0cmFlciBsYSB0ZW1wZXJhdHVyYSBhY3R1YWwKICB0ZW1wZXJhdHVyZSA8LSBkYXRhJG1haW4kdGVtcAogIHByaW50KHBhc3RlKCJMYSB0ZW1wZXJhdHVyYSBhY3R1YWwgZW4iLCBjaXR5LCAiZXMiLCB0ZW1wZXJhdHVyZSwgIktlbHZpbiIpKQp9IGVsc2UgewogIHByaW50KCJFcnJvciBhbCBvYnRlbmVyIGxvcyBkYXRvcyIpCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Instalar y cargar los paquetes necesarios
install.packages(&quot;httr&quot;)
install.packages(&quot;jsonlite&quot;)
library(httr)
library(jsonlite)

# Realizar la solicitud GET
api_key &lt;- &quot;TU_API_KEY&quot;
city &lt;- &quot;London&quot;
response &lt;- GET(paste0(&quot;http://api.openweathermap.org/data/2.5/weather?q=&quot;, city, &quot;&amp;appid=&quot;, api_key))

# Verificar el c&oacute;digo de estado
if (status_code(response) == 200) {
  # Parsear los datos JSON
  data &lt;- fromJSON(content(response, &quot;text&quot;))
  # Extraer la temperatura actual
  temperature &lt;- data$main$temp
  print(paste(&quot;La temperatura actual en&quot;, city, &quot;es&quot;, temperature, &quot;Kelvin&quot;))
} else {
  print(&quot;Error al obtener los datos&quot;)
}</pre></div><div class='content'></div><h2>Ejercicio 2: Enviar Datos a una API</h2>
<div class='content'><p><strong>Instrucciones:</strong></p>
<ol>
<li>Utiliza la API de httpbin para enviar un JSON con tu nombre y edad.</li>
<li>Verifica la respuesta de la API.</li>
</ol>
<p><strong>Código:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbnN0YWxhciB5IGNhcmdhciBsb3MgcGFxdWV0ZXMgbmVjZXNhcmlvcwppbnN0YWxsLnBhY2thZ2VzKCJodHRyIikKaW5zdGFsbC5wYWNrYWdlcygianNvbmxpdGUiKQpsaWJyYXJ5KGh0dHIpCmxpYnJhcnkoanNvbmxpdGUpCgojIENyZWFyIGxvcyBkYXRvcyBhIGVudmlhcgpkYXRhIDwtIGxpc3QobmFtZSA9ICJKYW5lIERvZSIsIGFnZSA9IDI1KQoKIyBSZWFsaXphciBsYSBzb2xpY2l0dWQgUE9TVApyZXNwb25zZSA8LSBQT1NUKCJodHRwczovL2h0dHBiaW4ub3JnL3Bvc3QiLCBib2R5ID0gZGF0YSwgZW5jb2RlID0gImpzb24iKQoKIyBWZXJpZmljYXIgZWwgY8OzZGlnbyBkZSBlc3RhZG8KaWYgKHN0YXR1c19jb2RlKHJlc3BvbnNlKSA9PSAyMDApIHsKICAjIFBhcnNlYXIgbG9zIGRhdG9zIEpTT04gZGUgbGEgcmVzcHVlc3RhCiAgcmVzcG9uc2VfZGF0YSA8LSBmcm9tSlNPTihjb250ZW50KHJlc3BvbnNlLCAidGV4dCIpKQogIHByaW50KHJlc3BvbnNlX2RhdGEpCn0gZWxzZSB7CiAgcHJpbnQoIkVycm9yIGFsIGVudmlhciBsb3MgZGF0b3MiKQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Instalar y cargar los paquetes necesarios
install.packages(&quot;httr&quot;)
install.packages(&quot;jsonlite&quot;)
library(httr)
library(jsonlite)

# Crear los datos a enviar
data &lt;- list(name = &quot;Jane Doe&quot;, age = 25)

# Realizar la solicitud POST
response &lt;- POST(&quot;https://httpbin.org/post&quot;, body = data, encode = &quot;json&quot;)

# Verificar el c&oacute;digo de estado
if (status_code(response) == 200) {
  # Parsear los datos JSON de la respuesta
  response_data &lt;- fromJSON(content(response, &quot;text&quot;))
  print(response_data)
} else {
  print(&quot;Error al enviar los datos&quot;)
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En este módulo, has aprendido cómo interactuar con APIs y manejar datos en formato JSON utilizando R. Ahora puedes realizar solicitudes HTTP, parsear y generar JSON, y trabajar con datos de la web. Estos conocimientos te permitirán construir aplicaciones más complejas y acceder a una amplia gama de datos disponibles en la web.</p>
<p>En el próximo módulo, profundizaremos en conceptos avanzados de programación en R, incluyendo la escritura de funciones y la depuración de código. ¡Sigue adelante!</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-04-web-scraping' title="Web Scraping">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='06-01-writing-functions' title="Escritura de Funciones">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
