<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actores y Akka</title>

    <link rel="alternate" href="https://campusempresa.com/mod/scala/actors-and-akka" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/scala/actors-and-akka" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/scala/actors-and-akka" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/scala/actors-and-akka" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/scala/actors-and-akka" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='futures-and-promises'>&#x25C4;Futures y Promises</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Actores y Akka</a>
	</div>
	<div class='col-4 text-end'>
					<a href='parallel-collections'>Colecciones Paralelas &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a los Actores y Akka</h1>
<div class='content'><p>Los actores son un concepto fundamental en la programación concurrente y distribuida. Akka es un poderoso conjunto de herramientas y tiempo de ejecución para construir aplicaciones altamente concurrentes, distribuidas y resilientes basadas en mensajes en la JVM, utilizando el modelo de Actor.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Modelo de Actor</strong>: Un modelo matemático de computación concurrente que trata a los &quot;actores&quot; como las primitivas universales de la computación concurrente.</li>
<li><strong>Akka</strong>: Un conjunto de herramientas y tiempo de ejecución para construir aplicaciones concurrentes, distribuidas y tolerantes a fallos en Scala y Java.</li>
<li><strong>Concurrencia</strong>: La capacidad de diferentes partes o unidades de un programa para ejecutarse fuera de orden o en orden parcial, sin afectar el resultado final.</li>
<li><strong>Basado en Mensajes</strong>: La comunicación entre actores se realiza a través del paso de mensajes asíncronos.</li>
</ul>
</div><h1>Configuración de Akka</h1>
<div class='content'><p>Para empezar a usar Akka en tu proyecto de Scala, necesitas agregar las dependencias de Akka a tu archivo <code>build.sbt</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGlicmFyeURlcGVuZGVuY2llcyArPSAiY29tLnR5cGVzYWZlLmFra2EiICUlICJha2thLWFjdG9yLXR5cGVkIiAlICIyLjYuMTYi"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>libraryDependencies += &quot;com.typesafe.akka&quot; %% &quot;akka-actor-typed&quot; % &quot;2.6.16&quot;</pre></div><div class='content'></div><h1>Creando tu Primer Actor</h1>
<div class='content'><p>Vamos a crear un actor simple que recibe un mensaje y lo imprime.</p>
</div><h2>Ejemplo: Actor Hola Mundo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGFra2EuYWN0b3IudHlwZWQuQWN0b3JTeXN0ZW0KaW1wb3J0IGFra2EuYWN0b3IudHlwZWQuc2NhbGFkc2wuQmVoYXZpb3JzCgpvYmplY3QgSGVsbG9Xb3JsZCB7CiAgZGVmIGFwcGx5KCk6IEJlaGF2aW9ycy5SZWNlaXZlW1N0cmluZ10gPSBCZWhhdmlvcnMucmVjZWl2ZSB7IChjb250ZXh0LCBtZXNzYWdlKSA9PgogICAgY29udGV4dC5sb2cuaW5mbygiTWVuc2FqZSByZWNpYmlkbzoge30iLCBtZXNzYWdlKQogICAgQmVoYXZpb3JzLnNhbWUKICB9Cn0KCm9iamVjdCBIZWxsb1dvcmxkTWFpbiB7CiAgZGVmIG1haW4oYXJnczogQXJyYXlbU3RyaW5nXSk6IFVuaXQgPSB7CiAgICB2YWwgc3lzdGVtOiBBY3RvclN5c3RlbVtTdHJpbmddID0gQWN0b3JTeXN0ZW0oSGVsbG9Xb3JsZCgpLCAiaGVsbG8iKQogICAgc3lzdGVtICEgIsKhSG9sYSwgQWtrYSEiCiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import akka.actor.typed.ActorSystem
import akka.actor.typed.scaladsl.Behaviors

object HelloWorld {
  def apply(): Behaviors.Receive[String] = Behaviors.receive { (context, message) =&gt;
    context.log.info(&quot;Mensaje recibido: {}&quot;, message)
    Behaviors.same
  }
}

object HelloWorldMain {
  def main(args: Array[String]): Unit = {
    val system: ActorSystem[String] = ActorSystem(HelloWorld(), &quot;hello&quot;)
    system ! &quot;&iexcl;Hola, Akka!&quot;
  }
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Behaviors.receive</strong>: Define el comportamiento del actor cuando recibe un mensaje.</li>
<li><strong>context.log.info</strong>: Registra el mensaje recibido.</li>
<li><strong>Behaviors.same</strong>: Indica que el comportamiento del actor no cambia después de procesar el mensaje.</li>
<li><strong>ActorSystem</strong>: El punto de entrada para Akka, crea y gestiona actores.</li>
</ul>
</div><h1>Comunicación entre Actores</h1>
<div class='content'><p>Los actores se comunican enviándose mensajes entre sí. Los mensajes son inmutables y deben ser serializables.</p>
</div><h2>Ejemplo: Comunicación entre Actores</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGFra2EuYWN0b3IudHlwZWQuQWN0b3JSZWYKaW1wb3J0IGFra2EuYWN0b3IudHlwZWQuQWN0b3JTeXN0ZW0KaW1wb3J0IGFra2EuYWN0b3IudHlwZWQuc2NhbGFkc2wuQmVoYXZpb3JzCgpvYmplY3QgR3JlZXRlciB7CiAgZmluYWwgY2FzZSBjbGFzcyBHcmVldCh3aG9tOiBTdHJpbmcsIHJlcGx5VG86IEFjdG9yUmVmW0dyZWV0ZWRdKQogIGZpbmFsIGNhc2UgY2xhc3MgR3JlZXRlZCh3aG9tOiBTdHJpbmcsIGZyb206IEFjdG9yUmVmW0dyZWV0XSkKCiAgZGVmIGFwcGx5KCk6IEJlaGF2aW9ycy5SZWNlaXZlW0dyZWV0XSA9IEJlaGF2aW9ycy5yZWNlaXZlIHsgKGNvbnRleHQsIG1lc3NhZ2UpID0+CiAgICBjb250ZXh0LmxvZy5pbmZvKCLCoUhvbGEge30hIiwgbWVzc2FnZS53aG9tKQogICAgbWVzc2FnZS5yZXBseVRvICEgR3JlZXRlZChtZXNzYWdlLndob20sIGNvbnRleHQuc2VsZikKICAgIEJlaGF2aW9ycy5zYW1lCiAgfQp9CgpvYmplY3QgR3JlZXRlckJvdCB7CiAgZGVmIGFwcGx5KG1heDogSW50KTogQmVoYXZpb3JzLlJlY2VpdmVbR3JlZXRlci5HcmVldGVkXSA9IHsKICAgIGRlZiBib3QoZ3JlZXRpbmdDb3VudGVyOiBJbnQpOiBCZWhhdmlvcnMuUmVjZWl2ZVtHcmVldGVyLkdyZWV0ZWRdID0KICAgICAgQmVoYXZpb3JzLnJlY2VpdmUgeyAoY29udGV4dCwgbWVzc2FnZSkgPT4KICAgICAgICB2YWwgbiA9IGdyZWV0aW5nQ291bnRlciArIDEKICAgICAgICBjb250ZXh0LmxvZy5pbmZvKCJTYWx1ZG8ge30gcGFyYSB7fSIsIG4sIG1lc3NhZ2Uud2hvbSkKICAgICAgICBpZiAobiA9PSBtYXgpIHsKICAgICAgICAgIEJlaGF2aW9ycy5zdG9wcGVkCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1lc3NhZ2UuZnJvbSAhIEdyZWV0ZXIuR3JlZXQobWVzc2FnZS53aG9tLCBjb250ZXh0LnNlbGYpCiAgICAgICAgICBib3QobikKICAgICAgICB9CiAgICAgIH0KCiAgICBib3QoMCkKICB9Cn0KCm9iamVjdCBHcmVldGVyTWFpbiB7CiAgZGVmIG1haW4oYXJnczogQXJyYXlbU3RyaW5nXSk6IFVuaXQgPSB7CiAgICB2YWwgZ3JlZXRlck1haW46IEFjdG9yU3lzdGVtW0dyZWV0ZXIuR3JlZXRdID0gQWN0b3JTeXN0ZW0oR3JlZXRlcigpLCAiZ3JlZXRlciIpCiAgICB2YWwgZ3JlZXRlckJvdDogQWN0b3JSZWZbR3JlZXRlci5HcmVldGVkXSA9IGdyZWV0ZXJNYWluLnN5c3RlbUFjdG9yT2YoR3JlZXRlckJvdCgzKSwgImdyZWV0ZXJCb3QiKQoKICAgIGdyZWV0ZXJNYWluICEgR3JlZXRlci5HcmVldCgiQWtrYSIsIGdyZWV0ZXJCb3QpCiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import akka.actor.typed.ActorRef
import akka.actor.typed.ActorSystem
import akka.actor.typed.scaladsl.Behaviors

object Greeter {
  final case class Greet(whom: String, replyTo: ActorRef[Greeted])
  final case class Greeted(whom: String, from: ActorRef[Greet])

  def apply(): Behaviors.Receive[Greet] = Behaviors.receive { (context, message) =&gt;
    context.log.info(&quot;&iexcl;Hola {}!&quot;, message.whom)
    message.replyTo ! Greeted(message.whom, context.self)
    Behaviors.same
  }
}

object GreeterBot {
  def apply(max: Int): Behaviors.Receive[Greeter.Greeted] = {
    def bot(greetingCounter: Int): Behaviors.Receive[Greeter.Greeted] =
      Behaviors.receive { (context, message) =&gt;
        val n = greetingCounter + 1
        context.log.info(&quot;Saludo {} para {}&quot;, n, message.whom)
        if (n == max) {
          Behaviors.stopped
        } else {
          message.from ! Greeter.Greet(message.whom, context.self)
          bot(n)
        }
      }

    bot(0)
  }
}

object GreeterMain {
  def main(args: Array[String]): Unit = {
    val greeterMain: ActorSystem[Greeter.Greet] = ActorSystem(Greeter(), &quot;greeter&quot;)
    val greeterBot: ActorRef[Greeter.Greeted] = greeterMain.systemActorOf(GreeterBot(3), &quot;greeterBot&quot;)

    greeterMain ! Greeter.Greet(&quot;Akka&quot;, greeterBot)
  }
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Greet y Greeted</strong>: Clases de caso usadas como mensajes.</li>
<li><strong>Greeter</strong>: Un actor que envía un mensaje de saludo y espera una respuesta.</li>
<li><strong>GreeterBot</strong>: Un actor que cuenta el número de saludos y se detiene después de un cierto número.</li>
<li><strong>ActorRef</strong>: Una referencia a un actor, utilizada para enviarle mensajes.</li>
</ul>
</div><h1>Temas Avanzados</h1>
<h2>Supervisión y Tolerancia a Fallos</h2>
<div class='content'><p>Los actores pueden supervisar a otros actores, manejando sus fallos y decidiendo una estrategia para gestionarlos.</p>
</div><h2>Ejemplo: Estrategia de Supervisión</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGFra2EuYWN0b3IudHlwZWQuU3VwZXJ2aXNvclN0cmF0ZWd5CmltcG9ydCBha2thLmFjdG9yLnR5cGVkLnNjYWxhZHNsLkJlaGF2aW9ycwoKb2JqZWN0IFN1cGVydmlzb3IgewogIGRlZiBhcHBseSgpOiBCZWhhdmlvcnMuUmVjZWl2ZVtTdHJpbmddID0gQmVoYXZpb3JzLnN1cGVydmlzZShCZWhhdmlvcnMucmVjZWl2ZVtTdHJpbmddIHsgKGNvbnRleHQsIG1lc3NhZ2UpID0+CiAgICBpZiAobWVzc2FnZSA9PSAiZmFpbCIpIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCLCoUZhbGxvISIpCiAgICBlbHNlIHsKICAgICAgY29udGV4dC5sb2cuaW5mbygiTWVuc2FqZSByZWNpYmlkbzoge30iLCBtZXNzYWdlKQogICAgICBCZWhhdmlvcnMuc2FtZQogICAgfQogIH0pLm9uRmFpbHVyZVtSdW50aW1lRXhjZXB0aW9uXShTdXBlcnZpc29yU3RyYXRlZ3kucmVzdGFydCkKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import akka.actor.typed.SupervisorStrategy
import akka.actor.typed.scaladsl.Behaviors

object Supervisor {
  def apply(): Behaviors.Receive[String] = Behaviors.supervise(Behaviors.receive[String] { (context, message) =&gt;
    if (message == &quot;fail&quot;) throw new RuntimeException(&quot;&iexcl;Fallo!&quot;)
    else {
      context.log.info(&quot;Mensaje recibido: {}&quot;, message)
      Behaviors.same
    }
  }).onFailure[RuntimeException](SupervisorStrategy.restart)
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>SupervisorStrategy.restart</strong>: Reinicia el actor si se lanza una <code>RuntimeException</code>.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Los actores y Akka proporcionan un marco robusto para construir aplicaciones concurrentes y distribuidas en Scala. Al comprender los conceptos básicos del modelo de Actor, configurar Akka y crear actores, puedes construir sistemas escalables y resilientes. Los temas avanzados como la supervisión y la tolerancia a fallos mejoran aún más la fiabilidad de tus aplicaciones.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='futures-and-promises'>&#x25C4;Futures y Promises</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Actores y Akka</a>
	</div>
	<div class='col-4 text-end'>
					<a href='parallel-collections'>Colecciones Paralelas &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
