<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Objetos Compañeros</title>

    <link rel="alternate" href="https://campusempresa.com/mod/scala/04-04-companion-objects" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/scala/04-04-companion-objects" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/scala/04-04-companion-objects" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/scala/04-04-companion-objects" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/scala/04-04-companion-objects" class="px-2">CA</a>
<br>
			<cite>Construyendo la sociedad de hoy y del mañana</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Contenido del curso</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competencias técnicas</a>
				<a href="/all/conocimientos">Conocimientos</a>
				<a href="/all/soft_skills">Competencias sociales</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-03-abstract-classes-and-case-classes' title="Clases Abstractas y Clases Caso">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Objetos Compañeros</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-05-singleton-objects' title="Objetos Singleton">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introducción</p>
</h1>
<div class='content'><p>En Scala, los objetos compañeros (companion objects) son una característica poderosa que permite definir métodos y valores que están estrechamente relacionados con una clase, pero que no requieren una instancia de la clase para ser utilizados. Los objetos compañeros se definen utilizando la palabra clave <code>object</code> y deben tener el mismo nombre que la clase a la que acompañan. Esta relación especial permite que el objeto y la clase accedan a los miembros privados entre sí.</p>
</div><h1><p>Conceptos Clave</p>
</h1>
<div class='content'><ul>
<li><strong>Objeto Compañero</strong>: Un objeto que comparte el mismo nombre que una clase y se define en el mismo archivo fuente.</li>
<li><strong>Métodos de Fábrica</strong>: Métodos en el objeto compañero que crean instancias de la clase.</li>
<li><strong>Acceso a Miembros Privados</strong>: Los objetos compañeros y las clases pueden acceder a los miembros privados entre sí.</li>
</ul>
</div><h1><p>Definición de un Objeto Compañero</p>
</h1>
<div class='content'><p>Para definir un objeto compañero, simplemente se utiliza la palabra clave <code>object</code> seguida del nombre del objeto, que debe coincidir con el nombre de la clase. Aquí hay un ejemplo básico:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uYSh2YWwgbm9tYnJlOiBTdHJpbmcsIHZhbCBlZGFkOiBJbnQpIHsKICAvLyBNaWVtYnJvcyBkZSBsYSBjbGFzZQogIHByaXZhdGUgZGVmIG1vc3RyYXJJbmZvKCk6IFN0cmluZyA9IHMiTm9tYnJlOiAkbm9tYnJlLCBFZGFkOiAkZWRhZCIKfQoKb2JqZWN0IFBlcnNvbmEgewogIC8vIE3DqXRvZG8gZGUgZsOhYnJpY2EKICBkZWYgYXBwbHkobm9tYnJlOiBTdHJpbmcsIGVkYWQ6IEludCk6IFBlcnNvbmEgPSBuZXcgUGVyc29uYShub21icmUsIGVkYWQpCgogIC8vIE3DqXRvZG8gcGFyYSBjcmVhciB1bmEgUGVyc29uYSBhIHBhcnRpciBkZSB1bmEgY2FkZW5hCiAgZGVmIGZyb21TdHJpbmcoaW5mbzogU3RyaW5nKTogUGVyc29uYSA9IHsKICAgIHZhbCBwYXJ0ZXMgPSBpbmZvLnNwbGl0KCIsIikKICAgIG5ldyBQZXJzb25hKHBhcnRlcygwKSwgcGFydGVzKDEpLnRvSW50KQogIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Persona(val nombre: String, val edad: Int) {
  // Miembros de la clase
  private def mostrarInfo(): String = s&quot;Nombre: $nombre, Edad: $edad&quot;
}

object Persona {
  // M&eacute;todo de f&aacute;brica
  def apply(nombre: String, edad: Int): Persona = new Persona(nombre, edad)

  // M&eacute;todo para crear una Persona a partir de una cadena
  def fromString(info: String): Persona = {
    val partes = info.split(&quot;,&quot;)
    new Persona(partes(0), partes(1).toInt)
  }
}</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li>La clase <code>Persona</code> tiene un constructor que toma dos parámetros: <code>nombre</code> y <code>edad</code>.</li>
<li>El objeto <code>Persona</code> define un método <code>apply</code> que actúa como un método de fábrica para crear instancias de <code>Persona</code>.</li>
<li>También define un método <code>fromString</code> que crea una instancia de <code>Persona</code> a partir de una cadena.</li>
</ul>
</div><h1><p>Uso de Objetos Compañeros</p>
</h1>
<div class='content'><p>Los objetos compañeros se utilizan para definir métodos y valores que están relacionados con la clase, pero que no dependen de una instancia específica. Aquí hay algunos ejemplos de cómo se pueden utilizar:</p>
</div><h2><p>Métodos de Fábrica</p>
</h2>
<div class='content'><p>Los métodos de fábrica son métodos en el objeto compañero que crean instancias de la clase. Esto es útil cuando se necesita lógica adicional para crear instancias.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsIHBlcnNvbmExID0gUGVyc29uYSgiSnVhbiIsIDMwKQp2YWwgcGVyc29uYTIgPSBQZXJzb25hLmZyb21TdHJpbmcoIkFuYSwyNSIp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>val persona1 = Persona(&quot;Juan&quot;, 30)
val persona2 = Persona.fromString(&quot;Ana,25&quot;)</pre></div><div class='content'></div><h2><p>Acceso a Miembros Privados</p>
</h2>
<div class='content'><p>Los objetos compañeros y las clases pueden acceder a los miembros privados entre sí. Esto permite encapsular la lógica de manera efectiva.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ3VlbnRhQmFuY2FyaWEocHJpdmF0ZSB2YXIgc2FsZG86IERvdWJsZSkgewogIGRlZiBkZXBvc2l0YXIoY2FudGlkYWQ6IERvdWJsZSk6IFVuaXQgPSB7CiAgICBzYWxkbyArPSBjYW50aWRhZAogIH0KCiAgZGVmIHJldGlyYXIoY2FudGlkYWQ6IERvdWJsZSk6IFVuaXQgPSB7CiAgICBpZiAoY2FudGlkYWQgPD0gc2FsZG8pIHNhbGRvIC09IGNhbnRpZGFkCiAgICBlbHNlIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oIkZvbmRvcyBpbnN1ZmljaWVudGVzIikKICB9Cn0KCm9iamVjdCBDdWVudGFCYW5jYXJpYSB7CiAgZGVmIGNyZWFyQ3VlbnRhSW5pY2lhbChzYWxkb0luaWNpYWw6IERvdWJsZSk6IEN1ZW50YUJhbmNhcmlhID0gewogICAgbmV3IEN1ZW50YUJhbmNhcmlhKHNhbGRvSW5pY2lhbCkKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class CuentaBancaria(private var saldo: Double) {
  def depositar(cantidad: Double): Unit = {
    saldo += cantidad
  }

  def retirar(cantidad: Double): Unit = {
    if (cantidad &lt;= saldo) saldo -= cantidad
    else throw new IllegalArgumentException(&quot;Fondos insuficientes&quot;)
  }
}

object CuentaBancaria {
  def crearCuentaInicial(saldoInicial: Double): CuentaBancaria = {
    new CuentaBancaria(saldoInicial)
  }
}</pre></div><div class='content'><p>En este ejemplo, el objeto <code>CuentaBancaria</code> puede acceder al miembro privado <code>saldo</code> de la clase <code>CuentaBancaria</code>.</p>
</div><h1><p>Ejercicio Práctico</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Definir un Objeto Compañero</p>
</h2>
<div class='content'><p>Define una clase <code>Libro</code> con los siguientes atributos: <code>titulo</code> (String) y <code>autor</code> (String). Luego, define un objeto compañero que incluya un método de fábrica <code>apply</code> y un método <code>fromCSV</code> que cree una instancia de <code>Libro</code> a partir de una cadena CSV.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTGlicm8odmFsIHRpdHVsbzogU3RyaW5nLCB2YWwgYXV0b3I6IFN0cmluZykKCm9iamVjdCBMaWJybyB7CiAgZGVmIGFwcGx5KHRpdHVsbzogU3RyaW5nLCBhdXRvcjogU3RyaW5nKTogTGlicm8gPSBuZXcgTGlicm8odGl0dWxvLCBhdXRvcikKCiAgZGVmIGZyb21DU1YoY3N2OiBTdHJpbmcpOiBMaWJybyA9IHsKICAgIHZhbCBwYXJ0ZXMgPSBjc3Yuc3BsaXQoIiwiKQogICAgbmV3IExpYnJvKHBhcnRlcygwKSwgcGFydGVzKDEpKQogIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Libro(val titulo: String, val autor: String)

object Libro {
  def apply(titulo: String, autor: String): Libro = new Libro(titulo, autor)

  def fromCSV(csv: String): Libro = {
    val partes = csv.split(&quot;,&quot;)
    new Libro(partes(0), partes(1))
  }
}</pre></div><div class='content'></div><h2><p>Solución</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsIGxpYnJvMSA9IExpYnJvKCIxOTg0IiwgIkdlb3JnZSBPcndlbGwiKQp2YWwgbGlicm8yID0gTGlicm8uZnJvbUNTVigiQnJhdmUgTmV3IFdvcmxkLEFsZG91cyBIdXhsZXkiKQoKcHJpbnRsbihzIkxpYnJvIDE6ICR7bGlicm8xLnRpdHVsb30gcG9yICR7bGlicm8xLmF1dG9yfSIpCnByaW50bG4ocyJMaWJybyAyOiAke2xpYnJvMi50aXR1bG99IHBvciAke2xpYnJvMi5hdXRvcn0iKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>val libro1 = Libro(&quot;1984&quot;, &quot;George Orwell&quot;)
val libro2 = Libro.fromCSV(&quot;Brave New World,Aldous Huxley&quot;)

println(s&quot;Libro 1: ${libro1.titulo} por ${libro1.autor}&quot;)
println(s&quot;Libro 2: ${libro2.titulo} por ${libro2.autor}&quot;)</pre></div><div class='content'></div><h2><p>Ejercicio 2: Acceso a Miembros Privados</p>
</h2>
<div class='content'><p>Modifica la clase <code>Libro</code> para que tenga un miembro privado <code>precio</code> (Double) y define un método en el objeto compañero que permita actualizar el precio de un libro.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTGlicm8odmFsIHRpdHVsbzogU3RyaW5nLCB2YWwgYXV0b3I6IFN0cmluZywgcHJpdmF0ZSB2YXIgcHJlY2lvOiBEb3VibGUpIHsKICBkZWYgbW9zdHJhckluZm8oKTogU3RyaW5nID0gcyJUaXR1bG86ICR0aXR1bG8sIEF1dG9yOiAkYXV0b3IsIFByZWNpbzogJCRwcmVjaW8iCn0KCm9iamVjdCBMaWJybyB7CiAgZGVmIGFwcGx5KHRpdHVsbzogU3RyaW5nLCBhdXRvcjogU3RyaW5nLCBwcmVjaW86IERvdWJsZSk6IExpYnJvID0gbmV3IExpYnJvKHRpdHVsbywgYXV0b3IsIHByZWNpbykKCiAgZGVmIGZyb21DU1YoY3N2OiBTdHJpbmcpOiBMaWJybyA9IHsKICAgIHZhbCBwYXJ0ZXMgPSBjc3Yuc3BsaXQoIiwiKQogICAgbmV3IExpYnJvKHBhcnRlcygwKSwgcGFydGVzKDEpLCBwYXJ0ZXMoMikudG9Eb3VibGUpCiAgfQoKICBkZWYgYWN0dWFsaXphclByZWNpbyhsaWJybzogTGlicm8sIG51ZXZvUHJlY2lvOiBEb3VibGUpOiBVbml0ID0gewogICAgbGlicm8ucHJlY2lvID0gbnVldm9QcmVjaW8KICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Libro(val titulo: String, val autor: String, private var precio: Double) {
  def mostrarInfo(): String = s&quot;Titulo: $titulo, Autor: $autor, Precio: $$precio&quot;
}

object Libro {
  def apply(titulo: String, autor: String, precio: Double): Libro = new Libro(titulo, autor, precio)

  def fromCSV(csv: String): Libro = {
    val partes = csv.split(&quot;,&quot;)
    new Libro(partes(0), partes(1), partes(2).toDouble)
  }

  def actualizarPrecio(libro: Libro, nuevoPrecio: Double): Unit = {
    libro.precio = nuevoPrecio
  }
}</pre></div><div class='content'></div><h2><p>Solución</p>
</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsIGxpYnJvMyA9IExpYnJvKCJFbCBIb2JiaXQiLCAiSi5SLlIuIFRvbGtpZW4iLCAxNS45OSkKcHJpbnRsbihsaWJybzMubW9zdHJhckluZm8oKSkKCkxpYnJvLmFjdHVhbGl6YXJQcmVjaW8obGlicm8zLCAxMi45OSkKcHJpbnRsbihsaWJybzMubW9zdHJhckluZm8oKSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>val libro3 = Libro(&quot;El Hobbit&quot;, &quot;J.R.R. Tolkien&quot;, 15.99)
println(libro3.mostrarInfo())

Libro.actualizarPrecio(libro3, 12.99)
println(libro3.mostrarInfo())</pre></div><div class='content'></div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>Los objetos compañeros en Scala son una herramienta poderosa para definir métodos y valores que están estrechamente relacionados con una clase, pero que no requieren una instancia de la clase para ser utilizados. Permiten la creación de métodos de fábrica, el acceso a miembros privados y la encapsulación de lógica relacionada con la clase. Al dominar los objetos compañeros, puedes escribir código más limpio y organizado en Scala.</p>
<p>En el próximo tema, exploraremos los objetos singleton, que son otra característica importante de Scala para definir objetos únicos en tu aplicación.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='04-03-abstract-classes-and-case-classes' title="Clases Abstractas y Clases Caso">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='04-05-singleton-objects' title="Objetos Singleton">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
