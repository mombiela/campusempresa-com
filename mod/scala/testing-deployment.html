<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas y Despliegue</title>

    <link rel="alternate" href="https://campusempresa.com/mod/scala/testing-deployment" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/scala/testing-deployment" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/scala/testing-deployment" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/scala/testing-deployment" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/scala/testing-deployment" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/scala/testing-deployment">https://enterprisecampus.net/mod/scala/testing-deployment</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='implementation'>&#x25C4;Implementación</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas y Despliegue</a>
	</div>
	<div class='col-4 text-end'>
					<a href='project-presentation'>Presentación del Proyecto &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Las pruebas y el despliegue son aspectos críticos del desarrollo de software que aseguran que tus aplicaciones Scala sean confiables, mantenibles y estén listas para producción. Esta sección cubrirá los conceptos básicos de las pruebas en Scala, incluyendo pruebas unitarias, pruebas de integración y pruebas de extremo a extremo. También exploraremos estrategias y herramientas de despliegue para desplegar aplicaciones Scala de manera eficiente.</p>
</div><h1>Pruebas Unitarias en Scala</h1>
<div class='content'><p>Las pruebas unitarias implican probar componentes o funciones individuales de manera aislada para asegurarse de que funcionen como se espera.</p>
<ul>
<li><strong>ScalaTest</strong>: Un marco de pruebas popular para Scala.</li>
<li><strong>Aserciones</strong>: Métodos para verificar si una condición es verdadera.</li>
<li><strong>Suites de Pruebas</strong>: Colecciones de pruebas relacionadas.</li>
</ul>
</div><h2>Ejemplo: Prueba Unitaria Básica con ScalaTest</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zY2FsYXRlc3QuZmxhdHNwZWMuQW55RmxhdFNwZWMKCmNsYXNzIENhbGN1bGF0b3JTcGVjIGV4dGVuZHMgQW55RmxhdFNwZWMgewogICJBIENhbGN1bGF0b3IiIHNob3VsZCAiYWRkIHR3byBudW1iZXJzIGNvcnJlY3RseSIgaW4gewogICAgdmFsIGNhbGN1bGF0b3IgPSBuZXcgQ2FsY3VsYXRvcgogICAgYXNzZXJ0KGNhbGN1bGF0b3IuYWRkKDIsIDMpID09PSA1KQogIH0KfQoKY2xhc3MgQ2FsY3VsYXRvciB7CiAgZGVmIGFkZChhOiBJbnQsIGI6IEludCk6IEludCA9IGEgKyBiCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.scalatest.flatspec.AnyFlatSpec

class CalculatorSpec extends AnyFlatSpec {
  &quot;A Calculator&quot; should &quot;add two numbers correctly&quot; in {
    val calculator = new Calculator
    assert(calculator.add(2, 3) === 5)
  }
}

class Calculator {
  def add(a: Int, b: Int): Int = a + b
}</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li><code>AnyFlatSpec</code> es un estilo de escritura de pruebas en ScalaTest.</li>
<li><code>assert</code> verifica si el resultado de <code>calculator.add(2, 3)</code> es igual a <code>5</code>.</li>
</ul>
</div><h1>Pruebas de Integración</h1>
<div class='content'><p>Las pruebas de integración implican probar múltiples componentes juntos para asegurarse de que funcionen correctamente como un sistema.</p>
<ul>
<li><strong>Pruebas de Base de Datos</strong>: Pruebas de interacciones con la base de datos.</li>
<li><strong>Pruebas de Servicios</strong>: Pruebas de interacciones entre diferentes servicios.</li>
</ul>
</div><h2>Ejemplo: Prueba de Integración con una Base de Datos</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zY2FsYXRlc3QuZmxhdHNwZWMuQW55RmxhdFNwZWMKaW1wb3J0IG9yZy5zY2FsYXRlc3QuQmVmb3JlQW5kQWZ0ZXIKaW1wb3J0IHNsaWNrLmpkYmMuSDJQcm9maWxlLmFwaS5fCgpjbGFzcyBEYXRhYmFzZVNwZWMgZXh0ZW5kcyBBbnlGbGF0U3BlYyB3aXRoIEJlZm9yZUFuZEFmdGVyIHsKICB2YXIgZGI6IERhdGFiYXNlID0gXwoKICBiZWZvcmUgewogICAgZGIgPSBEYXRhYmFzZS5mb3JDb25maWcoImgybWVtMSIpCiAgICAvLyBDb25maWd1cmFyIGVzcXVlbWEgZSBpbnNlcnRhciBkYXRvcyBkZSBwcnVlYmEKICB9CgogIGFmdGVyIHsKICAgIGRiLmNsb3NlKCkKICB9CgogICJEYXRhYmFzZSIgc2hvdWxkICJyZXRyaWV2ZSBjb3JyZWN0IGRhdGEiIGluIHsKICAgIHZhbCByZXN1bHQgPSBkYi5ydW4oc3FsIlNFTEVDVCBuYW1lIEZST00gdXNlcnMgV0hFUkUgaWQgPSAxIi5hc1tTdHJpbmddKQogICAgYXNzZXJ0KHJlc3VsdC5oZWFkID09PSAiSm9obiBEb2UiKQogIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.scalatest.flatspec.AnyFlatSpec
import org.scalatest.BeforeAndAfter
import slick.jdbc.H2Profile.api._

class DatabaseSpec extends AnyFlatSpec with BeforeAndAfter {
  var db: Database = _

  before {
    db = Database.forConfig(&quot;h2mem1&quot;)
    // Configurar esquema e insertar datos de prueba
  }

  after {
    db.close()
  }

  &quot;Database&quot; should &quot;retrieve correct data&quot; in {
    val result = db.run(sql&quot;SELECT name FROM users WHERE id = 1&quot;.as[String])
    assert(result.head === &quot;John Doe&quot;)
  }
}</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li>El rasgo <code>BeforeAndAfter</code> se usa para configurar y desmantelar la base de datos antes y después de las pruebas.</li>
<li><code>db.run</code> ejecuta una consulta SQL y recupera datos.</li>
</ul>
</div><h1>Pruebas de Extremo a Extremo</h1>
<div class='content'><p>Las pruebas de extremo a extremo implican probar todo el flujo de la aplicación, desde la interfaz de usuario hasta los servicios de backend.</p>
<ul>
<li><strong>Selenium</strong>: Una herramienta para automatizar navegadores web.</li>
<li><strong>Cucumber</strong>: Una herramienta para ejecutar pruebas automatizadas escritas en lenguaje natural.</li>
</ul>
</div><h2>Ejemplo: Prueba de Extremo a Extremo con Selenium</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5vcGVucWEuc2VsZW5pdW0uV2ViRHJpdmVyCmltcG9ydCBvcmcub3BlbnFhLnNlbGVuaXVtLmNocm9tZS5DaHJvbWVEcml2ZXIKaW1wb3J0IG9yZy5zY2FsYXRlc3QuZmxhdHNwZWMuQW55RmxhdFNwZWMKCmNsYXNzIFdlYkFwcFNwZWMgZXh0ZW5kcyBBbnlGbGF0U3BlYyB7CiAgIldlYiBBcHBsaWNhdGlvbiIgc2hvdWxkICJkaXNwbGF5IHRoZSBjb3JyZWN0IHRpdGxlIiBpbiB7CiAgICBTeXN0ZW0uc2V0UHJvcGVydHkoIndlYmRyaXZlci5jaHJvbWUuZHJpdmVyIiwgIi9wYXRoL3RvL2Nocm9tZWRyaXZlciIpCiAgICB2YWwgZHJpdmVyOiBXZWJEcml2ZXIgPSBuZXcgQ2hyb21lRHJpdmVyKCkKICAgIGRyaXZlci5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6OTAwMCIpCiAgICBhc3NlcnQoZHJpdmVyLmdldFRpdGxlID09PSAiTXkgU2NhbGEgV2ViIEFwcCIpCiAgICBkcml2ZXIucXVpdCgpCiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.openqa.selenium.WebDriver
import org.openqa.selenium.chrome.ChromeDriver
import org.scalatest.flatspec.AnyFlatSpec

class WebAppSpec extends AnyFlatSpec {
  &quot;Web Application&quot; should &quot;display the correct title&quot; in {
    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/path/to/chromedriver&quot;)
    val driver: WebDriver = new ChromeDriver()
    driver.get(&quot;http://localhost:9000&quot;)
    assert(driver.getTitle === &quot;My Scala Web App&quot;)
    driver.quit()
  }
}</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li><code>ChromeDriver</code> se usa para controlar el navegador Chrome.</li>
<li><code>driver.get</code> navega a la URL especificada.</li>
<li><code>driver.getTitle</code> recupera el título de la página web.</li>
</ul>
</div><h1>Estrategias de Despliegue</h1>
<div class='content'><p>Desplegar aplicaciones Scala implica empaquetar la aplicación y desplegarla en un servidor o entorno en la nube.</p>
<ul>
<li><strong>SBT Assembly</strong>: Un plugin para crear un archivo JAR (Java ARchive) grande.</li>
<li><strong>Docker</strong>: Una plataforma para desarrollar, enviar y ejecutar aplicaciones en contenedores.</li>
<li><strong>Kubernetes</strong>: Un sistema de orquestación para automatizar el despliegue, escalado y gestión de aplicaciones en contenedores.</li>
</ul>
</div><h2>Ejemplo: Creación de un JAR Grande con SBT Assembly</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYnVpbGQuc2J0CmxhenkgdmFsIHJvb3QgPSAocHJvamVjdCBpbiBmaWxlKCIuIikpCiAgLnNldHRpbmdzKAogICAgbmFtZSA6PSAiTXlTY2FsYUFwcCIsCiAgICB2ZXJzaW9uIDo9ICIwLjEiLAogICAgc2NhbGFWZXJzaW9uIDo9ICIyLjEzLjYiLAogICAgbGlicmFyeURlcGVuZGVuY2llcyArPSAib3JnLnNjYWxhdGVzdCIgJSUgInNjYWxhdGVzdCIgJSAiMy4yLjkiICUgVGVzdCwKICAgIGFzc2VtYmx5IC8gbWFpbkNsYXNzIDo9IFNvbWUoImNvbS5leGFtcGxlLk1haW4iKQogICkKCi8vIFBhcmEgY3JlYXIgZWwgSkFSIGdyYW5kZSwgZWplY3V0YSBlbCBzaWd1aWVudGUgY29tYW5kbyBlbiBsYSB0ZXJtaW5hbDoKc2J0IGFzc2VtYmx5"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// build.sbt
lazy val root = (project in file(&quot;.&quot;))
  .settings(
    name := &quot;MyScalaApp&quot;,
    version := &quot;0.1&quot;,
    scalaVersion := &quot;2.13.6&quot;,
    libraryDependencies += &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.2.9&quot; % Test,
    assembly / mainClass := Some(&quot;com.example.Main&quot;)
  )

// Para crear el JAR grande, ejecuta el siguiente comando en la terminal:
sbt assembly</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li><code>assembly / mainClass</code> especifica la clase principal para la aplicación.</li>
<li>Ejecutar <code>sbt assembly</code> crea un archivo JAR grande que incluye todas las dependencias.</li>
</ul>
</div><h2>Ejemplo: Dockerización de una Aplicación Scala</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEb2NrZXJmaWxlCkZST00gb3BlbmpkazoxMQpDT1BZIHRhcmdldC9zY2FsYS0yLjEzL215c2NhbGFhcHAtYXNzZW1ibHktMC4xLmphciAvYXBwL215c2NhbGFhcHAuamFyCkVOVFJZUE9JTlQgWyJqYXZhIiwgIi1qYXIiLCAiL2FwcC9teXNjYWxhYXBwLmphciJd"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Dockerfile
FROM openjdk:11
COPY target/scala-2.13/myscalaapp-assembly-0.1.jar /app/myscalaapp.jar
ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/myscalaapp.jar&quot;]</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li><code>FROM openjdk:11</code> especifica la imagen base.</li>
<li><code>COPY</code> copia el JAR grande en la imagen Docker.</li>
<li><code>ENTRYPOINT</code> especifica el comando para ejecutar la aplicación.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Las pruebas y el despliegue son prácticas esenciales para asegurar la calidad y confiabilidad de las aplicaciones Scala. Al dominar las pruebas unitarias, las pruebas de integración y las pruebas de extremo a extremo, puedes detectar errores temprano y asegurarte de que tu código funcione como se espera. Entender las estrategias y herramientas de despliegue como SBT Assembly, Docker y Kubernetes te ayudará a desplegar tus aplicaciones Scala en entornos de producción de manera eficiente.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='implementation'>&#x25C4;Implementación</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas y Despliegue</a>
	</div>
	<div class='col-4 text-end'>
					<a href='project-presentation'>Presentación del Proyecto &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
