<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Construyendo Imágenes Docker</title>

    <link rel="alternate" href="https://campusempresa.com/mod/docker/02-02-building-docker-images" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/docker/02-02-building-docker-images" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/docker/02-02-building-docker-images" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/docker/02-02-building-docker-images" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/docker/02-02-building-docker-images" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-01-docker-hub-and-repositories' title="Docker Hub y Repositorios">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Construyendo Imágenes Docker</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='02-03-dockerfile-basics' title="Conceptos Básicos de Dockerfile">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En este tema, aprenderás cómo construir tus propias imágenes Docker, que son esenciales para crear contenedores personalizados. Las imágenes Docker son plantillas que contienen todo lo necesario para ejecutar una aplicación, incluyendo el código, las dependencias, las herramientas y las configuraciones.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ol>
<li><strong>Dockerfile</strong>: Un archivo de texto que contiene una serie de instrucciones para construir una imagen Docker.</li>
<li><strong>Instrucciones Dockerfile</strong>: Comandos específicos que se utilizan dentro de un Dockerfile para definir cómo se debe construir la imagen.</li>
<li><strong>Construcción de Imágenes</strong>: El proceso de crear una imagen Docker a partir de un Dockerfile.</li>
</ol>
</div><h1>Pasos para Construir una Imagen Docker</h1>
<div class='content'></div><h2>1. Crear un Dockerfile</h2>
<div class='content'><p>El primer paso para construir una imagen Docker es crear un archivo llamado <code>Dockerfile</code>. Este archivo contiene las instrucciones necesarias para construir la imagen.</p>
<h4>Ejemplo de Dockerfile</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVc2FyIHVuYSBpbWFnZW4gYmFzZQpGUk9NIHB5dGhvbjozLjgtc2xpbQoKIyBFc3RhYmxlY2VyIGVsIGRpcmVjdG9yaW8gZGUgdHJhYmFqbyBlbiBlbCBjb250ZW5lZG9yCldPUktESVIgL2FwcAoKIyBDb3BpYXIgbG9zIGFyY2hpdm9zIGRlIGxhIGFwbGljYWNpw7NuIGFsIGNvbnRlbmVkb3IKQ09QWSAuIC9hcHAKCiMgSW5zdGFsYXIgbGFzIGRlcGVuZGVuY2lhcwpSVU4gcGlwIGluc3RhbGwgLS1uby1jYWNoZS1kaXIgLXIgcmVxdWlyZW1lbnRzLnR4dAoKIyBFeHBvbmVyIGVsIHB1ZXJ0byBlbiBlbCBxdWUgbGEgYXBsaWNhY2nDs24gZXNjdWNoYXLDoQpFWFBPU0UgNTAwMAoKIyBDb21hbmRvIHBhcmEgZWplY3V0YXIgbGEgYXBsaWNhY2nDs24KQ01EIFsicHl0aG9uIiwgImFwcC5weSJd"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Usar una imagen base
FROM python:3.8-slim

# Establecer el directorio de trabajo en el contenedor
WORKDIR /app

# Copiar los archivos de la aplicaci&oacute;n al contenedor
COPY . /app

# Instalar las dependencias
RUN pip install --no-cache-dir -r requirements.txt

# Exponer el puerto en el que la aplicaci&oacute;n escuchar&aacute;
EXPOSE 5000

# Comando para ejecutar la aplicaci&oacute;n
CMD [&quot;python&quot;, &quot;app.py&quot;]</pre></div><div class='content'><h4>Explicación del Dockerfile</h4>
<ul>
<li><code>FROM</code>: Especifica la imagen base a utilizar. En este caso, estamos utilizando una imagen de Python 3.8.</li>
<li><code>WORKDIR</code>: Establece el directorio de trabajo dentro del contenedor.</li>
<li><code>COPY</code>: Copia los archivos de la aplicación desde el host al contenedor.</li>
<li><code>RUN</code>: Ejecuta comandos en el contenedor. Aquí, estamos instalando las dependencias de la aplicación.</li>
<li><code>EXPOSE</code>: Indica el puerto en el que la aplicación escuchará.</li>
<li><code>CMD</code>: Especifica el comando que se ejecutará cuando se inicie el contenedor.</li>
</ul>
</div><h2>2. Construir la Imagen</h2>
<div class='content'><p>Una vez que tengas tu Dockerfile, puedes construir la imagen utilizando el comando <code>docker build</code>.</p>
<h4>Comando para Construir la Imagen</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9ja2VyIGJ1aWxkIC10IG15LXB5dGhvbi1hcHAgLg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>docker build -t my-python-app .</pre></div><div class='content'><ul>
<li><code>-t my-python-app</code>: Etiqueta la imagen con el nombre <code>my-python-app</code>.</li>
<li><code>.</code>: Indica el contexto de construcción, que es el directorio actual.</li>
</ul>
</div><h2>3. Verificar la Imagen Construida</h2>
<div class='content'><p>Después de construir la imagen, puedes verificar que se haya creado correctamente utilizando el comando <code>docker images</code>.</p>
<h4>Comando para Listar Imágenes</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9ja2VyIGltYWdlcw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>docker images</pre></div><div class='content'><p>Esto mostrará una lista de todas las imágenes Docker en tu sistema, incluyendo la que acabas de construir.</p>
</div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Construir una Imagen Docker para una Aplicación Node.js</h2>
<div class='content'><h4>Paso 1: Crear el Dockerfile</h4>
<p>Crea un archivo llamado <code>Dockerfile</code> con el siguiente contenido:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVc2FyIHVuYSBpbWFnZW4gYmFzZSBkZSBOb2RlLmpzCkZST00gbm9kZToxNAoKIyBFc3RhYmxlY2VyIGVsIGRpcmVjdG9yaW8gZGUgdHJhYmFqbyBlbiBlbCBjb250ZW5lZG9yCldPUktESVIgL3Vzci9zcmMvYXBwCgojIENvcGlhciBsb3MgYXJjaGl2b3MgZGUgbGEgYXBsaWNhY2nDs24gYWwgY29udGVuZWRvcgpDT1BZIHBhY2thZ2UqLmpzb24gLi8KCiMgSW5zdGFsYXIgbGFzIGRlcGVuZGVuY2lhcwpSVU4gbnBtIGluc3RhbGwKCiMgQ29waWFyIGVsIHJlc3RvIGRlIGxvcyBhcmNoaXZvcyBkZSBsYSBhcGxpY2FjacOzbgpDT1BZIC4gLgoKIyBFeHBvbmVyIGVsIHB1ZXJ0byBlbiBlbCBxdWUgbGEgYXBsaWNhY2nDs24gZXNjdWNoYXLDoQpFWFBPU0UgODA4MAoKIyBDb21hbmRvIHBhcmEgZWplY3V0YXIgbGEgYXBsaWNhY2nDs24KQ01EIFsibm9kZSIsICJzZXJ2ZXIuanMiXQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Usar una imagen base de Node.js
FROM node:14

# Establecer el directorio de trabajo en el contenedor
WORKDIR /usr/src/app

# Copiar los archivos de la aplicaci&oacute;n al contenedor
COPY package*.json ./

# Instalar las dependencias
RUN npm install

# Copiar el resto de los archivos de la aplicaci&oacute;n
COPY . .

# Exponer el puerto en el que la aplicaci&oacute;n escuchar&aacute;
EXPOSE 8080

# Comando para ejecutar la aplicaci&oacute;n
CMD [&quot;node&quot;, &quot;server.js&quot;]</pre></div><div class='content'><h4>Paso 2: Construir la Imagen</h4>
<p>Ejecuta el siguiente comando para construir la imagen:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9ja2VyIGJ1aWxkIC10IG15LW5vZGUtYXBwIC4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>docker build -t my-node-app .</pre></div><div class='content'><h4>Paso 3: Verificar la Imagen</h4>
<p>Utiliza el siguiente comando para verificar que la imagen se haya creado correctamente:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9ja2VyIGltYWdlcw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>docker images</pre></div><div class='content'></div><h2>Solución del Ejercicio</h2>
<div class='content'><p>Si has seguido los pasos correctamente, deberías ver una nueva imagen llamada <code>my-node-app</code> en la lista de imágenes Docker.</p>
</div><h1>Resumen</h1>
<div class='content'><p>En esta sección, has aprendido cómo construir imágenes Docker utilizando un Dockerfile. Has visto un ejemplo práctico de un Dockerfile para una aplicación Python y has realizado un ejercicio para construir una imagen Docker para una aplicación Node.js. Ahora estás listo para crear tus propias imágenes Docker personalizadas.</p>
<p>En el próximo tema, profundizaremos en los conceptos básicos de Dockerfile, donde aprenderás más sobre las diferentes instrucciones que puedes utilizar para construir imágenes Docker.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-01-docker-hub-and-repositories' title="Docker Hub y Repositorios">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='02-03-dockerfile-basics' title="Conceptos Básicos de Dockerfile">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
