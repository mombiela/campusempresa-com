<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow, noarchive">
    <title>Programación de Consultas con Cloud Scheduler</title>

    <link rel="alternate" href="https://campusempresa.com/mod/bigquery/08-04-scheduling-queries" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/bigquery/08-04-scheduling-queries" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/bigquery/08-04-scheduling-queries" hreflang="en" />
    
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.ea63f62b9e.css" rel="stylesheet">
	 
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>
  		var LANG = "es";
  		var CATEGORY = "frameworks";
  		var MOD_NAME = "bigquery";
  		var TEMA_NAME = "8-4";
  		var TYPE = "mod";
  		var PATH = "mod/bigquery/08-04-scheduling-queries";
  		var IS_INDEX = false;
  	</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="module" src="/js/app.49d891d32f.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
</head>

<body class="d-none">
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/bigquery/08-04-scheduling-queries" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/bigquery/08-04-scheduling-queries" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Todo el conocimiento a tu alcance</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>
		<div class="top-bar container-fluid p-0">
	<div class="container-xxl p-0">
		<div class="row">
			<div class="col">
				<div class="d-flex justify-content-between">
					<div class="left">
						<a href="/" class="nav-link px-3" id="btnHome">
	<i class="bi bi-house-fill"></i>
	HOME
</a>

<a href="/my_modules" class="nav-link px-3 d-none" id="btnMyCourses">
	<i class="bi bi-rocket-takeoff-fill"></i>
	<i><b>Mis cursos</b></i>
</a>
<a href="/end_modules" class="nav-link px-3 d-none" id="trophy_button">
	<i class="bi bi-trophy-fill"></i>
	Finalizados             
</a>

					</div>
                    <div class="ms-auto right">
                        <a id="user_button" href="#" class="nav-link px-3" style="display:none;" data-bs-toggle="modal" data-bs-target="#loginModal">
                            <i id="user_icon" class="bi"></i>                            
                        </a>
                    </div>					
				</div>
			</div>
		</div>
	</div>
</div>

		<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
										<div class="row py-1 m-0" id="buttonsModSection">
	<div class="col-6 p-0" data-mod="bigquery">
		<a  href="#" class="text-secondary d-none" data-read-mod="bigquery" data-read-unit="8-4" style="text-decoration:none;">
			<i class="bi bi-check-circle-fill"></i> 
			Marcar como leído
		</a>
		<a href="#" class="text-secondary d-none" data-unread-mod="bigquery" data-unread-unit="8-4" style="text-decoration:none;">
			<i class="bi bi-x-circle-fill"></i>
			Marcar como no leído
		</a>
	</div>
	<div class="col-6 text-end p-0">
					<a href="./"  class="nav-link">
				<i class="bi bi-journal-text"></i>
				Contenido del curso
			</a>
			</div>
</div>						<div id="inner_content">
				<div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='08-03-automating-workflows' title="Automatización de Flujos de Trabajo con Cloud Functions" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='08-03-automating-workflows' title="Automatización de Flujos de Trabajo con Cloud Functions" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
					<h2 style="text-decoration:underline">Programación de Consultas con Cloud Scheduler</h2>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='09-01-introduction-bqml' title="Introducción a BigQuery ML" class="py-2 px-3 btn btn-primary"
				data-read-mod="bigquery" data-read-unit="8-4">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='09-01-introduction-bqml' title="Introducción a BigQuery ML" class="py-2 px-3 btn btn-primary" 
				data-read-mod="bigquery" data-read-unit="8-4">
				 &#x25BA;
			</a>
			</div>
</div>
<div class='content'><p>En este tema, aprenderás cómo automatizar la ejecución de consultas en BigQuery utilizando Cloud Scheduler. Esta herramienta te permite programar tareas recurrentes, como la ejecución de consultas SQL, sin necesidad de intervención manual.</p>
</div><h1>¿Qué es Cloud Scheduler?</h1>
<div class='content'><p>Cloud Scheduler es un servicio de Google Cloud que permite programar trabajos cron de manera completamente gestionada. Puedes usarlo para ejecutar tareas en intervalos regulares, como enviar solicitudes HTTP, ejecutar funciones de Cloud Functions o iniciar trabajos de Dataflow.</p>
</div><h2>Características Clave de Cloud Scheduler:</h2>
<div class='content'><ul>
<li><strong>Programación basada en cron</strong>: Define horarios de ejecución utilizando la sintaxis cron.</li>
<li><strong>Integración con otros servicios de Google Cloud</strong>: Ejecuta tareas en Cloud Functions, App Engine, Pub/Sub, entre otros.</li>
<li><strong>Alta disponibilidad</strong>: Garantiza la ejecución de tareas programadas con alta disponibilidad.</li>
</ul>
</div><h1>Configuración de Cloud Scheduler para BigQuery</h1>
<div class='content'></div><h2>Paso 1: Crear un Proyecto en Google Cloud</h2>
<div class='content'><p>Si aún no tienes un proyecto en Google Cloud, sigue estos pasos:</p>
<ol>
<li>Ve a la <a href="https://console.cloud.google.com/">Consola de Google Cloud</a>.</li>
<li>Crea un nuevo proyecto o selecciona uno existente.</li>
</ol>
</div><h2>Paso 2: Habilitar las APIs Necesarias</h2>
<div class='content'><p>Asegúrate de habilitar las siguientes APIs:</p>
<ul>
<li>BigQuery API</li>
<li>Cloud Scheduler API</li>
</ul>
<p>Puedes habilitarlas desde la consola de Google Cloud en la sección de APIs y servicios.</p>
</div><h2>Paso 3: Crear una Función de Cloud Functions</h2>
<div class='content'><p>Para ejecutar una consulta en BigQuery, primero necesitas una función que realice esta tarea. Aquí tienes un ejemplo de cómo crear una función en Python:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGdvb2dsZS5hdXRoCmZyb20gZ29vZ2xlLmNsb3VkIGltcG9ydCBiaWdxdWVyeQoKZGVmIHJ1bl9iaWdxdWVyeV9xdWVyeShyZXF1ZXN0KToKICAgICMgQXV0ZW50aWNhY2nDs24gaW1wbMOtY2l0YQogICAgY3JlZGVudGlhbHMsIHByb2plY3QgPSBnb29nbGUuYXV0aC5kZWZhdWx0KCkKICAgIGNsaWVudCA9IGJpZ3F1ZXJ5LkNsaWVudChjcmVkZW50aWFscz1jcmVkZW50aWFscywgcHJvamVjdD1wcm9qZWN0KQogICAgCiAgICAjIERlZmluZSB0dSBjb25zdWx0YSBTUUwKICAgIHF1ZXJ5ID0gIiIiCiAgICBTRUxFQ1QgbmFtZSwgQ09VTlQoKikgYXMgY291bnQKICAgIEZST00gYG15X2RhdGFzZXQubXlfdGFibGVgCiAgICBHUk9VUCBCWSBuYW1lCiAgICAiIiIKICAgIAogICAgIyBFamVjdXRhIGxhIGNvbnN1bHRhCiAgICBxdWVyeV9qb2IgPSBjbGllbnQucXVlcnkocXVlcnkpCiAgICAKICAgICMgRXNwZXJhIGEgcXVlIGxhIGNvbnN1bHRhIHRlcm1pbmUKICAgIHJlc3VsdHMgPSBxdWVyeV9qb2IucmVzdWx0KCkKICAgIAogICAgIyBQcm9jZXNhIGxvcyByZXN1bHRhZG9zIChvcGNpb25hbCkKICAgIGZvciByb3cgaW4gcmVzdWx0czoKICAgICAgICBwcmludChmIm5hbWU6IHtyb3cubmFtZX0sIGNvdW50OiB7cm93LmNvdW50fSIpCiAgICAKICAgIHJldHVybiAnUXVlcnkgZXhlY3V0ZWQgc3VjY2Vzc2Z1bGx5Jw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import google.auth
from google.cloud import bigquery

def run_bigquery_query(request):
    # Autenticaci&oacute;n impl&iacute;cita
    credentials, project = google.auth.default()
    client = bigquery.Client(credentials=credentials, project=project)
    
    # Define tu consulta SQL
    query = &quot;&quot;&quot;
    SELECT name, COUNT(*) as count
    FROM `my_dataset.my_table`
    GROUP BY name
    &quot;&quot;&quot;
    
    # Ejecuta la consulta
    query_job = client.query(query)
    
    # Espera a que la consulta termine
    results = query_job.result()
    
    # Procesa los resultados (opcional)
    for row in results:
        print(f&quot;name: {row.name}, count: {row.count}&quot;)
    
    return 'Query executed successfully'</pre></div><div class='content'></div><h2>Paso 4: Desplegar la Función en Cloud Functions</h2>
<div class='content'><ol>
<li>Ve a la sección de Cloud Functions en la consola de Google Cloud.</li>
<li>Crea una nueva función.</li>
<li>Configura los detalles de la función, como el nombre, la región y el tiempo de ejecución (Python 3.7, por ejemplo).</li>
<li>Copia y pega el código de la función en el editor de la consola.</li>
<li>Despliega la función.</li>
</ol>
</div><h2>Paso 5: Crear un Trabajo en Cloud Scheduler</h2>
<div class='content'><ol>
<li>Ve a la sección de Cloud Scheduler en la consola de Google Cloud.</li>
<li>Crea un nuevo trabajo.</li>
<li>Configura los detalles del trabajo:
<ul>
<li><strong>Nombre</strong>: Un nombre descriptivo para el trabajo.</li>
<li><strong>Región</strong>: La región donde se ejecutará el trabajo.</li>
<li><strong>Frecuencia</strong>: Define la frecuencia utilizando la sintaxis cron (por ejemplo, <code>0 9 * * 1</code> para ejecutar todos los lunes a las 9 AM).</li>
<li><strong>Destino</strong>: Selecciona &quot;HTTP&quot; y proporciona la URL de la función de Cloud Functions que creaste.</li>
</ul>
</li>
</ol>
</div><h2>Ejemplo de Configuración de Frecuencia</h2>
<div class='content'><table>
<thead>
<tr>
<th>Frecuencia</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>* * * * *</code></td>
<td>Cada minuto</td>
</tr>
<tr>
<td><code>0 * * * *</code></td>
<td>Cada hora</td>
</tr>
<tr>
<td><code>0 9 * * 1</code></td>
<td>Todos los lunes a las 9 AM</td>
</tr>
<tr>
<td><code>0 0 1 * *</code></td>
<td>El primer día de cada mes a medianoche</td>
</tr>
</tbody>
</table>
</div><h2>Paso 6: Probar y Verificar</h2>
<div class='content'><p>Una vez configurado el trabajo, puedes probarlo manualmente desde la consola de Cloud Scheduler para asegurarte de que todo funciona correctamente. Revisa los registros de Cloud Functions para verificar que la consulta se ejecutó sin problemas.</p>
</div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Programar una Consulta Simple</h2>
<div class='content'><ol>
<li>Crea una función de Cloud Functions que ejecute una consulta simple en BigQuery.</li>
<li>Despliega la función.</li>
<li>Configura un trabajo en Cloud Scheduler para ejecutar la función cada día a las 8 AM.</li>
</ol>
</div><h2>Solución del Ejercicio 1</h2>
<div class='content'><h4>Función de Cloud Functions</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGdvb2dsZS5hdXRoCmZyb20gZ29vZ2xlLmNsb3VkIGltcG9ydCBiaWdxdWVyeQoKZGVmIHJ1bl9zaW1wbGVfcXVlcnkocmVxdWVzdCk6CiAgICBjcmVkZW50aWFscywgcHJvamVjdCA9IGdvb2dsZS5hdXRoLmRlZmF1bHQoKQogICAgY2xpZW50ID0gYmlncXVlcnkuQ2xpZW50KGNyZWRlbnRpYWxzPWNyZWRlbnRpYWxzLCBwcm9qZWN0PXByb2plY3QpCiAgICAKICAgIHF1ZXJ5ID0gIiIiCiAgICBTRUxFQ1QgQ09VTlQoKikgYXMgdG90YWxfcm93cwogICAgRlJPTSBgbXlfZGF0YXNldC5teV90YWJsZWAKICAgICIiIgogICAgCiAgICBxdWVyeV9qb2IgPSBjbGllbnQucXVlcnkocXVlcnkpCiAgICByZXN1bHRzID0gcXVlcnlfam9iLnJlc3VsdCgpCiAgICAKICAgIGZvciByb3cgaW4gcmVzdWx0czoKICAgICAgICBwcmludChmIlRvdGFsIHJvd3M6IHtyb3cudG90YWxfcm93c30iKQogICAgCiAgICByZXR1cm4gJ1F1ZXJ5IGV4ZWN1dGVkIHN1Y2Nlc3NmdWxseSc="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import google.auth
from google.cloud import bigquery

def run_simple_query(request):
    credentials, project = google.auth.default()
    client = bigquery.Client(credentials=credentials, project=project)
    
    query = &quot;&quot;&quot;
    SELECT COUNT(*) as total_rows
    FROM `my_dataset.my_table`
    &quot;&quot;&quot;
    
    query_job = client.query(query)
    results = query_job.result()
    
    for row in results:
        print(f&quot;Total rows: {row.total_rows}&quot;)
    
    return 'Query executed successfully'</pre></div><div class='content'><h4>Configuración de Cloud Scheduler</h4>
<ul>
<li><strong>Nombre</strong>: <code>daily-simple-query</code></li>
<li><strong>Región</strong>: <code>us-central1</code></li>
<li><strong>Frecuencia</strong>: <code>0 8 * * *</code></li>
<li><strong>Destino</strong>: URL de la función de Cloud Functions</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, aprendiste cómo programar consultas en BigQuery utilizando Cloud Scheduler. Esta habilidad es esencial para automatizar tareas recurrentes y mejorar la eficiencia de tus flujos de trabajo. Asegúrate de revisar los registros y monitorear las ejecuciones para garantizar que todo funcione correctamente. En el próximo módulo, exploraremos cómo integrar BigQuery con otros servicios de Google Cloud para crear soluciones más robustas y escalables.</p>
</div><div class='row navigation'>
	<div class='col-2 d-none d-md-block'>
					<a href='08-03-automating-workflows' title="Automatización de Flujos de Trabajo con Cloud Functions" class="py-2 px-3 btn btn-primary">
				&#x25C4; Anterior 
			</a>
			</div>
	<div class='col-2 d-md-none'>
					<a href='08-03-automating-workflows' title="Automatización de Flujos de Trabajo con Cloud Functions" class="py-2 px-3 btn btn-primary">
				&#x25C4;
			</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end d-none d-md-block'>
					<a href='09-01-introduction-bqml' title="Introducción a BigQuery ML" class="py-2 px-3 btn btn-primary"
				data-read-mod="bigquery" data-read-unit="8-4">
				Siguiente &#x25BA;
			</a>
			</div>
	<div class='col-2 text-end d-md-none '>
					<a href='09-01-introduction-bqml' title="Introducción a BigQuery ML" class="py-2 px-3 btn btn-primary" 
				data-read-mod="bigquery" data-read-unit="8-4">
				 &#x25BA;
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
						
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curso de BigQuery</h1>
<h2>Módulo 1: Introducción a BigQuery</h2>
<ul>
<li><a href="01-01-what-is-bigquery">¿Qué es BigQuery?</a></li>
<li><a href="01-02-setting-up-environment">Configuración de tu Entorno de BigQuery</a></li>
<li><a href="01-03-understanding-architecture">Entendiendo la Arquitectura de BigQuery</a></li>
<li><a href="01-04-console-overview">Visión General de la Consola de BigQuery</a></li>
</ul>
<h2>Módulo 2: SQL Básico en BigQuery</h2>
<ul>
<li><a href="02-01-introduction-to-sql">Introducción a SQL</a></li>
<li><a href="02-02-basic-sql-queries">Consultas SQL Básicas</a></li>
<li><a href="02-03-filtering-sorting-data">Filtrado y Ordenación de Datos</a></li>
<li><a href="02-04-aggregating-data">Agregación de Datos</a></li>
</ul>
<h2>Módulo 3: SQL Intermedio en BigQuery</h2>
<ul>
<li><a href="03-01-joins-unions">Joins y Uniones</a></li>
<li><a href="03-02-subqueries">Subconsultas</a></li>
<li><a href="03-03-common-table-expressions">Expresiones de Tabla Comunes (CTEs)</a></li>
<li><a href="03-04-window-functions">Funciones de Ventana</a></li>
</ul>
<h2>Módulo 4: SQL Avanzado en BigQuery</h2>
<ul>
<li><a href="04-01-advanced-joins">Joins Avanzados</a></li>
<li><a href="04-02-nested-repeated-fields">Campos Anidados y Repetidos</a></li>
<li><a href="04-03-user-defined-functions">Funciones Definidas por el Usuario (UDFs)</a></li>
<li><a href="04-04-partitioning-clustering">Particionamiento y Agrupamiento</a></li>
</ul>
<h2>Módulo 5: Gestión de Datos en BigQuery</h2>
<ul>
<li><a href="05-01-loading-data">Cargando Datos en BigQuery</a></li>
<li><a href="05-02-exporting-data">Exportando Datos desde BigQuery</a></li>
<li><a href="05-03-data-transformation-cleaning">Transformación y Limpieza de Datos</a></li>
<li><a href="05-04-managing-datasets-tables">Gestión de Conjuntos de Datos y Tablas</a></li>
</ul>
<h2>Módulo 6: Optimización del Rendimiento de BigQuery</h2>
<ul>
<li><a href="06-01-query-optimization-techniques">Técnicas de Optimización de Consultas</a></li>
<li><a href="06-02-query-execution-plans">Entendiendo los Planes de Ejecución de Consultas</a></li>
<li><a href="06-03-using-materialized-views">Uso de Vistas Materializadas</a></li>
<li><a href="06-04-optimizing-storage">Optimización del Almacenamiento</a></li>
</ul>
<h2>Módulo 7: Seguridad y Cumplimiento en BigQuery</h2>
<ul>
<li><a href="07-01-access-control-permissions">Control de Acceso y Permisos</a></li>
<li><a href="07-02-data-encryption">Encriptación de Datos</a></li>
<li><a href="07-03-auditing-monitoring">Auditoría y Monitoreo</a></li>
<li><a href="07-04-compliance-best-practices">Cumplimiento y Mejores Prácticas</a></li>
</ul>
<h2>Módulo 8: Integración y Automatización de BigQuery</h2>
<ul>
<li><a href="08-01-integrating-google-cloud">Integración con Servicios de Google Cloud</a></li>
<li><a href="08-02-using-dataflow">Uso de BigQuery con Dataflow</a></li>
<li><a href="08-03-automating-workflows">Automatización de Flujos de Trabajo con Cloud Functions</a></li>
<li><a href="08-04-scheduling-queries">Programación de Consultas con Cloud Scheduler</a></li>
</ul>
<h2>Módulo 9: Machine Learning en BigQuery (BQML)</h2>
<ul>
<li><a href="09-01-introduction-bqml">Introducción a BigQuery ML</a></li>
<li><a href="09-02-creating-training-models">Creación y Entrenamiento de Modelos</a></li>
<li><a href="09-03-evaluating-predicting-models">Evaluación y Predicción con Modelos</a></li>
<li><a href="09-04-advanced-bqml-features">Características Avanzadas de BQML</a></li>
</ul>
<h2>Módulo 10: Casos de Uso de BigQuery en el Mundo Real</h2>
<ul>
<li><a href="10-01-analyzing-web-app-analytics">Análisis de Analíticas Web y de Aplicaciones</a></li>
<li><a href="10-02-financial-data-analysis">Análisis de Datos Financieros</a></li>
<li><a href="10-03-iot-data-processing">Procesamiento de Datos IoT</a></li>
<li><a href="10-04-building-dashboards-data-studio">Construcción de Dashboards con Data Studio</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

		<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loginModalLabel">Usuario no autenticado</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            	<p id="loginModalEmail"></p>
            	<div id="mensaje" class="d-none alert alert-danger"></div>
            	<div id="mensaje_info" class="d-none alert alert-success"></div>
            	
            	<div id="modal-body-main">
					<div class="mt-4 d-none" id="forgotPasswordSection">
						<div class="mb-3">
    <label for="recovery-email" class="form-label">Correo electrónico</label>
    <input type="email" required class="form-control" id="recovery-email" placeholder="Introduce tu correo electrónico">
</div>
<button class="btn btn-primary" id="btnRecover">Enviar enlace de recuperación</button>

					</div>
									
					<div class="mt-4 d-none" id="deleteUserSection">	
						<div class="mb-3 alert alert-danger">
	¡Atención! Estás a punto de eliminar todos los datos de registro y progreso.<br><b>Esta acción no se puede deshacer.</b>
</div>
<div class="mb-3">
    <input type="password" required class="form-control" id="delete-user-pwd" placeholder="Introduce tu contraseña">
</div>
<button class="btn btn-primary" id="btnDeleteUser">Eliminar usuario</button>

					</div>
					
					<div class="mt-4 d-none" id="changePassordSection">
						<div class="mb-3 row">
	<div class="col col-12 my-2">
	    <input type="password" required class="form-control" id="change-pwd-actual" placeholder="Introduce el password actual">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-1" placeholder="Introduce el nuevo password">
	</div>
	<div class="col col-12 my-2">
    	<input type="password" required class="form-control" id="change-pwd-new-2" placeholder="Repite el nuevo password">
	</div>
</div>
<button class="btn btn-primary" id="btnChangePassword">Cambiar el password</button>

					</div>
					
					<div class="mt-4 d-none alert alert-warning" id="verifyPasswordSection">
						<p><b>Falta verificar correu</b></p>
						<a id="btnVerifyEmail" href="#">Enviar enlace de verificación</a>

					</div>
					
					<div class="mt-4 d-none" id="disconnectUserSection">
						<div class="mb-3">
    <button id="btnDisconnect" class="btn btn-primary">Desconectar</button>
</div>

<hr>

<div class="mt-3">
    <button class="btn btn-outline-secondary" id="change-password-link">Cambiar el password</button>
</div>

<div class="mt-3">
    <a href="#" id="delete-user-link">Eliminar usuario</a>
</div>

					</div>
	            
	            	<div class="mt-4 d-none" id="modalTabsSection">
	            		<ul class="nav nav-tabs" id="authTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="true">
        	Iniciar sesión
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab" aria-controls="register" aria-selected="false">
        	Registrarse
        </button>
    </li>
</ul>

<div class="tab-content mt-3" id="authTabsContent">
    <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
    	<div class="mb-3">
    <label for="login-username" class="form-label">Correo electrónico</label>
    <input type="email" required class="form-control" id="login-username" placeholder="Introduce tu correo electrónico">
</div>
<div class="mb-3">
    <label for="login-password" class="form-label">Contraseña</label>
    <input type="password"  required class="form-control" id="login-password" placeholder="Introduce tu contraseña">
</div>
<button class="btn btn-primary" id="btnLogin">Iniciar sesión</button>
<div class="mt-3">
    <a href="#" id="forgot-password-link">¿Has olvidado tu contraseña?</a>
</div>
    </div>

    <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
    	<div class="mb-3">
    <label for="register-email" class="form-label">Correo electrónico</label>
    <input type="email" class="form-control" id="register-email" required placeholder="Introduce tu correo electrónico">
</div>

<div class="mb-3">
    <label for="register-password" class="form-label">Contraseña</label>
    <input type="password" class="form-control"  required id="register-password" placeholder="Introduce tu contraseña">
</div>

<div class="mb-3">
    <label for="register-name" class="form-label">Nombre</label>
    <input type="text" class="form-control"  required id="register-name" placeholder="Introduce tu nombre">
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-conditions-reg">
    <label for="accept-conditions-reg" class="form-check-label">
        He leído y acepto la <a href="/privacity" target="blank">Política de Privacidad</a> y los <a href="/licence" target="blank">Términos y Condiciones de Uso</a>.
    </label>
</div>

<div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="accept-allow_comunications">
    <label for="accept-allow_comunications" class="form-check-label">
        Deseo recibir noticias y actualizaciones sobre los cursos (opcional).
    </label>
</div>

<button id="btnRegister" class="btn btn-primary">Registrarse</button>
    </div>
</div>
	            	</div>
            	</div>
            </div>
        </div>
    </div>
</div>

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
