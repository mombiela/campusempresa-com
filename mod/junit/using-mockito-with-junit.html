<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uso de Mockito con JUnit</title>

    <link rel="alternate" href="https://campusempresa.com/mod/junit/using-mockito-with-junit" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/junit/using-mockito-with-junit" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/junit/using-mockito-with-junit" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/junit/using-mockito-with-junit" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/junit/using-mockito-with-junit" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-mocking'>&#x25C4;Introducción al Mocking</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Uso de Mockito con JUnit</a>
	</div>
	<div class='col-4 text-end'>
					<a href='creating-mocks'>Creación de Mocks &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Mockito es un popular marco de trabajo de simulación para Java que se utiliza junto con JUnit para crear pruebas unitarias. Permite a los desarrolladores crear objetos simulados y definir su comportamiento, lo que facilita el aislamiento del código que se está probando. Esta sección cubrirá los conceptos básicos del uso de Mockito con JUnit, incluyendo la configuración, la creación de simulaciones y la verificación de interacciones.</p>
</div><h1>Configuración de Mockito con JUnit</h1>
<div class='content'><p>Para usar Mockito con JUnit, necesitas agregar la biblioteca de Mockito a tu proyecto. Esto se puede hacer utilizando una herramienta de construcción como Maven o Gradle.</p>
</div><h2>Dependencia de Maven</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcubW9ja2l0bzwvZ3JvdXBJZD4KICAgIDxhcnRpZmFjdElkPm1vY2tpdG8tY29yZTwvYXJ0aWZhY3RJZD4KICAgIDx2ZXJzaW9uPjQuMC4wPC92ZXJzaW9uPgogICAgPHNjb3BlPnRlc3Q8L3Njb3BlPgo8L2RlcGVuZGVuY3k+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.mockito&lt;/groupId&gt;
    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;
    &lt;version&gt;4.0.0&lt;/version&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h2>Dependencia de Gradle</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVzdEltcGxlbWVudGF0aW9uICdvcmcubW9ja2l0bzptb2NraXRvLWNvcmU6NC4wLjAn"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>testImplementation 'org.mockito:mockito-core:4.0.0'</pre></div><div class='content'></div><h1>Creación de Simulaciones</h1>
<div class='content'><p>Las simulaciones son objetos que simulan el comportamiento de objetos reales. En Mockito, puedes crear simulaciones usando la anotación <code>@Mock</code> o el método <code>Mockito.mock()</code>.</p>
</div><h2>Uso de la Anotación `@Mock`</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5CZWZvcmVFYWNoOwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRlc3Q7CmltcG9ydCBvcmcubW9ja2l0by5Nb2NrOwppbXBvcnQgb3JnLm1vY2tpdG8uTW9ja2l0b0Fubm90YXRpb25zOwoKcHVibGljIGNsYXNzIEV4YW1wbGVUZXN0IHsKCiAgICBATW9jawogICAgcHJpdmF0ZSBNeVNlcnZpY2UgbXlTZXJ2aWNlOwoKICAgIEBCZWZvcmVFYWNoCiAgICBwdWJsaWMgdm9pZCBzZXRVcCgpIHsKICAgICAgICBNb2NraXRvQW5ub3RhdGlvbnMub3Blbk1vY2tzKHRoaXMpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0TXlTZXJ2aWNlKCkgewogICAgICAgIC8vIERlZmluaXIgY29tcG9ydGFtaWVudG8geSBwcm9iYXIKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.mockito.Mock;
import org.mockito.MockitoAnnotations;

public class ExampleTest {

    @Mock
    private MyService myService;

    @BeforeEach
    public void setUp() {
        MockitoAnnotations.openMocks(this);
    }

    @Test
    public void testMyService() {
        // Definir comportamiento y probar
    }
}</pre></div><div class='content'></div><h2>Uso del Método `Mockito.mock()`</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5qdW5pdC5qdXBpdGVyLmFwaS5UZXN0OwppbXBvcnQgc3RhdGljIG9yZy5tb2NraXRvLk1vY2tpdG8uKjsKCnB1YmxpYyBjbGFzcyBFeGFtcGxlVGVzdCB7CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RNeVNlcnZpY2UoKSB7CiAgICAgICAgTXlTZXJ2aWNlIG15U2VydmljZSA9IG1vY2soTXlTZXJ2aWNlLmNsYXNzKTsKICAgICAgICAvLyBEZWZpbmlyIGNvbXBvcnRhbWllbnRvIHkgcHJvYmFyCiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.junit.jupiter.api.Test;
import static org.mockito.Mockito.*;

public class ExampleTest {

    @Test
    public void testMyService() {
        MyService myService = mock(MyService.class);
        // Definir comportamiento y probar
    }
}</pre></div><div class='content'></div><h1>Definición de Comportamiento</h1>
<div class='content'><p>Una vez que has creado una simulación, puedes definir su comportamiento usando los métodos <code>when</code> y <code>thenReturn</code>.</p>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcubW9ja2l0by5Nb2NraXRvLio7CmltcG9ydCBzdGF0aWMgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLkFzc2VydGlvbnMuKjsKCnB1YmxpYyBjbGFzcyBFeGFtcGxlVGVzdCB7CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RNeVNlcnZpY2UoKSB7CiAgICAgICAgTXlTZXJ2aWNlIG15U2VydmljZSA9IG1vY2soTXlTZXJ2aWNlLmNsYXNzKTsKICAgICAgICB3aGVuKG15U2VydmljZS5wZXJmb3JtQWN0aW9uKCkpLnRoZW5SZXR1cm4oIlN1Y2Nlc3MiKTsKCiAgICAgICAgU3RyaW5nIHJlc3VsdCA9IG15U2VydmljZS5wZXJmb3JtQWN0aW9uKCk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKCJTdWNjZXNzIiwgcmVzdWx0KTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.mockito.Mockito.*;
import static org.junit.jupiter.api.Assertions.*;

public class ExampleTest {

    @Test
    public void testMyService() {
        MyService myService = mock(MyService.class);
        when(myService.performAction()).thenReturn(&quot;Success&quot;);

        String result = myService.performAction();
        assertEquals(&quot;Success&quot;, result);
    }
}</pre></div><div class='content'></div><h1>Verificación de Interacciones</h1>
<div class='content'><p>Mockito te permite verificar que ciertos métodos fueron llamados en tus objetos simulados. Esto es útil para asegurar que tu código interactúa con las dependencias como se espera.</p>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcubW9ja2l0by5Nb2NraXRvLio7CgpwdWJsaWMgY2xhc3MgRXhhbXBsZVRlc3QgewoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0TXlTZXJ2aWNlKCkgewogICAgICAgIE15U2VydmljZSBteVNlcnZpY2UgPSBtb2NrKE15U2VydmljZS5jbGFzcyk7CiAgICAgICAgbXlTZXJ2aWNlLnBlcmZvcm1BY3Rpb24oKTsKCiAgICAgICAgdmVyaWZ5KG15U2VydmljZSkucGVyZm9ybUFjdGlvbigpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.mockito.Mockito.*;

public class ExampleTest {

    @Test
    public void testMyService() {
        MyService myService = mock(MyService.class);
        myService.performAction();

        verify(myService).performAction();
    }
}</pre></div><div class='content'></div><h1>Características Avanzadas</h1>
<div class='content'><p>Mockito proporciona varias características avanzadas que pueden ser útiles en escenarios de prueba más complejos.</p>
</div><h2>Coincidencias de Argumentos</h2>
<div class='content'><p>Las coincidencias de argumentos te permiten especificar criterios flexibles para los argumentos de los métodos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcubW9ja2l0by5Nb2NraXRvLio7CmltcG9ydCBzdGF0aWMgb3JnLm1vY2tpdG8uQXJndW1lbnRNYXRjaGVycy4qOwoKcHVibGljIGNsYXNzIEV4YW1wbGVUZXN0IHsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdE15U2VydmljZSgpIHsKICAgICAgICBNeVNlcnZpY2UgbXlTZXJ2aWNlID0gbW9jayhNeVNlcnZpY2UuY2xhc3MpOwogICAgICAgIHdoZW4obXlTZXJ2aWNlLnBlcmZvcm1BY3Rpb24oYW55U3RyaW5nKCkpKS50aGVuUmV0dXJuKCJTdWNjZXNzIik7CgogICAgICAgIFN0cmluZyByZXN1bHQgPSBteVNlcnZpY2UucGVyZm9ybUFjdGlvbigiVGVzdCIpOwogICAgICAgIGFzc2VydEVxdWFscygiU3VjY2VzcyIsIHJlc3VsdCk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.mockito.Mockito.*;
import static org.mockito.ArgumentMatchers.*;

public class ExampleTest {

    @Test
    public void testMyService() {
        MyService myService = mock(MyService.class);
        when(myService.performAction(anyString())).thenReturn(&quot;Success&quot;);

        String result = myService.performAction(&quot;Test&quot;);
        assertEquals(&quot;Success&quot;, result);
    }
}</pre></div><div class='content'></div><h2>Simulación de Métodos Void</h2>
<div class='content'><p>Puedes simular métodos void para lanzar excepciones o realizar otras acciones.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcubW9ja2l0by5Nb2NraXRvLio7CgpwdWJsaWMgY2xhc3MgRXhhbXBsZVRlc3QgewoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0TXlTZXJ2aWNlKCkgewogICAgICAgIE15U2VydmljZSBteVNlcnZpY2UgPSBtb2NrKE15U2VydmljZS5jbGFzcyk7CiAgICAgICAgZG9UaHJvdyhuZXcgUnVudGltZUV4Y2VwdGlvbigpKS53aGVuKG15U2VydmljZSkucGVyZm9ybVZvaWRBY3Rpb24oKTsKCiAgICAgICAgYXNzZXJ0VGhyb3dzKFJ1bnRpbWVFeGNlcHRpb24uY2xhc3MsICgpIC0+IHsKICAgICAgICAgICAgbXlTZXJ2aWNlLnBlcmZvcm1Wb2lkQWN0aW9uKCk7CiAgICAgICAgfSk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.mockito.Mockito.*;

public class ExampleTest {

    @Test
    public void testMyService() {
        MyService myService = mock(MyService.class);
        doThrow(new RuntimeException()).when(myService).performVoidAction();

        assertThrows(RuntimeException.class, () -&gt; {
            myService.performVoidAction();
        });
    }
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Usar Mockito con JUnit te permite crear pruebas unitarias robustas al aislar el código bajo prueba y simular el comportamiento de sus dependencias. Al entender cómo crear simulaciones, definir su comportamiento y verificar interacciones, puedes escribir pruebas más efectivas y confiables. A medida que te sientas más cómodo con estos conceptos básicos, puedes explorar características avanzadas como las coincidencias de argumentos y la simulación de métodos void para manejar escenarios de prueba más complejos.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-mocking'>&#x25C4;Introducción al Mocking</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Uso de Mockito con JUnit</a>
	</div>
	<div class='col-4 text-end'>
					<a href='creating-mocks'>Creación de Mocks &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
