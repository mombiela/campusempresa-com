<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Errores Comunes y Cómo Evitarlos</title>

    <link rel="alternate" href="https://campusempresa.com/mod/junit/common-pitfalls" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/junit/common-pitfalls" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/junit/common-pitfalls" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/junit/common-pitfalls" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/junit/common-pitfalls" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='behavior-driven-development'>&#x25C4;Desarrollo Guiado por Comportamiento (BDD)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Errores Comunes y Cómo Evitarlos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-junit-5'>Introducción a JUnit 5 &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Cuando se trabaja con JUnit, especialmente como principiante, es fácil caer en ciertas trampas que pueden llevar a pruebas ineficientes, poco fiables o difíciles de mantener. Esta sección cubrirá algunos de los errores más comunes y proporcionará estrategias para evitarlos.</p>
</div><h1>Error 1: No Aislar las Pruebas</h1>
<div class='content'><p>Uno de los principios fundamentales de las pruebas unitarias es que las pruebas deben estar aisladas unas de otras. Esto significa que el resultado de una prueba no debe depender del resultado de otra.</p>
<ul>
<li><strong>Problema</strong>: Las pruebas que dependen de un estado compartido pueden llevar a pruebas inestables que pasan o fallan de manera impredecible.</li>
<li><strong>Solución</strong>: Utiliza métodos de configuración y limpieza para asegurar un estado limpio para cada prueba.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIENhbGN1bGF0b3JUZXN0IHsKICAgIHByaXZhdGUgQ2FsY3VsYXRvciBjYWxjdWxhdG9yOwoKICAgIEBCZWZvcmUKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIGNhbGN1bGF0b3IgPSBuZXcgQ2FsY3VsYXRvcigpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0QWRkaXRpb24oKSB7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDUsIGNhbGN1bGF0b3IuYWRkKDIsIDMpKTsKICAgIH0KCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdFN1YnRyYWN0aW9uKCkgewogICAgICAgIGFzc2VydEVxdWFscygxLCBjYWxjdWxhdG9yLnN1YnRyYWN0KDMsIDIpKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class CalculatorTest {
    private Calculator calculator;

    @Before
    public void setUp() {
        calculator = new Calculator();
    }

    @Test
    public void testAddition() {
        assertEquals(5, calculator.add(2, 3));
    }

    @Test
    public void testSubtraction() {
        assertEquals(1, calculator.subtract(3, 2));
    }
}</pre></div><div class='content'><p>En este ejemplo, el método <code>@Before</code> asegura que se cree una nueva instancia de <code>Calculator</code> antes de cada prueba, aislando las pruebas entre sí.</p>
</div><h1>Error 2: Ignorar Casos Límite</h1>
<div class='content'><p>Las pruebas que solo cubren el &quot;camino feliz&quot; pueden perder casos límite críticos, lo que lleva a errores en producción.</p>
<ul>
<li><strong>Problema</strong>: Ignorar casos límite puede resultar en una cobertura de pruebas incompleta.</li>
<li><strong>Solución</strong>: Identifica y prueba casos límite, como entradas nulas, colecciones vacías y valores límite.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFRlc3QoZXhwZWN0ZWQgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24uY2xhc3MpCnB1YmxpYyB2b2lkIHRlc3RBZGRpdGlvbldpdGhOdWxsKCkgewogICAgY2FsY3VsYXRvci5hZGQobnVsbCwgMyk7Cn0KCkBUZXN0CnB1YmxpYyB2b2lkIHRlc3RBZGRpdGlvbldpdGhCb3VuZGFyeVZhbHVlcygpIHsKICAgIGFzc2VydEVxdWFscyhJbnRlZ2VyLk1BWF9WQUxVRSwgY2FsY3VsYXRvci5hZGQoSW50ZWdlci5NQVhfVkFMVUUsIDApKTsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Test(expected = IllegalArgumentException.class)
public void testAdditionWithNull() {
    calculator.add(null, 3);
}

@Test
public void testAdditionWithBoundaryValues() {
    assertEquals(Integer.MAX_VALUE, calculator.add(Integer.MAX_VALUE, 0));
}</pre></div><div class='content'><p>Aquí, probamos una entrada nula y un valor límite para asegurar que el método <code>add</code> maneje estos casos correctamente.</p>
</div><h1>Error 3: Uso Excesivo de Mocks</h1>
<div class='content'><p>Aunque los mocks son útiles para aislar la unidad bajo prueba, su uso excesivo puede llevar a pruebas que están fuertemente acopladas a detalles de implementación.</p>
<ul>
<li><strong>Problema</strong>: Las pruebas que dependen en gran medida de mocks pueden volverse frágiles y difíciles de mantener.</li>
<li><strong>Solución</strong>: Usa mocks con moderación y prefiere objetos reales cuando sea posible.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFRlc3QKcHVibGljIHZvaWQgdGVzdFNlcnZpY2VXaXRoUmVhbERlcGVuZGVuY3koKSB7CiAgICBSZWFsRGVwZW5kZW5jeSBkZXBlbmRlbmN5ID0gbmV3IFJlYWxEZXBlbmRlbmN5KCk7CiAgICBTZXJ2aWNlIHNlcnZpY2UgPSBuZXcgU2VydmljZShkZXBlbmRlbmN5KTsKICAgIGFzc2VydEVxdWFscygiRXhwZWN0ZWQgUmVzdWx0Iiwgc2VydmljZS5wZXJmb3JtQWN0aW9uKCkpOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Test
public void testServiceWithRealDependency() {
    RealDependency dependency = new RealDependency();
    Service service = new Service(dependency);
    assertEquals(&quot;Expected Result&quot;, service.performAction());
}</pre></div><div class='content'><p>En este ejemplo, usamos una dependencia real en lugar de un mock para asegurar que la prueba sea más robusta y menos acoplada a detalles de implementación.</p>
</div><h1>Error 4: Nombres de Pruebas Poco Descriptivos</h1>
<div class='content'><p>Nombres de pruebas descriptivos son cruciales para entender qué hace una prueba y por qué podría estar fallando.</p>
<ul>
<li><strong>Problema</strong>: Nombres de pruebas vagos o poco descriptivos dificultan entender los fallos de las pruebas.</li>
<li><strong>Solución</strong>: Usa nombres claros y descriptivos que transmitan el propósito de la prueba.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFRlc3QKcHVibGljIHZvaWQgc2hvdWxkUmV0dXJuU3VtV2hlbkFkZGluZ1R3b1Bvc2l0aXZlTnVtYmVycygpIHsKICAgIGFzc2VydEVxdWFscyg1LCBjYWxjdWxhdG9yLmFkZCgyLCAzKSk7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Test
public void shouldReturnSumWhenAddingTwoPositiveNumbers() {
    assertEquals(5, calculator.add(2, 3));
}</pre></div><div class='content'><p>El nombre de la prueba <code>shouldReturnSumWhenAddingTwoPositiveNumbers</code> describe claramente lo que la prueba está verificando.</p>
</div><h1>Error 5: Ignorar el Rendimiento de las Pruebas</h1>
<div class='content'><p>Las pruebas que son lentas pueden obstaculizar la velocidad de desarrollo y desalentar la ejecución frecuente de pruebas.</p>
<ul>
<li><strong>Problema</strong>: Las pruebas lentas pueden reducir la eficiencia del proceso de desarrollo.</li>
<li><strong>Solución</strong>: Optimiza las pruebas para el rendimiento y evita cálculos o operaciones de E/S innecesarias.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFRlc3QodGltZW91dCA9IDEwMDApCnB1YmxpYyB2b2lkIHRlc3RQZXJmb3JtYW5jZSgpIHsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwMDAwMDsgaSsrKSB7CiAgICAgICAgY2FsY3VsYXRvci5hZGQoMSwgMSk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Test(timeout = 1000)
public void testPerformance() {
    for (int i = 0; i &lt; 1000000; i++) {
        calculator.add(1, 1);
    }
}</pre></div><div class='content'><p>La anotación <code>@Test(timeout = 1000)</code> asegura que la prueba fallará si toma más de 1 segundo en completarse, ayudando a identificar problemas de rendimiento.</p>
</div><h1>Conclusión</h1>
<div class='content'><p>Al estar consciente de estos errores comunes e implementar las soluciones sugeridas, puedes escribir pruebas más fiables, mantenibles y eficientes con JUnit. Recuerda aislar tus pruebas, cubrir casos límite, usar mocks con moderación, nombrar tus pruebas de manera descriptiva y optimizar para el rendimiento. Seguir estas mejores prácticas te ayudará a evitar errores comunes y mejorar la calidad de tu suite de pruebas.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='behavior-driven-development'>&#x25C4;Desarrollo Guiado por Comportamiento (BDD)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Errores Comunes y Cómo Evitarlos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-junit-5'>Introducción a JUnit 5 &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
