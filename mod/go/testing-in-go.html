<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas en Go</title>

    <link rel="alternate" href="https://campusempresa.com/mod/go/testing-in-go" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/go/testing-in-go" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/go/testing-in-go" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/go/testing-in-go" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/go/testing-in-go" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='reflection'>&#x25C4;Reflexión</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas en Go</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-and-deploying-go-applications'>Construcción y Despliegue de Aplicaciones en Go &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a las Pruebas en Go</h1>
<div class='content'><p>Las pruebas son una parte crucial del desarrollo de software, asegurando que tu código se comporte como se espera. Go proporciona un robusto marco de pruebas como parte de su biblioteca estándar, lo que facilita escribir y ejecutar pruebas.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Funciones de Prueba</strong>: Funciones que prueban tu código, típicamente nombradas con el prefijo <code>Test</code>.</li>
<li><strong>Archivos de Prueba</strong>: Archivos que contienen funciones de prueba, usualmente terminan con <code>_test.go</code>.</li>
<li><strong>Paquetes de Prueba</strong>: Paquetes que incluyen archivos y funciones de prueba.</li>
<li><strong>Aserciones</strong>: Declaraciones que verifican si una condición es verdadera, usadas para validar los resultados de las pruebas.</li>
<li><strong>Cobertura de Pruebas</strong>: Una medida de cuánto de tu código está probado.</li>
</ul>
</div><h1>Escribiendo Pruebas Básicas</h1>
<div class='content'><p>En Go, las pruebas se escriben en archivos que terminan con <code>_test.go</code> y usan el paquete <code>testing</code>.</p>
</div><h2>Ejemplo: Función de Prueba Básica</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gbWF0aF90ZXN0LmdvCnBhY2thZ2UgbWF0aAoKaW1wb3J0ICJ0ZXN0aW5nIgoKZnVuYyBUZXN0QWRkKHQgKnRlc3RpbmcuVCkgewogICAgcmVzdWx0IDo9IEFkZCgyLCAzKQogICAgaWYgcmVzdWx0ICE9IDUgewogICAgICAgIHQuRXJyb3JmKCJBZGQoMiwgMykgPSAlZDsgd2FudCA1IiwgcmVzdWx0KQogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// math_test.go
package math

import &quot;testing&quot;

func TestAdd(t *testing.T) {
    result := Add(2, 3)
    if result != 5 {
        t.Errorf(&quot;Add(2, 3) = %d; want 5&quot;, result)
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li>La función de prueba <code>TestAdd</code> verifica si la función <code>Add</code> devuelve el resultado correcto.</li>
<li><code>t.Errorf</code> se usa para reportar un error si el resultado no es el esperado.</li>
</ul>
</li>
</ul>
</div><h1>Ejecutando Pruebas</h1>
<div class='content'><p>Para ejecutar pruebas, usa el comando <code>go test</code> en la terminal.</p>
</div><h2>Ejemplo: Ejecutando Pruebas</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JCBnbyB0ZXN0"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$ go test</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li>Este comando ejecuta todas las pruebas en el paquete actual.</li>
</ul>
</li>
</ul>
</div><h1>Tabla de Funciones Comunes de Prueba</h1>
<div class='content'><p>| Función           | Descripción                                      |
|-------------------|--------------------------------------------------|
| <code>t.Error</code>         | Registra un mensaje de error pero continúa la ejecución.   |
| <code>t.Errorf</code>        | Registra un mensaje de error formateado pero continúa la ejecución. |
| <code>t.Fail</code>          | Marca la prueba como fallida pero continúa la ejecución.|
| <code>t.FailNow</code>       | Marca la prueba como fallida y detiene la ejecución.    |
| <code>t.Fatal</code>         | Registra un mensaje de error y detiene la ejecución.       |
| <code>t.Fatalf</code>        | Registra un mensaje de error formateado y detiene la ejecución.|</p>
</div><h1>Técnicas Avanzadas de Prueba</h1>
<div class='content'><p>A medida que te sientas más cómodo con las pruebas básicas, puedes explorar técnicas más avanzadas.</p>
</div><h2>Pruebas Basadas en Tablas</h2>
<div class='content'><p>Las pruebas basadas en tablas usan tablas (slices) para probar múltiples casos en una sola función.</p>
</div><h2>Ejemplo: Prueba Basada en Tablas</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBUZXN0QWRkKHQgKnRlc3RpbmcuVCkgewogICAgdGVzdHMgOj0gW11zdHJ1Y3QgewogICAgICAgIGEsIGIsIHdhbnQgaW50CiAgICB9ewogICAgICAgIHsxLCAxLCAyfSwKICAgICAgICB7MiwgMiwgNH0sCiAgICAgICAgezIsIC0yLCAwfSwKICAgIH0KCiAgICBmb3IgXywgdHQgOj0gcmFuZ2UgdGVzdHMgewogICAgICAgIHQuUnVuKGZtdC5TcHJpbnRmKCIlZCslZCIsIHR0LmEsIHR0LmIpLCBmdW5jKHQgKnRlc3RpbmcuVCkgewogICAgICAgICAgICBnb3QgOj0gQWRkKHR0LmEsIHR0LmIpCiAgICAgICAgICAgIGlmIGdvdCAhPSB0dC53YW50IHsKICAgICAgICAgICAgICAgIHQuRXJyb3JmKCJBZGQoJWQsICVkKSA9ICVkOyB3YW50ICVkIiwgdHQuYSwgdHQuYiwgZ290LCB0dC53YW50KQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func TestAdd(t *testing.T) {
    tests := []struct {
        a, b, want int
    }{
        {1, 1, 2},
        {2, 2, 4},
        {2, -2, 0},
    }

    for _, tt := range tests {
        t.Run(fmt.Sprintf(&quot;%d+%d&quot;, tt.a, tt.b), func(t *testing.T) {
            got := Add(tt.a, tt.b)
            if got != tt.want {
                t.Errorf(&quot;Add(%d, %d) = %d; want %d&quot;, tt.a, tt.b, got, tt.want)
            }
        })
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li>El slice <code>tests</code> contiene múltiples casos de prueba.</li>
<li><code>t.Run</code> se usa para ejecutar cada caso de prueba como una subprueba.</li>
</ul>
</li>
</ul>
</div><h2>Benchmarking</h2>
<div class='content'><p>Go también soporta benchmarking para medir el rendimiento de tu código.</p>
</div><h2>Ejemplo: Función de Benchmark</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuYyBCZW5jaG1hcmtBZGQoYiAqdGVzdGluZy5CKSB7CiAgICBmb3IgaSA6PSAwOyBpIDwgYi5OOyBpKysgewogICAgICAgIEFkZCgxLCAyKQogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>func BenchmarkAdd(b *testing.B) {
    for i := 0; i &lt; b.N; i++ {
        Add(1, 2)
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li>La función de benchmark <code>BenchmarkAdd</code> mide cuántas veces <code>Add</code> puede ser ejecutada en un período dado.</li>
</ul>
</li>
</ul>
</div><h1>Mocking y Stubbing</h1>
<div class='content'><p>Para pruebas más complejas, podrías necesitar hacer mocking o stubbing de dependencias.</p>
</div><h2>Ejemplo: Mocking de una Dependencia</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBNb2NrRGF0YWJhc2Ugc3RydWN0e30KCmZ1bmMgKG0gKk1vY2tEYXRhYmFzZSkgR2V0VXNlcihpZCBpbnQpIFVzZXIgewogICAgcmV0dXJuIFVzZXJ7SUQ6IGlkLCBOYW1lOiAiTW9jayBVc2VyIn0KfQoKZnVuYyBUZXN0R2V0VXNlcih0ICp0ZXN0aW5nLlQpIHsKICAgIGRiIDo9ICZNb2NrRGF0YWJhc2V7fQogICAgdXNlciA6PSBkYi5HZXRVc2VyKDEpCiAgICBpZiB1c2VyLk5hbWUgIT0gIk1vY2sgVXNlciIgewogICAgICAgIHQuRXJyb3JmKCJFeHBlY3RlZCAnTW9jayBVc2VyJywgZ290ICVzIiwgdXNlci5OYW1lKQogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type MockDatabase struct{}

func (m *MockDatabase) GetUser(id int) User {
    return User{ID: id, Name: &quot;Mock User&quot;}
}

func TestGetUser(t *testing.T) {
    db := &amp;MockDatabase{}
    user := db.GetUser(1)
    if user.Name != &quot;Mock User&quot; {
        t.Errorf(&quot;Expected 'Mock User', got %s&quot;, user.Name)
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>MockDatabase</code> es una implementación mock de una base de datos.</li>
<li>La prueba verifica si <code>GetUser</code> devuelve el usuario mock esperado.</li>
</ul>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Las pruebas en Go son directas y poderosas, gracias a su marco de pruebas incorporado. Al dominar las pruebas básicas, las pruebas basadas en tablas, el benchmarking y el mocking, puedes asegurar que tu código en Go sea confiable y eficiente. Las pruebas regulares ayudan a detectar errores temprano y mejoran la calidad del código, convirtiéndolas en una habilidad esencial para cualquier desarrollador de Go.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='reflection'>&#x25C4;Reflexión</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas en Go</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-and-deploying-go-applications'>Construcción y Despliegue de Aplicaciones en Go &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
