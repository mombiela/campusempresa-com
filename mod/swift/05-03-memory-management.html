<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Memoria</title>

    <link rel="alternate" href="https://campusempresa.com/mod/swift/05-03-memory-management" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/swift/05-03-memory-management" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/swift/05-03-memory-management" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/swift/05-03-memory-management" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/swift/05-03-memory-management" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-02-advanced-error-handling' title="Manejo Avanzado de Errores">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Gestión de Memoria</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-04-concurrency' title="Concurrencia">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La gestión de memoria es un aspecto crucial en cualquier lenguaje de programación, y Swift no es la excepción. En este módulo, aprenderás cómo Swift maneja la memoria de manera eficiente y cómo puedes optimizar el uso de la memoria en tus aplicaciones.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ol>
<li><strong>ARC (Automatic Reference Counting)</strong>: Swift utiliza ARC para gestionar la memoria de las instancias de clases.</li>
<li><strong>Ciclos de Retención</strong>: Situaciones en las que dos o más instancias mantienen referencias fuertes entre sí, impidiendo que se libere la memoria.</li>
<li><strong>Referencias Fuertes y Débiles</strong>: Diferencias y usos de referencias fuertes (<code>strong</code>) y débiles (<code>weak</code>).</li>
<li><strong>Referencias No Propietarias</strong>: Uso de referencias no propietarias (<code>unowned</code>) para evitar ciclos de retención.</li>
<li><strong>Desinicializadores</strong>: Métodos <code>deinit</code> para realizar tareas de limpieza antes de que una instancia sea desalojada de la memoria.</li>
</ol>
</div><h1>ARC (Automatic Reference Counting)</h1>
<div class='content'><p>Swift utiliza ARC para seguir y gestionar la memoria de las instancias de clases. Cada vez que creas una nueva instancia de una clase, ARC asigna un bloque de memoria para almacenar información sobre esa instancia. ARC también realiza un seguimiento del número de referencias fuertes a cada instancia.</p>
</div><h2>Ejemplo de ARC</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uIHsKICAgIGxldCBuYW1lOiBTdHJpbmcKICAgIAogICAgaW5pdChuYW1lOiBTdHJpbmcpIHsKICAgICAgICBzZWxmLm5hbWUgPSBuYW1lCiAgICAgICAgcHJpbnQoIlwobmFtZSkgaXMgYmVpbmcgaW5pdGlhbGl6ZWQiKQogICAgfQogICAgCiAgICBkZWluaXQgewogICAgICAgIHByaW50KCJcKG5hbWUpIGlzIGJlaW5nIGRlaW5pdGlhbGl6ZWQiKQogICAgfQp9Cgp2YXIgcmVmZXJlbmNlMTogUGVyc29uPwp2YXIgcmVmZXJlbmNlMjogUGVyc29uPwp2YXIgcmVmZXJlbmNlMzogUGVyc29uPwoKcmVmZXJlbmNlMSA9IFBlcnNvbihuYW1lOiAiSm9obiBBcHBsZXNlZWQiKQpyZWZlcmVuY2UyID0gcmVmZXJlbmNlMQpyZWZlcmVuY2UzID0gcmVmZXJlbmNlMQoKcmVmZXJlbmNlMSA9IG5pbApyZWZlcmVuY2UyID0gbmlsCnJlZmVyZW5jZTMgPSBuaWw="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Person {
    let name: String
    
    init(name: String) {
        self.name = name
        print(&quot;\(name) is being initialized&quot;)
    }
    
    deinit {
        print(&quot;\(name) is being deinitialized&quot;)
    }
}

var reference1: Person?
var reference2: Person?
var reference3: Person?

reference1 = Person(name: &quot;John Appleseed&quot;)
reference2 = reference1
reference3 = reference1

reference1 = nil
reference2 = nil
reference3 = nil</pre></div><div class='content'><p><strong>Explicación:</strong></p>
<ul>
<li>Se crea una instancia de <code>Person</code> y se asigna a <code>reference1</code>.</li>
<li><code>reference2</code> y <code>reference3</code> también apuntan a la misma instancia.</li>
<li>Cuando todas las referencias se establecen en <code>nil</code>, ARC desalojará la memoria de la instancia de <code>Person</code>.</li>
</ul>
</div><h1>Ciclos de Retención</h1>
<div class='content'><p>Un ciclo de retención ocurre cuando dos instancias mantienen referencias fuertes entre sí, lo que impide que ARC libere la memoria de esas instancias.</p>
</div><h2>Ejemplo de Ciclo de Retención</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uIHsKICAgIGxldCBuYW1lOiBTdHJpbmcKICAgIHZhciBhcGFydG1lbnQ6IEFwYXJ0bWVudD8KICAgIAogICAgaW5pdChuYW1lOiBTdHJpbmcpIHsKICAgICAgICBzZWxmLm5hbWUgPSBuYW1lCiAgICB9CiAgICAKICAgIGRlaW5pdCB7CiAgICAgICAgcHJpbnQoIlwobmFtZSkgaXMgYmVpbmcgZGVpbml0aWFsaXplZCIpCiAgICB9Cn0KCmNsYXNzIEFwYXJ0bWVudCB7CiAgICBsZXQgdW5pdDogU3RyaW5nCiAgICB2YXIgdGVuYW50OiBQZXJzb24/CiAgICAKICAgIGluaXQodW5pdDogU3RyaW5nKSB7CiAgICAgICAgc2VsZi51bml0ID0gdW5pdAogICAgfQogICAgCiAgICBkZWluaXQgewogICAgICAgIHByaW50KCJBcGFydG1lbnQgXCh1bml0KSBpcyBiZWluZyBkZWluaXRpYWxpemVkIikKICAgIH0KfQoKdmFyIGpvaG46IFBlcnNvbj8KdmFyIHVuaXQ0QTogQXBhcnRtZW50PwoKam9obiA9IFBlcnNvbihuYW1lOiAiSm9obiBBcHBsZXNlZWQiKQp1bml0NEEgPSBBcGFydG1lbnQodW5pdDogIjRBIikKCmpvaG4hLmFwYXJ0bWVudCA9IHVuaXQ0QQp1bml0NEEhLnRlbmFudCA9IGpvaG4KCmpvaG4gPSBuaWwKdW5pdDRBID0gbmls"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Person {
    let name: String
    var apartment: Apartment?
    
    init(name: String) {
        self.name = name
    }
    
    deinit {
        print(&quot;\(name) is being deinitialized&quot;)
    }
}

class Apartment {
    let unit: String
    var tenant: Person?
    
    init(unit: String) {
        self.unit = unit
    }
    
    deinit {
        print(&quot;Apartment \(unit) is being deinitialized&quot;)
    }
}

var john: Person?
var unit4A: Apartment?

john = Person(name: &quot;John Appleseed&quot;)
unit4A = Apartment(unit: &quot;4A&quot;)

john!.apartment = unit4A
unit4A!.tenant = john

john = nil
unit4A = nil</pre></div><div class='content'><p><strong>Explicación:</strong></p>
<ul>
<li><code>Person</code> y <code>Apartment</code> mantienen referencias fuertes entre sí.</li>
<li>Aunque <code>john</code> y <code>unit4A</code> se establecen en <code>nil</code>, las instancias no se desalojan debido al ciclo de retención.</li>
</ul>
</div><h1>Referencias Fuertes y Débiles</h1>
<div class='content'><p>Para evitar ciclos de retención, puedes usar referencias débiles (<code>weak</code>) o no propietarias (<code>unowned</code>).</p>
</div><h2>Referencias Débiles</h2>
<div class='content'><p>Las referencias débiles no mantienen una referencia fuerte a la instancia, permitiendo que ARC la desaloje.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgUGVyc29uIHsKICAgIGxldCBuYW1lOiBTdHJpbmcKICAgIHZhciBhcGFydG1lbnQ6IEFwYXJ0bWVudD8KICAgIAogICAgaW5pdChuYW1lOiBTdHJpbmcpIHsKICAgICAgICBzZWxmLm5hbWUgPSBuYW1lCiAgICB9CiAgICAKICAgIGRlaW5pdCB7CiAgICAgICAgcHJpbnQoIlwobmFtZSkgaXMgYmVpbmcgZGVpbml0aWFsaXplZCIpCiAgICB9Cn0KCmNsYXNzIEFwYXJ0bWVudCB7CiAgICBsZXQgdW5pdDogU3RyaW5nCiAgICB3ZWFrIHZhciB0ZW5hbnQ6IFBlcnNvbj8KICAgIAogICAgaW5pdCh1bml0OiBTdHJpbmcpIHsKICAgICAgICBzZWxmLnVuaXQgPSB1bml0CiAgICB9CiAgICAKICAgIGRlaW5pdCB7CiAgICAgICAgcHJpbnQoIkFwYXJ0bWVudCBcKHVuaXQpIGlzIGJlaW5nIGRlaW5pdGlhbGl6ZWQiKQogICAgfQp9Cgp2YXIgam9objogUGVyc29uPwp2YXIgdW5pdDRBOiBBcGFydG1lbnQ/Cgpqb2huID0gUGVyc29uKG5hbWU6ICJKb2huIEFwcGxlc2VlZCIpCnVuaXQ0QSA9IEFwYXJ0bWVudCh1bml0OiAiNEEiKQoKam9obiEuYXBhcnRtZW50ID0gdW5pdDRBCnVuaXQ0QSEudGVuYW50ID0gam9obgoKam9obiA9IG5pbAp1bml0NEEgPSBuaWw="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Person {
    let name: String
    var apartment: Apartment?
    
    init(name: String) {
        self.name = name
    }
    
    deinit {
        print(&quot;\(name) is being deinitialized&quot;)
    }
}

class Apartment {
    let unit: String
    weak var tenant: Person?
    
    init(unit: String) {
        self.unit = unit
    }
    
    deinit {
        print(&quot;Apartment \(unit) is being deinitialized&quot;)
    }
}

var john: Person?
var unit4A: Apartment?

john = Person(name: &quot;John Appleseed&quot;)
unit4A = Apartment(unit: &quot;4A&quot;)

john!.apartment = unit4A
unit4A!.tenant = john

john = nil
unit4A = nil</pre></div><div class='content'><p><strong>Explicación:</strong></p>
<ul>
<li><code>tenant</code> en <code>Apartment</code> es una referencia débil.</li>
<li>Cuando <code>john</code> y <code>unit4A</code> se establecen en <code>nil</code>, ambas instancias se desalojan correctamente.</li>
</ul>
</div><h2>Referencias No Propietarias</h2>
<div class='content'><p>Las referencias no propietarias (<code>unowned</code>) se utilizan cuando se sabe que la referencia siempre tendrá un valor durante su ciclo de vida.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ3VzdG9tZXIgewogICAgbGV0IG5hbWU6IFN0cmluZwogICAgdmFyIGNhcmQ6IENyZWRpdENhcmQ/CiAgICAKICAgIGluaXQobmFtZTogU3RyaW5nKSB7CiAgICAgICAgc2VsZi5uYW1lID0gbmFtZQogICAgfQogICAgCiAgICBkZWluaXQgewogICAgICAgIHByaW50KCJcKG5hbWUpIGlzIGJlaW5nIGRlaW5pdGlhbGl6ZWQiKQogICAgfQp9CgpjbGFzcyBDcmVkaXRDYXJkIHsKICAgIGxldCBudW1iZXI6IFVJbnQ2NAogICAgdW5vd25lZCBsZXQgY3VzdG9tZXI6IEN1c3RvbWVyCiAgICAKICAgIGluaXQobnVtYmVyOiBVSW50NjQsIGN1c3RvbWVyOiBDdXN0b21lcikgewogICAgICAgIHNlbGYubnVtYmVyID0gbnVtYmVyCiAgICAgICAgc2VsZi5jdXN0b21lciA9IGN1c3RvbWVyCiAgICB9CiAgICAKICAgIGRlaW5pdCB7CiAgICAgICAgcHJpbnQoIkNhcmQgI1wobnVtYmVyKSBpcyBiZWluZyBkZWluaXRpYWxpemVkIikKICAgIH0KfQoKdmFyIGpvaG46IEN1c3RvbWVyPwoKam9obiA9IEN1c3RvbWVyKG5hbWU6ICJKb2huIEFwcGxlc2VlZCIpCmpvaG4hLmNhcmQgPSBDcmVkaXRDYXJkKG51bWJlcjogMTIzNF81Njc4XzkwMTJfMzQ1NiwgY3VzdG9tZXI6IGpvaG4hKQoKam9obiA9IG5pbA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Customer {
    let name: String
    var card: CreditCard?
    
    init(name: String) {
        self.name = name
    }
    
    deinit {
        print(&quot;\(name) is being deinitialized&quot;)
    }
}

class CreditCard {
    let number: UInt64
    unowned let customer: Customer
    
    init(number: UInt64, customer: Customer) {
        self.number = number
        self.customer = customer
    }
    
    deinit {
        print(&quot;Card #\(number) is being deinitialized&quot;)
    }
}

var john: Customer?

john = Customer(name: &quot;John Appleseed&quot;)
john!.card = CreditCard(number: 1234_5678_9012_3456, customer: john!)

john = nil</pre></div><div class='content'><p><strong>Explicación:</strong></p>
<ul>
<li><code>customer</code> en <code>CreditCard</code> es una referencia no propietaria.</li>
<li>Cuando <code>john</code> se establece en <code>nil</code>, ambas instancias se desalojan correctamente.</li>
</ul>
</div><h1>Desinicializadores</h1>
<div class='content'><p>Los desinicializadores (<code>deinit</code>) se utilizan para realizar tareas de limpieza antes de que una instancia sea desalojada de la memoria.</p>
</div><h2>Ejemplo de Desinicializador</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQmFua0FjY291bnQgewogICAgbGV0IGFjY291bnROdW1iZXI6IFN0cmluZwogICAgCiAgICBpbml0KGFjY291bnROdW1iZXI6IFN0cmluZykgewogICAgICAgIHNlbGYuYWNjb3VudE51bWJlciA9IGFjY291bnROdW1iZXIKICAgICAgICBwcmludCgiQWNjb3VudCBcKGFjY291bnROdW1iZXIpIGlzIGJlaW5nIGluaXRpYWxpemVkIikKICAgIH0KICAgIAogICAgZGVpbml0IHsKICAgICAgICBwcmludCgiQWNjb3VudCBcKGFjY291bnROdW1iZXIpIGlzIGJlaW5nIGRlaW5pdGlhbGl6ZWQiKQogICAgfQp9Cgp2YXIgYWNjb3VudDogQmFua0FjY291bnQ/ID0gQmFua0FjY291bnQoYWNjb3VudE51bWJlcjogIjEyMzQ1Njc4OTAiKQphY2NvdW50ID0gbmls"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class BankAccount {
    let accountNumber: String
    
    init(accountNumber: String) {
        self.accountNumber = accountNumber
        print(&quot;Account \(accountNumber) is being initialized&quot;)
    }
    
    deinit {
        print(&quot;Account \(accountNumber) is being deinitialized&quot;)
    }
}

var account: BankAccount? = BankAccount(accountNumber: &quot;1234567890&quot;)
account = nil</pre></div><div class='content'><p><strong>Explicación:</strong></p>
<ul>
<li>El desinicializador se llama automáticamente cuando la instancia de <code>BankAccount</code> se establece en <code>nil</code>.</li>
</ul>
</div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Evitar Ciclos de Retención</h2>
<div class='content'><p>Crea dos clases, <code>Teacher</code> y <code>Student</code>, donde un <code>Teacher</code> puede tener múltiples <code>Student</code> y un <code>Student</code> puede tener un <code>Teacher</code>. Asegúrate de evitar ciclos de retención.</p>
<p><strong>Solución:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVGVhY2hlciB7CiAgICBsZXQgbmFtZTogU3RyaW5nCiAgICB2YXIgc3R1ZGVudHM6IFtTdHVkZW50XSA9IFtdCiAgICAKICAgIGluaXQobmFtZTogU3RyaW5nKSB7CiAgICAgICAgc2VsZi5uYW1lID0gbmFtZQogICAgfQogICAgCiAgICBkZWluaXQgewogICAgICAgIHByaW50KCJcKG5hbWUpIGlzIGJlaW5nIGRlaW5pdGlhbGl6ZWQiKQogICAgfQp9CgpjbGFzcyBTdHVkZW50IHsKICAgIGxldCBuYW1lOiBTdHJpbmcKICAgIHdlYWsgdmFyIHRlYWNoZXI6IFRlYWNoZXI/CiAgICAKICAgIGluaXQobmFtZTogU3RyaW5nKSB7CiAgICAgICAgc2VsZi5uYW1lID0gbmFtZQogICAgfQogICAgCiAgICBkZWluaXQgewogICAgICAgIHByaW50KCJcKG5hbWUpIGlzIGJlaW5nIGRlaW5pdGlhbGl6ZWQiKQogICAgfQp9Cgp2YXIgdGVhY2hlcjogVGVhY2hlcj8gPSBUZWFjaGVyKG5hbWU6ICJNci4gU21pdGgiKQp2YXIgc3R1ZGVudDE6IFN0dWRlbnQ/ID0gU3R1ZGVudChuYW1lOiAiQWxpY2UiKQp2YXIgc3R1ZGVudDI6IFN0dWRlbnQ/ID0gU3R1ZGVudChuYW1lOiAiQm9iIikKCnRlYWNoZXIhLnN0dWRlbnRzLmFwcGVuZChzdHVkZW50MSEpCnRlYWNoZXIhLnN0dWRlbnRzLmFwcGVuZChzdHVkZW50MiEpCgpzdHVkZW50MSEudGVhY2hlciA9IHRlYWNoZXIKc3R1ZGVudDIhLnRlYWNoZXIgPSB0ZWFjaGVyCgp0ZWFjaGVyID0gbmlsCnN0dWRlbnQxID0gbmlsCnN0dWRlbnQyID0gbmls"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Teacher {
    let name: String
    var students: [Student] = []
    
    init(name: String) {
        self.name = name
    }
    
    deinit {
        print(&quot;\(name) is being deinitialized&quot;)
    }
}

class Student {
    let name: String
    weak var teacher: Teacher?
    
    init(name: String) {
        self.name = name
    }
    
    deinit {
        print(&quot;\(name) is being deinitialized&quot;)
    }
}

var teacher: Teacher? = Teacher(name: &quot;Mr. Smith&quot;)
var student1: Student? = Student(name: &quot;Alice&quot;)
var student2: Student? = Student(name: &quot;Bob&quot;)

teacher!.students.append(student1!)
teacher!.students.append(student2!)

student1!.teacher = teacher
student2!.teacher = teacher

teacher = nil
student1 = nil
student2 = nil</pre></div><div class='content'></div><h2>Ejercicio 2: Uso de Referencias No Propietarias</h2>
<div class='content'><p>Crea una clase <code>Company</code> y una clase <code>Employee</code> donde un <code>Employee</code> siempre tiene una <code>Company</code>, y una <code>Company</code> puede tener múltiples <code>Employee</code>. Usa referencias no propietarias para evitar ciclos de retención.</p>
<p><strong>Solución:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ29tcGFueSB7CiAgICBsZXQgbmFtZTogU3RyaW5nCiAgICB2YXIgZW1wbG95ZWVzOiBbRW1wbG95ZWVdID0gW10KICAgIAogICAgaW5pdChuYW1lOiBTdHJpbmcpIHsKICAgICAgICBzZWxmLm5hbWUgPSBuYW1lCiAgICB9CiAgICAKICAgIGRlaW5pdCB7CiAgICAgICAgcHJpbnQoIkNvbXBhbnkgXChuYW1lKSBpcyBiZWluZyBkZWluaXRpYWxpemVkIikKICAgIH0KfQoKY2xhc3MgRW1wbG95ZWUgewogICAgbGV0IG5hbWU6IFN0cmluZwogICAgdW5vd25lZCBsZXQgY29tcGFueTogQ29tcGFueQogICAgCiAgICBpbml0KG5hbWU6IFN0cmluZywgY29tcGFueTogQ29tcGFueSkgewogICAgICAgIHNlbGYubmFtZSA9IG5hbWUKICAgICAgICBzZWxmLmNvbXBhbnkgPSBjb21wYW55CiAgICB9CiAgICAKICAgIGRlaW5pdCB7CiAgICAgICAgcHJpbnQoIkVtcGxveWVlIFwobmFtZSkgaXMgYmVpbmcgZGVpbml0aWFsaXplZCIpCiAgICB9Cn0KCnZhciBjb21wYW55OiBDb21wYW55PyA9IENvbXBhbnkobmFtZTogIlRlY2ggQ29ycCIpCnZhciBlbXBsb3llZTE6IEVtcGxveWVlPyA9IEVtcGxveWVlKG5hbWU6ICJBbGljZSIsIGNvbXBhbnk6IGNvbXBhbnkhKQp2YXIgZW1wbG95ZWUyOiBFbXBsb3llZT8gPSBFbXBsb3llZShuYW1lOiAiQm9iIiwgY29tcGFueTogY29tcGFueSEpCgpjb21wYW55IS5lbXBsb3llZXMuYXBwZW5kKGVtcGxveWVlMSEpCmNvbXBhbnkhLmVtcGxveWVlcy5hcHBlbmQoZW1wbG95ZWUyISkKCmNvbXBhbnkgPSBuaWwKZW1wbG95ZWUxID0gbmlsCmVtcGxveWVlMiA9IG5pbA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Company {
    let name: String
    var employees: [Employee] = []
    
    init(name: String) {
        self.name = name
    }
    
    deinit {
        print(&quot;Company \(name) is being deinitialized&quot;)
    }
}

class Employee {
    let name: String
    unowned let company: Company
    
    init(name: String, company: Company) {
        self.name = name
        self.company = company
    }
    
    deinit {
        print(&quot;Employee \(name) is being deinitialized&quot;)
    }
}

var company: Company? = Company(name: &quot;Tech Corp&quot;)
var employee1: Employee? = Employee(name: &quot;Alice&quot;, company: company!)
var employee2: Employee? = Employee(name: &quot;Bob&quot;, company: company!)

company!.employees.append(employee1!)
company!.employees.append(employee2!)

company = nil
employee1 = nil
employee2 = nil</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, has aprendido cómo Swift gestiona la memoria utilizando ARC, cómo evitar ciclos de retención utilizando referencias débiles y no propietarias, y cómo utilizar desinicializadores para realizar tareas de limpieza. Estos conceptos son fundamentales para escribir código eficiente y libre de errores en Swift. En el próximo módulo, exploraremos la concurrencia en Swift, un tema avanzado que te permitirá escribir aplicaciones más rápidas y eficientes.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-02-advanced-error-handling' title="Manejo Avanzado de Errores">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-04-concurrency' title="Concurrencia">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
