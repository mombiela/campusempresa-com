<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estudio de Caso: Sistema de Nómina</title>

    <link rel="alternate" href="https://campusempresa.com/mod/rpg/07-03-case-study-payroll" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/rpg/07-03-case-study-payroll" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/rpg/07-03-case-study-payroll" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/rpg/07-03-case-study-payroll" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/rpg/07-03-case-study-payroll" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-02-case-study-inventory' title="Estudio de Caso: Sistema de Gestión de Inventarios">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Estudio de Caso: Sistema de Nómina</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-04-best-practices' title="Mejores Prácticas y Revisión de Código">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En este módulo, desarrollaremos un sistema de nómina básico utilizando RPG. Este estudio de caso te permitirá aplicar los conceptos aprendidos en los módulos anteriores y te dará una visión práctica de cómo se puede utilizar RPG en un entorno empresarial real.</p>
</div><h1>Objetivos del Estudio de Caso</h1>
<div class='content'><ul>
<li>Comprender los requisitos de un sistema de nómina.</li>
<li>Diseñar la estructura de datos necesaria.</li>
<li>Implementar las funcionalidades básicas del sistema.</li>
<li>Realizar pruebas y depuración del sistema.</li>
</ul>
</div><h1>Requisitos del Sistema de Nómina</h1>
<div class='content'><p>Antes de comenzar a programar, es importante entender los requisitos del sistema. Un sistema de nómina típico debe:</p>
<ol>
<li><strong>Registrar empleados</strong>: Almacenar información básica como nombre, identificación, salario, etc.</li>
<li><strong>Calcular salarios</strong>: Basado en horas trabajadas, deducciones, bonificaciones, etc.</li>
<li><strong>Generar reportes</strong>: Producir reportes de nómina para cada período de pago.</li>
<li><strong>Almacenar históricos</strong>: Mantener un registro histórico de los pagos realizados.</li>
</ol>
</div><h1>Diseño de la Estructura de Datos</h1>
<div class='content'><p>Para este sistema, utilizaremos dos archivos principales:</p>
<ol>
<li><strong>Archivo de Empleados</strong>: Contendrá la información básica de cada empleado.</li>
<li><strong>Archivo de Nómina</strong>: Contendrá los registros de pagos de nómina.</li>
</ol>
</div><h2>Estructura del Archivo de Empleados</h2>
<div class='content'><table>
<thead>
<tr>
<th>Campo</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td>EMP_ID</td>
<td>CHAR(5)</td>
<td>Identificación del empleado</td>
</tr>
<tr>
<td>EMP_NAME</td>
<td>CHAR(50)</td>
<td>Nombre del empleado</td>
</tr>
<tr>
<td>EMP_SALARY</td>
<td>DEC(7,2)</td>
<td>Salario base del empleado</td>
</tr>
</tbody>
</table>
</div><h2>Estructura del Archivo de Nómina</h2>
<div class='content'><table>
<thead>
<tr>
<th>Campo</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td>PAY_ID</td>
<td>CHAR(10)</td>
<td>Identificación del pago</td>
</tr>
<tr>
<td>EMP_ID</td>
<td>CHAR(5)</td>
<td>Identificación del empleado</td>
</tr>
<tr>
<td>PAY_DATE</td>
<td>DATE</td>
<td>Fecha del pago</td>
</tr>
<tr>
<td>HOURS_WORKED</td>
<td>DEC(5,2)</td>
<td>Horas trabajadas</td>
</tr>
<tr>
<td>GROSS_PAY</td>
<td>DEC(7,2)</td>
<td>Pago bruto</td>
</tr>
<tr>
<td>DEDUCTIONS</td>
<td>DEC(7,2)</td>
<td>Deducciones</td>
</tr>
<tr>
<td>NET_PAY</td>
<td>DEC(7,2)</td>
<td>Pago neto</td>
</tr>
</tbody>
</table>
</div><h1>Implementación del Sistema de Nómina</h1>
<div class='content'></div><h2>1. Registro de Empleados</h2>
<div class='content'><p>Primero, crearemos un programa para registrar empleados en el archivo de empleados.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SCBERlRBQ1RHUlAoKk5PKSBBQ1RHUlAoJ1FJTEUnKQoKRkVNUExPWUVFICBVRiAgIEUgICAgICAgICAgIEsgRElTSwoKRCBFbXBsb3llZURTICAgRSBEUyAgICAgICAgICAgICAgICAgIEV4dE5hbWUoRU1QTE9ZRUUpCgpEIGVtcElkICAgICAgICBTICAgICAgICAgICAgICA1QQpEIGVtcE5hbWUgICAgICBTICAgICAgICAgICAgIDUwQQpEIGVtcFNhbGFyeSAgICBTICAgICAgICAgICAgICA3UCAyCgpDICAgICAqRW50cnkgICAgICAgIFBsaXN0CkMgICAgICAgICAgICAgICAgICAgUGFybSAgICAgICAgICAgICAgICAgICAgZW1wSWQKQyAgICAgICAgICAgICAgICAgICBQYXJtICAgICAgICAgICAgICAgICAgICBlbXBOYW1lCkMgICAgICAgICAgICAgICAgICAgUGFybSAgICAgICAgICAgICAgICAgICAgZW1wU2FsYXJ5CgpDICAgICAgICAgICAgICAgICAgIEV2YWwgICAgICBFbXBsb3llZURTLkVNUF9JRCA9IGVtcElkCkMgICAgICAgICAgICAgICAgICAgRXZhbCAgICAgIEVtcGxveWVlRFMuRU1QX05BTUUgPSBlbXBOYW1lCkMgICAgICAgICAgICAgICAgICAgRXZhbCAgICAgIEVtcGxveWVlRFMuRU1QX1NBTEFSWSA9IGVtcFNhbGFyeQoKQyAgICAgICAgICAgICAgICAgICBXcml0ZSAgICAgRU1QTE9ZRUUKQyAgICAgICAgICAgICAgICAgICBFdmFsICAgICAgKklOTFIgPSAqT04KQyAgICAgICAgICAgICAgICAgICBSZXR1cm4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>H DFTACTGRP(*NO) ACTGRP('QILE')

FEMPLOYEE  UF   E           K DISK

D EmployeeDS   E DS                  ExtName(EMPLOYEE)

D empId        S              5A
D empName      S             50A
D empSalary    S              7P 2

C     *Entry        Plist
C                   Parm                    empId
C                   Parm                    empName
C                   Parm                    empSalary

C                   Eval      EmployeeDS.EMP_ID = empId
C                   Eval      EmployeeDS.EMP_NAME = empName
C                   Eval      EmployeeDS.EMP_SALARY = empSalary

C                   Write     EMPLOYEE
C                   Eval      *INLR = *ON
C                   Return</pre></div><div class='content'></div><h2>2. Cálculo de Nómina</h2>
<div class='content'><p>A continuación, crearemos un programa para calcular y registrar los pagos de nómina.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SCBERlRBQ1RHUlAoKk5PKSBBQ1RHUlAoJ1FJTEUnKQoKRkVNUExPWUVFICBJRiAgIEUgICAgICAgICAgIEsgRElTSwpGUEFZUk9MTCAgIFVGICAgRSAgICAgICAgICAgSyBESVNLCgpEIFBheXJvbGxEUyAgICAgRSBEUyAgICAgICAgICAgICAgICAgIEV4dE5hbWUoUEFZUk9MTCkKRCBFbXBsb3llZURTICAgIEUgRFMgICAgICAgICAgICAgICAgICBFeHROYW1lKEVNUExPWUVFKQoKRCBlbXBJZCAgICAgICAgIFMgICAgICAgICAgICAgIDVBCkQgcGF5SWQgICAgICAgICBTICAgICAgICAgICAgIDEwQQpEIHBheURhdGUgICAgICAgUyAgICAgICAgICAgICAgIEQKRCBob3Vyc1dvcmtlZCAgIFMgICAgICAgICAgICAgIDVQIDIKRCBncm9zc1BheSAgICAgIFMgICAgICAgICAgICAgIDdQIDIKRCBkZWR1Y3Rpb25zICAgIFMgICAgICAgICAgICAgIDdQIDIKRCBuZXRQYXkgICAgICAgIFMgICAgICAgICAgICAgIDdQIDIKCkMgICAgICpFbnRyeSAgICAgICAgUGxpc3QKQyAgICAgICAgICAgICAgICAgICBQYXJtICAgICAgICAgICAgICAgICAgICBwYXlJZApDICAgICAgICAgICAgICAgICAgIFBhcm0gICAgICAgICAgICAgICAgICAgIGVtcElkCkMgICAgICAgICAgICAgICAgICAgUGFybSAgICAgICAgICAgICAgICAgICAgcGF5RGF0ZQpDICAgICAgICAgICAgICAgICAgIFBhcm0gICAgICAgICAgICAgICAgICAgIGhvdXJzV29ya2VkCkMgICAgICAgICAgICAgICAgICAgUGFybSAgICAgICAgICAgICAgICAgICAgZGVkdWN0aW9ucwoKQyAgICAgICAgICAgICAgICAgICBDaGFpbiAgICAgZW1wSWQgICAgICAgICBFbXBsb3llZURTCkMgICAgICAgICAgICAgICAgICAgSWYgICAgICAgICVGb3VuZApDICAgICAgICAgICAgICAgICAgIEV2YWwgICAgICBncm9zc1BheSA9IEVtcGxveWVlRFMuRU1QX1NBTEFSWSAqIGhvdXJzV29ya2VkCkMgICAgICAgICAgICAgICAgICAgRXZhbCAgICAgIG5ldFBheSA9IGdyb3NzUGF5IC0gZGVkdWN0aW9ucwoKQyAgICAgICAgICAgICAgICAgICBFdmFsICAgICAgUGF5cm9sbERTLlBBWV9JRCA9IHBheUlkCkMgICAgICAgICAgICAgICAgICAgRXZhbCAgICAgIFBheXJvbGxEUy5FTVBfSUQgPSBlbXBJZApDICAgICAgICAgICAgICAgICAgIEV2YWwgICAgICBQYXlyb2xsRFMuUEFZX0RBVEUgPSBwYXlEYXRlCkMgICAgICAgICAgICAgICAgICAgRXZhbCAgICAgIFBheXJvbGxEUy5IT1VSU19XT1JLRUQgPSBob3Vyc1dvcmtlZApDICAgICAgICAgICAgICAgICAgIEV2YWwgICAgICBQYXlyb2xsRFMuR1JPU1NfUEFZID0gZ3Jvc3NQYXkKQyAgICAgICAgICAgICAgICAgICBFdmFsICAgICAgUGF5cm9sbERTLkRFRFVDVElPTlMgPSBkZWR1Y3Rpb25zCkMgICAgICAgICAgICAgICAgICAgRXZhbCAgICAgIFBheXJvbGxEUy5ORVRfUEFZID0gbmV0UGF5CgpDICAgICAgICAgICAgICAgICAgIFdyaXRlICAgICBQQVlST0xMCkMgICAgICAgICAgICAgICAgICAgRW5kSWYKCkMgICAgICAgICAgICAgICAgICAgRXZhbCAgICAgICpJTkxSID0gKk9OCkMgICAgICAgICAgICAgICAgICAgUmV0dXJu"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>H DFTACTGRP(*NO) ACTGRP('QILE')

FEMPLOYEE  IF   E           K DISK
FPAYROLL   UF   E           K DISK

D PayrollDS     E DS                  ExtName(PAYROLL)
D EmployeeDS    E DS                  ExtName(EMPLOYEE)

D empId         S              5A
D payId         S             10A
D payDate       S               D
D hoursWorked   S              5P 2
D grossPay      S              7P 2
D deductions    S              7P 2
D netPay        S              7P 2

C     *Entry        Plist
C                   Parm                    payId
C                   Parm                    empId
C                   Parm                    payDate
C                   Parm                    hoursWorked
C                   Parm                    deductions

C                   Chain     empId         EmployeeDS
C                   If        %Found
C                   Eval      grossPay = EmployeeDS.EMP_SALARY * hoursWorked
C                   Eval      netPay = grossPay - deductions

C                   Eval      PayrollDS.PAY_ID = payId
C                   Eval      PayrollDS.EMP_ID = empId
C                   Eval      PayrollDS.PAY_DATE = payDate
C                   Eval      PayrollDS.HOURS_WORKED = hoursWorked
C                   Eval      PayrollDS.GROSS_PAY = grossPay
C                   Eval      PayrollDS.DEDUCTIONS = deductions
C                   Eval      PayrollDS.NET_PAY = netPay

C                   Write     PAYROLL
C                   EndIf

C                   Eval      *INLR = *ON
C                   Return</pre></div><div class='content'></div><h2>3. Generación de Reportes</h2>
<div class='content'><p>Finalmente, crearemos un programa para generar reportes de nómina.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SCBERlRBQ1RHUlAoKk5PKSBBQ1RHUlAoJ1FJTEUnKQoKRlBBWVJPTEwgICBJRiAgIEUgICAgICAgICAgIEsgRElTSwoKRCBwYXlEYXRlICAgICAgIFMgICAgICAgICAgICAgICBECkQgcGF5SWQgICAgICAgICBTICAgICAgICAgICAgIDEwQQpEIGVtcElkICAgICAgICAgUyAgICAgICAgICAgICAgNUEKRCBob3Vyc1dvcmtlZCAgIFMgICAgICAgICAgICAgIDVQIDIKRCBncm9zc1BheSAgICAgIFMgICAgICAgICAgICAgIDdQIDIKRCBkZWR1Y3Rpb25zICAgIFMgICAgICAgICAgICAgIDdQIDIKRCBuZXRQYXkgICAgICAgIFMgICAgICAgICAgICAgIDdQIDIKCkMgICAgICpFbnRyeSAgICAgICAgUGxpc3QKQyAgICAgICAgICAgICAgICAgICBQYXJtICAgICAgICAgICAgICAgICAgICBwYXlEYXRlCgpDICAgICAgICAgICAgICAgICAgIFJlYWRFICAgICBQQVlST0xMCkMgICAgICAgICAgICAgICAgICAgRG93ICAgICAgIE5vdCAlRW9mCkMgICAgICAgICAgICAgICAgICAgSWYgICAgICAgIFBBWVJPTEwuUEFZX0RBVEUgPSBwYXlEYXRlCkMgICAgICAgICAgICAgICAgICAgRXZhbCAgICAgIHBheUlkID0gUEFZUk9MTC5QQVlfSUQKQyAgICAgICAgICAgICAgICAgICBFdmFsICAgICAgZW1wSWQgPSBQQVlST0xMLkVNUF9JRApDICAgICAgICAgICAgICAgICAgIEV2YWwgICAgICBob3Vyc1dvcmtlZCA9IFBBWVJPTEwuSE9VUlNfV09SS0VECkMgICAgICAgICAgICAgICAgICAgRXZhbCAgICAgIGdyb3NzUGF5ID0gUEFZUk9MTC5HUk9TU19QQVkKQyAgICAgICAgICAgICAgICAgICBFdmFsICAgICAgZGVkdWN0aW9ucyA9IFBBWVJPTEwuREVEVUNUSU9OUwpDICAgICAgICAgICAgICAgICAgIEV2YWwgICAgICBuZXRQYXkgPSBQQVlST0xMLk5FVF9QQVkKCkMgICAgICAgICAgICAgICAgICAgLy8gQXF1w60gcHVlZGVzIGFncmVnYXIgbGEgbMOzZ2ljYSBwYXJhIGltcHJpbWlyIG8gbW9zdHJhciBlbCByZXBvcnRlCkMgICAgICAgICAgICAgICAgICAgRW5kSWYKQyAgICAgICAgICAgICAgICAgICBSZWFkRSAgICAgUEFZUk9MTApDICAgICAgICAgICAgICAgICAgIEVuZERvCgpDICAgICAgICAgICAgICAgICAgIEV2YWwgICAgICAqSU5MUiA9ICpPTgpDICAgICAgICAgICAgICAgICAgIFJldHVybg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>H DFTACTGRP(*NO) ACTGRP('QILE')

FPAYROLL   IF   E           K DISK

D payDate       S               D
D payId         S             10A
D empId         S              5A
D hoursWorked   S              5P 2
D grossPay      S              7P 2
D deductions    S              7P 2
D netPay        S              7P 2

C     *Entry        Plist
C                   Parm                    payDate

C                   ReadE     PAYROLL
C                   Dow       Not %Eof
C                   If        PAYROLL.PAY_DATE = payDate
C                   Eval      payId = PAYROLL.PAY_ID
C                   Eval      empId = PAYROLL.EMP_ID
C                   Eval      hoursWorked = PAYROLL.HOURS_WORKED
C                   Eval      grossPay = PAYROLL.GROSS_PAY
C                   Eval      deductions = PAYROLL.DEDUCTIONS
C                   Eval      netPay = PAYROLL.NET_PAY

C                   // Aqu&iacute; puedes agregar la l&oacute;gica para imprimir o mostrar el reporte
C                   EndIf
C                   ReadE     PAYROLL
C                   EndDo

C                   Eval      *INLR = *ON
C                   Return</pre></div><div class='content'></div><h1>Pruebas y Depuración</h1>
<div class='content'><p>Es fundamental probar cada componente del sistema para asegurarse de que funciona correctamente. Aquí hay algunos pasos para realizar pruebas:</p>
<ol>
<li><strong>Registrar varios empleados</strong> y verificar que se almacenan correctamente en el archivo de empleados.</li>
<li><strong>Calcular y registrar pagos de nómina</strong> para los empleados registrados y verificar que los cálculos son correctos.</li>
<li><strong>Generar reportes de nómina</strong> para diferentes fechas y verificar que los datos son precisos.</li>
</ol>
</div><h1>Conclusión</h1>
<div class='content'><p>En este estudio de caso, hemos desarrollado un sistema de nómina básico utilizando RPG. Hemos cubierto el registro de empleados, el cálculo de nómina y la generación de reportes. Este ejercicio te proporciona una base sólida para entender cómo se puede utilizar RPG en aplicaciones del mundo real. En el siguiente módulo, aplicaremos estos conocimientos para construir una aplicación más compleja y robusta.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-02-case-study-inventory' title="Estudio de Caso: Sistema de Gestión de Inventarios">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-04-best-practices' title="Mejores Prácticas y Revisión de Código">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
