<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrada/Salida de Archivos</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ruby/05-04-file-io" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ruby/05-04-file-io" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ruby/05-04-file-io" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/ruby/05-04-file-io" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/ruby/05-04-file-io" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-03-exception-handling' title="Manejo de Excepciones">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Entrada/Salida de Archivos</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-05-regular-expressions' title="Expresiones Regulares">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En este tema, aprenderemos cómo manejar archivos en Ruby. La entrada/salida de archivos (File I/O) es una habilidad esencial para cualquier programador, ya que permite leer datos de archivos y escribir datos en ellos. Vamos a cubrir los siguientes puntos:</p>
<ol>
<li><strong>Apertura y Cierre de Archivos</strong></li>
<li><strong>Lectura de Archivos</strong></li>
<li><strong>Escritura en Archivos</strong></li>
<li><strong>Modos de Apertura de Archivos</strong></li>
<li><strong>Manejo de Errores</strong></li>
<li><strong>Ejercicios Prácticos</strong></li>
</ol>
</div><h1>1. Apertura y Cierre de Archivos</h1>
<div class='content'><p>Para trabajar con archivos en Ruby, primero debemos abrirlos. Ruby proporciona la clase <code>File</code> para este propósito. Aquí hay un ejemplo básico de cómo abrir y cerrar un archivo:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBBYnJpciB1biBhcmNoaXZvIGVuIG1vZG8gbGVjdHVyYQpmaWxlID0gRmlsZS5vcGVuKCJleGFtcGxlLnR4dCIsICJyIikKCiMgUmVhbGl6YXIgb3BlcmFjaW9uZXMgY29uIGVsIGFyY2hpdm8KCiMgQ2VycmFyIGVsIGFyY2hpdm8KZmlsZS5jbG9zZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Abrir un archivo en modo lectura
file = File.open(&quot;example.txt&quot;, &quot;r&quot;)

# Realizar operaciones con el archivo

# Cerrar el archivo
file.close</pre></div><div class='content'><p>Es importante cerrar el archivo después de terminar de trabajar con él para liberar los recursos del sistema.</p>
</div><h1>2. Lectura de Archivos</h1>
<div class='content'><p>Ruby ofrece varios métodos para leer archivos. Aquí hay algunos de los más comunes:</p>
</div><h2>Leer Todo el Contenido del Archivo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmlsZSA9IEZpbGUub3BlbigiZXhhbXBsZS50eHQiLCAiciIpCmNvbnRlbnQgPSBmaWxlLnJlYWQKcHV0cyBjb250ZW50CmZpbGUuY2xvc2U="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>file = File.open(&quot;example.txt&quot;, &quot;r&quot;)
content = file.read
puts content
file.close</pre></div><div class='content'></div><h2>Leer el Archivo Línea por Línea</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZmlsZSA9IEZpbGUub3BlbigiZXhhbXBsZS50eHQiLCAiciIpCmZpbGUuZWFjaF9saW5lIGRvIHxsaW5lfAogIHB1dHMgbGluZQplbmQKZmlsZS5jbG9zZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>file = File.open(&quot;example.txt&quot;, &quot;r&quot;)
file.each_line do |line|
  puts line
end
file.close</pre></div><div class='content'></div><h2>Usar el Bloque `File.open`</h2>
<div class='content'><p>Ruby también permite abrir un archivo y asegurarse de que se cierre automáticamente usando un bloque:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RmlsZS5vcGVuKCJleGFtcGxlLnR4dCIsICJyIikgZG8gfGZpbGV8CiAgZmlsZS5lYWNoX2xpbmUgZG8gfGxpbmV8CiAgICBwdXRzIGxpbmUKICBlbmQKZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>File.open(&quot;example.txt&quot;, &quot;r&quot;) do |file|
  file.each_line do |line|
    puts line
  end
end</pre></div><div class='content'></div><h1>3. Escritura en Archivos</h1>
<div class='content'><p>Para escribir en un archivo, debemos abrirlo en modo escritura. Aquí hay algunos ejemplos:</p>
</div><h2>Escribir Texto en un Archivo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RmlsZS5vcGVuKCJleGFtcGxlLnR4dCIsICJ3IikgZG8gfGZpbGV8CiAgZmlsZS53cml0ZSgiSG9sYSwgbXVuZG8hIikKZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>File.open(&quot;example.txt&quot;, &quot;w&quot;) do |file|
  file.write(&quot;Hola, mundo!&quot;)
end</pre></div><div class='content'></div><h2>Añadir Texto a un Archivo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RmlsZS5vcGVuKCJleGFtcGxlLnR4dCIsICJhIikgZG8gfGZpbGV8CiAgZmlsZS53cml0ZSgiXG5Bw7FhZGllbmRvIHVuYSBudWV2YSBsw61uZWEuIikKZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>File.open(&quot;example.txt&quot;, &quot;a&quot;) do |file|
  file.write(&quot;\nA&ntilde;adiendo una nueva l&iacute;nea.&quot;)
end</pre></div><div class='content'></div><h1>4. Modos de Apertura de Archivos</h1>
<div class='content'><p>Ruby soporta varios modos de apertura de archivos:</p>
<table>
<thead>
<tr>
<th>Modo</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td>&quot;r&quot;</td>
<td>Lectura (por defecto). El archivo debe existir.</td>
</tr>
<tr>
<td>&quot;w&quot;</td>
<td>Escritura. Crea un archivo nuevo o sobrescribe uno existente.</td>
</tr>
<tr>
<td>&quot;a&quot;</td>
<td>Añadir. Abre el archivo para añadir datos al final.</td>
</tr>
<tr>
<td>&quot;r+&quot;</td>
<td>Lectura y escritura. El archivo debe existir.</td>
</tr>
<tr>
<td>&quot;w+&quot;</td>
<td>Lectura y escritura. Crea un archivo nuevo o sobrescribe uno existente.</td>
</tr>
<tr>
<td>&quot;a+&quot;</td>
<td>Lectura y añadir. Abre el archivo para añadir datos al final.</td>
</tr>
</tbody>
</table>
</div><h1>5. Manejo de Errores</h1>
<div class='content'><p>Es importante manejar posibles errores al trabajar con archivos. Ruby proporciona excepciones para esto:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YmVnaW4KICBmaWxlID0gRmlsZS5vcGVuKCJleGFtcGxlLnR4dCIsICJyIikKICAjIE9wZXJhY2lvbmVzIGNvbiBlbCBhcmNoaXZvCnJlc2N1ZSBFcnJubzo6RU5PRU5UCiAgcHV0cyAiRWwgYXJjaGl2byBubyBleGlzdGUuIgpyZXNjdWUgSU9FcnJvcgogIHB1dHMgIk9jdXJyacOzIHVuIGVycm9yIGRlIGVudHJhZGEvc2FsaWRhLiIKZW5zdXJlCiAgZmlsZS5jbG9zZSBpZiBmaWxlCmVuZA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>begin
  file = File.open(&quot;example.txt&quot;, &quot;r&quot;)
  # Operaciones con el archivo
rescue Errno::ENOENT
  puts &quot;El archivo no existe.&quot;
rescue IOError
  puts &quot;Ocurri&oacute; un error de entrada/salida.&quot;
ensure
  file.close if file
end</pre></div><div class='content'></div><h1>6. Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Leer un Archivo y Contar las Líneas</h2>
<div class='content'><p><strong>Instrucciones:</strong></p>
<ol>
<li>Crea un archivo de texto llamado <code>lines.txt</code> con varias líneas de texto.</li>
<li>Escribe un programa en Ruby que lea el archivo y cuente el número de líneas.</li>
</ol>
<p><strong>Solución:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGluZV9jb3VudCA9IDAKCkZpbGUub3BlbigibGluZXMudHh0IiwgInIiKSBkbyB8ZmlsZXwKICBmaWxlLmVhY2hfbGluZSBkbyB8bGluZXwKICAgIGxpbmVfY291bnQgKz0gMQogIGVuZAplbmQKCnB1dHMgIkVsIGFyY2hpdm8gdGllbmUgI3tsaW5lX2NvdW50fSBsw61uZWFzLiI="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>line_count = 0

File.open(&quot;lines.txt&quot;, &quot;r&quot;) do |file|
  file.each_line do |line|
    line_count += 1
  end
end

puts &quot;El archivo tiene #{line_count} l&iacute;neas.&quot;</pre></div><div class='content'></div><h2>Ejercicio 2: Escribir un Archivo con Datos de Usuario</h2>
<div class='content'><p><strong>Instrucciones:</strong></p>
<ol>
<li>Pide al usuario que ingrese su nombre y edad.</li>
<li>Escribe estos datos en un archivo llamado <code>user_data.txt</code>.</li>
</ol>
<p><strong>Solución:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHV0cyAiSW5ncmVzZSBzdSBub21icmU6IgpuYW1lID0gZ2V0cy5jaG9tcAoKcHV0cyAiSW5ncmVzZSBzdSBlZGFkOiIKYWdlID0gZ2V0cy5jaG9tcAoKRmlsZS5vcGVuKCJ1c2VyX2RhdGEudHh0IiwgInciKSBkbyB8ZmlsZXwKICBmaWxlLnB1dHMgIk5vbWJyZTogI3tuYW1lfSIKICBmaWxlLnB1dHMgIkVkYWQ6ICN7YWdlfSIKZW5kCgpwdXRzICJEYXRvcyBndWFyZGFkb3MgZW4gdXNlcl9kYXRhLnR4dC4i"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>puts &quot;Ingrese su nombre:&quot;
name = gets.chomp

puts &quot;Ingrese su edad:&quot;
age = gets.chomp

File.open(&quot;user_data.txt&quot;, &quot;w&quot;) do |file|
  file.puts &quot;Nombre: #{name}&quot;
  file.puts &quot;Edad: #{age}&quot;
end

puts &quot;Datos guardados en user_data.txt.&quot;</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos aprendido cómo manejar archivos en Ruby, incluyendo cómo abrir, leer, escribir y cerrar archivos. También hemos visto cómo manejar errores comunes y hemos practicado con algunos ejercicios. La capacidad de trabajar con archivos es fundamental para muchas aplicaciones, y dominar estos conceptos te permitirá crear programas más robustos y útiles.</p>
<p>En el próximo tema, exploraremos las <strong>Expresiones Regulares</strong> en Ruby, una herramienta poderosa para trabajar con texto y patrones. ¡Sigue adelante!</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-03-exception-handling' title="Manejo de Excepciones">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-05-regular-expressions' title="Expresiones Regulares">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
