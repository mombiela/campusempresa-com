<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Despliegue</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ruby/deployment" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ruby/deployment" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ruby/deployment" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/ruby/deployment" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/ruby/deployment" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='testing-and-debugging'>&#x25C4;Pruebas y Depuración</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Despliegue</a>
	</div>
	<div class='col-4 text-end'>
			</div>
</div>
<div class='content'></div><h1>Introducción al Despliegue</h1>
<div class='content'><p>El despliegue es el proceso de hacer que tu aplicación Ruby esté disponible para su uso. Esto implica transferir tu código a un servidor, configurar el servidor y asegurarse de que tu aplicación funcione sin problemas en un entorno de producción.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Servidor</strong>: Una computadora o sistema que proporciona recursos, datos, servicios o programas a otras computadoras, conocidas como clientes, a través de una red.</li>
<li><strong>Entorno de Producción</strong>: El entorno donde tu aplicación está en vivo y accesible para los usuarios.</li>
<li><strong>Entorno de Staging</strong>: Una réplica del entorno de producción utilizada para pruebas antes del despliegue.</li>
<li><strong>Integración Continua/Despliegue Continuo (CI/CD)</strong>: Prácticas que implican probar y desplegar automáticamente los cambios en el código.</li>
</ul>
</div><h1>Configuración de tu Entorno</h1>
<div class='content'><p>Antes de desplegar tu aplicación Ruby, necesitas configurar tus entornos de desarrollo y producción.</p>
</div><h2>Entorno de Desarrollo</h2>
<div class='content'><ul>
<li>Instalar Ruby y Rails (si usas Rails).</li>
<li>Usar un gestor de versiones como RVM o rbenv para gestionar las versiones de Ruby.</li>
<li>Configurar una base de datos local (SQLite, PostgreSQL, etc.).</li>
</ul>
</div><h2>Entorno de Producción</h2>
<div class='content'><ul>
<li>Elegir un proveedor de hosting (Heroku, AWS, DigitalOcean, etc.).</li>
<li>Configurar una base de datos de producción (PostgreSQL, MySQL, etc.).</li>
<li>Configurar variables de entorno para datos sensibles (claves API, credenciales de base de datos).</li>
</ul>
</div><h1>Desplegando en Heroku</h1>
<div class='content'><p>Heroku es una plataforma como servicio (PaaS) popular que simplifica el proceso de despliegue.</p>
</div><h2>Prerrequisitos</h2>
<div class='content'><ul>
<li>Una cuenta de Heroku.</li>
<li>Heroku CLI instalado en tu máquina local.</li>
</ul>
</div><h2>Pasos para Desplegar</h2>
<div class='content'><ol>
<li>
<p><strong>Iniciar sesión en Heroku</strong>:</p>
<pre><code class="language-sh">heroku login
</code></pre>
</li>
<li>
<p><strong>Crear una Nueva Aplicación en Heroku</strong>:</p>
<pre><code class="language-sh">heroku create your-app-name
</code></pre>
</li>
<li>
<p><strong>Agregar el Complemento PostgreSQL</strong>:</p>
<pre><code class="language-sh">heroku addons:create heroku-postgresql:hobby-dev
</code></pre>
</li>
<li>
<p><strong>Desplegar tu Código</strong>:</p>
<pre><code class="language-sh">git push heroku main
</code></pre>
</li>
<li>
<p><strong>Ejecutar Migraciones de Base de Datos</strong>:</p>
<pre><code class="language-sh">heroku run rails db:migrate
</code></pre>
</li>
<li>
<p><strong>Abrir tu Aplicación</strong>:</p>
<pre><code class="language-sh">heroku open
</code></pre>
</li>
</ol>
</div><h2>Código de Ejemplo</h2>
<div class='content'><p>Aquí tienes un ejemplo de una aplicación Rails simple lista para el despliegue:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBHZW1maWxlCnNvdXJjZSAnaHR0cHM6Ly9ydWJ5Z2Vtcy5vcmcnCmdlbSAncmFpbHMnLCAnfj4gNi4xLjAnCmdlbSAncGcnLCAnPj0gMC4xOCcsICc8IDIuMCcKCiMgY29uZmlnL2RhdGFiYXNlLnltbApkZWZhdWx0OiAmZGVmYXVsdAogIGFkYXB0ZXI6IHBvc3RncmVzcWwKICBlbmNvZGluZzogdW5pY29kZQogIHBvb2w6IDUKCmRldmVsb3BtZW50OgogIDw8OiAqZGVmYXVsdAogIGRhdGFiYXNlOiBteWFwcF9kZXZlbG9wbWVudAoKcHJvZHVjdGlvbjoKICA8PDogKmRlZmF1bHQKICBkYXRhYmFzZTogbXlhcHBfcHJvZHVjdGlvbgogIHVzZXJuYW1lOiBteWFwcAogIHBhc3N3b3JkOiA8JT0gRU5WWydNWUFQUF9EQVRBQkFTRV9QQVNTV09SRCddICU+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Gemfile
source 'https://rubygems.org'
gem 'rails', '~&gt; 6.1.0'
gem 'pg', '&gt;= 0.18', '&lt; 2.0'

# config/database.yml
default: &amp;default
  adapter: postgresql
  encoding: unicode
  pool: 5

development:
  &lt;&lt;: *default
  database: myapp_development

production:
  &lt;&lt;: *default
  database: myapp_production
  username: myapp
  password: &lt;%= ENV['MYAPP_DATABASE_PASSWORD'] %&gt;</pre></div><div class='content'></div><h1>Integración y Despliegue Continuo (CI/CD)</h1>
<div class='content'><p>CI/CD automatiza el proceso de probar y desplegar tu aplicación. Herramientas populares de CI/CD incluyen GitHub Actions, CircleCI y Travis CI.</p>
</div><h2>Ejemplo con GitHub Actions</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Archivo de Workflow</strong>:</p>
<pre><code class="language-yaml"># .github/workflows/deploy.yml
name: Deploy to Heroku

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2

      - name: Set up Ruby
        uses: ruby/setup-ruby@v1
        with:
          ruby-version: '2.7'

      - name: Install dependencies
        run: |
          gem install bundler
          bundle install --jobs 4 --retry 3

      - name: Deploy to Heroku
        env:
          HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
        run: |
          git remote add heroku https://git.heroku.com/your-app-name.git
          git push heroku main
</code></pre>
</li>
<li>
<p><strong>Agregar Secretos a GitHub</strong>:</p>
<ul>
<li>Ve a la configuración de tu repositorio.</li>
<li>Agrega <code>HEROKU_API_KEY</code> con tu clave API de Heroku.</li>
</ul>
</li>
</ol>
</div><h1>Conclusión</h1>
<div class='content'><p>Desplegar una aplicación Ruby implica varios pasos, desde configurar tu entorno hasta usar plataformas como Heroku para el despliegue. Entender estos pasos asegura que tu aplicación funcione sin problemas en un entorno de producción. Además, implementar prácticas de CI/CD puede agilizar el proceso de despliegue, haciéndolo más eficiente y confiable.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='testing-and-debugging'>&#x25C4;Pruebas y Depuración</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Despliegue</a>
	</div>
	<div class='col-4 text-end'>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
