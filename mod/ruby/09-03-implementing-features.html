<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Implementación de Funcionalidades</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ruby/09-03-implementing-features" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ruby/09-03-implementing-features" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ruby/09-03-implementing-features" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/ruby/09-03-implementing-features" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/ruby/09-03-implementing-features" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='09-02-setting-up-project' title="Configuración del Proyecto">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Implementación de Funcionalidades</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='09-04-testing-debugging' title="Pruebas y Depuración">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En esta sección, nos enfocaremos en la implementación de funcionalidades para el proyecto final. Este es un paso crucial donde aplicaremos todos los conceptos aprendidos a lo largo del curso para construir una aplicación funcional y robusta.</p>
</div><h1>Objetivos</h1>
<div class='content'><ul>
<li>Implementar las funcionalidades principales del proyecto.</li>
<li>Aplicar principios de diseño y buenas prácticas de programación.</li>
<li>Asegurarse de que el código sea mantenible y escalable.</li>
</ul>
</div><h1>Pasos para Implementar Funcionalidades</h1>
<div class='content'></div><h2>1. Definir Requisitos Funcionales</h2>
<div class='content'><p>Antes de comenzar a codificar, es esencial tener una lista clara de los requisitos funcionales. Estos son los comportamientos y características que la aplicación debe tener.</p>
<p><strong>Ejemplo de Requisitos Funcionales:</strong></p>
<ul>
<li>Los usuarios deben poder registrarse y autenticarse.</li>
<li>Los usuarios deben poder crear, leer, actualizar y eliminar (CRUD) artículos.</li>
<li>Los usuarios deben poder comentar en los artículos.</li>
</ul>
</div><h2>2. Crear Modelos y Migraciones</h2>
<div class='content'><p>Los modelos representan las entidades de la aplicación y las migraciones se utilizan para definir la estructura de la base de datos.</p>
<p><strong>Ejemplo: Crear un modelo de Usuario y una migración:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBHZW5lcmFyIGVsIG1vZGVsbyBkZSBVc3VhcmlvCnJhaWxzIGdlbmVyYXRlIG1vZGVsIFVzZXIgbmFtZTpzdHJpbmcgZW1haWw6c3RyaW5nIHBhc3N3b3JkX2RpZ2VzdDpzdHJpbmcKCiMgRWplY3V0YXIgbGEgbWlncmFjacOzbgpyYWlscyBkYjptaWdyYXRl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Generar el modelo de Usuario
rails generate model User name:string email:string password_digest:string

# Ejecutar la migraci&oacute;n
rails db:migrate</pre></div><div class='content'></div><h2>3. Implementar Controladores y Vistas</h2>
<div class='content'><p>Los controladores manejan la lógica de la aplicación y las vistas presentan la información al usuario.</p>
<p><strong>Ejemplo: Controlador de Usuarios:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVXNlcnNDb250cm9sbGVyIDwgQXBwbGljYXRpb25Db250cm9sbGVyCiAgZGVmIG5ldwogICAgQHVzZXIgPSBVc2VyLm5ldwogIGVuZAoKICBkZWYgY3JlYXRlCiAgICBAdXNlciA9IFVzZXIubmV3KHVzZXJfcGFyYW1zKQogICAgaWYgQHVzZXIuc2F2ZQogICAgICByZWRpcmVjdF90byBAdXNlciwgbm90aWNlOiAnVXN1YXJpbyBjcmVhZG8gZXhpdG9zYW1lbnRlLicKICAgIGVsc2UKICAgICAgcmVuZGVyIDpuZXcKICAgIGVuZAogIGVuZAoKICBkZWYgc2hvdwogICAgQHVzZXIgPSBVc2VyLmZpbmQocGFyYW1zWzppZF0pCiAgZW5kCgogIHByaXZhdGUKCiAgZGVmIHVzZXJfcGFyYW1zCiAgICBwYXJhbXMucmVxdWlyZSg6dXNlcikucGVybWl0KDpuYW1lLCA6ZW1haWwsIDpwYXNzd29yZCwgOnBhc3N3b3JkX2NvbmZpcm1hdGlvbikKICBlbmQKZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class UsersController &lt; ApplicationController
  def new
    @user = User.new
  end

  def create
    @user = User.new(user_params)
    if @user.save
      redirect_to @user, notice: 'Usuario creado exitosamente.'
    else
      render :new
    end
  end

  def show
    @user = User.find(params[:id])
  end

  private

  def user_params
    params.require(:user).permit(:name, :email, :password, :password_confirmation)
  end
end</pre></div><div class='content'><p><strong>Ejemplo: Vista de Registro de Usuario (<code>new.html.erb</code>):</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGgxPlJlZ2lzdHJvIGRlIFVzdWFyaW88L2gxPgoKPCU9IGZvcm1fd2l0aChtb2RlbDogQHVzZXIsIGxvY2FsOiB0cnVlKSBkbyB8Zm9ybXwgJT4KICA8JSBpZiBAdXNlci5lcnJvcnMuYW55PyAlPgogICAgPGRpdiBpZD0iZXJyb3JfZXhwbGFuYXRpb24iPgogICAgICA8aDI+PCU9IHBsdXJhbGl6ZShAdXNlci5lcnJvcnMuY291bnQsICJlcnJvciIpICU+IGltcGlkaWVyb24gcXVlIGVsIHVzdWFyaW8gc2UgZ3VhcmRhcmE6PC9oMj4KICAgICAgPHVsPgogICAgICAgIDwlIEB1c2VyLmVycm9ycy5mdWxsX21lc3NhZ2VzLmVhY2ggZG8gfG1lc3NhZ2V8ICU+CiAgICAgICAgICA8bGk+PCU9IG1lc3NhZ2UgJT48L2xpPgogICAgICAgIDwlIGVuZCAlPgogICAgICA8L3VsPgogICAgPC9kaXY+CiAgPCUgZW5kICU+CgogIDxkaXYgY2xhc3M9ImZpZWxkIj4KICAgIDwlPSBmb3JtLmxhYmVsIDpuYW1lICU+CiAgICA8JT0gZm9ybS50ZXh0X2ZpZWxkIDpuYW1lICU+CiAgPC9kaXY+CgogIDxkaXYgY2xhc3M9ImZpZWxkIj4KICAgIDwlPSBmb3JtLmxhYmVsIDplbWFpbCAlPgogICAgPCU9IGZvcm0uZW1haWxfZmllbGQgOmVtYWlsICU+CiAgPC9kaXY+CgogIDxkaXYgY2xhc3M9ImZpZWxkIj4KICAgIDwlPSBmb3JtLmxhYmVsIDpwYXNzd29yZCAlPgogICAgPCU9IGZvcm0ucGFzc3dvcmRfZmllbGQgOnBhc3N3b3JkICU+CiAgPC9kaXY+CgogIDxkaXYgY2xhc3M9ImZpZWxkIj4KICAgIDwlPSBmb3JtLmxhYmVsIDpwYXNzd29yZF9jb25maXJtYXRpb24gJT4KICAgIDwlPSBmb3JtLnBhc3N3b3JkX2ZpZWxkIDpwYXNzd29yZF9jb25maXJtYXRpb24gJT4KICA8L2Rpdj4KCiAgPGRpdiBjbGFzcz0iYWN0aW9ucyI+CiAgICA8JT0gZm9ybS5zdWJtaXQgJT4KICA8L2Rpdj4KPCUgZW5kICU+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;h1&gt;Registro de Usuario&lt;/h1&gt;

&lt;%= form_with(model: @user, local: true) do |form| %&gt;
  &lt;% if @user.errors.any? %&gt;
    &lt;div id=&quot;error_explanation&quot;&gt;
      &lt;h2&gt;&lt;%= pluralize(@user.errors.count, &quot;error&quot;) %&gt; impidieron que el usuario se guardara:&lt;/h2&gt;
      &lt;ul&gt;
        &lt;% @user.errors.full_messages.each do |message| %&gt;
          &lt;li&gt;&lt;%= message %&gt;&lt;/li&gt;
        &lt;% end %&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;% end %&gt;

  &lt;div class=&quot;field&quot;&gt;
    &lt;%= form.label :name %&gt;
    &lt;%= form.text_field :name %&gt;
  &lt;/div&gt;

  &lt;div class=&quot;field&quot;&gt;
    &lt;%= form.label :email %&gt;
    &lt;%= form.email_field :email %&gt;
  &lt;/div&gt;

  &lt;div class=&quot;field&quot;&gt;
    &lt;%= form.label :password %&gt;
    &lt;%= form.password_field :password %&gt;
  &lt;/div&gt;

  &lt;div class=&quot;field&quot;&gt;
    &lt;%= form.label :password_confirmation %&gt;
    &lt;%= form.password_field :password_confirmation %&gt;
  &lt;/div&gt;

  &lt;div class=&quot;actions&quot;&gt;
    &lt;%= form.submit %&gt;
  &lt;/div&gt;
&lt;% end %&gt;</pre></div><div class='content'></div><h2>4. Añadir Funcionalidades CRUD</h2>
<div class='content'><p>Para cada entidad principal, implementaremos las operaciones CRUD.</p>
<p><strong>Ejemplo: Controlador de Artículos:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQXJ0aWNsZXNDb250cm9sbGVyIDwgQXBwbGljYXRpb25Db250cm9sbGVyCiAgZGVmIGluZGV4CiAgICBAYXJ0aWNsZXMgPSBBcnRpY2xlLmFsbAogIGVuZAoKICBkZWYgc2hvdwogICAgQGFydGljbGUgPSBBcnRpY2xlLmZpbmQocGFyYW1zWzppZF0pCiAgZW5kCgogIGRlZiBuZXcKICAgIEBhcnRpY2xlID0gQXJ0aWNsZS5uZXcKICBlbmQKCiAgZGVmIGNyZWF0ZQogICAgQGFydGljbGUgPSBBcnRpY2xlLm5ldyhhcnRpY2xlX3BhcmFtcykKICAgIGlmIEBhcnRpY2xlLnNhdmUKICAgICAgcmVkaXJlY3RfdG8gQGFydGljbGUsIG5vdGljZTogJ0FydMOtY3VsbyBjcmVhZG8gZXhpdG9zYW1lbnRlLicKICAgIGVsc2UKICAgICAgcmVuZGVyIDpuZXcKICAgIGVuZAogIGVuZAoKICBkZWYgZWRpdAogICAgQGFydGljbGUgPSBBcnRpY2xlLmZpbmQocGFyYW1zWzppZF0pCiAgZW5kCgogIGRlZiB1cGRhdGUKICAgIEBhcnRpY2xlID0gQXJ0aWNsZS5maW5kKHBhcmFtc1s6aWRdKQogICAgaWYgQGFydGljbGUudXBkYXRlKGFydGljbGVfcGFyYW1zKQogICAgICByZWRpcmVjdF90byBAYXJ0aWNsZSwgbm90aWNlOiAnQXJ0w61jdWxvIGFjdHVhbGl6YWRvIGV4aXRvc2FtZW50ZS4nCiAgICBlbHNlCiAgICAgIHJlbmRlciA6ZWRpdAogICAgZW5kCiAgZW5kCgogIGRlZiBkZXN0cm95CiAgICBAYXJ0aWNsZSA9IEFydGljbGUuZmluZChwYXJhbXNbOmlkXSkKICAgIEBhcnRpY2xlLmRlc3Ryb3kKICAgIHJlZGlyZWN0X3RvIGFydGljbGVzX3VybCwgbm90aWNlOiAnQXJ0w61jdWxvIGVsaW1pbmFkbyBleGl0b3NhbWVudGUuJwogIGVuZAoKICBwcml2YXRlCgogIGRlZiBhcnRpY2xlX3BhcmFtcwogICAgcGFyYW1zLnJlcXVpcmUoOmFydGljbGUpLnBlcm1pdCg6dGl0bGUsIDpib2R5KQogIGVuZAplbmQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class ArticlesController &lt; ApplicationController
  def index
    @articles = Article.all
  end

  def show
    @article = Article.find(params[:id])
  end

  def new
    @article = Article.new
  end

  def create
    @article = Article.new(article_params)
    if @article.save
      redirect_to @article, notice: 'Art&iacute;culo creado exitosamente.'
    else
      render :new
    end
  end

  def edit
    @article = Article.find(params[:id])
  end

  def update
    @article = Article.find(params[:id])
    if @article.update(article_params)
      redirect_to @article, notice: 'Art&iacute;culo actualizado exitosamente.'
    else
      render :edit
    end
  end

  def destroy
    @article = Article.find(params[:id])
    @article.destroy
    redirect_to articles_url, notice: 'Art&iacute;culo eliminado exitosamente.'
  end

  private

  def article_params
    params.require(:article).permit(:title, :body)
  end
end</pre></div><div class='content'></div><h2>5. Añadir Comentarios a los Artículos</h2>
<div class='content'><p>Para permitir que los usuarios comenten en los artículos, necesitaremos un modelo de Comentario y las asociaciones necesarias.</p>
<p><strong>Ejemplo: Modelo de Comentario:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ29tbWVudCA8IEFwcGxpY2F0aW9uUmVjb3JkCiAgYmVsb25nc190byA6YXJ0aWNsZQogIGJlbG9uZ3NfdG8gOnVzZXIKZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Comment &lt; ApplicationRecord
  belongs_to :article
  belongs_to :user
end</pre></div><div class='content'><p><strong>Ejemplo: Asociación en el Modelo de Artículo:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQXJ0aWNsZSA8IEFwcGxpY2F0aW9uUmVjb3JkCiAgaGFzX21hbnkgOmNvbW1lbnRzLCBkZXBlbmRlbnQ6IDpkZXN0cm95CmVuZA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Article &lt; ApplicationRecord
  has_many :comments, dependent: :destroy
end</pre></div><div class='content'><p><strong>Ejemplo: Asociación en el Modelo de Usuario:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVXNlciA8IEFwcGxpY2F0aW9uUmVjb3JkCiAgaGFzX21hbnkgOmNvbW1lbnRzLCBkZXBlbmRlbnQ6IDpkZXN0cm95CmVuZA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class User &lt; ApplicationRecord
  has_many :comments, dependent: :destroy
end</pre></div><div class='content'></div><h2>6. Implementar Autenticación</h2>
<div class='content'><p>Para manejar la autenticación de usuarios, podemos usar la gema <code>bcrypt</code> para el hashing de contraseñas.</p>
<p><strong>Ejemplo: Añadir <code>bcrypt</code> al Gemfile:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2VtICdiY3J5cHQnLCAnfj4gMy4xLjcn"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gem 'bcrypt', '~&gt; 3.1.7'</pre></div><div class='content'><p><strong>Ejemplo: Modelo de Usuario con Autenticación:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVXNlciA8IEFwcGxpY2F0aW9uUmVjb3JkCiAgaGFzX3NlY3VyZV9wYXNzd29yZAplbmQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class User &lt; ApplicationRecord
  has_secure_password
end</pre></div><div class='content'></div><h2>7. Pruebas y Validaciones</h2>
<div class='content'><p>Asegúrate de que todas las funcionalidades estén cubiertas por pruebas y que los modelos tengan las validaciones necesarias.</p>
<p><strong>Ejemplo: Validaciones en el Modelo de Usuario:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVXNlciA8IEFwcGxpY2F0aW9uUmVjb3JkCiAgaGFzX3NlY3VyZV9wYXNzd29yZAogIHZhbGlkYXRlcyA6bmFtZSwgcHJlc2VuY2U6IHRydWUKICB2YWxpZGF0ZXMgOmVtYWlsLCBwcmVzZW5jZTogdHJ1ZSwgdW5pcXVlbmVzczogdHJ1ZQplbmQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class User &lt; ApplicationRecord
  has_secure_password
  validates :name, presence: true
  validates :email, presence: true, uniqueness: true
end</pre></div><div class='content'><p><strong>Ejemplo: Pruebas Unitarias para el Modelo de Usuario:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVxdWlyZSAndGVzdF9oZWxwZXInCgpjbGFzcyBVc2VyVGVzdCA8IEFjdGl2ZVN1cHBvcnQ6OlRlc3RDYXNlCiAgdGVzdCAic2hvdWxkIG5vdCBzYXZlIHVzZXIgd2l0aG91dCBuYW1lIiBkbwogICAgdXNlciA9IFVzZXIubmV3KGVtYWlsOiAidGVzdEBleGFtcGxlLmNvbSIsIHBhc3N3b3JkOiAicGFzc3dvcmQiKQogICAgYXNzZXJ0X25vdCB1c2VyLnNhdmUsICJTYXZlZCB0aGUgdXNlciB3aXRob3V0IGEgbmFtZSIKICBlbmQKCiAgdGVzdCAic2hvdWxkIG5vdCBzYXZlIHVzZXIgd2l0aCBkdXBsaWNhdGUgZW1haWwiIGRvCiAgICB1c2VyMSA9IFVzZXIubmV3KG5hbWU6ICJUZXN0IiwgZW1haWw6ICJ0ZXN0QGV4YW1wbGUuY29tIiwgcGFzc3dvcmQ6ICJwYXNzd29yZCIpCiAgICB1c2VyMS5zYXZlCiAgICB1c2VyMiA9IFVzZXIubmV3KG5hbWU6ICJUZXN0MiIsIGVtYWlsOiAidGVzdEBleGFtcGxlLmNvbSIsIHBhc3N3b3JkOiAicGFzc3dvcmQiKQogICAgYXNzZXJ0X25vdCB1c2VyMi5zYXZlLCAiU2F2ZWQgdGhlIHVzZXIgd2l0aCBkdXBsaWNhdGUgZW1haWwiCiAgZW5kCmVuZA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>require 'test_helper'

class UserTest &lt; ActiveSupport::TestCase
  test &quot;should not save user without name&quot; do
    user = User.new(email: &quot;test@example.com&quot;, password: &quot;password&quot;)
    assert_not user.save, &quot;Saved the user without a name&quot;
  end

  test &quot;should not save user with duplicate email&quot; do
    user1 = User.new(name: &quot;Test&quot;, email: &quot;test@example.com&quot;, password: &quot;password&quot;)
    user1.save
    user2 = User.new(name: &quot;Test2&quot;, email: &quot;test@example.com&quot;, password: &quot;password&quot;)
    assert_not user2.save, &quot;Saved the user with duplicate email&quot;
  end
end</pre></div><div class='content'></div><h1>Ejercicio Práctico</h1>
<div class='content'><p>Implementa una funcionalidad adicional en tu proyecto. Por ejemplo, permite que los usuarios puedan dar &quot;me gusta&quot; a los artículos.</p>
</div><h2>Pasos:</h2>
<div class='content'><ol>
<li>
<p><strong>Crear el Modelo de Like:</strong></p>
<pre><code class="language-ruby">rails generate model Like user:references article:references
rails db:migrate
</code></pre>
</li>
<li>
<p><strong>Actualizar el Modelo de Artículo:</strong></p>
<pre><code class="language-ruby">class Article &lt; ApplicationRecord
  has_many :likes, dependent: :destroy
end
</code></pre>
</li>
<li>
<p><strong>Actualizar el Modelo de Usuario:</strong></p>
<pre><code class="language-ruby">class User &lt; ApplicationRecord
  has_many :likes, dependent: :destroy
end
</code></pre>
</li>
<li>
<p><strong>Crear el Controlador de Likes:</strong></p>
<pre><code class="language-ruby">class LikesController &lt; ApplicationController
  def create
    @article = Article.find(params[:article_id])
    @like = @article.likes.build(user: current_user)
    if @like.save
      redirect_to @article, notice: 'Te ha gustado este artículo.'
    else
      redirect_to @article, alert: 'No se pudo dar me gusta al artículo.'
    end
  end

  def destroy
    @like = Like.find(params[:id])
    @like.destroy
    redirect_to @like.article, notice: 'Ya no te gusta este artículo.'
  end
end
</code></pre>
</li>
<li>
<p><strong>Actualizar las Vistas de Artículos para Mostrar y Gestionar Likes:</strong></p>
<pre><code class="language-erb">&lt;!-- En show.html.erb de Artículos --&gt;
&lt;p&gt;
  &lt;strong&gt;Likes:&lt;/strong&gt;
  &lt;%= @article.likes.count %&gt;
&lt;/p&gt;

&lt;% if current_user %&gt;
  &lt;% if @article.likes.exists?(user: current_user) %&gt;
    &lt;%= button_to 'Unlike', article_like_path(@article, @article.likes.find_by(user: current_user)), method: :delete %&gt;
  &lt;% else %&gt;
    &lt;%= button_to 'Like', article_likes_path(@article), method: :post %&gt;
  &lt;% end %&gt;
&lt;% end %&gt;
</code></pre>
</li>
</ol>
</div><h2>Solución:</h2>
<div class='content'><p>Revisa tu implementación y asegúrate de que:</p>
<ul>
<li>Los usuarios pueden dar y quitar &quot;me gusta&quot; a los artículos.</li>
<li>La cuenta de &quot;me gusta&quot; se actualiza correctamente.</li>
<li>Las pruebas cubren la nueva funcionalidad.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos cubierto cómo implementar funcionalidades clave en tu proyecto final. Desde la definición de requisitos hasta la implementación de modelos, controladores y vistas, y la adición de nuevas características como los &quot;me gusta&quot;. Asegúrate de seguir buenas prácticas y realizar pruebas exhaustivas para garantizar la calidad de tu aplicación. ¡Ahora estás listo para continuar con las pruebas y depuración en la siguiente sección!</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='09-02-setting-up-project' title="Configuración del Proyecto">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='09-04-testing-debugging' title="Pruebas y Depuración">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
