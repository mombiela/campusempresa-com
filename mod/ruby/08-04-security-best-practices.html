<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mejores Prácticas de Seguridad</title>

    <link rel="alternate" href="https://campusempresa.com/mod/ruby/08-04-security-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/ruby/08-04-security-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/ruby/08-04-security-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/ruby/08-04-security-best-practices" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/ruby/08-04-security-best-practices" class="px-2">CA</a>
<br>
			<cite>Construyendo la sociedad de hoy y del mañana</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Lenguajes de Programación</a>
				 					<a href="/categ/frameworks">Frameworks y Librerías</a>
				 					<a href="/categ/tech-tools">Herramientas Técnicas</a>
				 					<a href="/categ/foundations">Fundamentos Teóricos</a>
				 					<a href="/categ/soft-skills">Habilidades Sociales</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-03-performance-optimization' title="Optimización del Rendimiento">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Mejores Prácticas de Seguridad</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-01-project-overview' title="Descripción del Proyecto">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>La seguridad es un aspecto crucial en el desarrollo de software, especialmente en aplicaciones web. En este módulo, aprenderás las mejores prácticas de seguridad en Ruby para proteger tus aplicaciones contra vulnerabilidades comunes.</p>
</div><h1><p>Conceptos Clave</p>
</h1>
<div class='content'><ol>
<li><strong>Validación y Sanitización de Datos</strong></li>
<li><strong>Gestión de Autenticación y Autorización</strong></li>
<li><strong>Protección contra Inyección de Código</strong></li>
<li><strong>Manejo Seguro de Sesiones</strong></li>
<li><strong>Cifrado y Almacenamiento Seguro de Datos</strong></li>
<li><strong>Protección contra Ataques de Fuerza Bruta</strong></li>
<li><strong>Actualización y Mantenimiento de Dependencias</strong></li>
</ol>
</div><h1><ol>
<li>Validación y Sanitización de Datos</li>
</ol>
</h1>
<div class='content'></div><h2><p>Validación de Datos</p>
</h2>
<div class='content'><p>La validación de datos asegura que los datos ingresados por los usuarios cumplan con ciertos criterios antes de ser procesados.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVXNlcgogIGF0dHJfYWNjZXNzb3IgOmVtYWlsCgogIGRlZiBpbml0aWFsaXplKGVtYWlsKQogICAgc2VsZi5lbWFpbCA9IGVtYWlsCiAgZW5kCgogIGRlZiB2YWxpZF9lbWFpbD8KICAgICEhKGVtYWlsID1+IC9cQVtcdytcLS5dK0BbYS16XGRcLS5dK1wuW2Etel0rXHovaSkKICBlbmQKZW5kCgp1c2VyID0gVXNlci5uZXcoInRlc3RAZXhhbXBsZS5jb20iKQpwdXRzIHVzZXIudmFsaWRfZW1haWw/ICMgdHJ1ZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class User
  attr_accessor :email

  def initialize(email)
    self.email = email
  end

  def valid_email?
    !!(email =~ /\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/i)
  end
end

user = User.new(&quot;test@example.com&quot;)
puts user.valid_email? # true</pre></div><div class='content'></div><h2><p>Sanitización de Datos</p>
</h2>
<div class='content'><p>La sanitización de datos elimina o escapa caracteres peligrosos para prevenir ataques como XSS (Cross-Site Scripting).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVxdWlyZSAnY2dpJwoKdXNlcl9pbnB1dCA9ICI8c2NyaXB0PmFsZXJ0KCdYU1MnKTs8L3NjcmlwdD4iCnNhbml0aXplZF9pbnB1dCA9IENHSS5lc2NhcGVIVE1MKHVzZXJfaW5wdXQpCnB1dHMgc2FuaXRpemVkX2lucHV0ICMgJmx0O3NjcmlwdCZndDthbGVydCgmIzM5O1hTUyYjMzk7KTsmbHQ7L3NjcmlwdCZndDs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>require 'cgi'

user_input = &quot;&lt;script&gt;alert('XSS');&lt;/script&gt;&quot;
sanitized_input = CGI.escapeHTML(user_input)
puts sanitized_input # &amp;lt;script&amp;gt;alert(&amp;#39;XSS&amp;#39;);&amp;lt;/script&amp;gt;</pre></div><div class='content'></div><h1><ol start="2">
<li>Gestión de Autenticación y Autorización</li>
</ol>
</h1>
<div class='content'></div><h2><p>Autenticación</p>
</h2>
<div class='content'><p>La autenticación verifica la identidad del usuario. Utiliza gemas como <code>bcrypt</code> para almacenar contraseñas de manera segura.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVxdWlyZSAnYmNyeXB0JwoKcGFzc3dvcmQgPSBCQ3J5cHQ6OlBhc3N3b3JkLmNyZWF0ZSgibXlfc2VjcmV0X3Bhc3N3b3JkIikKcHV0cyBwYXNzd29yZCAjICQyYSQxMiQuLi4KCiMgVmVyaWZpY2FjacOzbgpzdG9yZWRfcGFzc3dvcmQgPSBCQ3J5cHQ6OlBhc3N3b3JkLm5ldyhwYXNzd29yZCkKcHV0cyBzdG9yZWRfcGFzc3dvcmQgPT0gIm15X3NlY3JldF9wYXNzd29yZCIgIyB0cnVl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>require 'bcrypt'

password = BCrypt::Password.create(&quot;my_secret_password&quot;)
puts password # $2a$12$...

# Verificaci&oacute;n
stored_password = BCrypt::Password.new(password)
puts stored_password == &quot;my_secret_password&quot; # true</pre></div><div class='content'></div><h2><p>Autorización</p>
</h2>
<div class='content'><p>La autorización controla el acceso a recursos y acciones dentro de la aplicación.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVXNlcgogIGF0dHJfYWNjZXNzb3IgOnJvbGUKCiAgZGVmIGluaXRpYWxpemUocm9sZSkKICAgIHNlbGYucm9sZSA9IHJvbGUKICBlbmQKCiAgZGVmIGFkbWluPwogICAgcm9sZSA9PSAnYWRtaW4nCiAgZW5kCmVuZAoKdXNlciA9IFVzZXIubmV3KCdhZG1pbicpCnB1dHMgdXNlci5hZG1pbj8gIyB0cnVl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class User
  attr_accessor :role

  def initialize(role)
    self.role = role
  end

  def admin?
    role == 'admin'
  end
end

user = User.new('admin')
puts user.admin? # true</pre></div><div class='content'></div><h1><ol start="3">
<li>Protección contra Inyección de Código</li>
</ol>
</h1>
<div class='content'></div><h2><p>Inyección SQL</p>
</h2>
<div class='content'><p>Utiliza consultas preparadas para prevenir inyecciones SQL.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVxdWlyZSAnc3FsaXRlMycKCmRiID0gU1FMaXRlMzo6RGF0YWJhc2UubmV3ICI6bWVtb3J5OiIKZGIuZXhlY3V0ZSAiQ1JFQVRFIFRBQkxFIHVzZXJzIChpZCBJTlRFR0VSIFBSSU1BUlkgS0VZLCBuYW1lIFRFWFQpIgoKbmFtZSA9ICJSb2JlcnQnKTsgRFJPUCBUQUJMRSB1c2VyczstLSIKZGIuZXhlY3V0ZSAiSU5TRVJUIElOVE8gdXNlcnMgKG5hbWUpIFZBTFVFUyAoPykiLCBbbmFtZV0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>require 'sqlite3'

db = SQLite3::Database.new &quot;:memory:&quot;
db.execute &quot;CREATE TABLE users (id INTEGER PRIMARY KEY, name TEXT)&quot;

name = &quot;Robert'); DROP TABLE users;--&quot;
db.execute &quot;INSERT INTO users (name) VALUES (?)&quot;, [name]</pre></div><div class='content'></div><h2><p>Inyección de Comandos</p>
</h2>
<div class='content'><p>Evita la ejecución de comandos del sistema con datos no confiables.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlcl9pbnB1dCA9ICJmaWxlLnR4dDsgcm0gLXJmIC8iCnN5c3RlbSgiY2F0ICN7U2hlbGx3b3Jkcy5lc2NhcGUodXNlcl9pbnB1dCl9Iik="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>user_input = &quot;file.txt; rm -rf /&quot;
system(&quot;cat #{Shellwords.escape(user_input)}&quot;)</pre></div><div class='content'></div><h1><ol start="4">
<li>Manejo Seguro de Sesiones</li>
</ol>
</h1>
<div class='content'></div><h2><p>Configuración de Cookies Seguras</p>
</h2>
<div class='content'><p>Configura las cookies para que sean seguras y solo accesibles a través de HTTPS.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFbiBSYWlscywgY29uZmlnL2luaXRpYWxpemVycy9zZXNzaW9uX3N0b3JlLnJiClJhaWxzLmFwcGxpY2F0aW9uLmNvbmZpZy5zZXNzaW9uX3N0b3JlIDpjb29raWVfc3RvcmUsIGtleTogJ195b3VyX2FwcF9zZXNzaW9uJywgc2VjdXJlOiBSYWlscy5lbnYucHJvZHVjdGlvbj8="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># En Rails, config/initializers/session_store.rb
Rails.application.config.session_store :cookie_store, key: '_your_app_session', secure: Rails.env.production?</pre></div><div class='content'></div><h1><ol start="5">
<li>Cifrado y Almacenamiento Seguro de Datos</li>
</ol>
</h1>
<div class='content'></div><h2><p>Cifrado de Datos</p>
</h2>
<div class='content'><p>Utiliza gemas como <code>openssl</code> para cifrar datos sensibles.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVxdWlyZSAnb3BlbnNzbCcKCmNpcGhlciA9IE9wZW5TU0w6OkNpcGhlci5uZXcoJ0FFUy0xMjgtQ0JDJykKY2lwaGVyLmVuY3J5cHQKa2V5ID0gY2lwaGVyLnJhbmRvbV9rZXkKaXYgPSBjaXBoZXIucmFuZG9tX2l2CgplbmNyeXB0ZWQgPSBjaXBoZXIudXBkYXRlKCdTZW5zaXRpdmUgRGF0YScpICsgY2lwaGVyLmZpbmFsCnB1dHMgZW5jcnlwdGVk"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>require 'openssl'

cipher = OpenSSL::Cipher.new('AES-128-CBC')
cipher.encrypt
key = cipher.random_key
iv = cipher.random_iv

encrypted = cipher.update('Sensitive Data') + cipher.final
puts encrypted</pre></div><div class='content'></div><h1><ol start="6">
<li>Protección contra Ataques de Fuerza Bruta</li>
</ol>
</h1>
<div class='content'></div><h2><p>Limitación de Intentos de Inicio de Sesión</p>
</h2>
<div class='content'><p>Implementa una lógica para limitar los intentos de inicio de sesión.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVXNlcgogIGF0dHJfYWNjZXNzb3IgOmxvZ2luX2F0dGVtcHRzCgogIGRlZiBpbml0aWFsaXplCiAgICBzZWxmLmxvZ2luX2F0dGVtcHRzID0gMAogIGVuZAoKICBkZWYgbG9naW4ocGFzc3dvcmQpCiAgICBpZiBsb2dpbl9hdHRlbXB0cyA+PSA1CiAgICAgIHB1dHMgIkFjY291bnQgbG9ja2VkLiBUb28gbWFueSBmYWlsZWQgYXR0ZW1wdHMuIgogICAgZWxzZQogICAgICAjIFZlcmlmaWNhciBjb250cmFzZcOxYQogICAgICBzZWxmLmxvZ2luX2F0dGVtcHRzICs9IDEKICAgIGVuZAogIGVuZAplbmQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class User
  attr_accessor :login_attempts

  def initialize
    self.login_attempts = 0
  end

  def login(password)
    if login_attempts &gt;= 5
      puts &quot;Account locked. Too many failed attempts.&quot;
    else
      # Verificar contrase&ntilde;a
      self.login_attempts += 1
    end
  end
end</pre></div><div class='content'></div><h1><ol start="7">
<li>Actualización y Mantenimiento de Dependencias</li>
</ol>
</h1>
<div class='content'></div><h2><p>Mantén las Dependencias Actualizadas</p>
</h2>
<div class='content'><p>Utiliza herramientas como <code>bundler-audit</code> para verificar vulnerabilidades en las gemas.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2VtIGluc3RhbGwgYnVuZGxlci1hdWRpdApidW5kbGVyLWF1ZGl0IGNoZWNrIC0tdXBkYXRl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gem install bundler-audit
bundler-audit check --update</pre></div><div class='content'></div><h1><p>Ejercicio Práctico</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Validación y Sanitización</p>
</h2>
<div class='content'><ol>
<li>Crea una clase <code>Comment</code> que tenga un atributo <code>content</code>.</li>
<li>Implementa un método <code>sanitize_content</code> que elimine cualquier etiqueta HTML del contenido.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ29tbWVudAogIGF0dHJfYWNjZXNzb3IgOmNvbnRlbnQKCiAgZGVmIGluaXRpYWxpemUoY29udGVudCkKICAgIHNlbGYuY29udGVudCA9IGNvbnRlbnQKICBlbmQKCiAgZGVmIHNhbml0aXplX2NvbnRlbnQKICAgIHNlbGYuY29udGVudCA9IENHSS5lc2NhcGVIVE1MKGNvbnRlbnQpCiAgZW5kCmVuZAoKY29tbWVudCA9IENvbW1lbnQubmV3KCI8c2NyaXB0PmFsZXJ0KCdYU1MnKTs8L3NjcmlwdD4iKQpjb21tZW50LnNhbml0aXplX2NvbnRlbnQKcHV0cyBjb21tZW50LmNvbnRlbnQgIyAmbHQ7c2NyaXB0Jmd0O2FsZXJ0KCYjMzk7WFNTJiMzOTspOyZsdDsvc2NyaXB0Jmd0Ow=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Comment
  attr_accessor :content

  def initialize(content)
    self.content = content
  end

  def sanitize_content
    self.content = CGI.escapeHTML(content)
  end
end

comment = Comment.new(&quot;&lt;script&gt;alert('XSS');&lt;/script&gt;&quot;)
comment.sanitize_content
puts comment.content # &amp;lt;script&amp;gt;alert(&amp;#39;XSS&amp;#39;);&amp;lt;/script&amp;gt;</pre></div><div class='content'></div><h2><p>Ejercicio 2: Autenticación y Autorización</p>
</h2>
<div class='content'><ol>
<li>Crea una clase <code>Admin</code> que herede de <code>User</code>.</li>
<li>Implementa un método <code>admin?</code> que retorne <code>true</code> si el usuario es un administrador.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgVXNlcgogIGF0dHJfYWNjZXNzb3IgOnJvbGUKCiAgZGVmIGluaXRpYWxpemUocm9sZSkKICAgIHNlbGYucm9sZSA9IHJvbGUKICBlbmQKCiAgZGVmIGFkbWluPwogICAgcm9sZSA9PSAnYWRtaW4nCiAgZW5kCmVuZAoKY2xhc3MgQWRtaW4gPCBVc2VyCiAgZGVmIGluaXRpYWxpemUKICAgIHN1cGVyKCdhZG1pbicpCiAgZW5kCmVuZAoKYWRtaW4gPSBBZG1pbi5uZXcKcHV0cyBhZG1pbi5hZG1pbj8gIyB0cnVl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class User
  attr_accessor :role

  def initialize(role)
    self.role = role
  end

  def admin?
    role == 'admin'
  end
end

class Admin &lt; User
  def initialize
    super('admin')
  end
end

admin = Admin.new
puts admin.admin? # true</pre></div><div class='content'></div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En esta sección, hemos cubierto las mejores prácticas de seguridad en Ruby, incluyendo la validación y sanitización de datos, la gestión de autenticación y autorización, la protección contra inyección de código, el manejo seguro de sesiones, el cifrado y almacenamiento seguro de datos, la protección contra ataques de fuerza bruta y la actualización y mantenimiento de dependencias. Estas prácticas son esenciales para construir aplicaciones seguras y robustas. Asegúrate de aplicarlas en tus proyectos para proteger tus aplicaciones y los datos de tus usuarios.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-03-performance-optimization' title="Optimización del Rendimiento">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='09-01-project-overview' title="Descripción del Proyecto">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicidad</h1>
<p>Este espacio está destinado a publicidad.</p>
<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>¡Gracias por colaborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
