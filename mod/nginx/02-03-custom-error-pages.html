<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Páginas de Error Personalizadas</title>

    <link rel="alternate" href="https://campusempresa.com/mod/nginx/02-03-custom-error-pages" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/nginx/02-03-custom-error-pages" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/nginx/02-03-custom-error-pages" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>var DEVELOP = window.location.href.indexOf("localhost")!=-1 && true;</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/nginx/02-03-custom-error-pages" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/nginx/02-03-custom-error-pages" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Todo el conocimiento a tu alcance</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>
		<!-- <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contenido del curso
	</a>

			</div>
		</div>
	</div>
</div>
 -->
 
<div class="top-bar container-fluid">
	<div class="container-xxl">
		<nav class="navbar navbar-expand-md p-0">
			<div class="container-fluid">
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarNav">
					<div class="navbar-nav me-auto">
							<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contenido del curso
	</a>

					</div>
				</div>			
							</div>
		</nav>
	</div>
</div>				<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-02-directory-listings' title="Listados de Directorios">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<h2 style="text-decoration:underline">Páginas de Error Personalizadas</h2>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-04-logging-log-formats' title="Registro y Formatos de Registro">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En este tema, aprenderemos cómo configurar páginas de error personalizadas en NGINX. Las páginas de error personalizadas son útiles para proporcionar una mejor experiencia de usuario cuando ocurren errores en el servidor, como el famoso &quot;404 Not Found&quot; o &quot;500 Internal Server Error&quot;.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ol>
<li><strong>Códigos de Estado HTTP</strong>: Son códigos de respuesta estándar dados por los servidores web en respuesta a una solicitud del cliente. Ejemplos comunes incluyen 404, 500, 502, etc.</li>
<li><strong>Directiva <code>error_page</code></strong>: Es la directiva de configuración en NGINX que se utiliza para definir páginas de error personalizadas.</li>
</ol>
</div><h1>Configuración de Páginas de Error Personalizadas</h1>
<div class='content'></div><h2>Paso 1: Crear las Páginas de Error Personalizadas</h2>
<div class='content'><p>Primero, necesitamos crear las páginas HTML que se mostrarán cuando ocurra un error. Por ejemplo, podemos crear una página <code>404.html</code> y una <code>500.html</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSAvdXNyL3NoYXJlL25naW54L2h0bWwvNDA0Lmh0bWwgLS0+CjwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJlbiI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPHRpdGxlPjQwNCBOb3QgRm91bmQ8L3RpdGxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGgxPjQwNCBOb3QgRm91bmQ8L2gxPgogICAgPHA+TG8gc2VudGltb3MsIGxhIHDDoWdpbmEgcXVlIGVzdMOhcyBidXNjYW5kbyBubyBzZSBwdWRvIGVuY29udHJhci48L3A+CjwvYm9keT4KPC9odG1sPg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- /usr/share/nginx/html/404.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;404 Not Found&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;404 Not Found&lt;/h1&gt;
    &lt;p&gt;Lo sentimos, la p&aacute;gina que est&aacute;s buscando no se pudo encontrar.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSAvdXNyL3NoYXJlL25naW54L2h0bWwvNTAwLmh0bWwgLS0+CjwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJlbiI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPHRpdGxlPjUwMCBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3I8L3RpdGxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGgxPjUwMCBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3I8L2gxPgogICAgPHA+TG8gc2VudGltb3MsIGFsZ28gc2FsacOzIG1hbCBlbiBudWVzdHJvIHNlcnZpZG9yLjwvcD4KPC9ib2R5Pgo8L2h0bWw+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- /usr/share/nginx/html/500.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;500 Internal Server Error&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;500 Internal Server Error&lt;/h1&gt;
    &lt;p&gt;Lo sentimos, algo sali&oacute; mal en nuestro servidor.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Paso 2: Configurar NGINX para Usar las Páginas de Error Personalizadas</h2>
<div class='content'><p>Edita el archivo de configuración de NGINX, generalmente ubicado en <code>/etc/nginx/nginx.conf</code> o en un archivo de configuración de sitio específico en <code>/etc/nginx/sites-available/</code>.</p>
<p>Añade las siguientes directivas dentro del bloque <code>server</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyIHsKICAgIGxpc3RlbiA4MDsKICAgIHNlcnZlcl9uYW1lIHR1X2RvbWluaW8uY29tOwoKICAgICMgT3RyYXMgY29uZmlndXJhY2lvbmVzLi4uCgogICAgIyBDb25maWd1cmFjacOzbiBkZSBww6FnaW5hcyBkZSBlcnJvciBwZXJzb25hbGl6YWRhcwogICAgZXJyb3JfcGFnZSA0MDQgLzQwNC5odG1sOwogICAgbG9jYXRpb24gPSAvNDA0Lmh0bWwgewogICAgICAgIHJvb3QgL3Vzci9zaGFyZS9uZ2lueC9odG1sOwogICAgICAgIGludGVybmFsOwogICAgfQoKICAgIGVycm9yX3BhZ2UgNTAwIDUwMiA1MDMgNTA0IC81MDAuaHRtbDsKICAgIGxvY2F0aW9uID0gLzUwMC5odG1sIHsKICAgICAgICByb290IC91c3Ivc2hhcmUvbmdpbngvaHRtbDsKICAgICAgICBpbnRlcm5hbDsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server {
    listen 80;
    server_name tu_dominio.com;

    # Otras configuraciones...

    # Configuraci&oacute;n de p&aacute;ginas de error personalizadas
    error_page 404 /404.html;
    location = /404.html {
        root /usr/share/nginx/html;
        internal;
    }

    error_page 500 502 503 504 /500.html;
    location = /500.html {
        root /usr/share/nginx/html;
        internal;
    }
}</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ul>
<li><strong><code>error_page 404 /404.html;</code></strong>: Esta directiva le dice a NGINX que use la página <code>404.html</code> cuando ocurra un error 404.</li>
<li><strong><code>location = /404.html { ... }</code></strong>: Este bloque de configuración define cómo servir la página <code>404.html</code>. La directiva <code>root</code> especifica el directorio donde se encuentra la página. La directiva <code>internal</code> asegura que la página de error no sea accesible directamente desde el exterior.</li>
<li><strong><code>error_page 500 502 503 504 /500.html;</code></strong>: Similar a la configuración anterior, pero para errores 500, 502, 503 y 504.</li>
</ul>
</div><h2>Paso 3: Recargar la Configuración de NGINX</h2>
<div class='content'><p>Después de realizar los cambios en el archivo de configuración, recarga NGINX para aplicar los cambios:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBuZ2lueCAtcyByZWxvYWQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo nginx -s reload</pre></div><div class='content'></div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Configurar una Página de Error 403 Personalizada</h2>
<div class='content'><ol>
<li>Crea una página <code>403.html</code> en el directorio <code>/usr/share/nginx/html</code> con el siguiente contenido:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+NDAzIEZvcmJpZGRlbjwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8aDE+NDAzIEZvcmJpZGRlbjwvaDE+CiAgICA8cD5ObyB0aWVuZXMgcGVybWlzbyBwYXJhIGFjY2VkZXIgYSBlc3RlIHJlY3Vyc28uPC9wPgo8L2JvZHk+CjwvaHRtbD4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;403 Forbidden&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;403 Forbidden&lt;/h1&gt;
    &lt;p&gt;No tienes permiso para acceder a este recurso.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'><ol start="2">
<li>Edita el archivo de configuración de NGINX para incluir la página de error 403:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VydmVyIHsKICAgIGxpc3RlbiA4MDsKICAgIHNlcnZlcl9uYW1lIHR1X2RvbWluaW8uY29tOwoKICAgICMgT3RyYXMgY29uZmlndXJhY2lvbmVzLi4uCgogICAgIyBDb25maWd1cmFjacOzbiBkZSBww6FnaW5hIGRlIGVycm9yIDQwMyBwZXJzb25hbGl6YWRhCiAgICBlcnJvcl9wYWdlIDQwMyAvNDAzLmh0bWw7CiAgICBsb2NhdGlvbiA9IC80MDMuaHRtbCB7CiAgICAgICAgcm9vdCAvdXNyL3NoYXJlL25naW54L2h0bWw7CiAgICAgICAgaW50ZXJuYWw7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>server {
    listen 80;
    server_name tu_dominio.com;

    # Otras configuraciones...

    # Configuraci&oacute;n de p&aacute;gina de error 403 personalizada
    error_page 403 /403.html;
    location = /403.html {
        root /usr/share/nginx/html;
        internal;
    }
}</pre></div><div class='content'><ol start="3">
<li>Recarga la configuración de NGINX:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBuZ2lueCAtcyByZWxvYWQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo nginx -s reload</pre></div><div class='content'></div><h2>Solución</h2>
<div class='content'><p>Si has seguido los pasos correctamente, ahora deberías tener una página de error 403 personalizada que se muestra cuando se produce un error 403.</p>
</div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos aprendido cómo configurar páginas de error personalizadas en NGINX. Esto no solo mejora la experiencia del usuario, sino que también puede proporcionar información útil y enlaces de navegación cuando algo sale mal. En el próximo tema, exploraremos cómo registrar y formatear los registros en NGINX para un mejor monitoreo y análisis.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-02-directory-listings' title="Listados de Directorios">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='02-04-logging-log-formats' title="Registro y Formatos de Registro">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
	     crossorigin="anonymous"></script>
	<!-- enterprise_campus -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-0611338592562725"
	     data-ad-slot="6914733106"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
	     (adsbygoogle = window.adsbygoogle || []).push({});
	</script>
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curso de NGINX</h1>
<h2>Módulo 1: Introducción a NGINX</h2>
<ul>
<li><a href="01-01-what-is-nginx">¿Qué es NGINX?</a></li>
<li><a href="01-02-installing-nginx">Instalando NGINX</a></li>
<li><a href="01-03-basic-nginx-configuration">Configuración Básica de NGINX</a></li>
<li><a href="01-04-starting-stopping-nginx">Iniciando y Deteniendo NGINX</a></li>
</ul>
<h2>Módulo 2: NGINX como Servidor Web</h2>
<ul>
<li><a href="02-01-serving-static-content">Sirviendo Contenido Estático</a></li>
<li><a href="02-02-directory-listings">Listados de Directorios</a></li>
<li><a href="02-03-custom-error-pages">Páginas de Error Personalizadas</a></li>
<li><a href="02-04-logging-log-formats">Registro y Formatos de Registro</a></li>
</ul>
<h2>Módulo 3: NGINX como Proxy Inverso</h2>
<ul>
<li><a href="03-01-introduction-reverse-proxy">Introducción al Proxy Inverso</a></li>
<li><a href="03-02-configuring-reverse-proxy">Configurando un Proxy Inverso</a></li>
<li><a href="03-03-load-balancing">Balanceo de Carga</a></li>
<li><a href="03-04-health-checks">Verificaciones de Salud</a></li>
</ul>
<h2>Módulo 4: Seguridad y Optimización</h2>
<ul>
<li><a href="04-01-basic-security-practices">Prácticas Básicas de Seguridad</a></li>
<li><a href="04-02-rate-limiting">Limitación de Tasa</a></li>
<li><a href="04-03-ssl-tls-configuration">Configuración SSL/TLS</a></li>
<li><a href="04-04-caching">Caché</a></li>
</ul>
<h2>Módulo 5: Funciones Avanzadas de NGINX</h2>
<ul>
<li><a href="05-01-nginx-modules">Módulos de NGINX</a></li>
<li><a href="05-02-using-nginx-docker">Usando NGINX con Docker</a></li>
<li><a href="05-03-nginx-http2">NGINX y HTTP/2</a></li>
<li><a href="05-04-nginx-grpc">NGINX y gRPC</a></li>
</ul>
<h2>Módulo 6: Monitoreo y Solución de Problemas</h2>
<ul>
<li><a href="06-01-monitoring-nginx">Monitoreando NGINX</a></li>
<li><a href="06-02-common-issues-solutions">Problemas Comunes y Soluciones</a></li>
<li><a href="06-03-performance-tuning">Ajuste de Rendimiento</a></li>
<li><a href="06-04-debugging-nginx">Depuración de NGINX</a></li>
</ul>
<h2>Módulo 7: NGINX Plus</h2>
<ul>
<li><a href="07-01-introduction-nginx-plus">Introducción a NGINX Plus</a></li>
<li><a href="07-02-advanced-load-balancing">Balanceo de Carga Avanzado</a></li>
<li><a href="07-03-application-health-monitoring">Monitoreo de Salud de Aplicaciones</a></li>
<li><a href="07-04-dynamic-configuration">Configuración Dinámica</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>
