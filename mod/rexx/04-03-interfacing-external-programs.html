<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interfaz con Programas Externos</title>

    <link rel="alternate" href="https://campusempresa.com/mod/rexx/04-03-interfacing-external-programs" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/rexx/04-03-interfacing-external-programs" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/rexx/04-03-interfacing-external-programs" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/rexx/04-03-interfacing-external-programs" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/rexx/04-03-interfacing-external-programs" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-parsing-techniques' title="Técnicas de Análisis">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Interfaz con Programas Externos</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-rexx-macros' title="Macros en REXX">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En este módulo, aprenderemos cómo REXX puede interactuar con programas externos. Esta capacidad es crucial para ampliar las funcionalidades de nuestros scripts y permitir la integración con otros sistemas y aplicaciones.</p>
</div><h1>Objetivos del Módulo</h1>
<div class='content'><ul>
<li>Comprender cómo ejecutar programas externos desde un script REXX.</li>
<li>Aprender a capturar la salida de programas externos.</li>
<li>Manejar errores y excepciones al interactuar con programas externos.</li>
</ul>
</div><h1>1. Ejecución de Programas Externos</h1>
<div class='content'></div><h2>1.1. Uso del Comando `ADDRESS`</h2>
<div class='content'><p>En REXX, el comando <code>ADDRESS</code> se utiliza para cambiar el entorno de comando y ejecutar programas externos. La sintaxis básica es:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QUREUkVTUyBbZW50b3Jub10gW2NvbWFuZG9d"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ADDRESS [entorno] [comando]</pre></div><div class='content'></div><h2>Ejemplo Práctico</h2>
<div class='content'><p>Supongamos que queremos ejecutar un comando del sistema operativo, como <code>dir</code> en Windows o <code>ls</code> en Unix/Linux, desde un script REXX.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogU2NyaXB0IFJFWFggcGFyYSBlamVjdXRhciB1biBjb21hbmRvIGV4dGVybm8gKi8Kc2F5ICJFamVjdXRhbmRvIGNvbWFuZG8gZXh0ZXJuby4uLiIKCi8qIENhbWJpYXIgYWwgZW50b3JubyBkZSBjb21hbmRvcyBkZWwgc2lzdGVtYSAqLwpBRERSRVNTIFNZU1RFTSAiZGlyIiAvKiBFbiBXaW5kb3dzICovCi0tIG8gLS0KQUREUkVTUyBTWVNURU0gImxzIiAgLyogRW4gVW5peC9MaW51eCAqLwoKc2F5ICJDb21hbmRvIGVqZWN1dGFkby4i"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Script REXX para ejecutar un comando externo */
say &quot;Ejecutando comando externo...&quot;

/* Cambiar al entorno de comandos del sistema */
ADDRESS SYSTEM &quot;dir&quot; /* En Windows */
-- o --
ADDRESS SYSTEM &quot;ls&quot;  /* En Unix/Linux */

say &quot;Comando ejecutado.&quot;</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ul>
<li><code>ADDRESS SYSTEM &quot;dir&quot;</code>: Cambia el entorno de comandos a <code>SYSTEM</code> y ejecuta el comando <code>dir</code> (lista los archivos y directorios en Windows).</li>
<li><code>ADDRESS SYSTEM &quot;ls&quot;</code>: Cambia el entorno de comandos a <code>SYSTEM</code> y ejecuta el comando <code>ls</code> (lista los archivos y directorios en Unix/Linux).</li>
</ul>
</div><h1>2. Captura de la Salida de Programas Externos</h1>
<div class='content'><p>Para capturar la salida de un programa externo, podemos redirigir la salida a un archivo y luego leer ese archivo desde nuestro script REXX.</p>
</div><h2>Ejemplo Práctico</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogU2NyaXB0IFJFWFggcGFyYSBjYXB0dXJhciBsYSBzYWxpZGEgZGUgdW4gY29tYW5kbyBleHRlcm5vICovCnNheSAiQ2FwdHVyYW5kbyBzYWxpZGEgZGUgY29tYW5kbyBleHRlcm5vLi4uIgoKQUREUkVTUyBTWVNURU0gImRpciA+IG91dHB1dC50eHQiIC8qIEVuIFdpbmRvd3MgKi8KLS0gbyAtLQpBRERSRVNTIFNZU1RFTSAibHMgPiBvdXRwdXQudHh0IiAgLyogRW4gVW5peC9MaW51eCAqLwoKLyogTGVlciBlbCBhcmNoaXZvIGRlIHNhbGlkYSAqLwpvdXRwdXQgPSAiIgpETyBXSElMRSBMSU5FUygnb3V0cHV0LnR4dCcpID4gMAogICAgb3V0cHV0ID0gb3V0cHV0IHx8IExJTkVJTignb3V0cHV0LnR4dCcpIHx8ICIgIgpFTkQKCnNheSAiU2FsaWRhIGRlbCBjb21hbmRvOiIKc2F5IG91dHB1dAoKLyogTGltcGlhciBlbCBhcmNoaXZvIGRlIHNhbGlkYSAqLwpDQUxMIExJTkVPVVQgJ291dHB1dC50eHQnLCAnJw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Script REXX para capturar la salida de un comando externo */
say &quot;Capturando salida de comando externo...&quot;

ADDRESS SYSTEM &quot;dir &gt; output.txt&quot; /* En Windows */
-- o --
ADDRESS SYSTEM &quot;ls &gt; output.txt&quot;  /* En Unix/Linux */

/* Leer el archivo de salida */
output = &quot;&quot;
DO WHILE LINES('output.txt') &gt; 0
    output = output || LINEIN('output.txt') || &quot; &quot;
END

say &quot;Salida del comando:&quot;
say output

/* Limpiar el archivo de salida */
CALL LINEOUT 'output.txt', ''</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ul>
<li><code>ADDRESS SYSTEM &quot;dir &gt; output.txt&quot;</code>: Ejecuta el comando <code>dir</code> y redirige la salida al archivo <code>output.txt</code>.</li>
<li><code>DO WHILE LINES('output.txt') &gt; 0</code>: Lee cada línea del archivo <code>output.txt</code> hasta que no queden más líneas.</li>
<li><code>output = output || LINEIN('output.txt') || &quot; &quot;</code>: Concatenar cada línea leída a la variable <code>output</code>.</li>
<li><code>CALL LINEOUT 'output.txt', ''</code>: Limpia el contenido del archivo <code>output.txt</code>.</li>
</ul>
</div><h1>3. Manejo de Errores</h1>
<div class='content'><p>Es importante manejar posibles errores al interactuar con programas externos. Podemos utilizar la función <code>RC</code> (Return Code) para verificar el estado de la ejecución del comando.</p>
</div><h2>Ejemplo Práctico</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogU2NyaXB0IFJFWFggY29uIG1hbmVqbyBkZSBlcnJvcmVzICovCnNheSAiRWplY3V0YW5kbyBjb21hbmRvIGV4dGVybm8gY29uIG1hbmVqbyBkZSBlcnJvcmVzLi4uIgoKQUREUkVTUyBTWVNURU0gImRpciA+IG91dHB1dC50eHQiIC8qIEVuIFdpbmRvd3MgKi8KLS0gbyAtLQpBRERSRVNTIFNZU1RFTSAibHMgPiBvdXRwdXQudHh0IiAgLyogRW4gVW5peC9MaW51eCAqLwoKSUYgUkMgXD0gMCBUSEVOIERPCiAgICBzYXkgIkVycm9yIGFsIGVqZWN1dGFyIGVsIGNvbWFuZG8uIEPDs2RpZ28gZGUgcmV0b3JubzoiIFJDCiAgICBFWElUIFJDCkVORAoKLyogTGVlciBlbCBhcmNoaXZvIGRlIHNhbGlkYSAqLwpvdXRwdXQgPSAiIgpETyBXSElMRSBMSU5FUygnb3V0cHV0LnR4dCcpID4gMAogICAgb3V0cHV0ID0gb3V0cHV0IHx8IExJTkVJTignb3V0cHV0LnR4dCcpIHx8ICIgIgpFTkQKCnNheSAiU2FsaWRhIGRlbCBjb21hbmRvOiIKc2F5IG91dHB1dAoKLyogTGltcGlhciBlbCBhcmNoaXZvIGRlIHNhbGlkYSAqLwpDQUxMIExJTkVPVVQgJ291dHB1dC50eHQnLCAnJw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Script REXX con manejo de errores */
say &quot;Ejecutando comando externo con manejo de errores...&quot;

ADDRESS SYSTEM &quot;dir &gt; output.txt&quot; /* En Windows */
-- o --
ADDRESS SYSTEM &quot;ls &gt; output.txt&quot;  /* En Unix/Linux */

IF RC \= 0 THEN DO
    say &quot;Error al ejecutar el comando. C&oacute;digo de retorno:&quot; RC
    EXIT RC
END

/* Leer el archivo de salida */
output = &quot;&quot;
DO WHILE LINES('output.txt') &gt; 0
    output = output || LINEIN('output.txt') || &quot; &quot;
END

say &quot;Salida del comando:&quot;
say output

/* Limpiar el archivo de salida */
CALL LINEOUT 'output.txt', ''</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ul>
<li><code>IF RC \= 0 THEN DO</code>: Verifica si el código de retorno <code>RC</code> es diferente de 0, lo que indica un error.</li>
<li><code>say &quot;Error al ejecutar el comando. Código de retorno:&quot; RC</code>: Muestra un mensaje de error con el código de retorno.</li>
<li><code>EXIT RC</code>: Termina el script con el código de retorno del error.</li>
</ul>
</div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Ejecutar y Capturar la Salida de un Comando Externo</h2>
<div class='content'><ol>
<li>Escribe un script REXX que ejecute el comando <code>ping</code> a una dirección IP (por ejemplo, <code>8.8.8.8</code>) y capture la salida en un archivo.</li>
<li>Lee el archivo y muestra la salida en la consola.</li>
<li>Maneja posibles errores durante la ejecución del comando.</li>
</ol>
</div><h2>Solución</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogU2NyaXB0IFJFWFggcGFyYSBlamVjdXRhciB5IGNhcHR1cmFyIGxhIHNhbGlkYSBkZSB1biBjb21hbmRvIHBpbmcgKi8Kc2F5ICJFamVjdXRhbmRvIGNvbWFuZG8gcGluZy4uLiIKCkFERFJFU1MgU1lTVEVNICJwaW5nIDguOC44LjggPiBwaW5nX291dHB1dC50eHQiCgpJRiBSQyBcPSAwIFRIRU4gRE8KICAgIHNheSAiRXJyb3IgYWwgZWplY3V0YXIgZWwgY29tYW5kbyBwaW5nLiBDw7NkaWdvIGRlIHJldG9ybm86IiBSQwogICAgRVhJVCBSQwpFTkQKCi8qIExlZXIgZWwgYXJjaGl2byBkZSBzYWxpZGEgKi8Kb3V0cHV0ID0gIiIKRE8gV0hJTEUgTElORVMoJ3Bpbmdfb3V0cHV0LnR4dCcpID4gMAogICAgb3V0cHV0ID0gb3V0cHV0IHx8IExJTkVJTigncGluZ19vdXRwdXQudHh0JykgfHwgIiAiCkVORAoKc2F5ICJTYWxpZGEgZGVsIGNvbWFuZG8gcGluZzoiCnNheSBvdXRwdXQKCi8qIExpbXBpYXIgZWwgYXJjaGl2byBkZSBzYWxpZGEgKi8KQ0FMTCBMSU5FT1VUICdwaW5nX291dHB1dC50eHQnLCAnJw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Script REXX para ejecutar y capturar la salida de un comando ping */
say &quot;Ejecutando comando ping...&quot;

ADDRESS SYSTEM &quot;ping 8.8.8.8 &gt; ping_output.txt&quot;

IF RC \= 0 THEN DO
    say &quot;Error al ejecutar el comando ping. C&oacute;digo de retorno:&quot; RC
    EXIT RC
END

/* Leer el archivo de salida */
output = &quot;&quot;
DO WHILE LINES('ping_output.txt') &gt; 0
    output = output || LINEIN('ping_output.txt') || &quot; &quot;
END

say &quot;Salida del comando ping:&quot;
say output

/* Limpiar el archivo de salida */
CALL LINEOUT 'ping_output.txt', ''</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ul>
<li><code>ADDRESS SYSTEM &quot;ping 8.8.8.8 &gt; ping_output.txt&quot;</code>: Ejecuta el comando <code>ping</code> y redirige la salida al archivo <code>ping_output.txt</code>.</li>
<li><code>IF RC \= 0 THEN DO</code>: Verifica si hubo un error al ejecutar el comando.</li>
<li><code>DO WHILE LINES('ping_output.txt') &gt; 0</code>: Lee cada línea del archivo <code>ping_output.txt</code> y la concatena a la variable <code>output</code>.</li>
<li><code>say output</code>: Muestra la salida del comando <code>ping</code>.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>En este módulo, hemos aprendido cómo REXX puede interactuar con programas externos utilizando el comando <code>ADDRESS</code>. Hemos visto cómo ejecutar comandos del sistema, capturar su salida y manejar errores. Estas habilidades son esenciales para ampliar las capacidades de nuestros scripts REXX y permitir la integración con otros sistemas y aplicaciones.</p>
<p>En el próximo módulo, exploraremos la manipulación avanzada de cadenas en REXX, lo que nos permitirá trabajar con datos de texto de manera más eficiente y efectiva.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-parsing-techniques' title="Técnicas de Análisis">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-rexx-macros' title="Macros en REXX">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
