<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Procesamiento de Archivos Indexados</title>

    <link rel="alternate" href="https://campusempresa.com/mod/cobol/04-03-indexed-file-processing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/cobol/04-03-indexed-file-processing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/cobol/04-03-indexed-file-processing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/cobol/04-03-indexed-file-processing" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/cobol/04-03-indexed-file-processing" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-sequential-file-processing' title="Procesamiento de Archivos Secuenciales">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Procesamiento de Archivos Indexados</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-relative-file-processing' title="Procesamiento de Archivos Relativos">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='index'><p>En este tema, aprenderemos sobre el procesamiento de archivos indexados en COBOL. Los archivos indexados son una estructura de datos que permite el acceso rápido a registros mediante el uso de índices. Este tipo de archivo es muy útil cuando se necesita buscar, insertar o eliminar registros de manera eficiente.</p>
</div><h2>Conceptos Clave</h2>
<div class='index'><ol>
<li><strong>Archivos Indexados</strong>: Archivos que utilizan índices para permitir el acceso rápido a los registros.</li>
<li><strong>Llave Primaria</strong>: Un campo o conjunto de campos que identifican de manera única un registro en el archivo.</li>
<li><strong>Llave Alternativa</strong>: Campos adicionales que pueden ser utilizados para acceder a los registros.</li>
<li><strong>Acceso Secuencial y Aleatorio</strong>: Métodos para leer registros en orden o directamente mediante una llave.</li>
</ol>
</div><h2>Estructura de un Archivo Indexado en COBOL</h2>
<div class='index'><p>Un archivo indexado en COBOL se define en la <strong>DIVISION DATA</strong> y se maneja en la <strong>DIVISION PROCEDURE</strong>. A continuación, se muestra un ejemplo básico de cómo definir y utilizar un archivo indexado.</p>
</div><h2>Definición del Archivo</h2>
<div class='index'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIEluZGV4ZWRGaWxlRXhhbXBsZS4KCkVOVklST05NRU5UIERJVklTSU9OLgpJTlBVVC1PVVRQVVQgU0VDVElPTi4KRklMRS1DT05UUk9MLgogICAgU0VMRUNUIEVtcGxveWVlRmlsZSBBU1NJR04gVE8gJ2VtcGxveWVlLmRhdCcKICAgICAgICBPUkdBTklaQVRJT04gSVMgSU5ERVhFRAogICAgICAgIEFDQ0VTUyBNT0RFIElTIFJBTkRPTQogICAgICAgIFJFQ09SRCBLRVkgSVMgRW1wbG95ZWVJRAogICAgICAgIEZJTEUgU1RBVFVTIElTIEZpbGVTdGF0dXMuCgpEQVRBIERJVklTSU9OLgpGSUxFIFNFQ1RJT04uCkZEIEVtcGxveWVlRmlsZS4KMDEgRW1wbG95ZWVSZWNvcmQuCiAgIDA1IEVtcGxveWVlSUQgICAgICAgUElDIFgoNSkuCiAgIDA1IEVtcGxveWVlTmFtZSAgICAgUElDIFgoMjApLgogICAwNSBFbXBsb3llZVBvc2l0aW9uIFBJQyBYKDE1KS4KCldPUktJTkctU1RPUkFHRSBTRUNUSU9OLgowMSBGaWxlU3RhdHVzICAgICAgICAgIFBJQyBYWC4KMDEgV1MtRW1wbG95ZWVJRCAgICAgICBQSUMgWCg1KS4KMDEgV1MtRW1wbG95ZWVOYW1lICAgICBQSUMgWCgyMCkuCjAxIFdTLUVtcGxveWVlUG9zaXRpb24gUElDIFgoMTUpLgoKUFJPQ0VEVVJFIERJVklTSU9OLgogICAgT1BFTiBPVVRQVVQgRW1wbG95ZWVGaWxlCiAgICBNT1ZFICcwMDAwMScgVE8gRW1wbG95ZWVJRAogICAgTU9WRSAnSm9obiBEb2UnIFRPIEVtcGxveWVlTmFtZQogICAgTU9WRSAnTWFuYWdlcicgVE8gRW1wbG95ZWVQb3NpdGlvbgogICAgV1JJVEUgRW1wbG95ZWVSZWNvcmQKICAgIENMT1NFIEVtcGxveWVlRmlsZQogICAgU1RPUCBSVU4u"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. IndexedFileExample.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT EmployeeFile ASSIGN TO 'employee.dat'
        ORGANIZATION IS INDEXED
        ACCESS MODE IS RANDOM
        RECORD KEY IS EmployeeID
        FILE STATUS IS FileStatus.

DATA DIVISION.
FILE SECTION.
FD EmployeeFile.
01 EmployeeRecord.
   05 EmployeeID       PIC X(5).
   05 EmployeeName     PIC X(20).
   05 EmployeePosition PIC X(15).

WORKING-STORAGE SECTION.
01 FileStatus          PIC XX.
01 WS-EmployeeID       PIC X(5).
01 WS-EmployeeName     PIC X(20).
01 WS-EmployeePosition PIC X(15).

PROCEDURE DIVISION.
    OPEN OUTPUT EmployeeFile
    MOVE '00001' TO EmployeeID
    MOVE 'John Doe' TO EmployeeName
    MOVE 'Manager' TO EmployeePosition
    WRITE EmployeeRecord
    CLOSE EmployeeFile
    STOP RUN.</pre></div><div class='index'></div><h2>Explicación del Código</h2>
<div class='index'><ol>
<li><strong>IDENTIFICATION DIVISION</strong>: Define el nombre del programa.</li>
<li><strong>ENVIRONMENT DIVISION</strong>: Define el archivo y sus propiedades.
<ul>
<li><code>SELECT EmployeeFile ASSIGN TO 'employee.dat'</code>: Asigna el archivo físico.</li>
<li><code>ORGANIZATION IS INDEXED</code>: Especifica que el archivo es indexado.</li>
<li><code>ACCESS MODE IS RANDOM</code>: Define el modo de acceso (puede ser SEQUENTIAL, RANDOM o DYNAMIC).</li>
<li><code>RECORD KEY IS EmployeeID</code>: Define la llave primaria.</li>
<li><code>FILE STATUS IS FileStatus</code>: Variable para almacenar el estado del archivo.</li>
</ul>
</li>
<li><strong>DATA DIVISION</strong>: Define la estructura del archivo y las variables de trabajo.</li>
<li><strong>PROCEDURE DIVISION</strong>: Contiene las operaciones de apertura, escritura y cierre del archivo.</li>
</ol>
</div><h2>Operaciones Básicas</h2>
<div class='index'><h4>Lectura de un Registro</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPQ0VEVVJFIERJVklTSU9OLgogICAgT1BFTiBJLU8gRW1wbG95ZWVGaWxlCiAgICBNT1ZFICcwMDAwMScgVE8gRW1wbG95ZWVJRAogICAgUkVBRCBFbXBsb3llZUZpbGUKICAgICAgICBJTlZBTElEIEtFWSBESVNQTEFZICdSZWNvcmQgbm90IGZvdW5kJwogICAgRU5ELVJFQUQKICAgIERJU1BMQVkgJ0VtcGxveWVlIE5hbWU6ICcgRW1wbG95ZWVOYW1lCiAgICBESVNQTEFZICdFbXBsb3llZSBQb3NpdGlvbjogJyBFbXBsb3llZVBvc2l0aW9uCiAgICBDTE9TRSBFbXBsb3llZUZpbGUKICAgIFNUT1AgUlVOLg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROCEDURE DIVISION.
    OPEN I-O EmployeeFile
    MOVE '00001' TO EmployeeID
    READ EmployeeFile
        INVALID KEY DISPLAY 'Record not found'
    END-READ
    DISPLAY 'Employee Name: ' EmployeeName
    DISPLAY 'Employee Position: ' EmployeePosition
    CLOSE EmployeeFile
    STOP RUN.</pre></div><div class='index'><h4>Actualización de un Registro</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPQ0VEVVJFIERJVklTSU9OLgogICAgT1BFTiBJLU8gRW1wbG95ZWVGaWxlCiAgICBNT1ZFICcwMDAwMScgVE8gRW1wbG95ZWVJRAogICAgUkVBRCBFbXBsb3llZUZpbGUKICAgICAgICBJTlZBTElEIEtFWSBESVNQTEFZICdSZWNvcmQgbm90IGZvdW5kJwogICAgRU5ELVJFQUQKICAgIE1PVkUgJ0phbmUgRG9lJyBUTyBFbXBsb3llZU5hbWUKICAgIFJFV1JJVEUgRW1wbG95ZWVSZWNvcmQKICAgIENMT1NFIEVtcGxveWVlRmlsZQogICAgU1RPUCBSVU4u"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROCEDURE DIVISION.
    OPEN I-O EmployeeFile
    MOVE '00001' TO EmployeeID
    READ EmployeeFile
        INVALID KEY DISPLAY 'Record not found'
    END-READ
    MOVE 'Jane Doe' TO EmployeeName
    REWRITE EmployeeRecord
    CLOSE EmployeeFile
    STOP RUN.</pre></div><div class='index'><h4>Eliminación de un Registro</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPQ0VEVVJFIERJVklTSU9OLgogICAgT1BFTiBJLU8gRW1wbG95ZWVGaWxlCiAgICBNT1ZFICcwMDAwMScgVE8gRW1wbG95ZWVJRAogICAgUkVBRCBFbXBsb3llZUZpbGUKICAgICAgICBJTlZBTElEIEtFWSBESVNQTEFZICdSZWNvcmQgbm90IGZvdW5kJwogICAgRU5ELVJFQUQKICAgIERFTEVURSBFbXBsb3llZUZpbGUKICAgIENMT1NFIEVtcGxveWVlRmlsZQogICAgU1RPUCBSVU4u"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROCEDURE DIVISION.
    OPEN I-O EmployeeFile
    MOVE '00001' TO EmployeeID
    READ EmployeeFile
        INVALID KEY DISPLAY 'Record not found'
    END-READ
    DELETE EmployeeFile
    CLOSE EmployeeFile
    STOP RUN.</pre></div><div class='index'></div><h2>Ejercicio Práctico</h2>
<div class='index'></div><h2>Ejercicio</h2>
<div class='index'><ol>
<li><strong>Objetivo</strong>: Crear un programa COBOL que maneje un archivo indexado de productos.</li>
<li><strong>Requisitos</strong>:
<ul>
<li>Definir un archivo indexado con los campos <code>ProductID</code>, <code>ProductName</code> y <code>ProductPrice</code>.</li>
<li>Implementar operaciones para agregar, leer, actualizar y eliminar registros.</li>
</ul>
</li>
</ol>
</div><h2>Solución</h2>
<div class='index'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIFByb2R1Y3RGaWxlRXhhbXBsZS4KCkVOVklST05NRU5UIERJVklTSU9OLgpJTlBVVC1PVVRQVVQgU0VDVElPTi4KRklMRS1DT05UUk9MLgogICAgU0VMRUNUIFByb2R1Y3RGaWxlIEFTU0lHTiBUTyAncHJvZHVjdC5kYXQnCiAgICAgICAgT1JHQU5JWkFUSU9OIElTIElOREVYRUQKICAgICAgICBBQ0NFU1MgTU9ERSBJUyBSQU5ET00KICAgICAgICBSRUNPUkQgS0VZIElTIFByb2R1Y3RJRAogICAgICAgIEZJTEUgU1RBVFVTIElTIEZpbGVTdGF0dXMuCgpEQVRBIERJVklTSU9OLgpGSUxFIFNFQ1RJT04uCkZEIFByb2R1Y3RGaWxlLgowMSBQcm9kdWN0UmVjb3JkLgogICAwNSBQcm9kdWN0SUQgICAgICAgUElDIFgoNSkuCiAgIDA1IFByb2R1Y3ROYW1lICAgICBQSUMgWCgyMCkuCiAgIDA1IFByb2R1Y3RQcmljZSAgICBQSUMgOSg1KVY5OS4KCldPUktJTkctU1RPUkFHRSBTRUNUSU9OLgowMSBGaWxlU3RhdHVzICAgICAgICAgUElDIFhYLgowMSBXUy1Qcm9kdWN0SUQgICAgICAgUElDIFgoNSkuCjAxIFdTLVByb2R1Y3ROYW1lICAgICBQSUMgWCgyMCkuCjAxIFdTLVByb2R1Y3RQcmljZSAgICBQSUMgOSg1KVY5OS4KClBST0NFRFVSRSBESVZJU0lPTi4KICAgIE9QRU4gT1VUUFVUIFByb2R1Y3RGaWxlCiAgICBNT1ZFICdQMDAxJyBUTyBQcm9kdWN0SUQKICAgIE1PVkUgJ0xhcHRvcCcgVE8gUHJvZHVjdE5hbWUKICAgIE1PVkUgOTk5Ljk5IFRPIFByb2R1Y3RQcmljZQogICAgV1JJVEUgUHJvZHVjdFJlY29yZAogICAgQ0xPU0UgUHJvZHVjdEZpbGUKCiAgICBPUEVOIEktTyBQcm9kdWN0RmlsZQogICAgTU9WRSAnUDAwMScgVE8gUHJvZHVjdElECiAgICBSRUFEIFByb2R1Y3RGaWxlCiAgICAgICAgSU5WQUxJRCBLRVkgRElTUExBWSAnUHJvZHVjdCBub3QgZm91bmQnCiAgICBFTkQtUkVBRAogICAgRElTUExBWSAnUHJvZHVjdCBOYW1lOiAnIFByb2R1Y3ROYW1lCiAgICBESVNQTEFZICdQcm9kdWN0IFByaWNlOiAnIFByb2R1Y3RQcmljZQoKICAgIE1PVkUgJ0dhbWluZyBMYXB0b3AnIFRPIFByb2R1Y3ROYW1lCiAgICBNT1ZFIDEyOTkuOTkgVE8gUHJvZHVjdFByaWNlCiAgICBSRVdSSVRFIFByb2R1Y3RSZWNvcmQKCiAgICBERUxFVEUgUHJvZHVjdEZpbGUKICAgIENMT1NFIFByb2R1Y3RGaWxlCiAgICBTVE9QIFJVTi4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. ProductFileExample.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT ProductFile ASSIGN TO 'product.dat'
        ORGANIZATION IS INDEXED
        ACCESS MODE IS RANDOM
        RECORD KEY IS ProductID
        FILE STATUS IS FileStatus.

DATA DIVISION.
FILE SECTION.
FD ProductFile.
01 ProductRecord.
   05 ProductID       PIC X(5).
   05 ProductName     PIC X(20).
   05 ProductPrice    PIC 9(5)V99.

WORKING-STORAGE SECTION.
01 FileStatus         PIC XX.
01 WS-ProductID       PIC X(5).
01 WS-ProductName     PIC X(20).
01 WS-ProductPrice    PIC 9(5)V99.

PROCEDURE DIVISION.
    OPEN OUTPUT ProductFile
    MOVE 'P001' TO ProductID
    MOVE 'Laptop' TO ProductName
    MOVE 999.99 TO ProductPrice
    WRITE ProductRecord
    CLOSE ProductFile

    OPEN I-O ProductFile
    MOVE 'P001' TO ProductID
    READ ProductFile
        INVALID KEY DISPLAY 'Product not found'
    END-READ
    DISPLAY 'Product Name: ' ProductName
    DISPLAY 'Product Price: ' ProductPrice

    MOVE 'Gaming Laptop' TO ProductName
    MOVE 1299.99 TO ProductPrice
    REWRITE ProductRecord

    DELETE ProductFile
    CLOSE ProductFile
    STOP RUN.</pre></div><div class='index'></div><h2>Explicación</h2>
<div class='index'><ol>
<li><strong>Definición del Archivo</strong>: Similar al ejemplo anterior, pero con campos específicos para productos.</li>
<li><strong>Operaciones</strong>:
<ul>
<li><strong>Agregar</strong>: Se abre el archivo en modo OUTPUT y se escribe un registro.</li>
<li><strong>Leer</strong>: Se abre el archivo en modo I-O, se lee un registro y se muestra.</li>
<li><strong>Actualizar</strong>: Se modifica el registro leído y se reescribe.</li>
<li><strong>Eliminar</strong>: Se elimina el registro del archivo.</li>
</ul>
</li>
</ol>
</div><h2>Conclusión</h2>
<div class='index'><p>En este tema, hemos aprendido a manejar archivos indexados en COBOL, incluyendo la definición del archivo, y las operaciones básicas de lectura, escritura, actualización y eliminación de registros. Los archivos indexados son esenciales para aplicaciones que requieren acceso rápido y eficiente a grandes volúmenes de datos. Con esta base, estás preparado para manejar archivos indexados en tus proyectos COBOL.</p>
<p>En el próximo módulo, exploraremos el manejo avanzado de datos, incluyendo tablas y arreglos, lo que te permitirá trabajar con estructuras de datos más complejas.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='04-02-sequential-file-processing' title="Procesamiento de Archivos Secuenciales">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='04-04-relative-file-processing' title="Procesamiento de Archivos Relativos">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
