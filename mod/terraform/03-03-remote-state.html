<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Estado Remoto</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/03-03-remote-state" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/03-03-remote-state" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/03-03-remote-state" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script>var DEVELOP = window.location.href.indexOf("localhost")!=-1 && true;</script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<p class="mb-0 p-0">	<a href="https://enterprisecampus.net/mod/terraform/03-03-remote-state" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/terraform/03-03-remote-state" class="px-2">CA</a>
</p>
			<p class="mb-4 mt-0 mx-2  d-none d-md-block"><cite>Todo el conocimiento a tu alcance</cite></p>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>
		<!-- <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contenido del curso
	</a>

			</div>
		</div>
	</div>
</div>
 -->
 
<div class="top-bar container-fluid">
	<div class="container-xxl">
		<nav class="navbar navbar-expand-md p-0">
			<div class="container-fluid">
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div class="collapse navbar-collapse" id="navbarNav">
					<div class="navbar-nav me-auto">
							<a href="/"  class="nav-link px-3">
		<i class="bi bi-house-fill"></i>
		HOME
	</a>

	<a href="./"  class="nav-link px-3">
		<i class="bi bi-journal-bookmark"></i>
		Contenido del curso
	</a>

					</div>
				</div>			
							</div>
		</nav>
	</div>
</div>				<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-02-state-files' title="Archivos de Estado">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<h2 style="text-decoration:underline">Estado Remoto</h2>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-04-state-locking' title="Bloqueo de Estado">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En este tema, aprenderemos sobre el estado remoto en Terraform, una funcionalidad crucial para gestionar el estado de nuestra infraestructura de manera segura y colaborativa. El estado remoto permite almacenar el archivo de estado de Terraform en una ubicación centralizada, lo que facilita el trabajo en equipo y mejora la seguridad y la integridad del estado.</p>
</div><h1>¿Qué es el Estado Remoto?</h1>
<div class='content'><p>El estado remoto es una forma de almacenar el archivo de estado de Terraform en un backend remoto en lugar de en el sistema de archivos local. Esto es especialmente útil en entornos de trabajo en equipo, donde múltiples usuarios necesitan acceder y modificar la infraestructura.</p>
</div><h2>Ventajas del Estado Remoto</h2>
<div class='content'><ol>
<li><strong>Colaboración</strong>: Permite que varios usuarios trabajen en la misma infraestructura sin conflictos.</li>
<li><strong>Seguridad</strong>: Almacenar el estado en un backend seguro reduce el riesgo de pérdida o corrupción del archivo de estado.</li>
<li><strong>Integridad</strong>: Asegura que todos los usuarios trabajen con la misma versión del estado.</li>
<li><strong>Automatización</strong>: Facilita la integración con sistemas de CI/CD y otras herramientas de automatización.</li>
</ol>
</div><h1>Configuración del Estado Remoto</h1>
<div class='content'><p>Para configurar el estado remoto, necesitamos especificar un backend en el archivo de configuración de Terraform. Los backends más comunes incluyen Amazon S3, Google Cloud Storage, Azure Blob Storage, y HashiCorp Consul.</p>
</div><h2>Ejemplo: Configuración de Estado Remoto con Amazon S3</h2>
<div class='content'><p>A continuación, se muestra un ejemplo de cómo configurar el estado remoto utilizando Amazon S3.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIHsKICBiYWNrZW5kICJzMyIgewogICAgYnVja2V0ICAgICAgICAgPSAibWktYnVja2V0LXRlcnJhZm9ybSIKICAgIGtleSAgICAgICAgICAgID0gInJ1dGEvYWwvYXJjaGl2by90ZXJyYWZvcm0udGZzdGF0ZSIKICAgIHJlZ2lvbiAgICAgICAgID0gInVzLXdlc3QtMiIKICAgIGVuY3J5cHQgICAgICAgID0gdHJ1ZQogICAgZHluYW1vZGJfdGFibGUgPSAibWktdGFibGEtZHluYW1vZGIiCiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform {
  backend &quot;s3&quot; {
    bucket         = &quot;mi-bucket-terraform&quot;
    key            = &quot;ruta/al/archivo/terraform.tfstate&quot;
    region         = &quot;us-west-2&quot;
    encrypt        = true
    dynamodb_table = &quot;mi-tabla-dynamodb&quot;
  }
}</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ul>
<li><code>bucket</code>: El nombre del bucket de S3 donde se almacenará el archivo de estado.</li>
<li><code>key</code>: La ruta dentro del bucket donde se almacenará el archivo de estado.</li>
<li><code>region</code>: La región de AWS donde se encuentra el bucket de S3.</li>
<li><code>encrypt</code>: Indica si el archivo de estado debe ser cifrado.</li>
<li><code>dynamodb_table</code>: (Opcional) El nombre de la tabla de DynamoDB utilizada para el bloqueo de estado.</li>
</ul>
</div><h2>Pasos para Configurar el Estado Remoto</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Bucket de S3</strong>:</p>
<ul>
<li>Accede a la consola de AWS S3 y crea un nuevo bucket.</li>
<li>Asegúrate de habilitar el cifrado si es necesario.</li>
</ul>
</li>
<li>
<p><strong>Crear una Tabla de DynamoDB (Opcional)</strong>:</p>
<ul>
<li>Accede a la consola de AWS DynamoDB y crea una nueva tabla.</li>
<li>Utiliza <code>LockID</code> como la clave primaria.</li>
</ul>
</li>
<li>
<p><strong>Actualizar el Archivo de Configuración de Terraform</strong>:</p>
<ul>
<li>Añade el bloque <code>backend</code> en el archivo <code>main.tf</code> o en un archivo de configuración separado.</li>
</ul>
</li>
<li>
<p><strong>Inicializar el Backend</strong>:</p>
<ul>
<li>Ejecuta el comando <code>terraform init</code> para inicializar el backend remoto.</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIGluaXQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform init</pre></div><div class='content'></div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Configuración de Estado Remoto con S3</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Bucket de S3</strong>:</p>
<ul>
<li>Nombre del bucket: <code>mi-bucket-terraform</code></li>
<li>Región: <code>us-west-2</code></li>
</ul>
</li>
<li>
<p><strong>Crear una Tabla de DynamoDB</strong>:</p>
<ul>
<li>Nombre de la tabla: <code>mi-tabla-dynamodb</code></li>
<li>Clave primaria: <code>LockID</code></li>
</ul>
</li>
<li>
<p><strong>Actualizar el Archivo de Configuración de Terraform</strong>:</p>
<ul>
<li>Añade el siguiente bloque en tu archivo <code>main.tf</code>:</li>
</ul>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIHsKICBiYWNrZW5kICJzMyIgewogICAgYnVja2V0ICAgICAgICAgPSAibWktYnVja2V0LXRlcnJhZm9ybSIKICAgIGtleSAgICAgICAgICAgID0gInJ1dGEvYWwvYXJjaGl2by90ZXJyYWZvcm0udGZzdGF0ZSIKICAgIHJlZ2lvbiAgICAgICAgID0gInVzLXdlc3QtMiIKICAgIGVuY3J5cHQgICAgICAgID0gdHJ1ZQogICAgZHluYW1vZGJfdGFibGUgPSAibWktdGFibGEtZHluYW1vZGIiCiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform {
  backend &quot;s3&quot; {
    bucket         = &quot;mi-bucket-terraform&quot;
    key            = &quot;ruta/al/archivo/terraform.tfstate&quot;
    region         = &quot;us-west-2&quot;
    encrypt        = true
    dynamodb_table = &quot;mi-tabla-dynamodb&quot;
  }
}</pre></div><div class='content'><ol start="4">
<li><strong>Inicializar el Backend</strong>:
<ul>
<li>Ejecuta el comando <code>terraform init</code>.</li>
</ul>
</li>
</ol>
</div><h2>Solución</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhciBlbCBidWNrZXQgZGUgUzMKYXdzIHMzYXBpIGNyZWF0ZS1idWNrZXQgLS1idWNrZXQgbWktYnVja2V0LXRlcnJhZm9ybSAtLXJlZ2lvbiB1cy13ZXN0LTIKCiMgQ3JlYXIgbGEgdGFibGEgZGUgRHluYW1vREIKYXdzIGR5bmFtb2RiIGNyZWF0ZS10YWJsZSBcCiAgICAtLXRhYmxlLW5hbWUgbWktdGFibGEtZHluYW1vZGIgXAogICAgLS1hdHRyaWJ1dGUtZGVmaW5pdGlvbnMgQXR0cmlidXRlTmFtZT1Mb2NrSUQsQXR0cmlidXRlVHlwZT1TIFwKICAgIC0ta2V5LXNjaGVtYSBBdHRyaWJ1dGVOYW1lPUxvY2tJRCxLZXlUeXBlPUhBU0ggXAogICAgLS1wcm92aXNpb25lZC10aHJvdWdocHV0IFJlYWRDYXBhY2l0eVVuaXRzPTUsV3JpdGVDYXBhY2l0eVVuaXRzPTUKCiMgSW5pY2lhbGl6YXIgZWwgYmFja2VuZAp0ZXJyYWZvcm0gaW5pdA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Crear el bucket de S3
aws s3api create-bucket --bucket mi-bucket-terraform --region us-west-2

# Crear la tabla de DynamoDB
aws dynamodb create-table \
    --table-name mi-tabla-dynamodb \
    --attribute-definitions AttributeName=LockID,AttributeType=S \
    --key-schema AttributeName=LockID,KeyType=HASH \
    --provisioned-throughput ReadCapacityUnits=5,WriteCapacityUnits=5

# Inicializar el backend
terraform init</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>El estado remoto es una funcionalidad esencial para gestionar la infraestructura de manera colaborativa y segura. Al almacenar el archivo de estado en un backend remoto, podemos asegurar la integridad y la seguridad de nuestra infraestructura, facilitando al mismo tiempo la colaboración entre múltiples usuarios. En el siguiente tema, exploraremos el bloqueo de estado, una característica que complementa el estado remoto para evitar conflictos durante las operaciones de Terraform.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-02-state-files' title="Archivos de Estado">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-04-state-locking' title="Bloqueo de Estado">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
				<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
	     crossorigin="anonymous"></script>
	<!-- enterprise_campus -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-0611338592562725"
	     data-ad-slot="6914733106"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
	     (adsbygoogle = window.adsbygoogle || []).push({});
	</script>
			
	<div class="container mt-2 d-none d-md-block index">
		<h1>Curso de Terraform</h1>
<h2>Módulo 1: Introducción a Terraform</h2>
<ul>
<li><a href="01-01-what-is-terraform">¿Qué es Terraform?</a></li>
<li><a href="01-02-installing-terraform">Instalando Terraform</a></li>
<li><a href="01-03-terraform-basics">Conceptos Básicos de Terraform</a></li>
<li><a href="01-04-first-terraform-configuration">Primera Configuración de Terraform</a></li>
</ul>
<h2>Módulo 2: Lenguaje de Configuración de Terraform</h2>
<ul>
<li><a href="02-01-hcl-syntax">Sintaxis de HCL</a></li>
<li><a href="02-02-variables-and-outputs">Variables y Salidas</a></li>
<li><a href="02-03-resource-and-data-blocks">Bloques de Recursos y Datos</a></li>
<li><a href="02-04-providers">Proveedores</a></li>
</ul>
<h2>Módulo 3: Gestión del Estado</h2>
<ul>
<li><a href="03-01-understanding-state">Entendiendo el Estado</a></li>
<li><a href="03-02-state-files">Archivos de Estado</a></li>
<li><a href="03-03-remote-state">Estado Remoto</a></li>
<li><a href="03-04-state-locking">Bloqueo de Estado</a></li>
</ul>
<h2>Módulo 4: Módulos de Terraform</h2>
<ul>
<li><a href="04-01-introduction-to-modules">Introducción a los Módulos</a></li>
<li><a href="04-02-creating-modules">Creando Módulos</a></li>
<li><a href="04-03-using-modules">Usando Módulos</a></li>
<li><a href="04-04-module-registry">Registro de Módulos</a></li>
</ul>
<h2>Módulo 5: Aprovisionamiento de Recursos</h2>
<ul>
<li><a href="05-01-provisioning-basics">Conceptos Básicos de Aprovisionamiento</a></li>
<li><a href="05-02-provisioning-aws-resources">Aprovisionamiento de Recursos AWS</a></li>
<li><a href="05-03-provisioning-azure-resources">Aprovisionamiento de Recursos Azure</a></li>
<li><a href="05-04-provisioning-gcp-resources">Aprovisionamiento de Recursos GCP</a></li>
</ul>
<h2>Módulo 6: Funcionalidades Avanzadas de Terraform</h2>
<ul>
<li><a href="06-01-terraform-workspaces">Espacios de Trabajo de Terraform</a></li>
<li><a href="06-02-terraform-functions">Funciones de Terraform</a></li>
<li><a href="06-03-dynamic-blocks">Bloques Dinámicos</a></li>
<li><a href="06-04-terraform-import">Importación de Terraform</a></li>
</ul>
<h2>Módulo 7: Mejores Prácticas de Terraform</h2>
<ul>
<li><a href="07-01-code-organization">Organización del Código</a></li>
<li><a href="07-02-version-control">Control de Versiones</a></li>
<li><a href="07-03-testing-terraform-code">Pruebas del Código de Terraform</a></li>
<li><a href="07-04-security-best-practices">Mejores Prácticas de Seguridad</a></li>
</ul>
<h2>Módulo 8: Terraform en CI/CD</h2>
<ul>
<li><a href="08-01-integrating-terraform-with-cicd">Integración de Terraform con CI/CD</a></li>
<li><a href="08-02-automating-terraform-with-jenkins">Automatización de Terraform con Jenkins</a></li>
<li><a href="08-03-using-terraform-with-github-actions">Uso de Terraform con GitHub Actions</a></li>
<li><a href="08-04-terraform-cloud-and-enterprise">Terraform Cloud y Enterprise</a></li>
</ul>
<h2>Módulo 9: Solución de Problemas y Depuración</h2>
<ul>
<li><a href="09-01-common-errors">Errores Comunes</a></li>
<li><a href="09-02-debugging-terraform">Depuración de Terraform</a></li>
<li><a href="09-03-state-management-issues">Problemas de Gestión del Estado</a></li>
<li><a href="09-04-community-and-support">Comunidad y Soporte</a></li>
</ul>
<h2>Módulo 10: Proyectos del Mundo Real</h2>
<ul>
<li><a href="10-01-project-aws-infrastructure">Proyecto 1: Infraestructura AWS</a></li>
<li><a href="10-02-project-multi-cloud-deployment">Proyecto 2: Despliegue Multi-Nube</a></li>
<li><a href="10-03-project-kubernetes-with-terraform">Proyecto 3: Kubernetes con Terraform</a></li>
<li><a href="10-04-project-serverless-applications">Proyecto 4: Aplicaciones Serverless</a></li>
</ul>

	</div>










		</div>
	</div>
</div>		
<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>
