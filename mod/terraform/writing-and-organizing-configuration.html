<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escritura y Organización de Configuración</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/writing-and-organizing-configuration" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/writing-and-organizing-configuration" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/writing-and-organizing-configuration" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/terraform/writing-and-organizing-configuration" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/terraform/writing-and-organizing-configuration" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/terraform/writing-and-organizing-configuration">https://enterprisecampus.net/mod/terraform/writing-and-organizing-configuration</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='state-management-best-practices'>&#x25C4;Mejores Prácticas de Gestión de Estado</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Escritura y Organización de Configuración</a>
	</div>
	<div class='col-4 text-end'>
					<a href='version-control-with-terraform'>Control de Versiones con Terraform &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Terraform es una herramienta de infraestructura como código (IaC) de código abierto que te permite definir y aprovisionar la infraestructura del centro de datos utilizando un lenguaje de configuración declarativo. Escribir y organizar la configuración de manera efectiva es crucial para gestionar la infraestructura a gran escala. Esta sección te guiará a través de los conceptos básicos de la escritura y organización de archivos de configuración de Terraform, desde niveles principiantes hasta avanzados.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Archivos de Configuración</strong>: Los archivos principales donde se escribe el código de Terraform, típicamente con una extensión <code>.tf</code>.</li>
<li><strong>Módulos</strong>: Paquetes reutilizables y autónomos de configuraciones de Terraform.</li>
<li><strong>Archivos de Estado</strong>: Archivos que mantienen el seguimiento del estado actual de la infraestructura.</li>
<li><strong>Variables</strong>: Parámetros que te permiten personalizar configuraciones sin codificar valores.</li>
<li><strong>Salidas</strong>: Valores que se devuelven después de la ejecución de una configuración de Terraform.</li>
</ul>
</div><h1>Escritura de Configuración Básica</h1>
<div class='content'></div><h2>Archivo Principal de Configuración</h2>
<div class='content'><p>El archivo principal de configuración generalmente se llama <code>main.tf</code>. Aquí hay un ejemplo simple para crear una instancia de AWS EC2:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdmlkZXIgImF3cyIgewogIHJlZ2lvbiA9ICJ1cy13ZXN0LTIiCn0KCnJlc291cmNlICJhd3NfaW5zdGFuY2UiICJleGFtcGxlIiB7CiAgYW1pICAgICAgICAgICA9ICJhbWktMGM1NWIxNTljYmZhZmUxZjAiCiAgaW5zdGFuY2VfdHlwZSA9ICJ0Mi5taWNybyIKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>provider &quot;aws&quot; {
  region = &quot;us-west-2&quot;
}

resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;
}</pre></div><div class='content'><ul>
<li><strong>Bloque de Proveedor</strong>: Especifica el proveedor (AWS en este caso) y su configuración.</li>
<li><strong>Bloque de Recurso</strong>: Define un recurso (una instancia EC2) y sus propiedades.</li>
</ul>
</div><h2>Variables</h2>
<div class='content'><p>Las variables te permiten parametrizar tus configuraciones. Crea un archivo <code>variables.tf</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyaWFibGUgInJlZ2lvbiIgewogIGRlc2NyaXB0aW9uID0gIkxhIHJlZ2nDs24gZGUgQVdTIHBhcmEgZGVzcGxlZ2FyIgogIGRlZmF1bHQgICAgID0gInVzLXdlc3QtMiIKfQoKdmFyaWFibGUgImluc3RhbmNlX3R5cGUiIHsKICBkZXNjcmlwdGlvbiA9ICJUaXBvIGRlIGluc3RhbmNpYSBFQzIiCiAgZGVmYXVsdCAgICAgPSAidDIubWljcm8iCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>variable &quot;region&quot; {
  description = &quot;La regi&oacute;n de AWS para desplegar&quot;
  default     = &quot;us-west-2&quot;
}

variable &quot;instance_type&quot; {
  description = &quot;Tipo de instancia EC2&quot;
  default     = &quot;t2.micro&quot;
}</pre></div><div class='content'><p>Actualiza <code>main.tf</code> para usar estas variables:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvdmlkZXIgImF3cyIgewogIHJlZ2lvbiA9IHZhci5yZWdpb24KfQoKcmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIKICBpbnN0YW5jZV90eXBlID0gdmFyLmluc3RhbmNlX3R5cGUKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>provider &quot;aws&quot; {
  region = var.region
}

resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = var.instance_type
}</pre></div><div class='content'></div><h2>Salidas</h2>
<div class='content'><p>Las salidas te permiten extraer información útil de tu estado de Terraform. Crea un archivo <code>outputs.tf</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3V0cHV0ICJpbnN0YW5jZV9pZCIgewogIGRlc2NyaXB0aW9uID0gIkVsIElEIGRlIGxhIGluc3RhbmNpYSBFQzIiCiAgdmFsdWUgICAgICAgPSBhd3NfaW5zdGFuY2UuZXhhbXBsZS5pZAp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>output &quot;instance_id&quot; {
  description = &quot;El ID de la instancia EC2&quot;
  value       = aws_instance.example.id
}</pre></div><div class='content'></div><h1>Organización de Configuración</h1>
<div class='content'></div><h2>Estructura de Directorios</h2>
<div class='content'><p>Una estructura de directorios bien organizada es esencial para gestionar configuraciones complejas. Aquí hay una estructura recomendada:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvamVjdC8K4pSc4pSA4pSAIG1haW4udGYK4pSc4pSA4pSAIHZhcmlhYmxlcy50ZgrilJzilIDilIAgb3V0cHV0cy50ZgrilJzilIDilIAgbW9kdWxlcy8K4pSCICAg4pSU4pSA4pSAIGVjMl9pbnN0YW5jZS8K4pSCICAgICAgIOKUnOKUgOKUgCBtYWluLnRmCuKUgiAgICAgICDilJzilIDilIAgdmFyaWFibGVzLnRmCuKUgiAgICAgICDilJTilIDilIAgb3V0cHV0cy50ZgrilJTilIDilIAgZW52aXJvbm1lbnRzLwogICAg4pSc4pSA4pSAIGRldi8KICAgIOKUgiAgIOKUlOKUgOKUgCBtYWluLnRmCiAgICDilJTilIDilIAgcHJvZC8KICAgICAgICDilJTilIDilIAgbWFpbi50Zg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>project/
├── main.tf
├── variables.tf
├── outputs.tf
├── modules/
│   └── ec2_instance/
│       ├── main.tf
│       ├── variables.tf
│       └── outputs.tf
└── environments/
    ├── dev/
    │   └── main.tf
    └── prod/
        └── main.tf</pre></div><div class='content'></div><h2>Módulos</h2>
<div class='content'><p>Los módulos son componentes reutilizables. Aquí hay un ejemplo de cómo crear y usar un módulo:</p>
<h4>Definición del Módulo (<code>modules/ec2_instance/main.tf</code>)</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19pbnN0YW5jZSIgImV4YW1wbGUiIHsKICBhbWkgICAgICAgICAgID0gdmFyLmFtaQogIGluc3RhbmNlX3R5cGUgPSB2YXIuaW5zdGFuY2VfdHlwZQp9CgpvdXRwdXQgImluc3RhbmNlX2lkIiB7CiAgdmFsdWUgPSBhd3NfaW5zdGFuY2UuZXhhbXBsZS5pZAp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_instance&quot; &quot;example&quot; {
  ami           = var.ami
  instance_type = var.instance_type
}

output &quot;instance_id&quot; {
  value = aws_instance.example.id
}</pre></div><div class='content'><h4>Variables del Módulo (<code>modules/ec2_instance/variables.tf</code>)</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyaWFibGUgImFtaSIgewogIGRlc2NyaXB0aW9uID0gIkxhIEFNSSBhIHVzYXIgcGFyYSBsYSBpbnN0YW5jaWEiCn0KCnZhcmlhYmxlICJpbnN0YW5jZV90eXBlIiB7CiAgZGVzY3JpcHRpb24gPSAiRWwgdGlwbyBkZSBpbnN0YW5jaWEgYSB1c2FyIgp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>variable &quot;ami&quot; {
  description = &quot;La AMI a usar para la instancia&quot;
}

variable &quot;instance_type&quot; {
  description = &quot;El tipo de instancia a usar&quot;
}</pre></div><div class='content'><h4>Uso del Módulo (<code>main.tf</code>)</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9kdWxlICJlYzJfaW5zdGFuY2UiIHsKICBzb3VyY2UgICAgICAgID0gIi4vbW9kdWxlcy9lYzJfaW5zdGFuY2UiCiAgYW1pICAgICAgICAgICA9ICJhbWktMGM1NWIxNTljYmZhZmUxZjAiCiAgaW5zdGFuY2VfdHlwZSA9ICJ0Mi5taWNybyIKfQoKb3V0cHV0ICJpbnN0YW5jZV9pZCIgewogIHZhbHVlID0gbW9kdWxlLmVjMl9pbnN0YW5jZS5pbnN0YW5jZV9pZAp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>module &quot;ec2_instance&quot; {
  source        = &quot;./modules/ec2_instance&quot;
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;
}

output &quot;instance_id&quot; {
  value = module.ec2_instance.instance_id
}</pre></div><div class='content'></div><h1>Configuración Avanzada</h1>
<div class='content'></div><h2>Espacios de Trabajo</h2>
<div class='content'><p>Los espacios de trabajo te permiten gestionar múltiples entornos (por ejemplo, dev, prod) dentro de la misma configuración.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIHdvcmtzcGFjZSBuZXcgZGV2CnRlcnJhZm9ybSB3b3Jrc3BhY2UgbmV3IHByb2Q="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform workspace new dev
terraform workspace new prod</pre></div><div class='content'></div><h2>Estado Remoto</h2>
<div class='content'><p>Almacenar archivos de estado de forma remota asegura que tu estado sea consistente y compartido entre los miembros del equipo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVycmFmb3JtIHsKICBiYWNrZW5kICJzMyIgewogICAgYnVja2V0ID0gIm15LXRlcnJhZm9ybS1zdGF0ZSIKICAgIGtleSAgICA9ICJnbG9iYWwvczMvdGVycmFmb3JtLnRmc3RhdGUiCiAgICByZWdpb24gPSAidXMtd2VzdC0yIgogIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>terraform {
  backend &quot;s3&quot; {
    bucket = &quot;my-terraform-state&quot;
    key    = &quot;global/s3/terraform.tfstate&quot;
    region = &quot;us-west-2&quot;
  }
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Escribir y organizar la configuración de Terraform de manera efectiva es crucial para gestionar la infraestructura de manera eficiente. Al comprender los conceptos básicos de los archivos de configuración, variables, salidas y módulos, puedes crear configuraciones de Terraform reutilizables y mantenibles. A medida que avances, aprovechar los espacios de trabajo y el almacenamiento de estado remoto te ayudará a gestionar entornos complejos y colaborar con tu equipo.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='state-management-best-practices'>&#x25C4;Mejores Prácticas de Gestión de Estado</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Escritura y Organización de Configuración</a>
	</div>
	<div class='col-4 text-end'>
					<a href='version-control-with-terraform'>Control de Versiones con Terraform &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
