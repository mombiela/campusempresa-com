<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dependencias de Recursos en Terraform</title>

    <link rel="alternate" href="https://campusempresa.com/mod/terraform/resource-dependencies" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/terraform/resource-dependencies" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/terraform/resource-dependencies" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/terraform/resource-dependencies" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/terraform/resource-dependencies" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='terraform-expressions'>&#x25C4;Expresiones de Terraform</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Dependencias de Recursos en Terraform</a>
	</div>
	<div class='col-4 text-end'>
					<a href='modules-reusable-configurations'>Módulos: Configuraciones Reutilizables &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a las Dependencias de Recursos</h1>
<div class='content'><p>Las dependencias de recursos en Terraform son cruciales para asegurar que los recursos se creen, actualicen o destruyan en el orden correcto. Entender cómo Terraform gestiona estas dependencias te ayudará a escribir infraestructura como código de manera más eficiente y confiable.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Dependencias Implícitas</strong>: Determinadas automáticamente por Terraform basándose en referencias de recursos.</li>
<li><strong>Dependencias Explícitas</strong>: Especificadas manualmente usando el argumento <code>depends_on</code>.</li>
<li><strong>Teoría de Grafos</strong>: Terraform utiliza un Grafo Acíclico Dirigido (DAG) para gestionar las dependencias.</li>
</ul>
</div><h1>Dependencias Implícitas</h1>
<div class='content'><p>Terraform infiere automáticamente las dependencias entre recursos basándose en referencias. Cuando un recurso referencia a otro, Terraform entiende que el recurso referenciado debe ser creado o actualizado primero.</p>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c192cGMiICJtYWluIiB7CiAgY2lkcl9ibG9jayA9ICIxMC4wLjAuMC8xNiIKfQoKcmVzb3VyY2UgImF3c19zdWJuZXQiICJzdWJuZXQxIiB7CiAgdnBjX2lkICAgICA9IGF3c192cGMubWFpbi5pZAogIGNpZHJfYmxvY2sgPSAiMTAuMC4xLjAvMjQiCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_vpc&quot; &quot;main&quot; {
  cidr_block = &quot;10.0.0.0/16&quot;
}

resource &quot;aws_subnet&quot; &quot;subnet1&quot; {
  vpc_id     = aws_vpc.main.id
  cidr_block = &quot;10.0.1.0/24&quot;
}</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li>El recurso <code>aws_subnet</code> depende implícitamente del recurso <code>aws_vpc</code> porque referencia <code>aws_vpc.main.id</code>.</li>
</ul>
</div><h1>Dependencias Explícitas</h1>
<div class='content'><p>A veces, necesitas imponer un orden específico de creación o destrucción de recursos que Terraform no puede inferir. Aquí es donde entran en juego las dependencias explícitas, usando el argumento <code>depends_on</code>.</p>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c19pbnN0YW5jZSIgIndlYiIgewogIGFtaSAgICAgICAgICAgPSAiYW1pLTBjNTViMTU5Y2JmYWZlMWYwIgogIGluc3RhbmNlX3R5cGUgPSAidDIubWljcm8iCn0KCnJlc291cmNlICJhd3NfZWlwIiAid2ViX2VpcCIgewogIGluc3RhbmNlID0gYXdzX2luc3RhbmNlLndlYi5pZAogIGRlcGVuZHNfb24gPSBbYXdzX2luc3RhbmNlLndlYl0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_instance&quot; &quot;web&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;
}

resource &quot;aws_eip&quot; &quot;web_eip&quot; {
  instance = aws_instance.web.id
  depends_on = [aws_instance.web]
}</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li>El recurso <code>aws_eip</code> depende explícitamente del recurso <code>aws_instance</code> usando el argumento <code>depends_on</code>.</li>
</ul>
</div><h1>Grafo de Dependencias</h1>
<div class='content'><p>Terraform construye un Grafo Acíclico Dirigido (DAG) para determinar el orden de las operaciones. Cada nodo en el grafo representa un recurso, y los bordes representan dependencias.</p>
</div><h2>Ejemplo</h2>
<div class='content'><p>Considera los siguientes recursos:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2UgImF3c192cGMiICJtYWluIiB7CiAgY2lkcl9ibG9jayA9ICIxMC4wLjAuMC8xNiIKfQoKcmVzb3VyY2UgImF3c19zdWJuZXQiICJzdWJuZXQxIiB7CiAgdnBjX2lkICAgICA9IGF3c192cGMubWFpbi5pZAogIGNpZHJfYmxvY2sgPSAiMTAuMC4xLjAvMjQiCn0KCnJlc291cmNlICJhd3NfaW5zdGFuY2UiICJ3ZWIiIHsKICBhbWkgICAgICAgICAgID0gImFtaS0wYzU1YjE1OWNiZmFmZTFmMCIKICBpbnN0YW5jZV90eXBlID0gInQyLm1pY3JvIgogIHN1Ym5ldF9pZCAgICAgPSBhd3Nfc3VibmV0LnN1Ym5ldDEuaWQKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resource &quot;aws_vpc&quot; &quot;main&quot; {
  cidr_block = &quot;10.0.0.0/16&quot;
}

resource &quot;aws_subnet&quot; &quot;subnet1&quot; {
  vpc_id     = aws_vpc.main.id
  cidr_block = &quot;10.0.1.0/24&quot;
}

resource &quot;aws_instance&quot; &quot;web&quot; {
  ami           = &quot;ami-0c55b159cbfafe1f0&quot;
  instance_type = &quot;t2.micro&quot;
  subnet_id     = aws_subnet.subnet1.id
}</pre></div><div class='content'><p>Terraform creará un DAG con las siguientes dependencias:</p>
<ul>
<li><code>aws_subnet.subnet1</code> depende de <code>aws_vpc.main</code>.</li>
<li><code>aws_instance.web</code> depende de <code>aws_subnet.subnet1</code>.</li>
</ul>
</div><h1>Ejercicios Prácticos</h1>
<h2>Ejercicio 1: Dependencias Implícitas</h2>
<div class='content'><p>Crea una VPC y una subred, luego lanza una instancia EC2 dentro de esa subred. Verifica que Terraform infiera correctamente las dependencias.</p>
</div><h2>Ejercicio 2: Dependencias Explícitas</h2>
<div class='content'><p>Crea una instancia EC2 y una IP Elástica. Usa el argumento <code>depends_on</code> para especificar explícitamente que la IP Elástica debe asociarse con la instancia EC2 solo después de que la instancia sea creada.</p>
</div><h1>Conclusión</h1>
<div class='content'><p>Entender las dependencias de recursos en Terraform es esencial para gestionar infraestructura compleja. Al aprovechar tanto las dependencias implícitas como las explícitas, puedes asegurar que tus recursos se provisionen en el orden correcto, llevando a una infraestructura como código más confiable y mantenible.</p>
<p>Al dominar estos conceptos, estarás bien equipado para manejar configuraciones más avanzadas de Terraform y asegurar que tu infraestructura sea tanto eficiente como resiliente.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='terraform-expressions'>&#x25C4;Expresiones de Terraform</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Dependencias de Recursos en Terraform</a>
	</div>
	<div class='col-4 text-end'>
					<a href='modules-reusable-configurations'>Módulos: Configuraciones Reutilizables &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
