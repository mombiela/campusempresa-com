<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inyección de Dependencias con Dagger</title>

    <link rel="alternate" href="https://campusempresa.com/mod/androidstudio/dependency-injection-with-dagger" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/androidstudio/dependency-injection-with-dagger" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/androidstudio/dependency-injection-with-dagger" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/androidstudio/dependency-injection-with-dagger" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/androidstudio/dependency-injection-with-dagger" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='app-maintenance-and-updates'>&#x25C4;Mantenimiento y Actualizaciones de la Aplicación</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Inyección de Dependencias con Dagger</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-jetpack-compose'>Usando Jetpack Compose &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a la Inyección de Dependencias</h1>
<div class='content'><ul>
<li><strong>Definición</strong>: La Inyección de Dependencias (DI) es un patrón de diseño utilizado para implementar IoC (Inversión de Control), permitiendo que una clase reciba sus dependencias de una fuente externa en lugar de crearlas por sí misma.</li>
<li><strong>Beneficios</strong>:
<ul>
<li>Mejora la modularidad del código.</li>
<li>Facilita las pruebas y el mantenimiento.</li>
<li>Desacoplamiento de componentes.</li>
</ul>
</li>
</ul>
</div><h1>Introducción a Dagger</h1>
<div class='content'><ul>
<li><strong>Definición</strong>: Dagger es un framework de inyección de dependencias completamente estático y en tiempo de compilación para Java, Kotlin y Android.</li>
<li><strong>¿Por qué Dagger?</strong>:
<ul>
<li>Verificación de dependencias en tiempo de compilación.</li>
<li>Eficiencia en el rendimiento.</li>
<li>Simplifica la gestión de dependencias en proyectos grandes.</li>
</ul>
</li>
</ul>
</div><h1>Configuración de Dagger en Android Studio</h1>
<div class='content'><ol>
<li><strong>Agregar dependencias de Dagger</strong>:
<pre><code class="language-gradle">dependencies {
    implementation 'com.google.dagger:dagger:2.x'
    kapt 'com.google.dagger:dagger-compiler:2.x'
}
</code></pre>
</li>
<li><strong>Habilitar el procesamiento de anotaciones</strong>:
<pre><code class="language-gradle">android {
    ...
    kapt {
        generateStubs = true
    }
}
</code></pre>
</li>
</ol>
</div><h1>Conceptos Básicos de Dagger</h1>
<div class='content'><ul>
<li><strong>Módulos</strong>: Clases anotadas con <code>@Module</code> que proporcionan dependencias.</li>
<li><strong>Componentes</strong>: Interfaces anotadas con <code>@Component</code> que actúan como puentes entre módulos y objetivos de inyección.</li>
<li><strong>Inject</strong>: Anotación utilizada para solicitar dependencias.</li>
</ul>
</div><h2>Ejemplo: Configuración Básica de Dagger</h2>
<div class='content'><ol>
<li><strong>Crear un Módulo</strong>:
<pre><code class="language-java">@Module
public class NetworkModule {
    @Provides
    public Retrofit provideRetrofit() {
        return new Retrofit.Builder()
                .baseUrl(&quot;https://api.example.com&quot;)
                .build();
    }
}
</code></pre>
</li>
<li><strong>Crear un Componente</strong>:
<pre><code class="language-java">@Component(modules = NetworkModule.class)
public interface AppComponent {
    void inject(MainActivity mainActivity);
}
</code></pre>
</li>
<li><strong>Inyectar Dependencias</strong>:
<pre><code class="language-java">public class MainActivity extends AppCompatActivity {
    @Inject
    Retrofit retrofit;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        AppComponent appComponent = DaggerAppComponent.create();
        appComponent.inject(this);

        // Usar la instancia de Retrofit inyectada
    }
}
</code></pre>
</li>
</ol>
</div><h1>Conceptos Avanzados de Dagger</h1>
<div class='content'><ul>
<li>
<p><strong>Alcances</strong>: Utilizados para gestionar el ciclo de vida de las dependencias.</p>
<ul>
<li><strong>Alcance Singleton</strong>: Asegura una única instancia de una dependencia.
<pre><code class="language-java">@Module
public class AppModule {
    @Provides
    @Singleton
    public Context provideContext(Application application) {
        return application.getApplicationContext();
    }
}
</code></pre>
</li>
<li><strong>Alcances Personalizados</strong>: Definir alcances personalizados para casos de uso específicos.
<pre><code class="language-java">@Scope
@Retention(RetentionPolicy.RUNTIME)
public @interface ActivityScope {}
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Subcomponentes</strong>: Permiten gráficos de dependencias más granulares.</p>
<pre><code class="language-java">@Subcomponent
public interface ActivityComponent {
    void inject(MyActivity myActivity);
}
</code></pre>
</li>
<li>
<p><strong>Multibindings</strong>: Inyectar colecciones de dependencias.</p>
<pre><code class="language-java">@Module
public abstract class MultibindingsModule {
    @Binds
    @IntoMap
    @StringKey(&quot;example&quot;)
    abstract MyInterface bindExample(ExampleImpl impl);
}
</code></pre>
</li>
</ul>
</div><h1>Pruebas con Dagger</h1>
<div class='content'><ul>
<li>
<p><strong>Pruebas Unitarias</strong>: Usar <code>@Inject</code> de Dagger para inyectar mocks.</p>
<pre><code class="language-java">@RunWith(MockitoJUnitRunner.class)
public class MyTest {
    @Mock
    Retrofit retrofit;

    @Inject
    MyService myService;

    @Before
    public void setUp() {
        DaggerTestComponent.create().inject(this);
    }

    @Test
    public void testService() {
        // Probar usando el mock de Retrofit inyectado
    }
}
</code></pre>
</li>
<li>
<p><strong>Pruebas con Espresso</strong>: Usar Dagger para inyectar dependencias en pruebas de UI.</p>
<pre><code class="language-java">@RunWith(AndroidJUnit4.class)
public class MyEspressoTest {
    @Rule
    public ActivityTestRule&lt;MainActivity&gt; activityRule = new ActivityTestRule&lt;&gt;(MainActivity.class);

    @Before
    public void setUp() {
        // Inyectar dependencias
    }

    @Test
    public void testUI() {
        // Realizar pruebas de UI
    }
}
</code></pre>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><ul>
<li><strong>Resumen</strong>:
<ul>
<li>Dagger simplifica la gestión de dependencias en aplicaciones Android.</li>
<li>Proporciona seguridad en tiempo de compilación y beneficios de rendimiento.</li>
<li>Comprender módulos, componentes y alcances es crucial para un uso efectivo.</li>
<li>Funcionalidades avanzadas como subcomponentes y multibindings ofrecen herramientas poderosas para gráficos de dependencias complejos.</li>
<li>Dagger se integra bien con frameworks de pruebas, mejorando la capacidad de prueba de las aplicaciones Android.</li>
</ul>
</li>
</ul>
<p>Al dominar Dagger, puedes escribir código más limpio, mantenible y comprobable, haciendo que tus aplicaciones Android sean más robustas y escalables.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='app-maintenance-and-updates'>&#x25C4;Mantenimiento y Actualizaciones de la Aplicación</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Inyección de Dependencias con Dagger</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-jetpack-compose'>Usando Jetpack Compose &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
