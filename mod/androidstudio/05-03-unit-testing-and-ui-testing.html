<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas Unitarias y Pruebas de Interfaz de Usuario</title>

    <link rel="alternate" href="https://campusempresa.com/mod/androidstudio/05-03-unit-testing-and-ui-testing" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/androidstudio/05-03-unit-testing-and-ui-testing" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/androidstudio/05-03-unit-testing-and-ui-testing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 px-0 py-2 py-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 px-0 py-2 py-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/androidstudio/05-03-unit-testing-and-ui-testing" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/androidstudio/05-03-unit-testing-and-ui-testing" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='05-02-dependency-injection-with-dagger' title="Inyección de dependencias con Dagger">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Pruebas Unitarias y Pruebas de Interfaz de Usuario</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='05-04-publishing-your-app-on-google-play' title="Publicando tu aplicación en Google Play">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En este módulo, aprenderás sobre la importancia de las pruebas en el desarrollo de aplicaciones Android. Nos enfocaremos en dos tipos principales de pruebas: pruebas unitarias y pruebas de interfaz de usuario (UI). Las pruebas unitarias aseguran que las unidades individuales de código funcionen correctamente, mientras que las pruebas de UI verifican que la interfaz de usuario de la aplicación funcione como se espera.</p>
</div><h1>Pruebas Unitarias</h1>
<div class='content'></div><h2>¿Qué son las Pruebas Unitarias?</h2>
<div class='content'><p>Las pruebas unitarias son pruebas automatizadas que verifican el comportamiento de una unidad de código, generalmente una función o un método. Estas pruebas son esenciales para asegurar que cada parte de tu aplicación funcione correctamente de manera aislada.</p>
</div><h2>Herramientas para Pruebas Unitarias en Android</h2>
<div class='content'><ul>
<li><strong>JUnit</strong>: Es el framework más común para escribir pruebas unitarias en Java y Android.</li>
<li><strong>Mockito</strong>: Es una biblioteca de simulación que permite crear objetos simulados para pruebas.</li>
</ul>
</div><h2>Configuración de JUnit y Mockito</h2>
<div class='content'><p>Para empezar a escribir pruebas unitarias, necesitas agregar las siguientes dependencias a tu archivo <code>build.gradle</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzIHsKICAgIHRlc3RJbXBsZW1lbnRhdGlvbiAnanVuaXQ6anVuaXQ6NC4xMy4yJwogICAgdGVzdEltcGxlbWVudGF0aW9uICdvcmcubW9ja2l0bzptb2NraXRvLWNvcmU6My4xMS4yJwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies {
    testImplementation 'junit:junit:4.13.2'
    testImplementation 'org.mockito:mockito-core:3.11.2'
}</pre></div><div class='content'></div><h2>Ejemplo de Prueba Unitaria</h2>
<div class='content'><p>Supongamos que tienes una clase <code>Calculator</code> con un método <code>add</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIENhbGN1bGF0b3IgewogICAgcHVibGljIGludCBhZGQoaW50IGEsIGludCBiKSB7CiAgICAgICAgcmV0dXJuIGEgKyBiOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Calculator {
    public int add(int a, int b) {
        return a + b;
    }
}</pre></div><div class='content'><p>Puedes escribir una prueba unitaria para este método de la siguiente manera:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuQXNzZXJ0LmFzc2VydEVxdWFsczsKaW1wb3J0IG9yZy5qdW5pdC5UZXN0OwoKcHVibGljIGNsYXNzIENhbGN1bGF0b3JUZXN0IHsKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0QWRkKCkgewogICAgICAgIENhbGN1bGF0b3IgY2FsY3VsYXRvciA9IG5ldyBDYWxjdWxhdG9yKCk7CiAgICAgICAgaW50IHJlc3VsdCA9IGNhbGN1bGF0b3IuYWRkKDIsIDMpOwogICAgICAgIGFzc2VydEVxdWFscyg1LCByZXN1bHQpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.junit.Assert.assertEquals;
import org.junit.Test;

public class CalculatorTest {
    @Test
    public void testAdd() {
        Calculator calculator = new Calculator();
        int result = calculator.add(2, 3);
        assertEquals(5, result);
    }
}</pre></div><div class='content'></div><h2>Ejercicio Práctico</h2>
<div class='content'><p><strong>Ejercicio</strong>: Escribe una prueba unitaria para un método <code>subtract</code> en la clase <code>Calculator</code>.</p>
<p><strong>Solución</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIENhbGN1bGF0b3IgewogICAgcHVibGljIGludCBzdWJ0cmFjdChpbnQgYSwgaW50IGIpIHsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICB9Cn0KCmltcG9ydCBzdGF0aWMgb3JnLmp1bml0LkFzc2VydC5hc3NlcnRFcXVhbHM7CmltcG9ydCBvcmcuanVuaXQuVGVzdDsKCnB1YmxpYyBjbGFzcyBDYWxjdWxhdG9yVGVzdCB7CiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdFN1YnRyYWN0KCkgewogICAgICAgIENhbGN1bGF0b3IgY2FsY3VsYXRvciA9IG5ldyBDYWxjdWxhdG9yKCk7CiAgICAgICAgaW50IHJlc3VsdCA9IGNhbGN1bGF0b3Iuc3VidHJhY3QoNSwgMyk7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDIsIHJlc3VsdCk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class Calculator {
    public int subtract(int a, int b) {
        return a - b;
    }
}

import static org.junit.Assert.assertEquals;
import org.junit.Test;

public class CalculatorTest {
    @Test
    public void testSubtract() {
        Calculator calculator = new Calculator();
        int result = calculator.subtract(5, 3);
        assertEquals(2, result);
    }
}</pre></div><div class='content'></div><h1>Pruebas de Interfaz de Usuario (UI)</h1>
<div class='content'></div><h2>¿Qué son las Pruebas de UI?</h2>
<div class='content'><p>Las pruebas de UI verifican que la interfaz de usuario de tu aplicación funcione como se espera. Estas pruebas interactúan con la aplicación de la misma manera que lo haría un usuario real.</p>
</div><h2>Herramientas para Pruebas de UI en Android</h2>
<div class='content'><ul>
<li><strong>Espresso</strong>: Es una biblioteca de pruebas de UI proporcionada por Google que facilita la escritura de pruebas de UI.</li>
</ul>
</div><h2>Configuración de Espresso</h2>
<div class='content'><p>Agrega las siguientes dependencias a tu archivo <code>build.gradle</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5kcm9pZFRlc3RJbXBsZW1lbnRhdGlvbiAnYW5kcm9pZHgudGVzdC5lc3ByZXNzbzplc3ByZXNzby1jb3JlOjMuNC4wJwphbmRyb2lkVGVzdEltcGxlbWVudGF0aW9uICdhbmRyb2lkeC50ZXN0LmV4dDpqdW5pdDoxLjEuMyc="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'
androidTestImplementation 'androidx.test.ext:junit:1.1.3'</pre></div><div class='content'></div><h2>Ejemplo de Prueba de UI</h2>
<div class='content'><p>Supongamos que tienes una actividad con un <code>EditText</code> y un <code>Button</code>. Cuando el botón es presionado, el texto del <code>EditText</code> se muestra en un <code>TextView</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBhY3Rpdml0eV9tYWluLnhtbCAtLT4KPExpbmVhckxheW91dCB4bWxuczphbmRyb2lkPSJodHRwOi8vc2NoZW1hcy5hbmRyb2lkLmNvbS9hcGsvcmVzL2FuZHJvaWQiCiAgICBhbmRyb2lkOmxheW91dF93aWR0aD0ibWF0Y2hfcGFyZW50IgogICAgYW5kcm9pZDpsYXlvdXRfaGVpZ2h0PSJtYXRjaF9wYXJlbnQiCiAgICBhbmRyb2lkOm9yaWVudGF0aW9uPSJ2ZXJ0aWNhbCIKICAgIGFuZHJvaWQ6cGFkZGluZz0iMTZkcCI+CgogICAgPEVkaXRUZXh0CiAgICAgICAgYW5kcm9pZDppZD0iQCtpZC9lZGl0VGV4dCIKICAgICAgICBhbmRyb2lkOmxheW91dF93aWR0aD0ibWF0Y2hfcGFyZW50IgogICAgICAgIGFuZHJvaWQ6bGF5b3V0X2hlaWdodD0id3JhcF9jb250ZW50IgogICAgICAgIGFuZHJvaWQ6aGludD0iRW50ZXIgdGV4dCIgLz4KCiAgICA8QnV0dG9uCiAgICAgICAgYW5kcm9pZDppZD0iQCtpZC9idXR0b24iCiAgICAgICAgYW5kcm9pZDpsYXlvdXRfd2lkdGg9IndyYXBfY29udGVudCIKICAgICAgICBhbmRyb2lkOmxheW91dF9oZWlnaHQ9IndyYXBfY29udGVudCIKICAgICAgICBhbmRyb2lkOnRleHQ9IlN1Ym1pdCIgLz4KCiAgICA8VGV4dFZpZXcKICAgICAgICBhbmRyb2lkOmlkPSJAK2lkL3RleHRWaWV3IgogICAgICAgIGFuZHJvaWQ6bGF5b3V0X3dpZHRoPSJtYXRjaF9wYXJlbnQiCiAgICAgICAgYW5kcm9pZDpsYXlvdXRfaGVpZ2h0PSJ3cmFwX2NvbnRlbnQiCiAgICAgICAgYW5kcm9pZDp0ZXh0PSIiIC8+CjwvTGluZWFyTGF5b3V0Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- activity_main.xml --&gt;
&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:orientation=&quot;vertical&quot;
    android:padding=&quot;16dp&quot;&gt;

    &lt;EditText
        android:id=&quot;@+id/editText&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:hint=&quot;Enter text&quot; /&gt;

    &lt;Button
        android:id=&quot;@+id/button&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;Submit&quot; /&gt;

    &lt;TextView
        android:id=&quot;@+id/textView&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;&quot; /&gt;
&lt;/LinearLayout&gt;</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTWFpbkFjdGl2aXR5LmphdmEKcHVibGljIGNsYXNzIE1haW5BY3Rpdml0eSBleHRlbmRzIEFwcENvbXBhdEFjdGl2aXR5IHsKICAgIHByaXZhdGUgRWRpdFRleHQgZWRpdFRleHQ7CiAgICBwcml2YXRlIFRleHRWaWV3IHRleHRWaWV3OwoKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgb25DcmVhdGUoQnVuZGxlIHNhdmVkSW5zdGFuY2VTdGF0ZSkgewogICAgICAgIHN1cGVyLm9uQ3JlYXRlKHNhdmVkSW5zdGFuY2VTdGF0ZSk7CiAgICAgICAgc2V0Q29udGVudFZpZXcoUi5sYXlvdXQuYWN0aXZpdHlfbWFpbik7CgogICAgICAgIGVkaXRUZXh0ID0gZmluZFZpZXdCeUlkKFIuaWQuZWRpdFRleHQpOwogICAgICAgIHRleHRWaWV3ID0gZmluZFZpZXdCeUlkKFIuaWQudGV4dFZpZXcpOwogICAgICAgIEJ1dHRvbiBidXR0b24gPSBmaW5kVmlld0J5SWQoUi5pZC5idXR0b24pOwoKICAgICAgICBidXR0b24uc2V0T25DbGlja0xpc3RlbmVyKG5ldyBWaWV3Lk9uQ2xpY2tMaXN0ZW5lcigpIHsKICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgIHB1YmxpYyB2b2lkIG9uQ2xpY2soVmlldyB2KSB7CiAgICAgICAgICAgICAgICBTdHJpbmcgdGV4dCA9IGVkaXRUZXh0LmdldFRleHQoKS50b1N0cmluZygpOwogICAgICAgICAgICAgICAgdGV4dFZpZXcuc2V0VGV4dCh0ZXh0KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// MainActivity.java
public class MainActivity extends AppCompatActivity {
    private EditText editText;
    private TextView textView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        editText = findViewById(R.id.editText);
        textView = findViewById(R.id.textView);
        Button button = findViewById(R.id.button);

        button.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                String text = editText.getText().toString();
                textView.setText(text);
            }
        });
    }
}</pre></div><div class='content'><p>Puedes escribir una prueba de UI para esta actividad de la siguiente manera:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGFuZHJvaWR4LnRlc3QuZXh0Lmp1bml0LnJ1bm5lcnMuQW5kcm9pZEpVbml0NDsKaW1wb3J0IGFuZHJvaWR4LnRlc3QucnVsZS5BY3Rpdml0eVRlc3RSdWxlOwoKaW1wb3J0IG9yZy5qdW5pdC5SdWxlOwppbXBvcnQgb3JnLmp1bml0LlRlc3Q7CmltcG9ydCBvcmcuanVuaXQucnVubmVyLlJ1bldpdGg7CgppbXBvcnQgc3RhdGljIGFuZHJvaWR4LnRlc3QuZXNwcmVzc28uRXNwcmVzc28ub25WaWV3OwppbXBvcnQgc3RhdGljIGFuZHJvaWR4LnRlc3QuZXNwcmVzc28uYWN0aW9uLlZpZXdBY3Rpb25zLmNsaWNrOwppbXBvcnQgc3RhdGljIGFuZHJvaWR4LnRlc3QuZXNwcmVzc28uYWN0aW9uLlZpZXdBY3Rpb25zLnR5cGVUZXh0OwppbXBvcnQgc3RhdGljIGFuZHJvaWR4LnRlc3QuZXNwcmVzc28uYXNzZXJ0aW9uLlZpZXdBc3NlcnRpb25zLm1hdGNoZXM7CmltcG9ydCBzdGF0aWMgYW5kcm9pZHgudGVzdC5lc3ByZXNzby5tYXRjaGVyLlZpZXdNYXRjaGVycy53aXRoSWQ7CmltcG9ydCBzdGF0aWMgYW5kcm9pZHgudGVzdC5lc3ByZXNzby5tYXRjaGVyLlZpZXdNYXRjaGVycy53aXRoVGV4dDsKCkBSdW5XaXRoKEFuZHJvaWRKVW5pdDQuY2xhc3MpCnB1YmxpYyBjbGFzcyBNYWluQWN0aXZpdHlUZXN0IHsKICAgIEBSdWxlCiAgICBwdWJsaWMgQWN0aXZpdHlUZXN0UnVsZTxNYWluQWN0aXZpdHk+IGFjdGl2aXR5UnVsZSA9CiAgICAgICAgICAgIG5ldyBBY3Rpdml0eVRlc3RSdWxlPD4oTWFpbkFjdGl2aXR5LmNsYXNzKTsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEJ1dHRvbl9jbGljaygpIHsKICAgICAgICAvLyBUeXBlIHRleHQgaW4gdGhlIEVkaXRUZXh0CiAgICAgICAgb25WaWV3KHdpdGhJZChSLmlkLmVkaXRUZXh0KSkucGVyZm9ybSh0eXBlVGV4dCgiSGVsbG8gV29ybGQiKSk7CgogICAgICAgIC8vIENsaWNrIHRoZSBidXR0b24KICAgICAgICBvblZpZXcod2l0aElkKFIuaWQuYnV0dG9uKSkucGVyZm9ybShjbGljaygpKTsKCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIFRleHRWaWV3IGRpc3BsYXlzIHRoZSBjb3JyZWN0IHRleHQKICAgICAgICBvblZpZXcod2l0aElkKFIuaWQudGV4dFZpZXcpKS5jaGVjayhtYXRjaGVzKHdpdGhUZXh0KCJIZWxsbyBXb3JsZCIpKSk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import androidx.test.ext.junit.runners.AndroidJUnit4;
import androidx.test.rule.ActivityTestRule;

import org.junit.Rule;
import org.junit.Test;
import org.junit.runner.RunWith;

import static androidx.test.espresso.Espresso.onView;
import static androidx.test.espresso.action.ViewActions.click;
import static androidx.test.espresso.action.ViewActions.typeText;
import static androidx.test.espresso.assertion.ViewAssertions.matches;
import static androidx.test.espresso.matcher.ViewMatchers.withId;
import static androidx.test.espresso.matcher.ViewMatchers.withText;

@RunWith(AndroidJUnit4.class)
public class MainActivityTest {
    @Rule
    public ActivityTestRule&lt;MainActivity&gt; activityRule =
            new ActivityTestRule&lt;&gt;(MainActivity.class);

    @Test
    public void testButton_click() {
        // Type text in the EditText
        onView(withId(R.id.editText)).perform(typeText(&quot;Hello World&quot;));

        // Click the button
        onView(withId(R.id.button)).perform(click());

        // Check if the TextView displays the correct text
        onView(withId(R.id.textView)).check(matches(withText(&quot;Hello World&quot;)));
    }
}</pre></div><div class='content'></div><h2>Ejercicio Práctico</h2>
<div class='content'><p><strong>Ejercicio</strong>: Escribe una prueba de UI para verificar que el <code>TextView</code> se vacía cuando se presiona un botón de &quot;Clear&quot;.</p>
<p><strong>Solución</strong>:</p>
<p>Primero, agrega un botón de &quot;Clear&quot; en tu <code>activity_main.xml</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PEJ1dHRvbgogICAgYW5kcm9pZDppZD0iQCtpZC9idXR0b25DbGVhciIKICAgIGFuZHJvaWQ6bGF5b3V0X3dpZHRoPSJ3cmFwX2NvbnRlbnQiCiAgICBhbmRyb2lkOmxheW91dF9oZWlnaHQ9IndyYXBfY29udGVudCIKICAgIGFuZHJvaWQ6dGV4dD0iQ2xlYXIiIC8+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;Button
    android:id=&quot;@+id/buttonClear&quot;
    android:layout_width=&quot;wrap_content&quot;
    android:layout_height=&quot;wrap_content&quot;
    android:text=&quot;Clear&quot; /&gt;</pre></div><div class='content'><p>Luego, actualiza tu <code>MainActivity.java</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTWFpbkFjdGl2aXR5LmphdmEKcHVibGljIGNsYXNzIE1haW5BY3Rpdml0eSBleHRlbmRzIEFwcENvbXBhdEFjdGl2aXR5IHsKICAgIHByaXZhdGUgRWRpdFRleHQgZWRpdFRleHQ7CiAgICBwcml2YXRlIFRleHRWaWV3IHRleHRWaWV3OwoKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIHZvaWQgb25DcmVhdGUoQnVuZGxlIHNhdmVkSW5zdGFuY2VTdGF0ZSkgewogICAgICAgIHN1cGVyLm9uQ3JlYXRlKHNhdmVkSW5zdGFuY2VTdGF0ZSk7CiAgICAgICAgc2V0Q29udGVudFZpZXcoUi5sYXlvdXQuYWN0aXZpdHlfbWFpbik7CgogICAgICAgIGVkaXRUZXh0ID0gZmluZFZpZXdCeUlkKFIuaWQuZWRpdFRleHQpOwogICAgICAgIHRleHRWaWV3ID0gZmluZFZpZXdCeUlkKFIuaWQudGV4dFZpZXcpOwogICAgICAgIEJ1dHRvbiBidXR0b24gPSBmaW5kVmlld0J5SWQoUi5pZC5idXR0b24pOwogICAgICAgIEJ1dHRvbiBidXR0b25DbGVhciA9IGZpbmRWaWV3QnlJZChSLmlkLmJ1dHRvbkNsZWFyKTsKCiAgICAgICAgYnV0dG9uLnNldE9uQ2xpY2tMaXN0ZW5lcihuZXcgVmlldy5PbkNsaWNrTGlzdGVuZXIoKSB7CiAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICBwdWJsaWMgdm9pZCBvbkNsaWNrKFZpZXcgdikgewogICAgICAgICAgICAgICAgU3RyaW5nIHRleHQgPSBlZGl0VGV4dC5nZXRUZXh0KCkudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIHRleHRWaWV3LnNldFRleHQodGV4dCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgYnV0dG9uQ2xlYXIuc2V0T25DbGlja0xpc3RlbmVyKG5ldyBWaWV3Lk9uQ2xpY2tMaXN0ZW5lcigpIHsKICAgICAgICAgICAgQE92ZXJyaWRlCiAgICAgICAgICAgIHB1YmxpYyB2b2lkIG9uQ2xpY2soVmlldyB2KSB7CiAgICAgICAgICAgICAgICB0ZXh0Vmlldy5zZXRUZXh0KCIiKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// MainActivity.java
public class MainActivity extends AppCompatActivity {
    private EditText editText;
    private TextView textView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        editText = findViewById(R.id.editText);
        textView = findViewById(R.id.textView);
        Button button = findViewById(R.id.button);
        Button buttonClear = findViewById(R.id.buttonClear);

        button.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                String text = editText.getText().toString();
                textView.setText(text);
            }
        });

        buttonClear.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                textView.setText(&quot;&quot;);
            }
        });
    }
}</pre></div><div class='content'><p>Finalmente, escribe la prueba de UI:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGFuZHJvaWR4LnRlc3QuZXh0Lmp1bml0LnJ1bm5lcnMuQW5kcm9pZEpVbml0NDsKaW1wb3J0IGFuZHJvaWR4LnRlc3QucnVsZS5BY3Rpdml0eVRlc3RSdWxlOwoKaW1wb3J0IG9yZy5qdW5pdC5SdWxlOwppbXBvcnQgb3JnLmp1bml0LlRlc3Q7CmltcG9ydCBvcmcuanVuaXQucnVubmVyLlJ1bldpdGg7CgppbXBvcnQgc3RhdGljIGFuZHJvaWR4LnRlc3QuZXNwcmVzc28uRXNwcmVzc28ub25WaWV3OwppbXBvcnQgc3RhdGljIGFuZHJvaWR4LnRlc3QuZXNwcmVzc28uYWN0aW9uLlZpZXdBY3Rpb25zLmNsaWNrOwppbXBvcnQgc3RhdGljIGFuZHJvaWR4LnRlc3QuZXNwcmVzc28uYWN0aW9uLlZpZXdBY3Rpb25zLnR5cGVUZXh0OwppbXBvcnQgc3RhdGljIGFuZHJvaWR4LnRlc3QuZXNwcmVzc28uYXNzZXJ0aW9uLlZpZXdBc3NlcnRpb25zLm1hdGNoZXM7CmltcG9ydCBzdGF0aWMgYW5kcm9pZHgudGVzdC5lc3ByZXNzby5tYXRjaGVyLlZpZXdNYXRjaGVycy53aXRoSWQ7CmltcG9ydCBzdGF0aWMgYW5kcm9pZHgudGVzdC5lc3ByZXNzby5tYXRjaGVyLlZpZXdNYXRjaGVycy53aXRoVGV4dDsKCkBSdW5XaXRoKEFuZHJvaWRKVW5pdDQuY2xhc3MpCnB1YmxpYyBjbGFzcyBNYWluQWN0aXZpdHlUZXN0IHsKICAgIEBSdWxlCiAgICBwdWJsaWMgQWN0aXZpdHlUZXN0UnVsZTxNYWluQWN0aXZpdHk+IGFjdGl2aXR5UnVsZSA9CiAgICAgICAgICAgIG5ldyBBY3Rpdml0eVRlc3RSdWxlPD4oTWFpbkFjdGl2aXR5LmNsYXNzKTsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEJ1dHRvbl9jbGljaygpIHsKICAgICAgICAvLyBUeXBlIHRleHQgaW4gdGhlIEVkaXRUZXh0CiAgICAgICAgb25WaWV3KHdpdGhJZChSLmlkLmVkaXRUZXh0KSkucGVyZm9ybSh0eXBlVGV4dCgiSGVsbG8gV29ybGQiKSk7CgogICAgICAgIC8vIENsaWNrIHRoZSBidXR0b24KICAgICAgICBvblZpZXcod2l0aElkKFIuaWQuYnV0dG9uKSkucGVyZm9ybShjbGljaygpKTsKCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIFRleHRWaWV3IGRpc3BsYXlzIHRoZSBjb3JyZWN0IHRleHQKICAgICAgICBvblZpZXcod2l0aElkKFIuaWQudGV4dFZpZXcpKS5jaGVjayhtYXRjaGVzKHdpdGhUZXh0KCJIZWxsbyBXb3JsZCIpKSk7CiAgICB9CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RCdXR0b25DbGVhcl9jbGljaygpIHsKICAgICAgICAvLyBUeXBlIHRleHQgaW4gdGhlIEVkaXRUZXh0CiAgICAgICAgb25WaWV3KHdpdGhJZChSLmlkLmVkaXRUZXh0KSkucGVyZm9ybSh0eXBlVGV4dCgiSGVsbG8gV29ybGQiKSk7CgogICAgICAgIC8vIENsaWNrIHRoZSBidXR0b24KICAgICAgICBvblZpZXcod2l0aElkKFIuaWQuYnV0dG9uKSkucGVyZm9ybShjbGljaygpKTsKCiAgICAgICAgLy8gQ2xpY2sgdGhlIGNsZWFyIGJ1dHRvbgogICAgICAgIG9uVmlldyh3aXRoSWQoUi5pZC5idXR0b25DbGVhcikpLnBlcmZvcm0oY2xpY2soKSk7CgogICAgICAgIC8vIENoZWNrIGlmIHRoZSBUZXh0VmlldyBpcyBlbXB0eQogICAgICAgIG9uVmlldyh3aXRoSWQoUi5pZC50ZXh0VmlldykpLmNoZWNrKG1hdGNoZXMod2l0aFRleHQoIiIpKSk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import androidx.test.ext.junit.runners.AndroidJUnit4;
import androidx.test.rule.ActivityTestRule;

import org.junit.Rule;
import org.junit.Test;
import org.junit.runner.RunWith;

import static androidx.test.espresso.Espresso.onView;
import static androidx.test.espresso.action.ViewActions.click;
import static androidx.test.espresso.action.ViewActions.typeText;
import static androidx.test.espresso.assertion.ViewAssertions.matches;
import static androidx.test.espresso.matcher.ViewMatchers.withId;
import static androidx.test.espresso.matcher.ViewMatchers.withText;

@RunWith(AndroidJUnit4.class)
public class MainActivityTest {
    @Rule
    public ActivityTestRule&lt;MainActivity&gt; activityRule =
            new ActivityTestRule&lt;&gt;(MainActivity.class);

    @Test
    public void testButton_click() {
        // Type text in the EditText
        onView(withId(R.id.editText)).perform(typeText(&quot;Hello World&quot;));

        // Click the button
        onView(withId(R.id.button)).perform(click());

        // Check if the TextView displays the correct text
        onView(withId(R.id.textView)).check(matches(withText(&quot;Hello World&quot;)));
    }

    @Test
    public void testButtonClear_click() {
        // Type text in the EditText
        onView(withId(R.id.editText)).perform(typeText(&quot;Hello World&quot;));

        // Click the button
        onView(withId(R.id.button)).perform(click());

        // Click the clear button
        onView(withId(R.id.buttonClear)).perform(click());

        // Check if the TextView is empty
        onView(withId(R.id.textView)).check(matches(withText(&quot;&quot;)));
    }
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos cubierto los conceptos básicos de las pruebas unitarias y las pruebas de interfaz de usuario en Android. Aprendiste a configurar JUnit y Mockito para pruebas unitarias y Espresso para pruebas de UI. Además, vimos ejemplos prácticos y ejercicios para reforzar los conceptos. Las pruebas son una parte crucial del desarrollo de software, ya que aseguran que tu aplicación funcione correctamente y te ayudan a detectar errores antes de que lleguen a los usuarios finales.</p>
<p>En el próximo módulo, profundizaremos en la publicación de tu aplicación en Google Play, asegurando que esté lista para ser distribuida a una audiencia más amplia.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='05-02-dependency-injection-with-dagger' title="Inyección de dependencias con Dagger">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='05-04-publishing-your-app-on-google-play' title="Publicando tu aplicación en Google Play">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
