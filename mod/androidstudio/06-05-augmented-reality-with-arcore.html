<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realidad aumentada con ARCore</title>

    <link rel="alternate" href="https://campusempresa.com/mod/androidstudio/06-05-augmented-reality-with-arcore" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/androidstudio/06-05-augmented-reality-with-arcore" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/androidstudio/06-05-augmented-reality-with-arcore" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/androidstudio/06-05-augmented-reality-with-arcore" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/androidstudio/06-05-augmented-reality-with-arcore" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='06-04-using-machine-learning-in-android' title="Usando aprendizaje automático en Android">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Realidad aumentada con ARCore</h2></a>
			</div>
	<div class='col-2 text-end'>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>La realidad aumentada (AR) es una tecnología que superpone información digital sobre el mundo real. ARCore es la plataforma de Google para crear experiencias de realidad aumentada en dispositivos Android. En este módulo, aprenderás a integrar ARCore en tu aplicación Android y a crear experiencias de AR básicas.</p>
</div><h1>Requisitos previos</h1>
<div class='content'><p>Antes de comenzar, asegúrate de tener:</p>
<ul>
<li>Android Studio instalado y configurado.</li>
<li>Un dispositivo Android compatible con ARCore o un emulador configurado para AR.</li>
<li>Conocimientos básicos de desarrollo de Android.</li>
</ul>
</div><h1>Configuración del entorno</h1>
<div class='content'></div><h2>Paso 1: Agregar dependencias de ARCore</h2>
<div class='content'><ol>
<li>Abre tu proyecto en Android Studio.</li>
<li>Abre el archivo <code>build.gradle</code> de tu módulo (generalmente <code>app/build.gradle</code>).</li>
<li>Agrega las siguientes dependencias:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzIHsKICAgIGltcGxlbWVudGF0aW9uICdjb20uZ29vZ2xlLmFyOmNvcmU6MS4yMy4wJwogICAgaW1wbGVtZW50YXRpb24gJ2NvbS5nb29nbGUuYXIuc2NlbmVmb3JtLnV4OnNjZW5lZm9ybS11eDoxLjE3LjEnCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies {
    implementation 'com.google.ar:core:1.23.0'
    implementation 'com.google.ar.sceneform.ux:sceneform-ux:1.17.1'
}</pre></div><div class='content'><ol start="4">
<li>Sincroniza tu proyecto con Gradle.</li>
</ol>
</div><h2>Paso 2: Configurar permisos y características</h2>
<div class='content'><ol>
<li>Abre el archivo <code>AndroidManifest.xml</code>.</li>
<li>Agrega los siguientes permisos y características:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHVzZXMtcGVybWlzc2lvbiBhbmRyb2lkOm5hbWU9ImFuZHJvaWQucGVybWlzc2lvbi5DQU1FUkEiLz4KPHVzZXMtZmVhdHVyZSBhbmRyb2lkOm5hbWU9ImFuZHJvaWQuaGFyZHdhcmUuY2FtZXJhLmFyIiBhbmRyb2lkOnJlcXVpcmVkPSJ0cnVlIi8+Cjx1c2VzLWZlYXR1cmUgYW5kcm9pZDpuYW1lPSJhbmRyb2lkLmhhcmR3YXJlLmNhbWVyYSIgYW5kcm9pZDpyZXF1aXJlZD0idHJ1ZSIvPgo8dXNlcy1mZWF0dXJlIGFuZHJvaWQ6bmFtZT0iYW5kcm9pZC5oYXJkd2FyZS5zZW5zb3IuYWNjZWxlcm9tZXRlciIgYW5kcm9pZDpyZXF1aXJlZD0idHJ1ZSIvPgo8dXNlcy1mZWF0dXJlIGFuZHJvaWQ6bmFtZT0iYW5kcm9pZC5oYXJkd2FyZS5zZW5zb3IuZ3lyb3Njb3BlIiBhbmRyb2lkOnJlcXVpcmVkPSJ0cnVlIi8+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;
&lt;uses-feature android:name=&quot;android.hardware.camera.ar&quot; android:required=&quot;true&quot;/&gt;
&lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot;/&gt;
&lt;uses-feature android:name=&quot;android.hardware.sensor.accelerometer&quot; android:required=&quot;true&quot;/&gt;
&lt;uses-feature android:name=&quot;android.hardware.sensor.gyroscope&quot; android:required=&quot;true&quot;/&gt;</pre></div><div class='content'></div><h1>Creando una experiencia AR básica</h1>
<div class='content'></div><h2>Paso 1: Crear una actividad AR</h2>
<div class='content'><ol>
<li>Crea una nueva actividad llamada <code>ARActivity</code>.</li>
<li>En el archivo <code>ARActivity.java</code>, configura la actividad para usar ARCore y Sceneform:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGFuZHJvaWQub3MuQnVuZGxlOwppbXBvcnQgYW5kcm9pZHguYXBwY29tcGF0LmFwcC5BcHBDb21wYXRBY3Rpdml0eTsKaW1wb3J0IGNvbS5nb29nbGUuYXIuY29yZS5BckNvcmVBcGs7CmltcG9ydCBjb20uZ29vZ2xlLmFyLnNjZW5lZm9ybS51eC5BckZyYWdtZW50OwoKcHVibGljIGNsYXNzIEFSQWN0aXZpdHkgZXh0ZW5kcyBBcHBDb21wYXRBY3Rpdml0eSB7CiAgICBwcml2YXRlIEFyRnJhZ21lbnQgYXJGcmFnbWVudDsKCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCB2b2lkIG9uQ3JlYXRlKEJ1bmRsZSBzYXZlZEluc3RhbmNlU3RhdGUpIHsKICAgICAgICBzdXBlci5vbkNyZWF0ZShzYXZlZEluc3RhbmNlU3RhdGUpOwogICAgICAgIHNldENvbnRlbnRWaWV3KFIubGF5b3V0LmFjdGl2aXR5X2FyKTsKCiAgICAgICAgYXJGcmFnbWVudCA9IChBckZyYWdtZW50KSBnZXRTdXBwb3J0RnJhZ21lbnRNYW5hZ2VyKCkuZmluZEZyYWdtZW50QnlJZChSLmlkLnV4X2ZyYWdtZW50KTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import android.os.Bundle;
import androidx.appcompat.app.AppCompatActivity;
import com.google.ar.core.ArCoreApk;
import com.google.ar.sceneform.ux.ArFragment;

public class ARActivity extends AppCompatActivity {
    private ArFragment arFragment;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_ar);

        arFragment = (ArFragment) getSupportFragmentManager().findFragmentById(R.id.ux_fragment);
    }
}</pre></div><div class='content'></div><h2>Paso 2: Configurar el diseño de la actividad</h2>
<div class='content'><ol>
<li>Crea un nuevo archivo de diseño XML llamado <code>activity_ar.xml</code>.</li>
<li>Agrega el siguiente contenido:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPFJlbGF0aXZlTGF5b3V0IHhtbG5zOmFuZHJvaWQ9Imh0dHA6Ly9zY2hlbWFzLmFuZHJvaWQuY29tL2Fway9yZXMvYW5kcm9pZCIKICAgIGFuZHJvaWQ6bGF5b3V0X3dpZHRoPSJtYXRjaF9wYXJlbnQiCiAgICBhbmRyb2lkOmxheW91dF9oZWlnaHQ9Im1hdGNoX3BhcmVudCI+CgogICAgPGZyYWdtZW50CiAgICAgICAgYW5kcm9pZDppZD0iQCtpZC91eF9mcmFnbWVudCIKICAgICAgICBhbmRyb2lkOm5hbWU9ImNvbS5nb29nbGUuYXIuc2NlbmVmb3JtLnV4LkFyRnJhZ21lbnQiCiAgICAgICAgYW5kcm9pZDpsYXlvdXRfd2lkdGg9Im1hdGNoX3BhcmVudCIKICAgICAgICBhbmRyb2lkOmxheW91dF9oZWlnaHQ9Im1hdGNoX3BhcmVudCIgLz4KPC9SZWxhdGl2ZUxheW91dD4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;&gt;

    &lt;fragment
        android:id=&quot;@+id/ux_fragment&quot;
        android:name=&quot;com.google.ar.sceneform.ux.ArFragment&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot; /&gt;
&lt;/RelativeLayout&gt;</pre></div><div class='content'></div><h2>Paso 3: Agregar un objeto 3D</h2>
<div class='content'><ol>
<li>Descarga un modelo 3D en formato <code>.sfb</code> y colócalo en la carpeta <code>assets</code>.</li>
<li>En <code>ARActivity.java</code>, agrega el siguiente código para colocar el objeto 3D en la escena:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5nb29nbGUuYXIuY29yZS5IaXRSZXN1bHQ7CmltcG9ydCBjb20uZ29vZ2xlLmFyLmNvcmUuUGxhbmU7CmltcG9ydCBjb20uZ29vZ2xlLmFyLnNjZW5lZm9ybS5BbmNob3JOb2RlOwppbXBvcnQgY29tLmdvb2dsZS5hci5zY2VuZWZvcm0ucmVuZGVyaW5nLk1vZGVsUmVuZGVyYWJsZTsKaW1wb3J0IGNvbS5nb29nbGUuYXIuc2NlbmVmb3JtLnV4LlRyYW5zZm9ybWFibGVOb2RlOwoKcHVibGljIGNsYXNzIEFSQWN0aXZpdHkgZXh0ZW5kcyBBcHBDb21wYXRBY3Rpdml0eSB7CiAgICBwcml2YXRlIEFyRnJhZ21lbnQgYXJGcmFnbWVudDsKICAgIHByaXZhdGUgTW9kZWxSZW5kZXJhYmxlIG1vZGVsUmVuZGVyYWJsZTsKCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCB2b2lkIG9uQ3JlYXRlKEJ1bmRsZSBzYXZlZEluc3RhbmNlU3RhdGUpIHsKICAgICAgICBzdXBlci5vbkNyZWF0ZShzYXZlZEluc3RhbmNlU3RhdGUpOwogICAgICAgIHNldENvbnRlbnRWaWV3KFIubGF5b3V0LmFjdGl2aXR5X2FyKTsKCiAgICAgICAgYXJGcmFnbWVudCA9IChBckZyYWdtZW50KSBnZXRTdXBwb3J0RnJhZ21lbnRNYW5hZ2VyKCkuZmluZEZyYWdtZW50QnlJZChSLmlkLnV4X2ZyYWdtZW50KTsKCiAgICAgICAgTW9kZWxSZW5kZXJhYmxlLmJ1aWxkZXIoKQogICAgICAgICAgICAuc2V0U291cmNlKHRoaXMsIFVyaS5wYXJzZSgibW9kZWwuc2ZiIikpCiAgICAgICAgICAgIC5idWlsZCgpCiAgICAgICAgICAgIC50aGVuQWNjZXB0KHJlbmRlcmFibGUgLT4gbW9kZWxSZW5kZXJhYmxlID0gcmVuZGVyYWJsZSkKICAgICAgICAgICAgLmV4Y2VwdGlvbmFsbHkoCiAgICAgICAgICAgICAgICB0aHJvd2FibGUgLT4gewogICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KHRoaXMsICJVbmFibGUgdG8gbG9hZCBtb2RlbCIsIFRvYXN0LkxFTkdUSF9TSE9SVCkuc2hvdygpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgIGFyRnJhZ21lbnQuc2V0T25UYXBBclBsYW5lTGlzdGVuZXIoCiAgICAgICAgICAgIChIaXRSZXN1bHQgaGl0UmVzdWx0LCBQbGFuZSBwbGFuZSwgTW90aW9uRXZlbnQgbW90aW9uRXZlbnQpIC0+IHsKICAgICAgICAgICAgICAgIGlmIChtb2RlbFJlbmRlcmFibGUgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBBbmNob3IgYW5jaG9yID0gaGl0UmVzdWx0LmNyZWF0ZUFuY2hvcigpOwogICAgICAgICAgICAgICAgQW5jaG9yTm9kZSBhbmNob3JOb2RlID0gbmV3IEFuY2hvck5vZGUoYW5jaG9yKTsKICAgICAgICAgICAgICAgIGFuY2hvck5vZGUuc2V0UGFyZW50KGFyRnJhZ21lbnQuZ2V0QXJTY2VuZVZpZXcoKS5nZXRTY2VuZSgpKTsKCiAgICAgICAgICAgICAgICBUcmFuc2Zvcm1hYmxlTm9kZSBub2RlID0gbmV3IFRyYW5zZm9ybWFibGVOb2RlKGFyRnJhZ21lbnQuZ2V0VHJhbnNmb3JtYXRpb25TeXN0ZW0oKSk7CiAgICAgICAgICAgICAgICBub2RlLnNldFBhcmVudChhbmNob3JOb2RlKTsKICAgICAgICAgICAgICAgIG5vZGUuc2V0UmVuZGVyYWJsZShtb2RlbFJlbmRlcmFibGUpOwogICAgICAgICAgICAgICAgbm9kZS5zZWxlY3QoKTsKICAgICAgICAgICAgfSk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.google.ar.core.HitResult;
import com.google.ar.core.Plane;
import com.google.ar.sceneform.AnchorNode;
import com.google.ar.sceneform.rendering.ModelRenderable;
import com.google.ar.sceneform.ux.TransformableNode;

public class ARActivity extends AppCompatActivity {
    private ArFragment arFragment;
    private ModelRenderable modelRenderable;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_ar);

        arFragment = (ArFragment) getSupportFragmentManager().findFragmentById(R.id.ux_fragment);

        ModelRenderable.builder()
            .setSource(this, Uri.parse(&quot;model.sfb&quot;))
            .build()
            .thenAccept(renderable -&gt; modelRenderable = renderable)
            .exceptionally(
                throwable -&gt; {
                    Toast.makeText(this, &quot;Unable to load model&quot;, Toast.LENGTH_SHORT).show();
                    return null;
                });

        arFragment.setOnTapArPlaneListener(
            (HitResult hitResult, Plane plane, MotionEvent motionEvent) -&gt; {
                if (modelRenderable == null) {
                    return;
                }

                Anchor anchor = hitResult.createAnchor();
                AnchorNode anchorNode = new AnchorNode(anchor);
                anchorNode.setParent(arFragment.getArSceneView().getScene());

                TransformableNode node = new TransformableNode(arFragment.getTransformationSystem());
                node.setParent(anchorNode);
                node.setRenderable(modelRenderable);
                node.select();
            });
    }
}</pre></div><div class='content'></div><h1>Ejercicio práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Agregar interacción con el objeto 3D</h2>
<div class='content'><p><strong>Objetivo:</strong> Permitir que el usuario interactúe con el objeto 3D, por ejemplo, cambiando su color al tocarlo.</p>
<p><strong>Instrucciones:</strong></p>
<ol>
<li>Modifica el código en <code>ARActivity.java</code> para detectar toques en el objeto 3D.</li>
<li>Cambia el color del objeto cuando el usuario lo toque.</li>
</ol>
<p><strong>Solución:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5nb29nbGUuYXIuc2NlbmVmb3JtLk5vZGU7CmltcG9ydCBjb20uZ29vZ2xlLmFyLnNjZW5lZm9ybS5yZW5kZXJpbmcuQ29sb3I7CmltcG9ydCBjb20uZ29vZ2xlLmFyLnNjZW5lZm9ybS5yZW5kZXJpbmcuTWF0ZXJpYWxGYWN0b3J5OwoKcHVibGljIGNsYXNzIEFSQWN0aXZpdHkgZXh0ZW5kcyBBcHBDb21wYXRBY3Rpdml0eSB7CiAgICBwcml2YXRlIEFyRnJhZ21lbnQgYXJGcmFnbWVudDsKICAgIHByaXZhdGUgTW9kZWxSZW5kZXJhYmxlIG1vZGVsUmVuZGVyYWJsZTsKCiAgICBAT3ZlcnJpZGUKICAgIHByb3RlY3RlZCB2b2lkIG9uQ3JlYXRlKEJ1bmRsZSBzYXZlZEluc3RhbmNlU3RhdGUpIHsKICAgICAgICBzdXBlci5vbkNyZWF0ZShzYXZlZEluc3RhbmNlU3RhdGUpOwogICAgICAgIHNldENvbnRlbnRWaWV3KFIubGF5b3V0LmFjdGl2aXR5X2FyKTsKCiAgICAgICAgYXJGcmFnbWVudCA9IChBckZyYWdtZW50KSBnZXRTdXBwb3J0RnJhZ21lbnRNYW5hZ2VyKCkuZmluZEZyYWdtZW50QnlJZChSLmlkLnV4X2ZyYWdtZW50KTsKCiAgICAgICAgTW9kZWxSZW5kZXJhYmxlLmJ1aWxkZXIoKQogICAgICAgICAgICAuc2V0U291cmNlKHRoaXMsIFVyaS5wYXJzZSgibW9kZWwuc2ZiIikpCiAgICAgICAgICAgIC5idWlsZCgpCiAgICAgICAgICAgIC50aGVuQWNjZXB0KHJlbmRlcmFibGUgLT4gbW9kZWxSZW5kZXJhYmxlID0gcmVuZGVyYWJsZSkKICAgICAgICAgICAgLmV4Y2VwdGlvbmFsbHkoCiAgICAgICAgICAgICAgICB0aHJvd2FibGUgLT4gewogICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KHRoaXMsICJVbmFibGUgdG8gbG9hZCBtb2RlbCIsIFRvYXN0LkxFTkdUSF9TSE9SVCkuc2hvdygpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgIGFyRnJhZ21lbnQuc2V0T25UYXBBclBsYW5lTGlzdGVuZXIoCiAgICAgICAgICAgIChIaXRSZXN1bHQgaGl0UmVzdWx0LCBQbGFuZSBwbGFuZSwgTW90aW9uRXZlbnQgbW90aW9uRXZlbnQpIC0+IHsKICAgICAgICAgICAgICAgIGlmIChtb2RlbFJlbmRlcmFibGUgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBBbmNob3IgYW5jaG9yID0gaGl0UmVzdWx0LmNyZWF0ZUFuY2hvcigpOwogICAgICAgICAgICAgICAgQW5jaG9yTm9kZSBhbmNob3JOb2RlID0gbmV3IEFuY2hvck5vZGUoYW5jaG9yKTsKICAgICAgICAgICAgICAgIGFuY2hvck5vZGUuc2V0UGFyZW50KGFyRnJhZ21lbnQuZ2V0QXJTY2VuZVZpZXcoKS5nZXRTY2VuZSgpKTsKCiAgICAgICAgICAgICAgICBUcmFuc2Zvcm1hYmxlTm9kZSBub2RlID0gbmV3IFRyYW5zZm9ybWFibGVOb2RlKGFyRnJhZ21lbnQuZ2V0VHJhbnNmb3JtYXRpb25TeXN0ZW0oKSk7CiAgICAgICAgICAgICAgICBub2RlLnNldFBhcmVudChhbmNob3JOb2RlKTsKICAgICAgICAgICAgICAgIG5vZGUuc2V0UmVuZGVyYWJsZShtb2RlbFJlbmRlcmFibGUpOwogICAgICAgICAgICAgICAgbm9kZS5zZWxlY3QoKTsKCiAgICAgICAgICAgICAgICBub2RlLnNldE9uVGFwTGlzdGVuZXIoKGhpdFRlc3RSZXN1bHQsIG1vdGlvbkV2ZW50MSkgLT4gewogICAgICAgICAgICAgICAgICAgIE1hdGVyaWFsRmFjdG9yeS5tYWtlT3BhcXVlV2l0aENvbG9yKHRoaXMsIG5ldyBDb2xvcihhbmRyb2lkLmdyYXBoaWNzLkNvbG9yLlJFRCkpCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuQWNjZXB0KG1hdGVyaWFsIC0+IG1vZGVsUmVuZGVyYWJsZS5zZXRNYXRlcmlhbChtYXRlcmlhbCkpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.google.ar.sceneform.Node;
import com.google.ar.sceneform.rendering.Color;
import com.google.ar.sceneform.rendering.MaterialFactory;

public class ARActivity extends AppCompatActivity {
    private ArFragment arFragment;
    private ModelRenderable modelRenderable;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_ar);

        arFragment = (ArFragment) getSupportFragmentManager().findFragmentById(R.id.ux_fragment);

        ModelRenderable.builder()
            .setSource(this, Uri.parse(&quot;model.sfb&quot;))
            .build()
            .thenAccept(renderable -&gt; modelRenderable = renderable)
            .exceptionally(
                throwable -&gt; {
                    Toast.makeText(this, &quot;Unable to load model&quot;, Toast.LENGTH_SHORT).show();
                    return null;
                });

        arFragment.setOnTapArPlaneListener(
            (HitResult hitResult, Plane plane, MotionEvent motionEvent) -&gt; {
                if (modelRenderable == null) {
                    return;
                }

                Anchor anchor = hitResult.createAnchor();
                AnchorNode anchorNode = new AnchorNode(anchor);
                anchorNode.setParent(arFragment.getArSceneView().getScene());

                TransformableNode node = new TransformableNode(arFragment.getTransformationSystem());
                node.setParent(anchorNode);
                node.setRenderable(modelRenderable);
                node.select();

                node.setOnTapListener((hitTestResult, motionEvent1) -&gt; {
                    MaterialFactory.makeOpaqueWithColor(this, new Color(android.graphics.Color.RED))
                        .thenAccept(material -&gt; modelRenderable.setMaterial(material));
                });
            });
    }
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En este módulo, has aprendido a configurar ARCore en tu proyecto Android, crear una actividad AR, y agregar un objeto 3D interactivo. La realidad aumentada ofrece muchas posibilidades para crear aplicaciones innovadoras y atractivas. Continúa explorando las capacidades de ARCore para llevar tus aplicaciones al siguiente nivel.</p>
<p>En el próximo módulo, exploraremos cómo implementar compras dentro de la aplicación para monetizar tus aplicaciones de Android.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='06-04-using-machine-learning-in-android' title="Usando aprendizaje automático en Android">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
