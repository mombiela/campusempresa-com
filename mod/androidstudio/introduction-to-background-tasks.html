<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introducción a las Tareas en Segundo Plano</title>

    <link rel="alternate" href="https://campusempresa.com/mod/androidstudio/introduction-to-background-tasks" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/androidstudio/introduction-to-background-tasks" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/androidstudio/introduction-to-background-tasks" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/androidstudio/introduction-to-background-tasks" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/androidstudio/introduction-to-background-tasks" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/androidstudio/introduction-to-background-tasks">https://enterprisecampus.net/mod/androidstudio/introduction-to-background-tasks</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='animations-and-transitions'>&#x25C4;Animaciones y Transiciones</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introducción a las Tareas en Segundo Plano</a>
	</div>
	<div class='col-4 text-end'>
					<a href='services'>Servicios &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En esta sección, exploraremos el concepto de tareas en segundo plano en el desarrollo de Android. Las tareas en segundo plano son esenciales para realizar operaciones que no deben bloquear el hilo principal de la interfaz de usuario, asegurando una experiencia de usuario fluida.</p>
</div><h1>¿Qué son las Tareas en Segundo Plano?</h1>
<div class='content'><p>Las tareas en segundo plano son operaciones que se ejecutan fuera del hilo principal de la interfaz de usuario. Se utilizan para tareas que:</p>
<ul>
<li>Toman mucho tiempo en completarse (por ejemplo, descargar un archivo).</li>
<li>Necesitan realizarse periódicamente (por ejemplo, sincronizar datos con un servidor).</li>
<li>Deben continuar ejecutándose incluso cuando el usuario no está interactuando con la aplicación (por ejemplo, reproducción de música en segundo plano).</li>
</ul>
</div><h1>Importancia de las Tareas en Segundo Plano</h1>
<div class='content'><ul>
<li><strong>Mejora de la Experiencia del Usuario</strong>: Al descargar tareas de larga duración al segundo plano, el hilo principal de la interfaz de usuario permanece receptivo.</li>
<li><strong>Gestión de Recursos</strong>: Gestionar eficientemente los recursos del sistema programando tareas durante los tiempos de inactividad.</li>
<li><strong>Eficiencia de la Batería</strong>: Las tareas en segundo plano bien gestionadas pueden ayudar a conservar la vida de la batería.</li>
</ul>
</div><h1>Métodos Comunes para Implementar Tareas en Segundo Plano</h1>
<div class='content'></div><h2>AsyncTask (Obsoleto)</h2>
<div class='content'><p><code>AsyncTask</code> era una forma popular de realizar operaciones en segundo plano antes de ser obsoleto en Android 11. Permitía la ejecución fácil de tareas en segundo plano con callbacks al hilo principal.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJpdmF0ZSBjbGFzcyBEb3dubG9hZFRhc2sgZXh0ZW5kcyBBc3luY1Rhc2s8U3RyaW5nLCBWb2lkLCBTdHJpbmc+IHsKICAgIEBPdmVycmlkZQogICAgcHJvdGVjdGVkIFN0cmluZyBkb0luQmFja2dyb3VuZChTdHJpbmcuLi4gdXJscykgewogICAgICAgIC8vIFJlYWxpemFyIG9wZXJhY2nDs24gZW4gc2VndW5kbyBwbGFubwogICAgICAgIHJldHVybiBkb3dubG9hZEZpbGUodXJsc1swXSk7CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwcm90ZWN0ZWQgdm9pZCBvblBvc3RFeGVjdXRlKFN0cmluZyByZXN1bHQpIHsKICAgICAgICAvLyBBY3R1YWxpemFyIGxhIGludGVyZmF6IGRlIHVzdWFyaW8gY29uIGVsIHJlc3VsdGFkbwogICAgICAgIHRleHRWaWV3LnNldFRleHQocmVzdWx0KTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>private class DownloadTask extends AsyncTask&lt;String, Void, String&gt; {
    @Override
    protected String doInBackground(String... urls) {
        // Realizar operaci&oacute;n en segundo plano
        return downloadFile(urls[0]);
    }

    @Override
    protected void onPostExecute(String result) {
        // Actualizar la interfaz de usuario con el resultado
        textView.setText(result);
    }
}</pre></div><div class='content'></div><h2>HandlerThread</h2>
<div class='content'><p><code>HandlerThread</code> es una forma sencilla de crear un hilo en segundo plano con un <code>Looper</code> y <code>Handler</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SGFuZGxlclRocmVhZCBoYW5kbGVyVGhyZWFkID0gbmV3IEhhbmRsZXJUaHJlYWQoIkJhY2tncm91bmRUaHJlYWQiKTsKaGFuZGxlclRocmVhZC5zdGFydCgpOwpIYW5kbGVyIGhhbmRsZXIgPSBuZXcgSGFuZGxlcihoYW5kbGVyVGhyZWFkLmdldExvb3BlcigpKTsKCmhhbmRsZXIucG9zdChuZXcgUnVubmFibGUoKSB7CiAgICBAT3ZlcnJpZGUKICAgIHB1YmxpYyB2b2lkIHJ1bigpIHsKICAgICAgICAvLyBSZWFsaXphciBvcGVyYWNpw7NuIGVuIHNlZ3VuZG8gcGxhbm8KICAgIH0KfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>HandlerThread handlerThread = new HandlerThread(&quot;BackgroundThread&quot;);
handlerThread.start();
Handler handler = new Handler(handlerThread.getLooper());

handler.post(new Runnable() {
    @Override
    public void run() {
        // Realizar operaci&oacute;n en segundo plano
    }
});</pre></div><div class='content'></div><h2>WorkManager</h2>
<div class='content'><p><code>WorkManager</code> es la solución recomendada para tareas en segundo plano que necesitan ejecución garantizada. Es adecuado para tareas que se pueden diferir y requieren ejecución garantizada, como sincronizaciones periódicas de datos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE15V29ya2VyIGV4dGVuZHMgV29ya2VyIHsKICAgIHB1YmxpYyBNeVdvcmtlcihATm9uTnVsbCBDb250ZXh0IGNvbnRleHQsIEBOb25OdWxsIFdvcmtlclBhcmFtZXRlcnMgcGFyYW1zKSB7CiAgICAgICAgc3VwZXIoY29udGV4dCwgcGFyYW1zKTsKICAgIH0KCiAgICBATm9uTnVsbAogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgUmVzdWx0IGRvV29yaygpIHsKICAgICAgICAvLyBSZWFsaXphciBvcGVyYWNpw7NuIGVuIHNlZ3VuZG8gcGxhbm8KICAgICAgICByZXR1cm4gUmVzdWx0LnN1Y2Nlc3MoKTsKICAgIH0KfQoKLy8gRW5jb2xhciBlbCB0cmFiYWpvCldvcmtNYW5hZ2VyIHdvcmtNYW5hZ2VyID0gV29ya01hbmFnZXIuZ2V0SW5zdGFuY2UoY29udGV4dCk7Ck9uZVRpbWVXb3JrUmVxdWVzdCB3b3JrUmVxdWVzdCA9IG5ldyBPbmVUaW1lV29ya1JlcXVlc3QuQnVpbGRlcihNeVdvcmtlci5jbGFzcykuYnVpbGQoKTsKd29ya01hbmFnZXIuZW5xdWV1ZSh3b3JrUmVxdWVzdCk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class MyWorker extends Worker {
    public MyWorker(@NonNull Context context, @NonNull WorkerParameters params) {
        super(context, params);
    }

    @NonNull
    @Override
    public Result doWork() {
        // Realizar operaci&oacute;n en segundo plano
        return Result.success();
    }
}

// Encolar el trabajo
WorkManager workManager = WorkManager.getInstance(context);
OneTimeWorkRequest workRequest = new OneTimeWorkRequest.Builder(MyWorker.class).build();
workManager.enqueue(workRequest);</pre></div><div class='content'></div><h2>Services</h2>
<div class='content'><p><code>Service</code> es un componente que puede realizar operaciones de larga duración en segundo plano. Hay dos tipos de servicios:</p>
<ul>
<li><strong>Started Service</strong>: Se ejecuta indefinidamente hasta que se detiene.</li>
<li><strong>Bound Service</strong>: Se vincula a un componente y se ejecuta mientras el componente esté vinculado.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIE15U2VydmljZSBleHRlbmRzIFNlcnZpY2UgewogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgaW50IG9uU3RhcnRDb21tYW5kKEludGVudCBpbnRlbnQsIGludCBmbGFncywgaW50IHN0YXJ0SWQpIHsKICAgICAgICAvLyBSZWFsaXphciBvcGVyYWNpw7NuIGVuIHNlZ3VuZG8gcGxhbm8KICAgICAgICByZXR1cm4gU1RBUlRfU1RJQ0tZOwogICAgfQoKICAgIEBPdmVycmlkZQogICAgcHVibGljIElCaW5kZXIgb25CaW5kKEludGVudCBpbnRlbnQpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class MyService extends Service {
    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        // Realizar operaci&oacute;n en segundo plano
        return START_STICKY;
    }

    @Override
    public IBinder onBind(Intent intent) {
        return null;
    }
}</pre></div><div class='content'></div><h1>Elegir la Herramienta Adecuada</h1>
<div class='content'><table>
<thead>
<tr>
<th>Método</th>
<th>Caso de Uso</th>
<th>Pros</th>
<th>Contras</th>
</tr>
</thead>
<tbody>
<tr>
<td>AsyncTask</td>
<td>Tareas simples y de corta duración</td>
<td>Fácil de implementar</td>
<td>Obsoleto, no adecuado para tareas largas</td>
</tr>
<tr>
<td>HandlerThread</td>
<td>Tareas en segundo plano con manejo de mensajes</td>
<td>Simple, ligero</td>
<td>Gestión manual de hilos</td>
</tr>
<tr>
<td>WorkManager</td>
<td>Tareas garantizadas y diferibles</td>
<td>Ejecución garantizada, eficiente en batería</td>
<td>Configuración más compleja</td>
</tr>
<tr>
<td>Service</td>
<td>Tareas de larga duración</td>
<td>Se ejecuta independientemente de la UI</td>
<td>Requiere más código boilerplate</td>
</tr>
</tbody>
</table>
</div><h1>Ejemplo de Código: Usando WorkManager</h1>
<div class='content'><p>Implementemos un ejemplo simple usando <code>WorkManager</code> para realizar una tarea en segundo plano que descarga datos de una URL.</p>
<ol>
<li><strong>Agregar Dependencia</strong>: Agrega la dependencia de WorkManager a tu archivo <code>build.gradle</code>.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzIHsKICAgIGltcGxlbWVudGF0aW9uICJhbmRyb2lkeC53b3JrOndvcmstcnVudGltZToyLjcuMCIKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies {
    implementation &quot;androidx.work:work-runtime:2.7.0&quot;
}</pre></div><div class='content'><ol start="2">
<li><strong>Crear Clase Worker</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIERvd25sb2FkV29ya2VyIGV4dGVuZHMgV29ya2VyIHsKICAgIHB1YmxpYyBEb3dubG9hZFdvcmtlcihATm9uTnVsbCBDb250ZXh0IGNvbnRleHQsIEBOb25OdWxsIFdvcmtlclBhcmFtZXRlcnMgcGFyYW1zKSB7CiAgICAgICAgc3VwZXIoY29udGV4dCwgcGFyYW1zKTsKICAgIH0KCiAgICBATm9uTnVsbAogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgUmVzdWx0IGRvV29yaygpIHsKICAgICAgICAvLyBSZWFsaXphciBvcGVyYWNpw7NuIGRlIGRlc2NhcmdhCiAgICAgICAgU3RyaW5nIGRhdGEgPSBkb3dubG9hZERhdGEoKTsKICAgICAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybiBSZXN1bHQuc3VjY2VzcygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBSZXN1bHQucmV0cnkoKTsKICAgICAgICB9CiAgICB9CgogICAgcHJpdmF0ZSBTdHJpbmcgZG93bmxvYWREYXRhKCkgewogICAgICAgIC8vIFNpbXVsYXIgb3BlcmFjacOzbiBkZSBkZXNjYXJnYQogICAgICAgIHJldHVybiAiRGF0b3MgZGVzY2FyZ2Fkb3MiOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class DownloadWorker extends Worker {
    public DownloadWorker(@NonNull Context context, @NonNull WorkerParameters params) {
        super(context, params);
    }

    @NonNull
    @Override
    public Result doWork() {
        // Realizar operaci&oacute;n de descarga
        String data = downloadData();
        if (data != null) {
            return Result.success();
        } else {
            return Result.retry();
        }
    }

    private String downloadData() {
        // Simular operaci&oacute;n de descarga
        return &quot;Datos descargados&quot;;
    }
}</pre></div><div class='content'><ol start="3">
<li><strong>Encolar Solicitud de Trabajo</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("V29ya01hbmFnZXIgd29ya01hbmFnZXIgPSBXb3JrTWFuYWdlci5nZXRJbnN0YW5jZShjb250ZXh0KTsKT25lVGltZVdvcmtSZXF1ZXN0IGRvd25sb2FkUmVxdWVzdCA9IG5ldyBPbmVUaW1lV29ya1JlcXVlc3QuQnVpbGRlcihEb3dubG9hZFdvcmtlci5jbGFzcykuYnVpbGQoKTsKd29ya01hbmFnZXIuZW5xdWV1ZShkb3dubG9hZFJlcXVlc3QpOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>WorkManager workManager = WorkManager.getInstance(context);
OneTimeWorkRequest downloadRequest = new OneTimeWorkRequest.Builder(DownloadWorker.class).build();
workManager.enqueue(downloadRequest);</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Las tareas en segundo plano son cruciales para mantener una aplicación de Android receptiva y eficiente. Al comprender y utilizar las herramientas adecuadas como <code>HandlerThread</code>, <code>WorkManager</code> y <code>Service</code>, los desarrolladores pueden asegurarse de que sus aplicaciones funcionen de manera fluida y eficiente. Siempre elige la herramienta adecuada según los requisitos específicos de tu tarea para lograr los mejores resultados.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='animations-and-transitions'>&#x25C4;Animaciones y Transiciones</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introducción a las Tareas en Segundo Plano</a>
	</div>
	<div class='col-4 text-end'>
					<a href='services'>Servicios &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
