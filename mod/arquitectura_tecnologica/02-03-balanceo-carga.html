<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Balanceo de Carga</title>

    <link rel="alternate" href="https://campusempresa.com/mod/arquitectura_tecnologica/02-03-balanceo-carga" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/arquitectura_tecnologica/02-03-balanceo-carga" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/arquitectura_tecnologica/02-03-load-balancing" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/arquitectura_tecnologica/02-03-balanceo-carga" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/arquitectura_tecnologica/02-03-balanceo-carga" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='02-02-patrones-diseno-escalable' title="Patrones de Diseño Escalable">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Balanceo de Carga</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='02-04-cache-almacenamiento' title="Caché y Almacenamiento en Memoria">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>El balanceo de carga es una técnica fundamental en la arquitectura tecnológica que permite distribuir el tráfico de red o las solicitudes de servicio entre varios servidores. Esto asegura que ningún servidor se sobrecargue, mejorando la disponibilidad y la capacidad de respuesta del sistema. En esta sección, exploraremos los conceptos clave, los tipos de balanceadores de carga, y cómo implementarlos en una arquitectura tecnológica.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'></div><h2>¿Qué es el Balanceo de Carga?</h2>
<div class='content'><p>El balanceo de carga es el proceso de distribuir de manera equitativa las cargas de trabajo entre varios recursos informáticos, como servidores, clústeres de servidores, enlaces de red, etc. Esto se hace para optimizar el uso de recursos, maximizar el rendimiento y evitar la sobrecarga de cualquier recurso único.</p>
</div><h2>Beneficios del Balanceo de Carga</h2>
<div class='content'><ul>
<li><strong>Alta Disponibilidad</strong>: Asegura que el sistema esté siempre disponible, incluso si uno o más servidores fallan.</li>
<li><strong>Escalabilidad</strong>: Permite agregar más servidores para manejar un aumento en la carga de trabajo.</li>
<li><strong>Rendimiento Mejorado</strong>: Distribuye las solicitudes de manera que ningún servidor se sobrecargue, mejorando el tiempo de respuesta.</li>
<li><strong>Redundancia</strong>: Proporciona un mecanismo de respaldo en caso de fallos del servidor.</li>
</ul>
</div><h1>Tipos de Balanceadores de Carga</h1>
<div class='content'></div><h2>Balanceadores de Carga de Hardware</h2>
<div class='content'><p>Estos son dispositivos físicos dedicados que distribuyen el tráfico de red entre varios servidores. Son altamente eficientes y ofrecen características avanzadas como la aceleración SSL, pero pueden ser costosos.</p>
</div><h2>Balanceadores de Carga de Software</h2>
<div class='content'><p>Estos son programas que se ejecutan en servidores estándar y distribuyen el tráfico de red. Son más flexibles y económicos que los balanceadores de hardware. Ejemplos incluyen HAProxy, Nginx y Apache Traffic Server.</p>
</div><h2>Balanceadores de Carga en la Nube</h2>
<div class='content'><p>Proporcionados por servicios de nube como AWS Elastic Load Balancing, Azure Load Balancer y Google Cloud Load Balancing. Ofrecen escalabilidad automática y alta disponibilidad sin la necesidad de gestionar hardware físico.</p>
</div><h1>Algoritmos de Balanceo de Carga</h1>
<div class='content'></div><h2>Round Robin</h2>
<div class='content'><p>Distribuye las solicitudes de manera secuencial entre los servidores disponibles. Es simple pero no considera la carga actual de cada servidor.</p>
</div><h2>Least Connections</h2>
<div class='content'><p>Envía la solicitud al servidor con la menor cantidad de conexiones activas. Es útil cuando las cargas de trabajo varían significativamente.</p>
</div><h2>IP Hash</h2>
<div class='content'><p>Asigna una solicitud a un servidor basado en un hash de la dirección IP del cliente. Esto asegura que las solicitudes del mismo cliente siempre se dirijan al mismo servidor.</p>
</div><h2>Weighted Round Robin</h2>
<div class='content'><p>Similar al Round Robin, pero permite asignar un peso a cada servidor. Los servidores con mayor capacidad reciben más solicitudes.</p>
</div><h1>Implementación de Balanceo de Carga</h1>
<div class='content'></div><h2>Ejemplo con HAProxy</h2>
<div class='content'><p>HAProxy es un balanceador de carga de software popular y de alto rendimiento. A continuación, se muestra un ejemplo básico de configuración de HAProxy para balancear la carga entre dos servidores web.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2xvYmFsCiAgICBsb2cgL2Rldi9sb2cgbG9jYWwwCiAgICBsb2cgL2Rldi9sb2cgbG9jYWwxIG5vdGljZQogICAgY2hyb290IC92YXIvbGliL2hhcHJveHkKICAgIHN0YXRzIHNvY2tldCAvcnVuL2hhcHJveHkvYWRtaW4uc29jayBtb2RlIDY2MCBsZXZlbCBhZG1pbgogICAgc3RhdHMgdGltZW91dCAzMHMKICAgIHVzZXIgaGFwcm94eQogICAgZ3JvdXAgaGFwcm94eQogICAgZGFlbW9uCgpkZWZhdWx0cwogICAgbG9nIGdsb2JhbAogICAgbW9kZSBodHRwCiAgICBvcHRpb24gaHR0cGxvZwogICAgb3B0aW9uIGRvbnRsb2dudWxsCiAgICB0aW1lb3V0IGNvbm5lY3QgNTAwMAogICAgdGltZW91dCBjbGllbnQgIDUwMDAwCiAgICB0aW1lb3V0IHNlcnZlciAgNTAwMDAKCmZyb250ZW5kIGh0dHBfZnJvbnQKICAgIGJpbmQgKjo4MAogICAgZGVmYXVsdF9iYWNrZW5kIGh0dHBfYmFjawoKYmFja2VuZCBodHRwX2JhY2sKICAgIGJhbGFuY2Ugcm91bmRyb2JpbgogICAgc2VydmVyIHdlYnNlcnZlcjEgMTkyLjE2OC4xLjI6ODAgY2hlY2sKICAgIHNlcnZlciB3ZWJzZXJ2ZXIyIDE5Mi4xNjguMS4zOjgwIGNoZWNr"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>global
    log /dev/log local0
    log /dev/log local1 notice
    chroot /var/lib/haproxy
    stats socket /run/haproxy/admin.sock mode 660 level admin
    stats timeout 30s
    user haproxy
    group haproxy
    daemon

defaults
    log global
    mode http
    option httplog
    option dontlognull
    timeout connect 5000
    timeout client  50000
    timeout server  50000

frontend http_front
    bind *:80
    default_backend http_back

backend http_back
    balance roundrobin
    server webserver1 192.168.1.2:80 check
    server webserver2 192.168.1.3:80 check</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ul>
<li><strong>global</strong>: Configuración global de HAProxy.</li>
<li><strong>defaults</strong>: Configuración predeterminada para todas las secciones.</li>
<li><strong>frontend http_front</strong>: Define el punto de entrada para las solicitudes HTTP.
<ul>
<li><code>bind *:80</code>: Escucha en el puerto 80.</li>
<li><code>default_backend http_back</code>: Redirige las solicitudes al backend definido.</li>
</ul>
</li>
<li><strong>backend http_back</strong>: Define los servidores backend.
<ul>
<li><code>balance roundrobin</code>: Utiliza el algoritmo Round Robin.</li>
<li><code>server webserver1 192.168.1.2:80 check</code>: Define el primer servidor backend.</li>
<li><code>server webserver2 192.168.1.3:80 check</code>: Define el segundo servidor backend.</li>
</ul>
</li>
</ul>
</div><h1>Ejercicio Práctico</h1>
<div class='content'></div><h2>Ejercicio 1: Configuración de Balanceo de Carga con Nginx</h2>
<div class='content'><p><strong>Objetivo</strong>: Configurar Nginx como un balanceador de carga para distribuir el tráfico entre dos servidores web.</p>
<p><strong>Instrucciones</strong>:</p>
<ol>
<li>Instala Nginx en tu servidor.</li>
<li>Edita el archivo de configuración de Nginx (<code>nginx.conf</code> o un archivo de configuración en <code>/etc/nginx/sites-available/</code>).</li>
<li>Añade la siguiente configuración para balancear la carga entre dos servidores.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aHR0cCB7CiAgICB1cHN0cmVhbSBiYWNrZW5kIHsKICAgICAgICBzZXJ2ZXIgMTkyLjE2OC4xLjI7CiAgICAgICAgc2VydmVyIDE5Mi4xNjguMS4zOwogICAgfQoKICAgIHNlcnZlciB7CiAgICAgICAgbGlzdGVuIDgwOwoKICAgICAgICBsb2NhdGlvbiAvIHsKICAgICAgICAgICAgcHJveHlfcGFzcyBodHRwOi8vYmFja2VuZDsKICAgICAgICB9CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>http {
    upstream backend {
        server 192.168.1.2;
        server 192.168.1.3;
    }

    server {
        listen 80;

        location / {
            proxy_pass http://backend;
        }
    }
}</pre></div><div class='content'><p><strong>Explicación</strong>:</p>
<ul>
<li><strong>upstream backend</strong>: Define un grupo de servidores backend.
<ul>
<li><code>server 192.168.1.2;</code>: Primer servidor backend.</li>
<li><code>server 192.168.1.3;</code>: Segundo servidor backend.</li>
</ul>
</li>
<li><strong>server</strong>: Configura el servidor Nginx para escuchar en el puerto 80.
<ul>
<li><code>location /</code>: Redirige todas las solicitudes al grupo de servidores backend definido.</li>
</ul>
</li>
</ul>
<p><strong>Solución</strong>:</p>
<ol>
<li>Guarda el archivo de configuración.</li>
<li>Reinicia Nginx para aplicar los cambios: <code>sudo systemctl restart nginx</code>.</li>
</ol>
</div><h2>Retroalimentación y Consejos</h2>
<div class='content'><ul>
<li><strong>Error Común</strong>: No reiniciar el servicio Nginx después de realizar cambios en la configuración. Asegúrate de reiniciar Nginx para que los cambios surtan efecto.</li>
<li><strong>Consejo</strong>: Utiliza herramientas como <code>curl</code> o un navegador web para verificar que el balanceo de carga está funcionando correctamente.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>El balanceo de carga es una técnica esencial para garantizar la alta disponibilidad, escalabilidad y rendimiento de los sistemas tecnológicos. Al comprender los diferentes tipos de balanceadores de carga y los algoritmos de distribución, puedes diseñar arquitecturas tecnológicas robustas y eficientes. En la próxima sección, exploraremos cómo utilizar caché y almacenamiento en memoria para mejorar aún más el rendimiento del sistema.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='02-02-patrones-diseno-escalable' title="Patrones de Diseño Escalable">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='02-04-cache-almacenamiento' title="Caché y Almacenamiento en Memoria">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
