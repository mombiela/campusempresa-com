<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Lambda</title>

    <link rel="alternate" href="https://campusempresa.com/mod/aws/02-04-aws-lambda" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/aws/02-04-aws-lambda" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/aws/02-04-aws-lambda" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=2" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/aws/02-04-aws-lambda" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/aws/02-04-aws-lambda" class="px-2">CA</a>
<br>
			<cite>Construyendo la sociedad de hoy y del mañana</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				 					<a href="/categ/languages">Lenguajes de Programación</a>
				 					<a href="/categ/frameworks">Frameworks y Librerías</a>
				 					<a href="/categ/tech-tools">Herramientas Técnicas</a>
				 					<a href="/categ/foundations">Fundamentos Teóricos</a>
				 					<a href="/categ/soft-skills">Habilidades Sociales</a>
							</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-03-amazon-rds' title="Amazon RDS">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">AWS Lambda</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-01-amazon-vpc' title="Amazon VPC">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1><p>Introducción a AWS Lambda</p>
</h1>
<div class='content'><p>AWS Lambda es un servicio de computación sin servidor que te permite ejecutar código sin aprovisionar ni gestionar servidores. Con Lambda, puedes ejecutar código para casi cualquier tipo de aplicación o servicio backend, todo con cero administración.</p>
</div><h2><p>Conceptos Clave</p>
</h2>
<div class='content'><ul>
<li><strong>Función Lambda</strong>: Es una unidad de ejecución de código en AWS Lambda. Cada función tiene su propio código y configuración.</li>
<li><strong>Evento</strong>: Es una acción que desencadena la ejecución de una función Lambda. Los eventos pueden provenir de otros servicios de AWS, como S3, DynamoDB, o incluso solicitudes HTTP a través de API Gateway.</li>
<li><strong>Tiempo de ejecución</strong>: Es el entorno en el que se ejecuta tu código. AWS Lambda soporta varios lenguajes de programación, incluyendo Node.js, Python, Java, y más.</li>
<li><strong>Desencadenadores</strong>: Son las fuentes de eventos que pueden invocar tu función Lambda.</li>
</ul>
</div><h2><p>Ventajas de AWS Lambda</p>
</h2>
<div class='content'><ul>
<li><strong>Sin servidor</strong>: No necesitas gestionar servidores ni preocuparte por la infraestructura subyacente.</li>
<li><strong>Escalabilidad automática</strong>: Lambda escala automáticamente en respuesta al número de eventos entrantes.</li>
<li><strong>Pago por uso</strong>: Solo pagas por el tiempo de ejecución de tu código y la cantidad de solicitudes.</li>
</ul>
</div><h1><p>Configuración de una Función Lambda</p>
</h1>
<div class='content'></div><h2><p>Paso 1: Crear una Función Lambda</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Accede a la Consola de AWS Lambda</strong>:</p>
<ul>
<li>Inicia sesión en la consola de administración de AWS.</li>
<li>Navega a <strong>Servicios</strong> y selecciona <strong>Lambda</strong>.</li>
</ul>
</li>
<li>
<p><strong>Crear una nueva función</strong>:</p>
<ul>
<li>Haz clic en <strong>Crear función</strong>.</li>
<li>Selecciona <strong>Crear desde cero</strong>.</li>
<li>Proporciona un nombre para tu función.</li>
<li>Selecciona el tiempo de ejecución (por ejemplo, Python 3.8).</li>
<li>Configura un rol de ejecución. Puedes crear un nuevo rol con permisos básicos de Lambda.</li>
</ul>
</li>
<li>
<p><strong>Escribir el código de la función</strong>:</p>
<ul>
<li>En la sección de código, puedes escribir tu función directamente en el editor en línea o subir un archivo ZIP con tu código.</li>
<li>Ejemplo de código en Python:
<pre><code class="language-python">import json

def lambda_handler(event, context):
    # TODO: write your code here
    return {
        'statusCode': 200,
        'body': json.dumps('Hello from Lambda!')
    }
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Configurar el desencadenador</strong>:</p>
<ul>
<li>En la sección de <strong>Desencadenadores</strong>, puedes agregar una fuente de eventos que invocará tu función Lambda, como un bucket de S3, una tabla de DynamoDB, o una API Gateway.</li>
</ul>
</li>
<li>
<p><strong>Guardar y probar</strong>:</p>
<ul>
<li>Haz clic en <strong>Guardar</strong>.</li>
<li>Puedes probar tu función Lambda creando un evento de prueba en la consola.</li>
</ul>
</li>
</ol>
</div><h2><p>Paso 2: Probar la Función Lambda</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un evento de prueba</strong>:</p>
<ul>
<li>En la consola de Lambda, selecciona tu función.</li>
<li>Haz clic en <strong>Probar</strong>.</li>
<li>Configura un evento de prueba con datos de ejemplo.</li>
<li>Haz clic en <strong>Crear</strong> y luego en <strong>Probar</strong>.</li>
</ul>
</li>
<li>
<p><strong>Ver los resultados</strong>:</p>
<ul>
<li>La consola mostrará el resultado de la ejecución de tu función Lambda, incluyendo el estado de la respuesta y cualquier salida de registro.</li>
</ul>
</li>
</ol>
</div><h1><p>Ejemplo Práctico: Procesamiento de Imágenes con S3 y Lambda</p>
</h1>
<div class='content'></div><h2><p>Escenario</p>
</h2>
<div class='content'><p>Queremos crear una función Lambda que se active cada vez que se suba una imagen a un bucket de S3. La función Lambda procesará la imagen y generará una versión en miniatura.</p>
</div><h2><p>Paso 1: Configurar el Bucket de S3</p>
</h2>
<div class='content'><ol>
<li><strong>Crear un bucket de S3</strong>:
<ul>
<li>En la consola de S3, crea un nuevo bucket.</li>
<li>Configura los permisos y políticas necesarias para permitir que Lambda acceda al bucket.</li>
</ul>
</li>
</ol>
</div><h2><p>Paso 2: Crear la Función Lambda</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Crear la función Lambda</strong>:</p>
<ul>
<li>Sigue los pasos mencionados anteriormente para crear una nueva función Lambda.</li>
<li>Selecciona Python 3.8 como tiempo de ejecución.</li>
</ul>
</li>
<li>
<p><strong>Escribir el código de la función</strong>:</p>
<ul>
<li>Ejemplo de código para procesar imágenes:
<pre><code class="language-python">import boto3
from PIL import Image
import io

s3 = boto3.client('s3')

def lambda_handler(event, context):
    bucket = event['Records'][0]['s3']['bucket']['name']
    key = event['Records'][0]['s3']['object']['key']

    # Descargar la imagen desde S3
    response = s3.get_object(Bucket=bucket, Key=key)
    image_content = response['Body'].read()

    # Procesar la imagen
    image = Image.open(io.BytesIO(image_content))
    image.thumbnail((128, 128))

    # Guardar la imagen procesada en un nuevo bucket
    buffer = io.BytesIO()
    image.save(buffer, 'JPEG')
    buffer.seek(0)

    s3.put_object(Bucket='processed-images-bucket', Key=key, Body=buffer, ContentType='image/jpeg')

    return {
        'statusCode': 200,
        'body': 'Image processed successfully'
    }
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Configurar el desencadenador de S3</strong>:</p>
<ul>
<li>En la sección de <strong>Desencadenadores</strong>, agrega el bucket de S3 que creaste.</li>
<li>Configura el evento para que se active en la creación de objetos (subida de imágenes).</li>
</ul>
</li>
<li>
<p><strong>Guardar y probar</strong>:</p>
<ul>
<li>Guarda la función Lambda.</li>
<li>Sube una imagen al bucket de S3 y verifica que la función Lambda se ejecute y procese la imagen correctamente.</li>
</ul>
</li>
</ol>
</div><h1><p>Ejercicios Prácticos</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Crear una Función Lambda Básica</p>
</h2>
<div class='content'><p><strong>Objetivo</strong>: Crear una función Lambda que devuelva un saludo personalizado.</p>
<ol>
<li>
<p><strong>Crear una función Lambda</strong>:</p>
<ul>
<li>Nombre: <code>HelloLambda</code></li>
<li>Tiempo de ejecución: Python 3.8</li>
</ul>
</li>
<li>
<p><strong>Escribir el código</strong>:</p>
<pre><code class="language-python">import json

def lambda_handler(event, context):
    name = event.get('name', 'World')
    return {
        'statusCode': 200,
        'body': json.dumps(f'Hello, {name}!')
    }
</code></pre>
</li>
<li>
<p><strong>Probar la función</strong>:</p>
<ul>
<li>Crear un evento de prueba con el siguiente JSON:
<pre><code class="language-json">{
    &quot;name&quot;: &quot;Alice&quot;
}
</code></pre>
</li>
<li>Verificar que la respuesta sea <code>Hello, Alice!</code>.</li>
</ul>
</li>
</ol>
</div><h2><p>Ejercicio 2: Procesar Datos de DynamoDB con Lambda</p>
</h2>
<div class='content'><p><strong>Objetivo</strong>: Crear una función Lambda que se active cuando se inserte un nuevo ítem en una tabla de DynamoDB y registre el ítem en CloudWatch Logs.</p>
<ol>
<li>
<p><strong>Crear una tabla de DynamoDB</strong>:</p>
<ul>
<li>Nombre: <code>MyTable</code></li>
<li>Clave de partición: <code>ID</code> (String)</li>
</ul>
</li>
<li>
<p><strong>Crear una función Lambda</strong>:</p>
<ul>
<li>Nombre: <code>LogDynamoDBItem</code></li>
<li>Tiempo de ejecución: Python 3.8</li>
</ul>
</li>
<li>
<p><strong>Escribir el código</strong>:</p>
<pre><code class="language-python">import json
import logging

logger = logging.getLogger()
logger.setLevel(logging.INFO)

def lambda_handler(event, context):
    for record in event['Records']:
        if record['eventName'] == 'INSERT':
            new_image = record['dynamodb']['NewImage']
            logger.info(f'New item added: {json.dumps(new_image)}')
    return {
        'statusCode': 200,
        'body': 'Success'
    }
</code></pre>
</li>
<li>
<p><strong>Configurar el desencadenador de DynamoDB</strong>:</p>
<ul>
<li>En la sección de <strong>Desencadenadores</strong>, agrega la tabla de DynamoDB.</li>
<li>Configura el evento para que se active en la inserción de nuevos ítems.</li>
</ul>
</li>
<li>
<p><strong>Probar la función</strong>:</p>
<ul>
<li>Inserta un nuevo ítem en la tabla de DynamoDB y verifica los registros en CloudWatch Logs.</li>
</ul>
</li>
</ol>
</div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En esta sección, hemos aprendido sobre AWS Lambda, sus ventajas y cómo crear y configurar funciones Lambda. También hemos explorado ejemplos prácticos y ejercicios para reforzar los conceptos aprendidos. Con AWS Lambda, puedes construir aplicaciones y servicios backend sin preocuparte por la infraestructura subyacente, permitiéndote enfocarte en escribir código y resolver problemas de negocio. En el próximo módulo, exploraremos otros servicios principales de AWS que complementan el uso de Lambda en tus aplicaciones.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='02-03-amazon-rds' title="Amazon RDS">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-01-amazon-vpc' title="Amazon VPC">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicidad</h1>
<p>Este espacio está destinado a publicidad.</p>
<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>¡Gracias por colaborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
