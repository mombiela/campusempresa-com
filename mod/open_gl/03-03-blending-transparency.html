<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mezcla y Transparencia</title>

    <link rel="alternate" href="https://campusempresa.com/mod/open_gl/03-03-blending-transparency" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/open_gl/03-03-blending-transparency" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/open_gl/03-03-blending-transparency" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-8 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-4 p-2 p-md-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/open_gl/03-03-blending-transparency" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/open_gl/03-03-blending-transparency" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-lighting-materials' title="Iluminación y Materiales">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Mezcla y Transparencia</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='03-04-depth-stencil-testing' title="Pruebas de Profundidad y Plantilla">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En este tema, aprenderemos sobre la mezcla y la transparencia en OpenGL. La mezcla es una técnica que permite combinar el color de un fragmento renderizado con el color que ya está presente en el framebuffer. Esto es esencial para crear efectos de transparencia y otros efectos visuales avanzados.</p>
</div><h1><p>Conceptos Clave</p>
</h1>
<div class='content'><ol>
<li><strong>Blending (Mezcla)</strong>: Proceso de combinar el color de un fragmento con el color del framebuffer.</li>
<li><strong>Alpha Blending</strong>: Uso del canal alfa para determinar la transparencia de un fragmento.</li>
<li><strong>Funciones de Mezcla</strong>: Configuración de cómo se combinan los colores de los fragmentos y del framebuffer.</li>
</ol>
</div><h1><p>Configuración de la Mezcla</p>
</h1>
<div class='content'><p>Para habilitar la mezcla en OpenGL, utilizamos la función <code>glEnable</code> con el parámetro <code>GL_BLEND</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2xFbmFibGUoR0xfQkxFTkQpOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>glEnable(GL_BLEND);</pre></div><div class='content'></div><h2><p>Función de Mezcla</p>
</h2>
<div class='content'><p>La función de mezcla se define mediante <code>glBlendFunc</code>. Esta función toma dos parámetros que especifican cómo se combinan los colores de los fragmentos y del framebuffer:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2xCbGVuZEZ1bmMoR0xfU1JDX0FMUEhBLCBHTF9PTkVfTUlOVVNfU1JDX0FMUEhBKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);</pre></div><div class='content'><ul>
<li><code>GL_SRC_ALPHA</code>: El factor de mezcla para el color del fragmento.</li>
<li><code>GL_ONE_MINUS_SRC_ALPHA</code>: El factor de mezcla para el color del framebuffer.</li>
</ul>
</div><h2><p>Ejemplo Práctico</p>
</h2>
<div class='content'><p>Vamos a ver un ejemplo práctico de cómo implementar la mezcla y la transparencia en OpenGL.</p>
<h4>Código de Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPEdML2dsZXcuaD4KI2luY2x1ZGUgPEdMRlcvZ2xmdzMuaD4KCi8vIEZ1bmNpw7NuIHBhcmEgaW5pY2lhbGl6YXIgT3BlbkdMCnZvaWQgaW5pdE9wZW5HTCgpIHsKICAgIGdsRW5hYmxlKEdMX0JMRU5EKTsKICAgIGdsQmxlbmRGdW5jKEdMX1NSQ19BTFBIQSwgR0xfT05FX01JTlVTX1NSQ19BTFBIQSk7Cn0KCi8vIEZ1bmNpw7NuIHBhcmEgcmVuZGVyaXphcgp2b2lkIHJlbmRlcigpIHsKICAgIGdsQ2xlYXIoR0xfQ09MT1JfQlVGRkVSX0JJVCk7CgogICAgLy8gRGlidWphciB1biBjdWFkcmFkbyByb2pvIHNlbWktdHJhbnNwYXJlbnRlCiAgICBnbENvbG9yNGYoMS4wZiwgMC4wZiwgMC4wZiwgMC41Zik7CiAgICBnbEJlZ2luKEdMX1FVQURTKTsKICAgICAgICBnbFZlcnRleDJmKC0wLjVmLCAtMC41Zik7CiAgICAgICAgZ2xWZXJ0ZXgyZiggMC41ZiwgLTAuNWYpOwogICAgICAgIGdsVmVydGV4MmYoIDAuNWYsICAwLjVmKTsKICAgICAgICBnbFZlcnRleDJmKC0wLjVmLCAgMC41Zik7CiAgICBnbEVuZCgpOwoKICAgIC8vIERpYnVqYXIgdW4gY3VhZHJhZG8gYXp1bCBzZW1pLXRyYW5zcGFyZW50ZQogICAgZ2xDb2xvcjRmKDAuMGYsIDAuMGYsIDEuMGYsIDAuNWYpOwogICAgZ2xCZWdpbihHTF9RVUFEUyk7CiAgICAgICAgZ2xWZXJ0ZXgyZigtMC4yNWYsIC0wLjI1Zik7CiAgICAgICAgZ2xWZXJ0ZXgyZiggMC43NWYsIC0wLjI1Zik7CiAgICAgICAgZ2xWZXJ0ZXgyZiggMC43NWYsICAwLjc1Zik7CiAgICAgICAgZ2xWZXJ0ZXgyZigtMC4yNWYsICAwLjc1Zik7CiAgICBnbEVuZCgpOwp9CgppbnQgbWFpbigpIHsKICAgIGlmICghZ2xmd0luaXQoKSkgewogICAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBHTEZXd2luZG93KiB3aW5kb3cgPSBnbGZ3Q3JlYXRlV2luZG93KDgwMCwgNjAwLCAiQmxlbmRpbmcgRXhhbXBsZSIsIE5VTEwsIE5VTEwpOwogICAgaWYgKCF3aW5kb3cpIHsKICAgICAgICBnbGZ3VGVybWluYXRlKCk7CiAgICAgICAgcmV0dXJuIC0xOwogICAgfQoKICAgIGdsZndNYWtlQ29udGV4dEN1cnJlbnQod2luZG93KTsKICAgIGdsZXdJbml0KCk7CgogICAgaW5pdE9wZW5HTCgpOwoKICAgIHdoaWxlICghZ2xmd1dpbmRvd1Nob3VsZENsb3NlKHdpbmRvdykpIHsKICAgICAgICByZW5kZXIoKTsKICAgICAgICBnbGZ3U3dhcEJ1ZmZlcnMod2luZG93KTsKICAgICAgICBnbGZ3UG9sbEV2ZW50cygpOwogICAgfQoKICAgIGdsZndEZXN0cm95V2luZG93KHdpbmRvdyk7CiAgICBnbGZ3VGVybWluYXRlKCk7CiAgICByZXR1cm4gMDsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;GL/glew.h&gt;
#include &lt;GLFW/glfw3.h&gt;

// Funci&oacute;n para inicializar OpenGL
void initOpenGL() {
    glEnable(GL_BLEND);
    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
}

// Funci&oacute;n para renderizar
void render() {
    glClear(GL_COLOR_BUFFER_BIT);

    // Dibujar un cuadrado rojo semi-transparente
    glColor4f(1.0f, 0.0f, 0.0f, 0.5f);
    glBegin(GL_QUADS);
        glVertex2f(-0.5f, -0.5f);
        glVertex2f( 0.5f, -0.5f);
        glVertex2f( 0.5f,  0.5f);
        glVertex2f(-0.5f,  0.5f);
    glEnd();

    // Dibujar un cuadrado azul semi-transparente
    glColor4f(0.0f, 0.0f, 1.0f, 0.5f);
    glBegin(GL_QUADS);
        glVertex2f(-0.25f, -0.25f);
        glVertex2f( 0.75f, -0.25f);
        glVertex2f( 0.75f,  0.75f);
        glVertex2f(-0.25f,  0.75f);
    glEnd();
}

int main() {
    if (!glfwInit()) {
        return -1;
    }

    GLFWwindow* window = glfwCreateWindow(800, 600, &quot;Blending Example&quot;, NULL, NULL);
    if (!window) {
        glfwTerminate();
        return -1;
    }

    glfwMakeContextCurrent(window);
    glewInit();

    initOpenGL();

    while (!glfwWindowShouldClose(window)) {
        render();
        glfwSwapBuffers(window);
        glfwPollEvents();
    }

    glfwDestroyWindow(window);
    glfwTerminate();
    return 0;
}</pre></div><div class='content'></div><h2><p>Explicación del Código</p>
</h2>
<div class='content'><ol>
<li>
<p><strong>Inicialización de OpenGL</strong>:</p>
<ul>
<li>Habilitamos la mezcla con <code>glEnable(GL_BLEND)</code>.</li>
<li>Configuramos la función de mezcla con <code>glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA)</code>.</li>
</ul>
</li>
<li>
<p><strong>Renderizado</strong>:</p>
<ul>
<li>Limpiamos el framebuffer con <code>glClear(GL_COLOR_BUFFER_BIT)</code>.</li>
<li>Dibujamos dos cuadrados semi-transparentes con diferentes colores y niveles de transparencia.</li>
</ul>
</li>
</ol>
</div><h1><p>Ejercicio Práctico</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Crear un Triángulo Transparente</p>
</h2>
<div class='content'><p><strong>Objetivo</strong>: Dibujar un triángulo verde semi-transparente sobre un fondo azul.</p>
<p><strong>Instrucciones</strong>:</p>
<ol>
<li>Configura el entorno de OpenGL.</li>
<li>Habilita la mezcla y configura la función de mezcla.</li>
<li>Dibuja un triángulo verde semi-transparente.</li>
</ol>
<p><strong>Código Base</strong>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPEdML2dsZXcuaD4KI2luY2x1ZGUgPEdMRlcvZ2xmdzMuaD4KCnZvaWQgaW5pdE9wZW5HTCgpIHsKICAgIGdsRW5hYmxlKEdMX0JMRU5EKTsKICAgIGdsQmxlbmRGdW5jKEdMX1NSQ19BTFBIQSwgR0xfT05FX01JTlVTX1NSQ19BTFBIQSk7Cn0KCnZvaWQgcmVuZGVyKCkgewogICAgZ2xDbGVhckNvbG9yKDAuMGYsIDAuMGYsIDEuMGYsIDEuMGYpOyAvLyBGb25kbyBhenVsCiAgICBnbENsZWFyKEdMX0NPTE9SX0JVRkZFUl9CSVQpOwoKICAgIC8vIERpYnVqYXIgdW4gdHJpw6FuZ3VsbyB2ZXJkZSBzZW1pLXRyYW5zcGFyZW50ZQogICAgZ2xDb2xvcjRmKDAuMGYsIDEuMGYsIDAuMGYsIDAuNWYpOwogICAgZ2xCZWdpbihHTF9UUklBTkdMRVMpOwogICAgICAgIGdsVmVydGV4MmYoLTAuNWYsIC0wLjVmKTsKICAgICAgICBnbFZlcnRleDJmKCAwLjVmLCAtMC41Zik7CiAgICAgICAgZ2xWZXJ0ZXgyZiggMC4wZiwgIDAuNWYpOwogICAgZ2xFbmQoKTsKfQoKaW50IG1haW4oKSB7CiAgICBpZiAoIWdsZndJbml0KCkpIHsKICAgICAgICByZXR1cm4gLTE7CiAgICB9CgogICAgR0xGV3dpbmRvdyogd2luZG93ID0gZ2xmd0NyZWF0ZVdpbmRvdyg4MDAsIDYwMCwgIkJsZW5kaW5nIEV4ZXJjaXNlIiwgTlVMTCwgTlVMTCk7CiAgICBpZiAoIXdpbmRvdykgewogICAgICAgIGdsZndUZXJtaW5hdGUoKTsKICAgICAgICByZXR1cm4gLTE7CiAgICB9CgogICAgZ2xmd01ha2VDb250ZXh0Q3VycmVudCh3aW5kb3cpOwogICAgZ2xld0luaXQoKTsKCiAgICBpbml0T3BlbkdMKCk7CgogICAgd2hpbGUgKCFnbGZ3V2luZG93U2hvdWxkQ2xvc2Uod2luZG93KSkgewogICAgICAgIHJlbmRlcigpOwogICAgICAgIGdsZndTd2FwQnVmZmVycyh3aW5kb3cpOwogICAgICAgIGdsZndQb2xsRXZlbnRzKCk7CiAgICB9CgogICAgZ2xmd0Rlc3Ryb3lXaW5kb3cod2luZG93KTsKICAgIGdsZndUZXJtaW5hdGUoKTsKICAgIHJldHVybiAwOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;GL/glew.h&gt;
#include &lt;GLFW/glfw3.h&gt;

void initOpenGL() {
    glEnable(GL_BLEND);
    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
}

void render() {
    glClearColor(0.0f, 0.0f, 1.0f, 1.0f); // Fondo azul
    glClear(GL_COLOR_BUFFER_BIT);

    // Dibujar un tri&aacute;ngulo verde semi-transparente
    glColor4f(0.0f, 1.0f, 0.0f, 0.5f);
    glBegin(GL_TRIANGLES);
        glVertex2f(-0.5f, -0.5f);
        glVertex2f( 0.5f, -0.5f);
        glVertex2f( 0.0f,  0.5f);
    glEnd();
}

int main() {
    if (!glfwInit()) {
        return -1;
    }

    GLFWwindow* window = glfwCreateWindow(800, 600, &quot;Blending Exercise&quot;, NULL, NULL);
    if (!window) {
        glfwTerminate();
        return -1;
    }

    glfwMakeContextCurrent(window);
    glewInit();

    initOpenGL();

    while (!glfwWindowShouldClose(window)) {
        render();
        glfwSwapBuffers(window);
        glfwPollEvents();
    }

    glfwDestroyWindow(window);
    glfwTerminate();
    return 0;
}</pre></div><div class='content'></div><h2><p>Solución</p>
</h2>
<div class='content'><p>El código base ya contiene la solución. Al ejecutarlo, deberías ver un triángulo verde semi-transparente sobre un fondo azul.</p>
</div><h1><p>Resumen</p>
</h1>
<div class='content'><p>En esta sección, hemos aprendido sobre la mezcla y la transparencia en OpenGL. Hemos visto cómo habilitar la mezcla, configurar la función de mezcla y aplicar estos conceptos en un ejemplo práctico. La mezcla es una técnica poderosa que permite crear efectos visuales avanzados, como la transparencia, y es fundamental para el renderizado realista en gráficos por computadora.</p>
<p>En el próximo tema, exploraremos las pruebas de profundidad y plantilla, que son esenciales para el manejo correcto de la visibilidad y el orden de renderizado en escenas complejas.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='03-02-lighting-materials' title="Iluminación y Materiales">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='03-04-depth-stencil-testing' title="Pruebas de Profundidad y Plantilla">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
