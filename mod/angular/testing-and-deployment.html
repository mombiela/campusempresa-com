<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas y Despliegue</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular/testing-and-deployment" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular/testing-and-deployment" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular/testing-and-deployment" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/angular/testing-and-deployment" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/angular/testing-and-deployment" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='adding-advanced-features'>&#x25C4;Añadiendo Funcionalidades Avanzadas</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas y Despliegue</a>
	</div>
	<div class='col-4 text-end'>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En esta sección, cubriremos los aspectos esenciales de las pruebas y el despliegue de aplicaciones Angular. Las pruebas aseguran que tu aplicación funcione como se espera, mientras que el despliegue implica hacer que tu aplicación esté disponible para los usuarios. Comenzaremos con los conceptos básicos de las pruebas y gradualmente avanzaremos a temas más avanzados, seguidos de estrategias de despliegue.</p>
</div><h1>Pruebas en Angular</h1>
<div class='content'></div><h2>Pruebas Unitarias</h2>
<div class='content'><p>Las pruebas unitarias implican probar componentes o servicios individuales de forma aislada.</p>
<ul>
<li><strong>Herramientas</strong>: Angular utiliza Jasmine para escribir pruebas y Karma como el ejecutor de pruebas.</li>
<li><strong>Configuración</strong>: Angular CLI configura Jasmine y Karma por defecto.</li>
</ul>
<h4>Ejemplo: Probar un Componente</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50Rml4dHVyZSwgVGVzdEJlZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7CmltcG9ydCB7IE15Q29tcG9uZW50IH0gZnJvbSAnLi9teS1jb21wb25lbnQuY29tcG9uZW50JzsKCmRlc2NyaWJlKCdNeUNvbXBvbmVudCcsICgpID0+IHsKICBsZXQgY29tcG9uZW50OiBNeUNvbXBvbmVudDsKICBsZXQgZml4dHVyZTogQ29tcG9uZW50Rml4dHVyZTxNeUNvbXBvbmVudD47CgogIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4gewogICAgYXdhaXQgVGVzdEJlZC5jb25maWd1cmVUZXN0aW5nTW9kdWxlKHsKICAgICAgZGVjbGFyYXRpb25zOiBbIE15Q29tcG9uZW50IF0KICAgIH0pCiAgICAuY29tcGlsZUNvbXBvbmVudHMoKTsKICB9KTsKCiAgYmVmb3JlRWFjaCgoKSA9PiB7CiAgICBmaXh0dXJlID0gVGVzdEJlZC5jcmVhdGVDb21wb25lbnQoTXlDb21wb25lbnQpOwogICAgY29tcG9uZW50ID0gZml4dHVyZS5jb21wb25lbnRJbnN0YW5jZTsKICAgIGZpeHR1cmUuZGV0ZWN0Q2hhbmdlcygpOwogIH0pOwoKICBpdCgnc2hvdWxkIGNyZWF0ZScsICgpID0+IHsKICAgIGV4cGVjdChjb21wb25lbnQpLnRvQmVUcnV0aHkoKTsKICB9KTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { ComponentFixture, TestBed } from '@angular/core/testing';
import { MyComponent } from './my-component.component';

describe('MyComponent', () =&gt; {
  let component: MyComponent;
  let fixture: ComponentFixture&lt;MyComponent&gt;;

  beforeEach(async () =&gt; {
    await TestBed.configureTestingModule({
      declarations: [ MyComponent ]
    })
    .compileComponents();
  });

  beforeEach(() =&gt; {
    fixture = TestBed.createComponent(MyComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () =&gt; {
    expect(component).toBeTruthy();
  });
});</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>TestBed.configureTestingModule</code>: Configura el módulo de pruebas.</li>
<li><code>beforeEach</code>: Configura el componente antes de cada prueba.</li>
<li><code>it</code>: Define un caso de prueba individual.</li>
</ul>
</li>
</ul>
</div><h2>Pruebas de Integración</h2>
<div class='content'><p>Las pruebas de integración implican probar múltiples componentes o servicios juntos para asegurar que funcionen como se espera.</p>
<ul>
<li><strong>Herramientas</strong>: Jasmine y Karma también se utilizan para las pruebas de integración.</li>
</ul>
<h4>Ejemplo: Probar un Servicio con un Componente</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgVGVzdEJlZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7CmltcG9ydCB7IE15U2VydmljZSB9IGZyb20gJy4vbXktc2VydmljZS5zZXJ2aWNlJzsKaW1wb3J0IHsgTXlDb21wb25lbnQgfSBmcm9tICcuL215LWNvbXBvbmVudC5jb21wb25lbnQnOwoKZGVzY3JpYmUoJ015Q29tcG9uZW50IHdpdGggTXlTZXJ2aWNlJywgKCkgPT4gewogIGxldCBjb21wb25lbnQ6IE15Q29tcG9uZW50OwogIGxldCBzZXJ2aWNlOiBNeVNlcnZpY2U7CgogIGJlZm9yZUVhY2goKCkgPT4gewogICAgVGVzdEJlZC5jb25maWd1cmVUZXN0aW5nTW9kdWxlKHsKICAgICAgcHJvdmlkZXJzOiBbTXlTZXJ2aWNlXSwKICAgICAgZGVjbGFyYXRpb25zOiBbTXlDb21wb25lbnRdCiAgICB9KTsKCiAgICBzZXJ2aWNlID0gVGVzdEJlZC5pbmplY3QoTXlTZXJ2aWNlKTsKICAgIGNvbXBvbmVudCA9IFRlc3RCZWQuY3JlYXRlQ29tcG9uZW50KE15Q29tcG9uZW50KS5jb21wb25lbnRJbnN0YW5jZTsKICB9KTsKCiAgaXQoJ3Nob3VsZCB1c2UgdGhlIHNlcnZpY2UnLCAoKSA9PiB7CiAgICBleHBlY3Qoc2VydmljZSkudG9CZVRydXRoeSgpOwogICAgZXhwZWN0KGNvbXBvbmVudC5teVNlcnZpY2UpLnRvQmUoc2VydmljZSk7CiAgfSk7Cn0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { TestBed } from '@angular/core/testing';
import { MyService } from './my-service.service';
import { MyComponent } from './my-component.component';

describe('MyComponent with MyService', () =&gt; {
  let component: MyComponent;
  let service: MyService;

  beforeEach(() =&gt; {
    TestBed.configureTestingModule({
      providers: [MyService],
      declarations: [MyComponent]
    });

    service = TestBed.inject(MyService);
    component = TestBed.createComponent(MyComponent).componentInstance;
  });

  it('should use the service', () =&gt; {
    expect(service).toBeTruthy();
    expect(component.myService).toBe(service);
  });
});</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>TestBed.inject</code>: Inyecta el servicio en el entorno de prueba.</li>
<li><code>component.myService</code>: Asegura que el componente use el servicio inyectado.</li>
</ul>
</li>
</ul>
</div><h2>Pruebas de Extremo a Extremo (E2E)</h2>
<div class='content'><p>Las pruebas E2E implican probar todo el flujo de la aplicación de principio a fin.</p>
<ul>
<li><strong>Herramientas</strong>: Protractor se usa comúnmente para pruebas E2E en Angular.</li>
</ul>
<h4>Ejemplo: Prueba Básica E2E</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgYnJvd3NlciwgYnksIGVsZW1lbnQgfSBmcm9tICdwcm90cmFjdG9yJzsKCmRlc2NyaWJlKCdNeSBBcHAnLCAoKSA9PiB7CiAgaXQoJ3Nob3VsZCBkaXNwbGF5IHRoZSB3ZWxjb21lIG1lc3NhZ2UnLCAoKSA9PiB7CiAgICBicm93c2VyLmdldCgnLycpOwogICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdoMScpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1dlbGNvbWUgdG8gTXkgQXBwIScpOwogIH0pOwp9KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { browser, by, element } from 'protractor';

describe('My App', () =&gt; {
  it('should display the welcome message', () =&gt; {
    browser.get('/');
    expect(element(by.css('h1')).getText()).toEqual('Welcome to My App!');
  });
});</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>browser.get('/')</code>: Navega a la URL raíz.</li>
<li><code>element(by.css('h1')).getText()</code>: Selecciona el elemento <code>h1</code> y obtiene su contenido de texto.</li>
</ul>
</li>
</ul>
</div><h1>Despliegue</h1>
<div class='content'></div><h2>Preparación para el Despliegue</h2>
<div class='content'><p>Antes de desplegar tu aplicación Angular, necesitas construirla para producción.</p>
<ul>
<li><strong>Comando de Construcción</strong>: <code>ng build --prod</code>
<ul>
<li>Este comando optimiza la aplicación para producción minificando el código y eliminando partes innecesarias.</li>
</ul>
</li>
</ul>
</div><h2>Opciones de Despliegue</h2>
<div class='content'><p>Hay varias formas de desplegar una aplicación Angular:</p>
<ol>
<li><strong>Alojamiento de Archivos Estáticos</strong>: Desplegar los archivos construidos en un servicio de alojamiento de archivos estáticos como GitHub Pages, Netlify o Firebase Hosting.</li>
<li><strong>Despliegue en Servidor</strong>: Desplegar en un servidor como Apache, Nginx, o un servicio en la nube como AWS, Azure o Google Cloud.</li>
</ol>
<h4>Ejemplo: Desplegar en GitHub Pages</h4>
<ol>
<li><strong>Instalar Angular CLI GitHub Pages Deploy</strong>:
<pre><code class="language-bash">npm install -g angular-cli-ghpages
</code></pre>
</li>
<li><strong>Construir el Proyecto</strong>:
<pre><code class="language-bash">ng build --prod --base-href &quot;https://&lt;username&gt;.github.io/&lt;repository&gt;/&quot;
</code></pre>
</li>
<li><strong>Desplegar</strong>:
<pre><code class="language-bash">ngh --dir=dist/&lt;project-name&gt;
</code></pre>
</li>
</ol>
</div><h2>Integración Continua y Despliegue Continuo (CI/CD)</h2>
<div class='content'><p>CI/CD automatiza el proceso de probar y desplegar tu aplicación.</p>
<ul>
<li><strong>Herramientas</strong>: Jenkins, Travis CI, CircleCI, GitHub Actions.</li>
</ul>
<h4>Ejemplo: Flujo de Trabajo de GitHub Actions</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kvQ0QgUGlwZWxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCgpqb2JzOgogIGJ1aWxkOgogICAgcnVucy1vbjogdWJ1bnR1LWxhdGVzdAoKICAgIHN0ZXBzOgogICAgLSB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCiAgICAtIG5hbWU6IFNldCB1cCBOb2RlLmpzCiAgICAgIHVzZXM6IGFjdGlvbnMvc2V0dXAtbm9kZUB2MgogICAgICB3aXRoOgogICAgICAgIG5vZGUtdmVyc2lvbjogJzE0JwogICAgLSBuYW1lOiBJbnN0YWxsIGRlcGVuZGVuY2llcwogICAgICBydW46IG5wbSBpbnN0YWxsCiAgICAtIG5hbWU6IFJ1biB0ZXN0cwogICAgICBydW46IG5wbSB0ZXN0CiAgICAtIG5hbWU6IEJ1aWxkIHByb2plY3QKICAgICAgcnVuOiBuZyBidWlsZCAtLXByb2QKICAgIC0gbmFtZTogRGVwbG95IHRvIEdpdEh1YiBQYWdlcwogICAgICBydW46IHwKICAgICAgICBucG0gaW5zdGFsbCAtZyBhbmd1bGFyLWNsaS1naHBhZ2VzCiAgICAgICAgbmdoIC0tZGlyPWRpc3QvPHByb2plY3QtbmFtZT4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI/CD Pipeline

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '14'
    - name: Install dependencies
      run: npm install
    - name: Run tests
      run: npm test
    - name: Build project
      run: ng build --prod
    - name: Deploy to GitHub Pages
      run: |
        npm install -g angular-cli-ghpages
        ngh --dir=dist/&lt;project-name&gt;</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>actions/checkout@v2</code>: Revisa el repositorio.</li>
<li><code>actions/setup-node@v2</code>: Configura Node.js.</li>
<li><code>npm install</code>: Instala dependencias.</li>
<li><code>npm test</code>: Ejecuta pruebas.</li>
<li><code>ng build --prod</code>: Construye el proyecto.</li>
<li><code>ngh --dir=dist/&lt;project-name&gt;</code>: Despliega en GitHub Pages.</li>
</ul>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Las pruebas y el despliegue son aspectos cruciales del desarrollo en Angular. Las pruebas adecuadas aseguran que tu aplicación sea confiable y esté libre de errores, mientras que las estrategias de despliegue efectivas hacen que tu aplicación sea accesible para los usuarios. Al dominar estos temas, puedes asegurar que tus aplicaciones Angular sean tanto robustas como eficientemente entregadas a tu audiencia.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='adding-advanced-features'>&#x25C4;Añadiendo Funcionalidades Avanzadas</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas y Despliegue</a>
	</div>
	<div class='col-4 text-end'>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
