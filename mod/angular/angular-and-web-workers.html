<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angular y Web Workers</title>

    <link rel="alternate" href="https://campusempresa.com/mod/angular/angular-and-web-workers" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/angular/angular-and-web-workers" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/angular/angular-and-web-workers" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/angular/angular-and-web-workers" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/angular/angular-and-web-workers" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='internationalization'>&#x25C4;Internacionalización (i18n)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Angular y Web Workers</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-and-deploying-angular-applications'>Construcción y Despliegue de Aplicaciones Angular &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a los Web Workers</h1>
<div class='content'><p>Los Web Workers proporcionan una forma de ejecutar scripts en hilos de fondo. Pueden ejecutar tareas sin interferir con la interfaz de usuario, lo que los hace ideales para manejar operaciones computacionalmente intensivas.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Web Workers</strong>: Scripts en segundo plano que se ejecutan independientemente del hilo principal de la interfaz de usuario.</li>
<li><strong>Hilo Principal</strong>: El hilo de ejecución principal donde se manejan la interfaz de usuario y las interacciones del usuario.</li>
<li><strong>Comunicación</strong>: Los Web Workers se comunican con el hilo principal usando mensajes.</li>
</ul>
</div><h1>Configuración de Web Workers en Angular</h1>
<div class='content'><p>Angular proporciona una forma conveniente de integrar Web Workers en tu aplicación. Esta sección te guiará a través del proceso de configuración.</p>
</div><h2>Pasos para Crear un Web Worker en Angular</h2>
<div class='content'><ol>
<li><strong>Generar un Web Worker</strong>:
Usa Angular CLI para generar un Web Worker.
<pre><code class="language-bash">ng generate web-worker worker-name
</code></pre>
</li>
<li><strong>Modificar la Configuración de Angular</strong>:
Asegúrate de que tu archivo <code>angular.json</code> esté configurado para soportar Web Workers.
<pre><code class="language-json">&quot;architect&quot;: {
  &quot;build&quot;: {
    &quot;options&quot;: {
      &quot;webWorkerTsConfig&quot;: &quot;tsconfig.worker.json&quot;
    }
  }
}
</code></pre>
</li>
<li><strong>Implementar la Lógica del Worker</strong>:
Edita el archivo del worker generado (por ejemplo, <code>src/app/worker-name.worker.ts</code>) para incluir la lógica que deseas ejecutar en segundo plano.
<pre><code class="language-typescript">addEventListener('message', ({ data }) =&gt; {
  const response = `Worker response to ${data}`;
  postMessage(response);
});
</code></pre>
</li>
</ol>
</div><h2>Ejemplo: Usando un Web Worker para Computación Pesada</h2>
<div class='content'><p>Vamos a crear un Web Worker para realizar una computación pesada, como calcular números de Fibonacci.</p>
<h4>Archivo del Worker: <code>src/app/fibonacci.worker.ts</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsICh7IGRhdGEgfSkgPT4gewogIGNvbnN0IHJlc3VsdCA9IGZpYm9uYWNjaShkYXRhKTsKICBwb3N0TWVzc2FnZShyZXN1bHQpOwp9KTsKCmZ1bmN0aW9uIGZpYm9uYWNjaShudW06IG51bWJlcik6IG51bWJlciB7CiAgaWYgKG51bSA8PSAxKSByZXR1cm4gbnVtOwogIHJldHVybiBmaWJvbmFjY2kobnVtIC0gMSkgKyBmaWJvbmFjY2kobnVtIC0gMik7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>addEventListener('message', ({ data }) =&gt; {
  const result = fibonacci(data);
  postMessage(result);
});

function fibonacci(num: number): number {
  if (num &lt;= 1) return num;
  return fibonacci(num - 1) + fibonacci(num - 2);
}</pre></div><div class='content'><h4>Hilo Principal: <code>src/app/app.component.ts</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKCkBDb21wb25lbnQoewogIHNlbGVjdG9yOiAnYXBwLXJvb3QnLAogIHRlbXBsYXRlOiBgCiAgICA8ZGl2PgogICAgICA8aDE+Rmlib25hY2NpIENhbGN1bGF0b3I8L2gxPgogICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBbKG5nTW9kZWwpXT0iaW5wdXRWYWx1ZSIgLz4KICAgICAgPGJ1dHRvbiAoY2xpY2spPSJjYWxjdWxhdGVGaWJvbmFjY2koKSI+Q2FsY3VsYXRlPC9idXR0b24+CiAgICAgIDxwPlJlc3VsdDoge3sgcmVzdWx0IH19PC9wPgogICAgPC9kaXY+CiAgYCwKICBzdHlsZXM6IFtdCn0pCmV4cG9ydCBjbGFzcyBBcHBDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQgewogIGlucHV0VmFsdWU6IG51bWJlcjsKICByZXN1bHQ6IG51bWJlcjsKICB3b3JrZXI6IFdvcmtlcjsKCiAgbmdPbkluaXQoKSB7CiAgICBpZiAodHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgdGhpcy53b3JrZXIgPSBuZXcgV29ya2VyKG5ldyBVUkwoJy4vZmlib25hY2NpLndvcmtlcicsIGltcG9ydC5tZXRhLnVybCkpOwogICAgICB0aGlzLndvcmtlci5vbm1lc3NhZ2UgPSAoeyBkYXRhIH0pID0+IHsKICAgICAgICB0aGlzLnJlc3VsdCA9IGRhdGE7CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLndhcm4oJ1dlYiBXb3JrZXJzIGFyZSBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuJyk7CiAgICB9CiAgfQoKICBjYWxjdWxhdGVGaWJvbmFjY2koKSB7CiAgICBpZiAodGhpcy53b3JrZXIpIHsKICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2UodGhpcy5pbnB1dFZhbHVlKTsKICAgIH0KICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-root',
  template: `
    &lt;div&gt;
      &lt;h1&gt;Fibonacci Calculator&lt;/h1&gt;
      &lt;input type=&quot;number&quot; [(ngModel)]=&quot;inputValue&quot; /&gt;
      &lt;button (click)=&quot;calculateFibonacci()&quot;&gt;Calculate&lt;/button&gt;
      &lt;p&gt;Result: {{ result }}&lt;/p&gt;
    &lt;/div&gt;
  `,
  styles: []
})
export class AppComponent implements OnInit {
  inputValue: number;
  result: number;
  worker: Worker;

  ngOnInit() {
    if (typeof Worker !== 'undefined') {
      this.worker = new Worker(new URL('./fibonacci.worker', import.meta.url));
      this.worker.onmessage = ({ data }) =&gt; {
        this.result = data;
      };
    } else {
      console.warn('Web Workers are not supported in this environment.');
    }
  }

  calculateFibonacci() {
    if (this.worker) {
      this.worker.postMessage(this.inputValue);
    }
  }
}</pre></div><div class='content'></div><h1>Mejores Prácticas para Usar Web Workers en Angular</h1>
<div class='content'><ul>
<li><strong>Desplazar Computaciones Pesadas</strong>: Usa Web Workers para tareas que son computacionalmente intensivas para mantener la interfaz de usuario receptiva.</li>
<li><strong>Limitar la Transferencia de Datos</strong>: Minimiza la cantidad de datos enviados entre el hilo principal y los Web Workers para reducir la sobrecarga.</li>
<li><strong>Manejo de Errores</strong>: Implementa un manejo adecuado de errores tanto en el hilo principal como en el worker para gestionar problemas inesperados.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Los Web Workers son una característica poderosa para mejorar el rendimiento de las aplicaciones Angular al desplazar computaciones pesadas a hilos de fondo. Siguiendo los pasos de configuración y las mejores prácticas descritas en este tema, puedes integrar efectivamente Web Workers en tus proyectos Angular, asegurando una experiencia de usuario fluida y receptiva.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='internationalization'>&#x25C4;Internacionalización (i18n)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Angular y Web Workers</a>
	</div>
	<div class='col-4 text-end'>
					<a href='building-and-deploying-angular-applications'>Construcción y Despliegue de Aplicaciones Angular &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
