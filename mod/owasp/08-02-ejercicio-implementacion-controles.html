<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Ejercicio 2: Implementación de Controles de Seguridad</title>

    <link rel="alternate" href="https://campusempresa.com/mod/owasp/08-02-ejercicio-implementacion-controles" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/owasp/08-02-exercici-implementacio-controls" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/owasp/08-02-exercise-implementing-controls" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/owasp/08-02-exercise-implementing-controls" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/owasp/08-02-exercici-implementacio-controls" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Todo el conocimiento a tu alcance</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-01-ejercicio-identificacion-vulnerabilidades' title="Ejercicio 1: Identificación de Vulnerabilidades">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Ejercicio 2: Implementación de Controles de Seguridad</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-03-caso-estudio-analisis-incidente' title="Caso de Estudio 1: Análisis de un Incidente de Seguridad">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En este ejercicio, vamos a aplicar los conocimientos adquiridos sobre la implementación de controles de seguridad en una aplicación web. El objetivo es identificar las áreas vulnerables y aplicar las medidas necesarias para mitigar los riesgos.</p>
</div><h1>Objetivos del Ejercicio</h1>
<div class='content'><ol>
<li>Identificar vulnerabilidades en una aplicación web.</li>
<li>Implementar controles de seguridad para mitigar las vulnerabilidades identificadas.</li>
<li>Verificar la efectividad de los controles implementados.</li>
</ol>
</div><h1>Escenario</h1>
<div class='content'><p>Tienes acceso a una aplicación web de ejemplo que contiene varias vulnerabilidades comunes. Tu tarea es identificar estas vulnerabilidades y aplicar los controles de seguridad adecuados para mitigarlas.</p>
</div><h2>Paso 1: Identificación de Vulnerabilidades</h2>
<div class='content'><p>Primero, revisa el código fuente de la aplicación y utiliza herramientas de escaneo de seguridad para identificar las vulnerabilidades presentes.</p>
<h4>Herramientas Sugeridas:</h4>
<ul>
<li>OWASP ZAP</li>
<li>Burp Suite</li>
<li>SonarQube</li>
</ul>
<h4>Código Fuente de Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+QXBsaWNhY2nDs24gV2ViIGRlIEVqZW1wbG88L3RpdGxlPgo8L2hlYWQ+Cjxib2R5PgogICAgPGgxPkJpZW52ZW5pZG8gYSBsYSBBcGxpY2FjacOzbiBXZWIgZGUgRWplbXBsbzwvaDE+CiAgICA8Zm9ybSBhY3Rpb249ImxvZ2luLnBocCIgbWV0aG9kPSJwb3N0Ij4KICAgICAgICA8bGFiZWwgZm9yPSJ1c2VybmFtZSI+VXN1YXJpbzo8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0idXNlcm5hbWUiIG5hbWU9InVzZXJuYW1lIj4KICAgICAgICA8bGFiZWwgZm9yPSJwYXNzd29yZCI+Q29udHJhc2XDsWE6PC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJwYXNzd29yZCIgbmFtZT0icGFzc3dvcmQiPgogICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij5JbmljaWFyIFNlc2nDs248L2J1dHRvbj4KICAgIDwvZm9ybT4KPC9ib2R5Pgo8L2h0bWw+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Aplicaci&oacute;n Web de Ejemplo&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Bienvenido a la Aplicaci&oacute;n Web de Ejemplo&lt;/h1&gt;
    &lt;form action=&quot;login.php&quot; method=&quot;post&quot;&gt;
        &lt;label for=&quot;username&quot;&gt;Usuario:&lt;/label&gt;
        &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot;&gt;
        &lt;label for=&quot;password&quot;&gt;Contrase&ntilde;a:&lt;/label&gt;
        &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt;
        &lt;button type=&quot;submit&quot;&gt;Iniciar Sesi&oacute;n&lt;/button&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'><h4>Posibles Vulnerabilidades:</h4>
<ol>
<li><strong>Inyección SQL</strong>: La aplicación no valida ni escapa adecuadamente las entradas del usuario.</li>
<li><strong>Cross-Site Scripting (XSS)</strong>: La aplicación no escapa adecuadamente las salidas.</li>
<li><strong>Autenticación Débil</strong>: La aplicación no implementa controles de autenticación robustos.</li>
</ol>
</div><h2>Paso 2: Implementación de Controles de Seguridad</h2>
<div class='content'><h4>1. Mitigación de Inyección SQL</h4>
<p>Utiliza consultas preparadas para evitar la inyección SQL.</p>
<h5>Código Original (login.php)</h5>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKJHVzZXJuYW1lID0gJF9QT1NUWyd1c2VybmFtZSddOwokcGFzc3dvcmQgPSAkX1BPU1RbJ3Bhc3N3b3JkJ107CgokcXVlcnkgPSAiU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1c2VybmFtZSA9ICckdXNlcm5hbWUnIEFORCBwYXNzd29yZCA9ICckcGFzc3dvcmQnIjsKJHJlc3VsdCA9IG15c3FsaV9xdWVyeSgkY29ubiwgJHF1ZXJ5KTsKCmlmIChteXNxbGlfbnVtX3Jvd3MoJHJlc3VsdCkgPiAwKSB7CiAgICBlY2hvICJJbmljaW8gZGUgc2VzacOzbiBleGl0b3NvLiI7Cn0gZWxzZSB7CiAgICBlY2hvICJVc3VhcmlvIG8gY29udHJhc2XDsWEgaW5jb3JyZWN0b3MuIjsKfQo/Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
$username = $_POST['username'];
$password = $_POST['password'];

$query = &quot;SELECT * FROM users WHERE username = '$username' AND password = '$password'&quot;;
$result = mysqli_query($conn, $query);

if (mysqli_num_rows($result) &gt; 0) {
    echo &quot;Inicio de sesi&oacute;n exitoso.&quot;;
} else {
    echo &quot;Usuario o contrase&ntilde;a incorrectos.&quot;;
}
?&gt;</pre></div><div class='content'><h5>Código Mejorado</h5>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKJHVzZXJuYW1lID0gJF9QT1NUWyd1c2VybmFtZSddOwokcGFzc3dvcmQgPSAkX1BPU1RbJ3Bhc3N3b3JkJ107Cgokc3RtdCA9ICRjb25uLT5wcmVwYXJlKCJTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIHVzZXJuYW1lID0gPyBBTkQgcGFzc3dvcmQgPSA/Iik7CiRzdG10LT5iaW5kX3BhcmFtKCJzcyIsICR1c2VybmFtZSwgJHBhc3N3b3JkKTsKJHN0bXQtPmV4ZWN1dGUoKTsKJHJlc3VsdCA9ICRzdG10LT5nZXRfcmVzdWx0KCk7CgppZiAoJHJlc3VsdC0+bnVtX3Jvd3MgPiAwKSB7CiAgICBlY2hvICJJbmljaW8gZGUgc2VzacOzbiBleGl0b3NvLiI7Cn0gZWxzZSB7CiAgICBlY2hvICJVc3VhcmlvIG8gY29udHJhc2XDsWEgaW5jb3JyZWN0b3MuIjsKfQo/Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
$username = $_POST['username'];
$password = $_POST['password'];

$stmt = $conn-&gt;prepare(&quot;SELECT * FROM users WHERE username = ? AND password = ?&quot;);
$stmt-&gt;bind_param(&quot;ss&quot;, $username, $password);
$stmt-&gt;execute();
$result = $stmt-&gt;get_result();

if ($result-&gt;num_rows &gt; 0) {
    echo &quot;Inicio de sesi&oacute;n exitoso.&quot;;
} else {
    echo &quot;Usuario o contrase&ntilde;a incorrectos.&quot;;
}
?&gt;</pre></div><div class='content'><h4>2. Mitigación de Cross-Site Scripting (XSS)</h4>
<p>Escapa adecuadamente las salidas para evitar XSS.</p>
<h5>Código Original</h5>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKZWNobyAiQmllbnZlbmlkbywgIiAuICRfR0VUWyduYW1lJ107Cj8+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
echo &quot;Bienvenido, &quot; . $_GET['name'];
?&gt;</pre></div><div class='content'><h5>Código Mejorado</h5>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKZWNobyAiQmllbnZlbmlkbywgIiAuIGh0bWxzcGVjaWFsY2hhcnMoJF9HRVRbJ25hbWUnXSwgRU5UX1FVT1RFUywgJ1VURi04Jyk7Cj8+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
echo &quot;Bienvenido, &quot; . htmlspecialchars($_GET['name'], ENT_QUOTES, 'UTF-8');
?&gt;</pre></div><div class='content'><h4>3. Mejora de la Autenticación</h4>
<p>Implementa controles de autenticación robustos, como el uso de hashing seguro para contraseñas.</p>
<h5>Código Original</h5>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKJHBhc3N3b3JkID0gJF9QT1NUWydwYXNzd29yZCddOwokcXVlcnkgPSAiU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1c2VybmFtZSA9ICckdXNlcm5hbWUnIEFORCBwYXNzd29yZCA9ICckcGFzc3dvcmQnIjs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
$password = $_POST['password'];
$query = &quot;SELECT * FROM users WHERE username = '$username' AND password = '$password'&quot;;</pre></div><div class='content'><h5>Código Mejorado</h5>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKJHBhc3N3b3JkID0gJF9QT1NUWydwYXNzd29yZCddOwokaGFzaGVkX3Bhc3N3b3JkID0gcGFzc3dvcmRfaGFzaCgkcGFzc3dvcmQsIFBBU1NXT1JEX0JDUllQVCk7CiRxdWVyeSA9ICJTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIHVzZXJuYW1lID0gJyR1c2VybmFtZScgQU5EIHBhc3N3b3JkID0gJyRoYXNoZWRfcGFzc3dvcmQnIjs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
$password = $_POST['password'];
$hashed_password = password_hash($password, PASSWORD_BCRYPT);
$query = &quot;SELECT * FROM users WHERE username = '$username' AND password = '$hashed_password'&quot;;</pre></div><div class='content'></div><h2>Paso 3: Verificación de la Efectividad de los Controles</h2>
<div class='content'><p>Después de implementar los controles de seguridad, utiliza las herramientas de escaneo de seguridad nuevamente para verificar que las vulnerabilidades han sido mitigadas.</p>
<h4>Herramientas Sugeridas:</h4>
<ul>
<li>OWASP ZAP</li>
<li>Burp Suite</li>
<li>SonarQube</li>
</ul>
</div><h2>Ejercicio Práctico</h2>
<div class='content'><ol>
<li>
<p><strong>Identificación de Vulnerabilidades</strong>:</p>
<ul>
<li>Utiliza OWASP ZAP para escanear la aplicación web de ejemplo y documenta las vulnerabilidades encontradas.</li>
</ul>
</li>
<li>
<p><strong>Implementación de Controles</strong>:</p>
<ul>
<li>Aplica los controles de seguridad discutidos anteriormente en el código fuente de la aplicación.</li>
</ul>
</li>
<li>
<p><strong>Verificación</strong>:</p>
<ul>
<li>Realiza un nuevo escaneo con OWASP ZAP para asegurarte de que las vulnerabilidades han sido mitigadas.</li>
</ul>
</li>
</ol>
</div><h2>Soluciones</h2>
<div class='content'><h4>Identificación de Vulnerabilidades</h4>
<ul>
<li><strong>Inyección SQL</strong>: Detectada en el archivo <code>login.php</code>.</li>
<li><strong>XSS</strong>: Detectada en la salida de <code>$_GET['name']</code>.</li>
<li><strong>Autenticación Débil</strong>: Uso de contraseñas en texto plano.</li>
</ul>
<h4>Implementación de Controles</h4>
<ul>
<li><strong>Inyección SQL</strong>: Uso de consultas preparadas.</li>
<li><strong>XSS</strong>: Uso de <code>htmlspecialchars</code> para escapar las salidas.</li>
<li><strong>Autenticación Débil</strong>: Uso de hashing seguro con <code>password_hash</code>.</li>
</ul>
<h4>Verificación</h4>
<ul>
<li>Realiza un nuevo escaneo y verifica que las vulnerabilidades han sido mitigadas.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>En este ejercicio, hemos aprendido a identificar y mitigar vulnerabilidades comunes en aplicaciones web mediante la implementación de controles de seguridad adecuados. La práctica continua y el uso de herramientas de escaneo de seguridad son esenciales para mantener la seguridad de las aplicaciones web.</p>
<hr />
<p><strong>Resumen del Ejercicio:</strong></p>
<ul>
<li>Identificamos vulnerabilidades comunes en una aplicación web.</li>
<li>Implementamos controles de seguridad para mitigar estas vulnerabilidades.</li>
<li>Verificamos la efectividad de los controles implementados.</li>
</ul>
<p>Este ejercicio te prepara para enfrentar y resolver problemas de seguridad en aplicaciones web, asegurando que las prácticas de desarrollo seguro se integren en tu flujo de trabajo.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='08-01-ejercicio-identificacion-vulnerabilidades' title="Ejercicio 1: Identificación de Vulnerabilidades">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='08-03-caso-estudio-analisis-incidente' title="Caso de Estudio 1: Análisis de un Incidente de Seguridad">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicidad</h1>
<p>Este espacio está destinado a publicidad.</p>
<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>¡Gracias por colaborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
