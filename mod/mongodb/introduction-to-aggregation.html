<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introducción a la Agregación</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/introduction-to-aggregation" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/introduction-to-aggregation" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/introduction-to-aggregation" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body  class="test" >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/mongodb/introduction-to-aggregation" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/introduction-to-aggregation" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
									<div class="assert">
						<p><b>Atención!</b> Ha habido un error en la generación del curso y puede contener errores de traducción.Estamos trabajando para solucinarlo por lo que se deben usar los contenidos con cuidado.Se puede consultar el contenido correcto en otro idioma en el siguiente enlace:<br>
						<a href="https://enterprisecampus.net/mod/mongodb/introduction-to-aggregation">https://enterprisecampus.net/mod/mongodb/introduction-to-aggregation</a></p>
					</div>
								<div class='row navigation'>
	<div class='col-4'>
					<a href='many-to-many-relationships'>&#x25C4;Relaciones Muchos a Muchos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introducción a la Agregación</a>
	</div>
	<div class='col-4 text-end'>
					<a href='aggregation-pipeline'>Pipeline de Agregación &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Las operaciones de agregación procesan registros de datos y devuelven resultados calculados. MongoDB proporciona un potente marco de agregación que te permite realizar procesamiento y análisis de datos complejos directamente dentro de la base de datos.</p>
</div><h1>Conceptos Clave de la Agregación</h1>
<div class='content'><ul>
<li><strong>Pipeline de Agregación</strong>: Un marco para la agregación de datos modelado en el concepto de pipelines de procesamiento de datos. Los documentos entran en un pipeline de múltiples etapas que transforma los documentos en resultados agregados.</li>
<li><strong>Etapas</strong>: Cada etapa en el pipeline realiza una operación sobre los documentos de entrada. Las etapas pueden filtrar, ordenar, agrupar, remodelar y modificar documentos que pasan a través del pipeline.</li>
<li><strong>Expresiones</strong>: Utilizadas dentro de las etapas para calcular valores, realizar operaciones y transformar datos.</li>
</ul>
</div><h1>Pipeline de Agregación</h1>
<div class='content'><p>El pipeline de agregación es una serie de etapas que procesan documentos:</p>
<ol>
<li><strong>$match</strong>: Filtra documentos para pasar solo aquellos que coinciden con la(s) condición(es) especificada(s).</li>
<li><strong>$group</strong>: Agrupa documentos de entrada por una expresión de identificador especificada y aplica las expresiones de acumulador a cada grupo.</li>
<li><strong>$project</strong>: Remodela cada documento en el flujo, como agregando, eliminando o renombrando campos.</li>
<li><strong>$sort</strong>: Reordena los documentos en el flujo por una clave de ordenación especificada.</li>
<li><strong>$limit</strong>: Restringe el número de documentos en la salida.</li>
<li><strong>$skip</strong>: Omite un número especificado de documentos del pipeline y pasa el resto.</li>
</ol>
</div><h2>Ejemplo de Pipeline de Agregación</h2>
<div class='content'><p>Considera una colección <code>orders</code> con documentos como:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxLAogICJwcm9kdWN0IjogIkxhcHRvcCIsCiAgInF1YW50aXR5IjogMiwKICAicHJpY2UiOiAxMDAwLAogICJjdXN0b21lciI6ICJKb2huIERvZSIKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 1,
  &quot;product&quot;: &quot;Laptop&quot;,
  &quot;quantity&quot;: 2,
  &quot;price&quot;: 1000,
  &quot;customer&quot;: &quot;John Doe&quot;
}</pre></div><div class='content'><p>Para calcular las ventas totales de cada producto, puedes usar el siguiente pipeline de agregación:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIub3JkZXJzLmFnZ3JlZ2F0ZShbCiAgewogICAgJGdyb3VwOiB7CiAgICAgIF9pZDogIiRwcm9kdWN0IiwKICAgICAgdG90YWxTYWxlczogeyAkc3VtOiB7ICRtdWx0aXBseTogWyIkcXVhbnRpdHkiLCAiJHByaWNlIl0gfSB9CiAgICB9CiAgfQpdKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.orders.aggregate([
  {
    $group: {
      _id: &quot;$product&quot;,
      totalSales: { $sum: { $multiply: [&quot;$quantity&quot;, &quot;$price&quot;] } }
    }
  }
])</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li><strong>$group</strong>: Agrupa documentos por el campo <code>product</code>.</li>
<li><strong>_id</strong>: El campo por el cual agrupar documentos.</li>
<li><strong>totalSales</strong>: Calcula las ventas totales multiplicando <code>quantity</code> y <code>price</code> para cada documento y sumando los resultados.</li>
</ul>
</div><h1>Etapas Comunes de Agregación</h1>
<div class='content'></div><h2>$match</h2>
<div class='content'><p>Filtra documentos para pasar solo aquellos que coinciden con la(s) condición(es) especificada(s).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIub3JkZXJzLmFnZ3JlZ2F0ZShbCiAgeyAkbWF0Y2g6IHsgY3VzdG9tZXI6ICJKb2huIERvZSIgfSB9Cl0p"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.orders.aggregate([
  { $match: { customer: &quot;John Doe&quot; } }
])</pre></div><div class='content'></div><h2>$group</h2>
<div class='content'><p>Agrupa documentos de entrada por una expresión de identificador especificada y aplica las expresiones de acumulador a cada grupo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIub3JkZXJzLmFnZ3JlZ2F0ZShbCiAgewogICAgJGdyb3VwOiB7CiAgICAgIF9pZDogIiRjdXN0b21lciIsCiAgICAgIHRvdGFsUXVhbnRpdHk6IHsgJHN1bTogIiRxdWFudGl0eSIgfQogICAgfQogIH0KXSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.orders.aggregate([
  {
    $group: {
      _id: &quot;$customer&quot;,
      totalQuantity: { $sum: &quot;$quantity&quot; }
    }
  }
])</pre></div><div class='content'></div><h2>$project</h2>
<div class='content'><p>Remodela cada documento en el flujo, como agregando, eliminando o renombrando campos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIub3JkZXJzLmFnZ3JlZ2F0ZShbCiAgewogICAgJHByb2plY3Q6IHsKICAgICAgcHJvZHVjdDogMSwKICAgICAgdG90YWxDb3N0OiB7ICRtdWx0aXBseTogWyIkcXVhbnRpdHkiLCAiJHByaWNlIl0gfQogICAgfQogIH0KXSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.orders.aggregate([
  {
    $project: {
      product: 1,
      totalCost: { $multiply: [&quot;$quantity&quot;, &quot;$price&quot;] }
    }
  }
])</pre></div><div class='content'></div><h2>$sort</h2>
<div class='content'><p>Reordena los documentos en el flujo por una clave de ordenación especificada.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIub3JkZXJzLmFnZ3JlZ2F0ZShbCiAgeyAkc29ydDogeyB0b3RhbFNhbGVzOiAtMSB9IH0KXSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.orders.aggregate([
  { $sort: { totalSales: -1 } }
])</pre></div><div class='content'></div><h2>$limit</h2>
<div class='content'><p>Restringe el número de documentos en la salida.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIub3JkZXJzLmFnZ3JlZ2F0ZShbCiAgeyAkbGltaXQ6IDUgfQpdKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.orders.aggregate([
  { $limit: 5 }
])</pre></div><div class='content'></div><h2>$skip</h2>
<div class='content'><p>Omite un número especificado de documentos del pipeline y pasa el resto.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIub3JkZXJzLmFnZ3JlZ2F0ZShbCiAgeyAkc2tpcDogMTAgfQpdKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.orders.aggregate([
  { $skip: 10 }
])</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>La agregación en MongoDB es una herramienta poderosa para el análisis y la transformación de datos. Al entender y utilizar el pipeline de agregación y sus etapas, puedes realizar consultas complejas y derivar conocimientos significativos de tus datos. Practica usando diferentes etapas y expresiones para volverte competente en la construcción de pipelines de agregación eficientes.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='many-to-many-relationships'>&#x25C4;Relaciones Muchos a Muchos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Introducción a la Agregación</a>
	</div>
	<div class='col-4 text-end'>
					<a href='aggregation-pipeline'>Pipeline de Agregación &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
