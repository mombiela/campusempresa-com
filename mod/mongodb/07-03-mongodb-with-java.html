<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB con Java</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/07-03-mongodb-with-java" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/07-03-mongodb-with-java" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/07-03-mongodb-with-java" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/mongodb/07-03-mongodb-with-java" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/07-03-mongodb-with-java" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-2'>
					<a href='07-02-mongodb-with-python' title="MongoDB con Python">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">MongoDB con Java</h2></a>
			</div>
	<div class='col-2 text-end'>
					<a href='07-04-mongodb-with-csharp' title="MongoDB con C#">Siguiente &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En este módulo, aprenderás cómo integrar MongoDB con Java, uno de los lenguajes de programación más populares. Exploraremos cómo conectarse a una base de datos MongoDB, realizar operaciones CRUD y utilizar algunas características avanzadas de MongoDB desde una aplicación Java.</p>
</div><h1>Contenido</h1>
<div class='content'><ol>
<li><a href="#configuración-del-entorno">Configuración del Entorno</a></li>
<li><a href="#conexión-a-mongodb">Conexión a MongoDB</a></li>
<li><a href="#operaciones-crud">Operaciones CRUD</a>
<ul>
<li><a href="#crear-documentos">Crear Documentos</a></li>
<li><a href="#leer-documentos">Leer Documentos</a></li>
<li><a href="#actualizar-documentos">Actualizar Documentos</a></li>
<li><a href="#eliminar-documentos">Eliminar Documentos</a></li>
</ul>
</li>
<li><a href="#consultas-avanzadas">Consultas Avanzadas</a></li>
<li><a href="#manejo-de-errores">Manejo de Errores</a></li>
<li><a href="#ejercicios-prácticos">Ejercicios Prácticos</a></li>
</ol>
</div><h1>Configuración del Entorno</h1>
<div class='content'></div><h2>Requisitos Previos</h2>
<div class='content'><ul>
<li>Java Development Kit (JDK) instalado.</li>
<li>MongoDB instalado y en ejecución.</li>
<li>Un IDE como IntelliJ IDEA o Eclipse.</li>
</ul>
</div><h2>Dependencias</h2>
<div class='content'><p>Para trabajar con MongoDB en Java, utilizaremos el driver oficial de MongoDB para Java. Puedes agregarlo a tu proyecto utilizando Maven o Gradle.</p>
<h4>Maven</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcubW9uZ29kYjwvZ3JvdXBJZD4KICAgIDxhcnRpZmFjdElkPm1vbmdvZGItZHJpdmVyLXN5bmM8L2FydGlmYWN0SWQ+CiAgICA8dmVyc2lvbj40LjMuMTwvdmVyc2lvbj4KPC9kZXBlbmRlbmN5Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;
    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;
    &lt;version&gt;4.3.1&lt;/version&gt;
&lt;/dependency&gt;</pre></div><div class='content'><h4>Gradle</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wbGVtZW50YXRpb24gJ29yZy5tb25nb2RiOm1vbmdvZGItZHJpdmVyLXN5bmM6NC4zLjEn"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>implementation 'org.mongodb:mongodb-driver-sync:4.3.1'</pre></div><div class='content'></div><h1>Conexión a MongoDB</h1>
<div class='content'><p>Para conectarse a una base de datos MongoDB desde Java, utilizaremos la clase <code>MongoClient</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NsaWVudDsKaW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NsaWVudHM7CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKCnB1YmxpYyBjbGFzcyBNb25nb0RCQ29ubmVjdGlvbiB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgLy8gQ3JlYXIgdW5hIGluc3RhbmNpYSBkZSBNb25nb0NsaWVudAogICAgICAgIE1vbmdvQ2xpZW50IG1vbmdvQ2xpZW50ID0gTW9uZ29DbGllbnRzLmNyZWF0ZSgibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyIpOwoKICAgICAgICAvLyBDb25lY3RhciBhIGxhIGJhc2UgZGUgZGF0b3MgInRlc3QiCiAgICAgICAgTW9uZ29EYXRhYmFzZSBkYXRhYmFzZSA9IG1vbmdvQ2xpZW50LmdldERhdGFiYXNlKCJ0ZXN0Iik7CgogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiQ29uZXhpw7NuIGV4aXRvc2EgYSBsYSBiYXNlIGRlIGRhdG9zOiAiICsgZGF0YWJhc2UuZ2V0TmFtZSgpKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.MongoClient;
import com.mongodb.client.MongoClients;
import com.mongodb.client.MongoDatabase;

public class MongoDBConnection {
    public static void main(String[] args) {
        // Crear una instancia de MongoClient
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);

        // Conectar a la base de datos &quot;test&quot;
        MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);

        System.out.println(&quot;Conexi&oacute;n exitosa a la base de datos: &quot; + database.getName());
    }
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><code>MongoClients.create(&quot;mongodb://localhost:27017&quot;)</code>: Crea una instancia de <code>MongoClient</code> conectada al servidor MongoDB en <code>localhost</code> en el puerto <code>27017</code>.</li>
<li><code>mongoClient.getDatabase(&quot;test&quot;)</code>: Obtiene una referencia a la base de datos llamada &quot;test&quot;.</li>
</ul>
</div><h1>Operaciones CRUD</h1>
<div class='content'></div><h2>Crear Documentos</h2>
<div class='content'><p>Para insertar documentos en una colección, utilizamos el método <code>insertOne</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NvbGxlY3Rpb247CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKaW1wb3J0IG9yZy5ic29uLkRvY3VtZW50OwoKcHVibGljIGNsYXNzIENyZWF0ZURvY3VtZW50IHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBNb25nb0NsaWVudCBtb25nb0NsaWVudCA9IE1vbmdvQ2xpZW50cy5jcmVhdGUoIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTciKTsKICAgICAgICBNb25nb0RhdGFiYXNlIGRhdGFiYXNlID0gbW9uZ29DbGllbnQuZ2V0RGF0YWJhc2UoInRlc3QiKTsKICAgICAgICBNb25nb0NvbGxlY3Rpb248RG9jdW1lbnQ+IGNvbGxlY3Rpb24gPSBkYXRhYmFzZS5nZXRDb2xsZWN0aW9uKCJ1c2VycyIpOwoKICAgICAgICBEb2N1bWVudCB1c2VyID0gbmV3IERvY3VtZW50KCJuYW1lIiwgIkpvaG4gRG9lIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoImFnZSIsIDMwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgiZW1haWwiLCAiam9obi5kb2VAZXhhbXBsZS5jb20iKTsKCiAgICAgICAgY29sbGVjdGlvbi5pbnNlcnRPbmUodXNlcik7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJEb2N1bWVudG8gaW5zZXJ0YWRvIGNvbiDDqXhpdG8iKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;

public class CreateDocument {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;users&quot;);

        Document user = new Document(&quot;name&quot;, &quot;John Doe&quot;)
                            .append(&quot;age&quot;, 30)
                            .append(&quot;email&quot;, &quot;john.doe@example.com&quot;);

        collection.insertOne(user);
        System.out.println(&quot;Documento insertado con &eacute;xito&quot;);
    }
}</pre></div><div class='content'></div><h2>Leer Documentos</h2>
<div class='content'><p>Para leer documentos de una colección, utilizamos el método <code>find</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5GaW5kSXRlcmFibGU7CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29Db2xsZWN0aW9uOwppbXBvcnQgY29tLm1vbmdvZGIuY2xpZW50Lk1vbmdvRGF0YWJhc2U7CmltcG9ydCBvcmcuYnNvbi5Eb2N1bWVudDsKCnB1YmxpYyBjbGFzcyBSZWFkRG9jdW1lbnQgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIE1vbmdvQ2xpZW50IG1vbmdvQ2xpZW50ID0gTW9uZ29DbGllbnRzLmNyZWF0ZSgibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyIpOwogICAgICAgIE1vbmdvRGF0YWJhc2UgZGF0YWJhc2UgPSBtb25nb0NsaWVudC5nZXREYXRhYmFzZSgidGVzdCIpOwogICAgICAgIE1vbmdvQ29sbGVjdGlvbjxEb2N1bWVudD4gY29sbGVjdGlvbiA9IGRhdGFiYXNlLmdldENvbGxlY3Rpb24oInVzZXJzIik7CgogICAgICAgIEZpbmRJdGVyYWJsZTxEb2N1bWVudD4gdXNlcnMgPSBjb2xsZWN0aW9uLmZpbmQoKTsKCiAgICAgICAgZm9yIChEb2N1bWVudCB1c2VyIDogdXNlcnMpIHsKICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKHVzZXIudG9Kc29uKCkpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.FindIterable;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;

public class ReadDocument {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;users&quot;);

        FindIterable&lt;Document&gt; users = collection.find();

        for (Document user : users) {
            System.out.println(user.toJson());
        }
    }
}</pre></div><div class='content'></div><h2>Actualizar Documentos</h2>
<div class='content'><p>Para actualizar documentos, utilizamos el método <code>updateOne</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NvbGxlY3Rpb247CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKaW1wb3J0IG9yZy5ic29uLkRvY3VtZW50OwppbXBvcnQgY29tLm1vbmdvZGIuY2xpZW50Lm1vZGVsLlVwZGF0ZXM7CgpwdWJsaWMgY2xhc3MgVXBkYXRlRG9jdW1lbnQgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIE1vbmdvQ2xpZW50IG1vbmdvQ2xpZW50ID0gTW9uZ29DbGllbnRzLmNyZWF0ZSgibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyIpOwogICAgICAgIE1vbmdvRGF0YWJhc2UgZGF0YWJhc2UgPSBtb25nb0NsaWVudC5nZXREYXRhYmFzZSgidGVzdCIpOwogICAgICAgIE1vbmdvQ29sbGVjdGlvbjxEb2N1bWVudD4gY29sbGVjdGlvbiA9IGRhdGFiYXNlLmdldENvbGxlY3Rpb24oInVzZXJzIik7CgogICAgICAgIERvY3VtZW50IHF1ZXJ5ID0gbmV3IERvY3VtZW50KCJuYW1lIiwgIkpvaG4gRG9lIik7CiAgICAgICAgRG9jdW1lbnQgdXBkYXRlID0gbmV3IERvY3VtZW50KCIkc2V0IiwgbmV3IERvY3VtZW50KCJhZ2UiLCAzMSkpOwoKICAgICAgICBjb2xsZWN0aW9uLnVwZGF0ZU9uZShxdWVyeSwgdXBkYXRlKTsKICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkRvY3VtZW50byBhY3R1YWxpemFkbyBjb24gw6l4aXRvIik7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import com.mongodb.client.model.Updates;

public class UpdateDocument {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;users&quot;);

        Document query = new Document(&quot;name&quot;, &quot;John Doe&quot;);
        Document update = new Document(&quot;$set&quot;, new Document(&quot;age&quot;, 31));

        collection.updateOne(query, update);
        System.out.println(&quot;Documento actualizado con &eacute;xito&quot;);
    }
}</pre></div><div class='content'></div><h2>Eliminar Documentos</h2>
<div class='content'><p>Para eliminar documentos, utilizamos el método <code>deleteOne</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NvbGxlY3Rpb247CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKaW1wb3J0IG9yZy5ic29uLkRvY3VtZW50OwoKcHVibGljIGNsYXNzIERlbGV0ZURvY3VtZW50IHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBNb25nb0NsaWVudCBtb25nb0NsaWVudCA9IE1vbmdvQ2xpZW50cy5jcmVhdGUoIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTciKTsKICAgICAgICBNb25nb0RhdGFiYXNlIGRhdGFiYXNlID0gbW9uZ29DbGllbnQuZ2V0RGF0YWJhc2UoInRlc3QiKTsKICAgICAgICBNb25nb0NvbGxlY3Rpb248RG9jdW1lbnQ+IGNvbGxlY3Rpb24gPSBkYXRhYmFzZS5nZXRDb2xsZWN0aW9uKCJ1c2VycyIpOwoKICAgICAgICBEb2N1bWVudCBxdWVyeSA9IG5ldyBEb2N1bWVudCgibmFtZSIsICJKb2huIERvZSIpOwoKICAgICAgICBjb2xsZWN0aW9uLmRlbGV0ZU9uZShxdWVyeSk7CiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJEb2N1bWVudG8gZWxpbWluYWRvIGNvbiDDqXhpdG8iKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;

public class DeleteDocument {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;users&quot;);

        Document query = new Document(&quot;name&quot;, &quot;John Doe&quot;);

        collection.deleteOne(query);
        System.out.println(&quot;Documento eliminado con &eacute;xito&quot;);
    }
}</pre></div><div class='content'></div><h1>Consultas Avanzadas</h1>
<div class='content'><p>Puedes realizar consultas más complejas utilizando filtros y operadores.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NvbGxlY3Rpb247CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKaW1wb3J0IG9yZy5ic29uLkRvY3VtZW50OwppbXBvcnQgY29tLm1vbmdvZGIuY2xpZW50Lm1vZGVsLkZpbHRlcnM7CgpwdWJsaWMgY2xhc3MgQWR2YW5jZWRRdWVyeSB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgTW9uZ29DbGllbnQgbW9uZ29DbGllbnQgPSBNb25nb0NsaWVudHMuY3JlYXRlKCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3Iik7CiAgICAgICAgTW9uZ29EYXRhYmFzZSBkYXRhYmFzZSA9IG1vbmdvQ2xpZW50LmdldERhdGFiYXNlKCJ0ZXN0Iik7CiAgICAgICAgTW9uZ29Db2xsZWN0aW9uPERvY3VtZW50PiBjb2xsZWN0aW9uID0gZGF0YWJhc2UuZ2V0Q29sbGVjdGlvbigidXNlcnMiKTsKCiAgICAgICAgRG9jdW1lbnQgdXNlciA9IGNvbGxlY3Rpb24uZmluZChGaWx0ZXJzLmFuZChGaWx0ZXJzLmVxKCJuYW1lIiwgIkpvaG4gRG9lIiksIEZpbHRlcnMuZ3QoImFnZSIsIDI1KSkpLmZpcnN0KCk7CgogICAgICAgIGlmICh1c2VyICE9IG51bGwpIHsKICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKHVzZXIudG9Kc29uKCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiTm8gc2UgZW5jb250csOzIG5pbmfDum4gZG9jdW1lbnRvIHF1ZSBjb2luY2lkYSBjb24gbGEgY29uc3VsdGEiKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import com.mongodb.client.model.Filters;

public class AdvancedQuery {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;users&quot;);

        Document user = collection.find(Filters.and(Filters.eq(&quot;name&quot;, &quot;John Doe&quot;), Filters.gt(&quot;age&quot;, 25))).first();

        if (user != null) {
            System.out.println(user.toJson());
        } else {
            System.out.println(&quot;No se encontr&oacute; ning&uacute;n documento que coincida con la consulta&quot;);
        }
    }
}</pre></div><div class='content'></div><h1>Manejo de Errores</h1>
<div class='content'><p>Es importante manejar posibles errores al interactuar con MongoDB.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLk1vbmdvRXhjZXB0aW9uOwppbXBvcnQgY29tLm1vbmdvZGIuY2xpZW50Lk1vbmdvQ2xpZW50OwppbXBvcnQgY29tLm1vbmdvZGIuY2xpZW50Lk1vbmdvQ2xpZW50czsKaW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0RhdGFiYXNlOwoKcHVibGljIGNsYXNzIEVycm9ySGFuZGxpbmcgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIE1vbmdvQ2xpZW50IG1vbmdvQ2xpZW50ID0gTW9uZ29DbGllbnRzLmNyZWF0ZSgibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyIpOwogICAgICAgICAgICBNb25nb0RhdGFiYXNlIGRhdGFiYXNlID0gbW9uZ29DbGllbnQuZ2V0RGF0YWJhc2UoInRlc3QiKTsKICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJDb25leGnDs24gZXhpdG9zYSBhIGxhIGJhc2UgZGUgZGF0b3M6ICIgKyBkYXRhYmFzZS5nZXROYW1lKCkpOwogICAgICAgIH0gY2F0Y2ggKE1vbmdvRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJFcnJvciBhbCBjb25lY3RhcnNlIGEgTW9uZ29EQjogIiArIGUuZ2V0TWVzc2FnZSgpKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.MongoException;
import com.mongodb.client.MongoClient;
import com.mongodb.client.MongoClients;
import com.mongodb.client.MongoDatabase;

public class ErrorHandling {
    public static void main(String[] args) {
        try {
            MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
            MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);
            System.out.println(&quot;Conexi&oacute;n exitosa a la base de datos: &quot; + database.getName());
        } catch (MongoException e) {
            System.err.println(&quot;Error al conectarse a MongoDB: &quot; + e.getMessage());
        }
    }
}</pre></div><div class='content'></div><h1>Ejercicios Prácticos</h1>
<div class='content'></div><h2>Ejercicio 1: Insertar y Leer Documentos</h2>
<div class='content'><ol>
<li>Inserta un documento en una colección llamada &quot;products&quot; con los campos &quot;name&quot;, &quot;price&quot; y &quot;category&quot;.</li>
<li>Lee todos los documentos de la colección &quot;products&quot; y muestra sus contenidos.</li>
</ol>
</div><h2>Ejercicio 2: Actualizar y Eliminar Documentos</h2>
<div class='content'><ol>
<li>Actualiza el campo &quot;price&quot; de un producto específico en la colección &quot;products&quot;.</li>
<li>Elimina un documento de la colección &quot;products&quot; basado en el campo &quot;name&quot;.</li>
</ol>
</div><h2>Soluciones</h2>
<div class='content'><h4>Solución Ejercicio 1</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NvbGxlY3Rpb247CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKaW1wb3J0IG9yZy5ic29uLkRvY3VtZW50OwppbXBvcnQgY29tLm1vbmdvZGIuY2xpZW50LkZpbmRJdGVyYWJsZTsKCnB1YmxpYyBjbGFzcyBFeGVyY2lzZTEgewogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgewogICAgICAgIE1vbmdvQ2xpZW50IG1vbmdvQ2xpZW50ID0gTW9uZ29DbGllbnRzLmNyZWF0ZSgibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyIpOwogICAgICAgIE1vbmdvRGF0YWJhc2UgZGF0YWJhc2UgPSBtb25nb0NsaWVudC5nZXREYXRhYmFzZSgidGVzdCIpOwogICAgICAgIE1vbmdvQ29sbGVjdGlvbjxEb2N1bWVudD4gY29sbGVjdGlvbiA9IGRhdGFiYXNlLmdldENvbGxlY3Rpb24oInByb2R1Y3RzIik7CgogICAgICAgIC8vIEluc2VydGFyIGRvY3VtZW50bwogICAgICAgIERvY3VtZW50IHByb2R1Y3QgPSBuZXcgRG9jdW1lbnQoIm5hbWUiLCAiTGFwdG9wIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoInByaWNlIiwgMTIwMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoImNhdGVnb3J5IiwgIkVsZWN0cm9uaWNzIik7CiAgICAgICAgY29sbGVjdGlvbi5pbnNlcnRPbmUocHJvZHVjdCk7CgogICAgICAgIC8vIExlZXIgZG9jdW1lbnRvcwogICAgICAgIEZpbmRJdGVyYWJsZTxEb2N1bWVudD4gcHJvZHVjdHMgPSBjb2xsZWN0aW9uLmZpbmQoKTsKICAgICAgICBmb3IgKERvY3VtZW50IGRvYyA6IHByb2R1Y3RzKSB7CiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihkb2MudG9Kc29uKCkpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import com.mongodb.client.FindIterable;

public class Exercise1 {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;products&quot;);

        // Insertar documento
        Document product = new Document(&quot;name&quot;, &quot;Laptop&quot;)
                            .append(&quot;price&quot;, 1200)
                            .append(&quot;category&quot;, &quot;Electronics&quot;);
        collection.insertOne(product);

        // Leer documentos
        FindIterable&lt;Document&gt; products = collection.find();
        for (Document doc : products) {
            System.out.println(doc.toJson());
        }
    }
}</pre></div><div class='content'><h4>Solución Ejercicio 2</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGNvbS5tb25nb2RiLmNsaWVudC5Nb25nb0NvbGxlY3Rpb247CmltcG9ydCBjb20ubW9uZ29kYi5jbGllbnQuTW9uZ29EYXRhYmFzZTsKaW1wb3J0IG9yZy5ic29uLkRvY3VtZW50OwppbXBvcnQgY29tLm1vbmdvZGIuY2xpZW50Lm1vZGVsLlVwZGF0ZXM7CgpwdWJsaWMgY2xhc3MgRXhlcmNpc2UyIHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBNb25nb0NsaWVudCBtb25nb0NsaWVudCA9IE1vbmdvQ2xpZW50cy5jcmVhdGUoIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTciKTsKICAgICAgICBNb25nb0RhdGFiYXNlIGRhdGFiYXNlID0gbW9uZ29DbGllbnQuZ2V0RGF0YWJhc2UoInRlc3QiKTsKICAgICAgICBNb25nb0NvbGxlY3Rpb248RG9jdW1lbnQ+IGNvbGxlY3Rpb24gPSBkYXRhYmFzZS5nZXRDb2xsZWN0aW9uKCJwcm9kdWN0cyIpOwoKICAgICAgICAvLyBBY3R1YWxpemFyIGRvY3VtZW50bwogICAgICAgIERvY3VtZW50IHF1ZXJ5ID0gbmV3IERvY3VtZW50KCJuYW1lIiwgIkxhcHRvcCIpOwogICAgICAgIERvY3VtZW50IHVwZGF0ZSA9IG5ldyBEb2N1bWVudCgiJHNldCIsIG5ldyBEb2N1bWVudCgicHJpY2UiLCAxMTAwKSk7CiAgICAgICAgY29sbGVjdGlvbi51cGRhdGVPbmUocXVlcnksIHVwZGF0ZSk7CgogICAgICAgIC8vIEVsaW1pbmFyIGRvY3VtZW50bwogICAgICAgIERvY3VtZW50IGRlbGV0ZVF1ZXJ5ID0gbmV3IERvY3VtZW50KCJuYW1lIiwgIkxhcHRvcCIpOwogICAgICAgIGNvbGxlY3Rpb24uZGVsZXRlT25lKGRlbGV0ZVF1ZXJ5KTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import com.mongodb.client.model.Updates;

public class Exercise2 {
    public static void main(String[] args) {
        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);
        MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);
        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;products&quot;);

        // Actualizar documento
        Document query = new Document(&quot;name&quot;, &quot;Laptop&quot;);
        Document update = new Document(&quot;$set&quot;, new Document(&quot;price&quot;, 1100));
        collection.updateOne(query, update);

        // Eliminar documento
        Document deleteQuery = new Document(&quot;name&quot;, &quot;Laptop&quot;);
        collection.deleteOne(deleteQuery);
    }
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En este módulo, hemos aprendido cómo integrar MongoDB con Java, realizar operaciones CRUD básicas y avanzadas, y manejar errores. Con estos conocimientos, estás preparado para construir aplicaciones Java que interactúen eficientemente con MongoDB. En el siguiente módulo, exploraremos cómo aplicar estos conceptos en aplicaciones del mundo real.</p>
</div><div class='row navigation'>
	<div class='col-2'>
					<a href='07-02-mongodb-with-python' title="MongoDB con Python">&#x25C4;Anterior</a>
			</div>
	<div class='col-8 text-center'>
			</div>
	<div class='col-2 text-end'>
					<a href='07-04-mongodb-with-csharp' title="MongoDB con C#">Siguiente &#x25BA;</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
