<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mejores Prácticas de Diseño de Esquemas</title>

    <link rel="alternate" href="https://campusempresa.com/mod/mongodb/schema-design-best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/mongodb/schema-design-best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/mongodb/schema-design-best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/mod/mongodb/schema-design-best-practices" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/mod/mongodb/schema-design-best-practices" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='indexes-in-mongodb'>&#x25C4;Índices en MongoDB</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Mejores Prácticas de Diseño de Esquemas</a>
	</div>
	<div class='col-4 text-end'>
					<a href='embedded-documents-vs-references'>Documentos Embebidos vs. Referencias &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>El diseño de esquemas es un aspecto crítico al trabajar con MongoDB. Un esquema bien diseñado puede mejorar significativamente el rendimiento, la escalabilidad y el mantenimiento de tu aplicación. Esta sección cubrirá las mejores prácticas para diseñar esquemas en MongoDB, desde niveles principiantes hasta avanzados.</p>
</div><h1>Entendiendo el Diseño de Esquemas en MongoDB</h1>
<div class='content'><p>MongoDB es una base de datos NoSQL, lo que significa que no requiere un esquema fijo. Sin embargo, tener un diseño de esquema bien pensado sigue siendo esencial para una gestión eficiente de los datos.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Documentos y Colecciones</strong>: MongoDB almacena datos en formato BSON dentro de documentos, que se agrupan en colecciones.</li>
<li><strong>Documentos Embebidos</strong>: Los documentos pueden contener subdocumentos, permitiendo estructuras de datos anidadas.</li>
<li><strong>Referencias</strong>: Los documentos pueden referenciar otros documentos, similar a las claves foráneas en bases de datos relacionales.</li>
</ul>
</div><h1>Mejores Prácticas para el Diseño de Esquemas</h1>
<div class='content'></div><h2>1. Incrustar vs. Referenciar</h2>
<div class='content'><p>Elegir entre incrustar documentos y referenciarlos es una decisión fundamental en el diseño de esquemas.</p>
<ul>
<li>
<p><strong>Incrustar</strong> cuando:</p>
<ul>
<li>Los datos se acceden frecuentemente juntos.</li>
<li>No se espera que el documento incrustado crezca indefinidamente.</li>
<li>La relación entre documentos es de uno a pocos.</li>
</ul>
</li>
<li>
<p><strong>Referenciar</strong> cuando:</p>
<ul>
<li>Los datos se acceden por separado.</li>
<li>El documento referenciado es grande o se espera que crezca.</li>
<li>La relación entre documentos es de uno a muchos o de muchos a muchos.</li>
</ul>
</li>
</ul>
<h4>Ejemplo: Incrustar</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJuYW1lIjogIkpvaG4gRG9lIiwKICAiYWRkcmVzcyI6IHsKICAgICJzdHJlZXQiOiAiMTIzIE1haW4gU3QiLAogICAgImNpdHkiOiAiQW55dG93biIsCiAgICAic3RhdGUiOiAiQ0EiCiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;address&quot;: {
    &quot;street&quot;: &quot;123 Main St&quot;,
    &quot;city&quot;: &quot;Anytown&quot;,
    &quot;state&quot;: &quot;CA&quot;
  }
}</pre></div><div class='content'><h4>Ejemplo: Referenciar</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJuYW1lIjogIkpvaG4gRG9lIiwKICAiYWRkcmVzc19pZCI6ICI1ZjhmOGM0NGI1NDc2NDQyMWI3MTU2YzMiCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;address_id&quot;: &quot;5f8f8c44b54764421b7156c3&quot;
}</pre></div><div class='content'></div><h2>2. Optimizar para Operaciones de Lectura</h2>
<div class='content'><p>Diseña tu esquema para optimizar las operaciones de lectura más comunes.</p>
<ul>
<li><strong>Desnormalizar datos</strong>: Duplica datos a través de documentos para reducir el número de operaciones de lectura.</li>
<li><strong>Usar índices</strong>: Crea índices en campos que se consultan frecuentemente.</li>
</ul>
<h4>Ejemplo: Desnormalización</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJvcmRlcl9pZCI6ICIxMjM0NSIsCiAgImN1c3RvbWVyX25hbWUiOiAiSm9obiBEb2UiLAogICJwcm9kdWN0X25hbWUiOiAiTGFwdG9wIiwKICAicHJpY2UiOiAxMjAwCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;order_id&quot;: &quot;12345&quot;,
  &quot;customer_name&quot;: &quot;John Doe&quot;,
  &quot;product_name&quot;: &quot;Laptop&quot;,
  &quot;price&quot;: 1200
}</pre></div><div class='content'></div><h2>3. Optimizar para Operaciones de Escritura</h2>
<div class='content'><p>Si tu aplicación realiza muchas operaciones de escritura, considera lo siguiente:</p>
<ul>
<li><strong>Evitar documentos grandes</strong>: Los documentos grandes pueden ralentizar las operaciones de escritura.</li>
<li><strong>Usar colecciones limitadas</strong>: Para registros u otros datos que tienen un tamaño fijo.</li>
</ul>
<h4>Ejemplo: Colección Limitada</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY3JlYXRlQ29sbGVjdGlvbigibG9ncyIsIHsgY2FwcGVkOiB0cnVlLCBzaXplOiA1MjQyODgwLCBtYXg6IDUwMDAgfSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.createCollection(&quot;logs&quot;, { capped: true, size: 5242880, max: 5000 })</pre></div><div class='content'></div><h2>4. Versionado de Esquemas</h2>
<div class='content'><p>A medida que tu aplicación evoluciona, tu esquema puede necesitar cambios. Planifica el versionado de esquemas para manejar estos cambios de manera elegante.</p>
<ul>
<li><strong>Incluir un campo de versión</strong>: Agrega un campo de versión a tus documentos para rastrear cambios en el esquema.</li>
<li><strong>Migrar datos</strong>: Escribe scripts para migrar datos a la nueva versión del esquema.</li>
</ul>
<h4>Ejemplo: Versionado</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJuYW1lIjogIkpvaG4gRG9lIiwKICAiYWRkcmVzcyI6ICIxMjMgTWFpbiBTdCwgQW55dG93biwgQ0EiLAogICJzY2hlbWFfdmVyc2lvbiI6IDIKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;address&quot;: &quot;123 Main St, Anytown, CA&quot;,
  &quot;schema_version&quot;: 2
}</pre></div><div class='content'></div><h2>5. Usar el Marco de Agregación</h2>
<div class='content'><p>El marco de agregación de MongoDB permite un procesamiento y transformación de datos complejos.</p>
<ul>
<li><strong>Etapas de la tubería</strong>: Usa etapas como <code>$match</code>, <code>$group</code>, <code>$project</code> y <code>$sort</code> para procesar datos.</li>
<li><strong>Evitar uso excesivo</strong>: Aunque es poderoso, el uso excesivo de la agregación puede llevar a problemas de rendimiento.</li>
</ul>
<h4>Ejemplo: Tubería de Agregación</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIub3JkZXJzLmFnZ3JlZ2F0ZShbCiAgeyAkbWF0Y2g6IHsgc3RhdHVzOiAic2hpcHBlZCIgfSB9LAogIHsgJGdyb3VwOiB7IF9pZDogIiRjdXN0b21lcl9pZCIsIHRvdGFsOiB7ICRzdW06ICIkYW1vdW50IiB9IH0gfSwKICB7ICRzb3J0OiB7IHRvdGFsOiAtMSB9IH0KXSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.orders.aggregate([
  { $match: { status: &quot;shipped&quot; } },
  { $group: { _id: &quot;$customer_id&quot;, total: { $sum: &quot;$amount&quot; } } },
  { $sort: { total: -1 } }
])</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Diseñar un esquema eficiente en MongoDB requiere una consideración cuidadosa de cómo tu aplicación accederá y manipulará los datos. Siguiendo las mejores prácticas como elegir entre incrustar y referenciar, optimizar para operaciones de lectura y escritura, planificar el versionado de esquemas y aprovechar el marco de agregación, puedes crear un esquema robusto y escalable. Recuerda, la clave para un diseño de esquema exitoso es entender las necesidades específicas y los patrones de uso de tu aplicación.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='indexes-in-mongodb'>&#x25C4;Índices en MongoDB</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Mejores Prácticas de Diseño de Esquemas</a>
	</div>
	<div class='col-4 text-end'>
					<a href='embedded-documents-vs-references'>Documentos Embebidos vs. Referencias &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
