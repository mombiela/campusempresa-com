<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comandos Avanzados</title>

    <link rel="alternate" href="https://campusempresa.com/mod/redis/03-02-advanced-commands" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/mod/redis/03-02-advanced-commands" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/mod/redis/03-02-advanced-commands" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="/js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body >
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-12 col-md-6 p-2 p-md-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png"></a>
			</h1>
		</div>
		<div class="col-12 col-md-6 p-2 p-md-0 text-end">
				<a href="https://enterprisecampus.net/mod/redis/03-02-advanced-commands" class="px-2">EN</a></b>
	|
	<b class="px-2">ES</b>
	|
	<a href="https://campusempresa.cat/mod/redis/03-02-advanced-commands" class="px-2">CA</a>
<br>
			<cite>Construyendo la sociedad de hoy y del mañana</cite>
		</div>
	</div>
</div>
<div id="subheader" class="container-xxl">
	<div class="row">
		<div class="col-12 p-2 p-md-0 m-0 text-end">
			<a href="/objective">El Proyecto</a> | 
<a href="/about">Sobre nosotros</a> | 
<a href="/contribute">Contribuir</a> | 
<a href="/donate">Donaciones</a> | 
<a href="/licence">Licencia</a>
		</div>
	</div>
</div>

<div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
									<a href="./">Contenido del curso</a>
					<span class="sep">|</span>
								<a href="/all/competencias">Competencias técnicas</a>
				<a href="/all/conocimientos">Conocimientos</a>
				<a href="/all/soft_skills">Competencias sociales</a>
			</div>
		</div>
	</div>
</div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content">
								<div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-01-basic-commands' title="Comandos Básicos">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
					<a href="./"><h2 style="text-decoration:underline">Comandos Avanzados</h2></a>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-03-transactions' title="Transacciones">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>
<div class='content'><p>En este módulo, exploraremos comandos avanzados de Redis que te permitirán aprovechar al máximo las capacidades de esta poderosa base de datos en memoria. Estos comandos son esenciales para realizar operaciones complejas y optimizar el rendimiento de tus aplicaciones.</p>
</div><h1><p>Contenido</p>
</h1>
<div class='content'><ol>
<li><a href="#comandos-de-manipulación-de-estructuras-de-datos">Comandos de Manipulación de Estructuras de Datos</a></li>
<li><a href="#comandos-de-gestión-de-claves">Comandos de Gestión de Claves</a></li>
<li><a href="#comandos-de-publicación-y-suscripción">Comandos de Publicación y Suscripción</a></li>
<li><a href="#comandos-de-scripts-y-lua">Comandos de Scripts y Lua</a></li>
<li><a href="#ejercicios-prácticos">Ejercicios Prácticos</a></li>
<li><a href="#conclusión">Conclusión</a></li>
</ol>
</div><h1><p>Comandos de Manipulación de Estructuras de Datos</p>
</h1>
<div class='content'></div><h2><p>1.1. <code>BITFIELD</code></p>
</h2>
<div class='content'><p>El comando <code>BITFIELD</code> permite realizar operaciones a nivel de bits en cadenas. Es útil para almacenar múltiples valores en una sola clave.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiBCSVRGSUVMRCBteWtleSBTRVQgdTggMCAxMDAKKGludGVnZXIpIDAKPiBCSVRGSUVMRCBteWtleSBHRVQgdTggMAoxKSAoaW50ZWdlcikgMTAw"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; BITFIELD mykey SET u8 0 100
(integer) 0
&gt; BITFIELD mykey GET u8 0
1) (integer) 100</pre></div><div class='content'><p><strong>Explicación:</strong></p>
<ul>
<li><code>SET u8 0 100</code>: Establece un valor de 8 bits sin signo en el offset 0.</li>
<li><code>GET u8 0</code>: Obtiene el valor de 8 bits sin signo en el offset 0.</li>
</ul>
</div><h2><p>1.2. <code>HSCAN</code></p>
</h2>
<div class='content'><p>El comando <code>HSCAN</code> permite iterar sobre los campos y valores de un hash de manera incremental.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiBIU0VUIG15aGFzaCBmaWVsZDEgIkhlbGxvIiBmaWVsZDIgIldvcmxkIgooaW50ZWdlcikgMgo+IEhTQ0FOIG15aGFzaCAwIE1BVENIIGZpZWxkKgoxKSAiMCIKMikgMSkgImZpZWxkMSIKICAgMikgIkhlbGxvIgogICAzKSAiZmllbGQyIgogICA0KSAiV29ybGQi"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; HSET myhash field1 &quot;Hello&quot; field2 &quot;World&quot;
(integer) 2
&gt; HSCAN myhash 0 MATCH field*
1) &quot;0&quot;
2) 1) &quot;field1&quot;
   2) &quot;Hello&quot;
   3) &quot;field2&quot;
   4) &quot;World&quot;</pre></div><div class='content'><p><strong>Explicación:</strong></p>
<ul>
<li><code>HSCAN myhash 0 MATCH field*</code>: Itera sobre los campos que coinciden con el patrón <code>field*</code>.</li>
</ul>
</div><h1><p>Comandos de Gestión de Claves</p>
</h1>
<div class='content'></div><h2><p>2.1. <code>EXPIRE</code> y <code>TTL</code></p>
</h2>
<div class='content'><p>Estos comandos permiten establecer un tiempo de vida para una clave y consultar el tiempo restante.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiBTRVQgbXlrZXkgIkhlbGxvIgpPSwo+IEVYUElSRSBteWtleSAxMAooaW50ZWdlcikgMQo+IFRUTCBteWtleQooaW50ZWdlcikgMTA="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; SET mykey &quot;Hello&quot;
OK
&gt; EXPIRE mykey 10
(integer) 1
&gt; TTL mykey
(integer) 10</pre></div><div class='content'><p><strong>Explicación:</strong></p>
<ul>
<li><code>EXPIRE mykey 10</code>: Establece un tiempo de vida de 10 segundos para <code>mykey</code>.</li>
<li><code>TTL mykey</code>: Devuelve el tiempo de vida restante de <code>mykey</code>.</li>
</ul>
</div><h2><p>2.2. <code>RENAME</code> y <code>RENAMENX</code></p>
</h2>
<div class='content'><p>Estos comandos permiten renombrar claves.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiBTRVQgbXlrZXkgIkhlbGxvIgpPSwo+IFJFTkFNRSBteWtleSBteW5ld2tleQpPSwo+IFNFVCBteWtleSAiV29ybGQiCk9LCj4gUkVOQU1FTlggbXlrZXkgbXluZXdrZXkKKGludGVnZXIpIDA="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; SET mykey &quot;Hello&quot;
OK
&gt; RENAME mykey mynewkey
OK
&gt; SET mykey &quot;World&quot;
OK
&gt; RENAMENX mykey mynewkey
(integer) 0</pre></div><div class='content'><p><strong>Explicación:</strong></p>
<ul>
<li><code>RENAME mykey mynewkey</code>: Renombra <code>mykey</code> a <code>mynewkey</code>.</li>
<li><code>RENAMENX mykey mynewkey</code>: Renombra <code>mykey</code> a <code>mynewkey</code> solo si <code>mynewkey</code> no existe.</li>
</ul>
</div><h1><p>Comandos de Publicación y Suscripción</p>
</h1>
<div class='content'></div><h2><p>3.1. <code>PUBLISH</code> y <code>SUBSCRIBE</code></p>
</h2>
<div class='content'><p>Estos comandos permiten implementar un sistema de mensajería basado en publicación y suscripción.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDbGllbnRlIDEKPiBTVUJTQ1JJQkUgbXljaGFubmVsClJlYWRpbmcgbWVzc2FnZXMuLi4gKHByZXNzIEN0cmwtQyB0byBxdWl0KQoxKSAic3Vic2NyaWJlIgoyKSAibXljaGFubmVsIgozKSAoaW50ZWdlcikgMQoKIyBDbGllbnRlIDIKPiBQVUJMSVNIIG15Y2hhbm5lbCAiSGVsbG8sIFdvcmxkISIKKGludGVnZXIpIDE="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Cliente 1
&gt; SUBSCRIBE mychannel
Reading messages... (press Ctrl-C to quit)
1) &quot;subscribe&quot;
2) &quot;mychannel&quot;
3) (integer) 1

# Cliente 2
&gt; PUBLISH mychannel &quot;Hello, World!&quot;
(integer) 1</pre></div><div class='content'><p><strong>Explicación:</strong></p>
<ul>
<li><code>SUBSCRIBE mychannel</code>: Suscribe al cliente al canal <code>mychannel</code>.</li>
<li><code>PUBLISH mychannel &quot;Hello, World!&quot;</code>: Publica el mensaje &quot;Hello, World!&quot; en el canal <code>mychannel</code>.</li>
</ul>
</div><h1><p>Comandos de Scripts y Lua</p>
</h1>
<div class='content'></div><h2><p>4.1. <code>EVAL</code></p>
</h2>
<div class='content'><p>El comando <code>EVAL</code> permite ejecutar scripts Lua en Redis.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiBFVkFMICJyZXR1cm4gcmVkaXMuY2FsbCgnU0VUJywgS0VZU1sxXSwgQVJHVlsxXSkiIDEgbXlrZXkgIkhlbGxvLCBMdWEhIgpPSwo+IEdFVCBteWtleQoiSGVsbG8sIEx1YSEi"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; EVAL &quot;return redis.call('SET', KEYS[1], ARGV[1])&quot; 1 mykey &quot;Hello, Lua!&quot;
OK
&gt; GET mykey
&quot;Hello, Lua!&quot;</pre></div><div class='content'><p><strong>Explicación:</strong></p>
<ul>
<li><code>EVAL &quot;return redis.call('SET', KEYS[1], ARGV[1])&quot; 1 mykey &quot;Hello, Lua!&quot;</code>: Ejecuta un script Lua que establece el valor de <code>mykey</code> a &quot;Hello, Lua!&quot;.</li>
</ul>
</div><h1><p>Ejercicios Prácticos</p>
</h1>
<div class='content'></div><h2><p>Ejercicio 1: Manipulación de Bits</p>
</h2>
<div class='content'><ol>
<li>Usa el comando <code>BITFIELD</code> para establecer un valor de 16 bits sin signo en el offset 8 de una clave llamada <code>bitkey</code>.</li>
<li>Recupera el valor establecido en el offset 8.</li>
</ol>
<p><strong>Solución:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiBCSVRGSUVMRCBiaXRrZXkgU0VUIHUxNiA4IDMwMAooaW50ZWdlcikgMAo+IEJJVEZJRUxEIGJpdGtleSBHRVQgdTE2IDgKMSkgKGludGVnZXIpIDMwMA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; BITFIELD bitkey SET u16 8 300
(integer) 0
&gt; BITFIELD bitkey GET u16 8
1) (integer) 300</pre></div><div class='content'></div><h2><p>Ejercicio 2: Gestión de Claves</p>
</h2>
<div class='content'><ol>
<li>Crea una clave <code>tempkey</code> con el valor &quot;Temporary&quot;.</li>
<li>Establece un tiempo de vida de 20 segundos para <code>tempkey</code>.</li>
<li>Renombra <code>tempkey</code> a <code>permanentkey</code> solo si <code>permanentkey</code> no existe.</li>
</ol>
<p><strong>Solución:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PiBTRVQgdGVtcGtleSAiVGVtcG9yYXJ5IgpPSwo+IEVYUElSRSB0ZW1wa2V5IDIwCihpbnRlZ2VyKSAxCj4gUkVOQU1FTlggdGVtcGtleSBwZXJtYW5lbnRrZXkKKGludGVnZXIpIDE="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&gt; SET tempkey &quot;Temporary&quot;
OK
&gt; EXPIRE tempkey 20
(integer) 1
&gt; RENAMENX tempkey permanentkey
(integer) 1</pre></div><div class='content'></div><h2><p>Ejercicio 3: Publicación y Suscripción</p>
</h2>
<div class='content'><ol>
<li>Suscríbete a un canal llamado <code>news</code>.</li>
<li>Publica un mensaje &quot;Breaking News!&quot; en el canal <code>news</code>.</li>
</ol>
<p><strong>Solución:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDbGllbnRlIDEKPiBTVUJTQ1JJQkUgbmV3cwpSZWFkaW5nIG1lc3NhZ2VzLi4uIChwcmVzcyBDdHJsLUMgdG8gcXVpdCkKMSkgInN1YnNjcmliZSIKMikgIm5ld3MiCjMpIChpbnRlZ2VyKSAxCgojIENsaWVudGUgMgo+IFBVQkxJU0ggbmV3cyAiQnJlYWtpbmcgTmV3cyEiCihpbnRlZ2VyKSAx"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Cliente 1
&gt; SUBSCRIBE news
Reading messages... (press Ctrl-C to quit)
1) &quot;subscribe&quot;
2) &quot;news&quot;
3) (integer) 1

# Cliente 2
&gt; PUBLISH news &quot;Breaking News!&quot;
(integer) 1</pre></div><div class='content'></div><h1><p>Conclusión</p>
</h1>
<div class='content'><p>En esta sección, hemos explorado comandos avanzados de Redis que te permiten realizar operaciones complejas y optimizar el rendimiento de tus aplicaciones. Hemos cubierto comandos para la manipulación de estructuras de datos, gestión de claves, publicación y suscripción, y ejecución de scripts Lua. Estos comandos son herramientas poderosas que te ayudarán a aprovechar al máximo Redis en tus proyectos.</p>
<p>En el próximo módulo, profundizaremos en las transacciones y el pipelining en Redis, lo que te permitirá realizar operaciones atómicas y optimizar el rendimiento de tus aplicaciones aún más. ¡Sigue adelante!</p>
</div><div class='row navigation'>
	<div class='col-1 col-md-2'>
					<a href='03-01-basic-commands' title="Comandos Básicos">
				<span class="d-none d-md-inline">&#x25C4; Anterior</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-left-square-fill"></i></span>
			</a>
			</div>
	<div class='col-10 col-md-8 text-center'>
			</div>
	<div class='col-1 col-md-2 text-end'>
					<a href='03-03-transactions' title="Transacciones">
				<span class="d-none d-md-inline">Siguiente &#x25BA;</span>
				<span class="d-inline d-md-none"><i class="bi bi-caret-right-square-fill"></i></span>
			</a>
			</div>
</div>

			</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Usamos cookies para mejorar tu experiencia de uso y ofrecer contenidos adaptados a tus intereses.
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
