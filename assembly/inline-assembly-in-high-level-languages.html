<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ensamblador en Línea en Lenguajes de Alto Nivel</title>

    <link rel="alternate" href="https://campusempresa.com/assembly/inline-assembly-in-high-level-languages" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/assembly/inline-assembly-in-high-level-languages" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/assembly/inline-assembly-in-high-level-languages" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/assembly/inline-assembly-in-high-level-languages" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/assembly/inline-assembly-in-high-level-languages" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='macros-and-conditional-assembly'>&#x25C4;Macros y Ensamblado Condicional</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Ensamblador en Línea en Lenguajes de Alto Nivel</a>
	</div>
	<div class='col-4 text-end'>
					<a href='optimizing-assembly-code'>Optimización del Código en Ensamblador &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>El ensamblador en línea permite a los programadores incrustar instrucciones de lenguaje ensamblador directamente dentro del código de un lenguaje de alto nivel. Esto puede ser útil para optimizar secciones de código críticas para el rendimiento, acceder directamente al hardware o usar instrucciones específicas del procesador que no están disponibles en el lenguaje de alto nivel.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Ensamblador en Línea</strong>: Incrustar código ensamblador dentro de un lenguaje de alto nivel.</li>
<li><strong>Optimización del Rendimiento</strong>: Usar ensamblador en línea para optimizar secciones de código críticas.</li>
<li><strong>Acceso al Hardware</strong>: Interactuar directamente con componentes de hardware.</li>
<li><strong>Instrucciones Específicas del Procesador</strong>: Utilizar instrucciones especiales proporcionadas por la CPU.</li>
</ul>
</div><h1>Ensamblador en Línea en C/C++</h1>
<div class='content'><p>C y C++ son lenguajes de alto nivel populares que soportan ensamblador en línea. La sintaxis y el uso pueden variar entre compiladores, pero nos enfocaremos en GCC (GNU Compiler Collection) ya que es ampliamente utilizado.</p>
</div><h2>Sintaxis Básica</h2>
<div class='content'><p>En GCC, el ensamblador en línea se escribe usando la palabra clave <code>asm</code>. Aquí hay un ejemplo simple:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIGludCBhID0gMTAsIGIgPSAyMCwgcmVzdWx0OwoKICAgIGFzbSAoImFkZGwgJSVlYngsICUlZWF4OyIKICAgICAgICAgOiAiPWEiIChyZXN1bHQpCiAgICAgICAgIDogImEiIChhKSwgImIiIChiKQogICAgKTsKCiAgICBwcmludGYoIlJlc3VsdDogJWRcbiIsIHJlc3VsdCk7CiAgICByZXR1cm4gMDsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    int a = 10, b = 20, result;

    asm (&quot;addl %%ebx, %%eax;&quot;
         : &quot;=a&quot; (result)
         : &quot;a&quot; (a), &quot;b&quot; (b)
    );

    printf(&quot;Result: %d\n&quot;, result);
    return 0;
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Palabra Clave <code>asm</code></strong>: Se usa para introducir código ensamblador en línea.</li>
<li><strong>Código Ensamblador</strong>: <code>&quot;addl %%ebx, %%eax;&quot;</code> suma los valores en los registros <code>ebx</code> y <code>eax</code>.</li>
<li><strong>Operandos de Salida</strong>: <code>: &quot;=a&quot; (result)</code> especifica que el resultado se almacenará en el registro <code>eax</code> y luego se asignará a la variable <code>result</code>.</li>
<li><strong>Operandos de Entrada</strong>: <code>: &quot;a&quot; (a), &quot;b&quot; (b)</code> especifica que los valores de <code>a</code> y <code>b</code> se cargarán en los registros <code>eax</code> y <code>ebx</code>, respectivamente.</li>
</ul>
</div><h2>Restricciones</h2>
<div class='content'><p>Las restricciones se usan para especificar cómo se asignan los operandos a los registros. Aquí hay algunas restricciones comunes:</p>
<ul>
<li><strong><code>&quot;r&quot;</code></strong>: Cualquier registro de propósito general.</li>
<li><strong><code>&quot;m&quot;</code></strong>: Operando de memoria.</li>
<li><strong><code>&quot;i&quot;</code></strong>: Valor inmediato.</li>
</ul>
</div><h2>Ejemplo con Restricciones</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CgppbnQgbWFpbigpIHsKICAgIGludCBhID0gMTAsIGIgPSAyMCwgcmVzdWx0OwoKICAgIGFzbSAoImFkZGwgJTIsICUwOyIKICAgICAgICAgOiAiPXIiIChyZXN1bHQpCiAgICAgICAgIDogIjAiIChhKSwgInIiIChiKQogICAgKTsKCiAgICBwcmludGYoIlJlc3VsdDogJWRcbiIsIHJlc3VsdCk7CiAgICByZXR1cm4gMDsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

int main() {
    int a = 10, b = 20, result;

    asm (&quot;addl %2, %0;&quot;
         : &quot;=r&quot; (result)
         : &quot;0&quot; (a), &quot;r&quot; (b)
    );

    printf(&quot;Result: %d\n&quot;, result);
    return 0;
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong><code>&quot;=r&quot;</code></strong>: El resultado se almacenará en cualquier registro de propósito general.</li>
<li><strong><code>&quot;0&quot;</code></strong>: El primer operando de entrada (<code>a</code>) estará en el mismo registro que el operando de salida.</li>
<li><strong><code>&quot;r&quot;</code></strong>: El segundo operando de entrada (<code>b</code>) puede estar en cualquier registro de propósito general.</li>
</ul>
</div><h1>Ensamblador en Línea en Otros Lenguajes</h1>
<div class='content'><p>Aunque C/C++ son los lenguajes más comunes para ensamblador en línea, otros lenguajes también lo soportan en diversos grados.</p>
</div><h2>Ensamblador en Línea en Rust</h2>
<div class='content'><p>Rust soporta ensamblador en línea a través de la macro <code>asm!</code> (actualmente inestable y requiere compilaciones nocturnas).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyFbZmVhdHVyZShhc20pXQoKZm4gbWFpbigpIHsKICAgIGxldCBhOiBpMzIgPSAxMDsKICAgIGxldCBiOiBpMzIgPSAyMDsKICAgIGxldCByZXN1bHQ6IGkzMjsKCiAgICB1bnNhZmUgewogICAgICAgIGFzbSEoCiAgICAgICAgICAgICJhZGQgezB9LCB7MX0iLAogICAgICAgICAgICBpbm91dChyZWcpIGEgPT4gcmVzdWx0LAogICAgICAgICAgICBpbihyZWcpIGIKICAgICAgICApOwogICAgfQoKICAgIHByaW50bG4hKCJSZXN1bHQ6IHt9IiwgcmVzdWx0KTsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#![feature(asm)]

fn main() {
    let a: i32 = 10;
    let b: i32 = 20;
    let result: i32;

    unsafe {
        asm!(
            &quot;add {0}, {1}&quot;,
            inout(reg) a =&gt; result,
            in(reg) b
        );
    }

    println!(&quot;Result: {}&quot;, result);
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Macro <code>asm!</code></strong>: Se usa para escribir ensamblador en línea en Rust.</li>
<li><strong><code>inout(reg)</code></strong>: Especifica un operando de entrada/salida en un registro de propósito general.</li>
<li><strong><code>in(reg)</code></strong>: Especifica un operando de entrada en un registro de propósito general.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>El ensamblador en línea proporciona una herramienta poderosa para optimizar código crítico para el rendimiento, acceder directamente al hardware y usar instrucciones específicas del procesador. Aunque introduce complejidad y posibles problemas de portabilidad, puede ser invaluable en ciertos escenarios. Entender la sintaxis y las restricciones del ensamblador en línea en lenguajes de alto nivel como C/C++ y Rust puede ayudarte a aprovechar esta herramienta de manera efectiva.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='macros-and-conditional-assembly'>&#x25C4;Macros y Ensamblado Condicional</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Ensamblador en Línea en Lenguajes de Alto Nivel</a>
	</div>
	<div class='col-4 text-end'>
					<a href='optimizing-assembly-code'>Optimización del Código en Ensamblador &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
