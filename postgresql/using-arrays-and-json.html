<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uso de Arrays y JSON en PostgreSQL</title>

    <link rel="alternate" href="https://campusempresa.com/postgresql/using-arrays-and-json" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/postgresql/using-arrays-and-json" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/postgresql/using-arrays-and-json" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/postgresql/using-arrays-and-json" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/postgresql/using-arrays-and-json" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='understanding-data-types'>&#x25C4;Comprensión de Tipos de Datos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Uso de Arrays y JSON en PostgreSQL</a>
	</div>
	<div class='col-4 text-end'>
					<a href='date-and-time-functions'>Funciones de Fecha y Hora &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En esta sección, exploraremos cómo usar arrays y JSON en PostgreSQL. Los arrays y JSON son tipos de datos poderosos que te permiten almacenar y manipular estructuras de datos complejas dentro de tu base de datos. Entender cómo usar estos tipos de datos de manera efectiva puede mejorar en gran medida tu capacidad para trabajar con PostgreSQL.</p>
</div><h1>Arrays en PostgreSQL</h1>
<div class='content'></div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Tipo de Dato Array</strong>: PostgreSQL soporta arrays de cualquier tipo de dato incorporado o definido por el usuario.</li>
<li><strong>Declaración de Arrays</strong>: Los arrays pueden ser declarados usando corchetes <code>[]</code>.</li>
<li><strong>Funciones y Operadores de Arrays</strong>: PostgreSQL proporciona una variedad de funciones y operadores para trabajar con arrays.</li>
</ul>
</div><h2>Creación y Uso de Arrays</h2>
<div class='content'><p>Para crear una tabla con una columna de array:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHN0dWRlbnRzICgKICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIG5hbWUgVkFSQ0hBUigxMDApLAogICAgZ3JhZGVzIElOVEVHRVJbXQopOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE students (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100),
    grades INTEGER[]
);</pre></div><div class='content'><p>Insertando datos en una columna de array:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5TRVJUIElOVE8gc3R1ZGVudHMgKG5hbWUsIGdyYWRlcykgVkFMVUVTICgnQWxpY2UnLCAnezg1LCA5MCwgNzh9Jyk7CklOU0VSVCBJTlRPIHN0dWRlbnRzIChuYW1lLCBncmFkZXMpIFZBTFVFUyAoJ0JvYicsICd7ODgsIDkyLCA4MH0nKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INSERT INTO students (name, grades) VALUES ('Alice', '{85, 90, 78}');
INSERT INTO students (name, grades) VALUES ('Bob', '{88, 92, 80}');</pre></div><div class='content'><p>Consultando datos de una columna de array:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIG5hbWUsIGdyYWRlcyBGUk9NIHN0dWRlbnRzOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT name, grades FROM students;</pre></div><div class='content'></div><h2>Funciones y Operadores de Arrays</h2>
<div class='content'><ul>
<li>
<p><strong>Acceso a Elementos del Array</strong>: Usa la notación de subíndice para acceder a los elementos.</p>
<pre><code class="language-sql">SELECT grades[1] FROM students WHERE name = 'Alice'; -- Devuelve 85
</code></pre>
</li>
<li>
<p><strong>Longitud del Array</strong>: Usa la función <code>array_length</code> para obtener la longitud de un array.</p>
<pre><code class="language-sql">SELECT array_length(grades, 1) FROM students WHERE name = 'Alice'; -- Devuelve 3
</code></pre>
</li>
<li>
<p><strong>Añadir al Array</strong>: Usa el operador <code>||</code> para añadir elementos a un array.</p>
<pre><code class="language-sql">UPDATE students SET grades = grades || 95 WHERE name = 'Alice';
</code></pre>
</li>
</ul>
</div><h1>JSON en PostgreSQL</h1>
<div class='content'></div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Tipo de Dato JSON</strong>: PostgreSQL soporta dos tipos de datos JSON: <code>json</code> y <code>jsonb</code>.
<ul>
<li><code>json</code>: Almacena datos JSON como texto.</li>
<li><code>jsonb</code>: Almacena datos JSON en un formato binario para un procesamiento más rápido.</li>
</ul>
</li>
<li><strong>Funciones y Operadores JSON</strong>: PostgreSQL proporciona un conjunto rico de funciones y operadores para trabajar con datos JSON.</li>
</ul>
</div><h2>Creación y Uso de JSON</h2>
<div class='content'><p>Para crear una tabla con una columna JSON:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHByb2R1Y3RzICgKICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIG5hbWUgVkFSQ0hBUigxMDApLAogICAgYXR0cmlidXRlcyBKU09OQgopOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100),
    attributes JSONB
);</pre></div><div class='content'><p>Insertando datos en una columna JSON:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SU5TRVJUIElOVE8gcHJvZHVjdHMgKG5hbWUsIGF0dHJpYnV0ZXMpIFZBTFVFUyAoJ0xhcHRvcCcsICd7ImJyYW5kIjogIkRlbGwiLCAicHJpY2UiOiAxMjAwfScpOwpJTlNFUlQgSU5UTyBwcm9kdWN0cyAobmFtZSwgYXR0cmlidXRlcykgVkFMVUVTICgnU21hcnRwaG9uZScsICd7ImJyYW5kIjogIlNhbXN1bmciLCAicHJpY2UiOiA4MDB9Jyk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>INSERT INTO products (name, attributes) VALUES ('Laptop', '{&quot;brand&quot;: &quot;Dell&quot;, &quot;price&quot;: 1200}');
INSERT INTO products (name, attributes) VALUES ('Smartphone', '{&quot;brand&quot;: &quot;Samsung&quot;, &quot;price&quot;: 800}');</pre></div><div class='content'><p>Consultando datos de una columna JSON:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIG5hbWUsIGF0dHJpYnV0ZXMgRlJPTSBwcm9kdWN0czs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT name, attributes FROM products;</pre></div><div class='content'></div><h2>Funciones y Operadores JSON</h2>
<div class='content'><ul>
<li>
<p><strong>Acceso a Campos JSON</strong>: Usa los operadores <code>-&gt;</code> y <code>-&gt;&gt;</code> para acceder a campos JSON.</p>
<pre><code class="language-sql">SELECT attributes-&gt;'brand' FROM products WHERE name = 'Laptop'; -- Devuelve &quot;Dell&quot;
SELECT attributes-&gt;&gt;'price' FROM products WHERE name = 'Laptop'; -- Devuelve 1200
</code></pre>
</li>
<li>
<p><strong>Actualización de Campos JSON</strong>: Usa la función <code>jsonb_set</code> para actualizar campos JSON.</p>
<pre><code class="language-sql">UPDATE products SET attributes = jsonb_set(attributes, '{price}', '1300') WHERE name = 'Laptop';
</code></pre>
</li>
<li>
<p><strong>Agregación JSON</strong>: Usa la función <code>json_agg</code> para agregar resultados en un array JSON.</p>
<pre><code class="language-sql">SELECT json_agg(attributes) FROM products;
</code></pre>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Los arrays y JSON son tipos de datos versátiles en PostgreSQL que te permiten almacenar y manipular estructuras de datos complejas de manera eficiente. Los arrays son útiles para almacenar listas de datos homogéneos, mientras que JSON es ideal para representar datos estructurados con formatos variables. Al dominar el uso de arrays y JSON, puedes mejorar la funcionalidad y el rendimiento de tu base de datos, haciendo que tus aplicaciones sean más robustas y flexibles.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='understanding-data-types'>&#x25C4;Comprensión de Tipos de Datos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Uso de Arrays y JSON en PostgreSQL</a>
	</div>
	<div class='col-4 text-end'>
					<a href='date-and-time-functions'>Funciones de Fecha y Hora &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
