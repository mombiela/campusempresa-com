<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cifrado de Datos en PostgreSQL</title>

    <link rel="alternate" href="https://campusempresa.com/postgresql/data-encryption" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/postgresql/data-encryption" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/postgresql/data-encryption" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/postgresql/data-encryption" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/postgresql/data-encryption" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='backup-and-restore'>&#x25C4;Respaldo y Restauración</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Cifrado de Datos en PostgreSQL</a>
	</div>
	<div class='col-4 text-end'>
					<a href='auditing-and-logging'>Auditoría y Registro &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción al Cifrado de Datos</h1>
<div class='content'><p>El cifrado de datos es un aspecto crítico de la seguridad de la base de datos, asegurando que la información sensible esté protegida contra el acceso no autorizado. PostgreSQL ofrece varios métodos para cifrar datos, tanto en reposo como en tránsito.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Cifrado</strong>: El proceso de convertir texto plano en texto cifrado para prevenir el acceso no autorizado.</li>
<li><strong>Descifrado</strong>: El proceso de convertir texto cifrado de vuelta a texto plano.</li>
<li><strong>Cifrado Simétrico</strong>: Usa la misma clave tanto para cifrar como para descifrar.</li>
<li><strong>Cifrado Asimétrico</strong>: Usa un par de claves (pública y privada) para cifrar y descifrar.</li>
<li><strong>SSL/TLS</strong>: Protocolos para cifrar datos en tránsito entre el cliente y el servidor.</li>
</ul>
</div><h1>Cifrado de Datos en Tránsito</h1>
<div class='content'><p>El cifrado de datos en tránsito asegura que los datos transferidos entre el servidor PostgreSQL y los clientes sean seguros.</p>
</div><h2>Configuración de SSL/TLS</h2>
<div class='content'><ol>
<li>
<p><strong>Generar Certificados SSL</strong>:</p>
<pre><code class="language-bash">openssl req -new -text -out server.req
openssl rsa -in privkey.pem -out server.key
openssl req -x509 -in server.req -text -key server.key -out server.crt
</code></pre>
</li>
<li>
<p><strong>Configurar PostgreSQL para Usar SSL</strong>:
Editar el archivo <code>postgresql.conf</code>:</p>
<pre><code class="language-plaintext">ssl = on
ssl_cert_file = 'server.crt'
ssl_key_file = 'server.key'
</code></pre>
</li>
<li>
<p><strong>Reiniciar PostgreSQL</strong>:</p>
<pre><code class="language-bash">sudo systemctl restart postgresql
</code></pre>
</li>
<li>
<p><strong>Conectar Usando SSL</strong>:</p>
<pre><code class="language-bash">psql &quot;host=your_host dbname=your_db user=your_user sslmode=require&quot;
</code></pre>
</li>
</ol>
</div><h1>Cifrado de Datos en Reposo</h1>
<div class='content'><p>El cifrado de datos en reposo asegura que los datos almacenados estén protegidos contra el acceso no autorizado.</p>
</div><h2>Cifrado Transparente de Datos (TDE)</h2>
<div class='content'><p>PostgreSQL no soporta nativamente TDE, pero puedes usar herramientas de terceros o cifrado a nivel de sistema de archivos.</p>
</div><h2>Usando pgcrypto para Cifrado a Nivel de Columna</h2>
<div class='content'><p>La extensión <code>pgcrypto</code> proporciona funciones para cifrar y descifrar datos a nivel de columna.</p>
<ol>
<li>
<p><strong>Instalar pgcrypto</strong>:</p>
<pre><code class="language-sql">CREATE EXTENSION pgcrypto;
</code></pre>
</li>
<li>
<p><strong>Cifrar Datos</strong>:</p>
<pre><code class="language-sql">INSERT INTO users (username, password)
VALUES ('user1', crypt('my_password', gen_salt('bf')));
</code></pre>
</li>
<li>
<p><strong>Descifrar Datos</strong>:</p>
<pre><code class="language-sql">SELECT username
FROM users
WHERE password = crypt('my_password', password);
</code></pre>
</li>
</ol>
</div><h2>Ejemplo: Cifrado de Datos Sensibles de Usuarios</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQ3JlYXIgdW5hIHRhYmxhIGNvbiBjb2x1bW5hcyBjaWZyYWRhcwpDUkVBVEUgVEFCTEUgdXNlcnMgKAogICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLAogICAgdXNlcm5hbWUgVEVYVCBOT1QgTlVMTCwKICAgIHBhc3N3b3JkIFRFWFQgTk9UIE5VTEwKKTsKCi0tIEluc2VydGFyIGRhdG9zIGNvbiBjaWZyYWRvCklOU0VSVCBJTlRPIHVzZXJzICh1c2VybmFtZSwgcGFzc3dvcmQpClZBTFVFUyAoJ3VzZXIxJywgY3J5cHQoJ215X3Bhc3N3b3JkJywgZ2VuX3NhbHQoJ2JmJykpKTsKCi0tIFZlcmlmaWNhciBsYSBjb250cmFzZcOxYQpTRUxFQ1QgdXNlcm5hbWUKRlJPTSB1c2VycwpXSEVSRSB1c2VybmFtZSA9ICd1c2VyMScgQU5EIHBhc3N3b3JkID0gY3J5cHQoJ215X3Bhc3N3b3JkJywgcGFzc3dvcmQpOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Crear una tabla con columnas cifradas
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username TEXT NOT NULL,
    password TEXT NOT NULL
);

-- Insertar datos con cifrado
INSERT INTO users (username, password)
VALUES ('user1', crypt('my_password', gen_salt('bf')));

-- Verificar la contrase&ntilde;a
SELECT username
FROM users
WHERE username = 'user1' AND password = crypt('my_password', password);</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>El cifrado de datos es esencial para asegurar información sensible en las bases de datos de PostgreSQL. Al cifrar datos en tránsito usando SSL/TLS y cifrar datos en reposo usando herramientas como <code>pgcrypto</code>, puedes mejorar significativamente la seguridad de tus bases de datos PostgreSQL. Entender e implementar estas técnicas de cifrado ayudará a proteger tus datos contra accesos no autorizados y posibles brechas.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='backup-and-restore'>&#x25C4;Respaldo y Restauración</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Cifrado de Datos en PostgreSQL</a>
	</div>
	<div class='col-4 text-end'>
					<a href='auditing-and-logging'>Auditoría y Registro &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
