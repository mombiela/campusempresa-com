<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kotlin DSL (Lenguaje Específico de Dominio)</title>

    <link rel="alternate" href="https://campusempresa.com/es/kotlin/kotlin-dsl" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/kotlin/kotlin-dsl" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/kotlin/kotlin-dsl" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/kotlin/kotlin-dsl" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción a Kotlin DSL</h1>
<div class='content'><p>Los DSLs (Lenguajes Específicos de Dominio) de Kotlin son mini-lenguajes especializados creados usando Kotlin para resolver problemas específicos de manera más eficiente. Aprovechan la sintaxis expresiva de Kotlin y los constructores seguros en tiempo de compilación para crear código legible y mantenible.</p>
<ul>
<li><strong>Definición</strong>: Un DSL es un lenguaje especializado adaptado a un dominio de aplicación específico.</li>
<li><strong>Propósito</strong>: Simplificar tareas complejas y mejorar la legibilidad y mantenibilidad del código.</li>
<li><strong>Ejemplos</strong>: Scripts de construcción de Gradle, constructores de HTML, constructores de consultas SQL.</li>
</ul>
</div><h1>Conceptos Clave de los DSLs de Kotlin</h1>
<div class='content'></div><h2>Constructores Seguros en Tiempo de Compilación</h2>
<div class='content'><p>Los constructores seguros en tiempo de compilación son un patrón común en los DSLs de Kotlin que aseguran la estructura correcta del DSL en tiempo de compilación.</p>
<ul>
<li><strong>Seguridad de Tipos</strong>: Asegura que el DSL se use correctamente, reduciendo errores en tiempo de ejecución.</li>
<li><strong>Constructores</strong>: Usan lambdas con receptor de Kotlin para crear estructuras anidadas.</li>
</ul>
<h4>Ejemplo: Constructor de HTML</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuIGh0bWwoaW5pdDogSFRNTC4oKSAtPiBVbml0KTogSFRNTCB7CiAgICB2YWwgaHRtbCA9IEhUTUwoKQogICAgaHRtbC5pbml0KCkKICAgIHJldHVybiBodG1sCn0KCmNsYXNzIEhUTUwgewogICAgcHJpdmF0ZSB2YWwgY2hpbGRyZW4gPSBtdXRhYmxlTGlzdE9mPEFueT4oKQoKICAgIGZ1biBib2R5KGluaXQ6IEJPRFkuKCkgLT4gVW5pdCkgewogICAgICAgIHZhbCBib2R5ID0gQk9EWSgpCiAgICAgICAgYm9keS5pbml0KCkKICAgICAgICBjaGlsZHJlbi5hZGQoYm9keSkKICAgIH0KCiAgICBvdmVycmlkZSBmdW4gdG9TdHJpbmcoKTogU3RyaW5nIHsKICAgICAgICByZXR1cm4gIjxodG1sPiR7Y2hpbGRyZW4uam9pblRvU3RyaW5nKCIiKX08L2h0bWw+IgogICAgfQp9CgpjbGFzcyBCT0RZIHsKICAgIHByaXZhdGUgdmFsIGNoaWxkcmVuID0gbXV0YWJsZUxpc3RPZjxTdHJpbmc+KCkKCiAgICBmdW4gcCh0ZXh0OiBTdHJpbmcpIHsKICAgICAgICBjaGlsZHJlbi5hZGQoIjxwPiR0ZXh0PC9wPiIpCiAgICB9CgogICAgb3ZlcnJpZGUgZnVuIHRvU3RyaW5nKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuICI8Ym9keT4ke2NoaWxkcmVuLmpvaW5Ub1N0cmluZygiIil9PC9ib2R5PiIKICAgIH0KfQoKLy8gVXNvCnZhbCBodG1sQ29udGVudCA9IGh0bWwgewogICAgYm9keSB7CiAgICAgICAgcCgiwqFIb2xhLCBNdW5kbyEiKQogICAgICAgIHAoIsKhTG9zIERTTHMgZGUgS290bGluIHNvbiBwb2Rlcm9zb3MhIikKICAgIH0KfQoKcHJpbnRsbihodG1sQ29udGVudCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fun html(init: HTML.() -&gt; Unit): HTML {
    val html = HTML()
    html.init()
    return html
}

class HTML {
    private val children = mutableListOf&lt;Any&gt;()

    fun body(init: BODY.() -&gt; Unit) {
        val body = BODY()
        body.init()
        children.add(body)
    }

    override fun toString(): String {
        return &quot;&lt;html&gt;${children.joinToString(&quot;&quot;)}&lt;/html&gt;&quot;
    }
}

class BODY {
    private val children = mutableListOf&lt;String&gt;()

    fun p(text: String) {
        children.add(&quot;&lt;p&gt;$text&lt;/p&gt;&quot;)
    }

    override fun toString(): String {
        return &quot;&lt;body&gt;${children.joinToString(&quot;&quot;)}&lt;/body&gt;&quot;
    }
}

// Uso
val htmlContent = html {
    body {
        p(&quot;&iexcl;Hola, Mundo!&quot;)
        p(&quot;&iexcl;Los DSLs de Kotlin son poderosos!&quot;)
    }
}

println(htmlContent)</pre></div><div class='content'></div><h2>Funciones de Extensión</h2>
<div class='content'><p>Las funciones de extensión te permiten agregar nueva funcionalidad a clases existentes, lo cual es crucial para crear APIs fluidas en los DSLs.</p>
<ul>
<li><strong>Sintaxis</strong>: <code>fun NombreDeClase.nombreDeFuncion() { ... }</code></li>
<li><strong>Uso</strong>: Mejora la legibilidad y proporciona una forma natural de extender clases.</li>
</ul>
<h4>Ejemplo: Agregar Funciones a String</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuIFN0cmluZy5ib2xkKCk6IFN0cmluZyB7CiAgICByZXR1cm4gIjxiPiR0aGlzPC9iPiIKfQoKZnVuIFN0cmluZy5pdGFsaWMoKTogU3RyaW5nIHsKICAgIHJldHVybiAiPGk+JHRoaXM8L2k+Igp9CgovLyBVc28KdmFsIHRleHQgPSAiS290bGluIi5ib2xkKCkuaXRhbGljKCkKcHJpbnRsbih0ZXh0KSAvLyBTYWxpZGE6IDxpPjxiPktvdGxpbjwvYj48L2k+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fun String.bold(): String {
    return &quot;&lt;b&gt;$this&lt;/b&gt;&quot;
}

fun String.italic(): String {
    return &quot;&lt;i&gt;$this&lt;/i&gt;&quot;
}

// Uso
val text = &quot;Kotlin&quot;.bold().italic()
println(text) // Salida: &lt;i&gt;&lt;b&gt;Kotlin&lt;/b&gt;&lt;/i&gt;</pre></div><div class='content'></div><h2>Lambdas con Receptor</h2>
<div class='content'><p>Las lambdas con receptor te permiten llamar métodos en un objeto receptor implícito dentro de una expresión lambda, haciendo el DSL más conciso y legible.</p>
<ul>
<li><strong>Sintaxis</strong>: <code>NombreDeClase.() -&gt; Unit</code></li>
<li><strong>Uso</strong>: Usado extensamente en constructores seguros en tiempo de compilación.</li>
</ul>
<h4>Ejemplo: DSL de Configuración Personalizada</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ29uZmlndXJhdGlvbiB7CiAgICB2YXIgaG9zdDogU3RyaW5nID0gIiIKICAgIHZhciBwb3J0OiBJbnQgPSAwCgogICAgZnVuIGRhdGFiYXNlKGluaXQ6IERhdGFiYXNlLigpIC0+IFVuaXQpIHsKICAgICAgICB2YWwgZGIgPSBEYXRhYmFzZSgpCiAgICAgICAgZGIuaW5pdCgpCiAgICAgICAgcHJpbnRsbigiQmFzZSBkZSBkYXRvcyBjb25maWd1cmFkYSBjb24gaG9zdDogJHtkYi5ob3N0fSwgcHVlcnRvOiAke2RiLnBvcnR9IikKICAgIH0KfQoKY2xhc3MgRGF0YWJhc2UgewogICAgdmFyIGhvc3Q6IFN0cmluZyA9ICIiCiAgICB2YXIgcG9ydDogSW50ID0gMAp9CgovLyBVc28KdmFsIGNvbmZpZyA9IENvbmZpZ3VyYXRpb24oKS5hcHBseSB7CiAgICBob3N0ID0gImxvY2FsaG9zdCIKICAgIHBvcnQgPSA4MDgwCiAgICBkYXRhYmFzZSB7CiAgICAgICAgaG9zdCA9ICJkYi5sb2NhbCIKICAgICAgICBwb3J0ID0gNTQzMgogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Configuration {
    var host: String = &quot;&quot;
    var port: Int = 0

    fun database(init: Database.() -&gt; Unit) {
        val db = Database()
        db.init()
        println(&quot;Base de datos configurada con host: ${db.host}, puerto: ${db.port}&quot;)
    }
}

class Database {
    var host: String = &quot;&quot;
    var port: Int = 0
}

// Uso
val config = Configuration().apply {
    host = &quot;localhost&quot;
    port = 8080
    database {
        host = &quot;db.local&quot;
        port = 5432
    }
}</pre></div><div class='content'></div><h1>Técnicas Avanzadas de DSL en Kotlin</h1>
<div class='content'></div><h2>Funciones Inline</h2>
<div class='content'><p>Las funciones inline pueden mejorar el rendimiento al reducir la sobrecarga de llamadas a funciones, lo cual es particularmente útil en los DSLs.</p>
<ul>
<li><strong>Sintaxis</strong>: <code>inline fun nombreDeFuncion() { ... }</code></li>
<li><strong>Uso</strong>: Usado para optimizar funciones de orden superior.</li>
</ul>
<h4>Ejemplo: Función Inline en DSL</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW5saW5lIGZ1biBidWlsZFN0cmluZyhidWlsZGVyQWN0aW9uOiBTdHJpbmdCdWlsZGVyLigpIC0+IFVuaXQpOiBTdHJpbmcgewogICAgdmFsIHNiID0gU3RyaW5nQnVpbGRlcigpCiAgICBzYi5idWlsZGVyQWN0aW9uKCkKICAgIHJldHVybiBzYi50b1N0cmluZygpCn0KCi8vIFVzbwp2YWwgcmVzdWx0ID0gYnVpbGRTdHJpbmcgewogICAgYXBwZW5kKCJIb2xhLCAiKQogICAgYXBwZW5kKCLCoU11bmRvISIpCn0KcHJpbnRsbihyZXN1bHQpIC8vIFNhbGlkYTogSG9sYSwgwqFNdW5kbyE="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>inline fun buildString(builderAction: StringBuilder.() -&gt; Unit): String {
    val sb = StringBuilder()
    sb.builderAction()
    return sb.toString()
}

// Uso
val result = buildString {
    append(&quot;Hola, &quot;)
    append(&quot;&iexcl;Mundo!&quot;)
}
println(result) // Salida: Hola, &iexcl;Mundo!</pre></div><div class='content'></div><h2>Sobrecarga de Operadores</h2>
<div class='content'><p>La sobrecarga de operadores te permite definir comportamientos personalizados para operadores estándar, haciendo el DSL más intuitivo.</p>
<ul>
<li><strong>Sintaxis</strong>: <code>operator fun plus(otro: Tipo): Tipo { ... }</code></li>
<li><strong>Uso</strong>: Mejora la expresividad del DSL.</li>
</ul>
<h4>Ejemplo: DSL de Aritmética de Vectores</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGF0YSBjbGFzcyBWZWN0b3IodmFsIHg6IEludCwgdmFsIHk6IEludCkgewogICAgb3BlcmF0b3IgZnVuIHBsdXMob3RybzogVmVjdG9yKTogVmVjdG9yIHsKICAgICAgICByZXR1cm4gVmVjdG9yKHggKyBvdHJvLngsIHkgKyBvdHJvLnkpCiAgICB9Cn0KCi8vIFVzbwp2YWwgdjEgPSBWZWN0b3IoMSwgMikKdmFsIHYyID0gVmVjdG9yKDMsIDQpCnZhbCByZXN1bHQgPSB2MSArIHYyCnByaW50bG4ocmVzdWx0KSAvLyBTYWxpZGE6IFZlY3Rvcih4PTQsIHk9Nik="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>data class Vector(val x: Int, val y: Int) {
    operator fun plus(otro: Vector): Vector {
        return Vector(x + otro.x, y + otro.y)
    }
}

// Uso
val v1 = Vector(1, 2)
val v2 = Vector(3, 4)
val result = v1 + v2
println(result) // Salida: Vector(x=4, y=6)</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Los DSLs de Kotlin proporcionan una forma poderosa de crear código legible, mantenible y seguro en tiempo de compilación para dominios específicos. Al aprovechar los constructores seguros en tiempo de compilación, las funciones de extensión, las lambdas con receptor, las funciones inline y la sobrecarga de operadores, puedes crear DSLs expresivos y eficientes adaptados a tus necesidades. A medida que avances en Kotlin, dominar estas técnicas te permitirá construir APIs más sofisticadas y fáciles de usar.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
