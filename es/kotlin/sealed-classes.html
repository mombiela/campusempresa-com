<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clases Selladas en Kotlin</title>

    <link rel="alternate" href="https://campusempresa.com/es/kotlin/sealed-classes" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/kotlin/sealed-classes" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/kotlin/sealed-classes" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/kotlin/sealed-classes" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='data-classes'>&#x25C4; Clases de Datos</a></div><div class='col-6 text-end'><a href='generics'>Genéricos &#x25BA;</a></div></div><div class='content'><p>Las clases selladas son una característica poderosa en Kotlin que te permite representar jerarquías de clases restringidas. Son particularmente útiles cuando tienes un conjunto fijo de tipos con los que deseas trabajar, haciendo tu código más robusto y fácil de entender.</p>
</div><h1>¿Qué son las Clases Selladas?</h1>
<div class='content'><ul>
<li><strong>Definición</strong>: Las clases selladas son clases que restringen la jerarquía a un conjunto limitado de subclases. Esto significa que todas las posibles subclases se conocen en tiempo de compilación.</li>
<li><strong>Propósito</strong>: Se utilizan para modelar jerarquías de clases restringidas, donde un valor puede tener uno de los tipos de un conjunto limitado.</li>
</ul>
</div><h1>Declarando Clases Selladas</h1>
<div class='content'><p>Para declarar una clase sellada, utilizas la palabra clave <code>sealed</code> antes de la declaración de la clase.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VhbGVkIGNsYXNzIFNoYXBlIHsKICAgIGRhdGEgY2xhc3MgQ2lyY2xlKHZhbCByYWRpdXM6IERvdWJsZSkgOiBTaGFwZSgpCiAgICBkYXRhIGNsYXNzIFJlY3RhbmdsZSh2YWwgaGVpZ2h0OiBEb3VibGUsIHZhbCB3aWR0aDogRG91YmxlKSA6IFNoYXBlKCkKICAgIG9iamVjdCBOb3RBU2hhcGUgOiBTaGFwZSgpCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sealed class Shape {
    data class Circle(val radius: Double) : Shape()
    data class Rectangle(val height: Double, val width: Double) : Shape()
    object NotAShape : Shape()
}</pre></div><div class='content'></div><h2>Puntos Clave</h2>
<div class='content'><ul>
<li><strong>No se pueden instanciar</strong>: No puedes crear una instancia de una clase sellada directamente.</li>
<li><strong>Las subclases deben estar anidadas</strong>: Todas las subclases de una clase sellada deben definirse en el mismo archivo.</li>
</ul>
</div><h1>Usando Clases Selladas</h1>
<div class='content'><p>Las clases selladas se utilizan típicamente con expresiones <code>when</code> para manejar diferentes tipos de manera segura en cuanto a tipos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuIGRlc2NyaWJlU2hhcGUoc2hhcGU6IFNoYXBlKTogU3RyaW5nIHsKICAgIHJldHVybiB3aGVuIChzaGFwZSkgewogICAgICAgIGlzIFNoYXBlLkNpcmNsZSAtPiAiVW4gY8OtcmN1bG8gY29uIHJhZGlvICR7c2hhcGUucmFkaXVzfSIKICAgICAgICBpcyBTaGFwZS5SZWN0YW5nbGUgLT4gIlVuIHJlY3TDoW5ndWxvIGNvbiBhbHR1cmEgJHtzaGFwZS5oZWlnaHR9IHkgYW5jaG8gJHtzaGFwZS53aWR0aH0iCiAgICAgICAgU2hhcGUuTm90QVNoYXBlIC0+ICJObyBlcyB1bmEgZm9ybWEiCiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fun describeShape(shape: Shape): String {
    return when (shape) {
        is Shape.Circle -&gt; &quot;Un c&iacute;rculo con radio ${shape.radius}&quot;
        is Shape.Rectangle -&gt; &quot;Un rect&aacute;ngulo con altura ${shape.height} y ancho ${shape.width}&quot;
        Shape.NotAShape -&gt; &quot;No es una forma&quot;
    }
}</pre></div><div class='content'></div><h2>Ejemplo Explicado</h2>
<div class='content'><ul>
<li><strong>Expresión <code>when</code></strong>: La expresión <code>when</code> es exhaustiva, lo que significa que cubre todas las posibles subclases de la clase sellada.</li>
<li><strong>Seguridad de tipos</strong>: El compilador asegura que todos los casos sean manejados, haciendo tu código más seguro y menos propenso a errores.</li>
</ul>
</div><h1>Ventajas de las Clases Selladas</h1>
<div class='content'><ul>
<li><strong>Exhaustividad</strong>: El compilador verifica que todos los casos posibles sean manejados, reduciendo errores en tiempo de ejecución.</li>
<li><strong>Legibilidad</strong>: El código es más fácil de leer y entender porque la jerarquía está bien definida y limitada.</li>
<li><strong>Mantenibilidad</strong>: Agregar nuevos tipos es sencillo y menos propenso a errores.</li>
</ul>
</div><h1>Comparación con Clases Enum</h1>
<div class='content'><p>| Característica         | Clases Selladas                      | Clases Enum                           |
|------------------------|--------------------------------------|---------------------------------------|
| Jerarquía              | Puede tener múltiples subclases      | Tipo único con constantes fijas       |
| Datos                  | Puede contener diferentes tipos de datos | Limitado a constantes predefinidas    |
| Extensibilidad         | Más flexible, puede agregar nuevas subclases | Menos flexible, conjunto fijo de constantes |
| Caso de Uso            | Jerarquías complejas                 | Conjunto simple y fijo de valores     |</p>
</div><h1>Ejercicio Práctico</h1>
<div class='content'><p>Crea una jerarquía de clases selladas para representar diferentes tipos de respuestas de una solicitud de red.</p>
<ol>
<li>
<p>Define una clase sellada <code>NetworkResponse</code> con las siguientes subclases:</p>
<ul>
<li><code>Success</code> con una propiedad de datos de tipo <code>String</code>.</li>
<li><code>Error</code> con una propiedad de mensaje de tipo <code>String</code>.</li>
<li><code>Loading</code> sin propiedades.</li>
</ul>
</li>
<li>
<p>Escribe una función <code>handleResponse</code> que tome una <code>NetworkResponse</code> y devuelva un mensaje basado en el tipo de respuesta.</p>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VhbGVkIGNsYXNzIE5ldHdvcmtSZXNwb25zZSB7CiAgICBkYXRhIGNsYXNzIFN1Y2Nlc3ModmFsIGRhdGE6IFN0cmluZykgOiBOZXR3b3JrUmVzcG9uc2UoKQogICAgZGF0YSBjbGFzcyBFcnJvcih2YWwgbWVzc2FnZTogU3RyaW5nKSA6IE5ldHdvcmtSZXNwb25zZSgpCiAgICBvYmplY3QgTG9hZGluZyA6IE5ldHdvcmtSZXNwb25zZSgpCn0KCmZ1biBoYW5kbGVSZXNwb25zZShyZXNwb25zZTogTmV0d29ya1Jlc3BvbnNlKTogU3RyaW5nIHsKICAgIHJldHVybiB3aGVuIChyZXNwb25zZSkgewogICAgICAgIGlzIE5ldHdvcmtSZXNwb25zZS5TdWNjZXNzIC0+ICJEYXRvcyByZWNpYmlkb3M6ICR7cmVzcG9uc2UuZGF0YX0iCiAgICAgICAgaXMgTmV0d29ya1Jlc3BvbnNlLkVycm9yIC0+ICJPY3VycmnDsyB1biBlcnJvcjogJHtyZXNwb25zZS5tZXNzYWdlfSIKICAgICAgICBOZXR3b3JrUmVzcG9uc2UuTG9hZGluZyAtPiAiQ2FyZ2FuZG8uLi4iCiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sealed class NetworkResponse {
    data class Success(val data: String) : NetworkResponse()
    data class Error(val message: String) : NetworkResponse()
    object Loading : NetworkResponse()
}

fun handleResponse(response: NetworkResponse): String {
    return when (response) {
        is NetworkResponse.Success -&gt; &quot;Datos recibidos: ${response.data}&quot;
        is NetworkResponse.Error -&gt; &quot;Ocurri&oacute; un error: ${response.message}&quot;
        NetworkResponse.Loading -&gt; &quot;Cargando...&quot;
    }
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Las clases selladas en Kotlin proporcionan una forma robusta de definir jerarquías de clases restringidas, asegurando la seguridad de tipos y haciendo tu código más legible y mantenible. Son particularmente útiles cuando necesitas manejar un conjunto fijo de tipos, y funcionan perfectamente con las expresiones <code>when</code> de Kotlin para proporcionar verificaciones exhaustivas en tiempo de compilación. Al entender y utilizar las clases selladas, puedes escribir código Kotlin más confiable y mantenible.</p>
</div><div class='row navigation'><div class='col-6'><a href='data-classes'>&#x25C4; Clases de Datos</a></div><div class='col-6 text-end'><a href='generics'>Genéricos &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
