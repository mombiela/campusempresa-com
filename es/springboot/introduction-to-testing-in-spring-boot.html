<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es">Castellano</b>
				|
				<a href="https://campusempresa.cat/springboot/introduction-to-testing-in-spring-boot" id="lnk_lang_ca" data-lang="ca">Català</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Visión General</h1>
<div class='content'><p>Las pruebas son una parte crucial del desarrollo de software, asegurando que tu aplicación se comporte como se espera. Spring Boot proporciona un soporte integral para las pruebas, facilitando la escritura de pruebas unitarias, pruebas de integración y pruebas de extremo a extremo.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Pruebas Unitarias</strong>: Pruebas de componentes individuales en aislamiento.</li>
<li><strong>Pruebas de Integración</strong>: Pruebas de múltiples componentes juntos para asegurar que funcionen como se espera.</li>
<li><strong>Pruebas de Extremo a Extremo</strong>: Pruebas del flujo completo de la aplicación de principio a fin.</li>
<li><strong>Anotaciones de Prueba de Spring Boot</strong>: Anotaciones especiales proporcionadas por Spring Boot para facilitar las pruebas.</li>
</ul>
</div><h1>Configuración de Dependencias de Prueba</h1>
<div class='content'><p>Para comenzar a probar en Spring Boot, necesitas incluir las dependencias necesarias en tu <code>pom.xml</code> (para Maven) o <code>build.gradle</code> (para Gradle).</p>
</div><h2>Maven</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLXRlc3Q8L2FydGlmYWN0SWQ+CiAgICA8c2NvcGU+dGVzdDwvc2NvcGU+CjwvZGVwZW5kZW5jeT4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h2>Gradle</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGVzdEltcGxlbWVudGF0aW9uICdvcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q6c3ByaW5nLWJvb3Qtc3RhcnRlci10ZXN0Jw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>testImplementation 'org.springframework.boot:spring-boot-starter-test'</pre></div><div class='content'></div><h1>Escribiendo Pruebas Unitarias</h1>
<div class='content'><p>Las pruebas unitarias se enfocan en probar componentes individuales en aislamiento. Spring Boot proporciona la anotación <code>@SpringBootTest</code> para facilitar esto.</p>
</div><h2>Ejemplo: Probando una Capa de Servicio</h2>
<div class='content'><p>Vamos a crear un servicio simple y escribir una prueba unitaria para él.</p>
<h4>Clase de Servicio</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFNlcnZpY2UKcHVibGljIGNsYXNzIENhbGN1bGF0b3JTZXJ2aWNlIHsKICAgIHB1YmxpYyBpbnQgYWRkKGludCBhLCBpbnQgYikgewogICAgICAgIHJldHVybiBhICsgYjsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Service
public class CalculatorService {
    public int add(int a, int b) {
        return a + b;
    }
}</pre></div><div class='content'><h4>Prueba Unitaria</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJ1bldpdGgoU3ByaW5nUnVubmVyLmNsYXNzKQpAU3ByaW5nQm9vdFRlc3QKcHVibGljIGNsYXNzIENhbGN1bGF0b3JTZXJ2aWNlVGVzdCB7CgogICAgQEF1dG93aXJlZAogICAgcHJpdmF0ZSBDYWxjdWxhdG9yU2VydmljZSBjYWxjdWxhdG9yU2VydmljZTsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEFkZCgpIHsKICAgICAgICBpbnQgcmVzdWx0ID0gY2FsY3VsYXRvclNlcnZpY2UuYWRkKDIsIDMpOwogICAgICAgIGFzc2VydEVxdWFscyg1LCByZXN1bHQpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RunWith(SpringRunner.class)
@SpringBootTest
public class CalculatorServiceTest {

    @Autowired
    private CalculatorService calculatorService;

    @Test
    public void testAdd() {
        int result = calculatorService.add(2, 3);
        assertEquals(5, result);
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>@RunWith(SpringRunner.class)</code>: Integra el Spring TestContext Framework con JUnit.</li>
<li><code>@SpringBootTest</code>: Indica que el contexto bajo prueba es una aplicación Spring Boot.</li>
<li><code>@Autowired</code>: Inyecta el bean <code>CalculatorService</code>.</li>
<li><code>@Test</code>: Marca el método como un método de prueba.</li>
</ul>
</li>
</ul>
</div><h1>Escribiendo Pruebas de Integración</h1>
<div class='content'><p>Las pruebas de integración aseguran que diferentes partes de la aplicación funcionen juntas como se espera.</p>
</div><h2>Ejemplo: Probando un Controlador REST</h2>
<div class='content'><p>Vamos a crear un controlador REST simple y escribir una prueba de integración para él.</p>
<h4>Controlador REST</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJlc3RDb250cm9sbGVyCkBSZXF1ZXN0TWFwcGluZygiL2FwaSIpCnB1YmxpYyBjbGFzcyBDYWxjdWxhdG9yQ29udHJvbGxlciB7CgogICAgQEF1dG93aXJlZAogICAgcHJpdmF0ZSBDYWxjdWxhdG9yU2VydmljZSBjYWxjdWxhdG9yU2VydmljZTsKCiAgICBAR2V0TWFwcGluZygiL2FkZCIpCiAgICBwdWJsaWMgUmVzcG9uc2VFbnRpdHk8SW50ZWdlcj4gYWRkKEBSZXF1ZXN0UGFyYW0gaW50IGEsIEBSZXF1ZXN0UGFyYW0gaW50IGIpIHsKICAgICAgICBpbnQgcmVzdWx0ID0gY2FsY3VsYXRvclNlcnZpY2UuYWRkKGEsIGIpOwogICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2VFbnRpdHk8PihyZXN1bHQsIEh0dHBTdGF0dXMuT0spOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RestController
@RequestMapping(&quot;/api&quot;)
public class CalculatorController {

    @Autowired
    private CalculatorService calculatorService;

    @GetMapping(&quot;/add&quot;)
    public ResponseEntity&lt;Integer&gt; add(@RequestParam int a, @RequestParam int b) {
        int result = calculatorService.add(a, b);
        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);
    }
}</pre></div><div class='content'><h4>Prueba de Integración</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFJ1bldpdGgoU3ByaW5nUnVubmVyLmNsYXNzKQpAU3ByaW5nQm9vdFRlc3Qod2ViRW52aXJvbm1lbnQgPSBTcHJpbmdCb290VGVzdC5XZWJFbnZpcm9ubWVudC5SQU5ET01fUE9SVCkKcHVibGljIGNsYXNzIENhbGN1bGF0b3JDb250cm9sbGVyVGVzdCB7CgogICAgQEF1dG93aXJlZAogICAgcHJpdmF0ZSBUZXN0UmVzdFRlbXBsYXRlIHJlc3RUZW1wbGF0ZTsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEFkZCgpIHsKICAgICAgICBSZXNwb25zZUVudGl0eTxJbnRlZ2VyPiByZXNwb25zZSA9IHJlc3RUZW1wbGF0ZS5nZXRGb3JFbnRpdHkoIi9hcGkvYWRkP2E9MiZiPTMiLCBJbnRlZ2VyLmNsYXNzKTsKICAgICAgICBhc3NlcnRFcXVhbHMoSHR0cFN0YXR1cy5PSywgcmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoNSwgcmVzcG9uc2UuZ2V0Qm9keSgpLmludFZhbHVlKCkpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@RunWith(SpringRunner.class)
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
public class CalculatorControllerTest {

    @Autowired
    private TestRestTemplate restTemplate;

    @Test
    public void testAdd() {
        ResponseEntity&lt;Integer&gt; response = restTemplate.getForEntity(&quot;/api/add?a=2&amp;b=3&quot;, Integer.class);
        assertEquals(HttpStatus.OK, response.getStatusCode());
        assertEquals(5, response.getBody().intValue());
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</code>: Inicia el servidor en un puerto aleatorio.</li>
<li><code>TestRestTemplate</code>: Una alternativa conveniente a <code>RestTemplate</code> que es útil para pruebas de integración.</li>
<li><code>getForEntity</code>: Envía una solicitud GET y devuelve la respuesta como un <code>ResponseEntity</code>.</li>
</ul>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Las pruebas en Spring Boot se simplifican con la ayuda de varias anotaciones y utilidades. Al comprender y utilizar pruebas unitarias y pruebas de integración, puedes asegurar que los componentes de tu aplicación funcionen correctamente tanto en aislamiento como juntos. Este conocimiento fundamental te prepara para escenarios de prueba más avanzados, incluidas las pruebas de extremo a extremo y las pruebas de rendimiento.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
