<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introducción a Spring Data JPA</title>

    <link rel="alternate" href="https://campusempresa.com/es/springboot/introduction-to-spring-data-jpa" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/springboot/introduction-to-spring-data-jpa" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/springboot/introduction-to-spring-data-jpa" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/springboot/introduction-to-spring-data-jpa" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Resumen</h1>
<div class='content'><p>Spring Data JPA es parte de la familia más grande de Spring Data, que facilita la implementación de repositorios basados en JPA. Reduce significativamente la cantidad de código repetitivo requerido para implementar capas de acceso a datos para varios almacenes de persistencia.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>JPA (Java Persistence API)</strong>: Una especificación para acceder, persistir y gestionar datos entre objetos Java y bases de datos relacionales.</li>
<li><strong>Spring Data JPA</strong>: Parte del proyecto Spring Data que facilita el trabajo con repositorios JPA.</li>
<li><strong>Repositorios</strong>: Interfaces que proporcionan operaciones CRUD y consultas más complejas.</li>
<li><strong>Entidades</strong>: Clases Java que se mapean a tablas de bases de datos.</li>
<li><strong>Anotaciones</strong>: Utilizadas para definir mapeos entre clases Java y tablas de bases de datos.</li>
</ul>
</div><h1>Configuración de Spring Data JPA</h1>
<div class='content'><p>Para comenzar a usar Spring Data JPA, necesitas incluir las dependencias necesarias en tu <code>pom.xml</code> si estás usando Maven:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLWRhdGEtanBhPC9hcnRpZmFjdElkPgo8L2RlcGVuZGVuY3k+CjxkZXBlbmRlbmN5PgogICAgPGdyb3VwSWQ+Y29tLmgyZGF0YWJhc2U8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5oMjwvYXJ0aWZhY3RJZD4KICAgIDxzY29wZT5ydW50aW1lPC9zY29wZT4KPC9kZXBlbmRlbmN5Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.h2database&lt;/groupId&gt;
    &lt;artifactId&gt;h2&lt;/artifactId&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h1>Configuración de la Fuente de Datos</h1>
<div class='content'><p>Necesitas configurar la fuente de datos en tu archivo <code>application.properties</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3ByaW5nLmRhdGFzb3VyY2UudXJsPWpkYmM6aDI6bWVtOnRlc3RkYgpzcHJpbmcuZGF0YXNvdXJjZS5kcml2ZXJDbGFzc05hbWU9b3JnLmgyLkRyaXZlcgpzcHJpbmcuZGF0YXNvdXJjZS51c2VybmFtZT1zYQpzcHJpbmcuZGF0YXNvdXJjZS5wYXNzd29yZD1wYXNzd29yZApzcHJpbmcuanBhLmRhdGFiYXNlLXBsYXRmb3JtPW9yZy5oaWJlcm5hdGUuZGlhbGVjdC5IMkRpYWxlY3QKc3ByaW5nLmgyLmNvbnNvbGUuZW5hYmxlZD10cnVl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true</pre></div><div class='content'></div><h1>Definición de una Entidad</h1>
<div class='content'><p>Las entidades son clases Java simples anotadas con <code>@Entity</code> y otras anotaciones JPA:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVudGl0eTsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkdlbmVyYXRlZFZhbHVlOwppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuR2VuZXJhdGlvblR5cGU7CmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5JZDsKCkBFbnRpdHkKcHVibGljIGNsYXNzIFVzZXIgewogICAgQElkCiAgICBAR2VuZXJhdGVkVmFsdWUoc3RyYXRlZ3kgPSBHZW5lcmF0aW9uVHlwZS5JREVOVElUWSkKICAgIHByaXZhdGUgTG9uZyBpZDsKICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7CiAgICBwcml2YXRlIFN0cmluZyBlbWFpbDsKCiAgICAvLyBHZXR0ZXJzIHkgU2V0dGVycwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;

@Entity
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String email;

    // Getters y Setters
}</pre></div><div class='content'></div><h1>Creación de un Repositorio</h1>
<div class='content'><p>Los repositorios son interfaces que extienden <code>JpaRepository</code> o <code>CrudRepository</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5qcGEucmVwb3NpdG9yeS5KcGFSZXBvc2l0b3J5OwoKcHVibGljIGludGVyZmFjZSBVc2VyUmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8VXNlciwgTG9uZz4gewogICAgLy8gTcOpdG9kb3MgZGUgY29uc3VsdGEgcGVyc29uYWxpemFkb3MgcHVlZGVuIHNlciBkZWZpbmlkb3MgYXF1w60KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.data.jpa.repository.JpaRepository;

public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    // M&eacute;todos de consulta personalizados pueden ser definidos aqu&iacute;
}</pre></div><div class='content'></div><h1>Uso del Repositorio</h1>
<div class='content'><p>Puedes usar el repositorio en tus clases de servicio o controlador:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYmVhbnMuZmFjdG9yeS5hbm5vdGF0aW9uLkF1dG93aXJlZDsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuc3RlcmVvdHlwZS5TZXJ2aWNlOwoKaW1wb3J0IGphdmEudXRpbC5MaXN0OwoKQFNlcnZpY2UKcHVibGljIGNsYXNzIFVzZXJTZXJ2aWNlIHsKICAgIEBBdXRvd2lyZWQKICAgIHByaXZhdGUgVXNlclJlcG9zaXRvcnkgdXNlclJlcG9zaXRvcnk7CgogICAgcHVibGljIExpc3Q8VXNlcj4gZ2V0QWxsVXNlcnMoKSB7CiAgICAgICAgcmV0dXJuIHVzZXJSZXBvc2l0b3J5LmZpbmRBbGwoKTsKICAgIH0KCiAgICBwdWJsaWMgVXNlciBnZXRVc2VyQnlJZChMb25nIGlkKSB7CiAgICAgICAgcmV0dXJuIHVzZXJSZXBvc2l0b3J5LmZpbmRCeUlkKGlkKS5vckVsc2UobnVsbCk7CiAgICB9CgogICAgcHVibGljIFVzZXIgc2F2ZVVzZXIoVXNlciB1c2VyKSB7CiAgICAgICAgcmV0dXJuIHVzZXJSZXBvc2l0b3J5LnNhdmUodXNlcik7CiAgICB9CgogICAgcHVibGljIHZvaWQgZGVsZXRlVXNlcihMb25nIGlkKSB7CiAgICAgICAgdXNlclJlcG9zaXRvcnkuZGVsZXRlQnlJZChpZCk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.List;

@Service
public class UserService {
    @Autowired
    private UserRepository userRepository;

    public List&lt;User&gt; getAllUsers() {
        return userRepository.findAll();
    }

    public User getUserById(Long id) {
        return userRepository.findById(id).orElse(null);
    }

    public User saveUser(User user) {
        return userRepository.save(user);
    }

    public void deleteUser(Long id) {
        userRepository.deleteById(id);
    }
}</pre></div><div class='content'></div><h1>Métodos de Consulta Personalizados</h1>
<div class='content'><p>Spring Data JPA te permite definir métodos de consulta personalizados simplemente declarando firmas de métodos en la interfaz del repositorio:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEudXRpbC5MaXN0OwoKcHVibGljIGludGVyZmFjZSBVc2VyUmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8VXNlciwgTG9uZz4gewogICAgTGlzdDxVc2VyPiBmaW5kQnlOYW1lKFN0cmluZyBuYW1lKTsKICAgIExpc3Q8VXNlcj4gZmluZEJ5RW1haWxDb250YWluaW5nKFN0cmluZyBlbWFpbCk7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.util.List;

public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    List&lt;User&gt; findByName(String name);
    List&lt;User&gt; findByEmailContaining(String email);
}</pre></div><div class='content'></div><h1>Temas Avanzados</h1>
<div class='content'><ul>
<li><strong>JPQL (Java Persistence Query Language)</strong>: Utilizado para escribir consultas personalizadas.</li>
<li><strong>Criteria API</strong>: Una forma programática de crear consultas.</li>
<li><strong>Auditoría</strong>: Población automática de campos relacionados con auditoría como createdDate, lastModifiedDate.</li>
<li><strong>Paginación y Ordenación</strong>: Manejo eficiente de grandes conjuntos de datos.</li>
</ul>
</div><h2>Ejemplo de Consulta JPQL</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5qcGEucmVwb3NpdG9yeS5RdWVyeTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5yZXBvc2l0b3J5LnF1ZXJ5LlBhcmFtOwoKcHVibGljIGludGVyZmFjZSBVc2VyUmVwb3NpdG9yeSBleHRlbmRzIEpwYVJlcG9zaXRvcnk8VXNlciwgTG9uZz4gewogICAgQFF1ZXJ5KCJTRUxFQ1QgdSBGUk9NIFVzZXIgdSBXSEVSRSB1LmVtYWlsID0gOmVtYWlsIikKICAgIFVzZXIgZmluZFVzZXJCeUVtYWlsKEBQYXJhbSgiZW1haWwiKSBTdHJpbmcgZW1haWwpOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;

public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    @Query(&quot;SELECT u FROM User u WHERE u.email = :email&quot;)
    User findUserByEmail(@Param(&quot;email&quot;) String email);
}</pre></div><div class='content'></div><h2>Ejemplo de Paginación y Ordenación</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5kb21haW4uUGFnZTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuZGF0YS5kb21haW4uUGFnZWFibGU7CmltcG9ydCBvcmcuc3ByaW5nZnJhbWV3b3JrLmRhdGEuZG9tYWluLlNvcnQ7CgpwdWJsaWMgaW50ZXJmYWNlIFVzZXJSZXBvc2l0b3J5IGV4dGVuZHMgSnBhUmVwb3NpdG9yeTxVc2VyLCBMb25nPiB7CiAgICBQYWdlPFVzZXI+IGZpbmRBbGwoUGFnZWFibGUgcGFnZWFibGUpOwogICAgTGlzdDxVc2VyPiBmaW5kQWxsKFNvcnQgc29ydCk7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.data.domain.Sort;

public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    Page&lt;User&gt; findAll(Pageable pageable);
    List&lt;User&gt; findAll(Sort sort);
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Spring Data JPA simplifica la implementación de capas de acceso a datos proporcionando una abstracción de repositorio sobre JPA. Reduce el código repetitivo y permite a los desarrolladores centrarse en la lógica de negocio. Al entender los conceptos básicos de entidades, repositorios y consultas personalizadas, puedes gestionar eficientemente los datos en tus aplicaciones Spring Boot. Las características avanzadas como JPQL, Criteria API y auditoría mejoran aún más las capacidades de Spring Data JPA, convirtiéndolo en una herramienta poderosa para cualquier desarrollador Java.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
