<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Índices en MongoDB</title>

    <link rel="alternate" href="https://campusempresa.com/es/mongodb/indexes-in-mongodb" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/mongodb/indexes-in-mongodb" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/mongodb/indexes-in-mongodb" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/mongodb/indexes-in-mongodb" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='bulk-write-operations'>&#x25C4;Operaciones de Escritura en Lote</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Índices en MongoDB</a>
	</div>
	<div class='col-4 text-end'>
					<a href='schema-design-best-practices'>Mejores Prácticas de Diseño de Esquemas &#x25BA;</a>
			</div>
</div>
<div class='index'></div><h2>Introducción a los Índices</h2>
<div class='index'><p>Los índices son estructuras de datos especiales que almacenan una pequeña porción del conjunto de datos de la colección en una forma fácil de recorrer. Se utilizan para mejorar la velocidad de las operaciones de recuperación de datos en una base de datos a costa de espacio adicional y operaciones de escritura.</p>
</div><h2>Conceptos Clave</h2>
<div class='index'><ul>
<li><strong>Índice</strong>: Una estructura de datos que mejora la velocidad de recuperación de datos.</li>
<li><strong>Índice Predeterminado</strong>: MongoDB crea automáticamente un índice en el campo <code>_id</code>.</li>
<li><strong>Índice Compuesto</strong>: Un índice en múltiples campos.</li>
<li><strong>Índice Único</strong>: Asegura que los campos indexados no almacenen valores duplicados.</li>
<li><strong>Índice Disperso</strong>: Solo indexa documentos que contienen el campo indexado.</li>
<li><strong>Índice TTL</strong>: Elimina automáticamente documentos después de un cierto período.</li>
</ul>
</div><h2>Creación de Índices</h2>
<div class='index'><p>La creación de índices en MongoDB se puede hacer usando el método <code>createIndex</code>.</p>
</div><h2>Índice de Campo Único</h2>
<div class='index'><p>Un índice de campo único se crea en un campo del documento.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAxIH0p"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: 1 })</pre></div><div class='index'><ul>
<li><code>1</code> especifica orden ascendente.</li>
<li><code>-1</code> especifica orden descendente.</li>
</ul>
<p><strong>Ejemplo:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuY3JlYXRlSW5kZXgoeyBuYW1lOiAxIH0p"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.createIndex({ name: 1 })</pre></div><div class='index'><p>Esto crea un índice ascendente en el campo <code>name</code> en la colección <code>users</code>.</p>
</div><h2>Índice Compuesto</h2>
<div class='index'><p>Un índice compuesto se crea en múltiples campos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkMTogMSwgZmllbGQyOiAtMSB9KQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field1: 1, field2: -1 })</pre></div><div class='index'><p><strong>Ejemplo:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuY3JlYXRlSW5kZXgoeyBuYW1lOiAxLCBhZ2U6IC0xIH0p"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.createIndex({ name: 1, age: -1 })</pre></div><div class='index'><p>Esto crea un índice en el campo <code>name</code> en orden ascendente y el campo <code>age</code> en orden descendente.</p>
</div><h2>Índice Único</h2>
<div class='index'><p>Un índice único asegura que los campos indexados no almacenen valores duplicados.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAxIH0sIHsgdW5pcXVlOiB0cnVlIH0p"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: 1 }, { unique: true })</pre></div><div class='index'><p><strong>Ejemplo:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuY3JlYXRlSW5kZXgoeyBlbWFpbDogMSB9LCB7IHVuaXF1ZTogdHJ1ZSB9KQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.createIndex({ email: 1 }, { unique: true })</pre></div><div class='index'><p>Esto crea un índice único en el campo <code>email</code> en la colección <code>users</code>.</p>
</div><h2>Índice Disperso</h2>
<div class='index'><p>Un índice disperso solo indexa documentos que contienen el campo indexado.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAxIH0sIHsgc3BhcnNlOiB0cnVlIH0p"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: 1 }, { sparse: true })</pre></div><div class='index'><p><strong>Ejemplo:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuY3JlYXRlSW5kZXgoeyBuaWNrbmFtZTogMSB9LCB7IHNwYXJzZTogdHJ1ZSB9KQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.createIndex({ nickname: 1 }, { sparse: true })</pre></div><div class='index'><p>Esto crea un índice disperso en el campo <code>nickname</code> en la colección <code>users</code>.</p>
</div><h2>Índice TTL</h2>
<div class='index'><p>Un índice TTL (Time-To-Live) elimina automáticamente documentos después de un cierto período.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAxIH0sIHsgZXhwaXJlQWZ0ZXJTZWNvbmRzOiBzZWNvbmRzIH0p"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: 1 }, { expireAfterSeconds: seconds })</pre></div><div class='index'><p><strong>Ejemplo:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuc2Vzc2lvbnMuY3JlYXRlSW5kZXgoeyBjcmVhdGVkQXQ6IDEgfSwgeyBleHBpcmVBZnRlclNlY29uZHM6IDM2MDAgfSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.sessions.createIndex({ createdAt: 1 }, { expireAfterSeconds: 3600 })</pre></div><div class='index'><p>Esto crea un índice TTL en el campo <code>createdAt</code> en la colección <code>sessions</code>, eliminando documentos 1 hora (3600 segundos) después de su creación.</p>
</div><h2>Gestión de Índices</h2>
<div class='index'><p>Puedes ver, eliminar y analizar índices usando varios comandos de MongoDB.</p>
</div><h2>Visualización de Índices</h2>
<div class='index'><p>Para listar todos los índices en una colección:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5nZXRJbmRleGVzKCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.getIndexes()</pre></div><div class='index'><p><strong>Ejemplo:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZ2V0SW5kZXhlcygp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.getIndexes()</pre></div><div class='index'><p>Esto lista todos los índices en la colección <code>users</code>.</p>
</div><h2>Eliminación de Índices</h2>
<div class='index'><p>Para eliminar un índice específico:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5kcm9wSW5kZXgoImluZGV4TmFtZSIp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.dropIndex(&quot;indexName&quot;)</pre></div><div class='index'><p><strong>Ejemplo:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZHJvcEluZGV4KCJuYW1lXzEiKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.dropIndex(&quot;name_1&quot;)</pre></div><div class='index'><p>Esto elimina el índice llamado <code>name_1</code> en la colección <code>users</code>.</p>
<p>Para eliminar todos los índices en una colección:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5kcm9wSW5kZXhlcygp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.dropIndexes()</pre></div><div class='index'><p><strong>Ejemplo:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuZHJvcEluZGV4ZXMoKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.dropIndexes()</pre></div><div class='index'><p>Esto elimina todos los índices en la colección <code>users</code>.</p>
</div><h2>Análisis de Índices</h2>
<div class='index'><p>Para obtener estadísticas sobre el uso de índices:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5zdGF0cygp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.stats()</pre></div><div class='index'><p><strong>Ejemplo:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIudXNlcnMuc3RhdHMoKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.users.stats()</pre></div><div class='index'><p>Esto proporciona estadísticas sobre la colección <code>users</code>, incluyendo el uso de índices.</p>
</div><h2>Conclusión</h2>
<div class='index'><p>Los índices son una herramienta poderosa en MongoDB que puede mejorar significativamente el rendimiento de las consultas. Entender cómo crear y gestionar diferentes tipos de índices, como índices de campo único, compuestos, únicos, dispersos y TTL, es crucial para optimizar tus operaciones de base de datos. Siempre considera los compromisos entre el rendimiento de lectura y escritura, así como los requisitos de almacenamiento adicionales al usar índices.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='bulk-write-operations'>&#x25C4;Operaciones de Escritura en Lote</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Índices en MongoDB</a>
	</div>
	<div class='col-4 text-end'>
					<a href='schema-design-best-practices'>Mejores Prácticas de Diseño de Esquemas &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
