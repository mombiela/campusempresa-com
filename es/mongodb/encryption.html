<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cifrado en MongoDB</title>

    <link rel="alternate" href="https://campusempresa.com/es/mongodb/encryption" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/mongodb/encryption" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/mongodb/encryption" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/mongodb/encryption" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción al Cifrado</h1>
<div class='content'><p>El cifrado es un aspecto crucial para asegurar los datos en cualquier sistema de bases de datos. En MongoDB, el cifrado asegura que los datos estén protegidos tanto en reposo como en tránsito. Esta sección cubrirá los conceptos básicos del cifrado, su importancia y cómo MongoDB lo implementa.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Cifrado</strong>: El proceso de convertir datos en texto plano en una forma codificada para prevenir el acceso no autorizado.</li>
<li><strong>Descifrado</strong>: El proceso de convertir datos cifrados de vuelta a su forma original.</li>
<li><strong>Cifrado en Reposo</strong>: Protege los datos almacenados en disco.</li>
<li><strong>Cifrado en Tránsito</strong>: Protege los datos mientras se mueven entre el cliente y el servidor.</li>
</ul>
</div><h1>Cifrado en Reposo</h1>
<div class='content'><p>El cifrado en reposo en MongoDB asegura que los datos almacenados en disco estén cifrados, haciéndolos ilegibles sin la clave de descifrado adecuada.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Cifrado de Almacenamiento</strong>: Cifra los archivos de datos en disco.</li>
<li><strong>Gestión de Claves</strong>: Gestiona las claves de cifrado de manera segura.</li>
</ul>
</div><h2>Implementación</h2>
<div class='content'><p>MongoDB proporciona cifrado en reposo a través del motor de almacenamiento WiredTiger. Aquí se explica cómo habilitarlo:</p>
<ol>
<li><strong>Habilitar Cifrado</strong>: Modificar el archivo de configuración <code>mongod</code> para habilitar el cifrado.</li>
<li><strong>Especificar un Archivo de Clave</strong>: Proporcionar un archivo de clave para el cifrado.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb25nb2QuY29uZgpzZWN1cml0eToKICBlbmFibGVFbmNyeXB0aW9uOiB0cnVlCiAgZW5jcnlwdGlvbktleUZpbGU6IC9wYXRoL3RvL2tleWZpbGU="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># mongod.conf
security:
  enableEncryption: true
  encryptionKeyFile: /path/to/keyfile</pre></div><div class='content'><ol start="3">
<li><strong>Iniciar MongoDB</strong>: Reiniciar el servidor MongoDB para aplicar los cambios.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9uZ29kIC0tY29uZmlnIC9wYXRoL3RvL21vbmdvZC5jb25m"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mongod --config /path/to/mongod.conf</pre></div><div class='content'></div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvIGRlIG1vbmdvZC5jb25mIGNvbiBjaWZyYWRvCnN0b3JhZ2U6CiAgZGJQYXRoOiAvdmFyL2xpYi9tb25nb2RiCiAgam91cm5hbDoKICAgIGVuYWJsZWQ6IHRydWUKc2VjdXJpdHk6CiAgZW5hYmxlRW5jcnlwdGlvbjogdHJ1ZQogIGVuY3J5cHRpb25LZXlGaWxlOiAvZXRjL21vbmdvZGIta2V5ZmlsZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo de mongod.conf con cifrado
storage:
  dbPath: /var/lib/mongodb
  journal:
    enabled: true
security:
  enableEncryption: true
  encryptionKeyFile: /etc/mongodb-keyfile</pre></div><div class='content'></div><h1>Cifrado en Tránsito</h1>
<div class='content'><p>El cifrado en tránsito asegura que los datos estén cifrados mientras viajan entre el cliente y el servidor MongoDB, previniendo la interceptación y los ataques de intermediarios.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>TLS/SSL</strong>: Protocolos usados para cifrar datos en tránsito.</li>
<li><strong>Certificados</strong>: Certificados digitales usados para establecer una conexión segura.</li>
</ul>
</div><h2>Implementación</h2>
<div class='content'><p>Para habilitar el cifrado en tránsito, necesitas configurar MongoDB para usar TLS/SSL.</p>
<ol>
<li><strong>Generar Certificados</strong>: Crear una autoridad certificadora (CA) y certificados de servidor.</li>
<li><strong>Configurar MongoDB</strong>: Actualizar el archivo de configuración <code>mongod</code> para usar los certificados.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb25nb2QuY29uZgpuZXQ6CiAgc3NsOgogICAgbW9kZTogcmVxdWlyZVNTTAogICAgUEVNS2V5RmlsZTogL3BhdGgvdG8vc2VydmVyLnBlbQogICAgQ0FGaWxlOiAvcGF0aC90by9jYS5wZW0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># mongod.conf
net:
  ssl:
    mode: requireSSL
    PEMKeyFile: /path/to/server.pem
    CAFile: /path/to/ca.pem</pre></div><div class='content'><ol start="3">
<li><strong>Iniciar MongoDB</strong>: Reiniciar el servidor MongoDB con la configuración actualizada.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9uZ29kIC0tY29uZmlnIC9wYXRoL3RvL21vbmdvZC5jb25m"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mongod --config /path/to/mongod.conf</pre></div><div class='content'></div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvIGRlIG1vbmdvZC5jb25mIGNvbiBUTFMvU1NMCm5ldDoKICBwb3J0OiAyNzAxNwogIHNzbDoKICAgIG1vZGU6IHJlcXVpcmVTU0wKICAgIFBFTUtleUZpbGU6IC9ldGMvc3NsL21vbmdvZGIucGVtCiAgICBDQUZpbGU6IC9ldGMvc3NsL2NhLnBlbQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo de mongod.conf con TLS/SSL
net:
  port: 27017
  ssl:
    mode: requireSSL
    PEMKeyFile: /etc/ssl/mongodb.pem
    CAFile: /etc/ssl/ca.pem</pre></div><div class='content'></div><h1>Técnicas Avanzadas de Cifrado</h1>
<div class='content'><p>Para usuarios avanzados, MongoDB ofrece características y configuraciones adicionales para mejorar el cifrado.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Cifrado de Campo a Nivel de Cliente</strong>: Cifra campos específicos dentro de documentos antes de enviarlos al servidor.</li>
<li><strong>Gestión Externa de Claves</strong>: Se integra con sistemas externos de gestión de claves (KMS) para una mayor seguridad.</li>
</ul>
</div><h2>Implementación</h2>
<div class='content'><ol>
<li><strong>Cifrado de Campo a Nivel de Cliente</strong>: Usar controladores de MongoDB que soporten cifrado a nivel de campo.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgeyBNb25nb0NsaWVudCwgQ2xpZW50RW5jcnlwdGlvbiB9ID0gcmVxdWlyZSgnbW9uZ29kYicpOwoKLy8gQ3JlYXIgdW4gTW9uZ29DbGllbnQgY29uIG9wY2lvbmVzIGRlIGNpZnJhZG8KY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KCdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3JywgewogIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwKICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsCiAgYXV0b0VuY3J5cHRpb246IHsKICAgIGtleVZhdWx0TmFtZXNwYWNlOiAnZW5jcnlwdGlvbi5fX2tleVZhdWx0JywKICAgIGttc1Byb3ZpZGVyczogewogICAgICBsb2NhbDogewogICAgICAgIGtleTogQnVmZmVyLmZyb20oJ01PTkdPQ1JZUFRfS0VZJywgJ2Jhc2U2NCcpCiAgICAgIH0KICAgIH0KICB9Cn0pOwoKLy8gQ29uZWN0YXIgYSBsYSBiYXNlIGRlIGRhdG9zCmNsaWVudC5jb25uZWN0KCkudGhlbigoKSA9PiB7CiAgY29uc3QgZGIgPSBjbGllbnQuZGIoJ3Rlc3QnKTsKICBjb25zdCBjb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignZW5jcnlwdGVkRGF0YScpOwoKICAvLyBJbnNlcnRhciB1biBkb2N1bWVudG8gY2lmcmFkbwogIGNvbGxlY3Rpb24uaW5zZXJ0T25lKHsKICAgIG5hbWU6ICdKb2huIERvZScsCiAgICBzc246ICcxMjMtNDUtNjc4OScKICB9KTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const { MongoClient, ClientEncryption } = require('mongodb');

// Crear un MongoClient con opciones de cifrado
const client = new MongoClient('mongodb://localhost:27017', {
  useNewUrlParser: true,
  useUnifiedTopology: true,
  autoEncryption: {
    keyVaultNamespace: 'encryption.__keyVault',
    kmsProviders: {
      local: {
        key: Buffer.from('MONGOCRYPT_KEY', 'base64')
      }
    }
  }
});

// Conectar a la base de datos
client.connect().then(() =&gt; {
  const db = client.db('test');
  const collection = db.collection('encryptedData');

  // Insertar un documento cifrado
  collection.insertOne({
    name: 'John Doe',
    ssn: '123-45-6789'
  });
});</pre></div><div class='content'><ol start="2">
<li><strong>Gestión Externa de Claves</strong>: Configurar MongoDB para usar un KMS externo, como AWS KMS o Azure Key Vault.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb25nb2QuY29uZiBjb24gS01TIGV4dGVybm8Kc2VjdXJpdHk6CiAgZW5hYmxlRW5jcnlwdGlvbjogdHJ1ZQogIGVuY3J5cHRpb25LZXlGaWxlOiAvcGF0aC90by9rZXlmaWxlCiAga21pcDoKICAgIHNlcnZlck5hbWU6IGttaXAtc2VydmVyLmV4YW1wbGUuY29tCiAgICBwb3J0OiA1Njk2"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># mongod.conf con KMS externo
security:
  enableEncryption: true
  encryptionKeyFile: /path/to/keyfile
  kmip:
    serverName: kmip-server.example.com
    port: 5696</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>El cifrado es una parte vital para asegurar tus datos en MongoDB. Al entender e implementar el cifrado en reposo y en tránsito, puedes proteger tus datos del acceso no autorizado. Para una seguridad avanzada, considera usar cifrado de campo a nivel de cliente e integrar con sistemas externos de gestión de claves. Siempre asegúrate de que tus claves de cifrado se gestionen de manera segura y sigue las mejores prácticas para la seguridad de bases de datos.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
