<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrón Visitor</title>

    <link rel="alternate" href="https://campusempresa.com/es/patrones_diseno/patron-visitor" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/patrones_diseno/patron-visitor" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/patrones_diseno/patron-visitor" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/patrones_diseno/patron-visitor" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='patron-template-method'>&#x25C4; Patrón Template Method</a></div><div class='col-6 text-end'><a href='identificacion-de-problemas-y-seleccion-de-patrones'>Identificación de Problemas y Selección de Patrones &#x25BA;</a></div></div><div class='content'></div><h1>Introducción</h1>
<div class='content'><p>El Patrón Visitor es un patrón de diseño de comportamiento que permite definir nuevas operaciones sobre una estructura de objetos sin cambiar las clases de los objetos sobre los que opera. Este patrón es útil cuando se desea realizar operaciones sobre una estructura de objetos compleja y se quiere evitar la proliferación de métodos en las clases de la estructura.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Visitor</strong>: Define una interfaz para visitar los elementos de la estructura.</li>
<li><strong>ConcreteVisitor</strong>: Implementa las operaciones definidas en la interfaz del Visitor.</li>
<li><strong>Element</strong>: Define una interfaz que acepta un Visitor.</li>
<li><strong>ConcreteElement</strong>: Implementa la interfaz Element y define la operación <code>accept</code> que toma un Visitor como argumento.</li>
<li><strong>Object Structure</strong>: Una colección de elementos que pueden ser visitados por el Visitor.</li>
</ul>
</div><h1>Estructura del Patrón</h1>
<div class='content'><p>| Componente       | Descripción                                                                 |
|------------------|-----------------------------------------------------------------------------|
| Visitor          | Interfaz que declara una visita para cada tipo de elemento concreto.        |
| ConcreteVisitor  | Implementación concreta del Visitor que define las acciones específicas.    |
| Element          | Interfaz que declara el método <code>accept</code> para recibir un Visitor.            |
| ConcreteElement  | Implementación concreta del Element que llama al método del Visitor.        |
| Object Structure | Colección de elementos que pueden ser visitados.                            |</p>
</div><h1>Ejemplo de Código</h1>
<div class='content'><p>A continuación, se presenta un ejemplo en Python para ilustrar el Patrón Visitor:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhYmMgaW1wb3J0IEFCQywgYWJzdHJhY3RtZXRob2QKCiMgVmlzaXRvciBJbnRlcmZhY2UKY2xhc3MgVmlzaXRvcihBQkMpOgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgdmlzaXRfY29uY3JldGVfZWxlbWVudF9hKHNlbGYsIGVsZW1lbnQpOgogICAgICAgIHBhc3MKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiB2aXNpdF9jb25jcmV0ZV9lbGVtZW50X2Ioc2VsZiwgZWxlbWVudCk6CiAgICAgICAgcGFzcwoKIyBDb25jcmV0ZSBWaXNpdG9yCmNsYXNzIENvbmNyZXRlVmlzaXRvcjEoVmlzaXRvcik6CiAgICBkZWYgdmlzaXRfY29uY3JldGVfZWxlbWVudF9hKHNlbGYsIGVsZW1lbnQpOgogICAgICAgIHByaW50KGYie2VsZW1lbnQub3BlcmF0aW9uX2EoKX0gdmlzaXRlZCBieSBDb25jcmV0ZVZpc2l0b3IxIikKCiAgICBkZWYgdmlzaXRfY29uY3JldGVfZWxlbWVudF9iKHNlbGYsIGVsZW1lbnQpOgogICAgICAgIHByaW50KGYie2VsZW1lbnQub3BlcmF0aW9uX2IoKX0gdmlzaXRlZCBieSBDb25jcmV0ZVZpc2l0b3IxIikKCiMgRWxlbWVudCBJbnRlcmZhY2UKY2xhc3MgRWxlbWVudChBQkMpOgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgYWNjZXB0KHNlbGYsIHZpc2l0b3IpOgogICAgICAgIHBhc3MKCiMgQ29uY3JldGUgRWxlbWVudHMKY2xhc3MgQ29uY3JldGVFbGVtZW50QShFbGVtZW50KToKICAgIGRlZiBhY2NlcHQoc2VsZiwgdmlzaXRvcik6CiAgICAgICAgdmlzaXRvci52aXNpdF9jb25jcmV0ZV9lbGVtZW50X2Eoc2VsZikKCiAgICBkZWYgb3BlcmF0aW9uX2Eoc2VsZik6CiAgICAgICAgcmV0dXJuICJDb25jcmV0ZUVsZW1lbnRBIgoKY2xhc3MgQ29uY3JldGVFbGVtZW50QihFbGVtZW50KToKICAgIGRlZiBhY2NlcHQoc2VsZiwgdmlzaXRvcik6CiAgICAgICAgdmlzaXRvci52aXNpdF9jb25jcmV0ZV9lbGVtZW50X2Ioc2VsZikKCiAgICBkZWYgb3BlcmF0aW9uX2Ioc2VsZik6CiAgICAgICAgcmV0dXJuICJDb25jcmV0ZUVsZW1lbnRCIgoKIyBPYmplY3QgU3RydWN0dXJlCmVsZW1lbnRzID0gW0NvbmNyZXRlRWxlbWVudEEoKSwgQ29uY3JldGVFbGVtZW50QigpXQoKdmlzaXRvcjEgPSBDb25jcmV0ZVZpc2l0b3IxKCkKCmZvciBlbGVtZW50IGluIGVsZW1lbnRzOgogICAgZWxlbWVudC5hY2NlcHQodmlzaXRvcjEp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from abc import ABC, abstractmethod

# Visitor Interface
class Visitor(ABC):
    @abstractmethod
    def visit_concrete_element_a(self, element):
        pass

    @abstractmethod
    def visit_concrete_element_b(self, element):
        pass

# Concrete Visitor
class ConcreteVisitor1(Visitor):
    def visit_concrete_element_a(self, element):
        print(f&quot;{element.operation_a()} visited by ConcreteVisitor1&quot;)

    def visit_concrete_element_b(self, element):
        print(f&quot;{element.operation_b()} visited by ConcreteVisitor1&quot;)

# Element Interface
class Element(ABC):
    @abstractmethod
    def accept(self, visitor):
        pass

# Concrete Elements
class ConcreteElementA(Element):
    def accept(self, visitor):
        visitor.visit_concrete_element_a(self)

    def operation_a(self):
        return &quot;ConcreteElementA&quot;

class ConcreteElementB(Element):
    def accept(self, visitor):
        visitor.visit_concrete_element_b(self)

    def operation_b(self):
        return &quot;ConcreteElementB&quot;

# Object Structure
elements = [ConcreteElementA(), ConcreteElementB()]

visitor1 = ConcreteVisitor1()

for element in elements:
    element.accept(visitor1)</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ol>
<li><strong>Visitor Interface</strong>: La clase <code>Visitor</code> define métodos abstractos para visitar cada tipo de elemento concreto.</li>
<li><strong>Concrete Visitor</strong>: <code>ConcreteVisitor1</code> implementa los métodos de la interfaz <code>Visitor</code> y define acciones específicas para cada tipo de elemento.</li>
<li><strong>Element Interface</strong>: La clase <code>Element</code> define el método <code>accept</code> que toma un Visitor como argumento.</li>
<li><strong>Concrete Elements</strong>: <code>ConcreteElementA</code> y <code>ConcreteElementB</code> implementan el método <code>accept</code> y llaman al método correspondiente del Visitor.</li>
<li><strong>Object Structure</strong>: Una lista de elementos que pueden ser visitados por el Visitor.</li>
</ol>
</div><h1>Ejercicio Práctico</h1>
<div class='content'><ol>
<li><strong>Modificación del Ejemplo</strong>: Extiende el ejemplo anterior añadiendo un <code>ConcreteVisitor2</code> que implemente diferentes acciones para los elementos.</li>
<li><strong>Nueva Estructura</strong>: Crea una nueva clase de elemento <code>ConcreteElementC</code> y actualiza los visitantes para manejar este nuevo tipo de elemento.</li>
</ol>
</div><h1>Conclusión</h1>
<div class='content'><p>El Patrón Visitor es una poderosa herramienta para separar algoritmos de las estructuras de objetos sobre las que operan. Esto permite agregar nuevas operaciones sin modificar las clases de los elementos, facilitando la extensión y el mantenimiento del código. Sin embargo, es importante usar este patrón con cuidado, ya que puede aumentar la complejidad del sistema si no se gestiona adecuadamente.</p>
</div><div class='row navigation'><div class='col-6'><a href='patron-template-method'>&#x25C4; Patrón Template Method</a></div><div class='col-6 text-end'><a href='identificacion-de-problemas-y-seleccion-de-patrones'>Identificación de Problemas y Selección de Patrones &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
