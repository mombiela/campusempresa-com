<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrón Flyweight</title>

    <link rel="alternate" href="https://campusempresa.com/es/patrones_diseno/patron-flyweight" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/patrones_diseno/patron-flyweight" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/patrones_diseno/patron-flyweight" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/patrones_diseno/patron-flyweight" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción</h1>
<div class='content'><p>El patrón Flyweight es un patrón de diseño estructural que permite reducir el uso de memoria compartiendo tanto como sea posible los datos similares entre objetos. Este patrón es especialmente útil cuando se necesita crear un gran número de objetos similares.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Compartición de Datos</strong>: El patrón Flyweight permite compartir partes del estado entre múltiples objetos para reducir el consumo de memoria.</li>
<li><strong>Estado Intrínseco</strong>: Parte del estado que es compartida entre varios objetos y que no cambia.</li>
<li><strong>Estado Extrínseco</strong>: Parte del estado que puede variar y no se comparte entre objetos.</li>
</ul>
</div><h1>Estructura del Patrón Flyweight</h1>
<div class='content'><p>El patrón Flyweight se compone de los siguientes componentes:</p>
<ol>
<li><strong>Flyweight</strong>: Interfaz o clase abstracta que define las operaciones que pueden ser realizadas por los objetos Flyweight.</li>
<li><strong>ConcreteFlyweight</strong>: Implementación concreta de la interfaz Flyweight que comparte el estado intrínseco.</li>
<li><strong>FlyweightFactory</strong>: Clase que crea y gestiona los objetos Flyweight. Asegura que los objetos compartidos sean reutilizados adecuadamente.</li>
<li><strong>Cliente</strong>: Clase que utiliza los objetos Flyweight y maneja el estado extrínseco.</li>
</ol>
</div><h1>Ejemplo de Código</h1>
<div class='content'><p>A continuación, se presenta un ejemplo en Python para ilustrar el uso del patrón Flyweight:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRmx5d2VpZ2h0OgogICAgZGVmIG9wZXJhdGlvbihzZWxmLCBleHRyaW5zaWNfc3RhdGUpOgogICAgICAgIHBhc3MKCmNsYXNzIENvbmNyZXRlRmx5d2VpZ2h0KEZseXdlaWdodCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgaW50cmluc2ljX3N0YXRlKToKICAgICAgICBzZWxmLmludHJpbnNpY19zdGF0ZSA9IGludHJpbnNpY19zdGF0ZQoKICAgIGRlZiBvcGVyYXRpb24oc2VsZiwgZXh0cmluc2ljX3N0YXRlKToKICAgICAgICBwcmludChmIkludHJpbnNpYyBTdGF0ZToge3NlbGYuaW50cmluc2ljX3N0YXRlfSwgRXh0cmluc2ljIFN0YXRlOiB7ZXh0cmluc2ljX3N0YXRlfSIpCgpjbGFzcyBGbHl3ZWlnaHRGYWN0b3J5OgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuZmx5d2VpZ2h0cyA9IHt9CgogICAgZGVmIGdldF9mbHl3ZWlnaHQoc2VsZiwga2V5KToKICAgICAgICBpZiBrZXkgbm90IGluIHNlbGYuZmx5d2VpZ2h0czoKICAgICAgICAgICAgc2VsZi5mbHl3ZWlnaHRzW2tleV0gPSBDb25jcmV0ZUZseXdlaWdodChrZXkpCiAgICAgICAgcmV0dXJuIHNlbGYuZmx5d2VpZ2h0c1trZXldCgojIENsaWVudGUKZmFjdG9yeSA9IEZseXdlaWdodEZhY3RvcnkoKQoKZmx5d2VpZ2h0MSA9IGZhY3RvcnkuZ2V0X2ZseXdlaWdodCgiQSIpCmZseXdlaWdodDEub3BlcmF0aW9uKCJGaXJzdCBDYWxsIikKCmZseXdlaWdodDIgPSBmYWN0b3J5LmdldF9mbHl3ZWlnaHQoIkEiKQpmbHl3ZWlnaHQyLm9wZXJhdGlvbigiU2Vjb25kIENhbGwiKQoKZmx5d2VpZ2h0MyA9IGZhY3RvcnkuZ2V0X2ZseXdlaWdodCgiQiIpCmZseXdlaWdodDMub3BlcmF0aW9uKCJGaXJzdCBDYWxsIik="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Flyweight:
    def operation(self, extrinsic_state):
        pass

class ConcreteFlyweight(Flyweight):
    def __init__(self, intrinsic_state):
        self.intrinsic_state = intrinsic_state

    def operation(self, extrinsic_state):
        print(f&quot;Intrinsic State: {self.intrinsic_state}, Extrinsic State: {extrinsic_state}&quot;)

class FlyweightFactory:
    def __init__(self):
        self.flyweights = {}

    def get_flyweight(self, key):
        if key not in self.flyweights:
            self.flyweights[key] = ConcreteFlyweight(key)
        return self.flyweights[key]

# Cliente
factory = FlyweightFactory()

flyweight1 = factory.get_flyweight(&quot;A&quot;)
flyweight1.operation(&quot;First Call&quot;)

flyweight2 = factory.get_flyweight(&quot;A&quot;)
flyweight2.operation(&quot;Second Call&quot;)

flyweight3 = factory.get_flyweight(&quot;B&quot;)
flyweight3.operation(&quot;First Call&quot;)</pre></div><div class='content'></div><h2>Explicación del Código</h2>
<div class='content'><ul>
<li><strong>Flyweight</strong>: Define la interfaz <code>operation</code> que será implementada por <code>ConcreteFlyweight</code>.</li>
<li><strong>ConcreteFlyweight</strong>: Implementa la interfaz <code>Flyweight</code> y contiene el estado intrínseco.</li>
<li><strong>FlyweightFactory</strong>: Gestiona la creación y reutilización de objetos <code>ConcreteFlyweight</code>.</li>
<li><strong>Cliente</strong>: Utiliza el <code>FlyweightFactory</code> para obtener instancias de <code>ConcreteFlyweight</code> y llama a sus métodos con el estado extrínseco.</li>
</ul>
</div><h1>Comparación de Estados</h1>
<div class='content'><p>| Estado Intrínseco | Estado Extrínseco |
|-------------------|-------------------|
| Compartido entre objetos | Específico de cada objeto |
| No cambia | Puede cambiar |
| Almacenado en el Flyweight | Proporcionado por el cliente |</p>
</div><h1>Ventajas y Desventajas</h1>
<div class='content'></div><h2>Ventajas</h2>
<div class='content'><ul>
<li><strong>Reducción de Memoria</strong>: Al compartir el estado intrínseco, se reduce el consumo de memoria.</li>
<li><strong>Mejora del Rendimiento</strong>: Menor número de objetos creados puede mejorar el rendimiento.</li>
</ul>
</div><h2>Desventajas</h2>
<div class='content'><ul>
<li><strong>Complejidad</strong>: Añade complejidad al diseño del sistema debido a la gestión del estado intrínseco y extrínseco.</li>
<li><strong>Coste de Gestión</strong>: La gestión de los objetos compartidos puede tener un coste adicional.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>El patrón Flyweight es una poderosa técnica para optimizar el uso de memoria en aplicaciones que requieren la creación de un gran número de objetos similares. Al compartir el estado intrínseco entre múltiples objetos, se puede lograr una significativa reducción en el consumo de recursos. Sin embargo, es importante balancear la complejidad añadida con los beneficios obtenidos para determinar si este patrón es adecuado para una situación específica.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
