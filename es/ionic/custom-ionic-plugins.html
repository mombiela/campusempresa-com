<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es">Castellano</b>
				|
				<a href="https://campusempresa.cat/ionic/custom-ionic-plugins" id="lnk_lang_ca" data-lang="ca">Català</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Crear plugins personalizados en Ionic permite a los desarrolladores extender la funcionalidad de sus aplicaciones integrando características nativas del dispositivo o bibliotecas de terceros que no están disponibles en el ecosistema estándar de plugins de Ionic/Cordova. Este tema te guiará a través del proceso de creación, integración y uso de plugins personalizados de Ionic.</p>
</div><h1>Introducción a los Plugins Personalizados de Ionic</h1>
<div class='content'><ul>
<li>
<p><strong>¿Qué son los Plugins de Ionic?</strong></p>
<ul>
<li>Los plugins son complementos que proporcionan acceso a características nativas del dispositivo, como la cámara, GPS y sistema de archivos.</li>
<li>Los plugins de Ionic generalmente se construyen sobre plugins de Cordova.</li>
</ul>
</li>
<li>
<p><strong>¿Por qué Crear Plugins Personalizados?</strong></p>
<ul>
<li>Para acceder a funcionalidades nativas específicas no cubiertas por los plugins existentes.</li>
<li>Para integrar bibliotecas nativas de terceros.</li>
<li>Para optimizar el rendimiento para casos de uso específicos.</li>
</ul>
</li>
</ul>
</div><h1>Configuración del Entorno</h1>
<div class='content'><p>Antes de crear un plugin personalizado, asegúrate de tener las siguientes herramientas instaladas:</p>
<ul>
<li>Node.js y npm</li>
<li>Ionic CLI</li>
<li>Cordova CLI</li>
</ul>
</div><h2>Pasos para Instalar las Herramientas Requeridas</h2>
<div class='content'><ol>
<li>
<p><strong>Instalar Node.js y npm:</strong></p>
<pre><code class="language-bash">sudo apt-get install nodejs
sudo apt-get install npm
</code></pre>
</li>
<li>
<p><strong>Instalar Ionic CLI:</strong></p>
<pre><code class="language-bash">npm install -g @ionic/cli
</code></pre>
</li>
<li>
<p><strong>Instalar Cordova CLI:</strong></p>
<pre><code class="language-bash">npm install -g cordova
</code></pre>
</li>
</ol>
</div><h1>Creación de un Plugin Personalizado</h1>
<div class='content'></div><h2>Guía Paso a Paso</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Nuevo Directorio para el Plugin:</strong></p>
<pre><code class="language-bash">mkdir my-custom-plugin
cd my-custom-plugin
</code></pre>
</li>
<li>
<p><strong>Inicializar el Plugin:</strong></p>
<pre><code class="language-bash">cordova create plugin com.example.myplugin MyPlugin
cd plugin
cordova platform add android
cordova platform add ios
</code></pre>
</li>
<li>
<p><strong>Definir Metadatos del Plugin:</strong></p>
<ul>
<li>Edita <code>plugin.xml</code> para definir los metadatos del plugin, incluyendo su ID, versión y plataformas soportadas.</li>
</ul>
<pre><code class="language-xml">&lt;plugin id=&quot;com.example.myplugin&quot; version=&quot;1.0.0&quot; xmlns=&quot;http://apache.org/cordova/ns/plugins/1.0&quot;&gt;
    &lt;name&gt;MyPlugin&lt;/name&gt;
    &lt;description&gt;Un plugin personalizado para Ionic&lt;/description&gt;
    &lt;license&gt;MIT&lt;/license&gt;
    &lt;keywords&gt;cordova, ionic, plugin&lt;/keywords&gt;
    &lt;platform name=&quot;android&quot;&gt;
        &lt;config-file target=&quot;config.xml&quot; parent=&quot;/*&quot;&gt;
            &lt;feature name=&quot;MyPlugin&quot;&gt;
                &lt;param name=&quot;android-package&quot; value=&quot;com.example.myplugin.MyPlugin&quot;/&gt;
            &lt;/feature&gt;
        &lt;/config-file&gt;
        &lt;source-file src=&quot;src/android/MyPlugin.java&quot; target-dir=&quot;src/com/example/myplugin&quot;/&gt;
    &lt;/platform&gt;
    &lt;platform name=&quot;ios&quot;&gt;
        &lt;config-file target=&quot;config.xml&quot; parent=&quot;/*&quot;&gt;
            &lt;feature name=&quot;MyPlugin&quot;&gt;
                &lt;param name=&quot;ios-package&quot; value=&quot;MyPlugin&quot;/&gt;
            &lt;/feature&gt;
        &lt;/config-file&gt;
        &lt;source-file src=&quot;src/ios/MyPlugin.m&quot; target-dir=&quot;src&quot;/&gt;
    &lt;/platform&gt;
&lt;/plugin&gt;
</code></pre>
</li>
<li>
<p><strong>Implementar Código Nativo:</strong></p>
<ul>
<li>Crea el código nativo para las plataformas Android e iOS.</li>
</ul>
<p><strong>Android (Java):</strong></p>
<pre><code class="language-java">package com.example.myplugin;

import org.apache.cordova.CordovaPlugin;
import org.apache.cordova.CallbackContext;
import org.json.JSONArray;
import org.json.JSONException;

public class MyPlugin extends CordovaPlugin {
    @Override
    public boolean execute(String action, JSONArray args, CallbackContext callbackContext) throws JSONException {
        if (action.equals(&quot;coolMethod&quot;)) {
            String message = args.getString(0);
            this.coolMethod(message, callbackContext);
            return true;
        }
        return false;
    }

    private void coolMethod(String message, CallbackContext callbackContext) {
        if (message != null &amp;&amp; message.length() &gt; 0) {
            callbackContext.success(message);
        } else {
            callbackContext.error(&quot;Se esperaba un argumento de cadena no vacío.&quot;);
        }
    }
}
</code></pre>
<p><strong>iOS (Objective-C):</strong></p>
<pre><code class="language-objective-c">#import &lt;Cordova/CDV.h&gt;

@interface MyPlugin : CDVPlugin
- (void)coolMethod:(CDVInvokedUrlCommand*)command;
@end

@implementation MyPlugin

- (void)coolMethod:(CDVInvokedUrlCommand*)command {
    CDVPluginResult* pluginResult = nil;
    NSString* echo = [command.arguments objectAtIndex:0];

    if (echo != nil &amp;&amp; [echo length] &gt; 0) {
        pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_OK messageAsString:echo];
    } else {
        pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_ERROR messageAsString:@&quot;Se esperaba un argumento de cadena no vacío.&quot;];
    }

    [self.commandDelegate sendPluginResult:pluginResult callbackId:command.callbackId];
}

@end
</code></pre>
</li>
</ol>
</div><h1>Integración del Plugin Personalizado en un Proyecto de Ionic</h1>
<div class='content'><ol>
<li>
<p><strong>Agregar el Plugin a Tu Proyecto de Ionic:</strong></p>
<pre><code class="language-bash">ionic cordova plugin add /path/to/my-custom-plugin
</code></pre>
</li>
<li>
<p><strong>Usar el Plugin en Tu Aplicación de Ionic:</strong></p>
<ul>
<li>Crea un servicio o usa directamente el plugin en tus componentes.</li>
</ul>
<p><strong>Ejemplo de Servicio:</strong></p>
<pre><code class="language-typescript">import { Injectable } from '@angular/core';
import { Platform } from '@ionic/angular';
declare var cordova: any;

@Injectable({
  providedIn: 'root'
})
export class MyPluginService {
  constructor(private platform: Platform) {}

  coolMethod(message: string): Promise&lt;any&gt; {
    return new Promise((resolve, reject) =&gt; {
      this.platform.ready().then(() =&gt; {
        cordova.plugins.MyPlugin.coolMethod(message, resolve, reject);
      });
    });
  }
}
</code></pre>
<p><strong>Usando el Servicio en un Componente:</strong></p>
<pre><code class="language-typescript">import { Component } from '@angular/core';
import { MyPluginService } from '../services/my-plugin.service';

@Component({
  selector: 'app-home',
  templateUrl: 'home.page.html',
  styleUrls: ['home.page.scss'],
})
export class HomePage {
  constructor(private myPluginService: MyPluginService) {}

  callPlugin() {
    this.myPluginService.coolMethod('¡Hola, Mundo!')
      .then(response =&gt; {
        console.log('Éxito:', response);
      })
      .catch(error =&gt; {
        console.error('Error:', error);
      });
  }
}
</code></pre>
</li>
</ol>
</div><h1>Conclusión</h1>
<div class='content'><p>Crear plugins personalizados de Ionic te permite extender las capacidades de tus aplicaciones de Ionic integrando funcionalidades nativas únicas. Siguiendo los pasos descritos en este tema, puedes configurar tu entorno, crear un plugin personalizado e integrarlo en tu proyecto de Ionic. Este proceso no solo mejora la funcionalidad de tu aplicación, sino que también proporciona una comprensión más profunda de cómo Ionic y Cordova trabajan juntos para cerrar la brecha entre las tecnologías web y nativas.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
