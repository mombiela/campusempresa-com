<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API de Contexto con TypeScript</title>

    <link rel="alternate" href="https://campusempresa.com/es/typescript/context-api-typescript" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/typescript/context-api-typescript" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/typescript/context-api-typescript" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/typescript/context-api-typescript" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='hooks-typescript'>&#x25C4;Hooks con TypeScript</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">API de Contexto con TypeScript</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-testing'>Introducción a las Pruebas &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a la API de Contexto</h1>
<div class='content'><p>La API de Contexto en React es una característica poderosa que te permite gestionar el estado globalmente a través de tu aplicación sin la necesidad de pasar props manualmente en cada nivel. Cuando se combina con TypeScript, proporciona una forma robusta y segura de manejar el estado.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Contexto</strong>: Una forma de pasar datos a través del árbol de componentes sin tener que pasar props manualmente en cada nivel.</li>
<li><strong>Proveedor</strong>: Un componente que proporciona el valor del contexto a sus hijos.</li>
<li><strong>Consumidor</strong>: Un componente que consume el valor del contexto.</li>
</ul>
</div><h1>Creando un Contexto</h1>
<div class='content'><p>Para crear un contexto en TypeScript, necesitas definir la forma del valor del contexto usando una interfaz.</p>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7CgovLyBEZWZpbmUgbGEgZm9ybWEgZGVsIHZhbG9yIGRlbCBjb250ZXh0bwppbnRlcmZhY2UgVGhlbWVDb250ZXh0VHlwZSB7CiAgdGhlbWU6IHN0cmluZzsKICB0b2dnbGVUaGVtZTogKCkgPT4gdm9pZDsKfQoKLy8gQ3JlYSBlbCBjb250ZXh0byBjb24gdW4gdmFsb3IgcG9yIGRlZmVjdG8KY29uc3QgVGhlbWVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxUaGVtZUNvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpOwoKLy8gQ3JlYSB1biBjb21wb25lbnRlIHByb3ZlZWRvcgpjb25zdCBUaGVtZVByb3ZpZGVyOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdE5vZGUgfT4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7CiAgY29uc3QgW3RoZW1lLCBzZXRUaGVtZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdsaWdodCcpOwoKICBjb25zdCB0b2dnbGVUaGVtZSA9ICgpID0+IHsKICAgIHNldFRoZW1lKChwcmV2VGhlbWUpID0+IChwcmV2VGhlbWUgPT09ICdsaWdodCcgPyAnZGFyaycgOiAnbGlnaHQnKSk7CiAgfTsKCiAgcmV0dXJuICgKICAgIDxUaGVtZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgdGhlbWUsIHRvZ2dsZVRoZW1lIH19PgogICAgICB7Y2hpbGRyZW59CiAgICA8L1RoZW1lQ29udGV4dC5Qcm92aWRlcj4KICApOwp9OwoKLy8gSG9vayBwZXJzb25hbGl6YWRvIHBhcmEgdXNhciBlbCBUaGVtZUNvbnRleHQKY29uc3QgdXNlVGhlbWUgPSAoKSA9PiB7CiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTsKICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZVRoZW1lIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBUaGVtZVByb3ZpZGVyJyk7CiAgfQogIHJldHVybiBjb250ZXh0Owp9OwoKZXhwb3J0IHsgVGhlbWVQcm92aWRlciwgdXNlVGhlbWUgfTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { createContext, useContext, useState, ReactNode } from 'react';

// Define la forma del valor del contexto
interface ThemeContextType {
  theme: string;
  toggleTheme: () =&gt; void;
}

// Crea el contexto con un valor por defecto
const ThemeContext = createContext&lt;ThemeContextType | undefined&gt;(undefined);

// Crea un componente proveedor
const ThemeProvider: React.FC&lt;{ children: ReactNode }&gt; = ({ children }) =&gt; {
  const [theme, setTheme] = useState&lt;string&gt;('light');

  const toggleTheme = () =&gt; {
    setTheme((prevTheme) =&gt; (prevTheme === 'light' ? 'dark' : 'light'));
  };

  return (
    &lt;ThemeContext.Provider value={{ theme, toggleTheme }}&gt;
      {children}
    &lt;/ThemeContext.Provider&gt;
  );
};

// Hook personalizado para usar el ThemeContext
const useTheme = () =&gt; {
  const context = useContext(ThemeContext);
  if (context === undefined) {
    throw new Error('useTheme must be used within a ThemeProvider');
  }
  return context;
};

export { ThemeProvider, useTheme };</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>ThemeContextType</strong>: Define la forma del valor del contexto.</li>
<li><strong>ThemeContext</strong>: Crea el contexto con un valor por defecto de <code>undefined</code>.</li>
<li><strong>ThemeProvider</strong>: Proporciona el valor del contexto a sus hijos.</li>
<li><strong>useTheme</strong>: Hook personalizado para consumir el valor del contexto.</li>
</ul>
</div><h1>Usando el Contexto en Componentes</h1>
<div class='content'><p>Una vez que el contexto es creado y proporcionado, puedes usarlo en cualquier componente dentro del proveedor.</p>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgVGhlbWVQcm92aWRlciwgdXNlVGhlbWUgfSBmcm9tICcuL1RoZW1lQ29udGV4dCc7Cgpjb25zdCBUaGVtZVRvZ2dsZUJ1dHRvbjogUmVhY3QuRkMgPSAoKSA9PiB7CiAgY29uc3QgeyB0aGVtZSwgdG9nZ2xlVGhlbWUgfSA9IHVzZVRoZW1lKCk7CgogIHJldHVybiAoCiAgICA8YnV0dG9uIG9uQ2xpY2s9e3RvZ2dsZVRoZW1lfT4KICAgICAgQ3VycmVudCBUaGVtZToge3RoZW1lfQogICAgPC9idXR0b24+CiAgKTsKfTsKCmNvbnN0IEFwcDogUmVhY3QuRkMgPSAoKSA9PiB7CiAgcmV0dXJuICgKICAgIDxUaGVtZVByb3ZpZGVyPgogICAgICA8ZGl2PgogICAgICAgIDxoMT5XZWxjb21lIHRvIHRoZSBUaGVtZSBBcHA8L2gxPgogICAgICAgIDxUaGVtZVRvZ2dsZUJ1dHRvbiAvPgogICAgICA8L2Rpdj4KICAgIDwvVGhlbWVQcm92aWRlcj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgQXBwOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React from 'react';
import { ThemeProvider, useTheme } from './ThemeContext';

const ThemeToggleButton: React.FC = () =&gt; {
  const { theme, toggleTheme } = useTheme();

  return (
    &lt;button onClick={toggleTheme}&gt;
      Current Theme: {theme}
    &lt;/button&gt;
  );
};

const App: React.FC = () =&gt; {
  return (
    &lt;ThemeProvider&gt;
      &lt;div&gt;
        &lt;h1&gt;Welcome to the Theme App&lt;/h1&gt;
        &lt;ThemeToggleButton /&gt;
      &lt;/div&gt;
    &lt;/ThemeProvider&gt;
  );
};

export default App;</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>ThemeToggleButton</strong>: Un componente que consume el valor del contexto usando el hook <code>useTheme</code> y cambia el tema al hacer clic en el botón.</li>
<li><strong>App</strong>: El componente principal de la aplicación que envuelve a sus hijos con el <code>ThemeProvider</code>.</li>
</ul>
</div><h1>Seguridad de Tipos con TypeScript</h1>
<div class='content'><p>Usar TypeScript con la API de Contexto asegura que el valor del contexto sea seguro, reduciendo el riesgo de errores en tiempo de ejecución.</p>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTsKaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkgewogIHRocm93IG5ldyBFcnJvcigndXNlVGhlbWUgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIFRoZW1lUHJvdmlkZXInKTsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const context = useContext(ThemeContext);
if (context === undefined) {
  throw new Error('useTheme must be used within a ThemeProvider');
}</pre></div><div class='content'><ul>
<li>Esta verificación asegura que el contexto no sea <code>undefined</code>, proporcionando una forma segura de consumir el valor del contexto.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>La API de Contexto, cuando se combina con TypeScript, proporciona una forma poderosa y segura de manejar el estado globalmente en tu aplicación React. Al definir la forma del valor del contexto usando interfaces de TypeScript, puedes asegurar que tus valores de contexto sean consistentes y seguros en toda tu aplicación.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='hooks-typescript'>&#x25C4;Hooks con TypeScript</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">API de Contexto con TypeScript</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-testing'>Introducción a las Pruebas &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
