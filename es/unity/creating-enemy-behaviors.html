<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creación de Comportamientos de Enemigos</title>

    <link rel="alternate" href="https://campusempresa.com/es/unity/creating-enemy-behaviors" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/unity/creating-enemy-behaviors" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/unity/creating-enemy-behaviors" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/unity/creating-enemy-behaviors" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Crear comportamientos de enemigos en Unity es una habilidad fundamental para los desarrolladores de juegos. Este tema te guiará a través del proceso desde niveles principiantes hasta avanzados, cubriendo movimiento básico, toma de decisiones de IA y patrones de comportamiento complejos.</p>
</div><h1>Introducción a los Comportamientos de Enemigos</h1>
<div class='content'><p>Antes de sumergirse en la codificación, es esencial entender qué son los comportamientos de enemigos y por qué son cruciales en el desarrollo de juegos.</p>
<ul>
<li><strong>Comportamientos de Enemigos</strong>: Acciones o patrones que los enemigos siguen en un juego, como patrullar, perseguir al jugador o atacar.</li>
<li><strong>Importancia</strong>: Mejora la experiencia de juego al proporcionar desafíos y hacer el juego más atractivo.</li>
</ul>
</div><h1>Movimiento Básico de Enemigos</h1>
<div class='content'><p>Comenzaremos con un movimiento simple de enemigos, como patrullar entre puntos.</p>
</div><h2>Patrullando Entre Puntos</h2>
<div class='content'><ol>
<li><strong>Crear Puntos de Control</strong>: Definir puntos entre los cuales el enemigo se moverá.</li>
<li><strong>Moverse Hacia los Puntos de Control</strong>: Usar el componente <code>Transform</code> de Unity para mover al enemigo.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgRW5lbXlQYXRyb2wgOiBNb25vQmVoYXZpb3VyCnsKICAgIHB1YmxpYyBUcmFuc2Zvcm1bXSB3YXlwb2ludHM7CiAgICBwdWJsaWMgZmxvYXQgc3BlZWQgPSAyZjsKICAgIHByaXZhdGUgaW50IGN1cnJlbnRXYXlwb2ludEluZGV4ID0gMDsKCiAgICB2b2lkIFVwZGF0ZSgpCiAgICB7CiAgICAgICAgaWYgKHdheXBvaW50cy5MZW5ndGggPT0gMCkgcmV0dXJuOwoKICAgICAgICBUcmFuc2Zvcm0gdGFyZ2V0V2F5cG9pbnQgPSB3YXlwb2ludHNbY3VycmVudFdheXBvaW50SW5kZXhdOwogICAgICAgIFZlY3RvcjMgZGlyZWN0aW9uID0gdGFyZ2V0V2F5cG9pbnQucG9zaXRpb24gLSB0cmFuc2Zvcm0ucG9zaXRpb247CiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uID0gVmVjdG9yMy5Nb3ZlVG93YXJkcyh0cmFuc2Zvcm0ucG9zaXRpb24sIHRhcmdldFdheXBvaW50LnBvc2l0aW9uLCBzcGVlZCAqIFRpbWUuZGVsdGFUaW1lKTsKCiAgICAgICAgaWYgKFZlY3RvcjMuRGlzdGFuY2UodHJhbnNmb3JtLnBvc2l0aW9uLCB0YXJnZXRXYXlwb2ludC5wb3NpdGlvbikgPCAwLjFmKQogICAgICAgIHsKICAgICAgICAgICAgY3VycmVudFdheXBvaW50SW5kZXggPSAoY3VycmVudFdheXBvaW50SW5kZXggKyAxKSAlIHdheXBvaW50cy5MZW5ndGg7CiAgICAgICAgfQogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class EnemyPatrol : MonoBehaviour
{
    public Transform[] waypoints;
    public float speed = 2f;
    private int currentWaypointIndex = 0;

    void Update()
    {
        if (waypoints.Length == 0) return;

        Transform targetWaypoint = waypoints[currentWaypointIndex];
        Vector3 direction = targetWaypoint.position - transform.position;
        transform.position = Vector3.MoveTowards(transform.position, targetWaypoint.position, speed * Time.deltaTime);

        if (Vector3.Distance(transform.position, targetWaypoint.position) &lt; 0.1f)
        {
            currentWaypointIndex = (currentWaypointIndex + 1) % waypoints.Length;
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>waypoints</code>: Array de puntos que el enemigo patrullará.</li>
<li><code>speed</code>: Velocidad del enemigo.</li>
<li><code>currentWaypointIndex</code>: Rastrea el punto de control actual.</li>
<li><code>Update()</code>: Mueve al enemigo hacia el punto de control actual y actualiza el índice del punto de control cuando el enemigo alcanza el objetivo.</li>
</ul>
</li>
</ul>
</div><h1>Comportamientos Intermedios de Enemigos</h1>
<div class='content'><p>A continuación, agregaremos más complejidad introduciendo la detección de enemigos y la persecución del jugador.</p>
</div><h2>Detectando al Jugador</h2>
<div class='content'><ol>
<li><strong>Campo de Visión</strong>: Definir el campo de visión del enemigo para detectar al jugador.</li>
<li><strong>Mecanismo de Persecución</strong>: Implementar lógica para perseguir al jugador cuando sea detectado.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgRW5lbXlDaGFzZSA6IE1vbm9CZWhhdmlvdXIKewogICAgcHVibGljIFRyYW5zZm9ybSBwbGF5ZXI7CiAgICBwdWJsaWMgZmxvYXQgZGV0ZWN0aW9uUmFuZ2UgPSA1ZjsKICAgIHB1YmxpYyBmbG9hdCBzcGVlZCA9IDNmOwoKICAgIHZvaWQgVXBkYXRlKCkKICAgIHsKICAgICAgICBmbG9hdCBkaXN0YW5jZVRvUGxheWVyID0gVmVjdG9yMy5EaXN0YW5jZSh0cmFuc2Zvcm0ucG9zaXRpb24sIHBsYXllci5wb3NpdGlvbik7CgogICAgICAgIGlmIChkaXN0YW5jZVRvUGxheWVyIDwgZGV0ZWN0aW9uUmFuZ2UpCiAgICAgICAgewogICAgICAgICAgICBWZWN0b3IzIGRpcmVjdGlvbiA9IChwbGF5ZXIucG9zaXRpb24gLSB0cmFuc2Zvcm0ucG9zaXRpb24pLm5vcm1hbGl6ZWQ7CiAgICAgICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbiArPSBkaXJlY3Rpb24gKiBzcGVlZCAqIFRpbWUuZGVsdGFUaW1lOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class EnemyChase : MonoBehaviour
{
    public Transform player;
    public float detectionRange = 5f;
    public float speed = 3f;

    void Update()
    {
        float distanceToPlayer = Vector3.Distance(transform.position, player.position);

        if (distanceToPlayer &lt; detectionRange)
        {
            Vector3 direction = (player.position - transform.position).normalized;
            transform.position += direction * speed * Time.deltaTime;
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>player</code>: Referencia al transform del jugador.</li>
<li><code>detectionRange</code>: Distancia dentro de la cual el enemigo puede detectar al jugador.</li>
<li><code>Update()</code>: Verifica la distancia al jugador y se mueve hacia el jugador si está dentro del rango de detección.</li>
</ul>
</li>
</ul>
</div><h1>Comportamientos Avanzados de Enemigos</h1>
<div class='content'><p>Para comportamientos avanzados, implementaremos máquinas de estados y patrones de IA más complejos.</p>
</div><h2>Máquinas de Estados</h2>
<div class='content'><ol>
<li><strong>Definir Estados</strong>: Crear diferentes estados para el enemigo (por ejemplo, Idle, Patrol, Chase, Attack).</li>
<li><strong>Transiciones de Estado</strong>: Implementar lógica para transicionar entre estados basados en condiciones.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgVW5pdHlFbmdpbmU7CgpwdWJsaWMgY2xhc3MgRW5lbXlBSSA6IE1vbm9CZWhhdmlvdXIKewogICAgcHJpdmF0ZSBlbnVtIFN0YXRlIHsgSWRsZSwgUGF0cm9sLCBDaGFzZSwgQXR0YWNrIH0KICAgIHByaXZhdGUgU3RhdGUgY3VycmVudFN0YXRlOwoKICAgIHB1YmxpYyBUcmFuc2Zvcm1bXSB3YXlwb2ludHM7CiAgICBwdWJsaWMgVHJhbnNmb3JtIHBsYXllcjsKICAgIHB1YmxpYyBmbG9hdCBkZXRlY3Rpb25SYW5nZSA9IDVmOwogICAgcHVibGljIGZsb2F0IGF0dGFja1JhbmdlID0gMWY7CiAgICBwdWJsaWMgZmxvYXQgc3BlZWQgPSAyZjsKICAgIHByaXZhdGUgaW50IGN1cnJlbnRXYXlwb2ludEluZGV4ID0gMDsKCiAgICB2b2lkIFN0YXJ0KCkKICAgIHsKICAgICAgICBjdXJyZW50U3RhdGUgPSBTdGF0ZS5QYXRyb2w7CiAgICB9CgogICAgdm9pZCBVcGRhdGUoKQogICAgewogICAgICAgIHN3aXRjaCAoY3VycmVudFN0YXRlKQogICAgICAgIHsKICAgICAgICAgICAgY2FzZSBTdGF0ZS5JZGxlOgogICAgICAgICAgICAgICAgLy8gQ29tcG9ydGFtaWVudG8gSWRsZQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgU3RhdGUuUGF0cm9sOgogICAgICAgICAgICAgICAgUGF0cm9sKCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBTdGF0ZS5DaGFzZToKICAgICAgICAgICAgICAgIENoYXNlKCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBTdGF0ZS5BdHRhY2s6CiAgICAgICAgICAgICAgICBBdHRhY2soKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgQ2hlY2tUcmFuc2l0aW9ucygpOwogICAgfQoKICAgIHZvaWQgUGF0cm9sKCkKICAgIHsKICAgICAgICBpZiAod2F5cG9pbnRzLkxlbmd0aCA9PSAwKSByZXR1cm47CgogICAgICAgIFRyYW5zZm9ybSB0YXJnZXRXYXlwb2ludCA9IHdheXBvaW50c1tjdXJyZW50V2F5cG9pbnRJbmRleF07CiAgICAgICAgVmVjdG9yMyBkaXJlY3Rpb24gPSB0YXJnZXRXYXlwb2ludC5wb3NpdGlvbiAtIHRyYW5zZm9ybS5wb3NpdGlvbjsKICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLk1vdmVUb3dhcmRzKHRyYW5zZm9ybS5wb3NpdGlvbiwgdGFyZ2V0V2F5cG9pbnQucG9zaXRpb24sIHNwZWVkICogVGltZS5kZWx0YVRpbWUpOwoKICAgICAgICBpZiAoVmVjdG9yMy5EaXN0YW5jZSh0cmFuc2Zvcm0ucG9zaXRpb24sIHRhcmdldFdheXBvaW50LnBvc2l0aW9uKSA8IDAuMWYpCiAgICAgICAgewogICAgICAgICAgICBjdXJyZW50V2F5cG9pbnRJbmRleCA9IChjdXJyZW50V2F5cG9pbnRJbmRleCArIDEpICUgd2F5cG9pbnRzLkxlbmd0aDsKICAgICAgICB9CiAgICB9CgogICAgdm9pZCBDaGFzZSgpCiAgICB7CiAgICAgICAgVmVjdG9yMyBkaXJlY3Rpb24gPSAocGxheWVyLnBvc2l0aW9uIC0gdHJhbnNmb3JtLnBvc2l0aW9uKS5ub3JtYWxpemVkOwogICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbiArPSBkaXJlY3Rpb24gKiBzcGVlZCAqIFRpbWUuZGVsdGFUaW1lOwogICAgfQoKICAgIHZvaWQgQXR0YWNrKCkKICAgIHsKICAgICAgICAvLyBDb21wb3J0YW1pZW50byBkZSBhdGFxdWUKICAgIH0KCiAgICB2b2lkIENoZWNrVHJhbnNpdGlvbnMoKQogICAgewogICAgICAgIGZsb2F0IGRpc3RhbmNlVG9QbGF5ZXIgPSBWZWN0b3IzLkRpc3RhbmNlKHRyYW5zZm9ybS5wb3NpdGlvbiwgcGxheWVyLnBvc2l0aW9uKTsKCiAgICAgICAgc3dpdGNoIChjdXJyZW50U3RhdGUpCiAgICAgICAgewogICAgICAgICAgICBjYXNlIFN0YXRlLklkbGU6CiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VUb1BsYXllciA8IGRldGVjdGlvblJhbmdlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IFN0YXRlLkNoYXNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgU3RhdGUuUGF0cm9sOgogICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9QbGF5ZXIgPCBkZXRlY3Rpb25SYW5nZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBTdGF0ZS5DaGFzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIFN0YXRlLkNoYXNlOgogICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9QbGF5ZXIgPCBhdHRhY2tSYW5nZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBTdGF0ZS5BdHRhY2s7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXN0YW5jZVRvUGxheWVyID4gZGV0ZWN0aW9uUmFuZ2UpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gU3RhdGUuUGF0cm9sOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgU3RhdGUuQXR0YWNrOgogICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9QbGF5ZXIgPiBhdHRhY2tSYW5nZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBTdGF0ZS5DaGFzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using UnityEngine;

public class EnemyAI : MonoBehaviour
{
    private enum State { Idle, Patrol, Chase, Attack }
    private State currentState;

    public Transform[] waypoints;
    public Transform player;
    public float detectionRange = 5f;
    public float attackRange = 1f;
    public float speed = 2f;
    private int currentWaypointIndex = 0;

    void Start()
    {
        currentState = State.Patrol;
    }

    void Update()
    {
        switch (currentState)
        {
            case State.Idle:
                // Comportamiento Idle
                break;
            case State.Patrol:
                Patrol();
                break;
            case State.Chase:
                Chase();
                break;
            case State.Attack:
                Attack();
                break;
        }

        CheckTransitions();
    }

    void Patrol()
    {
        if (waypoints.Length == 0) return;

        Transform targetWaypoint = waypoints[currentWaypointIndex];
        Vector3 direction = targetWaypoint.position - transform.position;
        transform.position = Vector3.MoveTowards(transform.position, targetWaypoint.position, speed * Time.deltaTime);

        if (Vector3.Distance(transform.position, targetWaypoint.position) &lt; 0.1f)
        {
            currentWaypointIndex = (currentWaypointIndex + 1) % waypoints.Length;
        }
    }

    void Chase()
    {
        Vector3 direction = (player.position - transform.position).normalized;
        transform.position += direction * speed * Time.deltaTime;
    }

    void Attack()
    {
        // Comportamiento de ataque
    }

    void CheckTransitions()
    {
        float distanceToPlayer = Vector3.Distance(transform.position, player.position);

        switch (currentState)
        {
            case State.Idle:
                if (distanceToPlayer &lt; detectionRange)
                {
                    currentState = State.Chase;
                }
                break;
            case State.Patrol:
                if (distanceToPlayer &lt; detectionRange)
                {
                    currentState = State.Chase;
                }
                break;
            case State.Chase:
                if (distanceToPlayer &lt; attackRange)
                {
                    currentState = State.Attack;
                }
                else if (distanceToPlayer &gt; detectionRange)
                {
                    currentState = State.Patrol;
                }
                break;
            case State.Attack:
                if (distanceToPlayer &gt; attackRange)
                {
                    currentState = State.Chase;
                }
                break;
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>State</code>: Enum que representa diferentes estados.</li>
<li><code>currentState</code>: Rastrea el estado actual del enemigo.</li>
<li><code>Update()</code>: Ejecuta el comportamiento basado en el estado actual y verifica las transiciones de estado.</li>
<li><code>Patrol()</code>, <code>Chase()</code>, <code>Attack()</code>: Métodos que definen comportamientos para cada estado.</li>
<li><code>CheckTransitions()</code>: Lógica para transicionar entre estados basados en condiciones.</li>
</ul>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Crear comportamientos de enemigos en Unity implica entender el movimiento básico, mecanismos de detección y patrones de IA avanzados. Comenzando con patrullas simples y agregando gradualmente complejidad con máquinas de estados, puedes crear comportamientos de enemigos atractivos y desafiantes para tus juegos. Practica estos conceptos y experimenta con diferentes comportamientos para mejorar tus habilidades de desarrollo de juegos.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
