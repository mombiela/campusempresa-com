<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es">Castellano</b>
				|
				<a href="https://campusempresa.cat/reactnative/handling-api-responses" id="lnk_lang_ca" data-lang="ca">Català</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>El manejo de respuestas de API es un aspecto crucial para construir aplicaciones robustas y amigables para el usuario en React Native. Este tema te guiará desde los conceptos básicos de la obtención de datos de una API hasta técnicas más avanzadas para gestionar y mostrar esos datos de manera eficiente.</p>
</div><h1>Introducción a las Respuestas de API</h1>
<div class='content'><p>Las APIs (Interfaces de Programación de Aplicaciones) permiten que tu aplicación se comunique con servicios externos. Cuando realizas una solicitud a una API, recibes una respuesta, la cual debes manejar adecuadamente en tu aplicación.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Métodos HTTP</strong>: GET, POST, PUT, DELETE</li>
<li><strong>Códigos de Estado</strong>: 200 (OK), 404 (No Encontrado), 500 (Error Interno del Servidor), etc.</li>
<li><strong>JSON</strong>: Formato común para respuestas de API</li>
<li><strong>Programación Asíncrona</strong>: Usando <code>async/await</code> y Promesas</li>
</ul>
</div><h1>Obteniendo Datos de una API</h1>
<div class='content'></div><h2>Usando la API Fetch</h2>
<div class='content'><p>La API Fetch es una API de JavaScript incorporada para realizar solicitudes de red. Es simple de usar y funciona bien con React Native.</p>
<h4>Ejemplo: Obteniendo Datos con la API Fetch</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFZpZXcsIFRleHQsIEFjdGl2aXR5SW5kaWNhdG9yLCBGbGF0TGlzdCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7Cgpjb25zdCBBcHAgPSAoKSA9PiB7CiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUoW10pOwogIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgZmV0Y2goJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycpCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgLnRoZW4oanNvbiA9PiB7CiAgICAgICAgc2V0RGF0YShqc29uKTsKICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgICAgfSkKICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgICAgfSk7CiAgfSwgW10pOwoKICBpZiAobG9hZGluZykgewogICAgcmV0dXJuIDxBY3Rpdml0eUluZGljYXRvciBzaXplPSJsYXJnZSIgY29sb3I9IiMwMDAwZmYiIC8+OwogIH0KCiAgcmV0dXJuICgKICAgIDxWaWV3PgogICAgICA8RmxhdExpc3QKICAgICAgICBkYXRhPXtkYXRhfQogICAgICAgIGtleUV4dHJhY3Rvcj17aXRlbSA9PiBpdGVtLmlkLnRvU3RyaW5nKCl9CiAgICAgICAgcmVuZGVySXRlbT17KHsgaXRlbSB9KSA9PiAoCiAgICAgICAgICA8Vmlldz4KICAgICAgICAgICAgPFRleHQ+e2l0ZW0udGl0bGV9PC9UZXh0PgogICAgICAgICAgICA8VGV4dD57aXRlbS5ib2R5fTwvVGV4dD4KICAgICAgICAgIDwvVmlldz4KICAgICAgICApfQogICAgICAvPgogICAgPC9WaWV3PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBBcHA7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useEffect, useState } from 'react';
import { View, Text, ActivityIndicator, FlatList } from 'react-native';

const App = () =&gt; {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() =&gt; {
    fetch('https://jsonplaceholder.typicode.com/posts')
      .then(response =&gt; response.json())
      .then(json =&gt; {
        setData(json);
        setLoading(false);
      })
      .catch(error =&gt; {
        console.error(error);
        setLoading(false);
      });
  }, []);

  if (loading) {
    return &lt;ActivityIndicator size=&quot;large&quot; color=&quot;#0000ff&quot; /&gt;;
  }

  return (
    &lt;View&gt;
      &lt;FlatList
        data={data}
        keyExtractor={item =&gt; item.id.toString()}
        renderItem={({ item }) =&gt; (
          &lt;View&gt;
            &lt;Text&gt;{item.title}&lt;/Text&gt;
            &lt;Text&gt;{item.body}&lt;/Text&gt;
          &lt;/View&gt;
        )}
      /&gt;
    &lt;/View&gt;
  );
};

export default App;</pre></div><div class='content'></div><h2>Usando Axios</h2>
<div class='content'><p>Axios es una biblioteca popular para realizar solicitudes HTTP. Proporciona una API más poderosa y flexible en comparación con la API Fetch.</p>
<h4>Ejemplo: Obteniendo Datos con Axios</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFZpZXcsIFRleHQsIEFjdGl2aXR5SW5kaWNhdG9yLCBGbGF0TGlzdCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7Cgpjb25zdCBBcHAgPSAoKSA9PiB7CiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUoW10pOwogIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpOwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgYXhpb3MuZ2V0KCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnKQogICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgc2V0RGF0YShyZXNwb25zZS5kYXRhKTsKICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgICAgfSkKICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgICAgfSk7CiAgfSwgW10pOwoKICBpZiAobG9hZGluZykgewogICAgcmV0dXJuIDxBY3Rpdml0eUluZGljYXRvciBzaXplPSJsYXJnZSIgY29sb3I9IiMwMDAwZmYiIC8+OwogIH0KCiAgcmV0dXJuICgKICAgIDxWaWV3PgogICAgICA8RmxhdExpc3QKICAgICAgICBkYXRhPXtkYXRhfQogICAgICAgIGtleUV4dHJhY3Rvcj17aXRlbSA9PiBpdGVtLmlkLnRvU3RyaW5nKCl9CiAgICAgICAgcmVuZGVySXRlbT17KHsgaXRlbSB9KSA9PiAoCiAgICAgICAgICA8Vmlldz4KICAgICAgICAgICAgPFRleHQ+e2l0ZW0udGl0bGV9PC9UZXh0PgogICAgICAgICAgICA8VGV4dD57aXRlbS5ib2R5fTwvVGV4dD4KICAgICAgICAgIDwvVmlldz4KICAgICAgICApfQogICAgICAvPgogICAgPC9WaWV3PgogICk7Cn07CgpleHBvcnQgZGVmYXVsdCBBcHA7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useEffect, useState } from 'react';
import { View, Text, ActivityIndicator, FlatList } from 'react-native';
import axios from 'axios';

const App = () =&gt; {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() =&gt; {
    axios.get('https://jsonplaceholder.typicode.com/posts')
      .then(response =&gt; {
        setData(response.data);
        setLoading(false);
      })
      .catch(error =&gt; {
        console.error(error);
        setLoading(false);
      });
  }, []);

  if (loading) {
    return &lt;ActivityIndicator size=&quot;large&quot; color=&quot;#0000ff&quot; /&gt;;
  }

  return (
    &lt;View&gt;
      &lt;FlatList
        data={data}
        keyExtractor={item =&gt; item.id.toString()}
        renderItem={({ item }) =&gt; (
          &lt;View&gt;
            &lt;Text&gt;{item.title}&lt;/Text&gt;
            &lt;Text&gt;{item.body}&lt;/Text&gt;
          &lt;/View&gt;
        )}
      /&gt;
    &lt;/View&gt;
  );
};

export default App;</pre></div><div class='content'></div><h1>Manejo de Errores</h1>
<div class='content'><p>El manejo adecuado de errores es esencial para proporcionar una buena experiencia de usuario y para depurar problemas de manera efectiva.</p>
</div><h2>Ejemplo: Manejo de Errores con la API Fetch</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlRWZmZWN0KCgpID0+IHsKICBmZXRjaCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJykKICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgIHRocm93IG5ldyBFcnJvcignTGEgcmVzcHVlc3RhIGRlIGxhIHJlZCBubyBmdWUgc2F0aXNmYWN0b3JpYScpOwogICAgICB9CiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICB9KQogICAgLnRoZW4oanNvbiA9PiB7CiAgICAgIHNldERhdGEoanNvbik7CiAgICAgIHNldExvYWRpbmcoZmFsc2UpOwogICAgfSkKICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0h1Ym8gdW4gcHJvYmxlbWEgY29uIGxhIG9wZXJhY2nDs24gZmV0Y2g6JywgZXJyb3IpOwogICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgIH0pOwp9LCBbXSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>useEffect(() =&gt; {
  fetch('https://jsonplaceholder.typicode.com/posts')
    .then(response =&gt; {
      if (!response.ok) {
        throw new Error('La respuesta de la red no fue satisfactoria');
      }
      return response.json();
    })
    .then(json =&gt; {
      setData(json);
      setLoading(false);
    })
    .catch(error =&gt; {
      console.error('Hubo un problema con la operaci&oacute;n fetch:', error);
      setLoading(false);
    });
}, []);</pre></div><div class='content'></div><h2>Ejemplo: Manejo de Errores con Axios</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlRWZmZWN0KCgpID0+IHsKICBheGlvcy5nZXQoJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycpCiAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHNldERhdGEocmVzcG9uc2UuZGF0YSk7CiAgICAgIHNldExvYWRpbmcoZmFsc2UpOwogICAgfSkKICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0h1Ym8gdW4gcHJvYmxlbWEgY29uIGxhIHNvbGljaXR1ZCBheGlvczonLCBlcnJvcik7CiAgICAgIHNldExvYWRpbmcoZmFsc2UpOwogICAgfSk7Cn0sIFtdKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>useEffect(() =&gt; {
  axios.get('https://jsonplaceholder.typicode.com/posts')
    .then(response =&gt; {
      setData(response.data);
      setLoading(false);
    })
    .catch(error =&gt; {
      console.error('Hubo un problema con la solicitud axios:', error);
      setLoading(false);
    });
}, []);</pre></div><div class='content'></div><h1>Técnicas Avanzadas</h1>
<div class='content'></div><h2>Usando Async/Await</h2>
<div class='content'><p>La sintaxis async/await hace que el código asíncrono se vea y se comporte más como código síncrono, lo cual es más fácil de leer y depurar.</p>
<h4>Ejemplo: Obteniendo Datos con Async/Await</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlRWZmZWN0KCgpID0+IHsKICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnKTsKICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgIHRocm93IG5ldyBFcnJvcignTGEgcmVzcHVlc3RhIGRlIGxhIHJlZCBubyBmdWUgc2F0aXNmYWN0b3JpYScpOwogICAgICB9CiAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgIHNldERhdGEoanNvbik7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCdIdWJvIHVuIHByb2JsZW1hIGNvbiBsYSBvcGVyYWNpw7NuIGZldGNoOicsIGVycm9yKTsKICAgIH0gZmluYWxseSB7CiAgICAgIHNldExvYWRpbmcoZmFsc2UpOwogICAgfQogIH07CgogIGZldGNoRGF0YSgpOwp9LCBbXSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>useEffect(() =&gt; {
  const fetchData = async () =&gt; {
    try {
      const response = await fetch('https://jsonplaceholder.typicode.com/posts');
      if (!response.ok) {
        throw new Error('La respuesta de la red no fue satisfactoria');
      }
      const json = await response.json();
      setData(json);
    } catch (error) {
      console.error('Hubo un problema con la operaci&oacute;n fetch:', error);
    } finally {
      setLoading(false);
    }
  };

  fetchData();
}, []);</pre></div><div class='content'></div><h2>Usando Axios con Async/Await</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlRWZmZWN0KCgpID0+IHsKICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJyk7CiAgICAgIHNldERhdGEocmVzcG9uc2UuZGF0YSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCdIdWJvIHVuIHByb2JsZW1hIGNvbiBsYSBzb2xpY2l0dWQgYXhpb3M6JywgZXJyb3IpOwogICAgfSBmaW5hbGx5IHsKICAgICAgc2V0TG9hZGluZyhmYWxzZSk7CiAgICB9CiAgfTsKCiAgZmV0Y2hEYXRhKCk7Cn0sIFtdKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>useEffect(() =&gt; {
  const fetchData = async () =&gt; {
    try {
      const response = await axios.get('https://jsonplaceholder.typicode.com/posts');
      setData(response.data);
    } catch (error) {
      console.error('Hubo un problema con la solicitud axios:', error);
    } finally {
      setLoading(false);
    }
  };

  fetchData();
}, []);</pre></div><div class='content'></div><h1>Resumen</h1>
<div class='content'><p>El manejo de respuestas de API en React Native implica entender los métodos HTTP, los códigos de estado y JSON. Puedes usar la API Fetch o Axios para realizar solicitudes de red. El manejo adecuado de errores y el uso de la sintaxis async/await pueden ayudar a que tu código sea más legible y robusto. Al dominar estas técnicas, puedes construir aplicaciones más confiables y amigables para el usuario.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
