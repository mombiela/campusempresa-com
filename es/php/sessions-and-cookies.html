<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sesiones y Cookies en PHP</title>

    <link rel="alternate" href="https://campusempresa.com/es/php/sessions-and-cookies" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/php/sessions-and-cookies" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/php/sessions-and-cookies" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/php/sessions-and-cookies" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='php-standard-library'>&#x25C4;Biblioteca Estándar de PHP (SPL)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Sesiones y Cookies en PHP</a>
	</div>
	<div class='col-4 text-end'>
					<a href='working-with-apis'>Trabajando con APIs &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En el desarrollo web, gestionar el estado y los datos del usuario a través de múltiples páginas es crucial. PHP ofrece dos mecanismos principales para esto: Sesiones y Cookies. Esta sección cubrirá los conceptos básicos de ambos, cómo usarlos y sus diferencias.</p>
</div><h1>Cookies</h1>
<div class='content'><p>Las cookies son pequeños fragmentos de datos almacenados en el navegador del cliente. Se utilizan para recordar información sobre el usuario entre solicitudes.</p>
</div><h2>Configuración de una Cookie</h2>
<div class='content'><p>Para configurar una cookie en PHP, usa la función <code>setcookie()</code>. Aquí hay un ejemplo básico:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKLy8gQ29uZmlndXJhciB1bmEgY29va2llIGxsYW1hZGEgInVzZXIiIGNvbiBlbCB2YWxvciAiSm9obiBEb2UiIHF1ZSBleHBpcmEgZW4gMzAgZMOtYXMKc2V0Y29va2llKCJ1c2VyIiwgIkpvaG4gRG9lIiwgdGltZSgpICsgKDg2NDAwICogMzApLCAiLyIpOyAvLyA4NjQwMCA9IDEgZMOtYQo/Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
// Configurar una cookie llamada &quot;user&quot; con el valor &quot;John Doe&quot; que expira en 30 d&iacute;as
setcookie(&quot;user&quot;, &quot;John Doe&quot;, time() + (86400 * 30), &quot;/&quot;); // 86400 = 1 d&iacute;a
?&gt;</pre></div><div class='content'></div><h2>Recuperación de una Cookie</h2>
<div class='content'><p>Para recuperar una cookie, simplemente accede al array superglobal <code>$_COOKIE</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKaWYoaXNzZXQoJF9DT09LSUVbInVzZXIiXSkpIHsKICAgIGVjaG8gIlVzZXIgaXMgIiAuICRfQ09PS0lFWyJ1c2VyIl07Cn0gZWxzZSB7CiAgICBlY2hvICJVc2VyIGlzIG5vdCBzZXQiOwp9Cj8+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
if(isset($_COOKIE[&quot;user&quot;])) {
    echo &quot;User is &quot; . $_COOKIE[&quot;user&quot;];
} else {
    echo &quot;User is not set&quot;;
}
?&gt;</pre></div><div class='content'></div><h2>Eliminación de una Cookie</h2>
<div class='content'><p>Para eliminar una cookie, establece su fecha de expiración en un tiempo pasado:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKLy8gRWxpbWluYXIgbGEgY29va2llIGxsYW1hZGEgInVzZXIiCnNldGNvb2tpZSgidXNlciIsICIiLCB0aW1lKCkgLSAzNjAwLCAiLyIpOwo/Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
// Eliminar la cookie llamada &quot;user&quot;
setcookie(&quot;user&quot;, &quot;&quot;, time() - 3600, &quot;/&quot;);
?&gt;</pre></div><div class='content'></div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Duración</strong>: Las cookies pueden tener una fecha de expiración, después de la cual se eliminan automáticamente.</li>
<li><strong>Alcance</strong>: Las cookies pueden estar limitadas a una ruta o dominio específico.</li>
<li><strong>Seguridad</strong>: Las cookies pueden ser seguras configurando las banderas <code>Secure</code> y <code>HttpOnly</code>.</li>
</ul>
</div><h1>Sesiones</h1>
<div class='content'><p>Las sesiones almacenan datos en el servidor y usan un identificador único (ID de sesión) para vincular al cliente con los datos almacenados.</p>
</div><h2>Iniciar una Sesión</h2>
<div class='content'><p>Para iniciar una sesión, usa la función <code>session_start()</code>. Esto debe llamarse al principio del script:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKc2Vzc2lvbl9zdGFydCgpOwo/Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
session_start();
?&gt;</pre></div><div class='content'></div><h2>Configuración de Variables de Sesión</h2>
<div class='content'><p>Para configurar variables de sesión, usa el array superglobal <code>$_SESSION</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKc2Vzc2lvbl9zdGFydCgpOwokX1NFU1NJT05bInVzZXJuYW1lIl0gPSAiSm9obkRvZSI7CiRfU0VTU0lPTlsiZW1haWwiXSA9ICJqb2huQGV4YW1wbGUuY29tIjsKPz4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
session_start();
$_SESSION[&quot;username&quot;] = &quot;JohnDoe&quot;;
$_SESSION[&quot;email&quot;] = &quot;john@example.com&quot;;
?&gt;</pre></div><div class='content'></div><h2>Recuperación de Variables de Sesión</h2>
<div class='content'><p>Para recuperar variables de sesión, accede al array <code>$_SESSION</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKc2Vzc2lvbl9zdGFydCgpOwplY2hvICJVc2VybmFtZTogIiAuICRfU0VTU0lPTlsidXNlcm5hbWUiXTsKZWNobyAiRW1haWw6ICIgLiAkX1NFU1NJT05bImVtYWlsIl07Cj8+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
session_start();
echo &quot;Username: &quot; . $_SESSION[&quot;username&quot;];
echo &quot;Email: &quot; . $_SESSION[&quot;email&quot;];
?&gt;</pre></div><div class='content'></div><h2>Destruir una Sesión</h2>
<div class='content'><p>Para destruir una sesión y eliminar todos los datos de la sesión, usa <code>session_destroy()</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKc2Vzc2lvbl9zdGFydCgpOwpzZXNzaW9uX2Rlc3Ryb3koKTsKPz4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
session_start();
session_destroy();
?&gt;</pre></div><div class='content'></div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Duración</strong>: Las sesiones duran hasta que el navegador se cierra o la sesión se destruye explícitamente.</li>
<li><strong>Almacenamiento</strong>: Los datos de la sesión se almacenan en el servidor, lo que los hace más seguros que las cookies.</li>
<li><strong>ID de Sesión</strong>: Un identificador único que vincula al cliente con los datos de la sesión.</li>
</ul>
</div><h1>Comparación de Sesiones y Cookies</h1>
<div class='content'><p>| Característica   | Cookies                                      | Sesiones                                      |
|------------------|----------------------------------------------|-----------------------------------------------|
| Ubicación de Almacenamiento | Lado del cliente (navegador)              | Lado del servidor                             |
| Seguridad        | Menos seguro (puede ser manipulado)          | Más seguro (datos almacenados en el servidor) |
| Duración         | Puede configurarse para expirar en un tiempo específico | Dura hasta que el navegador se cierra o se destruye |
| Tamaño de Datos  | Limitado a 4KB                               | Sin límite de tamaño (depende de la configuración del servidor) |
| Casos de Uso     | Recordar preferencias del usuario, seguimiento | Almacenar estado de inicio de sesión del usuario, datos del carrito de compras |</p>
</div><h1>Conclusión</h1>
<div class='content'><p>Las sesiones y las cookies son herramientas esenciales para gestionar el estado y los datos del usuario en aplicaciones PHP. Las cookies son útiles para almacenar pequeñas cantidades de datos en el lado del cliente, mientras que las sesiones son más adecuadas para almacenar datos sensibles de manera segura en el lado del servidor. Entender cuándo y cómo usar cada una te ayudará a construir aplicaciones web más robustas y seguras.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='php-standard-library'>&#x25C4;Biblioteca Estándar de PHP (SPL)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Sesiones y Cookies en PHP</a>
	</div>
	<div class='col-4 text-end'>
					<a href='working-with-apis'>Trabajando con APIs &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
