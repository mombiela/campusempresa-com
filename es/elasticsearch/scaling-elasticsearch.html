<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escalado de Elasticsearch</title>

    <link rel="alternate" href="https://campusempresa.com/es/elasticsearch/scaling-elasticsearch" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/elasticsearch/scaling-elasticsearch" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/elasticsearch/scaling-elasticsearch" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/elasticsearch/scaling-elasticsearch" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='search-performance'>&#x25C4; Rendimiento de Búsqueda</a></div><div class='col-6 text-end'><a href='monitoring-and-maintenance'>Monitoreo y Mantenimiento &#x25BA;</a></div></div><div class='content'><p>Escalar Elasticsearch es un tema crítico para asegurar que tu motor de búsqueda y análisis pueda manejar cantidades crecientes de datos y consultas de manera eficiente. Esta sección te guiará a través de los conceptos, estrategias y mejores prácticas para escalar Elasticsearch desde un nivel principiante hasta uno avanzado.</p>
</div><h1>Introducción al Escalado</h1>
<div class='content'><ul>
<li>
<p><strong>¿Qué es el Escalado?</strong></p>
<ul>
<li>El escalado se refiere al proceso de aumentar la capacidad de tu clúster de Elasticsearch para manejar más datos y mayores cargas de consultas.</li>
<li>Dos tipos de escalado: Escalado Vertical (Escalar hacia Arriba) y Escalado Horizontal (Escalar hacia Afuera).</li>
</ul>
</li>
<li>
<p><strong>¿Por qué Escalar Elasticsearch?</strong></p>
<ul>
<li>Para mejorar el rendimiento.</li>
<li>Para manejar conjuntos de datos más grandes.</li>
<li>Para asegurar alta disponibilidad y tolerancia a fallos.</li>
</ul>
</li>
</ul>
</div><h1>Escalado Vertical</h1>
<div class='content'><ul>
<li>
<p><strong>Definición:</strong></p>
<ul>
<li>El escalado vertical implica agregar más recursos (CPU, RAM, Disco) a los nodos existentes.</li>
</ul>
</li>
<li>
<p><strong>Pros:</strong></p>
<ul>
<li>Simplicidad: Más fácil de implementar ya que implica actualizar el hardware existente.</li>
<li>No es necesario gestionar nodos adicionales.</li>
</ul>
</li>
<li>
<p><strong>Contras:</strong></p>
<ul>
<li>Limitado por la capacidad máxima de una sola máquina.</li>
<li>Puede volverse costoso.</li>
</ul>
</li>
<li>
<p><strong>Ejemplo:</strong></p>
<pre><code class="language-yaml"># Ejemplo de aumento del tamaño del heap en elasticsearch.yml
# Ruta: /etc/elasticsearch/elasticsearch.yml
#
# Establecer el tamaño del heap a 4GB
ES_HEAP_SIZE=4g
</code></pre>
</li>
</ul>
</div><h1>Escalado Horizontal</h1>
<div class='content'><ul>
<li>
<p><strong>Definición:</strong></p>
<ul>
<li>El escalado horizontal implica agregar más nodos al clúster.</li>
</ul>
</li>
<li>
<p><strong>Pros:</strong></p>
<ul>
<li>Mejor tolerancia a fallos: Si un nodo falla, otros pueden tomar el relevo.</li>
<li>Puede manejar conjuntos de datos más grandes y mayores cargas de consultas.</li>
</ul>
</li>
<li>
<p><strong>Contras:</strong></p>
<ul>
<li>Más complejo de gestionar.</li>
<li>Requiere una configuración y monitoreo adecuados.</li>
</ul>
</li>
<li>
<p><strong>Conceptos Clave:</strong></p>
<ul>
<li><strong>Sharding:</strong>
<ul>
<li>Elasticsearch divide los índices en piezas más pequeñas llamadas shards.</li>
<li>Cada shard es un índice autónomo que puede alojarse en cualquier nodo del clúster.</li>
</ul>
</li>
<li><strong>Replicación:</strong>
<ul>
<li>Cada shard puede tener una o más réplicas.</li>
<li>Las réplicas proporcionan alta disponibilidad y tolerancia a fallos.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Ejemplo:</strong></p>
<pre><code class="language-json">// Ejemplo de creación de un índice con 3 shards primarios y 2 réplicas
PUT /my_index
{
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 3,
    &quot;number_of_replicas&quot;: 2
  }
}
</code></pre>
</li>
</ul>
</div><h1>Mejores Prácticas para Escalar</h1>
<div class='content'><ul>
<li>
<p><strong>Monitorear la Salud del Clúster:</strong></p>
<ul>
<li>Usa herramientas como Kibana, Cerebro o las propias APIs de Elasticsearch para monitorear la salud del clúster.</li>
<li>Métricas clave a monitorear: uso de CPU, uso de memoria, I/O de disco y I/O de red.</li>
</ul>
</li>
<li>
<p><strong>Optimizar la Indexación:</strong></p>
<ul>
<li>Usa solicitudes bulk para indexar grandes cantidades de datos.</li>
<li>Desactiva la actualización y la replicación durante la indexación bulk para mejorar el rendimiento.</li>
</ul>
</li>
<li>
<p><strong>Gestión de Shards:</strong></p>
<ul>
<li>Evita tener demasiados shards pequeños; apunta a tamaños de shard entre 10GB y 50GB.</li>
<li>Reindexa los datos si es necesario para ajustar el número de shards.</li>
</ul>
</li>
<li>
<p><strong>Configuración de Nodos:</strong></p>
<ul>
<li>Asegúrate de que los nodos tengan un tamaño de heap suficiente (50% de la RAM disponible, pero no más de 32GB).</li>
<li>Usa SSDs para un mejor rendimiento de I/O de disco.</li>
</ul>
</li>
</ul>
</div><h1>Técnicas Avanzadas de Escalado</h1>
<div class='content'><ul>
<li>
<p><strong>Búsqueda entre Clústeres:</strong></p>
<ul>
<li>Permite realizar consultas a través de múltiples clústeres.</li>
<li>Útil para clústeres distribuidos geográficamente.</li>
</ul>
</li>
<li>
<p><strong>Gestión del Ciclo de Vida de los Índices (ILM):</strong></p>
<ul>
<li>Automatiza tareas de gestión de índices como rollover, shrink y delete.</li>
<li>Ayuda a gestionar grandes conjuntos de datos de manera eficiente.</li>
</ul>
</li>
<li>
<p><strong>Snapshot y Restore:</strong></p>
<ul>
<li>Toma snapshots regularmente de tus índices para respaldo.</li>
<li>Usa snapshots para restaurar datos en caso de fallos.</li>
</ul>
</li>
<li>
<p><strong>Conciencia de Asignación de Clúster:</strong></p>
<ul>
<li>Configura Elasticsearch para que sea consciente de la ubicación física de los nodos.</li>
<li>Ayuda a distribuir shards a través de diferentes racks o zonas de disponibilidad.</li>
</ul>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Escalar Elasticsearch es esencial para mantener el rendimiento y la fiabilidad a medida que tus datos y cargas de consultas crecen. Al entender e implementar tanto estrategias de escalado vertical como horizontal, monitorear la salud del clúster y seguir las mejores prácticas, puedes asegurar que tu clúster de Elasticsearch permanezca robusto y eficiente. Técnicas avanzadas como la búsqueda entre clústeres y la gestión del ciclo de vida de los índices mejoran aún más tu capacidad para gestionar implementaciones a gran escala de manera efectiva.</p>
</div><div class='row navigation'><div class='col-6'><a href='search-performance'>&#x25C4; Rendimiento de Búsqueda</a></div><div class='col-6 text-end'><a href='monitoring-and-maintenance'>Monitoreo y Mantenimiento &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
