<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analizadores Personalizados</title>

    <link rel="alternate" href="https://campusempresa.com/es/elasticsearch/custom-analyzers" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/elasticsearch/custom-analyzers" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/elasticsearch/custom-analyzers" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/elasticsearch/custom-analyzers" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='elasticsearch-machine-learning'>&#x25C4;Elasticsearch con Aprendizaje Automático</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Analizadores Personalizados</a>
	</div>
	<div class='col-4 text-end'>
					<a href='index-templates'>Plantillas de Índice &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En esta sección, exploraremos los analizadores personalizados en Elasticsearch. Los analizadores son componentes esenciales en Elasticsearch que procesan texto durante la indexación y la búsqueda. Los analizadores personalizados te permiten adaptar el proceso de análisis de texto para satisfacer tus necesidades específicas.</p>
</div><h1>¿Qué es un Analizador?</h1>
<div class='content'><p>Un analizador en Elasticsearch es una combinación de:</p>
<ul>
<li><strong>Filtros de caracteres</strong>: Modifican el flujo de caracteres antes de la tokenización.</li>
<li><strong>Tokenizador</strong>: Divide el flujo de caracteres en tokens.</li>
<li><strong>Filtros de tokens</strong>: Modifican, añaden o eliminan tokens.</li>
</ul>
</div><h1>Analizadores Integrados vs. Personalizados</h1>
<div class='content'><p>Elasticsearch proporciona varios analizadores integrados, pero a veces pueden no cumplir con tus requisitos específicos. Los analizadores personalizados te permiten definir tu propia combinación de filtros de caracteres, tokenizadores y filtros de tokens.</p>
</div><h2>Analizadores Integrados</h2>
<div class='content'><p>Algunos analizadores integrados comunes incluyen:</p>
<ul>
<li><strong>Analizador Estándar</strong>: El analizador predeterminado que proporciona un buen equilibrio para la mayoría de los casos de uso.</li>
<li><strong>Analizador de Espacios en Blanco</strong>: Tokeniza el texto basado en espacios en blanco.</li>
<li><strong>Analizador de Palabras Clave</strong>: Trata toda la entrada como un solo token.</li>
</ul>
</div><h2>Analizadores Personalizados</h2>
<div class='content'><p>Los analizadores personalizados se definen en la configuración del índice y permiten un control más granular sobre el proceso de análisis de texto.</p>
</div><h1>Creando un Analizador Personalizado</h1>
<div class='content'><p>Para crear un analizador personalizado, necesitas definirlo en la configuración del índice. Aquí tienes una guía paso a paso:</p>
</div><h2>Paso 1: Definir Filtros de Caracteres</h2>
<div class='content'><p>Los filtros de caracteres preprocesan el texto antes de la tokenización. Por ejemplo, podrías querer eliminar etiquetas HTML o normalizar ciertos caracteres.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ImNoYXJfZmlsdGVyIjogewogICJodG1sX3N0cmlwIjogewogICAgInR5cGUiOiAiaHRtbF9zdHJpcCIKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&quot;char_filter&quot;: {
  &quot;html_strip&quot;: {
    &quot;type&quot;: &quot;html_strip&quot;
  }
}</pre></div><div class='content'></div><h2>Paso 2: Definir un Tokenizador</h2>
<div class='content'><p>El tokenizador divide el texto en tokens. Los tokenizadores comunes incluyen <code>standard</code>, <code>whitespace</code> y <code>keyword</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("InRva2VuaXplciI6IHsKICAibXlfdG9rZW5pemVyIjogewogICAgInR5cGUiOiAic3RhbmRhcmQiCiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&quot;tokenizer&quot;: {
  &quot;my_tokenizer&quot;: {
    &quot;type&quot;: &quot;standard&quot;
  }
}</pre></div><div class='content'></div><h2>Paso 3: Definir Filtros de Tokens</h2>
<div class='content'><p>Los filtros de tokens procesan los tokens generados por el tokenizador. Pueden modificar, añadir o eliminar tokens.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ImZpbHRlciI6IHsKICAibG93ZXJjYXNlX2ZpbHRlciI6IHsKICAgICJ0eXBlIjogImxvd2VyY2FzZSIKICB9LAogICJzdG9wX2ZpbHRlciI6IHsKICAgICJ0eXBlIjogInN0b3AiLAogICAgInN0b3B3b3JkcyI6IFsidGhlIiwgImEiLCAiYW4iXQogIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&quot;filter&quot;: {
  &quot;lowercase_filter&quot;: {
    &quot;type&quot;: &quot;lowercase&quot;
  },
  &quot;stop_filter&quot;: {
    &quot;type&quot;: &quot;stop&quot;,
    &quot;stopwords&quot;: [&quot;the&quot;, &quot;a&quot;, &quot;an&quot;]
  }
}</pre></div><div class='content'></div><h2>Paso 4: Combinarlos en un Analizador</h2>
<div class='content'><p>Finalmente, combina los filtros de caracteres, el tokenizador y los filtros de tokens en un analizador personalizado.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ImFuYWx5c2lzIjogewogICJjaGFyX2ZpbHRlciI6IHsKICAgICJodG1sX3N0cmlwIjogewogICAgICAidHlwZSI6ICJodG1sX3N0cmlwIgogICAgfQogIH0sCiAgInRva2VuaXplciI6IHsKICAgICJteV90b2tlbml6ZXIiOiB7CiAgICAgICJ0eXBlIjogInN0YW5kYXJkIgogICAgfQogIH0sCiAgImZpbHRlciI6IHsKICAgICJsb3dlcmNhc2VfZmlsdGVyIjogewogICAgICAidHlwZSI6ICJsb3dlcmNhc2UiCiAgICB9LAogICAgInN0b3BfZmlsdGVyIjogewogICAgICAidHlwZSI6ICJzdG9wIiwKICAgICAgInN0b3B3b3JkcyI6IFsidGhlIiwgImEiLCAiYW4iXQogICAgfQogIH0sCiAgImFuYWx5emVyIjogewogICAgImN1c3RvbV9hbmFseXplciI6IHsKICAgICAgInR5cGUiOiAiY3VzdG9tIiwKICAgICAgImNoYXJfZmlsdGVyIjogWyJodG1sX3N0cmlwIl0sCiAgICAgICJ0b2tlbml6ZXIiOiAibXlfdG9rZW5pemVyIiwKICAgICAgImZpbHRlciI6IFsibG93ZXJjYXNlX2ZpbHRlciIsICJzdG9wX2ZpbHRlciJdCiAgICB9CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&quot;analysis&quot;: {
  &quot;char_filter&quot;: {
    &quot;html_strip&quot;: {
      &quot;type&quot;: &quot;html_strip&quot;
    }
  },
  &quot;tokenizer&quot;: {
    &quot;my_tokenizer&quot;: {
      &quot;type&quot;: &quot;standard&quot;
    }
  },
  &quot;filter&quot;: {
    &quot;lowercase_filter&quot;: {
      &quot;type&quot;: &quot;lowercase&quot;
    },
    &quot;stop_filter&quot;: {
      &quot;type&quot;: &quot;stop&quot;,
      &quot;stopwords&quot;: [&quot;the&quot;, &quot;a&quot;, &quot;an&quot;]
    }
  },
  &quot;analyzer&quot;: {
    &quot;custom_analyzer&quot;: {
      &quot;type&quot;: &quot;custom&quot;,
      &quot;char_filter&quot;: [&quot;html_strip&quot;],
      &quot;tokenizer&quot;: &quot;my_tokenizer&quot;,
      &quot;filter&quot;: [&quot;lowercase_filter&quot;, &quot;stop_filter&quot;]
    }
  }
}</pre></div><div class='content'></div><h2>Ejemplo Completo</h2>
<div class='content'><p>Aquí tienes un ejemplo completo de cómo crear un índice con un analizador personalizado:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIC9teV9pbmRleAp7CiAgInNldHRpbmdzIjogewogICAgImFuYWx5c2lzIjogewogICAgICAiY2hhcl9maWx0ZXIiOiB7CiAgICAgICAgImh0bWxfc3RyaXAiOiB7CiAgICAgICAgICAidHlwZSI6ICJodG1sX3N0cmlwIgogICAgICAgIH0KICAgICAgfSwKICAgICAgInRva2VuaXplciI6IHsKICAgICAgICAibXlfdG9rZW5pemVyIjogewogICAgICAgICAgInR5cGUiOiAic3RhbmRhcmQiCiAgICAgICAgfQogICAgICB9LAogICAgICAiZmlsdGVyIjogewogICAgICAgICJsb3dlcmNhc2VfZmlsdGVyIjogewogICAgICAgICAgInR5cGUiOiAibG93ZXJjYXNlIgogICAgICAgIH0sCiAgICAgICAgInN0b3BfZmlsdGVyIjogewogICAgICAgICAgInR5cGUiOiAic3RvcCIsCiAgICAgICAgICAic3RvcHdvcmRzIjogWyJ0aGUiLCAiYSIsICJhbiJdCiAgICAgICAgfQogICAgICB9LAogICAgICAiYW5hbHl6ZXIiOiB7CiAgICAgICAgImN1c3RvbV9hbmFseXplciI6IHsKICAgICAgICAgICJ0eXBlIjogImN1c3RvbSIsCiAgICAgICAgICAiY2hhcl9maWx0ZXIiOiBbImh0bWxfc3RyaXAiXSwKICAgICAgICAgICJ0b2tlbml6ZXIiOiAibXlfdG9rZW5pemVyIiwKICAgICAgICAgICJmaWx0ZXIiOiBbImxvd2VyY2FzZV9maWx0ZXIiLCAic3RvcF9maWx0ZXIiXQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgIm1hcHBpbmdzIjogewogICAgInByb3BlcnRpZXMiOiB7CiAgICAgICJjb250ZW50IjogewogICAgICAgICJ0eXBlIjogInRleHQiLAogICAgICAgICJhbmFseXplciI6ICJjdXN0b21fYW5hbHl6ZXIiCiAgICAgIH0KICAgIH0KICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT /my_index
{
  &quot;settings&quot;: {
    &quot;analysis&quot;: {
      &quot;char_filter&quot;: {
        &quot;html_strip&quot;: {
          &quot;type&quot;: &quot;html_strip&quot;
        }
      },
      &quot;tokenizer&quot;: {
        &quot;my_tokenizer&quot;: {
          &quot;type&quot;: &quot;standard&quot;
        }
      },
      &quot;filter&quot;: {
        &quot;lowercase_filter&quot;: {
          &quot;type&quot;: &quot;lowercase&quot;
        },
        &quot;stop_filter&quot;: {
          &quot;type&quot;: &quot;stop&quot;,
          &quot;stopwords&quot;: [&quot;the&quot;, &quot;a&quot;, &quot;an&quot;]
        }
      },
      &quot;analyzer&quot;: {
        &quot;custom_analyzer&quot;: {
          &quot;type&quot;: &quot;custom&quot;,
          &quot;char_filter&quot;: [&quot;html_strip&quot;],
          &quot;tokenizer&quot;: &quot;my_tokenizer&quot;,
          &quot;filter&quot;: [&quot;lowercase_filter&quot;, &quot;stop_filter&quot;]
        }
      }
    }
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;content&quot;: {
        &quot;type&quot;: &quot;text&quot;,
        &quot;analyzer&quot;: &quot;custom_analyzer&quot;
      }
    }
  }
}</pre></div><div class='content'></div><h1>Probando tu Analizador Personalizado</h1>
<div class='content'><p>Puedes probar tu analizador personalizado usando la API <code>_analyze</code> para asegurarte de que funciona como se espera.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UE9TVCAvbXlfaW5kZXgvX2FuYWx5emUKewogICJhbmFseXplciI6ICJjdXN0b21fYW5hbHl6ZXIiLAogICJ0ZXh0IjogIjxwPlRoZSBxdWljayBicm93biBmb3gganVtcHMgb3ZlciB0aGUgbGF6eSBkb2cuPC9wPiIKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>POST /my_index/_analyze
{
  &quot;analyzer&quot;: &quot;custom_analyzer&quot;,
  &quot;text&quot;: &quot;&lt;p&gt;The quick brown fox jumps over the lazy dog.&lt;/p&gt;&quot;
}</pre></div><div class='content'><p>Salida esperada:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJ0b2tlbnMiOiBbCiAgICB7CiAgICAgICJ0b2tlbiI6ICJxdWljayIsCiAgICAgICJzdGFydF9vZmZzZXQiOiA0LAogICAgICAiZW5kX29mZnNldCI6IDksCiAgICAgICJ0eXBlIjogIjxBTFBIQU5VTT4iLAogICAgICAicG9zaXRpb24iOiAxCiAgICB9LAogICAgewogICAgICAidG9rZW4iOiAiYnJvd24iLAogICAgICAic3RhcnRfb2Zmc2V0IjogMTAsCiAgICAgICJlbmRfb2Zmc2V0IjogMTUsCiAgICAgICJ0eXBlIjogIjxBTFBIQU5VTT4iLAogICAgICAicG9zaXRpb24iOiAyCiAgICB9LAogICAgewogICAgICAidG9rZW4iOiAiZm94IiwKICAgICAgInN0YXJ0X29mZnNldCI6IDE2LAogICAgICAiZW5kX29mZnNldCI6IDE5LAogICAgICAidHlwZSI6ICI8QUxQSEFOVU0+IiwKICAgICAgInBvc2l0aW9uIjogMwogICAgfSwKICAgIHsKICAgICAgInRva2VuIjogImp1bXBzIiwKICAgICAgInN0YXJ0X29mZnNldCI6IDIwLAogICAgICAiZW5kX29mZnNldCI6IDI1LAogICAgICAidHlwZSI6ICI8QUxQSEFOVU0+IiwKICAgICAgInBvc2l0aW9uIjogNAogICAgfSwKICAgIHsKICAgICAgInRva2VuIjogIm92ZXIiLAogICAgICAic3RhcnRfb2Zmc2V0IjogMjYsCiAgICAgICJlbmRfb2Zmc2V0IjogMzAsCiAgICAgICJ0eXBlIjogIjxBTFBIQU5VTT4iLAogICAgICAicG9zaXRpb24iOiA1CiAgICB9LAogICAgewogICAgICAidG9rZW4iOiAibGF6eSIsCiAgICAgICJzdGFydF9vZmZzZXQiOiAzNCwKICAgICAgImVuZF9vZmZzZXQiOiAzOCwKICAgICAgInR5cGUiOiAiPEFMUEhBTlVNPiIsCiAgICAgICJwb3NpdGlvbiI6IDYKICAgIH0sCiAgICB7CiAgICAgICJ0b2tlbiI6ICJkb2ciLAogICAgICAic3RhcnRfb2Zmc2V0IjogMzksCiAgICAgICJlbmRfb2Zmc2V0IjogNDIsCiAgICAgICJ0eXBlIjogIjxBTFBIQU5VTT4iLAogICAgICAicG9zaXRpb24iOiA3CiAgICB9CiAgXQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;tokens&quot;: [
    {
      &quot;token&quot;: &quot;quick&quot;,
      &quot;start_offset&quot;: 4,
      &quot;end_offset&quot;: 9,
      &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,
      &quot;position&quot;: 1
    },
    {
      &quot;token&quot;: &quot;brown&quot;,
      &quot;start_offset&quot;: 10,
      &quot;end_offset&quot;: 15,
      &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,
      &quot;position&quot;: 2
    },
    {
      &quot;token&quot;: &quot;fox&quot;,
      &quot;start_offset&quot;: 16,
      &quot;end_offset&quot;: 19,
      &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,
      &quot;position&quot;: 3
    },
    {
      &quot;token&quot;: &quot;jumps&quot;,
      &quot;start_offset&quot;: 20,
      &quot;end_offset&quot;: 25,
      &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,
      &quot;position&quot;: 4
    },
    {
      &quot;token&quot;: &quot;over&quot;,
      &quot;start_offset&quot;: 26,
      &quot;end_offset&quot;: 30,
      &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,
      &quot;position&quot;: 5
    },
    {
      &quot;token&quot;: &quot;lazy&quot;,
      &quot;start_offset&quot;: 34,
      &quot;end_offset&quot;: 38,
      &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,
      &quot;position&quot;: 6
    },
    {
      &quot;token&quot;: &quot;dog&quot;,
      &quot;start_offset&quot;: 39,
      &quot;end_offset&quot;: 42,
      &quot;type&quot;: &quot;&lt;ALPHANUM&gt;&quot;,
      &quot;position&quot;: 7
    }
  ]
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Los analizadores personalizados en Elasticsearch proporcionan herramientas poderosas para adaptar el análisis de texto a tus necesidades específicas. Al combinar filtros de caracteres, tokenizadores y filtros de tokens, puedes crear analizadores sofisticados que mejoran la precisión y relevancia de tus resultados de búsqueda. Comprender y utilizar analizadores personalizados puede mejorar significativamente el rendimiento y las capacidades de tus aplicaciones de Elasticsearch.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='elasticsearch-machine-learning'>&#x25C4;Elasticsearch con Aprendizaje Automático</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Analizadores Personalizados</a>
	</div>
	<div class='col-4 text-end'>
					<a href='index-templates'>Plantillas de Índice &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
