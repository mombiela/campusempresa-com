<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interfaz con los Servicios del Sistema OpenVMS</title>

    <link rel="alternate" href="https://campusempresa.com/es/vms/interfacing-with-openvms-system-services" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/vms/interfacing-with-openvms-system-services" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/vms/interfacing-with-openvms-system-services" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/vms/interfacing-with-openvms-system-services" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Interfaz con los servicios del sistema OpenVMS es una habilidad crucial para los desarrolladores que trabajan en un entorno OpenVMS. Este tema cubrirá los conceptos básicos de los servicios del sistema, cómo llamarlos desde varios lenguajes de programación y técnicas avanzadas para un uso eficiente y efectivo.</p>
</div><h1>¿Qué son los Servicios del Sistema OpenVMS?</h1>
<div class='content'><ul>
<li><strong>Definición</strong>: Los servicios del sistema son rutinas proporcionadas por el sistema operativo OpenVMS que realizan varias operaciones a nivel del sistema.</li>
<li><strong>Propósito</strong>: Permiten que los programas interactúen con el sistema operativo para realizar tareas como operaciones de archivos, control de procesos y comunicación entre procesos.</li>
</ul>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Llamadas a Servicios del Sistema</strong>: Funciones proporcionadas por el SO para realizar tareas específicas.</li>
<li><strong>Descriptores</strong>: Estructuras utilizadas para pasar datos hacia y desde los servicios del sistema.</li>
<li><strong>Valores de Condición</strong>: Códigos de retorno de los servicios del sistema que indican éxito o fracaso.</li>
</ul>
</div><h1>Llamando a los Servicios del Sistema en Diferentes Lenguajes</h1>
<div class='content'></div><h2>Usando C</h2>
<div class='content'><p>En C, los servicios del sistema se llaman usando el prefijo <code>sys$</code> seguido del nombre del servicio.</p>
<h4>Ejemplo: Creando un Proceso</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGRlc2NyaXAuaD4KI2luY2x1ZGUgPGxpYiRyb3V0aW5lcy5oPgojaW5jbHVkZSA8c3NkZWYuaD4KI2luY2x1ZGUgPHN0YXJsZXQuaD4KCmludCBtYWluKCkgewogICAgc3RydWN0IGRzYyRkZXNjcmlwdG9yX3MgcHJvY2Vzc19uYW1lOwogICAgJERFU0NSSVBUT1IocHJvY2Vzc19uYW1lLCAiTVlfUFJPQ0VTUyIpOwoKICAgIHVuc2lnbmVkIGxvbmcgc3RhdHVzID0gc3lzJGNyZXByYygmcHJvY2Vzc19uYW1lLCAuLi4pOwoKICAgIGlmICgkVk1TX1NUQVRVU19TVUNDRVNTKHN0YXR1cykpIHsKICAgICAgICBwcmludGYoIlByb2Nlc28gY3JlYWRvIGV4aXRvc2FtZW50ZS5cbiIpOwogICAgfSBlbHNlIHsKICAgICAgICBwcmludGYoIkVycm9yIGFsIGNyZWFyIGVsIHByb2Nlc286ICVseFxuIiwgc3RhdHVzKTsKICAgIH0KCiAgICByZXR1cm4gMDsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;descrip.h&gt;
#include &lt;lib$routines.h&gt;
#include &lt;ssdef.h&gt;
#include &lt;starlet.h&gt;

int main() {
    struct dsc$descriptor_s process_name;
    $DESCRIPTOR(process_name, &quot;MY_PROCESS&quot;);

    unsigned long status = sys$creprc(&amp;process_name, ...);

    if ($VMS_STATUS_SUCCESS(status)) {
        printf(&quot;Proceso creado exitosamente.\n&quot;);
    } else {
        printf(&quot;Error al crear el proceso: %lx\n&quot;, status);
    }

    return 0;
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>dsc$descriptor_s</code>: Estructura de descriptor para pasar cadenas.</li>
<li><code>sys$creprc</code>: Servicio del sistema para crear un proceso.</li>
<li><code>$VMS_STATUS_SUCCESS</code>: Macro para verificar si el estado indica éxito.</li>
</ul>
</li>
</ul>
</div><h2>Usando Fortran</h2>
<div class='content'><p>En Fortran, los servicios del sistema se llaman usando la instrucción <code>CALL</code>.</p>
<h4>Ejemplo: Leyendo un Archivo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBSZWFkRmlsZQogIElNUExJQ0lUIE5PTkUKICBJTlRFR0VSIDo6IHN0YXR1cwogIENIQVJBQ1RFUigyNTUpIDo6IGJ1ZmZlcgogIElOVEVHRVIgOjogaW9zYigyKQoKICBDQUxMIFNZUyRRSU9XKDAsIGNoYW5uZWwsIElPJF9SRUFEVkJMSywgaW9zYiwgMCwgMCwgYnVmZmVyLCAyNTUsIDAsIDAsIDAsIDApCiAgc3RhdHVzID0gaW9zYigxKQoKICBJRiAoc3RhdHVzIC5FUS4gU1MkX05PUk1BTCkgVEhFTgogICAgUFJJTlQgKiwgJ0xlY3R1cmEgZXhpdG9zYTogJywgYnVmZmVyCiAgRUxTRQogICAgUFJJTlQgKiwgJ0Vycm9yIGFsIGxlZXIgZWwgYXJjaGl2bzogJywgc3RhdHVzCiAgRU5EIElGCkVORCBQUk9HUkFNIFJlYWRGaWxl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM ReadFile
  IMPLICIT NONE
  INTEGER :: status
  CHARACTER(255) :: buffer
  INTEGER :: iosb(2)

  CALL SYS$QIOW(0, channel, IO$_READVBLK, iosb, 0, 0, buffer, 255, 0, 0, 0, 0)
  status = iosb(1)

  IF (status .EQ. SS$_NORMAL) THEN
    PRINT *, 'Lectura exitosa: ', buffer
  ELSE
    PRINT *, 'Error al leer el archivo: ', status
  END IF
END PROGRAM ReadFile</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>SYS$QIOW</code>: Servicio del sistema para operaciones de E/S sincrónicas.</li>
<li><code>IO$_READVBLK</code>: Código de función para leer un bloque de datos.</li>
<li><code>iosb</code>: Bloque de estado de E/S para recibir el estado de la operación.</li>
</ul>
</li>
</ul>
</div><h1>Técnicas Avanzadas</h1>
<div class='content'></div><h2>Usando Banderas de Evento</h2>
<div class='content'><p>Las banderas de evento se utilizan para la sincronización entre procesos.</p>
<h4>Ejemplo: Esperando un Evento</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dW5zaWduZWQgbG9uZyBldmVudF9mbGFnID0gMTsKdW5zaWduZWQgbG9uZyBzdGF0dXMgPSBzeXMkd2FpdGZyKGV2ZW50X2ZsYWcpOwoKaWYgKCRWTVNfU1RBVFVTX1NVQ0NFU1Moc3RhdHVzKSkgewogICAgcHJpbnRmKCJCYW5kZXJhIGRlIGV2ZW50byBlc3RhYmxlY2lkYS5cbiIpOwp9IGVsc2UgewogICAgcHJpbnRmKCJFcnJvciBhbCBlc3BlcmFyIGxhIGJhbmRlcmEgZGUgZXZlbnRvOiAlbHhcbiIsIHN0YXR1cyk7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>unsigned long event_flag = 1;
unsigned long status = sys$waitfr(event_flag);

if ($VMS_STATUS_SUCCESS(status)) {
    printf(&quot;Bandera de evento establecida.\n&quot;);
} else {
    printf(&quot;Error al esperar la bandera de evento: %lx\n&quot;, status);
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>sys$waitfr</code>: Servicio del sistema para esperar que se establezca una bandera de evento.</li>
<li><code>event_flag</code>: Identificador para la bandera de evento.</li>
</ul>
</li>
</ul>
</div><h2>Usando E/S Asincrónica</h2>
<div class='content'><p>La E/S asincrónica permite que un programa continúe ejecutándose mientras una operación de E/S está en progreso.</p>
<h4>Ejemplo: Escritura Asincrónica</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dW5zaWduZWQgc2hvcnQgaW9zYls0XTsKdW5zaWduZWQgbG9uZyBzdGF0dXMgPSBzeXMkcWlvKDAsIGNoYW5uZWwsIElPJF9XUklURVZCTEssIGlvc2IsIDAsIDAsIGJ1ZmZlciwgbGVuZ3RoLCAwLCAwLCAwLCAwKTsKCmlmICgkVk1TX1NUQVRVU19TVUNDRVNTKHN0YXR1cykpIHsKICAgIHByaW50ZigiRXNjcml0dXJhIGluaWNpYWRhIGV4aXRvc2FtZW50ZS5cbiIpOwp9IGVsc2UgewogICAgcHJpbnRmKCJFcnJvciBhbCBpbmljaWFyIGxhIGVzY3JpdHVyYTogJWx4XG4iLCBzdGF0dXMpOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>unsigned short iosb[4];
unsigned long status = sys$qio(0, channel, IO$_WRITEVBLK, iosb, 0, 0, buffer, length, 0, 0, 0, 0);

if ($VMS_STATUS_SUCCESS(status)) {
    printf(&quot;Escritura iniciada exitosamente.\n&quot;);
} else {
    printf(&quot;Error al iniciar la escritura: %lx\n&quot;, status);
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>sys$qio</code>: Servicio del sistema para iniciar una operación de E/S asincrónica.</li>
<li><code>iosb</code>: Bloque de estado de E/S para recibir el estado de la operación.</li>
</ul>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Interfaz con los servicios del sistema OpenVMS es esencial para realizar operaciones a nivel del sistema en un entorno OpenVMS. Al comprender cómo llamar a estos servicios desde diferentes lenguajes de programación y usar técnicas avanzadas como banderas de evento y E/S asincrónica, los desarrolladores pueden crear aplicaciones robustas y eficientes. Practica con los ejemplos proporcionados y explora servicios del sistema adicionales para profundizar tu comprensión.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
