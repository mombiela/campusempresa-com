<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimización del Rendimiento en DirectX</title>

    <link rel="alternate" href="https://campusempresa.com/es/direct_x/performance-optimization" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/direct_x/performance-optimization" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/direct_x/performance-optimization" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/direct_x/performance-optimization" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='collision-detection-and-physics'>&#x25C4; Detección de Colisiones y Física</a></div><div class='col-6 text-end'><a href='memory-management'>Gestión de Memoria &#x25BA;</a></div></div><div class='content'></div><h1>Introducción</h1>
<div class='content'><p>La optimización del rendimiento es crucial en la programación de DirectX para asegurar que las aplicaciones funcionen de manera fluida y eficiente. Esta sección cubrirá varias técnicas y mejores prácticas para optimizar aplicaciones de DirectX desde niveles principiantes hasta avanzados.</p>
</div><h1>Entendiendo los Cuellos de Botella del Rendimiento</h1>
<div class='content'><p>Antes de optimizar, es esencial identificar dónde están los cuellos de botella del rendimiento.</p>
<ul>
<li><strong>Cuellos de Botella de la CPU</strong>: Ocurren cuando la CPU es el factor limitante.</li>
<li><strong>Cuellos de Botella de la GPU</strong>: Ocurren cuando la GPU es el factor limitante.</li>
<li><strong>Cuellos de Botella de la Memoria</strong>: Ocurren cuando el ancho de banda o el tamaño de la memoria es el factor limitante.</li>
</ul>
</div><h2>Herramientas para Identificar Cuellos de Botella</h2>
<div class='content'><ul>
<li><strong>Visual Studio Profiler</strong>: Herramienta integrada para perfilar aplicaciones de DirectX.</li>
<li><strong>PIX for Windows</strong>: Una herramienta para la afinación del rendimiento y depuración de aplicaciones de DirectX.</li>
<li><strong>GPUView</strong>: Una herramienta para analizar el rendimiento de la GPU.</li>
</ul>
</div><h1>Optimización del Rendimiento de la CPU</h1>
<h2>Reducción de Llamadas de Dibujo</h2>
<div class='content'><p>Las llamadas de dibujo pueden ser costosas; reducir su número puede mejorar significativamente el rendimiento.</p>
<ul>
<li><strong>Agrupación</strong>: Combina múltiples objetos en una sola llamada de dibujo.</li>
<li><strong>Instanciación</strong>: Usa instanciación para dibujar múltiples instancias de la misma geometría con una sola llamada de dibujo.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRWplbXBsbyBkZSBpbnN0YW5jaWFjacOzbiBlbiBEaXJlY3RYCnN0cnVjdCBJbnN0YW5jZURhdGEgewogICAgRGlyZWN0WDo6WE1NQVRSSVggd29ybGRNYXRyaXg7Cn07CgpzdGQ6OnZlY3RvcjxJbnN0YW5jZURhdGE+IGluc3RhbmNlczsKLy8gTGxlbmFyIGluc3RhbmNlcyBjb24gZGF0b3MuLi4KCi8vIENvbmZpZ3VyYXIgZWwgYnVmZmVyIGRlIGluc3RhbmNpYXMKRDNEMTFfQlVGRkVSX0RFU0MgYnVmZmVyRGVzYyA9IHt9OwpidWZmZXJEZXNjLlVzYWdlID0gRDNEMTFfVVNBR0VfREVGQVVMVDsKYnVmZmVyRGVzYy5CeXRlV2lkdGggPSBzaXplb2YoSW5zdGFuY2VEYXRhKSAqIGluc3RhbmNlcy5zaXplKCk7CmJ1ZmZlckRlc2MuQmluZEZsYWdzID0gRDNEMTFfQklORF9WRVJURVhfQlVGRkVSOwoKRDNEMTFfU1VCUkVTT1VSQ0VfREFUQSBpbml0RGF0YSA9IHt9Owppbml0RGF0YS5wU3lzTWVtID0gaW5zdGFuY2VzLmRhdGEoKTsKCklEM0QxMUJ1ZmZlciogaW5zdGFuY2VCdWZmZXI7CmRldmljZS0+Q3JlYXRlQnVmZmVyKCZidWZmZXJEZXNjLCAmaW5pdERhdGEsICZpbnN0YW5jZUJ1ZmZlcik7CgovLyBWaW5jdWxhciBlbCBidWZmZXIgZGUgaW5zdGFuY2lhcwpVSU5UIHN0cmlkZXNbXSA9IHsgc2l6ZW9mKFZlcnRleCksIHNpemVvZihJbnN0YW5jZURhdGEpIH07ClVJTlQgb2Zmc2V0c1tdID0geyAwLCAwIH07CklEM0QxMUJ1ZmZlciogYnVmZmVyc1tdID0geyB2ZXJ0ZXhCdWZmZXIsIGluc3RhbmNlQnVmZmVyIH07CmNvbnRleHQtPklBU2V0VmVydGV4QnVmZmVycygwLCAyLCBidWZmZXJzLCBzdHJpZGVzLCBvZmZzZXRzKTsKCi8vIERpYnVqbyBpbnN0YW5jaWFkbwpjb250ZXh0LT5EcmF3SW5zdGFuY2VkKHZlcnRleENvdW50LCBpbnN0YW5jZUNvdW50LCAwLCAwKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Ejemplo de instanciaci&oacute;n en DirectX
struct InstanceData {
    DirectX::XMMATRIX worldMatrix;
};

std::vector&lt;InstanceData&gt; instances;
// Llenar instances con datos...

// Configurar el buffer de instancias
D3D11_BUFFER_DESC bufferDesc = {};
bufferDesc.Usage = D3D11_USAGE_DEFAULT;
bufferDesc.ByteWidth = sizeof(InstanceData) * instances.size();
bufferDesc.BindFlags = D3D11_BIND_VERTEX_BUFFER;

D3D11_SUBRESOURCE_DATA initData = {};
initData.pSysMem = instances.data();

ID3D11Buffer* instanceBuffer;
device-&gt;CreateBuffer(&amp;bufferDesc, &amp;initData, &amp;instanceBuffer);

// Vincular el buffer de instancias
UINT strides[] = { sizeof(Vertex), sizeof(InstanceData) };
UINT offsets[] = { 0, 0 };
ID3D11Buffer* buffers[] = { vertexBuffer, instanceBuffer };
context-&gt;IASetVertexBuffers(0, 2, buffers, strides, offsets);

// Dibujo instanciado
context-&gt;DrawInstanced(vertexCount, instanceCount, 0, 0);</pre></div><div class='content'></div><h2>Multithreading</h2>
<div class='content'><p>Utiliza múltiples hilos para realizar tareas concurrentemente.</p>
<ul>
<li><strong>Paralelismo de Tareas</strong>: Divide tareas entre múltiples hilos.</li>
<li><strong>Paralelismo de Datos</strong>: Procesa datos en paralelo usando múltiples hilos.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRWplbXBsbyBkZSB1c28gZGUgc3RkOjphc3luYyBwYXJhIHRhcmVhcyBwYXJhbGVsYXMKYXV0byBmdXR1cmUxID0gc3RkOjphc3luYyhzdGQ6OmxhdW5jaDo6YXN5bmMsIFtdKCkgewogICAgLy8gVGFyZWEgMQp9KTsKCmF1dG8gZnV0dXJlMiA9IHN0ZDo6YXN5bmMoc3RkOjpsYXVuY2g6OmFzeW5jLCBbXSgpIHsKICAgIC8vIFRhcmVhIDIKfSk7CgpmdXR1cmUxLmdldCgpOwpmdXR1cmUyLmdldCgpOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Ejemplo de uso de std::async para tareas paralelas
auto future1 = std::async(std::launch::async, []() {
    // Tarea 1
});

auto future2 = std::async(std::launch::async, []() {
    // Tarea 2
});

future1.get();
future2.get();</pre></div><div class='content'></div><h1>Optimización del Rendimiento de la GPU</h1>
<h2>Gestión Eficiente de Recursos</h2>
<div class='content'><ul>
<li><strong>Agrupación de Recursos</strong>: Reutiliza recursos en lugar de crearlos y destruirlos frecuentemente.</li>
<li><strong>Mipmapping</strong>: Usa mipmaps para mejorar el rendimiento del muestreo de texturas.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRWplbXBsbyBkZSBjcmVhY2nDs24gZGUgdW5hIHRleHR1cmEgY29uIG1pcG1hcHMKRDNEMTFfVEVYVFVSRTJEX0RFU0MgdGV4dHVyZURlc2MgPSB7fTsKdGV4dHVyZURlc2MuV2lkdGggPSB3aWR0aDsKdGV4dHVyZURlc2MuSGVpZ2h0ID0gaGVpZ2h0Owp0ZXh0dXJlRGVzYy5NaXBMZXZlbHMgPSAwOyAvLyBHZW5lcmFyIGNhZGVuYSBjb21wbGV0YSBkZSBtaXBtYXBzCnRleHR1cmVEZXNjLkFycmF5U2l6ZSA9IDE7CnRleHR1cmVEZXNjLkZvcm1hdCA9IERYR0lfRk9STUFUX1I4RzhCOEE4X1VOT1JNOwp0ZXh0dXJlRGVzYy5TYW1wbGVEZXNjLkNvdW50ID0gMTsKdGV4dHVyZURlc2MuVXNhZ2UgPSBEM0QxMV9VU0FHRV9ERUZBVUxUOwp0ZXh0dXJlRGVzYy5CaW5kRmxhZ3MgPSBEM0QxMV9CSU5EX1NIQURFUl9SRVNPVVJDRSB8IEQzRDExX0JJTkRfUkVOREVSX1RBUkdFVDsKdGV4dHVyZURlc2MuTWlzY0ZsYWdzID0gRDNEMTFfUkVTT1VSQ0VfTUlTQ19HRU5FUkFURV9NSVBTOwoKSUQzRDExVGV4dHVyZTJEKiB0ZXh0dXJlOwpkZXZpY2UtPkNyZWF0ZVRleHR1cmUyRCgmdGV4dHVyZURlc2MsIG51bGxwdHIsICZ0ZXh0dXJlKTsKCi8vIEdlbmVyYXIgbWlwbWFwcwpjb250ZXh0LT5HZW5lcmF0ZU1pcHMoc2hhZGVyUmVzb3VyY2VWaWV3KTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Ejemplo de creaci&oacute;n de una textura con mipmaps
D3D11_TEXTURE2D_DESC textureDesc = {};
textureDesc.Width = width;
textureDesc.Height = height;
textureDesc.MipLevels = 0; // Generar cadena completa de mipmaps
textureDesc.ArraySize = 1;
textureDesc.Format = DXGI_FORMAT_R8G8B8A8_UNORM;
textureDesc.SampleDesc.Count = 1;
textureDesc.Usage = D3D11_USAGE_DEFAULT;
textureDesc.BindFlags = D3D11_BIND_SHADER_RESOURCE | D3D11_BIND_RENDER_TARGET;
textureDesc.MiscFlags = D3D11_RESOURCE_MISC_GENERATE_MIPS;

ID3D11Texture2D* texture;
device-&gt;CreateTexture2D(&amp;textureDesc, nullptr, &amp;texture);

// Generar mipmaps
context-&gt;GenerateMips(shaderResourceView);</pre></div><div class='content'></div><h2>Optimización de Shaders</h2>
<div class='content'><ul>
<li><strong>Minimizar la Complejidad de los Shaders</strong>: Simplifica los shaders para reducir la computación.</li>
<li><strong>Usar Estructuras de Datos Eficientes</strong>: Usa estructuras como buffers constantes de manera eficiente.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRWplbXBsbyBkZSB1biBzaGFkZXIgZGUgcMOteGVsZXMgc2ltcGxlCmZsb2F0NCBQU01haW4oVlNPdXRwdXQgaW5wdXQpIDogU1ZfVGFyZ2V0IHsKICAgIHJldHVybiBmbG9hdDQoaW5wdXQuY29sb3IsIDEuMGYpOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Ejemplo de un shader de p&iacute;xeles simple
float4 PSMain(VSOutput input) : SV_Target {
    return float4(input.color, 1.0f);
}</pre></div><div class='content'></div><h1>Optimización de la Memoria</h1>
<h2>Reducción del Uso de Memoria</h2>
<div class='content'><ul>
<li><strong>Compresión de Texturas</strong>: Usa formatos de texturas comprimidas como DXT1, DXT5.</li>
<li><strong>Estructuras de Datos Eficientes</strong>: Usa estructuras de datos apropiadas para minimizar la huella de memoria.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRWplbXBsbyBkZSBjcmVhY2nDs24gZGUgdW5hIHRleHR1cmEgY29tcHJpbWlkYQpEM0QxMV9URVhUVVJFMkRfREVTQyB0ZXh0dXJlRGVzYyA9IHt9Owp0ZXh0dXJlRGVzYy5XaWR0aCA9IHdpZHRoOwp0ZXh0dXJlRGVzYy5IZWlnaHQgPSBoZWlnaHQ7CnRleHR1cmVEZXNjLk1pcExldmVscyA9IDE7CnRleHR1cmVEZXNjLkFycmF5U2l6ZSA9IDE7CnRleHR1cmVEZXNjLkZvcm1hdCA9IERYR0lfRk9STUFUX0JDMV9VTk9STTsgLy8gRm9ybWF0byBjb21wcmltaWRvCnRleHR1cmVEZXNjLlNhbXBsZURlc2MuQ291bnQgPSAxOwp0ZXh0dXJlRGVzYy5Vc2FnZSA9IEQzRDExX1VTQUdFX0RFRkFVTFQ7CnRleHR1cmVEZXNjLkJpbmRGbGFncyA9IEQzRDExX0JJTkRfU0hBREVSX1JFU09VUkNFOwoKSUQzRDExVGV4dHVyZTJEKiB0ZXh0dXJlOwpkZXZpY2UtPkNyZWF0ZVRleHR1cmUyRCgmdGV4dHVyZURlc2MsIG51bGxwdHIsICZ0ZXh0dXJlKTs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Ejemplo de creaci&oacute;n de una textura comprimida
D3D11_TEXTURE2D_DESC textureDesc = {};
textureDesc.Width = width;
textureDesc.Height = height;
textureDesc.MipLevels = 1;
textureDesc.ArraySize = 1;
textureDesc.Format = DXGI_FORMAT_BC1_UNORM; // Formato comprimido
textureDesc.SampleDesc.Count = 1;
textureDesc.Usage = D3D11_USAGE_DEFAULT;
textureDesc.BindFlags = D3D11_BIND_SHADER_RESOURCE;

ID3D11Texture2D* texture;
device-&gt;CreateTexture2D(&amp;textureDesc, nullptr, &amp;texture);</pre></div><div class='content'></div><h2>Acceso Eficiente a la Memoria</h2>
<div class='content'><ul>
<li><strong>Coherencia de Caché</strong>: Asegura que las estructuras de datos sean amigables con la caché.</li>
<li><strong>Minimizar Cambios de Estado</strong>: Reduce el número de cambios de estado para mejorar el rendimiento.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>La optimización del rendimiento en DirectX implica una combinación de técnicas para abordar los cuellos de botella de la CPU, GPU y memoria. Al entender y aplicar estas estrategias de optimización, puedes mejorar significativamente el rendimiento de tus aplicaciones de DirectX. Siempre perfila tu aplicación para identificar cuellos de botella y medir el impacto de tus optimizaciones.</p>
</div><div class='row navigation'><div class='col-6'><a href='collision-detection-and-physics'>&#x25C4; Detección de Colisiones y Física</a></div><div class='col-6 text-end'><a href='memory-management'>Gestión de Memoria &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
