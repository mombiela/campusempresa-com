<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es">Castellano</b>
				|
				<a href="https://campusempresa.cat/git/using-git-hooks" id="lnk_lang_ca" data-lang="ca">Català</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Los hooks de Git son scripts que Git ejecuta antes o después de eventos como commit, push y receive. Permiten automatizar tareas y aplicar políticas en tu flujo de trabajo de desarrollo.</p>
</div><h1>¿Qué son los Git Hooks?</h1>
<div class='content'><ul>
<li><strong>Definición</strong>: Los hooks de Git son scripts personalizados que se ejecutan automáticamente en puntos específicos del flujo de trabajo de Git.</li>
<li><strong>Tipos</strong>: Hay dos tipos de hooks de Git:
<ul>
<li><strong>Hooks del lado del cliente</strong>: Estos se ejecutan en operaciones como commit y merge.</li>
<li><strong>Hooks del lado del servidor</strong>: Estos se ejecutan en operaciones de red como recibir commits enviados.</li>
</ul>
</li>
</ul>
</div><h1>Configuración de Git Hooks</h1>
<div class='content'></div><h2>Localización del Directorio de Hooks</h2>
<div class='content'><ul>
<li>Los hooks de Git se almacenan en el directorio <code>.git/hooks</code> de tu repositorio.</li>
<li>Por defecto, este directorio contiene scripts de muestra que están deshabilitados (sus nombres de archivo terminan en <code>.sample</code>).</li>
</ul>
</div><h2>Creación de un Hook</h2>
<div class='content'><ol>
<li><strong>Navegar al directorio de hooks</strong>:
<pre><code class="language-sh">cd .git/hooks
</code></pre>
</li>
<li><strong>Crear un nuevo script de hook</strong>:
<ul>
<li>Por ejemplo, para crear un hook pre-commit:
<pre><code class="language-sh">touch pre-commit
</code></pre>
</li>
</ul>
</li>
<li><strong>Hacer el script ejecutable</strong>:
<pre><code class="language-sh">chmod +x pre-commit
</code></pre>
</li>
</ol>
</div><h2>Ejemplo: Hook Pre-commit</h2>
<div class='content'><p>Un hook pre-commit puede ser utilizado para verificar problemas de estilo de código antes de permitir un commit.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL3NoCiMgRWplbXBsbyBkZSBzY3JpcHQgZGUgaG9vayBwcmUtY29tbWl0CgojIEVqZWN1dGFyIHVuIGxpbnRlciAocG9yIGVqZW1wbG8sIEVTTGludCBwYXJhIEphdmFTY3JpcHQpCmVzbGludCAuCgppZiBbICQ/IC1uZSAwIF07IHRoZW4KICBlY2hvICJMaW50aW5nIGZhbGxpZG8uIENvbW1pdCBhYm9ydGFkby4iCiAgZXhpdCAxCmZpCgplY2hvICJMaW50aW5nIGV4aXRvc28uIENvbW1pdCBwZXJtaXRpZG8uIgpleGl0IDA="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/sh
# Ejemplo de script de hook pre-commit

# Ejecutar un linter (por ejemplo, ESLint para JavaScript)
eslint .

if [ $? -ne 0 ]; then
  echo &quot;Linting fallido. Commit abortado.&quot;
  exit 1
fi

echo &quot;Linting exitoso. Commit permitido.&quot;
exit 0</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>#!/bin/sh</code>: Especifica el intérprete del script.</li>
<li><code>eslint .</code>: Ejecuta el linter ESLint en el directorio actual.</li>
<li><code>if [ $? -ne 0 ]; then ... fi</code>: Verifica el estado de salida del linter. Si es diferente de cero (indicando un error), el commit es abortado.</li>
</ul>
</li>
</ul>
</div><h1>Hooks Comunes de Git</h1>
<div class='content'><p>| Nombre del Hook | Evento Desencadenante                  | Caso de Uso Típico                             |
|-----------------|----------------------------------------|-----------------------------------------------|
| <code>pre-commit</code>    | Antes de hacer un commit               | Linting de código, ejecución de pruebas       |
| <code>commit-msg</code>    | Después de ingresar el mensaje de commit| Aplicar formato al mensaje de commit          |
| <code>post-commit</code>   | Después de hacer un commit             | Notificaciones, registro                      |
| <code>pre-push</code>      | Antes de hacer un push a un repositorio remoto | Ejecución de pruebas, verificación de políticas de ramas |
| <code>post-receive</code>  | Después de recibir un push en un remoto| Despliegue de código, tareas de integración continua |</p>
</div><h1>Uso Avanzado</h1>
<div class='content'></div><h2>Compartir Hooks Entre Proyectos</h2>
<div class='content'><ul>
<li><strong>Git no soporta nativamente compartir hooks</strong> entre repositorios. Sin embargo, puedes:
<ul>
<li><strong>Usar un directorio versionado</strong> para hooks y crear enlaces simbólicos a <code>.git/hooks</code>.</li>
<li><strong>Usar una herramienta</strong> como <code>husky</code> (para proyectos JavaScript) para gestionar hooks.</li>
</ul>
</li>
</ul>
</div><h2>Ejemplo: Usando Husky</h2>
<div class='content'><ol>
<li><strong>Instalar Husky</strong>:
<pre><code class="language-sh">npm install husky --save-dev
</code></pre>
</li>
<li><strong>Agregar un hook</strong>:
<pre><code class="language-sh">npx husky add .husky/pre-commit &quot;npm test&quot;
</code></pre>
</li>
<li><strong>Hacer el directorio de Husky ejecutable</strong>:
<pre><code class="language-sh">chmod +x .husky/pre-commit
</code></pre>
</li>
</ol>
<ul>
<li><strong>Explicación</strong>:
<ul>
<li>Husky simplifica el proceso de agregar y gestionar hooks en proyectos JavaScript.</li>
<li>El hook <code>pre-commit</code> ejecuta <code>npm test</code> antes de permitir un commit.</li>
</ul>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Los hooks de Git son herramientas poderosas que pueden ayudar a automatizar y aplicar políticas en tu flujo de trabajo de desarrollo. Al entender cómo configurar y usar los hooks de Git, puedes mejorar la calidad del código y optimizar procesos. Ya sea que estés haciendo linting de código, ejecutando pruebas o aplicando formatos a los mensajes de commit, los hooks de Git proporcionan una forma flexible de integrar estas tareas en tu flujo de trabajo de Git.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
