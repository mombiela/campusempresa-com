<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrones de Diseño en Flask</title>

    <link rel="alternate" href="https://campusempresa.com/es/flask/design-patterns" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/flask/design-patterns" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/flask/design-patterns" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/flask/design-patterns" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción a los Patrones de Diseño</h1>
<div class='content'><p>Los patrones de diseño son soluciones típicas a problemas comunes en el diseño de software. Son como planos que se pueden personalizar para resolver un problema de diseño particular en tu código. Entender los patrones de diseño puede ayudarte a escribir código más eficiente, escalable y mantenible.</p>
</div><h1>¿Por Qué Usar Patrones de Diseño en Flask?</h1>
<div class='content'><p>Flask es un micro framework web para Python que es simple pero poderoso. Usar patrones de diseño en Flask puede:</p>
<ul>
<li>Mejorar la legibilidad y mantenibilidad del código.</li>
<li>Promover la reutilización del código.</li>
<li>Facilitar la colaboración entre desarrolladores.</li>
<li>Ayudar a gestionar la complejidad en aplicaciones más grandes.</li>
</ul>
</div><h1>Patrones de Diseño Comunes en Flask</h1>
<div class='content'></div><h2>1. Patrón Factory</h2>
<div class='content'><p>El Patrón Factory se utiliza para crear objetos sin especificar la clase exacta del objeto que se creará. En Flask, este patrón se usa a menudo para crear la instancia de la aplicación.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2sKCmRlZiBjcmVhdGVfYXBwKCk6CiAgICBhcHAgPSBGbGFzayhfX25hbWVfXykKICAgIGFwcC5jb25maWcuZnJvbV9weWZpbGUoJ2NvbmZpZy5weScpCgogICAgIyBJbmljaWFsaXphciBleHRlbnNpb25lcwogICAgIyBSZWdpc3RyYXIgYmx1ZXByaW50cwogICAgIyBDb25maWd1cmFyIGxhIGJhc2UgZGUgZGF0b3MKCiAgICByZXR1cm4gYXBwCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXBwID0gY3JlYXRlX2FwcCgpCiAgICBhcHAucnVuKCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask

def create_app():
    app = Flask(__name__)
    app.config.from_pyfile('config.py')

    # Inicializar extensiones
    # Registrar blueprints
    # Configurar la base de datos

    return app

if __name__ == &quot;__main__&quot;:
    app = create_app()
    app.run()</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>: La función <code>create_app</code> encapsula la creación y configuración de la instancia de la aplicación Flask. Esto permite una fácil prueba y gestión de la configuración.</li>
</ul>
</div><h2>2. Patrón Blueprint</h2>
<div class='content'><p>El Patrón Blueprint se utiliza para organizar tu aplicación en módulos, lo que facilita su gestión y escalabilidad.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIEJsdWVwcmludAoKIyBEZWZpbmlyIHVuIGJsdWVwcmludAphdXRoX2JwID0gQmx1ZXByaW50KCdhdXRoJywgX19uYW1lX18pCgpAYXV0aF9icC5yb3V0ZSgnL2xvZ2luJykKZGVmIGxvZ2luKCk6CiAgICByZXR1cm4gIlDDoWdpbmEgZGUgSW5pY2lvIGRlIFNlc2nDs24iCgpAYXV0aF9icC5yb3V0ZSgnL2xvZ291dCcpCmRlZiBsb2dvdXQoKToKICAgIHJldHVybiAiUMOhZ2luYSBkZSBDaWVycmUgZGUgU2VzacOzbiIKCmRlZiBjcmVhdGVfYXBwKCk6CiAgICBhcHAgPSBGbGFzayhfX25hbWVfXykKICAgIGFwcC5yZWdpc3Rlcl9ibHVlcHJpbnQoYXV0aF9icCwgdXJsX3ByZWZpeD0nL2F1dGgnKQogICAgcmV0dXJuIGFwcAoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGFwcCA9IGNyZWF0ZV9hcHAoKQogICAgYXBwLnJ1bigp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, Blueprint

# Definir un blueprint
auth_bp = Blueprint('auth', __name__)

@auth_bp.route('/login')
def login():
    return &quot;P&aacute;gina de Inicio de Sesi&oacute;n&quot;

@auth_bp.route('/logout')
def logout():
    return &quot;P&aacute;gina de Cierre de Sesi&oacute;n&quot;

def create_app():
    app = Flask(__name__)
    app.register_blueprint(auth_bp, url_prefix='/auth')
    return app

if __name__ == &quot;__main__&quot;:
    app = create_app()
    app.run()</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>: El blueprint <code>auth_bp</code> encapsula rutas relacionadas con la autenticación. Este enfoque modular hace que la aplicación sea más fácil de gestionar.</li>
</ul>
</div><h2>3. Patrón Singleton</h2>
<div class='content'><p>El Patrón Singleton asegura que una clase tenga solo una instancia y proporciona un punto de acceso global a ella. Esto es útil para gestionar recursos compartidos como conexiones a bases de datos.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRGF0YWJhc2U6CiAgICBfaW5zdGFuY2UgPSBOb25lCgogICAgZGVmIF9fbmV3X18oY2xzLCAqYXJncywgKiprd2FyZ3MpOgogICAgICAgIGlmIG5vdCBjbHMuX2luc3RhbmNlOgogICAgICAgICAgICBjbHMuX2luc3RhbmNlID0gc3VwZXIoRGF0YWJhc2UsIGNscykuX19uZXdfXyhjbHMsICphcmdzLCAqKmt3YXJncykKICAgICAgICByZXR1cm4gY2xzLl9pbnN0YW5jZQoKICAgIGRlZiBjb25uZWN0KHNlbGYpOgogICAgICAgICMgTMOzZ2ljYSBkZSBjb25leGnDs24gYSBsYSBiYXNlIGRlIGRhdG9zCiAgICAgICAgcGFzcwoKZGIgPSBEYXRhYmFzZSgp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Database:
    _instance = None

    def __new__(cls, *args, **kwargs):
        if not cls._instance:
            cls._instance = super(Database, cls).__new__(cls, *args, **kwargs)
        return cls._instance

    def connect(self):
        # L&oacute;gica de conexi&oacute;n a la base de datos
        pass

db = Database()</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>: La clase <code>Database</code> asegura que solo exista una instancia de la conexión a la base de datos, previniendo múltiples conexiones y el desperdicio de recursos.</li>
</ul>
</div><h2>4. Patrón Decorator</h2>
<div class='content'><p>El Patrón Decorator permite agregar comportamiento a objetos individuales, dinámicamente, sin afectar el comportamiento de otros objetos de la misma clase. En Flask, los decoradores se usan a menudo para el manejo de rutas y middleware.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlcXVlc3QsIGpzb25pZnkKCmFwcCA9IEZsYXNrKF9fbmFtZV9fKQoKZGVmIHJlcXVpcmVfYXBpX2tleShmKToKICAgIGRlZiBkZWNvcmF0ZWRfZnVuY3Rpb24oKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICBpZiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdBUEktS0VZJykgPT0gJ215LXNlY3JldC1rZXknOgogICAgICAgICAgICByZXR1cm4gZigqYXJncywgKiprd2FyZ3MpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIGpzb25pZnkoeyJlcnJvciI6ICJObyBhdXRvcml6YWRvIn0pLCA0MDEKICAgIHJldHVybiBkZWNvcmF0ZWRfZnVuY3Rpb24KCkBhcHAucm91dGUoJy9kYXRhJykKQHJlcXVpcmVfYXBpX2tleQpkZWYgZ2V0X2RhdGEoKToKICAgIHJldHVybiBqc29uaWZ5KHsiZGF0YSI6ICJBcXXDrSBlc3TDoW4gdHVzIGRhdG9zIn0pCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXBwLnJ1bigp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, request, jsonify

app = Flask(__name__)

def require_api_key(f):
    def decorated_function(*args, **kwargs):
        if request.headers.get('API-KEY') == 'my-secret-key':
            return f(*args, **kwargs)
        else:
            return jsonify({&quot;error&quot;: &quot;No autorizado&quot;}), 401
    return decorated_function

@app.route('/data')
@require_api_key
def get_data():
    return jsonify({&quot;data&quot;: &quot;Aqu&iacute; est&aacute;n tus datos&quot;})

if __name__ == &quot;__main__&quot;:
    app.run()</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>: El decorador <code>require_api_key</code> agrega una capa adicional de seguridad a la ruta <code>get_data</code> verificando una clave API válida.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Los patrones de diseño son herramientas esenciales para construir aplicaciones Flask robustas y escalables. Al entender e implementar estos patrones, puedes mejorar la estructura y mantenibilidad de tu código. Ya sea que estés usando el Patrón Factory para la creación de aplicaciones, el Patrón Blueprint para la modularidad, el Patrón Singleton para la gestión de recursos, o el Patrón Decorator para agregar comportamiento dinámico, estos patrones te ayudarán a escribir mejores aplicaciones Flask.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
