<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Construyendo una Aplicación de Chat con Flask</title>

    <link rel="alternate" href="https://campusempresa.com/es/flask/building-chat-application" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/flask/building-chat-application" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/flask/building-chat-application" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/flask/building-chat-application" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='developing-restful-api'>&#x25C4; Desarrollando una API RESTful</a></div><div class='col-6 text-end'><a href='security-best-practices'>Mejores Prácticas de Seguridad &#x25BA;</a></div></div><div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En este tema, te guiaremos a través de la construcción de una aplicación de chat utilizando Flask, un popular micro framework web para Python. Este curso cubrirá todo, desde la configuración de tu entorno de desarrollo hasta el despliegue de tu aplicación de chat. Al final de este curso, tendrás una comprensión sólida de cómo construir y desplegar una aplicación de chat en tiempo real.</p>
</div><h1>Prerrequisitos</h1>
<div class='content'><p>Antes de comenzar este curso, deberías tener:</p>
<ul>
<li>Conocimientos básicos de programación en Python.</li>
<li>Familiaridad con HTML, CSS y JavaScript.</li>
<li>Comprensión básica de los conceptos de desarrollo web.</li>
</ul>
</div><h1>Configuración del Entorno de Desarrollo</h1>
<div class='content'><p>Para comenzar a construir tu aplicación de chat, necesitas configurar tu entorno de desarrollo.</p>
</div><h2>Instalando Flask</h2>
<div class='content'><p>Primero, asegúrate de tener Python instalado. Luego, instala Flask usando pip:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgRmxhc2s="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install Flask</pre></div><div class='content'></div><h2>Creando la Estructura del Proyecto</h2>
<div class='content'><p>Crea un nuevo directorio para tu proyecto y configura la siguiente estructura:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2hhdC1hcHAvCuKUggrilJzilIDilIAgYXBwLnB5CuKUnOKUgOKUgCB0ZW1wbGF0ZXMvCuKUgiAgIOKUlOKUgOKUgCBpbmRleC5odG1sCuKUnOKUgOKUgCBzdGF0aWMvCuKUgiAgIOKUnOKUgOKUgCBjc3MvCuKUgiAgIOKUgiAgIOKUlOKUgOKUgCBzdHlsZXMuY3NzCuKUgiAgIOKUlOKUgOKUgCBqcy8K4pSCICAgICAgIOKUlOKUgOKUgCBtYWluLmpzCuKUlOKUgOKUgCByZXF1aXJlbWVudHMudHh0"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>chat-app/
│
├── app.py
├── templates/
│   └── index.html
├── static/
│   ├── css/
│   │   └── styles.css
│   └── js/
│       └── main.js
└── requirements.txt</pre></div><div class='content'></div><h1>Construyendo la Aplicación Flask</h1>
<h2>Configurando el Servidor Flask</h2>
<div class='content'><p>Crea el archivo <code>app.py</code> y configura un servidor Flask básico:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlbmRlcl90ZW1wbGF0ZQoKYXBwID0gRmxhc2soX19uYW1lX18pCgpAYXBwLnJvdXRlKCcvJykKZGVmIGluZGV4KCk6CiAgICByZXR1cm4gcmVuZGVyX3RlbXBsYXRlKCdpbmRleC5odG1sJykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBhcHAucnVuKGRlYnVnPVRydWUp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, render_template

app = Flask(__name__)

@app.route('/')
def index():
    return render_template('index.html')

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'></div><h2>Creando la Plantilla HTML</h2>
<div class='content'><p>Crea el archivo <code>index.html</code> en el directorio <code>templates</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+Q2hhdCBBcHBsaWNhdGlvbjwvdGl0bGU+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Int7IHVybF9mb3IoJ3N0YXRpYycsIGZpbGVuYW1lPSdjc3Mvc3R5bGVzLmNzcycpIH19Ij4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgaWQ9ImNoYXQtY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGlkPSJtZXNzYWdlcyI+PC9kaXY+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJtZXNzYWdlLWlucHV0IiBwbGFjZWhvbGRlcj0iVHlwZSBhIG1lc3NhZ2UuLi4iPgogICAgICAgIDxidXR0b24gaWQ9InNlbmQtYnV0dG9uIj5TZW5kPC9idXR0b24+CiAgICA8L2Rpdj4KICAgIDxzY3JpcHQgc3JjPSJ7eyB1cmxfZm9yKCdzdGF0aWMnLCBmaWxlbmFtZT0nanMvbWFpbi5qcycpIH19Ij48L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Chat Application&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;{{ url_for('static', filename='css/styles.css') }}&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;chat-container&quot;&gt;
        &lt;div id=&quot;messages&quot;&gt;&lt;/div&gt;
        &lt;input type=&quot;text&quot; id=&quot;message-input&quot; placeholder=&quot;Type a message...&quot;&gt;
        &lt;button id=&quot;send-button&quot;&gt;Send&lt;/button&gt;
    &lt;/div&gt;
    &lt;script src=&quot;{{ url_for('static', filename='js/main.js') }}&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Añadiendo Estilos</h2>
<div class='content'><p>Crea el archivo <code>styles.css</code> en el directorio <code>static/css</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2NoYXQtY29udGFpbmVyIHsKICAgIHdpZHRoOiAzMDBweDsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgcGFkZGluZzogMjBweDsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7Cn0KCiNtZXNzYWdlcyB7CiAgICBoZWlnaHQ6IDIwMHB4OwogICAgb3ZlcmZsb3cteTogc2Nyb2xsOwogICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0KCiNtZXNzYWdlLWlucHV0IHsKICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA2MHB4KTsKICAgIHBhZGRpbmc6IDEwcHg7Cn0KCiNzZW5kLWJ1dHRvbiB7CiAgICB3aWR0aDogNTBweDsKICAgIHBhZGRpbmc6IDEwcHg7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#chat-container {
    width: 300px;
    margin: 0 auto;
    padding: 20px;
    border: 1px solid #ccc;
}

#messages {
    height: 200px;
    overflow-y: scroll;
    border: 1px solid #ccc;
    margin-bottom: 10px;
}

#message-input {
    width: calc(100% - 60px);
    padding: 10px;
}

#send-button {
    width: 50px;
    padding: 10px;
}</pre></div><div class='content'></div><h1>Implementando Comunicación en Tiempo Real</h1>
<div class='content'><p>Para habilitar la comunicación en tiempo real, utilizaremos Flask-SocketIO.</p>
</div><h2>Instalando Flask-SocketIO</h2>
<div class='content'><p>Instala Flask-SocketIO usando pip:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgZmxhc2stc29ja2V0aW8="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install flask-socketio</pre></div><div class='content'></div><h2>Configurando Flask-SocketIO</h2>
<div class='content'><p>Actualiza tu <code>app.py</code> para incluir Flask-SocketIO:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlbmRlcl90ZW1wbGF0ZQpmcm9tIGZsYXNrX3NvY2tldGlvIGltcG9ydCBTb2NrZXRJTywgc2VuZAoKYXBwID0gRmxhc2soX19uYW1lX18pCnNvY2tldGlvID0gU29ja2V0SU8oYXBwKQoKQGFwcC5yb3V0ZSgnLycpCmRlZiBpbmRleCgpOgogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgnaW5kZXguaHRtbCcpCgpAc29ja2V0aW8ub24oJ21lc3NhZ2UnKQpkZWYgaGFuZGxlX21lc3NhZ2UobXNnKToKICAgIHNlbmQobXNnLCBicm9hZGNhc3Q9VHJ1ZSkKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBzb2NrZXRpby5ydW4oYXBwLCBkZWJ1Zz1UcnVlKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, render_template
from flask_socketio import SocketIO, send

app = Flask(__name__)
socketio = SocketIO(app)

@app.route('/')
def index():
    return render_template('index.html')

@socketio.on('message')
def handle_message(msg):
    send(msg, broadcast=True)

if __name__ == '__main__':
    socketio.run(app, debug=True)</pre></div><div class='content'></div><h2>Actualizando el JavaScript</h2>
<div class='content'><p>Crea el archivo <code>main.js</code> en el directorio <code>static/js</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHsKICAgIGNvbnN0IHNvY2tldCA9IGlvKCk7CgogICAgY29uc3QgbWVzc2FnZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UtaW5wdXQnKTsKICAgIGNvbnN0IHNlbmRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VuZC1idXR0b24nKTsKICAgIGNvbnN0IG1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2VzJyk7CgogICAgc2VuZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZUlucHV0LnZhbHVlOwogICAgICAgIHNvY2tldC5zZW5kKG1lc3NhZ2UpOwogICAgICAgIG1lc3NhZ2VJbnB1dC52YWx1ZSA9ICcnOwogICAgfSk7CgogICAgc29ja2V0Lm9uKCdtZXNzYWdlJywgKG1zZykgPT4gewogICAgICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgbWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBtc2c7CiAgICAgICAgbWVzc2FnZXMuYXBwZW5kQ2hpbGQobWVzc2FnZUVsZW1lbnQpOwogICAgfSk7Cn0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document.addEventListener('DOMContentLoaded', () =&gt; {
    const socket = io();

    const messageInput = document.getElementById('message-input');
    const sendButton = document.getElementById('send-button');
    const messages = document.getElementById('messages');

    sendButton.addEventListener('click', () =&gt; {
        const message = messageInput.value;
        socket.send(message);
        messageInput.value = '';
    });

    socket.on('message', (msg) =&gt; {
        const messageElement = document.createElement('div');
        messageElement.textContent = msg;
        messages.appendChild(messageElement);
    });
});</pre></div><div class='content'></div><h1>Mejorando la Aplicación de Chat</h1>
<h2>Añadiendo Nombres de Usuario</h2>
<div class='content'><p>Para hacer el chat más interactivo, podemos añadir nombres de usuario.</p>
</div><h2>Actualizando la Plantilla HTML</h2>
<div class='content'><p>Actualiza el archivo <code>index.html</code> para incluir un campo de entrada de nombre de usuario:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+Q2hhdCBBcHBsaWNhdGlvbjwvdGl0bGU+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Int7IHVybF9mb3IoJ3N0YXRpYycsIGZpbGVuYW1lPSdjc3Mvc3R5bGVzLmNzcycpIH19Ij4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgaWQ9ImNoYXQtY29udGFpbmVyIj4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InVzZXJuYW1lLWlucHV0IiBwbGFjZWhvbGRlcj0iRW50ZXIgeW91ciB1c2VybmFtZSI+CiAgICAgICAgPGRpdiBpZD0ibWVzc2FnZXMiPjwvZGl2PgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibWVzc2FnZS1pbnB1dCIgcGxhY2Vob2xkZXI9IlR5cGUgYSBtZXNzYWdlLi4uIj4KICAgICAgICA8YnV0dG9uIGlkPSJzZW5kLWJ1dHRvbiI+U2VuZDwvYnV0dG9uPgogICAgPC9kaXY+CiAgICA8c2NyaXB0IHNyYz0ie3sgdXJsX2Zvcignc3RhdGljJywgZmlsZW5hbWU9J2pzL21haW4uanMnKSB9fSI+PC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Chat Application&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;{{ url_for('static', filename='css/styles.css') }}&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;chat-container&quot;&gt;
        &lt;input type=&quot;text&quot; id=&quot;username-input&quot; placeholder=&quot;Enter your username&quot;&gt;
        &lt;div id=&quot;messages&quot;&gt;&lt;/div&gt;
        &lt;input type=&quot;text&quot; id=&quot;message-input&quot; placeholder=&quot;Type a message...&quot;&gt;
        &lt;button id=&quot;send-button&quot;&gt;Send&lt;/button&gt;
    &lt;/div&gt;
    &lt;script src=&quot;{{ url_for('static', filename='js/main.js') }}&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Actualizando el JavaScript</h2>
<div class='content'><p>Actualiza el archivo <code>main.js</code> para incluir el nombre de usuario:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHsKICAgIGNvbnN0IHNvY2tldCA9IGlvKCk7CgogICAgY29uc3QgdXNlcm5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VybmFtZS1pbnB1dCcpOwogICAgY29uc3QgbWVzc2FnZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UtaW5wdXQnKTsKICAgIGNvbnN0IHNlbmRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VuZC1idXR0b24nKTsKICAgIGNvbnN0IG1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2VzJyk7CgogICAgc2VuZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZUlucHV0LnZhbHVlOwogICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdXNlcm5hbWVJbnB1dC52YWx1ZTsKICAgICAgICBzb2NrZXQuc2VuZCh7IHVzZXJuYW1lLCBtZXNzYWdlIH0pOwogICAgICAgIG1lc3NhZ2VJbnB1dC52YWx1ZSA9ICcnOwogICAgfSk7CgogICAgc29ja2V0Lm9uKCdtZXNzYWdlJywgKGRhdGEpID0+IHsKICAgICAgICBjb25zdCBtZXNzYWdlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gYCR7ZGF0YS51c2VybmFtZX06ICR7ZGF0YS5tZXNzYWdlfWA7CiAgICAgICAgbWVzc2FnZXMuYXBwZW5kQ2hpbGQobWVzc2FnZUVsZW1lbnQpOwogICAgfSk7Cn0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document.addEventListener('DOMContentLoaded', () =&gt; {
    const socket = io();

    const usernameInput = document.getElementById('username-input');
    const messageInput = document.getElementById('message-input');
    const sendButton = document.getElementById('send-button');
    const messages = document.getElementById('messages');

    sendButton.addEventListener('click', () =&gt; {
        const message = messageInput.value;
        const username = usernameInput.value;
        socket.send({ username, message });
        messageInput.value = '';
    });

    socket.on('message', (data) =&gt; {
        const messageElement = document.createElement('div');
        messageElement.textContent = `${data.username}: ${data.message}`;
        messages.appendChild(messageElement);
    });
});</pre></div><div class='content'></div><h2>Actualizando el Servidor Flask</h2>
<div class='content'><p>Actualiza el <code>app.py</code> para manejar el nuevo formato de mensaje:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlbmRlcl90ZW1wbGF0ZQpmcm9tIGZsYXNrX3NvY2tldGlvIGltcG9ydCBTb2NrZXRJTywgc2VuZAoKYXBwID0gRmxhc2soX19uYW1lX18pCnNvY2tldGlvID0gU29ja2V0SU8oYXBwKQoKQGFwcC5yb3V0ZSgnLycpCmRlZiBpbmRleCgpOgogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgnaW5kZXguaHRtbCcpCgpAc29ja2V0aW8ub24oJ21lc3NhZ2UnKQpkZWYgaGFuZGxlX21lc3NhZ2UoZGF0YSk6CiAgICBzZW5kKGRhdGEsIGJyb2FkY2FzdD1UcnVlKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHNvY2tldGlvLnJ1bihhcHAsIGRlYnVnPVRydWUp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, render_template
from flask_socketio import SocketIO, send

app = Flask(__name__)
socketio = SocketIO(app)

@app.route('/')
def index():
    return render_template('index.html')

@socketio.on('message')
def handle_message(data):
    send(data, broadcast=True)

if __name__ == '__main__':
    socketio.run(app, debug=True)</pre></div><div class='content'></div><h1>Desplegando la Aplicación de Chat</h1>
<h2>Preparándose para el Despliegue</h2>
<div class='content'><p>Para desplegar tu aplicación, necesitas:</p>
<ul>
<li>Congelar tus dependencias.</li>
<li>Configurar tu aplicación para producción.</li>
</ul>
</div><h2>Congelando Dependencias</h2>
<div class='content'><p>Crea un archivo <code>requirements.txt</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGZyZWV6ZSA+IHJlcXVpcmVtZW50cy50eHQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip freeze &gt; requirements.txt</pre></div><div class='content'></div><h2>Configurando para Producción</h2>
<div class='content'><p>Actualiza tu <code>app.py</code> para deshabilitar el modo debug en producción:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHNvY2tldGlvLnJ1bihhcHAp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if __name__ == '__main__':
    socketio.run(app)</pre></div><div class='content'></div><h2>Desplegando en Heroku</h2>
<div class='content'><ol>
<li>Instala la CLI de Heroku.</li>
<li>Crea un <code>Procfile</code> en tu directorio de proyecto:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("d2ViOiBndW5pY29ybiAtayBldmVudGxldCAtdyAxIGFwcDphcHA="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>web: gunicorn -k eventlet -w 1 app:app</pre></div><div class='content'><ol start="3">
<li>Inicializa un repositorio git y haz commit de tu código:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2l0IGluaXQKZ2l0IGFkZCAuCmdpdCBjb21taXQgLW0gIkluaXRpYWwgY29tbWl0Ig=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>git init
git add .
git commit -m &quot;Initial commit&quot;</pre></div><div class='content'><ol start="4">
<li>Crea una nueva aplicación en Heroku y sube tu código:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aGVyb2t1IGNyZWF0ZQpnaXQgcHVzaCBoZXJva3UgbWFzdGVy"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>heroku create
git push heroku master</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En este tema, hemos cubierto cómo construir una aplicación de chat en tiempo real utilizando Flask y Flask-SocketIO. Comenzamos con la configuración del entorno de desarrollo, construyendo la aplicación Flask básica, implementando la comunicación en tiempo real, mejorando la aplicación de chat con nombres de usuario y finalmente desplegando la aplicación en Heroku. Siguiendo estos pasos, ahora deberías tener una aplicación de chat funcional y una comprensión más profunda de Flask y las aplicaciones web en tiempo real.</p>
</div><div class='row navigation'><div class='col-6'><a href='developing-restful-api'>&#x25C4; Desarrollando una API RESTful</a></div><div class='col-6 text-end'><a href='security-best-practices'>Mejores Prácticas de Seguridad &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
