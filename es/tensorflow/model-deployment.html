<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Despliegue de Modelos</title>

    <link rel="alternate" href="https://campusempresa.com/es/tensorflow/model-deployment" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/tensorflow/model-deployment" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/tensorflow/model-deployment" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/tensorflow/model-deployment" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='tensorflow-serving'>&#x25C4;TensorFlow Serving</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Despliegue de Modelos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='tensorflow-lite'>TensorFlow Lite &#x25BA;</a>
			</div>
</div>
<div class='content'><p>El despliegue de modelos es el proceso de hacer que tu modelo de aprendizaje automático entrenado esté disponible para su uso en un entorno de producción. Esto implica varios pasos, desde exportar el modelo hasta servirlo a través de una API o integrarlo en una aplicación. En esta sección, cubriremos lo esencial del despliegue de modelos de TensorFlow, desde niveles principiantes hasta avanzados.</p>
</div><h1>Introducción al Despliegue de Modelos</h1>
<div class='content'><ul>
<li><strong>Definición</strong>: El despliegue de modelos es el proceso de integrar un modelo de aprendizaje automático en un entorno de producción existente para hacer predicciones basadas en nuevos datos.</li>
<li><strong>Importancia</strong>: El despliegue permite que el modelo se use en aplicaciones del mundo real, proporcionando valor al hacer predicciones sobre datos en vivo.</li>
</ul>
</div><h1>Exportar un Modelo de TensorFlow</h1>
<div class='content'><p>Antes de desplegar un modelo, es necesario exportarlo en un formato que pueda ser fácilmente cargado y usado en producción.</p>
</div><h2>Guardar un Modelo</h2>
<div class='content'><p>TensorFlow proporciona varias formas de guardar un modelo. El método más común es usar la API <code>tf.keras</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRlbnNvcmZsb3cgYXMgdGYKCiMgQXN1bWltb3MgcXVlIGBtb2RlbGAgZXMgdW4gbW9kZWxvIGRlIFRlbnNvckZsb3cgcHJlZW50cmVuYWRvCm1vZGVsLnNhdmUoJ3BhdGhfdG9fbXlfbW9kZWwnKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import tensorflow as tf

# Asumimos que `model` es un modelo de TensorFlow preentrenado
model.save('path_to_my_model')</pre></div><div class='content'><ul>
<li><strong>Formato HDF5</strong>: El formato predeterminado al guardar un modelo con <code>model.save()</code>.</li>
<li><strong>Formato SavedModel</strong>: Un formato más completo que incluye la arquitectura del modelo, los pesos y la configuración de entrenamiento.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9kZWwuc2F2ZSgncGF0aF90b19teV9tb2RlbCcsIHNhdmVfZm9ybWF0PSd0Zicp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>model.save('path_to_my_model', save_format='tf')</pre></div><div class='content'></div><h2>Cargar un Modelo</h2>
<div class='content'><p>Para cargar un modelo guardado, usa la función <code>tf.keras.models.load_model</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9hZGVkX21vZGVsID0gdGYua2VyYXMubW9kZWxzLmxvYWRfbW9kZWwoJ3BhdGhfdG9fbXlfbW9kZWwnKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>loaded_model = tf.keras.models.load_model('path_to_my_model')</pre></div><div class='content'></div><h1>Servir un Modelo de TensorFlow</h1>
<div class='content'><p>Una vez que el modelo está guardado, puede ser servido usando TensorFlow Serving, un sistema de servicio flexible y de alto rendimiento para modelos de aprendizaje automático.</p>
</div><h2>TensorFlow Serving</h2>
<div class='content'><p>TensorFlow Serving está diseñado para entornos de producción y soporta servir múltiples modelos y versiones.</p>
<h4>Instalando TensorFlow Serving</h4>
<p>TensorFlow Serving puede ser instalado usando Docker, lo que simplifica el proceso de configuración.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9ja2VyIHB1bGwgdGVuc29yZmxvdy9zZXJ2aW5n"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>docker pull tensorflow/serving</pre></div><div class='content'><h4>Servir un Modelo con TensorFlow Serving</h4>
<ol>
<li><strong>Iniciar TensorFlow Serving</strong>: Usa Docker para iniciar un contenedor de TensorFlow Serving.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9ja2VyIHJ1biAtcCA4NTAxOjg1MDEgLS1uYW1lPXRmX3NlcnZpbmcgXAogIC0tbW91bnQgdHlwZT1iaW5kLHNvdXJjZT0vcGF0aF90b19teV9tb2RlbCx0YXJnZXQ9L21vZGVscy9teV9tb2RlbCBcCiAgLWUgTU9ERUxfTkFNRT1teV9tb2RlbCAtdCB0ZW5zb3JmbG93L3NlcnZpbmc="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>docker run -p 8501:8501 --name=tf_serving \
  --mount type=bind,source=/path_to_my_model,target=/models/my_model \
  -e MODEL_NAME=my_model -t tensorflow/serving</pre></div><div class='content'><ol start="2">
<li><strong>Enviar Solicitudes al Modelo</strong>: Usa <code>curl</code> o cualquier cliente HTTP para enviar solicitudes al modelo servido.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y3VybCAtZCAneyJpbnN0YW5jZXMiOiBbWzEuMCwgMi4wLCA1LjBdXX0nIFwKICAtWCBQT1NUIGh0dHA6Ly9sb2NhbGhvc3Q6ODUwMS92MS9tb2RlbHMvbXlfbW9kZWw6cHJlZGljdA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>curl -d '{&quot;instances&quot;: [[1.0, 2.0, 5.0]]}' \
  -X POST http://localhost:8501/v1/models/my_model:predict</pre></div><div class='content'></div><h2>Usando TensorFlow Lite</h2>
<div class='content'><p>Para desplegar modelos en dispositivos móviles y embebidos, TensorFlow Lite es la solución preferida.</p>
<h4>Convertir un Modelo a TensorFlow Lite</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29udmVydGVyID0gdGYubGl0ZS5URkxpdGVDb252ZXJ0ZXIuZnJvbV9zYXZlZF9tb2RlbCgncGF0aF90b19teV9tb2RlbCcpCnRmbGl0ZV9tb2RlbCA9IGNvbnZlcnRlci5jb252ZXJ0KCkKCiMgR3VhcmRhciBlbCBtb2RlbG8gY29udmVydGlkbwp3aXRoIG9wZW4oJ21vZGVsLnRmbGl0ZScsICd3YicpIGFzIGY6CiAgICBmLndyaXRlKHRmbGl0ZV9tb2RlbCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>converter = tf.lite.TFLiteConverter.from_saved_model('path_to_my_model')
tflite_model = converter.convert()

# Guardar el modelo convertido
with open('model.tflite', 'wb') as f:
    f.write(tflite_model)</pre></div><div class='content'><h4>Ejecutar Inferencia con TensorFlow Lite</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHRlbnNvcmZsb3cgYXMgdGYKCiMgQ2FyZ2FyIGVsIG1vZGVsbyBURkxpdGUgeSBhc2lnbmFyIHRlbnNvcmVzCmludGVycHJldGVyID0gdGYubGl0ZS5JbnRlcnByZXRlcihtb2RlbF9wYXRoPSdtb2RlbC50ZmxpdGUnKQppbnRlcnByZXRlci5hbGxvY2F0ZV90ZW5zb3JzKCkKCiMgT2J0ZW5lciB0ZW5zb3JlcyBkZSBlbnRyYWRhIHkgc2FsaWRhCmlucHV0X2RldGFpbHMgPSBpbnRlcnByZXRlci5nZXRfaW5wdXRfZGV0YWlscygpCm91dHB1dF9kZXRhaWxzID0gaW50ZXJwcmV0ZXIuZ2V0X291dHB1dF9kZXRhaWxzKCkKCiMgUHJlcGFyYXIgbG9zIGRhdG9zIGRlIGVudHJhZGEKaW5wdXRfZGF0YSA9IG5wLmFycmF5KFtbMS4wLCAyLjAsIDUuMF1dLCBkdHlwZT1ucC5mbG9hdDMyKQoKIyBSZWFsaXphciBpbmZlcmVuY2lhCmludGVycHJldGVyLnNldF90ZW5zb3IoaW5wdXRfZGV0YWlsc1swXVsnaW5kZXgnXSwgaW5wdXRfZGF0YSkKaW50ZXJwcmV0ZXIuaW52b2tlKCkKb3V0cHV0X2RhdGEgPSBpbnRlcnByZXRlci5nZXRfdGVuc29yKG91dHB1dF9kZXRhaWxzWzBdWydpbmRleCddKQpwcmludChvdXRwdXRfZGF0YSk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import tensorflow as tf

# Cargar el modelo TFLite y asignar tensores
interpreter = tf.lite.Interpreter(model_path='model.tflite')
interpreter.allocate_tensors()

# Obtener tensores de entrada y salida
input_details = interpreter.get_input_details()
output_details = interpreter.get_output_details()

# Preparar los datos de entrada
input_data = np.array([[1.0, 2.0, 5.0]], dtype=np.float32)

# Realizar inferencia
interpreter.set_tensor(input_details[0]['index'], input_data)
interpreter.invoke()
output_data = interpreter.get_tensor(output_details[0]['index'])
print(output_data)</pre></div><div class='content'></div><h1>Técnicas Avanzadas de Despliegue</h1>
<div class='content'></div><h2>Usando TensorFlow Extended (TFX)</h2>
<div class='content'><p>TFX es una plataforma de extremo a extremo para desplegar pipelines de aprendizaje automático en producción.</p>
<ul>
<li><strong>Componentes</strong>: TFX incluye componentes como <code>ExampleGen</code>, <code>Transform</code>, <code>Trainer</code>, <code>Evaluator</code> y <code>Pusher</code>.</li>
<li><strong>Orquestación de Pipelines</strong>: Los pipelines de TFX pueden ser orquestados usando Apache Airflow o Kubeflow.</li>
</ul>
</div><h2>Desplegar en Plataformas en la Nube</h2>
<div class='content'><p>Los modelos de TensorFlow pueden ser desplegados en varias plataformas en la nube como Google Cloud AI Platform, AWS SageMaker y Azure Machine Learning.</p>
<h4>Google Cloud AI Platform</h4>
<ol>
<li><strong>Subir el Modelo</strong>: Sube el modelo guardado a Google Cloud Storage.</li>
<li><strong>Crear un Modelo en AI Platform</strong>: Usa la Consola de Google Cloud o la CLI <code>gcloud</code> para crear un modelo.</li>
<li><strong>Desplegar el Modelo</strong>: Despliega la versión del modelo en AI Platform.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGFpLXBsYXRmb3JtIG1vZGVscyBjcmVhdGUgbXlfbW9kZWwKZ2Nsb3VkIGFpLXBsYXRmb3JtIHZlcnNpb25zIGNyZWF0ZSB2MSAtLW1vZGVsPW15X21vZGVsIC0tb3JpZ2luPWdzOi8vcGF0aF90b19teV9tb2RlbCAtLXJ1bnRpbWUtdmVyc2lvbj0yLjEgLS1weXRob24tdmVyc2lvbj0zLjc="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud ai-platform models create my_model
gcloud ai-platform versions create v1 --model=my_model --origin=gs://path_to_my_model --runtime-version=2.1 --python-version=3.7</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>El despliegue de un modelo de TensorFlow implica varios pasos, desde exportar el modelo hasta servirlo en un entorno de producción. Ya sea que estés desplegando en un servidor local, dispositivo móvil o plataforma en la nube, TensorFlow proporciona las herramientas y bibliotecas necesarias para hacer que el proceso sea sencillo. Al entender los conceptos básicos del despliegue de modelos y explorar técnicas avanzadas, puedes asegurar que tus modelos de aprendizaje automático se integren efectivamente en aplicaciones del mundo real.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='tensorflow-serving'>&#x25C4;TensorFlow Serving</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Despliegue de Modelos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='tensorflow-lite'>TensorFlow Lite &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
