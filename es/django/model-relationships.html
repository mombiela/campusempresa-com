<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relaciones entre Modelos</title>

    <link rel="alternate" href="https://campusempresa.com/es/django/model-relationships" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/django/model-relationships" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/django/model-relationships" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/django/model-relationships" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='querying-the-database'>&#x25C4;Consultando la Base de Datos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Relaciones entre Modelos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-forms'>Introducción a los Formularios &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En Django, las relaciones entre modelos son una parte crucial del diseño de un esquema de base de datos robusto y eficiente. Entender cómo definir y usar estas relaciones te ayudará a construir aplicaciones complejas con datos interconectados.</p>
</div><h1>Tipos de Relaciones entre Modelos</h1>
<div class='content'><p>Django soporta tres tipos principales de relaciones entre modelos:</p>
<ol>
<li><strong>Relaciones Uno a Uno</strong></li>
<li><strong>Relaciones Muchos a Uno (ForeignKey)</strong></li>
<li><strong>Relaciones Muchos a Muchos</strong></li>
</ol>
</div><h2>Relaciones Uno a Uno</h2>
<div class='content'><p>Una relación uno a uno es similar a un ForeignKey con <code>unique=True</code>. Este tipo de relación se usa cuando cada instancia de un modelo A puede estar asociada con una y solo una instancia de un modelo B.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgVXNlclByb2ZpbGUobW9kZWxzLk1vZGVsKToKICAgIHVzZXIgPSBtb2RlbHMuT25lVG9PbmVGaWVsZChVc2VyLCBvbl9kZWxldGU9bW9kZWxzLkNBU0NBREUpCiAgICBiaW8gPSBtb2RlbHMuVGV4dEZpZWxkKCkKCmNsYXNzIFVzZXIobW9kZWxzLk1vZGVsKToKICAgIHVzZXJuYW1lID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIGVtYWlsID0gbW9kZWxzLkVtYWlsRmllbGQoKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.db import models

class UserProfile(models.Model):
    user = models.OneToOneField(User, on_delete=models.CASCADE)
    bio = models.TextField()

class User(models.Model):
    username = models.CharField(max_length=100)
    email = models.EmailField()</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>: En este ejemplo, cada <code>UserProfile</code> está vinculado a un <code>User</code>. El argumento <code>on_delete=models.CASCADE</code> asegura que si un <code>User</code> es eliminado, el <code>UserProfile</code> correspondiente también sea eliminado.</li>
</ul>
</div><h2>Relaciones Muchos a Uno (ForeignKey)</h2>
<div class='content'><p>Una relación muchos a uno se usa cuando múltiples instancias del modelo A pueden estar asociadas con una instancia del modelo B. Este es el tipo de relación más común.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgQXV0aG9yKG1vZGVscy5Nb2RlbCk6CiAgICBuYW1lID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKCmNsYXNzIEJvb2sobW9kZWxzLk1vZGVsKToKICAgIHRpdGxlID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIGF1dGhvciA9IG1vZGVscy5Gb3JlaWduS2V5KEF1dGhvciwgb25fZGVsZXRlPW1vZGVscy5DQVNDQURFKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.db import models

class Author(models.Model):
    name = models.CharField(max_length=100)

class Book(models.Model):
    title = models.CharField(max_length=100)
    author = models.ForeignKey(Author, on_delete=models.CASCADE)</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>: Aquí, múltiples instancias de <code>Book</code> pueden estar asociadas con un solo <code>Author</code>. El argumento <code>on_delete=models.CASCADE</code> asegura que si un <code>Author</code> es eliminado, todas sus instancias de <code>Book</code> también sean eliminadas.</li>
</ul>
</div><h2>Relaciones Muchos a Muchos</h2>
<div class='content'><p>Una relación muchos a muchos se usa cuando múltiples instancias del modelo A pueden estar asociadas con múltiples instancias del modelo B.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgU3R1ZGVudChtb2RlbHMuTW9kZWwpOgogICAgbmFtZSA9IG1vZGVscy5DaGFyRmllbGQobWF4X2xlbmd0aD0xMDApCgpjbGFzcyBDb3Vyc2UobW9kZWxzLk1vZGVsKToKICAgIHRpdGxlID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIHN0dWRlbnRzID0gbW9kZWxzLk1hbnlUb01hbnlGaWVsZChTdHVkZW50KQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.db import models

class Student(models.Model):
    name = models.CharField(max_length=100)

class Course(models.Model):
    title = models.CharField(max_length=100)
    students = models.ManyToManyField(Student)</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>: En este ejemplo, un <code>Student</code> puede inscribirse en múltiples instancias de <code>Course</code>, y un <code>Course</code> puede tener múltiples instancias de <code>Student</code>.</li>
</ul>
</div><h1>Uso de Objetos Relacionados</h1>
<div class='content'><p>Django proporciona una API poderosa para acceder a objetos relacionados.</p>
</div><h2>Acceso a Objetos Relacionados</h2>
<div class='content'><ul>
<li>
<p><strong>Uno a Uno</strong>: Accede al objeto relacionado directamente usando el nombre del atributo.</p>
<pre><code class="language-python">user_profile = UserProfile.objects.get(id=1)
user = user_profile.user
</code></pre>
</li>
<li>
<p><strong>Muchos a Uno</strong>: Usa la relación inversa añadiendo <code>_set</code> al nombre del modelo.</p>
<pre><code class="language-python">author = Author.objects.get(id=1)
books = author.book_set.all()
</code></pre>
</li>
<li>
<p><strong>Muchos a Muchos</strong>: Usa el nombre del atributo para acceder a los objetos relacionados.</p>
<pre><code class="language-python">course = Course.objects.get(id=1)
students = course.students.all()
</code></pre>
</li>
</ul>
</div><h2>Añadir y Eliminar Relaciones</h2>
<div class='content'><ul>
<li>
<p><strong>Uno a Uno</strong>: Asigna el objeto relacionado directamente.</p>
<pre><code class="language-python">user_profile.user = user
user_profile.save()
</code></pre>
</li>
<li>
<p><strong>Muchos a Uno</strong>: Asigna el objeto relacionado directamente.</p>
<pre><code class="language-python">book.author = author
book.save()
</code></pre>
</li>
<li>
<p><strong>Muchos a Muchos</strong>: Usa los métodos <code>add</code> y <code>remove</code>.</p>
<pre><code class="language-python">course.students.add(student)
course.students.remove(student)
</code></pre>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Entender y usar efectivamente las relaciones entre modelos en Django es esencial para construir aplicaciones complejas y escalables. Al dominar las relaciones uno a uno, muchos a uno y muchos a muchos, puedes diseñar un esquema de base de datos robusto que represente con precisión las relaciones del mundo real entre tus entidades de datos. Practica estos conceptos con ejemplos del mundo real para solidificar tu comprensión y volverte competente en las relaciones entre modelos de Django.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='querying-the-database'>&#x25C4;Consultando la Base de Datos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Relaciones entre Modelos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-forms'>Introducción a los Formularios &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
