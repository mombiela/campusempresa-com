<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas de Integración</title>

    <link rel="alternate" href="https://campusempresa.com/es/django/integration-tests" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/django/integration-tests" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/django/integration-tests" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/django/integration-tests" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='unit-tests'>&#x25C4; Pruebas Unitarias</a></div><div class='col-6 text-end'><a href='testing-views-and-templates'>Pruebas de Vistas y Plantillas &#x25BA;</a></div></div><div class='content'><p>Las pruebas de integración son esenciales para asegurar que las diferentes partes de tu aplicación Django funcionen juntas como se espera. A diferencia de las pruebas unitarias, que prueban componentes individuales en aislamiento, las pruebas de integración se centran en las interacciones entre componentes.</p>
</div><h1>¿Qué son las Pruebas de Integración?</h1>
<div class='content'><ul>
<li><strong>Definición</strong>: Las pruebas de integración verifican que múltiples componentes de tu aplicación funcionen correctamente juntos.</li>
<li><strong>Propósito</strong>: Ayudan a detectar problemas que surgen de la interacción entre diferentes partes del sistema.</li>
<li><strong>Alcance</strong>: Típicamente más amplio que las pruebas unitarias, cubriendo múltiples módulos o incluso toda la aplicación.</li>
</ul>
</div><h1>¿Por qué Usar Pruebas de Integración en Django?</h1>
<div class='content'><ul>
<li><strong>Cobertura Integral</strong>: Asegura que toda la aplicación funcione como se espera.</li>
<li><strong>Detección Temprana de Errores</strong>: Identifica problemas que las pruebas unitarias podrían pasar por alto.</li>
<li><strong>Confianza en el Código</strong>: Proporciona mayor seguridad de que los cambios no romperán la aplicación.</li>
</ul>
</div><h1>Configuración de Pruebas de Integración en Django</h1>
<div class='content'></div><h2>Requisitos Previos</h2>
<div class='content'><ul>
<li>Comprensión básica de los modelos, vistas y plantillas de Django.</li>
<li>Familiaridad con el marco de pruebas de Django.</li>
</ul>
</div><h2>Creación de un Caso de Prueba</h2>
<div class='content'><p>Django usa la clase <code>TestCase</code> de <code>django.test</code> para crear pruebas de integración. Aquí hay un ejemplo simple:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28udGVzdCBpbXBvcnQgVGVzdENhc2UKZnJvbSBkamFuZ28udXJscyBpbXBvcnQgcmV2ZXJzZQpmcm9tIG15YXBwLm1vZGVscyBpbXBvcnQgTXlNb2RlbAoKY2xhc3MgTXlNb2RlbEludGVncmF0aW9uVGVzdChUZXN0Q2FzZSk6CiAgICBkZWYgc2V0VXAoc2VsZik6CiAgICAgICAgIyBDb25maWd1cmFyIGRhdG9zIGluaWNpYWxlcyBwYXJhIGxhIHBydWViYQogICAgICAgIHNlbGYubXlfbW9kZWxfaW5zdGFuY2UgPSBNeU1vZGVsLm9iamVjdHMuY3JlYXRlKGZpZWxkMT0ndmFsdWUxJywgZmllbGQyPSd2YWx1ZTInKQoKICAgIGRlZiB0ZXN0X21vZGVsX3ZpZXdfaW50ZWdyYXRpb24oc2VsZik6CiAgICAgICAgIyBQcm9iYXIgbGEgaW50ZXJhY2Npw7NuIGVudHJlIGVsIG1vZGVsbyB5IGxhIHZpc3RhCiAgICAgICAgcmVzcG9uc2UgPSBzZWxmLmNsaWVudC5nZXQocmV2ZXJzZSgnbXlfbW9kZWxfZGV0YWlsJywgYXJncz1bc2VsZi5teV9tb2RlbF9pbnN0YW5jZS5pZF0pKQogICAgICAgIHNlbGYuYXNzZXJ0RXF1YWwocmVzcG9uc2Uuc3RhdHVzX2NvZGUsIDIwMCkKICAgICAgICBzZWxmLmFzc2VydENvbnRhaW5zKHJlc3BvbnNlLCAndmFsdWUxJyk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.test import TestCase
from django.urls import reverse
from myapp.models import MyModel

class MyModelIntegrationTest(TestCase):
    def setUp(self):
        # Configurar datos iniciales para la prueba
        self.my_model_instance = MyModel.objects.create(field1='value1', field2='value2')

    def test_model_view_integration(self):
        # Probar la interacci&oacute;n entre el modelo y la vista
        response = self.client.get(reverse('my_model_detail', args=[self.my_model_instance.id]))
        self.assertEqual(response.status_code, 200)
        self.assertContains(response, 'value1')</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Método setUp</strong>: Inicializa los datos necesarios para la prueba.</li>
<li><strong>Método test_model_view_integration</strong>: Prueba la interacción entre el modelo y la vista haciendo una solicitud GET a la vista y verificando la respuesta.</li>
</ul>
</div><h1>Mejores Prácticas para Pruebas de Integración</h1>
<div class='content'><ul>
<li><strong>Aislar Pruebas</strong>: Asegúrate de que cada prueba sea independiente y no dependa del estado dejado por otras pruebas.</li>
<li><strong>Usar Fixtures</strong>: Utiliza las fixtures de Django para configurar datos iniciales.</li>
<li><strong>Simular Servicios Externos</strong>: Usa simulaciones para imitar interacciones con servicios externos.</li>
</ul>
</div><h2>Ejemplo de Uso de Fixtures</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28udGVzdCBpbXBvcnQgVGVzdENhc2UKZnJvbSBkamFuZ28udXJscyBpbXBvcnQgcmV2ZXJzZQpmcm9tIG15YXBwLm1vZGVscyBpbXBvcnQgTXlNb2RlbAoKY2xhc3MgTXlNb2RlbEludGVncmF0aW9uVGVzdChUZXN0Q2FzZSk6CiAgICBmaXh0dXJlcyA9IFsnbXlfbW9kZWxfZml4dHVyZS5qc29uJ10KCiAgICBkZWYgdGVzdF9tb2RlbF92aWV3X2ludGVncmF0aW9uKHNlbGYpOgogICAgICAgIG15X21vZGVsX2luc3RhbmNlID0gTXlNb2RlbC5vYmplY3RzLmdldChwaz0xKQogICAgICAgIHJlc3BvbnNlID0gc2VsZi5jbGllbnQuZ2V0KHJldmVyc2UoJ215X21vZGVsX2RldGFpbCcsIGFyZ3M9W215X21vZGVsX2luc3RhbmNlLmlkXSkpCiAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXNwb25zZS5zdGF0dXNfY29kZSwgMjAwKQogICAgICAgIHNlbGYuYXNzZXJ0Q29udGFpbnMocmVzcG9uc2UsICd2YWx1ZTEnKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.test import TestCase
from django.urls import reverse
from myapp.models import MyModel

class MyModelIntegrationTest(TestCase):
    fixtures = ['my_model_fixture.json']

    def test_model_view_integration(self):
        my_model_instance = MyModel.objects.get(pk=1)
        response = self.client.get(reverse('my_model_detail', args=[my_model_instance.id]))
        self.assertEqual(response.status_code, 200)
        self.assertContains(response, 'value1')</pre></div><div class='content'></div><h2>Simulación de Servicios Externos</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28udGVzdCBpbXBvcnQgVGVzdENhc2UKZnJvbSB1bml0dGVzdC5tb2NrIGltcG9ydCBwYXRjaApmcm9tIG15YXBwLnNlcnZpY2VzIGltcG9ydCBleHRlcm5hbF9zZXJ2aWNlCgpjbGFzcyBFeHRlcm5hbFNlcnZpY2VJbnRlZ3JhdGlvblRlc3QoVGVzdENhc2UpOgogICAgQHBhdGNoKCdteWFwcC5zZXJ2aWNlcy5leHRlcm5hbF9zZXJ2aWNlLmNhbGwnKQogICAgZGVmIHRlc3RfZXh0ZXJuYWxfc2VydmljZV9pbnRlZ3JhdGlvbihzZWxmLCBtb2NrX2NhbGwpOgogICAgICAgIG1vY2tfY2FsbC5yZXR1cm5fdmFsdWUgPSB7J3N0YXR1cyc6ICdzdWNjZXNzJ30KICAgICAgICByZXNwb25zZSA9IHNlbGYuY2xpZW50LmdldCgnL2V4dGVybmFsLXNlcnZpY2UtZW5kcG9pbnQvJykKICAgICAgICBzZWxmLmFzc2VydEVxdWFsKHJlc3BvbnNlLnN0YXR1c19jb2RlLCAyMDApCiAgICAgICAgc2VsZi5hc3NlcnRDb250YWlucyhyZXNwb25zZSwgJ3N1Y2Nlc3MnKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.test import TestCase
from unittest.mock import patch
from myapp.services import external_service

class ExternalServiceIntegrationTest(TestCase):
    @patch('myapp.services.external_service.call')
    def test_external_service_integration(self, mock_call):
        mock_call.return_value = {'status': 'success'}
        response = self.client.get('/external-service-endpoint/')
        self.assertEqual(response.status_code, 200)
        self.assertContains(response, 'success')</pre></div><div class='content'></div><h1>Ejecución de Pruebas de Integración</h1>
<div class='content'><ul>
<li>Usa el comando <code>manage.py test</code> de Django para ejecutar tus pruebas de integración.</li>
<li>Ejemplo: <code>python manage.py test myapp.tests.test_integration</code></li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Las pruebas de integración son una parte crucial de tu estrategia de pruebas en Django. Ayudan a asegurar que las diferentes partes de tu aplicación funcionen juntas sin problemas. Siguiendo las mejores prácticas y usando el marco de pruebas de Django de manera efectiva, puedes escribir pruebas de integración robustas que proporcionen confianza en la funcionalidad de tu aplicación.</p>
<p>Al final de esta sección, deberías ser capaz de:</p>
<ul>
<li>Entender el propósito y alcance de las pruebas de integración.</li>
<li>Configurar y escribir pruebas de integración en Django.</li>
<li>Aplicar mejores prácticas para asegurar que tus pruebas sean efectivas y mantenibles.</li>
</ul>
</div><div class='row navigation'><div class='col-6'><a href='unit-tests'>&#x25C4; Pruebas Unitarias</a></div><div class='col-6 text-end'><a href='testing-views-and-templates'>Pruebas de Vistas y Plantillas &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
