<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Construyendo un Sitio de Comercio Electrónico con Django</title>

    <link rel="alternate" href="https://campusempresa.com/es/django/building-an-e-commerce-site" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/django/building-an-e-commerce-site" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/django/building-an-e-commerce-site" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/django/building-an-e-commerce-site" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En este curso, te guiaremos a través del proceso de construir un sitio de comercio electrónico completamente funcional usando Django, un framework web de alto nivel para Python. Este curso está estructurado para llevarte de un nivel principiante a un nivel avanzado, cubriendo todos los aspectos esenciales del desarrollo con Django.</p>
</div><h1>Requisitos Previos</h1>
<div class='content'><p>Antes de comenzar este curso, deberías tener:</p>
<ul>
<li>Conocimientos básicos de programación en Python.</li>
<li>Familiaridad con HTML, CSS y JavaScript.</li>
<li>Comprensión básica de los conceptos de desarrollo web.</li>
</ul>
</div><h1>Configuración del Entorno de Desarrollo</h1>
<div class='content'><ul>
<li>Instalar Python y Django.</li>
<li>Configurar un entorno virtual.</li>
<li>Crear un nuevo proyecto Django.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbnN0YWxhciBEamFuZ28KcGlwIGluc3RhbGwgZGphbmdvCgojIENyZWFyIHVuIG51ZXZvIHByb3llY3RvIERqYW5nbwpkamFuZ28tYWRtaW4gc3RhcnRwcm9qZWN0IGVjb21tZXJjZV9zaXRlCgojIE5hdmVnYXIgYWwgZGlyZWN0b3JpbyBkZWwgcHJveWVjdG8KY2QgZWNvbW1lcmNlX3NpdGUKCiMgQ3JlYXIgdW4gZW50b3JubyB2aXJ0dWFsCnB5dGhvbiAtbSB2ZW52IHZlbnYKCiMgQWN0aXZhciBlbCBlbnRvcm5vIHZpcnR1YWwKIyBFbiBXaW5kb3dzCnZlbnZcU2NyaXB0c1xhY3RpdmF0ZQojIEVuIG1hY09TL0xpbnV4CnNvdXJjZSB2ZW52L2Jpbi9hY3RpdmF0ZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Instalar Django
pip install django

# Crear un nuevo proyecto Django
django-admin startproject ecommerce_site

# Navegar al directorio del proyecto
cd ecommerce_site

# Crear un entorno virtual
python -m venv venv

# Activar el entorno virtual
# En Windows
venv\Scripts\activate
# En macOS/Linux
source venv/bin/activate</pre></div><div class='content'></div><h1>Creando la Aplicación Django</h1>
<div class='content'><ul>
<li>Crear una nueva aplicación Django para la funcionalidad de comercio electrónico.</li>
<li>Registrar la aplicación en la configuración del proyecto.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhciB1bmEgbnVldmEgYXBsaWNhY2nDs24KcHl0aG9uIG1hbmFnZS5weSBzdGFydGFwcCBzdG9yZQoKIyBSZWdpc3RyYXIgbGEgYXBsaWNhY2nDs24gZW4gc2V0dGluZ3MucHkKIyBlY29tbWVyY2Vfc2l0ZS9zZXR0aW5ncy5weQpJTlNUQUxMRURfQVBQUyA9IFsKICAgIC4uLgogICAgJ3N0b3JlJywKXQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Crear una nueva aplicaci&oacute;n
python manage.py startapp store

# Registrar la aplicaci&oacute;n en settings.py
# ecommerce_site/settings.py
INSTALLED_APPS = [
    ...
    'store',
]</pre></div><div class='content'></div><h1>Diseñando los Modelos</h1>
<div class='content'><ul>
<li>Definir los modelos para productos, categorías y pedidos.</li>
<li>Usar el ORM de Django para interactuar con la base de datos.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzdG9yZS9tb2RlbHMucHkKZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgQ2F0ZWdvcnkobW9kZWxzLk1vZGVsKToKICAgIG5hbWUgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9MjU1KQogICAgc2x1ZyA9IG1vZGVscy5TbHVnRmllbGQodW5pcXVlPVRydWUpCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYubmFtZQoKY2xhc3MgUHJvZHVjdChtb2RlbHMuTW9kZWwpOgogICAgY2F0ZWdvcnkgPSBtb2RlbHMuRm9yZWlnbktleShDYXRlZ29yeSwgcmVsYXRlZF9uYW1lPSdwcm9kdWN0cycsIG9uX2RlbGV0ZT1tb2RlbHMuQ0FTQ0FERSkKICAgIG5hbWUgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9MjU1KQogICAgc2x1ZyA9IG1vZGVscy5TbHVnRmllbGQodW5pcXVlPVRydWUpCiAgICBkZXNjcmlwdGlvbiA9IG1vZGVscy5UZXh0RmllbGQoKQogICAgcHJpY2UgPSBtb2RlbHMuRGVjaW1hbEZpZWxkKG1heF9kaWdpdHM9MTAsIGRlY2ltYWxfcGxhY2VzPTIpCiAgICBzdG9jayA9IG1vZGVscy5JbnRlZ2VyRmllbGQoKQogICAgYXZhaWxhYmxlID0gbW9kZWxzLkJvb2xlYW5GaWVsZChkZWZhdWx0PVRydWUpCiAgICBjcmVhdGVkID0gbW9kZWxzLkRhdGVUaW1lRmllbGQoYXV0b19ub3dfYWRkPVRydWUpCiAgICB1cGRhdGVkID0gbW9kZWxzLkRhdGVUaW1lRmllbGQoYXV0b19ub3c9VHJ1ZSkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5uYW1lCgpjbGFzcyBPcmRlcihtb2RlbHMuTW9kZWwpOgogICAgcHJvZHVjdCA9IG1vZGVscy5Gb3JlaWduS2V5KFByb2R1Y3QsIHJlbGF0ZWRfbmFtZT0nb3JkZXJzJywgb25fZGVsZXRlPW1vZGVscy5DQVNDQURFKQogICAgcXVhbnRpdHkgPSBtb2RlbHMuSW50ZWdlckZpZWxkKCkKICAgIGNyZWF0ZWQgPSBtb2RlbHMuRGF0ZVRpbWVGaWVsZChhdXRvX25vd19hZGQ9VHJ1ZSkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gZidPcmRlciB7c2VsZi5pZH0n"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># store/models.py
from django.db import models

class Category(models.Model):
    name = models.CharField(max_length=255)
    slug = models.SlugField(unique=True)

    def __str__(self):
        return self.name

class Product(models.Model):
    category = models.ForeignKey(Category, related_name='products', on_delete=models.CASCADE)
    name = models.CharField(max_length=255)
    slug = models.SlugField(unique=True)
    description = models.TextField()
    price = models.DecimalField(max_digits=10, decimal_places=2)
    stock = models.IntegerField()
    available = models.BooleanField(default=True)
    created = models.DateTimeField(auto_now_add=True)
    updated = models.DateTimeField(auto_now=True)

    def __str__(self):
        return self.name

class Order(models.Model):
    product = models.ForeignKey(Product, related_name='orders', on_delete=models.CASCADE)
    quantity = models.IntegerField()
    created = models.DateTimeField(auto_now_add=True)

    def __str__(self):
        return f'Order {self.id}'</pre></div><div class='content'></div><h1>Creando Vistas y Plantillas</h1>
<div class='content'><ul>
<li>Crear vistas para mostrar productos y categorías.</li>
<li>Usar plantillas de Django para renderizar HTML.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzdG9yZS92aWV3cy5weQpmcm9tIGRqYW5nby5zaG9ydGN1dHMgaW1wb3J0IHJlbmRlciwgZ2V0X29iamVjdF9vcl80MDQKZnJvbSAubW9kZWxzIGltcG9ydCBDYXRlZ29yeSwgUHJvZHVjdAoKZGVmIHByb2R1Y3RfbGlzdChyZXF1ZXN0LCBjYXRlZ29yeV9zbHVnPU5vbmUpOgogICAgY2F0ZWdvcnkgPSBOb25lCiAgICBjYXRlZ29yaWVzID0gQ2F0ZWdvcnkub2JqZWN0cy5hbGwoKQogICAgcHJvZHVjdHMgPSBQcm9kdWN0Lm9iamVjdHMuZmlsdGVyKGF2YWlsYWJsZT1UcnVlKQogICAgaWYgY2F0ZWdvcnlfc2x1ZzoKICAgICAgICBjYXRlZ29yeSA9IGdldF9vYmplY3Rfb3JfNDA0KENhdGVnb3J5LCBzbHVnPWNhdGVnb3J5X3NsdWcpCiAgICAgICAgcHJvZHVjdHMgPSBwcm9kdWN0cy5maWx0ZXIoY2F0ZWdvcnk9Y2F0ZWdvcnkpCiAgICByZXR1cm4gcmVuZGVyKHJlcXVlc3QsICdzdG9yZS9wcm9kdWN0L2xpc3QuaHRtbCcsIHsnY2F0ZWdvcnknOiBjYXRlZ29yeSwgJ2NhdGVnb3JpZXMnOiBjYXRlZ29yaWVzLCAncHJvZHVjdHMnOiBwcm9kdWN0c30pCgpkZWYgcHJvZHVjdF9kZXRhaWwocmVxdWVzdCwgaWQsIHNsdWcpOgogICAgcHJvZHVjdCA9IGdldF9vYmplY3Rfb3JfNDA0KFByb2R1Y3QsIGlkPWlkLCBzbHVnPXNsdWcsIGF2YWlsYWJsZT1UcnVlKQogICAgcmV0dXJuIHJlbmRlcihyZXF1ZXN0LCAnc3RvcmUvcHJvZHVjdC9kZXRhaWwuaHRtbCcsIHsncHJvZHVjdCc6IHByb2R1Y3R9KQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># store/views.py
from django.shortcuts import render, get_object_or_404
from .models import Category, Product

def product_list(request, category_slug=None):
    category = None
    categories = Category.objects.all()
    products = Product.objects.filter(available=True)
    if category_slug:
        category = get_object_or_404(Category, slug=category_slug)
        products = products.filter(category=category)
    return render(request, 'store/product/list.html', {'category': category, 'categories': categories, 'products': products})

def product_detail(request, id, slug):
    product = get_object_or_404(Product, id=id, slug=slug, available=True)
    return render(request, 'store/product/detail.html', {'product': product})</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBzdG9yZS90ZW1wbGF0ZXMvc3RvcmUvcHJvZHVjdC9saXN0Lmh0bWwgLS0+CnslIGV4dGVuZHMgImJhc2UuaHRtbCIgJX0KCnslIGJsb2NrIGNvbnRlbnQgJX0KPGgxPkxpc3RhIGRlIFByb2R1Y3RvczwvaDE+Cjx1bD4KICAgIHslIGZvciBwcm9kdWN0IGluIHByb2R1Y3RzICV9CiAgICA8bGk+CiAgICAgICAgPGEgaHJlZj0ie3sgcHJvZHVjdC5nZXRfYWJzb2x1dGVfdXJsIH19Ij57eyBwcm9kdWN0Lm5hbWUgfX08L2E+CiAgICA8L2xpPgogICAgeyUgZW5kZm9yICV9CjwvdWw+CnslIGVuZGJsb2NrICV9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- store/templates/store/product/list.html --&gt;
{% extends &quot;base.html&quot; %}

{% block content %}
&lt;h1&gt;Lista de Productos&lt;/h1&gt;
&lt;ul&gt;
    {% for product in products %}
    &lt;li&gt;
        &lt;a href=&quot;{{ product.get_absolute_url }}&quot;&gt;{{ product.name }}&lt;/a&gt;
    &lt;/li&gt;
    {% endfor %}
&lt;/ul&gt;
{% endblock %}</pre></div><div class='content'></div><h1>Añadiendo Autenticación de Usuarios</h1>
<div class='content'><ul>
<li>Implementar funcionalidad de registro, inicio de sesión y cierre de sesión de usuarios.</li>
<li>Usar el sistema de autenticación incorporado de Django.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzdG9yZS9mb3Jtcy5weQpmcm9tIGRqYW5nbyBpbXBvcnQgZm9ybXMKZnJvbSBkamFuZ28uY29udHJpYi5hdXRoLm1vZGVscyBpbXBvcnQgVXNlcgoKY2xhc3MgVXNlclJlZ2lzdHJhdGlvbkZvcm0oZm9ybXMuTW9kZWxGb3JtKToKICAgIHBhc3N3b3JkID0gZm9ybXMuQ2hhckZpZWxkKGxhYmVsPSdQYXNzd29yZCcsIHdpZGdldD1mb3Jtcy5QYXNzd29yZElucHV0KQogICAgcGFzc3dvcmQyID0gZm9ybXMuQ2hhckZpZWxkKGxhYmVsPSdSZXBlYXQgcGFzc3dvcmQnLCB3aWRnZXQ9Zm9ybXMuUGFzc3dvcmRJbnB1dCkKCiAgICBjbGFzcyBNZXRhOgogICAgICAgIG1vZGVsID0gVXNlcgogICAgICAgIGZpZWxkcyA9ICgndXNlcm5hbWUnLCAnZmlyc3RfbmFtZScsICdlbWFpbCcpCgogICAgZGVmIGNsZWFuX3Bhc3N3b3JkMihzZWxmKToKICAgICAgICBjZCA9IHNlbGYuY2xlYW5lZF9kYXRhCiAgICAgICAgaWYgY2RbJ3Bhc3N3b3JkJ10gIT0gY2RbJ3Bhc3N3b3JkMiddOgogICAgICAgICAgICByYWlzZSBmb3Jtcy5WYWxpZGF0aW9uRXJyb3IoJ0xhcyBjb250cmFzZcOxYXMgbm8gY29pbmNpZGVuLicpCiAgICAgICAgcmV0dXJuIGNkWydwYXNzd29yZDInXQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># store/forms.py
from django import forms
from django.contrib.auth.models import User

class UserRegistrationForm(forms.ModelForm):
    password = forms.CharField(label='Password', widget=forms.PasswordInput)
    password2 = forms.CharField(label='Repeat password', widget=forms.PasswordInput)

    class Meta:
        model = User
        fields = ('username', 'first_name', 'email')

    def clean_password2(self):
        cd = self.cleaned_data
        if cd['password'] != cd['password2']:
            raise forms.ValidationError('Las contrase&ntilde;as no coinciden.')
        return cd['password2']</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzdG9yZS92aWV3cy5weSAodmlzdGFzIGFkaWNpb25hbGVzIHBhcmEgYXV0ZW50aWNhY2nDs24pCmZyb20gZGphbmdvLmNvbnRyaWIuYXV0aCBpbXBvcnQgYXV0aGVudGljYXRlLCBsb2dpbgpmcm9tIC5mb3JtcyBpbXBvcnQgVXNlclJlZ2lzdHJhdGlvbkZvcm0KCmRlZiByZWdpc3RlcihyZXF1ZXN0KToKICAgIGlmIHJlcXVlc3QubWV0aG9kID09ICdQT1NUJzoKICAgICAgICBmb3JtID0gVXNlclJlZ2lzdHJhdGlvbkZvcm0ocmVxdWVzdC5QT1NUKQogICAgICAgIGlmIGZvcm0uaXNfdmFsaWQoKToKICAgICAgICAgICAgbmV3X3VzZXIgPSBmb3JtLnNhdmUoY29tbWl0PUZhbHNlKQogICAgICAgICAgICBuZXdfdXNlci5zZXRfcGFzc3dvcmQoZm9ybS5jbGVhbmVkX2RhdGFbJ3Bhc3N3b3JkJ10pCiAgICAgICAgICAgIG5ld191c2VyLnNhdmUoKQogICAgICAgICAgICByZXR1cm4gcmVuZGVyKHJlcXVlc3QsICdzdG9yZS9yZWdpc3Rlcl9kb25lLmh0bWwnLCB7J25ld191c2VyJzogbmV3X3VzZXJ9KQogICAgZWxzZToKICAgICAgICBmb3JtID0gVXNlclJlZ2lzdHJhdGlvbkZvcm0oKQogICAgcmV0dXJuIHJlbmRlcihyZXF1ZXN0LCAnc3RvcmUvcmVnaXN0ZXIuaHRtbCcsIHsnZm9ybSc6IGZvcm19KQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># store/views.py (vistas adicionales para autenticaci&oacute;n)
from django.contrib.auth import authenticate, login
from .forms import UserRegistrationForm

def register(request):
    if request.method == 'POST':
        form = UserRegistrationForm(request.POST)
        if form.is_valid():
            new_user = form.save(commit=False)
            new_user.set_password(form.cleaned_data['password'])
            new_user.save()
            return render(request, 'store/register_done.html', {'new_user': new_user})
    else:
        form = UserRegistrationForm()
    return render(request, 'store/register.html', {'form': form})</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBzdG9yZS90ZW1wbGF0ZXMvc3RvcmUvcmVnaXN0ZXIuaHRtbCAtLT4KeyUgZXh0ZW5kcyAiYmFzZS5odG1sIiAlfQoKeyUgYmxvY2sgY29udGVudCAlfQo8aDE+UmVnaXN0cmFyc2U8L2gxPgo8Zm9ybSBtZXRob2Q9InBvc3QiPgogICAge3sgZm9ybS5hc19wIH19CiAgICB7JSBjc3JmX3Rva2VuICV9CiAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCI+UmVnaXN0cmFyc2U8L2J1dHRvbj4KPC9mb3JtPgp7JSBlbmRibG9jayAlfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- store/templates/store/register.html --&gt;
{% extends &quot;base.html&quot; %}

{% block content %}
&lt;h1&gt;Registrarse&lt;/h1&gt;
&lt;form method=&quot;post&quot;&gt;
    {{ form.as_p }}
    {% csrf_token %}
    &lt;button type=&quot;submit&quot;&gt;Registrarse&lt;/button&gt;
&lt;/form&gt;
{% endblock %}</pre></div><div class='content'></div><h1>Implementando Funcionalidad de Carrito de Compras</h1>
<div class='content'><ul>
<li>Crear un carrito de compras usando sesiones de Django.</li>
<li>Añadir vistas para gestionar el carrito.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzdG9yZS9jYXJ0LnB5CmZyb20gZGVjaW1hbCBpbXBvcnQgRGVjaW1hbApmcm9tIGRqYW5nby5jb25mIGltcG9ydCBzZXR0aW5ncwpmcm9tIC5tb2RlbHMgaW1wb3J0IFByb2R1Y3QKCmNsYXNzIENhcnQob2JqZWN0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCByZXF1ZXN0KToKICAgICAgICBzZWxmLnNlc3Npb24gPSByZXF1ZXN0LnNlc3Npb24KICAgICAgICBjYXJ0ID0gc2VsZi5zZXNzaW9uLmdldChzZXR0aW5ncy5DQVJUX1NFU1NJT05fSUQpCiAgICAgICAgaWYgbm90IGNhcnQ6CiAgICAgICAgICAgIGNhcnQgPSBzZWxmLnNlc3Npb25bc2V0dGluZ3MuQ0FSVF9TRVNTSU9OX0lEXSA9IHt9CiAgICAgICAgc2VsZi5jYXJ0ID0gY2FydAoKICAgIGRlZiBhZGQoc2VsZiwgcHJvZHVjdCwgcXVhbnRpdHk9MSwgdXBkYXRlX3F1YW50aXR5PUZhbHNlKToKICAgICAgICBwcm9kdWN0X2lkID0gc3RyKHByb2R1Y3QuaWQpCiAgICAgICAgaWYgcHJvZHVjdF9pZCBub3QgaW4gc2VsZi5jYXJ0OgogICAgICAgICAgICBzZWxmLmNhcnRbcHJvZHVjdF9pZF0gPSB7J3F1YW50aXR5JzogMCwgJ3ByaWNlJzogc3RyKHByb2R1Y3QucHJpY2UpfQogICAgICAgIGlmIHVwZGF0ZV9xdWFudGl0eToKICAgICAgICAgICAgc2VsZi5jYXJ0W3Byb2R1Y3RfaWRdWydxdWFudGl0eSddID0gcXVhbnRpdHkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLmNhcnRbcHJvZHVjdF9pZF1bJ3F1YW50aXR5J10gKz0gcXVhbnRpdHkKICAgICAgICBzZWxmLnNhdmUoKQoKICAgIGRlZiBzYXZlKHNlbGYpOgogICAgICAgIHNlbGYuc2Vzc2lvbi5tb2RpZmllZCA9IFRydWUKCiAgICBkZWYgcmVtb3ZlKHNlbGYsIHByb2R1Y3QpOgogICAgICAgIHByb2R1Y3RfaWQgPSBzdHIocHJvZHVjdC5pZCkKICAgICAgICBpZiBwcm9kdWN0X2lkIGluIHNlbGYuY2FydDoKICAgICAgICAgICAgZGVsIHNlbGYuY2FydFtwcm9kdWN0X2lkXQogICAgICAgICAgICBzZWxmLnNhdmUoKQoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICBwcm9kdWN0X2lkcyA9IHNlbGYuY2FydC5rZXlzKCkKICAgICAgICBwcm9kdWN0cyA9IFByb2R1Y3Qub2JqZWN0cy5maWx0ZXIoaWRfX2luPXByb2R1Y3RfaWRzKQogICAgICAgIGZvciBwcm9kdWN0IGluIHByb2R1Y3RzOgogICAgICAgICAgICBzZWxmLmNhcnRbc3RyKHByb2R1Y3QuaWQpXVsncHJvZHVjdCddID0gcHJvZHVjdAoKICAgICAgICBmb3IgaXRlbSBpbiBzZWxmLmNhcnQudmFsdWVzKCk6CiAgICAgICAgICAgIGl0ZW1bJ3ByaWNlJ10gPSBEZWNpbWFsKGl0ZW1bJ3ByaWNlJ10pCiAgICAgICAgICAgIGl0ZW1bJ3RvdGFsX3ByaWNlJ10gPSBpdGVtWydwcmljZSddICogaXRlbVsncXVhbnRpdHknXQogICAgICAgICAgICB5aWVsZCBpdGVtCgogICAgZGVmIF9fbGVuX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHN1bShpdGVtWydxdWFudGl0eSddIGZvciBpdGVtIGluIHNlbGYuY2FydC52YWx1ZXMoKSkKCiAgICBkZWYgZ2V0X3RvdGFsX3ByaWNlKHNlbGYpOgogICAgICAgIHJldHVybiBzdW0oRGVjaW1hbChpdGVtWydwcmljZSddKSAqIGl0ZW1bJ3F1YW50aXR5J10gZm9yIGl0ZW0gaW4gc2VsZi5jYXJ0LnZhbHVlcygpKQoKICAgIGRlZiBjbGVhcihzZWxmKToKICAgICAgICBkZWwgc2VsZi5zZXNzaW9uW3NldHRpbmdzLkNBUlRfU0VTU0lPTl9JRF0KICAgICAgICBzZWxmLnNhdmUoKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># store/cart.py
from decimal import Decimal
from django.conf import settings
from .models import Product

class Cart(object):
    def __init__(self, request):
        self.session = request.session
        cart = self.session.get(settings.CART_SESSION_ID)
        if not cart:
            cart = self.session[settings.CART_SESSION_ID] = {}
        self.cart = cart

    def add(self, product, quantity=1, update_quantity=False):
        product_id = str(product.id)
        if product_id not in self.cart:
            self.cart[product_id] = {'quantity': 0, 'price': str(product.price)}
        if update_quantity:
            self.cart[product_id]['quantity'] = quantity
        else:
            self.cart[product_id]['quantity'] += quantity
        self.save()

    def save(self):
        self.session.modified = True

    def remove(self, product):
        product_id = str(product.id)
        if product_id in self.cart:
            del self.cart[product_id]
            self.save()

    def __iter__(self):
        product_ids = self.cart.keys()
        products = Product.objects.filter(id__in=product_ids)
        for product in products:
            self.cart[str(product.id)]['product'] = product

        for item in self.cart.values():
            item['price'] = Decimal(item['price'])
            item['total_price'] = item['price'] * item['quantity']
            yield item

    def __len__(self):
        return sum(item['quantity'] for item in self.cart.values())

    def get_total_price(self):
        return sum(Decimal(item['price']) * item['quantity'] for item in self.cart.values())

    def clear(self):
        del self.session[settings.CART_SESSION_ID]
        self.save()</pre></div><div class='content'></div><h1>Procesando Pedidos</h1>
<div class='content'><ul>
<li>Crear modelos y vistas para pedidos.</li>
<li>Integrar pasarelas de pago (por ejemplo, Stripe, PayPal).</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzdG9yZS9tb2RlbHMucHkgKG1vZGVsb3MgYWRpY2lvbmFsZXMgcGFyYSBwZWRpZG9zKQpjbGFzcyBPcmRlcihtb2RlbHMuTW9kZWwpOgogICAgdXNlciA9IG1vZGVscy5Gb3JlaWduS2V5KFVzZXIsIHJlbGF0ZWRfbmFtZT0nb3JkZXJzJywgb25fZGVsZXRlPW1vZGVscy5DQVNDQURFKQogICAgZmlyc3RfbmFtZSA9IG1vZGVscy5DaGFyRmllbGQobWF4X2xlbmd0aD01MCkKICAgIGxhc3RfbmFtZSA9IG1vZGVscy5DaGFyRmllbGQobWF4X2xlbmd0aD01MCkKICAgIGVtYWlsID0gbW9kZWxzLkVtYWlsRmllbGQoKQogICAgYWRkcmVzcyA9IG1vZGVscy5DaGFyRmllbGQobWF4X2xlbmd0aD0yNTApCiAgICBwb3N0YWxfY29kZSA9IG1vZGVscy5DaGFyRmllbGQobWF4X2xlbmd0aD0yMCkKICAgIGNpdHkgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9MTAwKQogICAgY3JlYXRlZCA9IG1vZGVscy5EYXRlVGltZUZpZWxkKGF1dG9fbm93X2FkZD1UcnVlKQogICAgdXBkYXRlZCA9IG1vZGVscy5EYXRlVGltZUZpZWxkKGF1dG9fbm93PVRydWUpCiAgICBwYWlkID0gbW9kZWxzLkJvb2xlYW5GaWVsZChkZWZhdWx0PUZhbHNlKQoKICAgIGRlZiBfX3N0cl9fKHNlbGYpOgogICAgICAgIHJldHVybiBmJ09yZGVyIHtzZWxmLmlkfScKCmNsYXNzIE9yZGVySXRlbShtb2RlbHMuTW9kZWwpOgogICAgb3JkZXIgPSBtb2RlbHMuRm9yZWlnbktleShPcmRlciwgcmVsYXRlZF9uYW1lPSdpdGVtcycsIG9uX2RlbGV0ZT1tb2RlbHMuQ0FTQ0FERSkKICAgIHByb2R1Y3QgPSBtb2RlbHMuRm9yZWlnbktleShQcm9kdWN0LCByZWxhdGVkX25hbWU9J29yZGVyX2l0ZW1zJywgb25fZGVsZXRlPW1vZGVscy5DQVNDQURFKQogICAgcHJpY2UgPSBtb2RlbHMuRGVjaW1hbEZpZWxkKG1heF9kaWdpdHM9MTAsIGRlY2ltYWxfcGxhY2VzPTIpCiAgICBxdWFudGl0eSA9IG1vZGVscy5Qb3NpdGl2ZUludGVnZXJGaWVsZChkZWZhdWx0PTEpCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIGYne3NlbGYuaWR9Jw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># store/models.py (modelos adicionales para pedidos)
class Order(models.Model):
    user = models.ForeignKey(User, related_name='orders', on_delete=models.CASCADE)
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)
    email = models.EmailField()
    address = models.CharField(max_length=250)
    postal_code = models.CharField(max_length=20)
    city = models.CharField(max_length=100)
    created = models.DateTimeField(auto_now_add=True)
    updated = models.DateTimeField(auto_now=True)
    paid = models.BooleanField(default=False)

    def __str__(self):
        return f'Order {self.id}'

class OrderItem(models.Model):
    order = models.ForeignKey(Order, related_name='items', on_delete=models.CASCADE)
    product = models.ForeignKey(Product, related_name='order_items', on_delete=models.CASCADE)
    price = models.DecimalField(max_digits=10, decimal_places=2)
    quantity = models.PositiveIntegerField(default=1)

    def __str__(self):
        return f'{self.id}'</pre></div><div class='content'></div><h1>Características Avanzadas</h1>
<div class='content'><ul>
<li>Implementar reseñas y calificaciones de productos.</li>
<li>Añadir funcionalidad de búsqueda.</li>
<li>Optimizar el rendimiento con caché e indexación de bases de datos.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Al final de este curso, habrás construido un sitio de comercio electrónico integral usando Django. Habrás aprendido cómo configurar un proyecto Django, crear modelos, vistas y plantillas, implementar autenticación de usuarios, gestionar un carrito de compras, procesar pedidos y añadir características avanzadas. Este conocimiento te proporcionará una base sólida para desarrollar aplicaciones web más complejas usando Django.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
