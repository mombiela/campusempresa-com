<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es">Castellano</b>
				|
				<a href="https://campusempresa.cat/plsql/common-pitfalls" id="lnk_lang_ca" data-lang="ca">Català</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En esta sección, exploraremos errores comunes que los desarrolladores encuentran al trabajar con PL/SQL y proporcionaremos estrategias para evitarlos. Comprender estos errores te ayudará a escribir código PL/SQL más eficiente, mantenible y libre de errores.</p>
</div><h1>1. Usar Cursores Implícitos en Lugar de Cursores Explícitos</h1>
<div class='content'><p>Los cursores implícitos son creados automáticamente por Oracle para sentencias SQL individuales. Aunque son convenientes, pueden llevar a problemas de rendimiento y menos control sobre el proceso de ejecución.</p>
<ul>
<li><strong>Error</strong>: Dependencia excesiva en cursores implícitos puede llevar a código menos eficiente.</li>
<li><strong>Solución</strong>: Usa cursores explícitos para un mejor control y rendimiento.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRWplbXBsbyBkZSBDdXJzb3IgSW1wbMOtY2l0bwpCRUdJTgogIEZPUiByZWNvcmQgSU4gKFNFTEVDVCAqIEZST00gZW1wbG95ZWVzKSBMT09QCiAgICBEQk1TX09VVFBVVC5QVVRfTElORShyZWNvcmQuZmlyc3RfbmFtZSk7CiAgRU5EIExPT1A7CkVORDsKLwoKLS0gRWplbXBsbyBkZSBDdXJzb3IgRXhwbMOtY2l0bwpERUNMQVJFCiAgQ1VSU09SIGVtcF9jdXJzb3IgSVMgU0VMRUNUICogRlJPTSBlbXBsb3llZXM7CiAgZW1wX3JlY29yZCBlbXBsb3llZXMlUk9XVFlQRTsKQkVHSU4KICBPUEVOIGVtcF9jdXJzb3I7CiAgTE9PUAogICAgRkVUQ0ggZW1wX2N1cnNvciBJTlRPIGVtcF9yZWNvcmQ7CiAgICBFWElUIFdIRU4gZW1wX2N1cnNvciVOT1RGT1VORDsKICAgIERCTVNfT1VUUFVULlBVVF9MSU5FKGVtcF9yZWNvcmQuZmlyc3RfbmFtZSk7CiAgRU5EIExPT1A7CiAgQ0xPU0UgZW1wX2N1cnNvcjsKRU5EOwov"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Ejemplo de Cursor Impl&iacute;cito
BEGIN
  FOR record IN (SELECT * FROM employees) LOOP
    DBMS_OUTPUT.PUT_LINE(record.first_name);
  END LOOP;
END;
/

-- Ejemplo de Cursor Expl&iacute;cito
DECLARE
  CURSOR emp_cursor IS SELECT * FROM employees;
  emp_record employees%ROWTYPE;
BEGIN
  OPEN emp_cursor;
  LOOP
    FETCH emp_cursor INTO emp_record;
    EXIT WHEN emp_cursor%NOTFOUND;
    DBMS_OUTPUT.PUT_LINE(emp_record.first_name);
  END LOOP;
  CLOSE emp_cursor;
END;
/</pre></div><div class='content'></div><h1>2. No Manejar Excepciones Adecuadamente</h1>
<div class='content'><p>El manejo adecuado de excepciones es crucial para programas PL/SQL robustos. Ignorar excepciones o manejarlas mal puede llevar a comportamientos inesperados y problemas difíciles de depurar.</p>
<ul>
<li><strong>Error</strong>: Capturar excepciones sin un manejo o registro adecuado.</li>
<li><strong>Solución</strong>: Usa manejadores de excepciones específicos y asegúrate de un registro y limpieza adecuados.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gTWFuZWpvIFBvYnJlIGRlIEV4Y2VwY2lvbmVzCkJFR0lOCiAgLS0gQWxndW5hIG9wZXJhY2nDs24gcXVlIHBvZHLDrWEgZmFsbGFyCiAgREVMRVRFIEZST00gZW1wbG95ZWVzIFdIRVJFIGVtcGxveWVlX2lkID0gOTk5OTsKRVhDRVBUSU9OCiAgV0hFTiBPVEhFUlMgVEhFTgogICAgREJNU19PVVRQVVQuUFVUX0xJTkUoJ09jdXJyacOzIHVuIGVycm9yLicpOwpFTkQ7Ci8KCi0tIE1hbmVqbyBNZWpvcmFkbyBkZSBFeGNlcGNpb25lcwpCRUdJTgogIC0tIEFsZ3VuYSBvcGVyYWNpw7NuIHF1ZSBwb2Ryw61hIGZhbGxhcgogIERFTEVURSBGUk9NIGVtcGxveWVlcyBXSEVSRSBlbXBsb3llZV9pZCA9IDk5OTk7CkVYQ0VQVElPTgogIFdIRU4gTk9fREFUQV9GT1VORCBUSEVOCiAgICBEQk1TX09VVFBVVC5QVVRfTElORSgnTm8gc2UgZW5jb250csOzIG5pbmfDum4gZW1wbGVhZG8gY29uIGVsIElEIGRhZG8uJyk7CiAgV0hFTiBPVEhFUlMgVEhFTgogICAgREJNU19PVVRQVVQuUFVUX0xJTkUoJ09jdXJyacOzIHVuIGVycm9yIGluZXNwZXJhZG86ICcgfHwgU1FMRVJSTSk7CiAgICAtLSBTZSBwdWVkZSBoYWNlciByZWdpc3RybyBhZGljaW9uYWwgbyBsaW1waWV6YSBhcXXDrQpFTkQ7Ci8="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Manejo Pobre de Excepciones
BEGIN
  -- Alguna operaci&oacute;n que podr&iacute;a fallar
  DELETE FROM employees WHERE employee_id = 9999;
EXCEPTION
  WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('Ocurri&oacute; un error.');
END;
/

-- Manejo Mejorado de Excepciones
BEGIN
  -- Alguna operaci&oacute;n que podr&iacute;a fallar
  DELETE FROM employees WHERE employee_id = 9999;
EXCEPTION
  WHEN NO_DATA_FOUND THEN
    DBMS_OUTPUT.PUT_LINE('No se encontr&oacute; ning&uacute;n empleado con el ID dado.');
  WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('Ocurri&oacute; un error inesperado: ' || SQLERRM);
    -- Se puede hacer registro adicional o limpieza aqu&iacute;
END;
/</pre></div><div class='content'></div><h1>3. Constructos de Bucle Ineficientes</h1>
<div class='content'><p>Usar constructos de bucle ineficientes puede degradar el rendimiento, especialmente cuando se trata de grandes conjuntos de datos.</p>
<ul>
<li><strong>Error</strong>: Usar procesamiento fila por fila (lento por lento) en lugar de operaciones basadas en conjuntos.</li>
<li><strong>Solución</strong>: Usa operaciones en bloque y SQL basadas en conjuntos siempre que sea posible.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gUHJvY2VzYW1pZW50byBJbmVmaWNpZW50ZSBGaWxhIHBvciBGaWxhCkRFQ0xBUkUKICBDVVJTT1IgZW1wX2N1cnNvciBJUyBTRUxFQ1QgKiBGUk9NIGVtcGxveWVlczsKICBlbXBfcmVjb3JkIGVtcGxveWVlcyVST1dUWVBFOwpCRUdJTgogIE9QRU4gZW1wX2N1cnNvcjsKICBMT09QCiAgICBGRVRDSCBlbXBfY3Vyc29yIElOVE8gZW1wX3JlY29yZDsKICAgIEVYSVQgV0hFTiBlbXBfY3Vyc29yJU5PVEZPVU5EOwogICAgVVBEQVRFIGVtcGxveWVlcyBTRVQgc2FsYXJ5ID0gc2FsYXJ5ICogMS4xIFdIRVJFIGVtcGxveWVlX2lkID0gZW1wX3JlY29yZC5lbXBsb3llZV9pZDsKICBFTkQgTE9PUDsKICBDTE9TRSBlbXBfY3Vyc29yOwpFTkQ7Ci8KCi0tIFByb2Nlc2FtaWVudG8gZW4gQmxvcXVlIEVmaWNpZW50ZQpCRUdJTgogIFVQREFURSBlbXBsb3llZXMgU0VUIHNhbGFyeSA9IHNhbGFyeSAqIDEuMTsKRU5EOwov"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Procesamiento Ineficiente Fila por Fila
DECLARE
  CURSOR emp_cursor IS SELECT * FROM employees;
  emp_record employees%ROWTYPE;
BEGIN
  OPEN emp_cursor;
  LOOP
    FETCH emp_cursor INTO emp_record;
    EXIT WHEN emp_cursor%NOTFOUND;
    UPDATE employees SET salary = salary * 1.1 WHERE employee_id = emp_record.employee_id;
  END LOOP;
  CLOSE emp_cursor;
END;
/

-- Procesamiento en Bloque Eficiente
BEGIN
  UPDATE employees SET salary = salary * 1.1;
END;
/</pre></div><div class='content'></div><h1>4. No Usar Variables de Vinculación</h1>
<div class='content'><p>Las variables de vinculación ayudan a reducir la sobrecarga de análisis y mejorar el rendimiento al permitir que las sentencias SQL se reutilicen.</p>
<ul>
<li><strong>Error</strong>: Codificar valores directamente en las sentencias SQL.</li>
<li><strong>Solución</strong>: Usa variables de vinculación para mejorar el rendimiento y la seguridad.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gU2luIFZhcmlhYmxlcyBkZSBWaW5jdWxhY2nDs24KREVDTEFSRQogIHZfZW1wbG95ZWVfaWQgTlVNQkVSIDo9IDEwMTsKQkVHSU4KICBFWEVDVVRFIElNTUVESUFURSAnVVBEQVRFIGVtcGxveWVlcyBTRVQgc2FsYXJ5ID0gc2FsYXJ5ICogMS4xIFdIRVJFIGVtcGxveWVlX2lkID0gJyB8fCB2X2VtcGxveWVlX2lkOwpFTkQ7Ci8KCi0tIENvbiBWYXJpYWJsZXMgZGUgVmluY3VsYWNpw7NuCkRFQ0xBUkUKICB2X2VtcGxveWVlX2lkIE5VTUJFUiA6PSAxMDE7CkJFR0lOCiAgRVhFQ1VURSBJTU1FRElBVEUgJ1VQREFURSBlbXBsb3llZXMgU0VUIHNhbGFyeSA9IHNhbGFyeSAqIDEuMSBXSEVSRSBlbXBsb3llZV9pZCA9IDppZCcgVVNJTkcgdl9lbXBsb3llZV9pZDsKRU5EOwov"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Sin Variables de Vinculaci&oacute;n
DECLARE
  v_employee_id NUMBER := 101;
BEGIN
  EXECUTE IMMEDIATE 'UPDATE employees SET salary = salary * 1.1 WHERE employee_id = ' || v_employee_id;
END;
/

-- Con Variables de Vinculaci&oacute;n
DECLARE
  v_employee_id NUMBER := 101;
BEGIN
  EXECUTE IMMEDIATE 'UPDATE employees SET salary = salary * 1.1 WHERE employee_id = :id' USING v_employee_id;
END;
/</pre></div><div class='content'></div><h1>5. Ignorar la Legibilidad y Mantenibilidad del Código</h1>
<div class='content'><p>Escribir código que sea difícil de leer y mantener puede llevar a problemas a largo plazo, especialmente en proyectos grandes.</p>
<ul>
<li><strong>Error</strong>: Escribir código complejo e ilegible.</li>
<li><strong>Solución</strong>: Sigue las mejores prácticas para la legibilidad del código, como usar nombres de variables significativos, comentarios y un formato consistente.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gUG9icmUgTGVnaWJpbGlkYWQKREVDTEFSRQogIHggTlVNQkVSIDo9IDEwMDsKICB5IE5VTUJFUiA6PSAyMDA7CkJFR0lOCiAgSUYgeCA+IHkgVEhFTgogICAgREJNU19PVVRQVVQuUFVUX0xJTkUoJ1ggZXMgbWF5b3InKTsKICBFTFNFCiAgICBEQk1TX09VVFBVVC5QVVRfTElORSgnWSBlcyBtYXlvcicpOwogIEVORCBJRjsKRU5EOwovCgotLSBMZWdpYmlsaWRhZCBNZWpvcmFkYQpERUNMQVJFCiAgZW1wbG95ZWVfY291bnQgTlVNQkVSIDo9IDEwMDsKICBkZXBhcnRtZW50X2NvdW50IE5VTUJFUiA6PSAyMDA7CkJFR0lOCiAgSUYgZW1wbG95ZWVfY291bnQgPiBkZXBhcnRtZW50X2NvdW50IFRIRU4KICAgIERCTVNfT1VUUFVULlBVVF9MSU5FKCdFbCBuw7ptZXJvIGRlIGVtcGxlYWRvcyBlcyBtYXlvciBxdWUgZWwgbsO6bWVybyBkZSBkZXBhcnRhbWVudG9zJyk7CiAgRUxTRQogICAgREJNU19PVVRQVVQuUFVUX0xJTkUoJ0VsIG7Dum1lcm8gZGUgZGVwYXJ0YW1lbnRvcyBlcyBtYXlvciBxdWUgZWwgbsO6bWVybyBkZSBlbXBsZWFkb3MnKTsKICBFTkQgSUY7CkVORDsKLw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Pobre Legibilidad
DECLARE
  x NUMBER := 100;
  y NUMBER := 200;
BEGIN
  IF x &gt; y THEN
    DBMS_OUTPUT.PUT_LINE('X es mayor');
  ELSE
    DBMS_OUTPUT.PUT_LINE('Y es mayor');
  END IF;
END;
/

-- Legibilidad Mejorada
DECLARE
  employee_count NUMBER := 100;
  department_count NUMBER := 200;
BEGIN
  IF employee_count &gt; department_count THEN
    DBMS_OUTPUT.PUT_LINE('El n&uacute;mero de empleados es mayor que el n&uacute;mero de departamentos');
  ELSE
    DBMS_OUTPUT.PUT_LINE('El n&uacute;mero de departamentos es mayor que el n&uacute;mero de empleados');
  END IF;
END;
/</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Al estar consciente de estos errores comunes e implementar las soluciones sugeridas, puedes escribir código PL/SQL más eficiente, mantenible y robusto. Siempre esfuérzate por comprender los mecanismos subyacentes de PL/SQL y sigue las mejores prácticas para evitar estos errores comunes.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
