<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filtrado Colaborativo en Apache Spark</title>

    <link rel="alternate" href="https://campusempresa.com/es/apachespark/collaborative-filtering" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/apachespark/collaborative-filtering" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/apachespark/collaborative-filtering" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/apachespark/collaborative-filtering" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='clustering'>&#x25C4;Agrupamiento</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Filtrado Colaborativo en Apache Spark</a>
	</div>
	<div class='col-4 text-end'>
					<a href='model-evaluation-and-tuning'>Evaluación y Ajuste de Modelos &#x25BA;</a>
			</div>
</div>
<div class='content'><p>El Filtrado Colaborativo es una técnica popular utilizada en sistemas de recomendación. Realiza predicciones automáticas sobre los intereses de un usuario recopilando preferencias de muchos usuarios. En este tema, exploraremos cómo implementar el Filtrado Colaborativo usando Apache Spark, desde niveles principiantes hasta avanzados.</p>
</div><h1>Introducción al Filtrado Colaborativo</h1>
<div class='content'><ul>
<li><strong>Definición</strong>: El Filtrado Colaborativo es un método utilizado para predecir las preferencias de un usuario analizando las preferencias de un gran número de usuarios.</li>
<li><strong>Aplicaciones</strong>: Comúnmente utilizado en sistemas de recomendación para películas, música, productos, etc.</li>
<li><strong>Tipos</strong>:
<ul>
<li><strong>Filtrado Colaborativo basado en Usuarios</strong>: Recomienda ítems encontrando usuarios similares.</li>
<li><strong>Filtrado Colaborativo basado en Ítems</strong>: Recomienda ítems encontrando ítems similares.</li>
</ul>
</li>
</ul>
</div><h1>Configuración de Apache Spark</h1>
<div class='content'><p>Antes de sumergirse en el Filtrado Colaborativo, asegúrese de tener Apache Spark configurado en su máquina.</p>
<ul>
<li><strong>Instalación</strong>: Siga la <a href="https://spark.apache.org/docs/latest/">documentación oficial de Apache Spark</a> para las instrucciones de instalación.</li>
<li><strong>Entorno</strong>: Asegúrese de tener Java y Scala instalados, ya que son requisitos previos para ejecutar Spark.</li>
</ul>
</div><h1>Conceptos Básicos del Filtrado Colaborativo en Spark</h1>
<div class='content'></div><h2>Alternating Least Squares (ALS)</h2>
<div class='content'><ul>
<li><strong>Definición</strong>: ALS es un algoritmo utilizado en MLlib de Spark para el Filtrado Colaborativo.</li>
<li><strong>Funcionalidad</strong>: Funciona factorizando la matriz de interacción usuario-ítem en dos matrices de menor dimensión.</li>
</ul>
</div><h2>Conjunto de Datos de Ejemplo</h2>
<div class='content'><p>Para este ejemplo, utilizaremos un conjunto de datos simple de calificaciones de usuarios para películas.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VXNlcklELCBNb3ZpZUlELCBSYXRpbmcKMSwgMTAxLCA1CjEsIDEwMiwgMwoyLCAxMDEsIDQKMiwgMTAzLCAyCjMsIDEwMiwgNAozLCAxMDMsIDU="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>UserID, MovieID, Rating
1, 101, 5
1, 102, 3
2, 101, 4
2, 103, 2
3, 102, 4
3, 103, 5</pre></div><div class='content'></div><h1>Implementación del Filtrado Colaborativo en Spark</h1>
<div class='content'></div><h2>Paso 1: Cargar Datos</h2>
<div class='content'><p>Primero, cargue los datos en un DataFrame de Spark.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBweXNwYXJrLnNxbCBpbXBvcnQgU3BhcmtTZXNzaW9uCgpzcGFyayA9IFNwYXJrU2Vzc2lvbi5idWlsZGVyLmFwcE5hbWUoIkNvbGxhYm9yYXRpdmVGaWx0ZXJpbmciKS5nZXRPckNyZWF0ZSgpCgojIENhcmdhciBkYXRvcwpkYXRhID0gWwogICAgKDEsIDEwMSwgNSksCiAgICAoMSwgMTAyLCAzKSwKICAgICgyLCAxMDEsIDQpLAogICAgKDIsIDEwMywgMiksCiAgICAoMywgMTAyLCA0KSwKICAgICgzLCAxMDMsIDUpCl0KCmNvbHVtbnMgPSBbIlVzZXJJRCIsICJNb3ZpZUlEIiwgIlJhdGluZyJdCmRmID0gc3BhcmsuY3JlYXRlRGF0YUZyYW1lKGRhdGEsIGNvbHVtbnMpCmRmLnNob3coKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from pyspark.sql import SparkSession

spark = SparkSession.builder.appName(&quot;CollaborativeFiltering&quot;).getOrCreate()

# Cargar datos
data = [
    (1, 101, 5),
    (1, 102, 3),
    (2, 101, 4),
    (2, 103, 2),
    (3, 102, 4),
    (3, 103, 5)
]

columns = [&quot;UserID&quot;, &quot;MovieID&quot;, &quot;Rating&quot;]
df = spark.createDataFrame(data, columns)
df.show()</pre></div><div class='content'></div><h2>Paso 2: Preparar Datos para ALS</h2>
<div class='content'><p>Convierta el DataFrame en un RDD y prepárelo para el algoritmo ALS.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBweXNwYXJrLm1sLmV2YWx1YXRpb24gaW1wb3J0IFJlZ3Jlc3Npb25FdmFsdWF0b3IKZnJvbSBweXNwYXJrLm1sLnJlY29tbWVuZGF0aW9uIGltcG9ydCBBTFMKCiMgQ29udmVydGlyIERhdGFGcmFtZSBhIFJERApyYXRpbmdzID0gZGYucmRkLm1hcChsYW1iZGEgcm93OiAocm93WzBdLCByb3dbMV0sIHJvd1syXSkpCgojIERpdmlkaXIgZGF0b3MgZW4gY29uanVudG9zIGRlIGVudHJlbmFtaWVudG8geSBwcnVlYmEKKHRyYWluaW5nLCB0ZXN0KSA9IGRmLnJhbmRvbVNwbGl0KFswLjgsIDAuMl0p"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from pyspark.ml.evaluation import RegressionEvaluator
from pyspark.ml.recommendation import ALS

# Convertir DataFrame a RDD
ratings = df.rdd.map(lambda row: (row[0], row[1], row[2]))

# Dividir datos en conjuntos de entrenamiento y prueba
(training, test) = df.randomSplit([0.8, 0.2])</pre></div><div class='content'></div><h2>Paso 3: Entrenar el Modelo ALS</h2>
<div class='content'><p>Entrene el modelo ALS usando los datos de entrenamiento.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDb25zdHJ1aXIgZWwgbW9kZWxvIGRlIHJlY29tZW5kYWNpw7NuIHVzYW5kbyBBTFMKYWxzID0gQUxTKG1heEl0ZXI9MTAsIHJlZ1BhcmFtPTAuMDEsIHVzZXJDb2w9IlVzZXJJRCIsIGl0ZW1Db2w9Ik1vdmllSUQiLCByYXRpbmdDb2w9IlJhdGluZyIpCm1vZGVsID0gYWxzLmZpdCh0cmFpbmluZyk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Construir el modelo de recomendaci&oacute;n usando ALS
als = ALS(maxIter=10, regParam=0.01, userCol=&quot;UserID&quot;, itemCol=&quot;MovieID&quot;, ratingCol=&quot;Rating&quot;)
model = als.fit(training)</pre></div><div class='content'></div><h2>Paso 4: Hacer Predicciones</h2>
<div class='content'><p>Use el modelo entrenado para hacer predicciones en los datos de prueba.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBIYWNlciBwcmVkaWNjaW9uZXMKcHJlZGljdGlvbnMgPSBtb2RlbC50cmFuc2Zvcm0odGVzdCkKcHJlZGljdGlvbnMuc2hvdygp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Hacer predicciones
predictions = model.transform(test)
predictions.show()</pre></div><div class='content'></div><h2>Paso 5: Evaluar el Modelo</h2>
<div class='content'><p>Evalúe el modelo usando el Error Cuadrático Medio (RMSE).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFdmFsdWFyIGVsIG1vZGVsbwpldmFsdWF0b3IgPSBSZWdyZXNzaW9uRXZhbHVhdG9yKG1ldHJpY05hbWU9InJtc2UiLCBsYWJlbENvbD0iUmF0aW5nIiwgcHJlZGljdGlvbkNvbD0icHJlZGljdGlvbiIpCnJtc2UgPSBldmFsdWF0b3IuZXZhbHVhdGUocHJlZGljdGlvbnMpCnByaW50KGYiUm9vdC1tZWFuLXNxdWFyZSBlcnJvciA9IHtybXNlfSIp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Evaluar el modelo
evaluator = RegressionEvaluator(metricName=&quot;rmse&quot;, labelCol=&quot;Rating&quot;, predictionCol=&quot;prediction&quot;)
rmse = evaluator.evaluate(predictions)
print(f&quot;Root-mean-square error = {rmse}&quot;)</pre></div><div class='content'></div><h1>Temas Avanzados en Filtrado Colaborativo</h1>
<div class='content'></div><h2>Ajuste de Hiperparámetros</h2>
<div class='content'><ul>
<li><strong>Búsqueda en Cuadrícula</strong>: Realice una búsqueda en cuadrícula para encontrar los mejores hiperparámetros para el modelo ALS.</li>
<li><strong>Validación Cruzada</strong>: Use validación cruzada para asegurar la robustez del modelo.</li>
</ul>
</div><h2>Manejo del Problema de Arranque en Frío</h2>
<div class='content'><ul>
<li><strong>Definición</strong>: El problema de arranque en frío ocurre cuando el sistema no puede hacer recomendaciones precisas debido a la falta de datos.</li>
<li><strong>Solución</strong>: Use técnicas como calificaciones predeterminadas o modelos híbridos para mitigar este problema.</li>
</ul>
</div><h2>Retroalimentación Implícita</h2>
<div class='content'><ul>
<li><strong>Definición</strong>: La retroalimentación implícita se refiere a señales indirectas de preferencias del usuario, como clics o vistas.</li>
<li><strong>Implementación</strong>: ALS de Spark puede manejar retroalimentación implícita configurando el parámetro <code>implicitPrefs</code> a <code>True</code>.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>En este tema, cubrimos los aspectos básicos y avanzados de la implementación del Filtrado Colaborativo usando Apache Spark. Comenzamos con la configuración de Spark, la carga de datos y la implementación del algoritmo ALS. También discutimos temas avanzados como el ajuste de hiperparámetros y el manejo del problema de arranque en frío. Al final de este tema, debería tener una comprensión sólida de cómo construir y evaluar un sistema de recomendación usando Filtrado Colaborativo en Spark.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='clustering'>&#x25C4;Agrupamiento</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Filtrado Colaborativo en Apache Spark</a>
	</div>
	<div class='col-4 text-end'>
					<a href='model-evaluation-and-tuning'>Evaluación y Ajuste de Modelos &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
