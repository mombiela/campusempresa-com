<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas y Despliegue</title>

    <link rel="alternate" href="https://campusempresa.com/es/haskell/testing-deployment" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/haskell/testing-deployment" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/haskell/testing-deployment" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/haskell/testing-deployment" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='implementation'>&#x25C4;Implementación</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas y Despliegue</a>
	</div>
	<div class='col-4 text-end'>
					<a href='presentation-review'>Presentación y Revisión &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En esta sección, cubriremos los aspectos esenciales de las pruebas y el despliegue de aplicaciones Haskell. Las pruebas aseguran que tu código se comporte como se espera, mientras que el despliegue implica hacer que tu aplicación esté disponible para su uso. Comenzaremos con conceptos básicos de pruebas y gradualmente avanzaremos hacia temas más avanzados, incluyendo integración continua y estrategias de despliegue.</p>
</div><h1>Pruebas en Haskell</h1>
<div class='content'></div><h2>Por qué las Pruebas son Importantes</h2>
<div class='content'><ul>
<li><strong>Asegura la Calidad del Código</strong>: Ayuda a detectar errores y fallos temprano.</li>
<li><strong>Facilita la Refactorización</strong>: Hace más fácil cambiar el código con confianza.</li>
<li><strong>Documentación</strong>: Las pruebas pueden servir como documentación adicional de cómo se supone que debe funcionar el código.</li>
</ul>
</div><h2>Tipos de Pruebas</h2>
<div class='content'><ul>
<li><strong>Pruebas Unitarias</strong>: Prueban componentes o funciones individuales.</li>
<li><strong>Pruebas de Integración</strong>: Prueban cómo diferentes partes de la aplicación funcionan juntas.</li>
<li><strong>Pruebas Basadas en Propiedades</strong>: Usan propiedades para generar casos de prueba automáticamente.</li>
</ul>
</div><h2>Configuración de un Entorno de Pruebas</h2>
<div class='content'><p>Para comenzar con las pruebas en Haskell, necesitarás configurar un entorno de pruebas. Las bibliotecas más comúnmente usadas son <code>Hspec</code> para pruebas unitarias y <code>QuickCheck</code> para pruebas basadas en propiedades.</p>
<h4>Instalación de Hspec y QuickCheck</h4>
<p>Puedes agregar estas bibliotecas a tu proyecto modificando tu archivo <code>package.yaml</code> o <code>*.cabal</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzOgogIC0gaHNwZWMKICAtIFF1aWNrQ2hlY2s="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies:
  - hspec
  - QuickCheck</pre></div><div class='content'></div><h2>Escribir Pruebas Unitarias con Hspec</h2>
<div class='content'><p>Hspec es un marco de pruebas inspirado en RSpec de Ruby. Te permite escribir pruebas legibles y mantenibles.</p>
<h4>Ejemplo: Probar una Función Simple</h4>
<p>Escribamos una prueba para una función simple que suma dos números:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gc3JjL0xpYi5ocwptb2R1bGUgTGliIChhZGQpIHdoZXJlCgphZGQgOjogSW50IC0+IEludCAtPiBJbnQKYWRkIHggeSA9IHggKyB5"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- src/Lib.hs
module Lib (add) where

add :: Int -&gt; Int -&gt; Int
add x y = x + y</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gdGVzdC9TcGVjLmhzCmltcG9ydCBUZXN0LkhzcGVjCmltcG9ydCBMaWIgKGFkZCkKCm1haW4gOjogSU8gKCkKbWFpbiA9IGhzcGVjICQgZG8KICBkZXNjcmliZSAiYWRkIiAkIGRvCiAgICBpdCAiYWRkcyB0d28gbnVtYmVycyIgJCBkbwogICAgICBhZGQgMSAyIGBzaG91bGRCZWAgMw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- test/Spec.hs
import Test.Hspec
import Lib (add)

main :: IO ()
main = hspec $ do
  describe &quot;add&quot; $ do
    it &quot;adds two numbers&quot; $ do
      add 1 2 `shouldBe` 3</pre></div><div class='content'><p>Para ejecutar las pruebas, usa el siguiente comando:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RhY2sgdGVzdA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>stack test</pre></div><div class='content'></div><h2>Pruebas Basadas en Propiedades con QuickCheck</h2>
<div class='content'><p>QuickCheck te permite definir propiedades que tus funciones deben satisfacer y luego genera casos de prueba aleatorios para verificar esas propiedades.</p>
<h4>Ejemplo: Probar la Función <code>add</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gdGVzdC9TcGVjLmhzCmltcG9ydCBUZXN0LkhzcGVjCmltcG9ydCBUZXN0LlF1aWNrQ2hlY2sKaW1wb3J0IExpYiAoYWRkKQoKbWFpbiA6OiBJTyAoKQptYWluID0gaHNwZWMgJCBkbwogIGRlc2NyaWJlICJhZGQiICQgZG8KICAgIGl0ICJpcyBjb21tdXRhdGl2ZSIgJCBwcm9wZXJ0eSAkCiAgICAgIFx4IHkgLT4gYWRkIHggeSA9PSBhZGQgeSB4"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- test/Spec.hs
import Test.Hspec
import Test.QuickCheck
import Lib (add)

main :: IO ()
main = hspec $ do
  describe &quot;add&quot; $ do
    it &quot;is commutative&quot; $ property $
      \x y -&gt; add x y == add y x</pre></div><div class='content'></div><h1>Despliegue</h1>
<div class='content'></div><h2>Preparación para el Despliegue</h2>
<div class='content'><p>Antes de desplegar tu aplicación Haskell, asegúrate de que:</p>
<ul>
<li>Todas las pruebas pasen.</li>
<li>La aplicación se construya exitosamente.</li>
<li>Las dependencias estén correctamente gestionadas.</li>
</ul>
</div><h2>Construcción de la Aplicación</h2>
<div class='content'><p>Puedes construir tu aplicación Haskell usando Stack o Cabal. Por ejemplo, usando Stack:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RhY2sgYnVpbGQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>stack build</pre></div><div class='content'></div><h2>Estrategias de Despliegue</h2>
<div class='content'><ul>
<li><strong>Despliegue Manual</strong>: Copiar manualmente los artefactos de construcción al servidor.</li>
<li><strong>Despliegue Automatizado</strong>: Usar pipelines de CI/CD para automatizar el proceso de despliegue.</li>
</ul>
</div><h2>Integración Continua y Despliegue Continuo (CI/CD)</h2>
<div class='content'><p>CI/CD automatiza el proceso de probar y desplegar tu aplicación. Las herramientas populares de CI/CD incluyen GitHub Actions, Travis CI y CircleCI.</p>
<h4>Ejemplo: Flujo de Trabajo de GitHub Actions</h4>
<p>Crea un archivo <code>.github/workflows/ci.yml</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kKCm9uOiBbcHVzaCwgcHVsbF9yZXF1ZXN0XQoKam9iczoKICBidWlsZDoKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKICAgIHN0ZXBzOgogICAgLSB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCiAgICAtIG5hbWU6IFNldCB1cCBIYXNrZWxsCiAgICAgIHVzZXM6IGFjdGlvbnMvc2V0dXAtaGFza2VsbEB2MQogICAgICB3aXRoOgogICAgICAgIGdoYy12ZXJzaW9uOiAnOC4xMC40JwogICAgLSBuYW1lOiBJbnN0YWxsIGRlcGVuZGVuY2llcwogICAgICBydW46IHN0YWNrIHNldHVwCiAgICAtIG5hbWU6IEJ1aWxkCiAgICAgIHJ1bjogc3RhY2sgYnVpbGQKICAgIC0gbmFtZTogUnVuIHRlc3RzCiAgICAgIHJ1bjogc3RhY2sgdGVzdA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Set up Haskell
      uses: actions/setup-haskell@v1
      with:
        ghc-version: '8.10.4'
    - name: Install dependencies
      run: stack setup
    - name: Build
      run: stack build
    - name: Run tests
      run: stack test</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Las pruebas y el despliegue son aspectos cruciales del desarrollo de software en Haskell. Al escribir pruebas exhaustivas usando Hspec y QuickCheck, puedes asegurar que tu código sea confiable y mantenible. Automatizar el proceso de despliegue con herramientas de CI/CD como GitHub Actions puede ahorrar tiempo y reducir errores, haciendo tu flujo de trabajo de desarrollo más eficiente.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='implementation'>&#x25C4;Implementación</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas y Despliegue</a>
	</div>
	<div class='col-4 text-end'>
					<a href='presentation-review'>Presentación y Revisión &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
