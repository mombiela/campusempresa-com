<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Políticas de Desalojo</title>

    <link rel="alternate" href="https://campusempresa.com/es/redis/eviction-policies" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/redis/eviction-policies" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/redis/eviction-policies" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/redis/eviction-policies" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='latency-and-throughput'>&#x25C4; Latencia y Rendimiento</a></div><div class='col-6 text-end'><a href='performance-tuning'>Ajuste de Rendimiento &#x25BA;</a></div></div><div class='content'><p>En esta sección, exploraremos el concepto de políticas de desalojo en Redis. Las políticas de desalojo son cruciales para gestionar el uso de la memoria y asegurar que Redis opere eficientemente, especialmente cuando se utiliza como caché.</p>
</div><h1>¿Qué son las Políticas de Desalojo?</h1>
<div class='content'><p>Las políticas de desalojo determinan cómo maneja Redis las situaciones cuando alcanza su límite máximo de memoria. Cuando Redis está lleno, necesita decidir qué claves eliminar para hacer espacio para nuevos datos. Este proceso se conoce como desalojo.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Límite de Memoria</strong>: La cantidad máxima de memoria que Redis puede usar, configurada a través de la directiva <code>maxmemory</code>.</li>
<li><strong>Política de Desalojo</strong>: La estrategia que usa Redis para decidir qué claves desalojar cuando se alcanza el límite de memoria.</li>
</ul>
</div><h1>Configuración del Límite de Memoria</h1>
<div class='content'><p>Para establecer un límite de memoria en Redis, puedes usar la directiva <code>maxmemory</code> en el archivo de configuración de Redis (<code>redis.conf</code>):</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bWF4bWVtb3J5IDI1Nm1i"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>maxmemory 256mb</pre></div><div class='content'><p>Alternativamente, puedes configurarlo dinámicamente usando el comando <code>CONFIG SET</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q09ORklHIFNFVCBtYXhtZW1vcnkgMjU2bWI="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CONFIG SET maxmemory 256mb</pre></div><div class='content'></div><h1>Tipos de Políticas de Desalojo</h1>
<div class='content'><p>Redis ofrece varias políticas de desalojo, cada una adecuada para diferentes casos de uso. Aquí están las principales políticas de desalojo:</p>
<ol>
<li><strong>noeviction</strong>: Devuelve un error cuando se alcanza el límite de memoria. Esta es la política predeterminada.</li>
<li><strong>allkeys-lru</strong>: Desaloja las claves menos recientemente usadas (LRU), independientemente de su tiempo de expiración.</li>
<li><strong>volatile-lru</strong>: Desaloja las claves menos recientemente usadas (LRU) con un tiempo de expiración.</li>
<li><strong>allkeys-random</strong>: Desaloja claves aleatorias, independientemente de su tiempo de expiración.</li>
<li><strong>volatile-random</strong>: Desaloja claves aleatorias con un tiempo de expiración.</li>
<li><strong>volatile-ttl</strong>: Desaloja claves con el tiempo de vida (TTL) más corto.</li>
</ol>
</div><h2>Comparación de Políticas de Desalojo</h2>
<div class='content'><p>| Política         | Descripción                                      | Caso de Uso                                    |
|------------------|--------------------------------------------------|-----------------------------------------------|
| noeviction       | Devuelve un error cuando se alcanza el límite de memoria | Cuando quieres asegurar que los datos nunca se desalojen |
| allkeys-lru      | Desaloja las claves menos recientemente usadas   | Caché general                                 |
| volatile-lru     | Desaloja las claves menos recientemente usadas con expiración | Caché con TTL                                 |
| allkeys-random   | Desaloja claves aleatorias                       | Cuando el patrón de desalojo no es importante |
| volatile-random  | Desaloja claves aleatorias con expiración        | Cuando el patrón de desalojo no es importante, con TTL |
| volatile-ttl     | Desaloja claves con el TTL más corto             | Cuando quieres priorizar el TTL               |</p>
</div><h1>Configuración de Políticas de Desalojo</h1>
<div class='content'><p>Puedes configurar la política de desalojo en el archivo de configuración de Redis (<code>redis.conf</code>) usando la directiva <code>maxmemory-policy</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bWF4bWVtb3J5LXBvbGljeSBhbGxrZXlzLWxydQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>maxmemory-policy allkeys-lru</pre></div><div class='content'><p>O dinámicamente usando el comando <code>CONFIG SET</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q09ORklHIFNFVCBtYXhtZW1vcnktcG9saWN5IGFsbGtleXMtbHJ1"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CONFIG SET maxmemory-policy allkeys-lru</pre></div><div class='content'></div><h1>Ejemplos de Código</h1>
<div class='content'></div><h2>Ejemplo 1: Configuración del Límite de Memoria y la Política de Desalojo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFbiByZWRpcy5jb25mCm1heG1lbW9yeSAyNTZtYgptYXhtZW1vcnktcG9saWN5IGFsbGtleXMtbHJ1"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># En redis.conf
maxmemory 256mb
maxmemory-policy allkeys-lru</pre></div><div class='content'></div><h2>Ejemplo 2: Configuración Dinámica del Límite de Memoria y la Política de Desalojo</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("MTI3LjAuMC4xOjYzNzk+IENPTkZJRyBTRVQgbWF4bWVtb3J5IDI1Nm1iCk9LCjEyNy4wLjAuMTo2Mzc5PiBDT05GSUcgU0VUIG1heG1lbW9yeS1wb2xpY3kgYWxsa2V5cy1scnUKT0s="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>127.0.0.1:6379&gt; CONFIG SET maxmemory 256mb
OK
127.0.0.1:6379&gt; CONFIG SET maxmemory-policy allkeys-lru
OK</pre></div><div class='content'></div><h2>Ejemplo 3: Observando el Desalojo en Acción</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFc3RhYmxlY2VyIGVsIGzDrW1pdGUgZGUgbWVtb3JpYSBhIHVuIHZhbG9yIHBlcXVlw7FvIHBhcmEgcHJ1ZWJhcwoxMjcuMC4wLjE6NjM3OT4gQ09ORklHIFNFVCBtYXhtZW1vcnkgMW1iCk9LCjEyNy4wLjAuMTo2Mzc5PiBDT05GSUcgU0VUIG1heG1lbW9yeS1wb2xpY3kgYWxsa2V5cy1scnUKT0sKCiMgQWdyZWdhciBjbGF2ZXMgaGFzdGEgcXVlIG9jdXJyYSBlbCBkZXNhbG9qbwoxMjcuMC4wLjE6NjM3OT4gU0VUIGtleTEgInZhbHVlMSIKT0sKMTI3LjAuMC4xOjYzNzk+IFNFVCBrZXkyICJ2YWx1ZTIiCk9LCiMgQ29udGludWFyIGFncmVnYW5kbyBjbGF2ZXMuLi4="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Establecer el l&iacute;mite de memoria a un valor peque&ntilde;o para pruebas
127.0.0.1:6379&gt; CONFIG SET maxmemory 1mb
OK
127.0.0.1:6379&gt; CONFIG SET maxmemory-policy allkeys-lru
OK

# Agregar claves hasta que ocurra el desalojo
127.0.0.1:6379&gt; SET key1 &quot;value1&quot;
OK
127.0.0.1:6379&gt; SET key2 &quot;value2&quot;
OK
# Continuar agregando claves...</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Entender y configurar las políticas de desalojo en Redis es esencial para gestionar el uso de la memoria de manera efectiva. Al elegir la política de desalojo adecuada, puedes asegurar que Redis funcione de manera óptima para tu caso de uso específico. Ya sea que necesites un control estricto sobre el uso de la memoria o una estrategia de caché flexible, Redis proporciona una variedad de opciones para satisfacer tus necesidades.</p>
</div><div class='row navigation'><div class='col-6'><a href='latency-and-throughput'>&#x25C4; Latencia y Rendimiento</a></div><div class='col-6 text-end'><a href='performance-tuning'>Ajuste de Rendimiento &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
