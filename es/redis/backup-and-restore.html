<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es">Castellano</b>
				|
				<a href="https://campusempresa.cat/redis/backup-and-restore" id="lnk_lang_ca" data-lang="ca">Català</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Las operaciones de copia de seguridad y restauración son cruciales para mantener la integridad de los datos y garantizar su disponibilidad en caso de fallos. En esta sección, cubriremos los conceptos básicos de la copia de seguridad y restauración de datos en Redis, desde la creación de instantáneas simples hasta técnicas más avanzadas.</p>
</div><h1>Estrategias de copia de seguridad</h1>
<div class='content'></div><h2>RDB (Copia de seguridad de la base de datos de Redis)</h2>
<div class='content'><ul>
<li><strong>Descripción</strong>: RDB es una instantánea en un momento específico de tu conjunto de datos guardada en disco.</li>
<li><strong>Ventajas</strong>:
<ul>
<li>Almacenamiento compacto y eficiente.</li>
<li>Tiempos de recuperación más rápidos.</li>
</ul>
</li>
<li><strong>Desventajas</strong>:
<ul>
<li>Pérdida de datos entre instantáneas.</li>
<li>No es adecuado para entornos con muchas escrituras.</li>
</ul>
</li>
</ul>
<h4>Creación de una instantánea RDB</h4>
<p>Redis puede crear una instantánea RDB automáticamente o manualmente.</p>
<p><strong>Configuración de instantánea automática</strong>:
Puedes configurar Redis para crear instantáneas en intervalos especificados usando la directiva <code>save</code> en el archivo <code>redis.conf</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2F2ZSA5MDAgMSAgICAjIEd1YXJkYSBsYSBCRCBzaSBhbCBtZW5vcyAxIGNsYXZlIGNhbWJpw7MgZW4gOTAwIHNlZ3VuZG9zICgxNSBtaW51dG9zKQpzYXZlIDMwMCAxMCAgICMgR3VhcmRhIGxhIEJEIHNpIGFsIG1lbm9zIDEwIGNsYXZlcyBjYW1iaWFyb24gZW4gMzAwIHNlZ3VuZG9zICg1IG1pbnV0b3MpCnNhdmUgNjAgMTAwMDAgIyBHdWFyZGEgbGEgQkQgc2kgYWwgbWVub3MgMTAwMDAgY2xhdmVzIGNhbWJpYXJvbiBlbiA2MCBzZWd1bmRvcyAoMSBtaW51dG8p"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>save 900 1    # Guarda la BD si al menos 1 clave cambi&oacute; en 900 segundos (15 minutos)
save 300 10   # Guarda la BD si al menos 10 claves cambiaron en 300 segundos (5 minutos)
save 60 10000 # Guarda la BD si al menos 10000 claves cambiaron en 60 segundos (1 minuto)</pre></div><div class='content'><p><strong>Creación manual de instantáneas</strong>:
Puedes desencadenar una instantánea manualmente usando el comando <code>BGSAVE</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkdTQVZF"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BGSAVE</pre></div><div class='content'><p>Este comando creará una instantánea en segundo plano.</p>
</div><h2>AOF (Archivo de solo anexado)</h2>
<div class='content'><ul>
<li><strong>Descripción</strong>: AOF registra cada operación de escritura recibida por el servidor, que puede reproducirse para reconstruir el conjunto de datos.</li>
<li><strong>Ventajas</strong>:
<ul>
<li>Más duradero que RDB.</li>
<li>Puede configurarse para ofrecer diferentes niveles de durabilidad.</li>
</ul>
</li>
<li><strong>Desventajas</strong>:
<ul>
<li>Tamaños de archivo más grandes.</li>
<li>Tiempos de recuperación más lentos en comparación con RDB.</li>
</ul>
</li>
</ul>
<h4>Configuración de AOF</h4>
<p>Habilita AOF en el archivo <code>redis.conf</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBwZW5kb25seSB5ZXM="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>appendonly yes</pre></div><div class='content'><p>También puedes configurar la política de reescritura de AOF para equilibrar entre rendimiento y durabilidad:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBwZW5kZnN5bmMgYWx3YXlzICAgICAgICMgTcOhcyBzZWd1cm8sIHBlcm8gbcOhcyBsZW50bwphcHBlbmRmc3luYyBldmVyeXNlYyAgICAgIyBQb3IgZGVmZWN0bywgZXF1aWxpYnJhIHNlZ3VyaWRhZCB5IHJlbmRpbWllbnRvCmFwcGVuZGZzeW5jIG5vICAgICAgICAgICAjIE3DoXMgcsOhcGlkbywgcGVybyBtZW5vcyBzZWd1cm8="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>appendfsync always       # M&aacute;s seguro, pero m&aacute;s lento
appendfsync everysec     # Por defecto, equilibra seguridad y rendimiento
appendfsync no           # M&aacute;s r&aacute;pido, pero menos seguro</pre></div><div class='content'></div><h1>Estrategias de restauración</h1>
<div class='content'></div><h2>Restauración desde RDB</h2>
<div class='content'><p>Para restaurar desde una instantánea RDB, simplemente coloca el archivo RDB (<code>dump.rdb</code>) en el directorio de datos de Redis y reinicia el servidor Redis. Redis cargará automáticamente la instantánea al iniciar.</p>
</div><h2>Restauración desde AOF</h2>
<div class='content'><p>Para restaurar desde un archivo AOF, coloca el archivo AOF (<code>appendonly.aof</code>) en el directorio de datos de Redis y reinicia el servidor Redis. Redis reproducirá el archivo AOF para reconstruir el conjunto de datos.</p>
</div><h1>Combinación de RDB y AOF</h1>
<div class='content'><p>Redis admite el uso de RDB y AOF juntos. Esto proporciona un equilibrio entre tiempos de recuperación rápidos (RDB) y durabilidad (AOF).</p>
</div><h2>Configuración</h2>
<div class='content'><p>En el archivo <code>redis.conf</code>, habilita tanto RDB como AOF:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2F2ZSA5MDAgMQpzYXZlIDMwMCAxMApzYXZlIDYwIDEwMDAwCmFwcGVuZG9ubHkgeWVzCmFwcGVuZGZzeW5jIGV2ZXJ5c2Vj"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>save 900 1
save 300 10
save 60 10000
appendonly yes
appendfsync everysec</pre></div><div class='content'></div><h1>Ejemplo: Flujo de trabajo de copia de seguridad y restauración</h1>
<div class='content'></div><h2>Flujo de trabajo de copia de seguridad</h2>
<div class='content'><ol>
<li><strong>Configurar Redis</strong>: Configura RDB y/o AOF en el archivo <code>redis.conf</code>.</li>
<li><strong>Desencadenar instantánea</strong>: Usa el comando <code>BGSAVE</code> o confía en las instantáneas automáticas.</li>
<li><strong>Almacenar copia de seguridad</strong>: Almacena de forma segura los archivos <code>dump.rdb</code> y/o <code>appendonly.aof</code>.</li>
</ol>
</div><h2>Flujo de trabajo de restauración</h2>
<div class='content'><ol>
<li><strong>Detener Redis</strong>: Asegúrate de que Redis no esté en funcionamiento.</li>
<li><strong>Colocar archivos de copia de seguridad</strong>: Copia los archivos <code>dump.rdb</code> y/o <code>appendonly.aof</code> en el directorio de datos de Redis.</li>
<li><strong>Iniciar Redis</strong>: Reinicia el servidor Redis para cargar los archivos de copia de seguridad.</li>
</ol>
</div><h1>Conclusión</h1>
<div class='content'><p>Entender cómo realizar copias de seguridad y restaurar tus datos de Redis de manera efectiva es esencial para mantener la integridad y disponibilidad de los datos. Al aprovechar las instantáneas RDB para una recuperación rápida y AOF para durabilidad, puedes asegurar que tu implementación de Redis sea resistente a la pérdida de datos. Combinar ambos métodos proporciona un enfoque equilibrado, ofreciendo tanto rendimiento como fiabilidad.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
