<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colas de Mensajes en Redis</title>

    <link rel="alternate" href="https://campusempresa.com/es/redis/message-queues" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/redis/message-queues" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/redis/message-queues" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/redis/message-queues" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción a las Colas de Mensajes</h1>
<div class='content'><p>Las colas de mensajes son un concepto fundamental en los sistemas distribuidos, permitiendo la comunicación asíncrona entre diferentes partes de una aplicación. Redis proporciona un soporte robusto para las colas de mensajes, lo que lo convierte en una opción popular para implementar este patrón.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Cola de Mensajes</strong>: Una estructura de datos que contiene mensajes enviados entre productores y consumidores.</li>
<li><strong>Productor</strong>: Una entidad que envía mensajes a la cola.</li>
<li><strong>Consumidor</strong>: Una entidad que recupera mensajes de la cola.</li>
<li><strong>FIFO (Primero en Entrar, Primero en Salir)</strong>: El orden en el que se procesan los mensajes en una cola.</li>
</ul>
</div><h1>Estructuras de Datos de Redis para Colas de Mensajes</h1>
<div class='content'><p>Redis soporta varias estructuras de datos que pueden ser usadas para implementar colas de mensajes:</p>
<ul>
<li><strong>Listas</strong>: Simples y directas, usando comandos como <code>LPUSH</code> y <code>RPOP</code>.</li>
<li><strong>Pub/Sub</strong>: Un paradigma de mensajería de publicación/suscripción.</li>
<li><strong>Streams</strong>: Estructura de datos avanzada para manejar escenarios de mensajería más complejos.</li>
</ul>
</div><h1>Implementación de Colas de Mensajes con Listas</h1>
<div class='content'></div><h2>Operaciones Básicas</h2>
<div class='content'><p>Las listas de Redis pueden ser usadas para implementar una cola FIFO simple. Aquí están las operaciones básicas:</p>
<ul>
<li><strong>LPUSH</strong>: Añade un elemento al inicio de la lista.</li>
<li><strong>RPUSH</strong>: Añade un elemento al final de la lista.</li>
<li><strong>LPOP</strong>: Elimina y devuelve el primer elemento de la lista.</li>
<li><strong>RPOP</strong>: Elimina y devuelve el último elemento de la lista.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlZGlzCgojIENvbmVjdGFyIGEgUmVkaXMKciA9IHJlZGlzLlJlZGlzKGhvc3Q9J2xvY2FsaG9zdCcsIHBvcnQ9NjM3OSwgZGI9MCkKCiMgUHJvZHVjdG9yOiBBw7FhZGlyIG1lbnNhamVzIGEgbGEgY29sYQpyLmxwdXNoKCdteV9xdWV1ZScsICdtZXNzYWdlMScpCnIubHB1c2goJ215X3F1ZXVlJywgJ21lc3NhZ2UyJykKCiMgQ29uc3VtaWRvcjogUmVjdXBlcmFyIG1lbnNhamVzIGRlIGxhIGNvbGEKbWVzc2FnZSA9IHIucnBvcCgnbXlfcXVldWUnKQpwcmludChmIkNvbnN1bWlkbzoge21lc3NhZ2UuZGVjb2RlKCd1dGYtOCcpfSIp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import redis

# Conectar a Redis
r = redis.Redis(host='localhost', port=6379, db=0)

# Productor: A&ntilde;adir mensajes a la cola
r.lpush('my_queue', 'message1')
r.lpush('my_queue', 'message2')

# Consumidor: Recuperar mensajes de la cola
message = r.rpop('my_queue')
print(f&quot;Consumido: {message.decode('utf-8')}&quot;)</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li>El productor usa <code>LPUSH</code> para añadir mensajes al inicio de la lista.</li>
<li>El consumidor usa <code>RPOP</code> para recuperar mensajes del final de la lista, asegurando el orden FIFO.</li>
</ul>
</div><h1>Implementación de Colas de Mensajes con Pub/Sub</h1>
<div class='content'></div><h2>Operaciones Básicas</h2>
<div class='content'><p>En el modelo Pub/Sub, los mensajes se publican en canales, y los suscriptores reciben mensajes de estos canales.</p>
<ul>
<li><strong>PUBLISH</strong>: Envía un mensaje a un canal.</li>
<li><strong>SUBSCRIBE</strong>: Escucha mensajes en un canal.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlZGlzCgojIENvbmVjdGFyIGEgUmVkaXMKciA9IHJlZGlzLlJlZGlzKGhvc3Q9J2xvY2FsaG9zdCcsIHBvcnQ9NjM3OSwgZGI9MCkKCiMgUHVibGljYWRvcgpkZWYgcHVibGlzaGVyKCk6CiAgICByLnB1Ymxpc2goJ215X2NoYW5uZWwnLCAnwqFIb2xhLCBNdW5kbyEnKQoKIyBTdXNjcmlwdG9yCmRlZiBzdWJzY3JpYmVyKCk6CiAgICBwdWJzdWIgPSByLnB1YnN1YigpCiAgICBwdWJzdWIuc3Vic2NyaWJlKCdteV9jaGFubmVsJykKICAgIGZvciBtZXNzYWdlIGluIHB1YnN1Yi5saXN0ZW4oKToKICAgICAgICBpZiBtZXNzYWdlWyd0eXBlJ10gPT0gJ21lc3NhZ2UnOgogICAgICAgICAgICBwcmludChmIlJlY2liaWRvOiB7bWVzc2FnZVsnZGF0YSddLmRlY29kZSgndXRmLTgnKX0iKQoKIyBFamVjdXRhciBlbCBwdWJsaWNhZG9yIHkgZWwgc3VzY3JpcHRvciBlbiBoaWxvcyBvIHByb2Nlc29zIHNlcGFyYWRvcw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import redis

# Conectar a Redis
r = redis.Redis(host='localhost', port=6379, db=0)

# Publicador
def publisher():
    r.publish('my_channel', '&iexcl;Hola, Mundo!')

# Suscriptor
def subscriber():
    pubsub = r.pubsub()
    pubsub.subscribe('my_channel')
    for message in pubsub.listen():
        if message['type'] == 'message':
            print(f&quot;Recibido: {message['data'].decode('utf-8')}&quot;)

# Ejecutar el publicador y el suscriptor en hilos o procesos separados</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li>El publicador envía mensajes a un canal usando <code>PUBLISH</code>.</li>
<li>El suscriptor escucha mensajes en el canal usando <code>SUBSCRIBE</code>.</li>
</ul>
</div><h1>Implementación de Colas de Mensajes con Streams</h1>
<div class='content'></div><h2>Operaciones Básicas</h2>
<div class='content'><p>Los Streams de Redis proporcionan una forma más avanzada y flexible de manejar colas de mensajes.</p>
<ul>
<li><strong>XADD</strong>: Añade un mensaje a un stream.</li>
<li><strong>XREAD</strong>: Lee mensajes de un stream.</li>
<li><strong>XGROUP</strong>: Gestiona grupos de consumidores para streams.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlZGlzCgojIENvbmVjdGFyIGEgUmVkaXMKciA9IHJlZGlzLlJlZGlzKGhvc3Q9J2xvY2FsaG9zdCcsIHBvcnQ9NjM3OSwgZGI9MCkKCiMgUHJvZHVjdG9yOiBBw7FhZGlyIG1lbnNhamVzIGFsIHN0cmVhbQpyLnhhZGQoJ215c3RyZWFtJywgeydtZXNzYWdlJzogJ8KhSG9sYSwgU3RyZWFtISd9KQoKIyBDb25zdW1pZG9yOiBMZWVyIG1lbnNhamVzIGRlbCBzdHJlYW0KbWVzc2FnZXMgPSByLnhyZWFkKHsnbXlzdHJlYW0nOiAnMC0wJ30sIGNvdW50PTEsIGJsb2NrPTApCmZvciBzdHJlYW0sIG1lc3NhZ2VfbGlzdCBpbiBtZXNzYWdlczoKICAgIGZvciBtZXNzYWdlX2lkLCBtZXNzYWdlIGluIG1lc3NhZ2VfbGlzdDoKICAgICAgICBwcmludChmIkNvbnN1bWlkbzoge21lc3NhZ2VbYidtZXNzYWdlJ10uZGVjb2RlKCd1dGYtOCcpfSIp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import redis

# Conectar a Redis
r = redis.Redis(host='localhost', port=6379, db=0)

# Productor: A&ntilde;adir mensajes al stream
r.xadd('mystream', {'message': '&iexcl;Hola, Stream!'})

# Consumidor: Leer mensajes del stream
messages = r.xread({'mystream': '0-0'}, count=1, block=0)
for stream, message_list in messages:
    for message_id, message in message_list:
        print(f&quot;Consumido: {message[b'message'].decode('utf-8')}&quot;)</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li>El productor usa <code>XADD</code> para añadir mensajes al stream.</li>
<li>El consumidor usa <code>XREAD</code> para leer mensajes del stream.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Redis proporciona múltiples formas de implementar colas de mensajes, cada una con sus propias fortalezas y casos de uso:</p>
<ul>
<li><strong>Listas</strong>: Simples y efectivas para colas FIFO básicas.</li>
<li><strong>Pub/Sub</strong>: Adecuado para mensajería en tiempo real donde múltiples consumidores necesitan recibir el mismo mensaje.</li>
<li><strong>Streams</strong>: Ideal para escenarios más complejos que requieren características avanzadas como grupos de consumidores y persistencia de mensajes.</li>
</ul>
<p>Entender estos diferentes enfoques te permite elegir la mejor herramienta para tus necesidades específicas, aprovechando las poderosas capacidades de Redis para construir sistemas de colas de mensajes eficientes y escalables.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
