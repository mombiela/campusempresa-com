<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es">Castellano</b>
				|
				<a href="https://campusempresa.cat/java/executing-sql-queries" id="lnk_lang_ca" data-lang="ca">Català</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Ejecutar consultas SQL en Java es una habilidad fundamental para cualquier desarrollador que trabaje con bases de datos. Esta sección cubrirá cómo conectarse a una base de datos, ejecutar consultas SQL y manejar los resultados. Comenzaremos con conceptos básicos y gradualmente avanzaremos a temas más avanzados.</p>
</div><h1>Prerrequisitos</h1>
<div class='content'><p>Antes de profundizar en la ejecución de consultas SQL en Java, asegúrate de tener:</p>
<ul>
<li>Comprensión básica de la programación en Java.</li>
<li>Conocimiento básico de SQL.</li>
<li>Un sistema de gestión de bases de datos (DBMS) instalado (por ejemplo, MySQL, PostgreSQL).</li>
</ul>
</div><h1>Configuración del Entorno</h1>
<div class='content'><p>Para ejecutar consultas SQL en Java, necesitas configurar tu entorno de desarrollo:</p>
<ol>
<li><strong>Instalar el Controlador JDBC</strong>: Descarga y agrega el controlador JDBC para tu base de datos a tu proyecto.</li>
<li><strong>Conexión a la Base de Datos</strong>: Establece una conexión a tu base de datos usando JDBC.</li>
</ol>
</div><h2>Ejemplo: Configuración de una Conexión MySQL</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247CmltcG9ydCBqYXZhLnNxbC5Ecml2ZXJNYW5hZ2VyOwppbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uOwoKcHVibGljIGNsYXNzIERhdGFiYXNlQ29ubmVjdGlvbiB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgU3RyaW5nIHVybCA9ICJqZGJjOm15c3FsOi8vbG9jYWxob3N0OjMzMDYvbXlkYXRhYmFzZSI7CiAgICAgICAgU3RyaW5nIHVzZXIgPSAicm9vdCI7CiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gInBhc3N3b3JkIjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgQ29ubmVjdGlvbiBjb25uZWN0aW9uID0gRHJpdmVyTWFuYWdlci5nZXRDb25uZWN0aW9uKHVybCwgdXNlciwgcGFzc3dvcmQpOwogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIsKhQ29uZWN0YWRvIGEgbGEgYmFzZSBkZSBkYXRvcyBleGl0b3NhbWVudGUhIik7CiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

public class DatabaseConnection {
    public static void main(String[] args) {
        String url = &quot;jdbc:mysql://localhost:3306/mydatabase&quot;;
        String user = &quot;root&quot;;
        String password = &quot;password&quot;;

        try {
            Connection connection = DriverManager.getConnection(url, user, password);
            System.out.println(&quot;&iexcl;Conectado a la base de datos exitosamente!&quot;);
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>DriverManager.getConnection(url, user, password)</code>: Establece una conexión a la base de datos.</li>
<li><code>url</code>: La URL de la base de datos.</li>
<li><code>user</code>: El nombre de usuario de la base de datos.</li>
<li><code>password</code>: La contraseña de la base de datos.</li>
</ul>
</li>
</ul>
</div><h1>Ejecutando Consultas SQL</h1>
<div class='content'><p>Una vez que la conexión está establecida, puedes ejecutar consultas SQL usando las clases <code>Statement</code> o <code>PreparedStatement</code>.</p>
</div><h2>Usando `Statement`</h2>
<div class='content'><p>La clase <code>Statement</code> se usa para ejecutar sentencias SQL estáticas.</p>
<h4>Ejemplo: Ejecutando una Consulta Simple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247CmltcG9ydCBqYXZhLnNxbC5Ecml2ZXJNYW5hZ2VyOwppbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0OwppbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uOwppbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50OwoKcHVibGljIGNsYXNzIEV4ZWN1dGVRdWVyeSB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgU3RyaW5nIHVybCA9ICJqZGJjOm15c3FsOi8vbG9jYWxob3N0OjMzMDYvbXlkYXRhYmFzZSI7CiAgICAgICAgU3RyaW5nIHVzZXIgPSAicm9vdCI7CiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gInBhc3N3b3JkIjsKCiAgICAgICAgdHJ5IChDb25uZWN0aW9uIGNvbm5lY3Rpb24gPSBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rpb24odXJsLCB1c2VyLCBwYXNzd29yZCk7CiAgICAgICAgICAgICBTdGF0ZW1lbnQgc3RhdGVtZW50ID0gY29ubmVjdGlvbi5jcmVhdGVTdGF0ZW1lbnQoKSkgewoKICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gIlNFTEVDVCAqIEZST00gdXNlcnMiOwogICAgICAgICAgICBSZXN1bHRTZXQgcmVzdWx0U2V0ID0gc3RhdGVtZW50LmV4ZWN1dGVRdWVyeShxdWVyeSk7CgogICAgICAgICAgICB3aGlsZSAocmVzdWx0U2V0Lm5leHQoKSkgewogICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJJRCBkZSBVc3VhcmlvOiAiICsgcmVzdWx0U2V0LmdldEludCgiaWQiKSk7CiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIk5vbWJyZSBkZSBVc3VhcmlvOiAiICsgcmVzdWx0U2V0LmdldFN0cmluZygidXNlcm5hbWUiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkgewogICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

public class ExecuteQuery {
    public static void main(String[] args) {
        String url = &quot;jdbc:mysql://localhost:3306/mydatabase&quot;;
        String user = &quot;root&quot;;
        String password = &quot;password&quot;;

        try (Connection connection = DriverManager.getConnection(url, user, password);
             Statement statement = connection.createStatement()) {

            String query = &quot;SELECT * FROM users&quot;;
            ResultSet resultSet = statement.executeQuery(query);

            while (resultSet.next()) {
                System.out.println(&quot;ID de Usuario: &quot; + resultSet.getInt(&quot;id&quot;));
                System.out.println(&quot;Nombre de Usuario: &quot; + resultSet.getString(&quot;username&quot;));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>Statement statement = connection.createStatement()</code>: Crea un objeto <code>Statement</code>.</li>
<li><code>ResultSet resultSet = statement.executeQuery(query)</code>: Ejecuta la consulta y devuelve el conjunto de resultados.</li>
<li><code>resultSet.next()</code>: Mueve el cursor a la siguiente fila en el conjunto de resultados.</li>
</ul>
</li>
</ul>
</div><h2>Usando `PreparedStatement`</h2>
<div class='content'><p>La clase <code>PreparedStatement</code> se usa para ejecutar sentencias SQL parametrizadas, lo que ayuda a prevenir la inyección SQL.</p>
<h4>Ejemplo: Ejecutando una Consulta Parametrizada</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247CmltcG9ydCBqYXZhLnNxbC5Ecml2ZXJNYW5hZ2VyOwppbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7CmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7CmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247CgpwdWJsaWMgY2xhc3MgRXhlY3V0ZVByZXBhcmVkU3RhdGVtZW50IHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBTdHJpbmcgdXJsID0gImpkYmM6bXlzcWw6Ly9sb2NhbGhvc3Q6MzMwNi9teWRhdGFiYXNlIjsKICAgICAgICBTdHJpbmcgdXNlciA9ICJyb290IjsKICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSAicGFzc3dvcmQiOwoKICAgICAgICB0cnkgKENvbm5lY3Rpb24gY29ubmVjdGlvbiA9IERyaXZlck1hbmFnZXIuZ2V0Q29ubmVjdGlvbih1cmwsIHVzZXIsIHBhc3N3b3JkKTsKICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHByZXBhcmVkU3RhdGVtZW50ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KCJTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGlkID0gPyIpKSB7CgogICAgICAgICAgICBwcmVwYXJlZFN0YXRlbWVudC5zZXRJbnQoMSwgMSk7IC8vIEVzdGFibGVjZSBlbCBwcmltZXIgcGFyw6FtZXRybyBhIDEKICAgICAgICAgICAgUmVzdWx0U2V0IHJlc3VsdFNldCA9IHByZXBhcmVkU3RhdGVtZW50LmV4ZWN1dGVRdWVyeSgpOwoKICAgICAgICAgICAgd2hpbGUgKHJlc3VsdFNldC5uZXh0KCkpIHsKICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiSUQgZGUgVXN1YXJpbzogIiArIHJlc3VsdFNldC5nZXRJbnQoImlkIikpOwogICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCJOb21icmUgZGUgVXN1YXJpbzogIiArIHJlc3VsdFNldC5nZXRTdHJpbmcoInVzZXJuYW1lIikpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class ExecutePreparedStatement {
    public static void main(String[] args) {
        String url = &quot;jdbc:mysql://localhost:3306/mydatabase&quot;;
        String user = &quot;root&quot;;
        String password = &quot;password&quot;;

        try (Connection connection = DriverManager.getConnection(url, user, password);
             PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT * FROM users WHERE id = ?&quot;)) {

            preparedStatement.setInt(1, 1); // Establece el primer par&aacute;metro a 1
            ResultSet resultSet = preparedStatement.executeQuery();

            while (resultSet.next()) {
                System.out.println(&quot;ID de Usuario: &quot; + resultSet.getInt(&quot;id&quot;));
                System.out.println(&quot;Nombre de Usuario: &quot; + resultSet.getString(&quot;username&quot;));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>PreparedStatement preparedStatement = connection.prepareStatement(query)</code>: Crea un objeto <code>PreparedStatement</code>.</li>
<li><code>preparedStatement.setInt(1, 1)</code>: Establece el primer parámetro en la consulta a 1.</li>
<li><code>ResultSet resultSet = preparedStatement.executeQuery()</code>: Ejecuta la consulta y devuelve el conjunto de resultados.</li>
</ul>
</li>
</ul>
</div><h1>Manejo de Excepciones SQL</h1>
<div class='content'><p>Manejar excepciones es crucial cuando se trabaja con bases de datos para asegurar que tu aplicación pueda manejar errores de manera adecuada.</p>
</div><h2>Ejemplo: Manejo de Excepciones SQL</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHJ5IHsKICAgIC8vIE9wZXJhY2lvbmVzIGRlIGJhc2UgZGUgZGF0b3MKfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHsKICAgIFN5c3RlbS5lcnIucHJpbnRsbigiRXJyb3IgU1FMOiAiICsgZS5nZXRNZXNzYWdlKCkpOwogICAgZS5wcmludFN0YWNrVHJhY2UoKTsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>try {
    // Operaciones de base de datos
} catch (SQLException e) {
    System.err.println(&quot;Error SQL: &quot; + e.getMessage());
    e.printStackTrace();
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>SQLException e</code>: Captura excepciones SQL.</li>
<li><code>e.getMessage()</code>: Recupera el mensaje de error.</li>
<li><code>e.printStackTrace()</code>: Imprime la traza de la pila para depuración.</li>
</ul>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Ejecutar consultas SQL en Java implica establecer una conexión a la base de datos, usar <code>Statement</code> o <code>PreparedStatement</code> para ejecutar consultas y manejar los resultados. Un manejo adecuado de excepciones asegura que tu aplicación pueda gestionar errores de manera efectiva. Al dominar estas habilidades, podrás interactuar eficientemente con bases de datos en tus aplicaciones Java.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
