<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grupos de Seguridad de Red (NSG)</title>

    <link rel="alternate" href="https://campusempresa.com/es/azure/network-security-groups" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/azure/network-security-groups" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/azure/network-security-groups" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/azure/network-security-groups" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción a los Grupos de Seguridad de Red (NSG)</h1>
<div class='content'><p>Los Grupos de Seguridad de Red (NSGs) son un componente crítico en Azure para gestionar y controlar el tráfico de red. Actúan como cortafuegos virtuales, permitiéndote filtrar el tráfico entrante y saliente hacia y desde los recursos de Azure.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Conceptos Básicos de NSG</strong>: Los NSGs contienen reglas de seguridad que permiten o deniegan el tráfico de red a los recursos conectados a Redes Virtuales de Azure (VNets).</li>
<li><strong>Reglas de Seguridad</strong>: Cada regla de NSG especifica la fuente y el destino, el puerto y el protocolo.</li>
<li><strong>Reglas Predeterminadas</strong>: Los NSGs vienen con un conjunto de reglas predeterminadas que no pueden ser eliminadas pero pueden ser reemplazadas por reglas de mayor prioridad.</li>
<li><strong>Asociaciones</strong>: Los NSGs pueden ser asociados con subredes o interfaces de red individuales (NICs).</li>
</ul>
</div><h1>Creación y Gestión de NSGs</h1>
<div class='content'></div><h2>Creación de un NSG</h2>
<div class='content'><p>Para crear un NSG, puedes usar el Portal de Azure, Azure CLI o Azure PowerShell.</p>
<h4>Usando el Portal de Azure</h4>
<ol>
<li>Navega al Portal de Azure.</li>
<li>Selecciona &quot;Crear un recurso&quot; y busca &quot;Grupo de Seguridad de Red&quot;.</li>
<li>Haz clic en &quot;Crear&quot; y completa los detalles requeridos como nombre, suscripción, grupo de recursos y región.</li>
<li>Haz clic en &quot;Revisar + crear&quot; y luego en &quot;Crear&quot;.</li>
</ol>
<h4>Usando Azure CLI</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXogbmV0d29yayBuc2cgY3JlYXRlIFwKICAtLXJlc291cmNlLWdyb3VwIE15UmVzb3VyY2VHcm91cCBcCiAgLS1uYW1lIE15TlNHIFwKICAtLWxvY2F0aW9uIGVhc3R1cw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>az network nsg create \
  --resource-group MyResourceGroup \
  --name MyNSG \
  --location eastus</pre></div><div class='content'><h4>Usando Azure PowerShell</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TmV3LUF6TmV0d29ya1NlY3VyaXR5R3JvdXAgLVJlc291cmNlR3JvdXBOYW1lICJNeVJlc291cmNlR3JvdXAiIC1Mb2NhdGlvbiAiRWFzdFVTIiAtTmFtZSAiTXlOU0ci"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>New-AzNetworkSecurityGroup -ResourceGroupName &quot;MyResourceGroup&quot; -Location &quot;EastUS&quot; -Name &quot;MyNSG&quot;</pre></div><div class='content'></div><h2>Gestión de Reglas de NSG</h2>
<div class='content'><p>Las reglas de NSG definen el tráfico que está permitido o denegado. Cada regla tiene propiedades como nombre, prioridad, fuente, destino, puerto y protocolo.</p>
<h4>Añadir una Regla a través del Portal de Azure</h4>
<ol>
<li>Navega a tu NSG en el Portal de Azure.</li>
<li>Selecciona &quot;Reglas de seguridad entrantes&quot; o &quot;Reglas de seguridad salientes&quot;.</li>
<li>Haz clic en &quot;Añadir&quot; y completa los detalles como fuente, destino, rangos de puertos y acción (Permitir/Denegar).</li>
<li>Haz clic en &quot;Añadir&quot; para guardar la regla.</li>
</ol>
<h4>Añadir una Regla a través de Azure CLI</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXogbmV0d29yayBuc2cgcnVsZSBjcmVhdGUgXAogIC0tcmVzb3VyY2UtZ3JvdXAgTXlSZXNvdXJjZUdyb3VwIFwKICAtLW5zZy1uYW1lIE15TlNHIFwKICAtLW5hbWUgQWxsb3dTU0ggXAogIC0tcHJvdG9jb2wgVGNwIFwKICAtLWRpcmVjdGlvbiBJbmJvdW5kIFwKICAtLXByaW9yaXR5IDEwMDAgXAogIC0tc291cmNlLWFkZHJlc3MtcHJlZml4ZXMgJyonIFwKICAtLXNvdXJjZS1wb3J0LXJhbmdlcyAnKicgXAogIC0tZGVzdGluYXRpb24tYWRkcmVzcy1wcmVmaXhlcyAnKicgXAogIC0tZGVzdGluYXRpb24tcG9ydC1yYW5nZXMgMjIgXAogIC0tYWNjZXNzIEFsbG93"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>az network nsg rule create \
  --resource-group MyResourceGroup \
  --nsg-name MyNSG \
  --name AllowSSH \
  --protocol Tcp \
  --direction Inbound \
  --priority 1000 \
  --source-address-prefixes '*' \
  --source-port-ranges '*' \
  --destination-address-prefixes '*' \
  --destination-port-ranges 22 \
  --access Allow</pre></div><div class='content'><h4>Añadir una Regla a través de Azure PowerShell</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JHJ1bGUgPSBOZXctQXpOZXR3b3JrU2VjdXJpdHlSdWxlQ29uZmlnIC1OYW1lICJBbGxvd1NTSCIgLVByb3RvY29sICJUY3AiIC1EaXJlY3Rpb24gIkluYm91bmQiIC1Qcmlvcml0eSAxMDAwIC1Tb3VyY2VBZGRyZXNzUHJlZml4ICIqIiAtU291cmNlUG9ydFJhbmdlICIqIiAtRGVzdGluYXRpb25BZGRyZXNzUHJlZml4ICIqIiAtRGVzdGluYXRpb25Qb3J0UmFuZ2UgMjIgLUFjY2VzcyAiQWxsb3ciCiRuc2cgPSBHZXQtQXpOZXR3b3JrU2VjdXJpdHlHcm91cCAtUmVzb3VyY2VHcm91cE5hbWUgIk15UmVzb3VyY2VHcm91cCIgLU5hbWUgIk15TlNHIgokbnNnLlNlY3VyaXR5UnVsZXMuQWRkKCRydWxlKQpTZXQtQXpOZXR3b3JrU2VjdXJpdHlHcm91cCAtTmV0d29ya1NlY3VyaXR5R3JvdXAgJG5zZw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$rule = New-AzNetworkSecurityRuleConfig -Name &quot;AllowSSH&quot; -Protocol &quot;Tcp&quot; -Direction &quot;Inbound&quot; -Priority 1000 -SourceAddressPrefix &quot;*&quot; -SourcePortRange &quot;*&quot; -DestinationAddressPrefix &quot;*&quot; -DestinationPortRange 22 -Access &quot;Allow&quot;
$nsg = Get-AzNetworkSecurityGroup -ResourceGroupName &quot;MyResourceGroup&quot; -Name &quot;MyNSG&quot;
$nsg.SecurityRules.Add($rule)
Set-AzNetworkSecurityGroup -NetworkSecurityGroup $nsg</pre></div><div class='content'></div><h1>Configuraciones Avanzadas de NSG</h1>
<div class='content'></div><h2>Diagnóstico y Monitoreo de NSG</h2>
<div class='content'><p>Azure proporciona herramientas para monitorear y diagnosticar las reglas de NSG y su impacto en el tráfico de red.</p>
<ul>
<li><strong>Registros de Flujo de NSG</strong>: Captura información sobre el tráfico IP que fluye a través de un NSG.</li>
<li><strong>Network Watcher</strong>: Usa Network Watcher para diagnosticar y visualizar problemas de red.</li>
</ul>
<h4>Habilitar Registros de Flujo de NSG</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXogbmV0d29yayB3YXRjaGVyIGZsb3ctbG9nIGNvbmZpZ3VyZSBcCiAgLS1yZXNvdXJjZS1ncm91cCBNeVJlc291cmNlR3JvdXAgXAogIC0tbnNnIE15TlNHIFwKICAtLWVuYWJsZWQgdHJ1ZSBcCiAgLS1zdG9yYWdlLWFjY291bnQgTXlTdG9yYWdlQWNjb3VudCBcCiAgLS1yZXRlbnRpb24gNw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>az network watcher flow-log configure \
  --resource-group MyResourceGroup \
  --nsg MyNSG \
  --enabled true \
  --storage-account MyStorageAccount \
  --retention 7</pre></div><div class='content'></div><h2>NSG y Grupos de Seguridad de Aplicaciones (ASG)</h2>
<div class='content'><p>Los Grupos de Seguridad de Aplicaciones (ASGs) te permiten agrupar VMs y definir políticas de seguridad de red basadas en estos grupos.</p>
<ul>
<li><strong>Conceptos Básicos de ASG</strong>: Simplifica las reglas de seguridad de red complejas agrupando VMs.</li>
<li><strong>Integración con NSG</strong>: Usa ASGs en las reglas de NSG para permitir o denegar tráfico a grupos específicos de VMs.</li>
</ul>
<h4>Creación y Uso de ASGs</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhciB1biBBU0cKYXogbmV0d29yayBhc2cgY3JlYXRlIC0tcmVzb3VyY2UtZ3JvdXAgTXlSZXNvdXJjZUdyb3VwIC0tbmFtZSBNeUFTRwoKIyBBw7FhZGlyIHVuYSBWTSBhIHVuIEFTRwpheiBuZXR3b3JrIG5pYyB1cGRhdGUgLS1yZXNvdXJjZS1ncm91cCBNeVJlc291cmNlR3JvdXAgLS1uYW1lIE15TmljIC0tYXBwbGljYXRpb24tc2VjdXJpdHktZ3JvdXBzIE15QVNHCgojIFVzYXIgQVNHIGVuIHVuYSByZWdsYSBkZSBOU0cKYXogbmV0d29yayBuc2cgcnVsZSBjcmVhdGUgXAogIC0tcmVzb3VyY2UtZ3JvdXAgTXlSZXNvdXJjZUdyb3VwIFwKICAtLW5zZy1uYW1lIE15TlNHIFwKICAtLW5hbWUgQWxsb3dBU0cgXAogIC0tcHJvdG9jb2wgVGNwIFwKICAtLWRpcmVjdGlvbiBJbmJvdW5kIFwKICAtLXByaW9yaXR5IDEwMDAgXAogIC0tc291cmNlLWFzZ3MgTXlBU0cgXAogIC0tZGVzdGluYXRpb24tcG9ydC1yYW5nZXMgODAgXAogIC0tYWNjZXNzIEFsbG93"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Crear un ASG
az network asg create --resource-group MyResourceGroup --name MyASG

# A&ntilde;adir una VM a un ASG
az network nic update --resource-group MyResourceGroup --name MyNic --application-security-groups MyASG

# Usar ASG en una regla de NSG
az network nsg rule create \
  --resource-group MyResourceGroup \
  --nsg-name MyNSG \
  --name AllowASG \
  --protocol Tcp \
  --direction Inbound \
  --priority 1000 \
  --source-asgs MyASG \
  --destination-port-ranges 80 \
  --access Allow</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Los Grupos de Seguridad de Red (NSGs) son esenciales para gestionar y asegurar el tráfico de red en Azure. Al entender cómo crear, gestionar y monitorear los NSGs, puedes controlar efectivamente el acceso a tus recursos de Azure. Las configuraciones avanzadas, como la integración con Grupos de Seguridad de Aplicaciones (ASGs) y el uso de herramientas de diagnóstico, mejoran aún más tu capacidad para mantener un entorno de red seguro y eficiente.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
