<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inyección de Dependencias en Angular</title>

    <link rel="alternate" href="https://campusempresa.com/es/angular/dependency-injection" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/angular/dependency-injection" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/angular/dependency-injection" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/angular/dependency-injection" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción a la Inyección de Dependencias</h1>
<div class='content'><p>La Inyección de Dependencias (DI) es un patrón de diseño utilizado para implementar IoC (Inversión de Control), permitiendo que una clase reciba sus dependencias de una fuente externa en lugar de crearlas por sí misma. Angular utiliza DI para proporcionar a los componentes los servicios que necesitan.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Dependencia</strong>: Un objeto que una clase necesita para funcionar.</li>
<li><strong>Inyección</strong>: El proceso de proporcionar a una clase sus dependencias.</li>
<li><strong>Proveedor</strong>: Un objeto que le dice al sistema DI cómo obtener una dependencia.</li>
</ul>
</div><h1>¿Por Qué Usar Inyección de Dependencias?</h1>
<div class='content'><ul>
<li><strong>Desacoplamiento</strong>: Reduce la dependencia entre clases, haciendo el código más modular y fácil de probar.</li>
<li><strong>Reutilización</strong>: Los servicios pueden ser reutilizados en diferentes componentes.</li>
<li><strong>Mantenibilidad</strong>: Más fácil de gestionar y actualizar dependencias.</li>
</ul>
</div><h1>Cómo Funciona la Inyección de Dependencias en Angular</h1>
<div class='content'><p>El sistema DI de Angular es jerárquico, lo que significa que puedes definir proveedores en diferentes niveles (módulo, componente, etc.), y Angular resolverá las dependencias basándose en la jerarquía.</p>
</div><h2>Ejemplo: Inyección de Dependencias Básica</h2>
<div class='content'><p>Vamos a crear un servicio simple e inyectarlo en un componente.</p>
<h4>Paso 1: Crear un Servicio</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9zZXJ2aWNlcy9sb2dnZXIuc2VydmljZS50cwppbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CgpASW5qZWN0YWJsZSh7CiAgcHJvdmlkZWRJbjogJ3Jvb3QnLAp9KQpleHBvcnQgY2xhc3MgTG9nZ2VyU2VydmljZSB7CiAgbG9nKG1lc3NhZ2U6IHN0cmluZykgewogICAgY29uc29sZS5sb2cobWVzc2FnZSk7CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/services/logger.service.ts
import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root',
})
export class LoggerService {
  log(message: string) {
    console.log(message);
  }
}</pre></div><div class='content'><ul>
<li><code>@Injectable({ providedIn: 'root' })</code>: Este decorador marca la clase como un servicio que puede ser inyectado. La sintaxis <code>providedIn: 'root'</code> significa que el servicio está disponible en toda la aplicación.</li>
</ul>
<h4>Paso 2: Inyectar el Servicio en un Componente</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9jb21wb25lbnRzL2V4YW1wbGUvZXhhbXBsZS5jb21wb25lbnQudHMKaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2xvZ2dlci5zZXJ2aWNlJzsKCkBDb21wb25lbnQoewogIHNlbGVjdG9yOiAnYXBwLWV4YW1wbGUnLAogIHRlbXBsYXRlVXJsOiAnLi9leGFtcGxlLmNvbXBvbmVudC5odG1sJywKICBzdHlsZVVybHM6IFsnLi9leGFtcGxlLmNvbXBvbmVudC5jc3MnXQp9KQpleHBvcnQgY2xhc3MgRXhhbXBsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7CiAgY29uc3RydWN0b3IocHJpdmF0ZSBsb2dnZXI6IExvZ2dlclNlcnZpY2UpIHt9CgogIG5nT25Jbml0KCkgewogICAgdGhpcy5sb2dnZXIubG9nKCdFeGFtcGxlQ29tcG9uZW50IGluaXRpYWxpemVkJyk7CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/components/example/example.component.ts
import { Component, OnInit } from '@angular/core';
import { LoggerService } from '../../services/logger.service';

@Component({
  selector: 'app-example',
  templateUrl: './example.component.html',
  styleUrls: ['./example.component.css']
})
export class ExampleComponent implements OnInit {
  constructor(private logger: LoggerService) {}

  ngOnInit() {
    this.logger.log('ExampleComponent initialized');
  }
}</pre></div><div class='content'><ul>
<li><code>constructor(private logger: LoggerService) {}</code>: Esta sintaxis inyecta el <code>LoggerService</code> en el componente.</li>
</ul>
</div><h1>Técnicas Avanzadas de Inyección de Dependencias</h1>
<div class='content'></div><h2>Inyectores Jerárquicos</h2>
<div class='content'><p>El sistema DI de Angular te permite definir proveedores en diferentes niveles, como en módulos o componentes. Esto puede ser útil para crear servicios singleton o para proporcionar diferentes instancias de un servicio.</p>
<h4>Proveedores a Nivel de Módulo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9hcHAubW9kdWxlLnRzCmltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CmltcG9ydCB7IEJyb3dzZXJNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJzsKaW1wb3J0IHsgQXBwQ29tcG9uZW50IH0gZnJvbSAnLi9hcHAuY29tcG9uZW50JzsKaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvbG9nZ2VyLnNlcnZpY2UnOwoKQE5nTW9kdWxlKHsKICBkZWNsYXJhdGlvbnM6IFtBcHBDb21wb25lbnRdLAogIGltcG9ydHM6IFtCcm93c2VyTW9kdWxlXSwKICBwcm92aWRlcnM6IFtMb2dnZXJTZXJ2aWNlXSwKICBib290c3RyYXA6IFtBcHBDb21wb25lbnRdCn0pCmV4cG9ydCBjbGFzcyBBcHBNb2R1bGUge30="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/app.module.ts
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';
import { LoggerService } from './services/logger.service';

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule],
  providers: [LoggerService],
  bootstrap: [AppComponent]
})
export class AppModule {}</pre></div><div class='content'><ul>
<li><code>providers: [LoggerService]</code>: Esto hace que el <code>LoggerService</code> esté disponible para todos los componentes en el módulo.</li>
</ul>
<h4>Proveedores a Nivel de Componente</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9jb21wb25lbnRzL2V4YW1wbGUvZXhhbXBsZS5jb21wb25lbnQudHMKaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2xvZ2dlci5zZXJ2aWNlJzsKCkBDb21wb25lbnQoewogIHNlbGVjdG9yOiAnYXBwLWV4YW1wbGUnLAogIHRlbXBsYXRlVXJsOiAnLi9leGFtcGxlLmNvbXBvbmVudC5odG1sJywKICBzdHlsZVVybHM6IFsnLi9leGFtcGxlLmNvbXBvbmVudC5jc3MnXSwKICBwcm92aWRlcnM6IFtMb2dnZXJTZXJ2aWNlXQp9KQpleHBvcnQgY2xhc3MgRXhhbXBsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7CiAgY29uc3RydWN0b3IocHJpdmF0ZSBsb2dnZXI6IExvZ2dlclNlcnZpY2UpIHt9CgogIG5nT25Jbml0KCkgewogICAgdGhpcy5sb2dnZXIubG9nKCdFeGFtcGxlQ29tcG9uZW50IGluaXRpYWxpemVkJyk7CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/components/example/example.component.ts
import { Component, OnInit } from '@angular/core';
import { LoggerService } from '../../services/logger.service';

@Component({
  selector: 'app-example',
  templateUrl: './example.component.html',
  styleUrls: ['./example.component.css'],
  providers: [LoggerService]
})
export class ExampleComponent implements OnInit {
  constructor(private logger: LoggerService) {}

  ngOnInit() {
    this.logger.log('ExampleComponent initialized');
  }
}</pre></div><div class='content'><ul>
<li><code>providers: [LoggerService]</code>: Esto hace que el <code>LoggerService</code> esté disponible solo para este componente y sus hijos.</li>
</ul>
</div><h2>Tokens de Inyección</h2>
<div class='content'><p>Los tokens de inyección se utilizan para crear proveedores que no están basados en clases. Esto es útil para proporcionar objetos de configuración u otras dependencias que no son clases.</p>
<h4>Ejemplo: Usando Tokens de Inyección</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9hcHAubW9kdWxlLnRzCmltcG9ydCB7IE5nTW9kdWxlLCBJbmplY3Rpb25Ub2tlbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBCcm93c2VyTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7CmltcG9ydCB7IEFwcENvbXBvbmVudCB9IGZyb20gJy4vYXBwLmNvbXBvbmVudCc7CgpleHBvcnQgY29uc3QgQVBJX1VSTCA9IG5ldyBJbmplY3Rpb25Ub2tlbjxzdHJpbmc+KCdhcGlVcmwnKTsKCkBOZ01vZHVsZSh7CiAgZGVjbGFyYXRpb25zOiBbQXBwQ29tcG9uZW50XSwKICBpbXBvcnRzOiBbQnJvd3Nlck1vZHVsZV0sCiAgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBBUElfVVJMLCB1c2VWYWx1ZTogJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tJyB9XSwKICBib290c3RyYXA6IFtBcHBDb21wb25lbnRdCn0pCmV4cG9ydCBjbGFzcyBBcHBNb2R1bGUge30="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/app.module.ts
import { NgModule, InjectionToken } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';

export const API_URL = new InjectionToken&lt;string&gt;('apiUrl');

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule],
  providers: [{ provide: API_URL, useValue: 'https://api.example.com' }],
  bootstrap: [AppComponent]
})
export class AppModule {}</pre></div><div class='content'><ul>
<li><code>new InjectionToken&lt;string&gt;('apiUrl')</code>: Crea un nuevo token de inyección.</li>
<li><code>{ provide: API_URL, useValue: 'https://api.example.com' }</code>: Proporciona un valor para el token de inyección.</li>
</ul>
<h4>Inyectando el Token</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gc3JjL2FwcC9jb21wb25lbnRzL2V4YW1wbGUvZXhhbXBsZS5jb21wb25lbnQudHMKaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIEluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBBUElfVVJMIH0gZnJvbSAnLi4vLi4vYXBwLm1vZHVsZSc7CgpAQ29tcG9uZW50KHsKICBzZWxlY3RvcjogJ2FwcC1leGFtcGxlJywKICB0ZW1wbGF0ZVVybDogJy4vZXhhbXBsZS5jb21wb25lbnQuaHRtbCcsCiAgc3R5bGVVcmxzOiBbJy4vZXhhbXBsZS5jb21wb25lbnQuY3NzJ10KfSkKZXhwb3J0IGNsYXNzIEV4YW1wbGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQgewogIGNvbnN0cnVjdG9yKEBJbmplY3QoQVBJX1VSTCkgcHJpdmF0ZSBhcGlVcmw6IHN0cmluZykge30KCiAgbmdPbkluaXQoKSB7CiAgICBjb25zb2xlLmxvZyhgQVBJIFVSTDogJHt0aGlzLmFwaVVybH1gKTsKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// src/app/components/example/example.component.ts
import { Component, OnInit, Inject } from '@angular/core';
import { API_URL } from '../../app.module';

@Component({
  selector: 'app-example',
  templateUrl: './example.component.html',
  styleUrls: ['./example.component.css']
})
export class ExampleComponent implements OnInit {
  constructor(@Inject(API_URL) private apiUrl: string) {}

  ngOnInit() {
    console.log(`API URL: ${this.apiUrl}`);
  }
}</pre></div><div class='content'><ul>
<li><code>@Inject(API_URL) private apiUrl: string</code>: Inyecta el valor asociado con el token <code>API_URL</code>.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>La Inyección de Dependencias es una característica poderosa en Angular que promueve la modularidad, reutilización y mantenibilidad. Al entender cómo crear e inyectar servicios, así como cómo usar inyectores jerárquicos y tokens de inyección, puedes construir aplicaciones Angular más robustas y escalables.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
