<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas Unitarias en Aplicaciones Cordova</title>

    <link rel="alternate" href="https://campusempresa.com/es/apache_cordova/unit-testing-cordova-apps" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/apache_cordova/unit-testing-cordova-apps" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/apache_cordova/unit-testing-cordova-apps" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/apache_cordova/unit-testing-cordova-apps" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='debugging-native-code'>&#x25C4;Depurando Código Nativo</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas Unitarias en Aplicaciones Cordova</a>
	</div>
	<div class='col-4 text-end'>
					<a href='automated-ui-testing'>Pruebas Automatizadas de UI &#x25BA;</a>
			</div>
</div>
<div class='content'><p>Las pruebas unitarias son una parte crucial del proceso de desarrollo, asegurando que las unidades individuales de tu código funcionen como se espera. En esta sección, exploraremos cómo implementar pruebas unitarias en aplicaciones Apache Cordova, desde la configuración del entorno hasta la escritura y ejecución de pruebas.</p>
</div><h1>Introducción a las Pruebas Unitarias</h1>
<div class='content'><ul>
<li><strong>Definición</strong>: Las pruebas unitarias implican probar componentes o funciones individuales de una aplicación en aislamiento.</li>
<li><strong>Propósito</strong>: Verificar que cada unidad del software funcione como se diseñó.</li>
<li><strong>Beneficios</strong>:
<ul>
<li>Detección temprana de errores.</li>
<li>Simplifica la integración.</li>
<li>Facilita la refactorización del código.</li>
<li>Mejora la calidad y fiabilidad del código.</li>
</ul>
</li>
</ul>
</div><h1>Configuración del Entorno de Pruebas</h1>
<div class='content'><p>Antes de escribir pruebas unitarias, necesitas configurar tu entorno de pruebas. Esto implica instalar herramientas y marcos necesarios.</p>
</div><h2>Prerrequisitos</h2>
<div class='content'><ul>
<li><strong>Node.js</strong>: Asegúrate de que Node.js esté instalado en tu sistema.</li>
<li><strong>Cordova CLI</strong>: Asegúrate de tener instalado el Cordova CLI.</li>
</ul>
</div><h2>Instalación de Marcos de Pruebas</h2>
<div class='content'><p>Para las pruebas unitarias de aplicaciones Cordova, los marcos populares incluyen Jasmine, Mocha y Karma. En esta guía, usaremos Jasmine y Karma.</p>
<ol>
<li>
<p><strong>Instalar Jasmine</strong>:</p>
<pre><code class="language-sh">npm install --save-dev jasmine
</code></pre>
</li>
<li>
<p><strong>Instalar Karma</strong>:</p>
<pre><code class="language-sh">npm install --save-dev karma karma-jasmine karma-chrome-launcher
</code></pre>
</li>
<li>
<p><strong>Inicializar Jasmine</strong>:</p>
<pre><code class="language-sh">npx jasmine init
</code></pre>
</li>
<li>
<p><strong>Configurar Karma</strong>:
Crea un archivo <code>karma.conf.js</code>:</p>
<pre><code class="language-js">module.exports = function(config) {
  config.set({
    frameworks: ['jasmine'],
    files: [
      'www/js/**/*.js',
      'tests/**/*.spec.js'
    ],
    browsers: ['Chrome'],
    singleRun: true
  });
};
</code></pre>
</li>
</ol>
</div><h1>Escribir Pruebas Unitarias</h1>
<div class='content'></div><h2>Estructura Básica de una Prueba Jasmine</h2>
<div class='content'><p>Una suite de pruebas Jasmine se compone de uno o más especificaciones de prueba. Cada especificación contiene una o más expectativas que prueban el estado del código.</p>
<h4>Ejemplo: Probar una Función Simple</h4>
<p>Supongamos que tenemos una función <code>add</code> en <code>www/js/math.js</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gYWRkKGEsIGIpIHsKICByZXR1cm4gYSArIGI7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function add(a, b) {
  return a + b;
}</pre></div><div class='content'><p>Podemos escribir una prueba para esta función en <code>tests/math.spec.js</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpYmUoJ0Z1bmNpb25lcyBNYXRlbcOhdGljYXMnLCBmdW5jdGlvbigpIHsKICBpdCgnZGViZXLDrWEgc3VtYXIgZG9zIG7Dum1lcm9zIGNvcnJlY3RhbWVudGUnLCBmdW5jdGlvbigpIHsKICAgIGV4cGVjdChhZGQoMSwgMikpLnRvQmUoMyk7CiAgfSk7Cn0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>describe('Funciones Matem&aacute;ticas', function() {
  it('deber&iacute;a sumar dos n&uacute;meros correctamente', function() {
    expect(add(1, 2)).toBe(3);
  });
});</pre></div><div class='content'></div><h2>Probar Código Asíncrono</h2>
<div class='content'><p>Las aplicaciones Cordova a menudo implican operaciones asíncronas. Jasmine proporciona formas de manejar el código asíncrono usando callbacks <code>done</code> o <code>async/await</code>.</p>
<h4>Ejemplo: Probar Código Asíncrono</h4>
<p>Supongamos que tenemos una función asíncrona <code>fetchData</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZmV0Y2hEYXRhKGNhbGxiYWNrKSB7CiAgc2V0VGltZW91dCgoKSA9PiB7CiAgICBjYWxsYmFjaygnZGF0YScpOwogIH0sIDEwMDApOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function fetchData(callback) {
  setTimeout(() =&gt; {
    callback('data');
  }, 1000);
}</pre></div><div class='content'><p>Podemos escribir una prueba para esta función:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpYmUoJ0Z1bmNpb25lcyBBc8OtbmNyb25hcycsIGZ1bmN0aW9uKCkgewogIGl0KCdkZWJlcsOtYSBvYnRlbmVyIGRhdG9zIGNvcnJlY3RhbWVudGUnLCBmdW5jdGlvbihkb25lKSB7CiAgICBmZXRjaERhdGEoZnVuY3Rpb24oZGF0YSkgewogICAgICBleHBlY3QoZGF0YSkudG9CZSgnZGF0YScpOwogICAgICBkb25lKCk7CiAgICB9KTsKICB9KTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>describe('Funciones As&iacute;ncronas', function() {
  it('deber&iacute;a obtener datos correctamente', function(done) {
    fetchData(function(data) {
      expect(data).toBe('data');
      done();
    });
  });
});</pre></div><div class='content'></div><h1>Ejecutar Pruebas Unitarias</h1>
<div class='content'><p>Para ejecutar las pruebas, usa el CLI de Karma:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IGthcm1hIHN0YXJ0IGthcm1hLmNvbmYuanM="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx karma start karma.conf.js</pre></div><div class='content'><p>Este comando iniciará el ejecutor de pruebas Karma, que ejecutará las pruebas en los navegadores especificados y reportará los resultados.</p>
</div><h1>Conclusión</h1>
<div class='content'><p>Las pruebas unitarias son una práctica esencial para desarrollar aplicaciones Cordova robustas. Al configurar un entorno de pruebas adecuado y escribir pruebas exhaustivas, puedes asegurarte de que los componentes de tu aplicación funcionen como se espera, lo que lleva a un código de mayor calidad y más mantenible. Recuerda:</p>
<ul>
<li>Ejecutar tus pruebas regularmente durante el desarrollo.</li>
<li>Escribir pruebas tanto para código síncrono como asíncrono.</li>
<li>Refactorizar tu código con confianza, sabiendo que tus pruebas detectarán cualquier regresión.</li>
</ul>
<p>Al integrar las pruebas unitarias en tu flujo de trabajo de desarrollo, puedes mejorar significativamente la fiabilidad y calidad de tus aplicaciones Cordova.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='debugging-native-code'>&#x25C4;Depurando Código Nativo</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas Unitarias en Aplicaciones Cordova</a>
	</div>
	<div class='col-4 text-end'>
					<a href='automated-ui-testing'>Pruebas Automatizadas de UI &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
