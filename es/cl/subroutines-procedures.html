<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subrutinas y Procedimientos en CL (Lenguaje de Control)</title>

    <link rel="alternate" href="https://campusempresa.com/es/cl/subroutines-procedures" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/cl/subroutines-procedures" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/cl/subroutines-procedures" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/cl/subroutines-procedures" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='error-handling'>&#x25C4;Manejo de Errores</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Subrutinas y Procedimientos en CL (Lenguaje de Control)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-file-operations'>Operaciones Avanzadas de Archivos &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a Subrutinas y Procedimientos</h1>
<div class='content'><p>Las subrutinas y los procedimientos son conceptos fundamentales en el Lenguaje de Control (CL) que te permiten modularizar tu código, haciéndolo más legible, mantenible y reutilizable. Esta sección te guiará desde los conceptos básicos hasta el uso avanzado de subrutinas y procedimientos en CL.</p>
</div><h1>Entendiendo las Subrutinas</h1>
<div class='content'><p>Las subrutinas en CL son bloques de código que realizan tareas específicas y pueden ser llamadas desde diferentes partes de un programa. Ayudan a descomponer tareas complejas en piezas más simples y manejables.</p>
</div><h2>Conceptos Clave de las Subrutinas</h2>
<div class='content'><ul>
<li><strong>Definición</strong>: Una subrutina se define dentro de un programa CL usando el comando <code>SUBR</code>.</li>
<li><strong>Llamando a una Subrutina</strong>: Usa el comando <code>CALLSUBR</code> para invocar una subrutina.</li>
<li><strong>Retornando de una Subrutina</strong>: Usa el comando <code>RTNSUBR</code> para devolver el control al programa que llama.</li>
</ul>
</div><h2>Ejemplo de una Subrutina Simple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UEdNCiAgICBEQ0wgVkFSKCZNU0cpIFRZUEUoKkNIQVIpIExFTig1MCkKICAgIAogICAgQ0FMTFNVQlIgU1VCUihNWV9TVUJST1VUSU5FKQogICAgCiAgICAvKiBFbCBwcm9ncmFtYSBwcmluY2lwYWwgY29udGluw7phIGFxdcOtICovCiAgICBTTkRQR01NU0cgTVNHKCZNU0cpCiAgICBFTkRQR00KClNVQlIgTVlfU1VCUk9VVElORQogICAgQ0hHVkFSIFZBUigmTVNHKSBWQUxVRSgnwqFIb2xhIGRlc2RlIGxhIHN1YnJ1dGluYSEnKQogICAgUlROU1VCUg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PGM
    DCL VAR(&amp;MSG) TYPE(*CHAR) LEN(50)
    
    CALLSUBR SUBR(MY_SUBROUTINE)
    
    /* El programa principal contin&uacute;a aqu&iacute; */
    SNDPGMMSG MSG(&amp;MSG)
    ENDPGM

SUBR MY_SUBROUTINE
    CHGVAR VAR(&amp;MSG) VALUE('&iexcl;Hola desde la subrutina!')
    RTNSUBR</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>DCL VAR(&amp;MSG) TYPE(*CHAR) LEN(50)</code>: Declara una variable <code>&amp;MSG</code>.</li>
<li><code>CALLSUBR SUBR(MY_SUBROUTINE)</code>: Llama a la subrutina llamada <code>MY_SUBROUTINE</code>.</li>
<li><code>CHGVAR VAR(&amp;MSG) VALUE('¡Hola desde la subrutina!')</code>: Cambia el valor de <code>&amp;MSG</code> dentro de la subrutina.</li>
<li><code>RTNSUBR</code>: Devuelve el control al programa principal.</li>
</ul>
</li>
</ul>
</div><h1>Procedimientos en CL</h1>
<div class='content'><p>Los procedimientos son similares a las subrutinas pero ofrecen más flexibilidad y funcionalidad. Pueden aceptar parámetros, devolver valores y se definen fuera del programa principal.</p>
</div><h2>Conceptos Clave de los Procedimientos</h2>
<div class='content'><ul>
<li><strong>Definición</strong>: Los procedimientos se definen usando el comando <code>PROC</code>.</li>
<li><strong>Llamando a un Procedimiento</strong>: Usa el comando <code>CALLPRC</code> para invocar un procedimiento.</li>
<li><strong>Retornando de un Procedimiento</strong>: Usa el comando <code>RETURN</code> para devolver un valor desde un procedimiento.</li>
</ul>
</div><h2>Ejemplo de un Procedimiento Simple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UEdNCiAgICBEQ0wgVkFSKCZSRVNVTFQpIFRZUEUoKkRFQykgTEVOKDUgMikKICAgIAogICAgQ0FMTFBSQyBQUkMoQ0FMQ1VMQVRFX1NVTSkgUEFSTSgxMCAyMCkgUlROVkFMKCZSRVNVTFQpCiAgICAKICAgIC8qIEVsIHByb2dyYW1hIHByaW5jaXBhbCBjb250aW7DumEgYXF1w60gKi8KICAgIFNORFBHTU1TRyBNU0coJ0xhIHN1bWEgZXMgJyAqQ0FUICZSRVNVTFQpCiAgICBFTkRQR00KClBST0MgQ0FMQ1VMQVRFX1NVTQogICAgRENMIFZBUigmTlVNMSkgVFlQRSgqREVDKSBMRU4oNSAyKQogICAgRENMIFZBUigmTlVNMikgVFlQRSgqREVDKSBMRU4oNSAyKQogICAgRENMIFZBUigmU1VNKSBUWVBFKCpERUMpIExFTig1IDIpCiAgICAKICAgIC8qIFJlY3VwZXJhciBwYXLDoW1ldHJvcyAqLwogICAgQ0hHVkFSIFZBUigmTlVNMSkgVkFMVUUoJVBBUk0oMSkpCiAgICBDSEdWQVIgVkFSKCZOVU0yKSBWQUxVRSglUEFSTSgyKSkKICAgIAogICAgLyogQ2FsY3VsYXIgc3VtYSAqLwogICAgQ0hHVkFSIFZBUigmU1VNKSBWQUxVRSgmTlVNMSArICZOVU0yKQogICAgCiAgICAvKiBEZXZvbHZlciBlbCByZXN1bHRhZG8gKi8KICAgIFJFVFVSTiBWQUxVRSgmU1VNKQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PGM
    DCL VAR(&amp;RESULT) TYPE(*DEC) LEN(5 2)
    
    CALLPRC PRC(CALCULATE_SUM) PARM(10 20) RTNVAL(&amp;RESULT)
    
    /* El programa principal contin&uacute;a aqu&iacute; */
    SNDPGMMSG MSG('La suma es ' *CAT &amp;RESULT)
    ENDPGM

PROC CALCULATE_SUM
    DCL VAR(&amp;NUM1) TYPE(*DEC) LEN(5 2)
    DCL VAR(&amp;NUM2) TYPE(*DEC) LEN(5 2)
    DCL VAR(&amp;SUM) TYPE(*DEC) LEN(5 2)
    
    /* Recuperar par&aacute;metros */
    CHGVAR VAR(&amp;NUM1) VALUE(%PARM(1))
    CHGVAR VAR(&amp;NUM2) VALUE(%PARM(2))
    
    /* Calcular suma */
    CHGVAR VAR(&amp;SUM) VALUE(&amp;NUM1 + &amp;NUM2)
    
    /* Devolver el resultado */
    RETURN VALUE(&amp;SUM)</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>DCL VAR(&amp;RESULT) TYPE(*DEC) LEN(5 2)</code>: Declara una variable <code>&amp;RESULT</code>.</li>
<li><code>CALLPRC PRC(CALCULATE_SUM) PARM(10 20) RTNVAL(&amp;RESULT)</code>: Llama al procedimiento <code>CALCULATE_SUM</code> con parámetros 10 y 20, y almacena el valor devuelto en <code>&amp;RESULT</code>.</li>
<li><code>DCL VAR(&amp;NUM1) TYPE(*DEC) LEN(5 2)</code>: Declara una variable <code>&amp;NUM1</code> dentro del procedimiento.</li>
<li><code>CHGVAR VAR(&amp;NUM1) VALUE(%PARM(1))</code>: Recupera el primer parámetro.</li>
<li><code>CHGVAR VAR(&amp;SUM) VALUE(&amp;NUM1 + &amp;NUM2)</code>: Calcula la suma de <code>&amp;NUM1</code> y <code>&amp;NUM2</code>.</li>
<li><code>RETURN VALUE(&amp;SUM)</code>: Devuelve la suma calculada.</li>
</ul>
</li>
</ul>
</div><h1>Uso Avanzado de Subrutinas y Procedimientos</h1>
<h2>Pasando Parámetros a Subrutinas</h2>
<div class='content'><p>Aunque las subrutinas en CL no soportan nativamente el paso de parámetros como los procedimientos, puedes usar variables globales para compartir datos entre el programa principal y las subrutinas.</p>
</div><h2>Ejemplo con Variables Globales</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UEdNCiAgICBEQ0wgVkFSKCZOVU0xKSBUWVBFKCpERUMpIExFTig1IDIpIFZBTFVFKDE1KQogICAgRENMIFZBUigmTlVNMikgVFlQRSgqREVDKSBMRU4oNSAyKSBWQUxVRSgyNSkKICAgIERDTCBWQVIoJlNVTSkgVFlQRSgqREVDKSBMRU4oNSAyKQogICAgCiAgICBDQUxMU1VCUiBTVUJSKENBTENVTEFURV9TVU0pCiAgICAKICAgIC8qIEVsIHByb2dyYW1hIHByaW5jaXBhbCBjb250aW7DumEgYXF1w60gKi8KICAgIFNORFBHTU1TRyBNU0coJ0xhIHN1bWEgZXMgJyAqQ0FUICZTVU0pCiAgICBFTkRQR00KClNVQlIgQ0FMQ1VMQVRFX1NVTQogICAgQ0hHVkFSIFZBUigmU1VNKSBWQUxVRSgmTlVNMSArICZOVU0yKQogICAgUlROU1VCUg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PGM
    DCL VAR(&amp;NUM1) TYPE(*DEC) LEN(5 2) VALUE(15)
    DCL VAR(&amp;NUM2) TYPE(*DEC) LEN(5 2) VALUE(25)
    DCL VAR(&amp;SUM) TYPE(*DEC) LEN(5 2)
    
    CALLSUBR SUBR(CALCULATE_SUM)
    
    /* El programa principal contin&uacute;a aqu&iacute; */
    SNDPGMMSG MSG('La suma es ' *CAT &amp;SUM)
    ENDPGM

SUBR CALCULATE_SUM
    CHGVAR VAR(&amp;SUM) VALUE(&amp;NUM1 + &amp;NUM2)
    RTNSUBR</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li>Las variables globales <code>&amp;NUM1</code>, <code>&amp;NUM2</code>, y <code>&amp;SUM</code> se declaran en el programa principal.</li>
<li>La subrutina <code>CALCULATE_SUM</code> accede a estas variables globales para realizar el cálculo.</li>
</ul>
</li>
</ul>
</div><h1>Resumen</h1>
<div class='content'><ul>
<li><strong>Subrutinas</strong>: Útiles para modularizar el código dentro de un solo programa CL. Se definen usando <code>SUBR</code> y se llaman con <code>CALLSUBR</code>.</li>
<li><strong>Procedimientos</strong>: Más flexibles que las subrutinas, permiten el paso de parámetros y devolver valores. Se definen usando <code>PROC</code> y se llaman con <code>CALLPRC</code>.</li>
<li><strong>Técnicas Avanzadas</strong>: Usa variables globales para pasar datos a subrutinas, y aprovecha los procedimientos para tareas más complejas que requieren el paso de parámetros y valores de retorno.</li>
</ul>
<p>Entender y utilizar subrutinas y procedimientos de manera efectiva puede mejorar en gran medida la estructura y mantenibilidad de tus programas CL.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='error-handling'>&#x25C4;Manejo de Errores</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Subrutinas y Procedimientos en CL (Lenguaje de Control)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='advanced-file-operations'>Operaciones Avanzadas de Archivos &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
