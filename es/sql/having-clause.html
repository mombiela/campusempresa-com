<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cláusula HAVING</title>

    <link rel="alternate" href="https://campusempresa.com/es/sql/having-clause" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/sql/having-clause" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/sql/having-clause" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/sql/having-clause" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='group-by-clause'>&#x25C4; Cláusula GROUP BY</a></div><div class='col-6 text-end'><a href='subqueries'>Subconsultas &#x25BA;</a></div></div><div class='content'><p>La cláusula HAVING en SQL se utiliza para filtrar registros que trabajan con datos agregados. A menudo se usa junto con la cláusula GROUP BY para filtrar grupos de filas que cumplen con ciertas condiciones. Este tema te guiará desde los conceptos básicos hasta el uso avanzado de la cláusula HAVING.</p>
</div><h1>Introducción a la Cláusula HAVING</h1>
<div class='content'><ul>
<li><strong>Propósito</strong>: La cláusula HAVING se usa para filtrar grupos de filas creados por la cláusula GROUP BY en función de una condición especificada.</li>
<li><strong>Diferencia con WHERE</strong>: La cláusula WHERE se usa para filtrar filas antes de que se realicen agrupaciones, mientras que la cláusula HAVING se usa para filtrar grupos después de que se haya aplicado la cláusula GROUP BY.</li>
</ul>
</div><h1>Sintaxis Básica</h1>
<div class='content'><p>La sintaxis básica de la cláusula HAVING es la siguiente:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIGNvbHVtbmExLCBmdW5jacOzbl9hZ3JlZ2FkYShjb2x1bW5hMikKRlJPTSBub21icmVfdGFibGEKR1JPVVAgQlkgY29sdW1uYTEKSEFWSU5HIGNvbmRpY2nDs247"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT columna1, funci&oacute;n_agregada(columna2)
FROM nombre_tabla
GROUP BY columna1
HAVING condici&oacute;n;</pre></div><div class='content'><ul>
<li><code>columna1</code>: La columna por la cual se agrupan los datos.</li>
<li><code>función_agregada(columna2)</code>: Una función agregada como COUNT, SUM, AVG, etc.</li>
<li><code>condición</code>: La condición para filtrar los grupos.</li>
</ul>
</div><h1>Ejemplo: Uso Básico</h1>
<div class='content'><p>Considera una tabla <code>ventas</code> con la siguiente estructura:</p>
<p>| id  | producto | cantidad | precio |
|-----|----------|----------|--------|
| 1   | A        | 10       | 100    |
| 2   | B        | 20       | 200    |
| 3   | A        | 15       | 150    |
| 4   | B        | 5        | 50     |
| 5   | C        | 8        | 80     |</p>
<p>Para encontrar productos con una cantidad total vendida mayor a 20, puedes usar la cláusula HAVING:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIHByb2R1Y3RvLCBTVU0oY2FudGlkYWQpIEFTIGNhbnRpZGFkX3RvdGFsCkZST00gdmVudGFzCkdST1VQIEJZIHByb2R1Y3RvCkhBVklORyBTVU0oY2FudGlkYWQpID4gMjA7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT producto, SUM(cantidad) AS cantidad_total
FROM ventas
GROUP BY producto
HAVING SUM(cantidad) &gt; 20;</pre></div><div class='content'><p>Esto devolverá:</p>
<p>| producto | cantidad_total |
|----------|----------------|
| A        | 25             |
| B        | 25             |</p>
</div><h1>Uso Avanzado</h1>
<div class='content'></div><h2>Usando Múltiples Condiciones</h2>
<div class='content'><p>Puedes usar múltiples condiciones en la cláusula HAVING combinándolas con operadores lógicos como AND y OR.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIHByb2R1Y3RvLCBTVU0oY2FudGlkYWQpIEFTIGNhbnRpZGFkX3RvdGFsLCBTVU0ocHJlY2lvKSBBUyBwcmVjaW9fdG90YWwKRlJPTSB2ZW50YXMKR1JPVVAgQlkgcHJvZHVjdG8KSEFWSU5HIFNVTShjYW50aWRhZCkgPiAyMCBBTkQgU1VNKHByZWNpbykgPiAyMDA7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT producto, SUM(cantidad) AS cantidad_total, SUM(precio) AS precio_total
FROM ventas
GROUP BY producto
HAVING SUM(cantidad) &gt; 20 AND SUM(precio) &gt; 200;</pre></div><div class='content'></div><h2>Usando Alias</h2>
<div class='content'><p>También puedes usar alias de columnas en la cláusula HAVING para una mejor legibilidad.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIHByb2R1Y3RvLCBTVU0oY2FudGlkYWQpIEFTIGNhbnRpZGFkX3RvdGFsCkZST00gdmVudGFzCkdST1VQIEJZIHByb2R1Y3RvCkhBVklORyBjYW50aWRhZF90b3RhbCA+IDIwOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT producto, SUM(cantidad) AS cantidad_total
FROM ventas
GROUP BY producto
HAVING cantidad_total &gt; 20;</pre></div><div class='content'></div><h2>Combinando WHERE y HAVING</h2>
<div class='content'><p>Puedes usar la cláusula WHERE para filtrar filas antes de agrupar y la cláusula HAVING para filtrar grupos después de agrupar.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIHByb2R1Y3RvLCBTVU0oY2FudGlkYWQpIEFTIGNhbnRpZGFkX3RvdGFsCkZST00gdmVudGFzCldIRVJFIHByZWNpbyA+IDUwCkdST1VQIEJZIHByb2R1Y3RvCkhBVklORyBTVU0oY2FudGlkYWQpID4gMjA7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT producto, SUM(cantidad) AS cantidad_total
FROM ventas
WHERE precio &gt; 50
GROUP BY producto
HAVING SUM(cantidad) &gt; 20;</pre></div><div class='content'></div><h1>Errores Comunes</h1>
<div class='content'><ul>
<li><strong>Usar HAVING sin GROUP BY</strong>: La cláusula HAVING está diseñada para trabajar con GROUP BY. Usarla sin GROUP BY resultará en un error o resultados inesperados.</li>
<li><strong>Confundir WHERE y HAVING</strong>: Recuerda que WHERE filtra filas antes de agrupar, y HAVING filtra grupos después de agrupar.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>La cláusula HAVING es una herramienta poderosa para filtrar datos agregados en SQL. Al comprender su sintaxis y uso, puedes realizar consultas más complejas y obtener información más profunda de tus datos. Recuerda usarla junto con la cláusula GROUP BY y distinguirla de la cláusula WHERE para un filtrado de datos efectivo.</p>
<p>Practica usando la cláusula HAVING con diferentes condiciones y conjuntos de datos para volverte competente en su aplicación.</p>
</div><div class='row navigation'><div class='col-6'><a href='group-by-clause'>&#x25C4; Cláusula GROUP BY</a></div><div class='col-6 text-end'><a href='subqueries'>Subconsultas &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
