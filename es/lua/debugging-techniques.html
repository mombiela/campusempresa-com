<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Técnicas de Depuración en Lua</title>

    <link rel="alternate" href="https://campusempresa.com/es/lua/debugging-techniques" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/lua/debugging-techniques" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/lua/debugging-techniques" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/lua/debugging-techniques" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='standard-io-library'>&#x25C4;Biblioteca Estándar de E/S</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Técnicas de Depuración en Lua</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-the-debug-library'>Uso de la Biblioteca de Depuración &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La depuración es una habilidad esencial para cualquier programador. En esta sección, exploraremos varias técnicas de depuración en Lua, que van desde niveles básicos hasta avanzados. Al final de este tema, deberías ser capaz de identificar y corregir errores en tu código Lua de manera eficiente.</p>
</div><h1>Técnicas Básicas de Depuración</h1>
<div class='content'></div><h2>Declaraciones Print</h2>
<div class='content'><p>Una de las técnicas de depuración más simples y efectivas es usar declaraciones print para mostrar los valores de las variables y el flujo de ejecución.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgZnVuY3Rpb24gYWRkKGEsIGIpCiAgICBwcmludCgiYToiLCBhLCAiYjoiLCBiKSAgLS0gRGVjbGFyYWNpw7NuIGRlIGRlcHVyYWNpw7NuIHByaW50CiAgICByZXR1cm4gYSArIGIKZW5kCgpwcmludChhZGQoNSwgMykp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local function add(a, b)
    print(&quot;a:&quot;, a, &quot;b:&quot;, b)  -- Declaraci&oacute;n de depuraci&oacute;n print
    return a + b
end

print(add(5, 3))</pre></div><div class='content'><ul>
<li><strong>Pros</strong>: Fácil de implementar y entender.</li>
<li><strong>Cons</strong>: Puede desordenar el código y no es adecuado para proyectos grandes.</li>
</ul>
</div><h2>Función Error</h2>
<div class='content'><p>Lua proporciona una función <code>error</code> para terminar el programa y mostrar un mensaje de error.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgZnVuY3Rpb24gZGl2aWRlKGEsIGIpCiAgICBpZiBiID09IDAgdGhlbgogICAgICAgIGVycm9yKCJObyBzZSBwZXJtaXRlIGxhIGRpdmlzacOzbiBwb3IgY2VybyIpCiAgICBlbmQKICAgIHJldHVybiBhIC8gYgplbmQKCnByaW50KGRpdmlkZSgxMCwgMikpCnByaW50KGRpdmlkZSgxMCwgMCkpICAtLSBFc3RvIGRlc2VuY2FkZW5hcsOhIHVuIGVycm9y"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local function divide(a, b)
    if b == 0 then
        error(&quot;No se permite la divisi&oacute;n por cero&quot;)
    end
    return a / b
end

print(divide(10, 2))
print(divide(10, 0))  -- Esto desencadenar&aacute; un error</pre></div><div class='content'><ul>
<li><strong>Pros</strong>: Indica claramente dónde ocurrió el error.</li>
<li><strong>Cons</strong>: Detiene la ejecución del programa.</li>
</ul>
</div><h1>Técnicas Intermedias de Depuración</h1>
<div class='content'></div><h2>Uso de `assert`</h2>
<div class='content'><p>La función <code>assert</code> se usa para verificar condiciones y lanzar un error si la condición es falsa.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgZnVuY3Rpb24gc3FydCh4KQogICAgYXNzZXJ0KHggPj0gMCwgInggZGViZSBzZXIgbm8gbmVnYXRpdm8iKQogICAgcmV0dXJuIG1hdGguc3FydCh4KQplbmQKCnByaW50KHNxcnQoOSkpCnByaW50KHNxcnQoLTEpKSAgLS0gRXN0byBkZXNlbmNhZGVuYXLDoSB1biBlcnJvciBkZSBhc2VyY2nDs24="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local function sqrt(x)
    assert(x &gt;= 0, &quot;x debe ser no negativo&quot;)
    return math.sqrt(x)
end

print(sqrt(9))
print(sqrt(-1))  -- Esto desencadenar&aacute; un error de aserci&oacute;n</pre></div><div class='content'><ul>
<li><strong>Pros</strong>: Ayuda a validar suposiciones.</li>
<li><strong>Cons</strong>: Detiene la ejecución del programa si la condición falla.</li>
</ul>
</div><h2>Biblioteca de Depuración</h2>
<div class='content'><p>Lua tiene una biblioteca de depuración incorporada que proporciona varias funciones para inspeccionar y manipular la ejecución de programas Lua.</p>
<h4><code>debug.traceback</code></h4>
<p>La función <code>debug.traceback</code> devuelve una cadena con la pila de llamadas.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgZnVuY3Rpb24gZmF1bHR5RnVuY3Rpb24oKQogICAgZXJyb3IoIk9jdXJyacOzIHVuIGVycm9yIikKZW5kCgpsb2NhbCBmdW5jdGlvbiB3cmFwcGVyRnVuY3Rpb24oKQogICAgZmF1bHR5RnVuY3Rpb24oKQplbmQKCmxvY2FsIHN0YXR1cywgZXJyID0gcGNhbGwod3JhcHBlckZ1bmN0aW9uKQppZiBub3Qgc3RhdHVzIHRoZW4KICAgIHByaW50KGRlYnVnLnRyYWNlYmFjayhlcnIpKQplbmQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local function faultyFunction()
    error(&quot;Ocurri&oacute; un error&quot;)
end

local function wrapperFunction()
    faultyFunction()
end

local status, err = pcall(wrapperFunction)
if not status then
    print(debug.traceback(err))
end</pre></div><div class='content'><ul>
<li><strong>Pros</strong>: Proporciona información detallada sobre la pila de llamadas.</li>
<li><strong>Cons</strong>: Requiere comprensión de la pila de llamadas.</li>
</ul>
</div><h1>Técnicas Avanzadas de Depuración</h1>
<div class='content'></div><h2>Uso de `debug.sethook`</h2>
<div class='content'><p>La función <code>debug.sethook</code> te permite establecer una función hook que se llamará durante ciertos eventos (por ejemplo, llamadas a funciones, retornos y ejecuciones de líneas).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgZnVuY3Rpb24gaG9vayhldmVudCwgbGluZSkKICAgIGxvY2FsIGluZm8gPSBkZWJ1Zy5nZXRpbmZvKDIpCiAgICBwcmludChldmVudCwgaW5mby5uYW1lLCBsaW5lKQplbmQKCmRlYnVnLnNldGhvb2soaG9vaywgImNybCIpCgpsb2NhbCBmdW5jdGlvbiB0ZXN0RnVuY3Rpb24oKQogICAgbG9jYWwgeCA9IDEwCiAgICB4ID0geCArIDEKICAgIHJldHVybiB4CmVuZAoKcHJpbnQodGVzdEZ1bmN0aW9uKCkp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local function hook(event, line)
    local info = debug.getinfo(2)
    print(event, info.name, line)
end

debug.sethook(hook, &quot;crl&quot;)

local function testFunction()
    local x = 10
    x = x + 1
    return x
end

print(testFunction())</pre></div><div class='content'><ul>
<li><strong>Pros</strong>: Herramienta poderosa para rastreo y perfilado.</li>
<li><strong>Cons</strong>: Puede ser complejo y puede afectar el rendimiento.</li>
</ul>
</div><h2>Uso de Depuradores Externos</h2>
<div class='content'><p>Para proyectos grandes, usar un depurador externo puede ser muy útil. Algunos depuradores populares de Lua incluyen:</p>
<ul>
<li><strong>ZeroBrane Studio</strong>: Un IDE con soporte de depuración incorporado para Lua.</li>
<li><strong>MobDebug</strong>: Un depurador remoto para Lua.</li>
</ul>
<h4>Ejemplo con ZeroBrane Studio</h4>
<ol>
<li>Instala ZeroBrane Studio.</li>
<li>Abre tu script Lua en ZeroBrane Studio.</li>
<li>Establece puntos de interrupción haciendo clic en los números de línea.</li>
<li>Ejecuta el script en modo de depuración para recorrer el código, inspeccionar variables y evaluar expresiones.</li>
</ol>
<ul>
<li><strong>Pros</strong>: Proporciona una interfaz gráfica y características avanzadas de depuración.</li>
<li><strong>Cons</strong>: Requiere instalación y configuración.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>La depuración es una parte crucial del proceso de desarrollo. Al dominar varias técnicas de depuración, puedes identificar y corregir errores en tu código Lua de manera eficiente. Comienza con técnicas básicas como declaraciones print y gradualmente avanza hacia métodos más avanzados como el uso de la biblioteca de depuración y depuradores externos. ¡Feliz depuración!</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='standard-io-library'>&#x25C4;Biblioteca Estándar de E/S</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Técnicas de Depuración en Lua</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-the-debug-library'>Uso de la Biblioteca de Depuración &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
