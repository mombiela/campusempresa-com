<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud CDN</title>

    <link rel="alternate" href="https://campusempresa.com/es/gcp/cloud-cdn" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/gcp/cloud-cdn" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/gcp/cloud-cdn" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/gcp/cloud-cdn" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='cloud-load-balancing'>&#x25C4; Balanceo de carga en la nube</a></div><div class='col-6 text-end'><a href='cloud-dns'>Cloud DNS &#x25BA;</a></div></div><div class='content'></div><h1>Introducción a Cloud CDN</h1>
<div class='content'><p>Cloud CDN (Content Delivery Network) es un servicio proporcionado por Google Cloud Platform (GCP) que acelera la entrega de contenido almacenando en caché el contenido en puntos estratégicamente ubicados de presencia (PoPs) en todo el mundo. Esto reduce la latencia y mejora la experiencia del usuario al servir contenido desde ubicaciones más cercanas al usuario.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Almacenamiento en Caché en el Borde</strong>: Almacenar copias de contenido en varias ubicaciones para reducir la latencia.</li>
<li><strong>PoPs (Puntos de Presencia)</strong>: Ubicaciones donde se almacena en caché el contenido.</li>
<li><strong>Servidor de Origen</strong>: El servidor donde se aloja el contenido original.</li>
<li><strong>Cache Hit</strong>: Cuando el contenido solicitado se encuentra en la caché.</li>
<li><strong>Cache Miss</strong>: Cuando el contenido solicitado no se encuentra en la caché y debe ser obtenido del servidor de origen.</li>
</ul>
</div><h1>Configuración de Cloud CDN</h1>
<h2>Requisitos Previos</h2>
<div class='content'><ul>
<li>Una cuenta de GCP.</li>
<li>Un balanceador de carga HTTP(S) configurado.</li>
</ul>
</div><h2>Pasos para Habilitar Cloud CDN</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Balanceador de Carga</strong>:</p>
<ul>
<li>Navega a la Consola de GCP.</li>
<li>Ve a la sección &quot;Balanceo de carga&quot;.</li>
<li>Haz clic en &quot;Crear balanceador de carga&quot;.</li>
</ul>
</li>
<li>
<p><strong>Configurar el Servicio de Backend</strong>:</p>
<ul>
<li>Selecciona el servicio de backend que deseas usar con Cloud CDN.</li>
<li>Habilita la opción &quot;Cloud CDN&quot;.</li>
</ul>
</li>
<li>
<p><strong>Configurar el Mapa de URL y el Frontend</strong>:</p>
<ul>
<li>Configura los mapas de URL para enrutar las solicitudes entrantes.</li>
<li>Configura el frontend para manejar el tráfico HTTP(S).</li>
</ul>
</li>
<li>
<p><strong>Desplegar y Probar</strong>:</p>
<ul>
<li>Despliega el balanceador de carga.</li>
<li>Prueba la configuración accediendo al contenido a través de la dirección IP o el dominio del balanceador de carga.</li>
</ul>
</li>
</ol>
</div><h2>Ejemplo: Habilitando Cloud CDN</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyBjcmVhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tcHJvdG9jb2wgSFRUUCBcCiAgICAtLXBvcnQtbmFtZSBodHRwIFwKICAgIC0taGVhbHRoLWNoZWNrcyBteS1oZWFsdGgtY2hlY2sgXAogICAgLS1nbG9iYWwKCmdjbG91ZCBjb21wdXRlIGJhY2tlbmQtc2VydmljZXMgYWRkLWJhY2tlbmQgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0taW5zdGFuY2UtZ3JvdXAgbXktaW5zdGFuY2UtZ3JvdXAgXAogICAgLS1pbnN0YW5jZS1ncm91cC16b25lIHVzLWNlbnRyYWwxLWEgXAogICAgLS1nbG9iYWwKCmdjbG91ZCBjb21wdXRlIGJhY2tlbmQtc2VydmljZXMgdXBkYXRlIG15LWJhY2tlbmQtc2VydmljZSBcCiAgICAtLWVuYWJsZS1jZG4gXAogICAgLS1nbG9iYWw="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services create my-backend-service \
    --protocol HTTP \
    --port-name http \
    --health-checks my-health-check \
    --global

gcloud compute backend-services add-backend my-backend-service \
    --instance-group my-instance-group \
    --instance-group-zone us-central1-a \
    --global

gcloud compute backend-services update my-backend-service \
    --enable-cdn \
    --global</pre></div><div class='content'></div><h1>Configuración Avanzada</h1>
<h2>Invalidación de Caché</h2>
<div class='content'><ul>
<li><strong>Propósito</strong>: Eliminar contenido desactualizado o incorrecto de la caché.</li>
<li><strong>Métodos</strong>:
<ul>
<li><strong>Invalidación Manual</strong>: Usando la Consola de GCP o el comando <code>gcloud</code>.</li>
<li><strong>Invalidación Programática</strong>: Usando la API de Cloud CDN.</li>
</ul>
</li>
</ul>
<h4>Ejemplo: Invalidación Manual</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgdXJsLW1hcHMgaW52YWxpZGF0ZS1jZG4tY2FjaGUgbXktdXJsLW1hcCBcCiAgICAtLXBhdGggIi8qIg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute url-maps invalidate-cdn-cache my-url-map \
    --path &quot;/*&quot;</pre></div><div class='content'></div><h2>Políticas de Clave de Caché</h2>
<div class='content'><ul>
<li><strong>Propósito</strong>: Controlar cómo Cloud CDN almacena en caché el contenido.</li>
<li><strong>Componentes</strong>:
<ul>
<li><strong>Incluir/Excluir Cadenas de Consulta</strong>: Determinar si las cadenas de consulta deben ser parte de la clave de caché.</li>
<li><strong>Incluir/Excluir Encabezados</strong>: Especificar qué encabezados deben incluirse en la clave de caché.</li>
</ul>
</li>
</ul>
<h4>Ejemplo: Configuración de la Política de Clave de Caché</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyB1cGRhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tY2FjaGUta2V5LXBvbGljeSBpbmNsdWRlSG9zdD10cnVlLGluY2x1ZGVQcm90b2NvbD10cnVlLGluY2x1ZGVRdWVyeVN0cmluZz10cnVlIFwKICAgIC0tZ2xvYmFs"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services update my-backend-service \
    --cache-key-policy includeHost=true,includeProtocol=true,includeQueryString=true \
    --global</pre></div><div class='content'></div><h2>Encabezados de Respuesta Personalizados</h2>
<div class='content'><ul>
<li><strong>Propósito</strong>: Agregar encabezados personalizados a las respuestas servidas desde Cloud CDN.</li>
<li><strong>Casos de Uso</strong>: Agregar encabezados de seguridad, metadatos personalizados, etc.</li>
</ul>
<h4>Ejemplo: Agregar Encabezados Personalizados</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyB1cGRhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tY3VzdG9tLXJlc3BvbnNlLWhlYWRlciAiWC1DdXN0b20tSGVhZGVyOiBteS12YWx1ZSIgXAogICAgLS1nbG9iYWw="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services update my-backend-service \
    --custom-response-header &quot;X-Custom-Header: my-value&quot; \
    --global</pre></div><div class='content'></div><h1>Monitoreo y Registro</h1>
<h2>Monitoreo</h2>
<div class='content'><ul>
<li><strong>Stackdriver Monitoring</strong>: Usa Stackdriver para monitorear métricas de Cloud CDN como la tasa de aciertos de caché, latencia, etc.</li>
</ul>
</div><h2>Registro</h2>
<div class='content'><ul>
<li><strong>Cloud Logging</strong>: Habilita el registro para capturar información detallada sobre las solicitudes servidas por Cloud CDN.</li>
</ul>
<h4>Ejemplo: Habilitar Registro</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyB1cGRhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tZW5hYmxlLWxvZ2dpbmcgXAogICAgLS1nbG9iYWw="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services update my-backend-service \
    --enable-logging \
    --global</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Cloud CDN es una herramienta poderosa para mejorar el rendimiento y la escalabilidad de tus aplicaciones web almacenando en caché el contenido más cerca de los usuarios. Al comprender los conceptos básicos de la configuración y la configuración de Cloud CDN, así como características avanzadas como la invalidación de caché y los encabezados personalizados, puedes optimizar la entrega de contenido y mejorar la experiencia del usuario. Las capacidades de monitoreo y registro aseguran además que puedas mantener y solucionar problemas de tu configuración de CDN de manera efectiva.</p>
</div><div class='row navigation'><div class='col-6'><a href='cloud-load-balancing'>&#x25C4; Balanceo de carga en la nube</a></div><div class='col-6 text-end'><a href='cloud-dns'>Cloud DNS &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
