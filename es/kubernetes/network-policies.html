<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Políticas de Red</title>

    <link rel="alternate" href="https://campusempresa.com/es/kubernetes/network-policies" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/kubernetes/network-policies" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/kubernetes/network-policies" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/kubernetes/network-policies" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='ingress-controllers'>&#x25C4; Controladores de Ingress</a></div><div class='col-6 text-end'><a href='persistent-volumes-and-persistent-volume-claims'>Volúmenes Persistentes y Claims de Volúmenes Persistentes &#x25BA;</a></div></div><div class='content'></div><h1>Introducción a las Políticas de Red</h1>
<div class='content'><p>Las Políticas de Red en Kubernetes se utilizan para controlar el flujo de tráfico entre pods. Te permiten especificar cómo se permite que los grupos de pods se comuniquen entre sí y con otros puntos finales de la red. Esto es crucial para asegurar tus aplicaciones y garantizar que solo se permita el tráfico autorizado.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Selector de Pods</strong>: Define a qué pods se aplica la política.</li>
<li><strong>Reglas de Ingreso</strong>: Controla el tráfico entrante hacia los pods seleccionados.</li>
<li><strong>Reglas de Egreso</strong>: Controla el tráfico saliente desde los pods seleccionados.</li>
<li><strong>Namespaces</strong>: Las Políticas de Red están limitadas al ámbito del namespace, lo que significa que solo se aplican dentro del mismo namespace.</li>
</ul>
</div><h1>Creación de una Política de Red Básica</h1>
<div class='content'><p>Para crear una Política de Red, necesitas definir un archivo YAML que especifique las reglas de la política. Aquí hay un ejemplo básico:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogbmV0d29ya2luZy5rOHMuaW8vdjEKa2luZDogTmV0d29ya1BvbGljeQptZXRhZGF0YToKICBuYW1lOiBhbGxvdy1pbmdyZXNzCiAgbmFtZXNwYWNlOiBkZWZhdWx0CnNwZWM6CiAgcG9kU2VsZWN0b3I6CiAgICBtYXRjaExhYmVsczoKICAgICAgcm9sZTogZGIKICBwb2xpY3lUeXBlczoKICAtIEluZ3Jlc3MKICBpbmdyZXNzOgogIC0gZnJvbToKICAgIC0gcG9kU2VsZWN0b3I6CiAgICAgICAgbWF0Y2hMYWJlbHM6CiAgICAgICAgICByb2xlOiBmcm9udGVuZA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-ingress
  namespace: default
spec:
  podSelector:
    matchLabels:
      role: db
  policyTypes:
  - Ingress
  ingress:
  - from:
    - podSelector:
        matchLabels:
          role: frontend</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>apiVersion</strong>: Especifica la versión de la API.</li>
<li><strong>kind</strong>: Define el tipo de recurso, que es <code>NetworkPolicy</code>.</li>
<li><strong>metadata</strong>: Contiene el nombre y el namespace de la política.</li>
<li><strong>spec</strong>: Define las especificaciones de la política.
<ul>
<li><strong>podSelector</strong>: Selecciona pods con la etiqueta <code>role: db</code>.</li>
<li><strong>policyTypes</strong>: Especifica que esta política se aplica al tráfico de ingreso.</li>
<li><strong>ingress</strong>: Define las reglas de ingreso.
<ul>
<li><strong>from</strong>: Especifica que se permite el tráfico desde pods con la etiqueta <code>role: frontend</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div><h1>Políticas de Red Avanzadas</h1>
<div class='content'><p>Las Políticas de Red Avanzadas pueden incluir tanto reglas de ingreso como de egreso, y pueden ser más específicas sobre el tráfico permitido.</p>
</div><h2>Ejemplo: Política de Ingreso y Egreso</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogbmV0d29ya2luZy5rOHMuaW8vdjEKa2luZDogTmV0d29ya1BvbGljeQptZXRhZGF0YToKICBuYW1lOiBhbGxvdy1pbmdyZXNzLWVncmVzcwogIG5hbWVzcGFjZTogZGVmYXVsdApzcGVjOgogIHBvZFNlbGVjdG9yOgogICAgbWF0Y2hMYWJlbHM6CiAgICAgIHJvbGU6IGJhY2tlbmQKICBwb2xpY3lUeXBlczoKICAtIEluZ3Jlc3MKICAtIEVncmVzcwogIGluZ3Jlc3M6CiAgLSBmcm9tOgogICAgLSBwb2RTZWxlY3RvcjoKICAgICAgICBtYXRjaExhYmVsczoKICAgICAgICAgIHJvbGU6IGZyb250ZW5kCiAgZWdyZXNzOgogIC0gdG86CiAgICAtIHBvZFNlbGVjdG9yOgogICAgICAgIG1hdGNoTGFiZWxzOgogICAgICAgICAgcm9sZTogZGI="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-ingress-egress
  namespace: default
spec:
  podSelector:
    matchLabels:
      role: backend
  policyTypes:
  - Ingress
  - Egress
  ingress:
  - from:
    - podSelector:
        matchLabels:
          role: frontend
  egress:
  - to:
    - podSelector:
        matchLabels:
          role: db</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>policyTypes</strong>: Incluye tanto <code>Ingress</code> como <code>Egress</code>.</li>
<li><strong>ingress</strong>: Permite el tráfico desde pods con la etiqueta <code>role: frontend</code>.</li>
<li><strong>egress</strong>: Permite el tráfico hacia pods con la etiqueta <code>role: db</code>.</li>
</ul>
</div><h1>Casos de Uso Comunes</h1>
<div class='content'><ul>
<li><strong>Aislamiento de Pods Sensibles</strong>: Asegúrate de que solo pods específicos puedan comunicarse con pods sensibles como bases de datos.</li>
<li><strong>Restricción de Acceso Externo</strong>: Evita que los pods accedan a redes externas a menos que esté explícitamente permitido.</li>
<li><strong>Comunicación entre Microservicios</strong>: Controla qué microservicios pueden comunicarse entre sí.</li>
</ul>
</div><h1>Solución de Problemas de Políticas de Red</h1>
<div class='content'><ul>
<li><strong>Política No Aplicada</strong>: Asegúrate de que la política esté en el namespace correcto y que el podSelector coincida con los pods previstos.</li>
<li><strong>Tráfico Bloqueado Inesperadamente</strong>: Revisa las reglas de la política y asegúrate de que todas las reglas de ingreso y egreso necesarias estén definidas.</li>
<li><strong>Aislamiento de Namespace</strong>: Recuerda que las Políticas de Red están limitadas al ámbito del namespace. Las políticas en un namespace no afectan a los pods en otro namespace.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Las Políticas de Red son una herramienta poderosa para asegurar tus clústeres de Kubernetes controlando el flujo de tráfico entre pods. Al entender e implementar Políticas de Red, puedes asegurarte de que tus aplicaciones estén seguras y que solo se permita el tráfico autorizado. Comienza con políticas básicas y gradualmente avanza a configuraciones más avanzadas a medida que crezcan tus necesidades.</p>
</div><div class='row navigation'><div class='col-6'><a href='ingress-controllers'>&#x25C4; Controladores de Ingress</a></div><div class='col-6 text-end'><a href='persistent-volumes-and-persistent-volume-claims'>Volúmenes Persistentes y Claims de Volúmenes Persistentes &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
