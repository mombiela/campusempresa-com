<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integración Continua y Despliegue Continuo</title>

    <link rel="alternate" href="https://campusempresa.com/es/kubernetes/continuous-integration-and-continuous-deployment" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/kubernetes/continuous-integration-and-continuous-deployment" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/kubernetes/continuous-integration-and-continuous-deployment" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/kubernetes/continuous-integration-and-continuous-deployment" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='alerting'>&#x25C4; Alertas</a></div><div class='col-6 text-end'><a href='jenkins-x'>Jenkins X &#x25BA;</a></div></div><div class='content'><p>La Integración Continua (CI) y el Despliegue Continuo (CD) son prácticas esenciales en el desarrollo de software moderno, especialmente cuando se trabaja con Kubernetes. Este tema te guiará desde los conceptos básicos hasta los avanzados, asegurándote de entender cómo implementar pipelines de CI/CD de manera efectiva.</p>
</div><h1>Introducción a CI/CD</h1>
<div class='content'><ul>
<li><strong>Integración Continua (CI)</strong>: La práctica de integrar frecuentemente cambios de código en un repositorio compartido, seguida de compilaciones y pruebas automatizadas.</li>
<li><strong>Despliegue Continuo (CD)</strong>: La práctica de desplegar automáticamente cada cambio que pasa las pruebas automatizadas a producción.</li>
</ul>
</div><h1>Beneficios de CI/CD</h1>
<div class='content'><ul>
<li><strong>Ciclos de Desarrollo Más Rápidos</strong>: Reduce el tiempo entre escribir código y desplegarlo.</li>
<li><strong>Mejora de la Calidad del Código</strong>: Las pruebas automatizadas detectan errores temprano.</li>
<li><strong>Reducción del Esfuerzo Manual</strong>: La automatización reduce la necesidad de intervención manual.</li>
</ul>
</div><h1>Configuración de un Pipeline de CI/CD</h1>
<div class='content'></div><h2>Herramientas y Tecnologías</h2>
<div class='content'><ul>
<li><strong>Sistema de Control de Versiones (VCS)</strong>: Git, GitHub, GitLab</li>
<li><strong>Plataformas de CI/CD</strong>: Jenkins, GitHub Actions, GitLab CI, CircleCI</li>
<li><strong>Contenerización</strong>: Docker</li>
<li><strong>Orquestación</strong>: Kubernetes</li>
</ul>
</div><h2>Estructura Básica del Pipeline de CI/CD</h2>
<div class='content'><ol>
<li><strong>Commit de Código</strong>: El desarrollador hace commit del código en el VCS.</li>
<li><strong>Compilación</strong>: La herramienta de CI compila la aplicación.</li>
<li><strong>Prueba</strong>: Se ejecutan pruebas automatizadas.</li>
<li><strong>Despliegue</strong>: La aplicación se despliega en un entorno de staging o producción.</li>
</ol>
</div><h2>Ejemplo: GitHub Actions para CI/CD</h2>
<div class='content'><h4>Archivo de Workflow: <code>.github/workflows/ci-cd.yml</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kvQ0QgUGlwZWxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCgpqb2JzOgogIGJ1aWxkOgogICAgcnVucy1vbjogdWJ1bnR1LWxhdGVzdAoKICAgIHN0ZXBzOgogICAgLSBuYW1lOiBDaGVja291dCBjb2RlCiAgICAgIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKCiAgICAtIG5hbWU6IFNldCB1cCBEb2NrZXIgQnVpbGR4CiAgICAgIHVzZXM6IGRvY2tlci9zZXR1cC1idWlsZHgtYWN0aW9uQHYxCgogICAgLSBuYW1lOiBCdWlsZCBEb2NrZXIgaW1hZ2UKICAgICAgcnVuOiBkb2NrZXIgYnVpbGQgLXQgbXktYXBwOmxhdGVzdCAuCgogICAgLSBuYW1lOiBSdW4gdGVzdHMKICAgICAgcnVuOiBkb2NrZXIgcnVuIG15LWFwcDpsYXRlc3QgbnBtIHRlc3QKCiAgZGVwbG95OgogICAgbmVlZHM6IGJ1aWxkCiAgICBydW5zLW9uOiB1YnVudHUtbGF0ZXN0CgogICAgc3RlcHM6CiAgICAtIG5hbWU6IENoZWNrb3V0IGNvZGUKICAgICAgdXNlczogYWN0aW9ucy9jaGVja291dEB2MgoKICAgIC0gbmFtZTogU2V0IHVwIEt1YmVybmV0ZXMKICAgICAgdXNlczogYXp1cmUvc2V0dXAta3ViZWN0bEB2MQoKICAgIC0gbmFtZTogRGVwbG95IHRvIEt1YmVybmV0ZXMKICAgICAgcnVuOiBrdWJlY3RsIGFwcGx5IC1mIGs4cy9kZXBsb3ltZW50LnlhbWw="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI/CD Pipeline

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Docker Buildx
      uses: docker/setup-buildx-action@v1

    - name: Build Docker image
      run: docker build -t my-app:latest .

    - name: Run tests
      run: docker run my-app:latest npm test

  deploy:
    needs: build
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Kubernetes
      uses: azure/setup-kubectl@v1

    - name: Deploy to Kubernetes
      run: kubectl apply -f k8s/deployment.yaml</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Disparador</strong>: El workflow se dispara con un push a la rama <code>main</code>.</li>
<li><strong>Jobs</strong>: Dos jobs, <code>build</code> y <code>deploy</code>.
<ul>
<li><strong>Job de Compilación</strong>:
<ul>
<li>Hace checkout del código.</li>
<li>Configura Docker Buildx para construir imágenes multiplataforma.</li>
<li>Construye la imagen Docker.</li>
<li>Ejecuta pruebas dentro del contenedor Docker.</li>
</ul>
</li>
<li><strong>Job de Despliegue</strong>:
<ul>
<li>Depende del job <code>build</code>.</li>
<li>Configura la CLI de Kubernetes.</li>
<li>Despliega la aplicación en Kubernetes usando un archivo de despliegue.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div><h1>Conceptos Avanzados de CI/CD</h1>
<div class='content'></div><h2>Despliegues Blue-Green</h2>
<div class='content'><ul>
<li><strong>Despliegue Blue-Green</strong>: Una técnica para reducir el tiempo de inactividad y el riesgo al ejecutar dos entornos de producción idénticos, solo uno de los cuales (azul o verde) sirve tráfico de producción en vivo en cualquier momento.</li>
</ul>
</div><h2>Despliegues Canary</h2>
<div class='content'><ul>
<li><strong>Despliegue Canary</strong>: Desplegar gradualmente una nueva versión de la aplicación a un pequeño subconjunto de usuarios antes de desplegarla en toda la infraestructura.</li>
</ul>
</div><h2>Rollbacks</h2>
<div class='content'><ul>
<li><strong>Rollback</strong>: El proceso de revertir a una versión estable anterior de la aplicación si el nuevo despliegue falla.</li>
</ul>
</div><h2>Monitoreo y Registro</h2>
<div class='content'><ul>
<li><strong>Herramientas de Monitoreo</strong>: Prometheus, Grafana</li>
<li><strong>Herramientas de Registro</strong>: ELK Stack (Elasticsearch, Logstash, Kibana), Fluentd</li>
</ul>
</div><h1>Ejemplo: Estrategia de Despliegue Avanzada</h1>
<div class='content'><h4>Despliegue Blue-Green con Kubernetes</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogYXBwcy92MQpraW5kOiBEZXBsb3ltZW50Cm1ldGFkYXRhOgogIG5hbWU6IG15LWFwcC1ibHVlCnNwZWM6CiAgcmVwbGljYXM6IDMKICBzZWxlY3RvcjoKICAgIG1hdGNoTGFiZWxzOgogICAgICBhcHA6IG15LWFwcAogICAgICB2ZXJzaW9uOiBibHVlCiAgdGVtcGxhdGU6CiAgICBtZXRhZGF0YToKICAgICAgbGFiZWxzOgogICAgICAgIGFwcDogbXktYXBwCiAgICAgICAgdmVyc2lvbjogYmx1ZQogICAgc3BlYzoKICAgICAgY29udGFpbmVyczoKICAgICAgLSBuYW1lOiBteS1hcHAKICAgICAgICBpbWFnZTogbXktYXBwOmJsdWUKLS0tCmFwaVZlcnNpb246IGFwcHMvdjEKa2luZDogRGVwbG95bWVudAptZXRhZGF0YToKICBuYW1lOiBteS1hcHAtZ3JlZW4Kc3BlYzoKICByZXBsaWNhczogMwogIHNlbGVjdG9yOgogICAgbWF0Y2hMYWJlbHM6CiAgICAgIGFwcDogbXktYXBwCiAgICAgIHZlcnNpb246IGdyZWVuCiAgdGVtcGxhdGU6CiAgICBtZXRhZGF0YToKICAgICAgbGFiZWxzOgogICAgICAgIGFwcDogbXktYXBwCiAgICAgICAgdmVyc2lvbjogZ3JlZW4KICAgIHNwZWM6CiAgICAgIGNvbnRhaW5lcnM6CiAgICAgIC0gbmFtZTogbXktYXBwCiAgICAgICAgaW1hZ2U6IG15LWFwcDpncmVlbg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-blue
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
      version: blue
  template:
    metadata:
      labels:
        app: my-app
        version: blue
    spec:
      containers:
      - name: my-app
        image: my-app:blue
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-green
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
      version: green
  template:
    metadata:
      labels:
        app: my-app
        version: green
    spec:
      containers:
      - name: my-app
        image: my-app:green</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Despliegues</strong>: Dos despliegues separados, <code>my-app-blue</code> y <code>my-app-green</code>.</li>
<li><strong>Etiquetas</strong>: Usadas para diferenciar entre las versiones azul y verde.</li>
<li><strong>Cambio de Tráfico</strong>: Gestionado actualizando el selector del servicio para apuntar a cualquiera de los despliegues azul o verde.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Implementar CI/CD en entornos de Kubernetes puede mejorar significativamente tu flujo de desarrollo al automatizar los procesos de compilación, prueba y despliegue. Al entender y utilizar herramientas como GitHub Actions, Docker y Kubernetes, puedes crear pipelines robustos que aseguren código de alta calidad y ciclos de despliegue rápidos. Estrategias avanzadas como los despliegues blue-green y canary minimizan aún más el tiempo de inactividad y el riesgo, haciendo que tus aplicaciones sean más resilientes y confiables.</p>
</div><div class='row navigation'><div class='col-6'><a href='alerting'>&#x25C4; Alertas</a></div><div class='col-6 text-end'><a href='jenkins-x'>Jenkins X &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
