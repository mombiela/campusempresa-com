<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es">Castellano</b>
				|
				<a href="https://campusempresa.cat/csharp/testing-deployment" id="lnk_lang_ca" data-lang="ca">Català</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Las pruebas y el despliegue son etapas cruciales en el ciclo de vida del desarrollo de software. Esta sección cubrirá los conceptos básicos de las pruebas en C#, incluyendo pruebas unitarias, pruebas de integración y pruebas automatizadas. También discutiremos estrategias y herramientas de despliegue para asegurar que tus aplicaciones en C# se entreguen de manera eficiente y confiable.</p>
</div><h1>Pruebas Unitarias en C#</h1>
<div class='content'><p>Las pruebas unitarias implican probar componentes individuales de tu código para asegurar que funcionen como se espera. En C#, el marco más comúnmente utilizado para pruebas unitarias es NUnit.</p>
</div><h2>Configuración de NUnit</h2>
<div class='content'><p>Para comenzar con NUnit:</p>
<ol>
<li>Instala los paquetes NUnit y NUnit3TestAdapter a través de NuGet.</li>
<li>Crea un proyecto de prueba en tu solución.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRWplbXBsbyBkZSB1bmEgcHJ1ZWJhIHVuaXRhcmlhIHNpbXBsZSB1c2FuZG8gTlVuaXQKdXNpbmcgTlVuaXQuRnJhbWV3b3JrOwoKbmFtZXNwYWNlIE15QXBwLlRlc3RzCnsKICAgIFtUZXN0Rml4dHVyZV0KICAgIHB1YmxpYyBjbGFzcyBDYWxjdWxhdG9yVGVzdHMKICAgIHsKICAgICAgICBbVGVzdF0KICAgICAgICBwdWJsaWMgdm9pZCBBZGRfV2hlbkNhbGxlZF9SZXR1cm5zU3VtT2ZBcmd1bWVudHMoKQogICAgICAgIHsKICAgICAgICAgICAgLy8gQXJyYW5nZQogICAgICAgICAgICB2YXIgY2FsY3VsYXRvciA9IG5ldyBDYWxjdWxhdG9yKCk7CgogICAgICAgICAgICAvLyBBY3QKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGN1bGF0b3IuQWRkKDEsIDIpOwoKICAgICAgICAgICAgLy8gQXNzZXJ0CiAgICAgICAgICAgIEFzc2VydC5BcmVFcXVhbCgzLCByZXN1bHQpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Ejemplo de una prueba unitaria simple usando NUnit
using NUnit.Framework;

namespace MyApp.Tests
{
    [TestFixture]
    public class CalculatorTests
    {
        [Test]
        public void Add_WhenCalled_ReturnsSumOfArguments()
        {
            // Arrange
            var calculator = new Calculator();

            // Act
            var result = calculator.Add(1, 2);

            // Assert
            Assert.AreEqual(3, result);
        }
    }
}</pre></div><div class='content'></div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Test Fixture</strong>: Una clase que contiene pruebas, marcada con <code>[TestFixture]</code>.</li>
<li><strong>Test</strong>: Un método que realiza una prueba, marcado con <code>[Test]</code>.</li>
<li><strong>Arrange, Act, Assert</strong>: Un patrón común en las pruebas unitarias:
<ul>
<li><strong>Arrange</strong>: Configura las condiciones para la prueba.</li>
<li><strong>Act</strong>: Ejecuta el código que se está probando.</li>
<li><strong>Assert</strong>: Verifica el resultado.</li>
</ul>
</li>
</ul>
</div><h1>Pruebas de Integración</h1>
<div class='content'><p>Las pruebas de integración se centran en probar la interacción entre diferentes componentes o sistemas.</p>
</div><h2>Ejemplo de Pruebas de Integración</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRWplbXBsbyBkZSB1bmEgcHJ1ZWJhIGRlIGludGVncmFjacOzbgp1c2luZyBOVW5pdC5GcmFtZXdvcms7CnVzaW5nIFN5c3RlbS5EYXRhLlNxbENsaWVudDsKCm5hbWVzcGFjZSBNeUFwcC5JbnRlZ3JhdGlvblRlc3RzCnsKICAgIFtUZXN0Rml4dHVyZV0KICAgIHB1YmxpYyBjbGFzcyBEYXRhYmFzZVRlc3RzCiAgICB7CiAgICAgICAgW1Rlc3RdCiAgICAgICAgcHVibGljIHZvaWQgQ2FuSW5zZXJ0QW5kUmV0cmlldmVEYXRhKCkKICAgICAgICB7CiAgICAgICAgICAgIC8vIEFycmFuZ2UKICAgICAgICAgICAgdmFyIGNvbm5lY3Rpb25TdHJpbmcgPSAiWW91ckNvbm5lY3Rpb25TdHJpbmdIZXJlIjsKICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gIklOU0VSVCBJTlRPIFVzZXJzIChOYW1lKSBWQUxVRVMgKCdKb2huIERvZScpOyBTRUxFQ1QgTmFtZSBGUk9NIFVzZXJzIFdIRVJFIE5hbWUgPSAnSm9obiBEb2UnOyI7CgogICAgICAgICAgICAvLyBBY3QKICAgICAgICAgICAgdXNpbmcgKHZhciBjb25uZWN0aW9uID0gbmV3IFNxbENvbm5lY3Rpb24oY29ubmVjdGlvblN0cmluZykpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uT3BlbigpOwogICAgICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBuZXcgU3FsQ29tbWFuZChxdWVyeSwgY29ubmVjdGlvbik7CiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29tbWFuZC5FeGVjdXRlU2NhbGFyKCk7CgogICAgICAgICAgICAgICAgLy8gQXNzZXJ0CiAgICAgICAgICAgICAgICBBc3NlcnQuQXJlRXF1YWwoIkpvaG4gRG9lIiwgcmVzdWx0KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Ejemplo de una prueba de integraci&oacute;n
using NUnit.Framework;
using System.Data.SqlClient;

namespace MyApp.IntegrationTests
{
    [TestFixture]
    public class DatabaseTests
    {
        [Test]
        public void CanInsertAndRetrieveData()
        {
            // Arrange
            var connectionString = &quot;YourConnectionStringHere&quot;;
            var query = &quot;INSERT INTO Users (Name) VALUES ('John Doe'); SELECT Name FROM Users WHERE Name = 'John Doe';&quot;;

            // Act
            using (var connection = new SqlConnection(connectionString))
            {
                connection.Open();
                var command = new SqlCommand(query, connection);
                var result = command.ExecuteScalar();

                // Assert
                Assert.AreEqual(&quot;John Doe&quot;, result);
            }
        }
    }
}</pre></div><div class='content'></div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Configuración de la Base de Datos</strong>: Asegúrate de que tu base de datos de prueba esté configurada y limpia antes de ejecutar las pruebas.</li>
<li><strong>Gestión de Transacciones</strong>: Usa transacciones para asegurar que las pruebas no afecten el estado real de la base de datos.</li>
</ul>
</div><h1>Pruebas Automatizadas</h1>
<div class='content'><p>Las pruebas automatizadas implican ejecutar pruebas automáticamente como parte de tu proceso de construcción. Esto asegura que los nuevos cambios no rompan la funcionalidad existente.</p>
</div><h2>Integración Continua (CI)</h2>
<div class='content'><p>Herramientas de CI como Jenkins, Azure DevOps y GitHub Actions pueden ser utilizadas para automatizar tu proceso de pruebas.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvIGRlIGZsdWpvIGRlIHRyYWJham8gZGUgR2l0SHViIEFjdGlvbnMgcGFyYSBlamVjdXRhciBwcnVlYmFzCm5hbWU6IENJCgpvbjogW3B1c2gsIHB1bGxfcmVxdWVzdF0KCmpvYnM6CiAgYnVpbGQ6CiAgICBydW5zLW9uOiB1YnVudHUtbGF0ZXN0CgogICAgc3RlcHM6CiAgICAtIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKICAgIC0gbmFtZTogU2V0dXAgLk5FVAogICAgICB1c2VzOiBhY3Rpb25zL3NldHVwLWRvdG5ldEB2MQogICAgICB3aXRoOgogICAgICAgIGRvdG5ldC12ZXJzaW9uOiAnNS4wLngnCiAgICAtIG5hbWU6IEluc3RhbGwgZGVwZW5kZW5jaWVzCiAgICAgIHJ1bjogZG90bmV0IHJlc3RvcmUKICAgIC0gbmFtZTogQnVpbGQKICAgICAgcnVuOiBkb3RuZXQgYnVpbGQgLS1uby1yZXN0b3JlCiAgICAtIG5hbWU6IFRlc3QKICAgICAgcnVuOiBkb3RuZXQgdGVzdCAtLW5vLWJ1aWxkIC0tdmVyYm9zaXR5IG5vcm1hbA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo de flujo de trabajo de GitHub Actions para ejecutar pruebas
name: CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Setup .NET
      uses: actions/setup-dotnet@v1
      with:
        dotnet-version: '5.0.x'
    - name: Install dependencies
      run: dotnet restore
    - name: Build
      run: dotnet build --no-restore
    - name: Test
      run: dotnet test --no-build --verbosity normal</pre></div><div class='content'></div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Pipeline de CI/CD</strong>: Una serie de pasos automatizados para construir, probar y desplegar tu aplicación.</li>
<li><strong>Disparadores de Construcción</strong>: Eventos que desencadenan el proceso de CI, como empujes de código o solicitudes de extracción.</li>
</ul>
</div><h1>Despliegue</h1>
<div class='content'><p>El despliegue es el proceso de entregar tu aplicación a un entorno de producción.</p>
</div><h2>Estrategias de Despliegue</h2>
<div class='content'><ul>
<li><strong>Despliegue Manual</strong>: Copiar archivos manualmente al servidor.</li>
<li><strong>Despliegue Automatizado</strong>: Usar herramientas como Azure DevOps, Octopus Deploy o GitHub Actions para automatizar el proceso de despliegue.</li>
</ul>
</div><h2>Ejemplo de Despliegue Automatizado con GitHub Actions</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvIGRlIGZsdWpvIGRlIHRyYWJham8gZGUgR2l0SHViIEFjdGlvbnMgcGFyYSBkZXNwbGVnYXIgdW5hIGFwbGljYWNpw7NuIC5ORVQKbmFtZTogRGVwbG95IHRvIEF6dXJlCgpvbjoKICBwdXNoOgogICAgYnJhbmNoZXM6CiAgICAgIC0gbWFpbgoKam9iczoKICBidWlsZC1hbmQtZGVwbG95OgogICAgcnVucy1vbjogdWJ1bnR1LWxhdGVzdAoKICAgIHN0ZXBzOgogICAgLSB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCiAgICAtIG5hbWU6IFNldHVwIC5ORVQKICAgICAgdXNlczogYWN0aW9ucy9zZXR1cC1kb3RuZXRAdjEKICAgICAgd2l0aDoKICAgICAgICBkb3RuZXQtdmVyc2lvbjogJzUuMC54JwogICAgLSBuYW1lOiBCdWlsZAogICAgICBydW46IGRvdG5ldCBidWlsZCAtLWNvbmZpZ3VyYXRpb24gUmVsZWFzZQogICAgLSBuYW1lOiBQdWJsaXNoCiAgICAgIHJ1bjogZG90bmV0IHB1Ymxpc2ggLS1jb25maWd1cmF0aW9uIFJlbGVhc2UgLS1vdXRwdXQgLi9wdWJsaXNoCiAgICAtIG5hbWU6IERlcGxveSB0byBBenVyZSBXZWIgQXBwCiAgICAgIHVzZXM6IGF6dXJlL3dlYmFwcHMtZGVwbG95QHYyCiAgICAgIHdpdGg6CiAgICAgICAgYXBwLW5hbWU6ICd5b3VyLWFwcC1uYW1lJwogICAgICAgIHB1Ymxpc2gtcHJvZmlsZTogJHt7IHNlY3JldHMuQVpVUkVfV0VCQVBQX1BVQkxJU0hfUFJPRklMRSB9fQogICAgICAgIHBhY2thZ2U6IC4vcHVibGlzaA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo de flujo de trabajo de GitHub Actions para desplegar una aplicaci&oacute;n .NET
name: Deploy to Azure

on:
  push:
    branches:
      - main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Setup .NET
      uses: actions/setup-dotnet@v1
      with:
        dotnet-version: '5.0.x'
    - name: Build
      run: dotnet build --configuration Release
    - name: Publish
      run: dotnet publish --configuration Release --output ./publish
    - name: Deploy to Azure Web App
      uses: azure/webapps-deploy@v2
      with:
        app-name: 'your-app-name'
        publish-profile: ${{ secrets.AZURE_WEBAPP_PUBLISH_PROFILE }}
        package: ./publish</pre></div><div class='content'></div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Despliegue Continuo (CD)</strong>: Desplegar automáticamente los cambios de código a producción después de pasar las pruebas.</li>
<li><strong>Variables de Entorno</strong>: Gestionar de manera segura las configuraciones para diferentes entornos (por ejemplo, desarrollo, pruebas, producción).</li>
</ul>
</div><h1>Resumen</h1>
<div class='content'><p>En esta sección, cubrimos lo esencial de las pruebas y el despliegue en C#. Discutimos las pruebas unitarias con NUnit, las pruebas de integración y las pruebas automatizadas usando herramientas de CI. También exploramos estrategias de despliegue, incluyendo el despliegue manual y automatizado. Al dominar estos conceptos, puedes asegurar que tus aplicaciones en C# sean confiables, mantenibles y se entreguen eficientemente a producción.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
