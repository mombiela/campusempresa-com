<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es">Castellano</b>
				|
				<a href="https://campusempresa.cat/ruby/ensuring-cleanup-with-ensure" id="lnk_lang_ca" data-lang="ca">Català</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>En esta sección, exploraremos cómo asegurarnos de que ciertas acciones de limpieza siempre se realicen en Ruby, independientemente de si ocurre un error. Esto es crucial para la gestión de recursos, como cerrar archivos o liberar conexiones de red.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Manejo de Excepciones</strong>: Mecanismo para manejar errores en tiempo de ejecución.</li>
<li><strong>Bloque Ensure</strong>: Un bloque que siempre se ejecuta, ya sea que se haya producido una excepción o no.</li>
<li><strong>Gestión de Recursos</strong>: Asegurarse de que recursos como archivos, conexiones de red, etc., se cierren o liberen adecuadamente.</li>
</ul>
</div><h1>Manejo de Excepciones en Ruby</h1>
<div class='content'><p>Antes de profundizar en el bloque <code>ensure</code>, revisemos brevemente cómo funciona el manejo de excepciones en Ruby.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YmVnaW4KICAjIEPDs2RpZ28gcXVlIHBvZHLDrWEgZ2VuZXJhciB1bmEgZXhjZXBjacOzbgpyZXNjdWUgU29tZUV4Y2VwdGlvbiA9PiBlCiAgIyBDw7NkaWdvIHF1ZSBzZSBlamVjdXRhIHNpIG9jdXJyZSB1bmEgZXhjZXBjacOzbgplbHNlCiAgIyBDw7NkaWdvIHF1ZSBzZSBlamVjdXRhIHNpIG5vIG9jdXJyZSBuaW5ndW5hIGV4Y2VwY2nDs24KZW5zdXJlCiAgIyBDw7NkaWdvIHF1ZSBzaWVtcHJlIHNlIGVqZWN1dGEKZW5k"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>begin
  # C&oacute;digo que podr&iacute;a generar una excepci&oacute;n
rescue SomeException =&gt; e
  # C&oacute;digo que se ejecuta si ocurre una excepci&oacute;n
else
  # C&oacute;digo que se ejecuta si no ocurre ninguna excepci&oacute;n
ensure
  # C&oacute;digo que siempre se ejecuta
end</pre></div><div class='content'><ul>
<li><strong>begin</strong>: Inicia el bloque de código donde podrían ocurrir excepciones.</li>
<li><strong>rescue</strong>: Maneja excepciones específicas.</li>
<li><strong>else</strong>: Se ejecuta si no se generan excepciones.</li>
<li><strong>ensure</strong>: Siempre se ejecuta, independientemente de si se generó una excepción.</li>
</ul>
</div><h1>Usando Ensure para la Limpieza</h1>
<div class='content'><p>El bloque <code>ensure</code> es particularmente útil para tareas de limpieza. Veamos un ejemplo que involucra el manejo de archivos.</p>
</div><h2>Ejemplo: Manejo de Archivos</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YmVnaW4KICBmaWxlID0gRmlsZS5vcGVuKCJleGFtcGxlLnR4dCIsICJyIikKICAjIFJlYWxpemFyIG9wZXJhY2lvbmVzIGVuIGVsIGFyY2hpdm8KICBwdXRzIGZpbGUucmVhZApyZXNjdWUgSU9FcnJvciA9PiBlCiAgcHV0cyAiT2N1cnJpw7MgdW4gSU9FcnJvcjogI3tlLm1lc3NhZ2V9IgplbnN1cmUKICBmaWxlLmNsb3NlIGlmIGZpbGUKICBwdXRzICJBcmNoaXZvIGNlcnJhZG8uIgplbmQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>begin
  file = File.open(&quot;example.txt&quot;, &quot;r&quot;)
  # Realizar operaciones en el archivo
  puts file.read
rescue IOError =&gt; e
  puts &quot;Ocurri&oacute; un IOError: #{e.message}&quot;
ensure
  file.close if file
  puts &quot;Archivo cerrado.&quot;
end</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ol>
<li><strong>Apertura del Archivo</strong>: El método <code>File.open</code> se utiliza para abrir un archivo.</li>
<li><strong>Lectura del Archivo</strong>: El método <code>file.read</code> lee el contenido del archivo.</li>
<li><strong>Bloque Rescue</strong>: Si ocurre un <code>IOError</code>, se captura y maneja.</li>
<li><strong>Bloque Ensure</strong>: El método <code>file.close</code> asegura que el archivo se cierre, ya sea que ocurra un error o no.</li>
</ol>
</div><h2>Ejemplo: Conexión de Red</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVxdWlyZSAnbmV0L2h0dHAnCgpiZWdpbgogIHVyaSA9IFVSSSgnaHR0cDovL2V4YW1wbGUuY29tJykKICByZXNwb25zZSA9IE5ldDo6SFRUUC5nZXQodXJpKQogICMgUmVhbGl6YXIgb3BlcmFjaW9uZXMgY29uIGxhIHJlc3B1ZXN0YQogIHB1dHMgcmVzcG9uc2UKcmVzY3VlIFN0YW5kYXJkRXJyb3IgPT4gZQogIHB1dHMgIk9jdXJyacOzIHVuIGVycm9yOiAje2UubWVzc2FnZX0iCmVuc3VyZQogICMgQWNjaW9uZXMgZGUgbGltcGllemEsIHNpIGxhcyBoYXkKICBwdXRzICJBY2Npb25lcyBkZSBsaW1waWV6YSBjb21wbGV0YWRhcy4iCmVuZA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>require 'net/http'

begin
  uri = URI('http://example.com')
  response = Net::HTTP.get(uri)
  # Realizar operaciones con la respuesta
  puts response
rescue StandardError =&gt; e
  puts &quot;Ocurri&oacute; un error: #{e.message}&quot;
ensure
  # Acciones de limpieza, si las hay
  puts &quot;Acciones de limpieza completadas.&quot;
end</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ol>
<li><strong>Realizando una Solicitud</strong>: El método <code>Net::HTTP.get</code> se utiliza para realizar una solicitud HTTP GET.</li>
<li><strong>Manejo de Errores</strong>: Cualquier <code>StandardError</code> se captura y maneja.</li>
<li><strong>Bloque Ensure</strong>: Ejecuta acciones de limpieza, si las hay, asegurando que los recursos se gestionen adecuadamente.</li>
</ol>
</div><h1>Resumen</h1>
<div class='content'><ul>
<li>El bloque <code>ensure</code> en Ruby es una herramienta poderosa para asegurar que las acciones de limpieza siempre se realicen, independientemente de si ocurre una excepción.</li>
<li>Es particularmente útil para tareas de gestión de recursos, como cerrar archivos o liberar conexiones de red.</li>
<li>Al usar <code>ensure</code>, puedes escribir código más robusto y confiable que gestione adecuadamente los recursos.</li>
</ul>
<p>Entender y usar el bloque <code>ensure</code> de manera efectiva te ayudará a escribir código Ruby más limpio y mantenible.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
