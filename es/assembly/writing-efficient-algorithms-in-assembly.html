<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy<br> y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es">Castellano</b>
				|
				<a href="https://campusempresa.cat/assembly/writing-efficient-algorithms-in-assembly" id="lnk_lang_ca" data-lang="ca">Català</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Proyecto</a>
				<a href="about">Sobre nosotros</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donaciones</a>
				<a href="licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Escribir algoritmos eficientes en lenguaje ensamblador es una habilidad crítica para optimizar el rendimiento a nivel de hardware. Esta sección te guiará a través de los principios y técnicas necesarias para escribir código ensamblador de alto rendimiento, desde conceptos básicos hasta estrategias avanzadas de optimización.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Comprender la Arquitectura de la CPU</strong>: Conocer cómo la CPU ejecuta instrucciones y gestiona la memoria es crucial para escribir código ensamblador eficiente.</li>
<li><strong>Conjunto de Instrucciones</strong>: Familiarízate con el conjunto de instrucciones de la CPU objetivo, incluidas las instrucciones comunes y sus ciclos.</li>
<li><strong>Registros</strong>: El uso eficiente de los registros de la CPU puede mejorar significativamente el rendimiento.</li>
<li><strong>Acceso a la Memoria</strong>: Minimiza el acceso a la memoria y comprende el costo de los diferentes tipos de operaciones de memoria.</li>
<li><strong>Ramas y Bucles</strong>: Optimiza las construcciones de ramas y bucles para reducir la sobrecarga.</li>
</ul>
</div><h1>Técnicas Básicas para Escribir Código Ensamblador Eficiente</h1>
<h2>Minimizar el Conteo de Instrucciones</h2>
<div class='content'><ul>
<li><strong>Usar Instrucciones Eficientes</strong>: Elige instrucciones que logren más con menos ciclos.</li>
<li><strong>Evitar Instrucciones Redundantes</strong>: Elimina instrucciones innecesarias que no contribuyen al resultado final.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBFamVtcGxvIGluZWZpY2llbnRlCk1PViBBWCwgNQpBREQgQVgsIDAKCjsgRWplbXBsbyBlZmljaWVudGUKTU9WIEFYLCA1"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Ejemplo ineficiente
MOV AX, 5
ADD AX, 0

; Ejemplo eficiente
MOV AX, 5</pre></div><div class='content'></div><h2>Aprovechar los Registros</h2>
<div class='content'><ul>
<li><strong>Asignación de Registros</strong>: Usa registros para variables de acceso frecuente para acelerar los tiempos de acceso.</li>
<li><strong>Evitar Acceso a la Memoria</strong>: Almacena resultados intermedios en registros en lugar de en memoria.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBFamVtcGxvIGluZWZpY2llbnRlCk1PViBBWCwgW3ZhcjFdCk1PViBCWCwgW3ZhcjJdCkFERCBBWCwgQlgKTU9WIFtyZXN1bHRhZG9dLCBBWAoKOyBFamVtcGxvIGVmaWNpZW50ZQpNT1YgQVgsIFt2YXIxXQpBREQgQVgsIFt2YXIyXQpNT1YgW3Jlc3VsdGFkb10sIEFY"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Ejemplo ineficiente
MOV AX, [var1]
MOV BX, [var2]
ADD AX, BX
MOV [resultado], AX

; Ejemplo eficiente
MOV AX, [var1]
ADD AX, [var2]
MOV [resultado], AX</pre></div><div class='content'></div><h2>Optimización de Bucles</h2>
<div class='content'><ul>
<li><strong>Desenrollar Bucles</strong>: Reduce la sobrecarga del control de bucles desenrollando bucles cuando sea posible.</li>
<li><strong>Minimizar Ramas</strong>: Usa movimientos condicionales u otras técnicas para reducir el número de ramas.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("OyBCdWNsZSBpbmVmaWNpZW50ZQpNT1YgQ1gsIDEwCkxPT1BfU1RBUlQ6CiAgICBBREQgQVgsIEJYCiAgICBERUMgQ1gKICAgIEpOWiBMT09QX1NUQVJUCgo7IEJ1Y2xlIGRlc2Vucm9sbGFkbwpBREQgQVgsIEJYCkFERCBBWCwgQlgKQUREIEFYLCBCWApBREQgQVgsIEJYCkFERCBBWCwgQlgKQUREIEFYLCBCWApBREQgQVgsIEJYCkFERCBBWCwgQlgKQUREIEFYLCBCWApBREQgQVgsIEJY"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>; Bucle ineficiente
MOV CX, 10
LOOP_START:
    ADD AX, BX
    DEC CX
    JNZ LOOP_START

; Bucle desenrollado
ADD AX, BX
ADD AX, BX
ADD AX, BX
ADD AX, BX
ADD AX, BX
ADD AX, BX
ADD AX, BX
ADD AX, BX
ADD AX, BX
ADD AX, BX</pre></div><div class='content'></div><h1>Técnicas Avanzadas de Optimización</h1>
<h2>Pipelining y Paralelismo</h2>
<div class='content'><ul>
<li><strong>Pipelining de Instrucciones</strong>: Organiza las instrucciones para maximizar la eficiencia del pipeline de la CPU.</li>
<li><strong>Ejecución Paralela</strong>: Utiliza instrucciones SIMD (Single Instruction, Multiple Data) cuando sea aplicable.</li>
</ul>
</div><h2>Optimización de Caché</h2>
<div class='content'><ul>
<li><strong>Localidad de Datos</strong>: Organiza los datos para aprovechar las líneas de caché y reducir fallos de caché.</li>
<li><strong>Prefetching</strong>: Usa instrucciones de prefetch para cargar datos en la caché antes de que sean necesarios.</li>
</ul>
</div><h2>Perfilado y Benchmarking</h2>
<div class='content'><ul>
<li><strong>Herramientas de Perfilado</strong>: Usa herramientas para perfilar tu código e identificar cuellos de botella.</li>
<li><strong>Benchmarking</strong>: Mide el rendimiento de diferentes versiones de código para asegurar que las optimizaciones sean efectivas.</li>
</ul>
</div><h1>Ejemplo: Optimización de un Algoritmo Simple</h1>
<h2>Problema: Suma de un Arreglo</h2>
<div class='content'><p>Escribe un código ensamblador eficiente para calcular la suma de un arreglo de enteros.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgYXJyYXkgZGIgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAKICAgIGFycmF5X2xlbiBlcXUgJCAtIGFycmF5CgpzZWN0aW9uIC5ic3MKICAgIHN1bSByZXNkIDEKCnNlY3Rpb24gLnRleHQKICAgIGdsb2JhbCBfc3RhcnQKCl9zdGFydDoKICAgIHhvciBlYXgsIGVheCAgICAgICAgOyBMaW1waWFyIEVBWCAoYWN1bXVsYWRvciBwYXJhIGxhIHN1bWEpCiAgICB4b3IgZWN4LCBlY3ggICAgICAgIDsgTGltcGlhciBFQ1ggKMOtbmRpY2UpCgpzdW1fbG9vcDoKICAgIGNtcCBlY3gsIGFycmF5X2xlbiAgOyBDb21wYXJhciDDrW5kaWNlIGNvbiBsYSBsb25naXR1ZCBkZWwgYXJyZWdsbwogICAgamdlIGVuZF9sb29wICAgICAgICA7IFNpIMOtbmRpY2UgPj0gbG9uZ2l0dWQgZGVsIGFycmVnbG8sIHNhbGlyIGRlbCBidWNsZQoKICAgIGFkZCBhbCwgW2FycmF5ICsgZWN4XSA7IEHDsWFkaXIgZWxlbWVudG8gZGVsIGFycmVnbG8gYSBBTAogICAgaW5jIGVjeCAgICAgICAgICAgICA7IEluY3JlbWVudGFyIMOtbmRpY2UKICAgIGptcCBzdW1fbG9vcCAgICAgICAgOyBSZXBldGlyIGJ1Y2xlCgplbmRfbG9vcDoKICAgIG1vdiBbc3VtXSwgZWF4ICAgICAgOyBBbG1hY2VuYXIgZWwgcmVzdWx0YWRvIGVuIHN1bQoKICAgIDsgU2FsaXIgZGVsIHByb2dyYW1hIChzeXNjYWxsIGRlIExpbnV4KQogICAgbW92IGVheCwgMSAgICAgICAgICA7IE7Dum1lcm8gZGUgc3lzY2FsbCAoc3lzX2V4aXQpCiAgICB4b3IgZWJ4LCBlYnggICAgICAgIDsgQ8OzZGlnbyBkZSBzYWxpZGEgMAogICAgaW50IDB4ODA="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    array db 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
    array_len equ $ - array

section .bss
    sum resd 1

section .text
    global _start

_start:
    xor eax, eax        ; Limpiar EAX (acumulador para la suma)
    xor ecx, ecx        ; Limpiar ECX (&iacute;ndice)

sum_loop:
    cmp ecx, array_len  ; Comparar &iacute;ndice con la longitud del arreglo
    jge end_loop        ; Si &iacute;ndice &gt;= longitud del arreglo, salir del bucle

    add al, [array + ecx] ; A&ntilde;adir elemento del arreglo a AL
    inc ecx             ; Incrementar &iacute;ndice
    jmp sum_loop        ; Repetir bucle

end_loop:
    mov [sum], eax      ; Almacenar el resultado en sum

    ; Salir del programa (syscall de Linux)
    mov eax, 1          ; N&uacute;mero de syscall (sys_exit)
    xor ebx, ebx        ; C&oacute;digo de salida 0
    int 0x80</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Inicialización</strong>: Limpiar el acumulador (EAX) y el índice (ECX).</li>
<li><strong>Bucle</strong>: Iterar a través del arreglo, sumando cada elemento al acumulador.</li>
<li><strong>Salida</strong>: Almacenar el resultado y salir del programa.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Escribir algoritmos eficientes en ensamblador requiere una comprensión profunda de la arquitectura de la CPU, el conjunto de instrucciones y las técnicas de optimización. Al minimizar el conteo de instrucciones, aprovechar los registros, optimizar los bucles y usar técnicas avanzadas como el pipelining y la optimización de caché, puedes mejorar significativamente el rendimiento de tu código ensamblador. La práctica y el perfilado son esenciales para dominar estas habilidades y escribir programas en ensamblador de alto rendimiento.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
