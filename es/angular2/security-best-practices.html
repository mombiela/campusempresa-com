<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mejores Prácticas de Seguridad</title>

    <link rel="alternate" href="https://campusempresa.com/es/angular2/security-best-practices" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/angular2/security-best-practices" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/angular2/security-best-practices" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/es/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<b id="lit_lang_es" class="px-2">ES</b>
				|
				<a href="/ca/angular2/security-best-practices" id="lnk_lang_ca" data-lang="ca" class="px-2">CA</a>
					</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/es/objective">El Proyecto</a>
				<a href="/es/about">Sobre nosotros</a>
				<a href="/es/contribute">Contribuir</a>
				<a href="/es/donate">Donaciones</a>
				<a href="/es/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='code-style-and-linting'>&#x25C4;Estilo de Código y Linting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Mejores Prácticas de Seguridad</a>
	</div>
	<div class='col-4 text-end'>
					<a href='project-setup'>Configuración del Proyecto &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>La seguridad es un aspecto crítico del desarrollo web, y Angular 2+ proporciona varias características integradas para ayudar a los desarrolladores a crear aplicaciones seguras. Esta sección cubrirá las mejores prácticas para asegurar tus aplicaciones Angular contra vulnerabilidades y ataques comunes.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Cross-Site Scripting (XSS)</strong></li>
<li><strong>Cross-Site Request Forgery (CSRF)</strong></li>
<li><strong>Autenticación y Autorización</strong></li>
<li><strong>Encabezados HTTP Seguros</strong></li>
<li><strong>Cifrado de Datos</strong></li>
<li><strong>Gestión de Dependencias</strong></li>
</ul>
</div><h1>Cross-Site Scripting (XSS)</h1>
<div class='content'><p>Cross-Site Scripting (XSS) es un tipo de vulnerabilidad donde un atacante inyecta scripts maliciosos en contenido de sitios web que de otro modo serían confiables. Angular proporciona mecanismos integrados para prevenir ataques XSS.</p>
</div><h2>Protección XSS Integrada en Angular</h2>
<div class='content'><p>Angular escapa automáticamente las expresiones de enlace de datos para prevenir ataques XSS. Por ejemplo:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBFc3RvIHNlcsOhIGVzY2FwYWRvIHBvciBBbmd1bGFyIC0tPgo8ZGl2Pnt7IHVzZXJJbnB1dCB9fTwvZGl2Pg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- Esto ser&aacute; escapado por Angular --&gt;
&lt;div&gt;{{ userInput }}&lt;/div&gt;</pre></div><div class='content'></div><h2>Saneamiento de HTML</h2>
<div class='content'><p>Si necesitas enlazar contenido HTML, usa el <code>DomSanitizer</code> de Angular para sanear el contenido:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgRG9tU2FuaXRpemVyLCBTYWZlSHRtbCB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInOwoKZXhwb3J0IGNsYXNzIFNhZmVIdG1sQ29tcG9uZW50IHsKICBzYWZlSHRtbDogU2FmZUh0bWw7CgogIGNvbnN0cnVjdG9yKHByaXZhdGUgc2FuaXRpemVyOiBEb21TYW5pdGl6ZXIpIHsKICAgIGNvbnN0IGRhbmdlcm91c0h0bWwgPSAnPGltZyBzcmM9ImphdmFzY3JpcHQ6YWxlcnQoXCdYU1NcJykiPic7CiAgICB0aGlzLnNhZmVIdG1sID0gdGhpcy5zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwoZGFuZ2Vyb3VzSHRtbCk7CiAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { DomSanitizer, SafeHtml } from '@angular/platform-browser';

export class SafeHtmlComponent {
  safeHtml: SafeHtml;

  constructor(private sanitizer: DomSanitizer) {
    const dangerousHtml = '&lt;img src=&quot;javascript:alert(\'XSS\')&quot;&gt;';
    this.safeHtml = this.sanitizer.bypassSecurityTrustHtml(dangerousHtml);
  }
}</pre></div><div class='content'></div><h1>Cross-Site Request Forgery (CSRF)</h1>
<div class='content'><p>Los ataques CSRF engañan a los usuarios para que realicen acciones que no tenían la intención de realizar. El HttpClient de Angular puede configurarse para incluir tokens CSRF en las solicitudes.</p>
</div><h2>Configuración de Protección CSRF</h2>
<div class='content'><p>Asegúrate de que tu backend esté configurado para generar y validar tokens CSRF. Luego, configura el HttpClient de Angular para incluir el token CSRF en las solicitudes:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cEhlYWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7Cgpjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKHsKICAnWC1DU1JGLVRva2VuJzogJ3lvdXItY3NyZi10b2tlbicKfSk7Cgp0aGlzLmh0dHBDbGllbnQucG9zdCgnL2FwaS9lbmRwb2ludCcsIGRhdGEsIHsgaGVhZGVycyB9KS5zdWJzY3JpYmUocmVzcG9uc2UgPT4gewogIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKfSk7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { HttpClient, HttpHeaders } from '@angular/common/http';

const headers = new HttpHeaders({
  'X-CSRF-Token': 'your-csrf-token'
});

this.httpClient.post('/api/endpoint', data, { headers }).subscribe(response =&gt; {
  console.log(response);
});</pre></div><div class='content'></div><h1>Autenticación y Autorización</h1>
<div class='content'><p>La autenticación verifica la identidad de un usuario, mientras que la autorización determina lo que un usuario autenticado tiene permitido hacer.</p>
</div><h2>Implementación de Autenticación</h2>
<div class='content'><p>Usa el <code>HttpClient</code> de Angular para manejar las solicitudes de autenticación:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJzsKCmV4cG9ydCBjbGFzcyBBdXRoU2VydmljZSB7CiAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwQ2xpZW50OiBIdHRwQ2xpZW50KSB7fQoKICBsb2dpbihjcmVkZW50aWFsczogeyB1c2VybmFtZTogc3RyaW5nOyBwYXNzd29yZDogc3RyaW5nIH0pIHsKICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQucG9zdCgnL2FwaS9sb2dpbicsIGNyZWRlbnRpYWxzKTsKICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { HttpClient } from '@angular/common/http';

export class AuthService {
  constructor(private httpClient: HttpClient) {}

  login(credentials: { username: string; password: string }) {
    return this.httpClient.post('/api/login', credentials);
  }
}</pre></div><div class='content'></div><h2>Guardias de Ruta para Autorización</h2>
<div class='content'><p>Usa las guardias de ruta de Angular para proteger rutas basadas en roles o permisos de usuario:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBDYW5BY3RpdmF0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJzsKaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuL2F1dGguc2VydmljZSc7CgpASW5qZWN0YWJsZSh7CiAgcHJvdmlkZWRJbjogJ3Jvb3QnCn0pCmV4cG9ydCBjbGFzcyBBdXRoR3VhcmQgaW1wbGVtZW50cyBDYW5BY3RpdmF0ZSB7CiAgY29uc3RydWN0b3IocHJpdmF0ZSBhdXRoU2VydmljZTogQXV0aFNlcnZpY2UsIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIpIHt9CgogIGNhbkFjdGl2YXRlKCk6IGJvb2xlYW4gewogICAgaWYgKHRoaXMuYXV0aFNlcnZpY2UuaXNMb2dnZWRJbigpKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoWycvbG9naW4nXSk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';
import { CanActivate, Router } from '@angular/router';
import { AuthService } from './auth.service';

@Injectable({
  providedIn: 'root'
})
export class AuthGuard implements CanActivate {
  constructor(private authService: AuthService, private router: Router) {}

  canActivate(): boolean {
    if (this.authService.isLoggedIn()) {
      return true;
    } else {
      this.router.navigate(['/login']);
      return false;
    }
  }
}</pre></div><div class='content'></div><h1>Encabezados HTTP Seguros</h1>
<div class='content'><p>Los encabezados HTTP seguros ayudan a proteger tu aplicación contra varios ataques. Usa el <code>HttpClient</code> de Angular para establecer estos encabezados.</p>
</div><h2>Establecimiento de Encabezados Seguros</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cEhlYWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7Cgpjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKHsKICAnQ29udGVudC1TZWN1cml0eS1Qb2xpY3knOiAiZGVmYXVsdC1zcmMgJ3NlbGYnIiwKICAnWC1Db250ZW50LVR5cGUtT3B0aW9ucyc6ICdub3NuaWZmJywKICAnWC1GcmFtZS1PcHRpb25zJzogJ0RFTlknCn0pOwoKdGhpcy5odHRwQ2xpZW50LmdldCgnL2FwaS9zZWN1cmUtZW5kcG9pbnQnLCB7IGhlYWRlcnMgfSkuc3Vic2NyaWJlKHJlc3BvbnNlID0+IHsKICBjb25zb2xlLmxvZyhyZXNwb25zZSk7Cn0pOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { HttpClient, HttpHeaders } from '@angular/common/http';

const headers = new HttpHeaders({
  'Content-Security-Policy': &quot;default-src 'self'&quot;,
  'X-Content-Type-Options': 'nosniff',
  'X-Frame-Options': 'DENY'
});

this.httpClient.get('/api/secure-endpoint', { headers }).subscribe(response =&gt; {
  console.log(response);
});</pre></div><div class='content'></div><h1>Cifrado de Datos</h1>
<div class='content'><p>Cifra los datos sensibles antes de almacenarlos o transmitirlos para asegurar la confidencialidad e integridad.</p>
</div><h2>Uso de CryptoJS para Cifrado</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICogYXMgQ3J5cHRvSlMgZnJvbSAnY3J5cHRvLWpzJzsKCmNvbnN0IHNlY3JldEtleSA9ICdteS1zZWNyZXQta2V5JzsKY29uc3QgZGF0YSA9ICdTZW5zaXRpdmUgZGF0YSc7Cgpjb25zdCBlbmNyeXB0ZWREYXRhID0gQ3J5cHRvSlMuQUVTLmVuY3J5cHQoZGF0YSwgc2VjcmV0S2V5KS50b1N0cmluZygpOwpjb25zdCBkZWNyeXB0ZWREYXRhID0gQ3J5cHRvSlMuQUVTLmRlY3J5cHQoZW5jcnlwdGVkRGF0YSwgc2VjcmV0S2V5KS50b1N0cmluZyhDcnlwdG9KUy5lbmMuVXRmOCk7Cgpjb25zb2xlLmxvZygnRW5jcnlwdGVkOicsIGVuY3J5cHRlZERhdGEpOwpjb25zb2xlLmxvZygnRGVjcnlwdGVkOicsIGRlY3J5cHRlZERhdGEpOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import * as CryptoJS from 'crypto-js';

const secretKey = 'my-secret-key';
const data = 'Sensitive data';

const encryptedData = CryptoJS.AES.encrypt(data, secretKey).toString();
const decryptedData = CryptoJS.AES.decrypt(encryptedData, secretKey).toString(CryptoJS.enc.Utf8);

console.log('Encrypted:', encryptedData);
console.log('Decrypted:', decryptedData);</pre></div><div class='content'></div><h1>Gestión de Dependencias</h1>
<div class='content'><p>Mantén tus dependencias actualizadas para evitar vulnerabilidades en bibliotecas de terceros.</p>
</div><h2>Uso de npm Audit</h2>
<div class='content'><p>Ejecuta <code>npm audit</code> para verificar vulnerabilidades en tus dependencias:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGF1ZGl0"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm audit</pre></div><div class='content'></div><h2>Actualización de Dependencias</h2>
<div class='content'><p>Usa <code>npm update</code> para actualizar tus dependencias:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIHVwZGF0ZQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm update</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>Siguiendo estas mejores prácticas de seguridad, puedes reducir significativamente el riesgo de vulnerabilidades en tus aplicaciones Angular. Mantente siempre informado sobre las últimas amenazas de seguridad y mantén tus dependencias actualizadas. La seguridad es un proceso continuo, y la vigilancia es clave para mantener una aplicación segura.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='code-style-and-linting'>&#x25C4;Estilo de Código y Linting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Mejores Prácticas de Seguridad</a>
	</div>
	<div class='col-4 text-end'>
					<a href='project-setup'>Configuración del Proyecto &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/es/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
