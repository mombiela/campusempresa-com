<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViewSets y Routers</title>

    <link rel="alternate" href="https://campusempresa.com/django/viewsets-and-routers" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/django/viewsets-and-routers" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/django/viewsets-and-routers" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/django/viewsets-and-routers" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/django/viewsets-and-routers" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='serializers'>&#x25C4;Serializadores</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">ViewSets y Routers</a>
	</div>
	<div class='col-4 text-end'>
					<a href='authentication-and-permissions'>Autenticación y Permisos &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>En esta sección, exploraremos los ViewSets y Routers de Django, que son herramientas poderosas proporcionadas por el Django REST framework (DRF) para simplificar la creación de APIs RESTful. Al final de esta sección, entenderás cómo usar ViewSets y Routers para agilizar tu proceso de desarrollo de API.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>ViewSets</strong>: Un ViewSet es una clase que combina la lógica de múltiples vistas en una sola clase. Esto ayuda a reducir la redundancia y hace que el código sea más mantenible.</li>
<li><strong>Routers</strong>: Los Routers generan automáticamente patrones de URL para ViewSets, reduciendo la necesidad de definir manualmente las configuraciones de URL.</li>
</ul>
</div><h1>ViewSets</h1>
<div class='content'></div><h2>¿Qué es un ViewSet?</h2>
<div class='content'><p>Un ViewSet es un tipo de vista basada en clases que proporciona acciones como <code>list</code>, <code>create</code>, <code>retrieve</code>, <code>update</code> y <code>destroy</code>. En lugar de definir estas acciones por separado, puedes definirlas en una sola clase.</p>
</div><h2>Ejemplo de un ViewSet Simple</h2>
<div class='content'><p>Vamos a crear un ViewSet simple para un modelo <code>Book</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb2RlbHMucHkKZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgQm9vayhtb2RlbHMuTW9kZWwpOgogICAgdGl0bGUgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9MTAwKQogICAgYXV0aG9yID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIHB1Ymxpc2hlZF9kYXRlID0gbW9kZWxzLkRhdGVGaWVsZCgpCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYudGl0bGU="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># models.py
from django.db import models

class Book(models.Model):
    title = models.CharField(max_length=100)
    author = models.CharField(max_length=100)
    published_date = models.DateField()

    def __str__(self):
        return self.title</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXJpYWxpemVycy5weQpmcm9tIHJlc3RfZnJhbWV3b3JrIGltcG9ydCBzZXJpYWxpemVycwpmcm9tIC5tb2RlbHMgaW1wb3J0IEJvb2sKCmNsYXNzIEJvb2tTZXJpYWxpemVyKHNlcmlhbGl6ZXJzLk1vZGVsU2VyaWFsaXplcik6CiAgICBjbGFzcyBNZXRhOgogICAgICAgIG1vZGVsID0gQm9vawogICAgICAgIGZpZWxkcyA9ICdfX2FsbF9fJw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># serializers.py
from rest_framework import serializers
from .models import Book

class BookSerializer(serializers.ModelSerializer):
    class Meta:
        model = Book
        fields = '__all__'</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB2aWV3cy5weQpmcm9tIHJlc3RfZnJhbWV3b3JrIGltcG9ydCB2aWV3c2V0cwpmcm9tIC5tb2RlbHMgaW1wb3J0IEJvb2sKZnJvbSAuc2VyaWFsaXplcnMgaW1wb3J0IEJvb2tTZXJpYWxpemVyCgpjbGFzcyBCb29rVmlld1NldCh2aWV3c2V0cy5Nb2RlbFZpZXdTZXQpOgogICAgcXVlcnlzZXQgPSBCb29rLm9iamVjdHMuYWxsKCkKICAgIHNlcmlhbGl6ZXJfY2xhc3MgPSBCb29rU2VyaWFsaXplcg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># views.py
from rest_framework import viewsets
from .models import Book
from .serializers import BookSerializer

class BookViewSet(viewsets.ModelViewSet):
    queryset = Book.objects.all()
    serializer_class = BookSerializer</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Modelo</strong>: Define el modelo <code>Book</code> con los campos <code>title</code>, <code>author</code> y <code>published_date</code>.</li>
<li><strong>Serializer</strong>: Convierte las instancias del modelo <code>Book</code> a JSON y viceversa.</li>
<li><strong>ViewSet</strong>: Combina la lógica para listar, crear, recuperar, actualizar y eliminar instancias de <code>Book</code>.</li>
</ul>
</div><h1>Routers</h1>
<div class='content'></div><h2>¿Qué es un Router?</h2>
<div class='content'><p>Un Router genera automáticamente patrones de URL para ViewSets. Esto elimina la necesidad de definir manualmente las configuraciones de URL para cada vista.</p>
</div><h2>Ejemplo de un Router Simple</h2>
<div class='content'><p>Vamos a configurar un router para nuestro <code>BookViewSet</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB1cmxzLnB5CmZyb20gZGphbmdvLnVybHMgaW1wb3J0IHBhdGgsIGluY2x1ZGUKZnJvbSByZXN0X2ZyYW1ld29yay5yb3V0ZXJzIGltcG9ydCBEZWZhdWx0Um91dGVyCmZyb20gLnZpZXdzIGltcG9ydCBCb29rVmlld1NldAoKcm91dGVyID0gRGVmYXVsdFJvdXRlcigpCnJvdXRlci5yZWdpc3RlcihyJ2Jvb2tzJywgQm9va1ZpZXdTZXQpCgp1cmxwYXR0ZXJucyA9IFsKICAgIHBhdGgoJycsIGluY2x1ZGUocm91dGVyLnVybHMpKSwKXQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># urls.py
from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .views import BookViewSet

router = DefaultRouter()
router.register(r'books', BookViewSet)

urlpatterns = [
    path('', include(router.urls)),
]</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>DefaultRouter</strong>: Un router incorporado que genera automáticamente patrones de URL.</li>
<li><strong>register</strong>: Registra el <code>BookViewSet</code> con el router, asociándolo con el prefijo de URL <code>books</code>.</li>
<li><strong>urlpatterns</strong>: Incluye las URLs generadas por el router en la configuración de URL del proyecto.</li>
</ul>
</div><h1>Uso Avanzado</h1>
<div class='content'></div><h2>Personalizando ViewSets</h2>
<div class='content'><p>Puedes personalizar el comportamiento de los ViewSets sobrescribiendo métodos o añadiendo nuevos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyB2aWV3cy5weQpmcm9tIHJlc3RfZnJhbWV3b3JrIGltcG9ydCB2aWV3c2V0cwpmcm9tIHJlc3RfZnJhbWV3b3JrLnJlc3BvbnNlIGltcG9ydCBSZXNwb25zZQpmcm9tIC5tb2RlbHMgaW1wb3J0IEJvb2sKZnJvbSAuc2VyaWFsaXplcnMgaW1wb3J0IEJvb2tTZXJpYWxpemVyCgpjbGFzcyBCb29rVmlld1NldCh2aWV3c2V0cy5Nb2RlbFZpZXdTZXQpOgogICAgcXVlcnlzZXQgPSBCb29rLm9iamVjdHMuYWxsKCkKICAgIHNlcmlhbGl6ZXJfY2xhc3MgPSBCb29rU2VyaWFsaXplcgoKICAgIGRlZiBsaXN0KHNlbGYsIHJlcXVlc3QpOgogICAgICAgIHF1ZXJ5c2V0ID0gQm9vay5vYmplY3RzLmZpbHRlcihwdWJsaXNoZWRfZGF0ZV9feWVhcj0yMDIzKQogICAgICAgIHNlcmlhbGl6ZXIgPSBCb29rU2VyaWFsaXplcihxdWVyeXNldCwgbWFueT1UcnVlKQogICAgICAgIHJldHVybiBSZXNwb25zZShzZXJpYWxpemVyLmRhdGEp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># views.py
from rest_framework import viewsets
from rest_framework.response import Response
from .models import Book
from .serializers import BookSerializer

class BookViewSet(viewsets.ModelViewSet):
    queryset = Book.objects.all()
    serializer_class = BookSerializer

    def list(self, request):
        queryset = Book.objects.filter(published_date__year=2023)
        serializer = BookSerializer(queryset, many=True)
        return Response(serializer.data)</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Sobrescribir el método <code>list</code></strong>: Personaliza la acción <code>list</code> para filtrar libros publicados en el año 2023.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos cubierto los conceptos básicos y el uso avanzado de ViewSets y Routers en Django REST framework. Los ViewSets ayudan a consolidar la lógica de las vistas, haciendo el código más mantenible, mientras que los Routers automatizan la generación de patrones de URL, simplificando el proceso de configuración de URL. Al dominar estas herramientas, puedes agilizar significativamente tu flujo de trabajo de desarrollo de API en Django.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='serializers'>&#x25C4;Serializadores</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">ViewSets y Routers</a>
	</div>
	<div class='col-4 text-end'>
					<a href='authentication-and-permissions'>Autenticación y Permisos &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
