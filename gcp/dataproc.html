<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dataproc en Google Cloud Platform (GCP)</title>

    <link rel="alternate" href="https://campusempresa.com/gcp/dataproc" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/gcp/dataproc" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/gcp/dataproc" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/gcp/dataproc" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/gcp/dataproc" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='dataflow'>&#x25C4;Dataflow</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Dataproc en Google Cloud Platform (GCP)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='ai-platform'>AI Platform &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a Dataproc</h1>
<div class='content'><p>Google Cloud Dataproc es un servicio en la nube rápido, fácil de usar y completamente gestionado para ejecutar clústeres de Apache Spark y Apache Hadoop. Te permite procesar grandes conjuntos de datos de manera rápida y eficiente.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Clúster</strong>: Una colección de máquinas virtuales (VMs) que ejecutan trabajos de Hadoop y Spark.</li>
<li><strong>Trabajo</strong>: Una unidad de trabajo que envías a un clúster de Dataproc.</li>
<li><strong>Flujo de Trabajo</strong>: Una secuencia de trabajos que pueden ejecutarse en un orden específico.</li>
<li><strong>Autoescalado</strong>: Ajuste automático del número de nodos de trabajo en un clúster según la carga de trabajo.</li>
</ul>
</div><h1>Configuración de Dataproc</h1>
<h2>Creación de un Clúster de Dataproc</h2>
<div class='content'><p>Para crear un clúster de Dataproc, sigue estos pasos:</p>
<ol>
<li>
<p><strong>Navega a la sección de Dataproc en la Consola de GCP</strong>.</p>
</li>
<li>
<p><strong>Haz clic en &quot;Crear Clúster&quot;</strong>.</p>
</li>
<li>
<p><strong>Configura el clúster</strong>:</p>
<ul>
<li><strong>Nombre del Clúster</strong>: Dale un nombre único a tu clúster.</li>
<li><strong>Región y Zona</strong>: Selecciona la región y zona apropiadas.</li>
<li><strong>Modo del Clúster</strong>: Elige entre Estándar, Nodo Único o Alta Disponibilidad.</li>
<li><strong>Configuración de Nodos</strong>: Especifica el número y tipo de nodos maestros y de trabajo.</li>
<li><strong>Componentes Opcionales</strong>: Añade componentes opcionales como Jupyter, Zeppelin, etc.</li>
</ul>
</li>
<li>
<p><strong>Haz clic en &quot;Crear&quot;</strong> para lanzar el clúster.</p>
</li>
</ol>
</div><h2>Ejemplo: Creación de un Clúster Usando el Comando gcloud</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGRhdGFwcm9jIGNsdXN0ZXJzIGNyZWF0ZSBteS1jbHVzdGVyIFwKICAgIC0tcmVnaW9uPXVzLWNlbnRyYWwxIFwKICAgIC0tem9uZT11cy1jZW50cmFsMS1hIFwKICAgIC0tbWFzdGVyLW1hY2hpbmUtdHlwZT1uMS1zdGFuZGFyZC0yIFwKICAgIC0td29ya2VyLW1hY2hpbmUtdHlwZT1uMS1zdGFuZGFyZC0yIFwKICAgIC0tbnVtLXdvcmtlcnM9Mg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud dataproc clusters create my-cluster \
    --region=us-central1 \
    --zone=us-central1-a \
    --master-machine-type=n1-standard-2 \
    --worker-machine-type=n1-standard-2 \
    --num-workers=2</pre></div><div class='content'><p>Este comando crea un clúster de Dataproc llamado <code>my-cluster</code> con 1 nodo maestro y 2 nodos de trabajo en la zona <code>us-central1-a</code>.</p>
</div><h1>Ejecución de Trabajos en Dataproc</h1>
<h2>Envío de un Trabajo</h2>
<div class='content'><p>Puedes enviar trabajos a un clúster de Dataproc usando la Consola de GCP, la herramienta de línea de comandos <code>gcloud</code> o la API de Dataproc.</p>
<h4>Ejemplo: Envío de un Trabajo de Spark Usando el Comando gcloud</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGRhdGFwcm9jIGpvYnMgc3VibWl0IHNwYXJrIFwKICAgIC0tY2x1c3Rlcj1teS1jbHVzdGVyIFwKICAgIC0tcmVnaW9uPXVzLWNlbnRyYWwxIFwKICAgIC0tY2xhc3M9b3JnLmFwYWNoZS5zcGFyay5leGFtcGxlcy5TcGFya1BpIFwKICAgIC0tamFycz1maWxlOi8vL3Vzci9saWIvc3BhcmsvZXhhbXBsZXMvamFycy9zcGFyay1leGFtcGxlcy5qYXIgXAogICAgLS0gMTAwMA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud dataproc jobs submit spark \
    --cluster=my-cluster \
    --region=us-central1 \
    --class=org.apache.spark.examples.SparkPi \
    --jars=file:///usr/lib/spark/examples/jars/spark-examples.jar \
    -- 1000</pre></div><div class='content'><p>Este comando envía un trabajo de Spark para calcular Pi usando el ejemplo <code>SparkPi</code>.</p>
</div><h2>Monitoreo de Trabajos</h2>
<div class='content'><p>Puedes monitorear el estado de tus trabajos en la Consola de GCP bajo la sección de Dataproc. La consola proporciona registros detallados y métricas para cada trabajo.</p>
</div><h1>Funciones Avanzadas de Dataproc</h1>
<h2>Autoescalado de Clústeres</h2>
<div class='content'><p>El autoescalado permite que tu clúster ajuste automáticamente el número de nodos de trabajo según la carga de trabajo.</p>
<h4>Ejemplo: Habilitación del Autoescalado</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGRhdGFwcm9jIGNsdXN0ZXJzIHVwZGF0ZSBteS1jbHVzdGVyIFwKICAgIC0tcmVnaW9uPXVzLWNlbnRyYWwxIFwKICAgIC0tYXV0b3NjYWxpbmctcG9saWN5PWJhc2ljLWF1dG9zY2FsaW5nLXBvbGljeQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud dataproc clusters update my-cluster \
    --region=us-central1 \
    --autoscaling-policy=basic-autoscaling-policy</pre></div><div class='content'><p>Este comando actualiza el clúster <code>my-cluster</code> para usar la <code>basic-autoscaling-policy</code>.</p>
</div><h2>Uso de Flujos de Trabajo de Dataproc</h2>
<div class='content'><p>Los Flujos de Trabajo de Dataproc te permiten definir una secuencia de trabajos que pueden ejecutarse en un orden específico.</p>
<h4>Ejemplo: Creación de una Plantilla de Flujo de Trabajo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGRhdGFwcm9jIHdvcmtmbG93LXRlbXBsYXRlcyBjcmVhdGUgbXktd29ya2Zsb3ctdGVtcGxhdGUgXAogICAgLS1yZWdpb249dXMtY2VudHJhbDEKCmdjbG91ZCBkYXRhcHJvYyB3b3JrZmxvdy10ZW1wbGF0ZXMgc2V0LW1hbmFnZWQtY2x1c3RlciBteS13b3JrZmxvdy10ZW1wbGF0ZSBcCiAgICAtLXJlZ2lvbj11cy1jZW50cmFsMSBcCiAgICAtLWNsdXN0ZXItbmFtZT1teS1jbHVzdGVyIFwKICAgIC0tem9uZT11cy1jZW50cmFsMS1hIFwKICAgIC0tbWFzdGVyLW1hY2hpbmUtdHlwZT1uMS1zdGFuZGFyZC0yIFwKICAgIC0td29ya2VyLW1hY2hpbmUtdHlwZT1uMS1zdGFuZGFyZC0yIFwKICAgIC0tbnVtLXdvcmtlcnM9MgoKZ2Nsb3VkIGRhdGFwcm9jIHdvcmtmbG93LXRlbXBsYXRlcyBhZGQtam9iIHNwYXJrIFwKICAgIC0tc3RlcC1pZD1zcGFyay1qb2IgXAogICAgLS1jbGFzcz1vcmcuYXBhY2hlLnNwYXJrLmV4YW1wbGVzLlNwYXJrUGkgXAogICAgLS1qYXJzPWZpbGU6Ly8vdXNyL2xpYi9zcGFyay9leGFtcGxlcy9qYXJzL3NwYXJrLWV4YW1wbGVzLmphciBcCiAgICAtLXdvcmtmbG93LXRlbXBsYXRlPW15LXdvcmtmbG93LXRlbXBsYXRlIFwKICAgIC0tcmVnaW9uPXVzLWNlbnRyYWwxIFwKICAgIC0tIDEwMDAKCmdjbG91ZCBkYXRhcHJvYyB3b3JrZmxvdy10ZW1wbGF0ZXMgaW5zdGFudGlhdGUgbXktd29ya2Zsb3ctdGVtcGxhdGUgXAogICAgLS1yZWdpb249dXMtY2VudHJhbDE="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud dataproc workflow-templates create my-workflow-template \
    --region=us-central1

gcloud dataproc workflow-templates set-managed-cluster my-workflow-template \
    --region=us-central1 \
    --cluster-name=my-cluster \
    --zone=us-central1-a \
    --master-machine-type=n1-standard-2 \
    --worker-machine-type=n1-standard-2 \
    --num-workers=2

gcloud dataproc workflow-templates add-job spark \
    --step-id=spark-job \
    --class=org.apache.spark.examples.SparkPi \
    --jars=file:///usr/lib/spark/examples/jars/spark-examples.jar \
    --workflow-template=my-workflow-template \
    --region=us-central1 \
    -- 1000

gcloud dataproc workflow-templates instantiate my-workflow-template \
    --region=us-central1</pre></div><div class='content'><p>Esta secuencia de comandos crea una plantilla de flujo de trabajo, añade un trabajo de Spark a ella y luego instancia el flujo de trabajo.</p>
</div><h1>Conclusión</h1>
<div class='content'><p>Google Cloud Dataproc es una herramienta poderosa para gestionar clústeres de Hadoop y Spark en la nube. Simplifica el proceso de configuración, gestión y escalado de clústeres, permitiéndote centrarte en procesar tus datos. Al entender los conceptos básicos de creación de clústeres, envío de trabajos y utilización de funciones avanzadas como el autoescalado y los flujos de trabajo, puedes aprovechar eficazmente Dataproc para tus necesidades de big data.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='dataflow'>&#x25C4;Dataflow</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Dataproc en Google Cloud Platform (GCP)</a>
	</div>
	<div class='col-4 text-end'>
					<a href='ai-platform'>AI Platform &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
