<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mejores Prácticas</title>

    <link rel="alternate" href="https://campusempresa.com/redis/best-practices" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/redis/best-practices" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/redis/best-practices" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/redis/best-practices" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/redis/best-practices" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='message-queues'>&#x25C4;Colas de Mensajes</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Mejores Prácticas</a>
	</div>
	<div class='col-4 text-end'>
					<a href='redis-streams'>Streams de Redis &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Redis es una poderosa tienda de estructuras de datos en memoria utilizada como base de datos, caché y corredor de mensajes. Para aprovechar al máximo Redis, es esencial seguir las mejores prácticas que aseguren rendimiento, fiabilidad y mantenibilidad. Esta sección cubre las mejores prácticas desde niveles principiantes hasta avanzados.</p>
</div><h1>Mejores Prácticas Generales</h1>
<div class='content'></div><h2>Usa la Estructura de Datos Correcta</h2>
<div class='content'><ul>
<li><strong>Strings</strong>: Para pares clave-valor simples.</li>
<li><strong>Hashes</strong>: Para almacenar objetos con múltiples campos.</li>
<li><strong>Lists</strong>: Para colecciones ordenadas de elementos.</li>
<li><strong>Sets</strong>: Para colecciones de elementos únicos.</li>
<li><strong>Sorted Sets</strong>: Para colecciones de elementos únicos con puntuaciones.</li>
<li><strong>Bitmaps</strong>: Para almacenamiento compacto de datos binarios.</li>
<li><strong>HyperLogLogs</strong>: Para aproximar la cardinalidad de conjuntos grandes.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTdHJpbmdzClNFVCB1c2VyOjEwMDAgIkpvaG4gRG9lIgoKIyBIYXNoZXMKSFNFVCB1c2VyOjEwMDAgbmFtZSAiSm9obiBEb2UiIGFnZSAzMAoKIyBMaXN0cwpMUFVTSCB0YXNrcyAidGFzazEiICJ0YXNrMiIKCiMgU2V0cwpTQUREIHRhZ3MgInJlZGlzIiAiZGF0YWJhc2UiCgojIFNvcnRlZCBTZXRzClpBREQgbGVhZGVyYm9hcmQgMTAwICJ1c2VyMSIgMjAwICJ1c2VyMiI="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Strings
SET user:1000 &quot;John Doe&quot;

# Hashes
HSET user:1000 name &quot;John Doe&quot; age 30

# Lists
LPUSH tasks &quot;task1&quot; &quot;task2&quot;

# Sets
SADD tags &quot;redis&quot; &quot;database&quot;

# Sorted Sets
ZADD leaderboard 100 &quot;user1&quot; 200 &quot;user2&quot;</pre></div><div class='content'></div><h2>Mantén las Claves Cortas</h2>
<div class='content'><ul>
<li>Usa nombres de claves concisos y significativos para ahorrar memoria y mejorar el rendimiento.</li>
<li>Ejemplo: Usa <code>user:1000</code> en lugar de <code>user:id:1000</code>.</li>
</ul>
</div><h2>Usa Espacios de Nombres</h2>
<div class='content'><ul>
<li>Organiza las claves usando espacios de nombres para evitar colisiones.</li>
<li>Ejemplo: <code>user:1000:name</code>, <code>user:1000:age</code>.</li>
</ul>
</div><h1>Optimización del Rendimiento</h1>
<div class='content'></div><h2>Usa Pooling de Conexiones</h2>
<div class='content'><ul>
<li>Reutiliza conexiones a Redis para reducir la sobrecarga de establecer nuevas conexiones.</li>
<li>Ejemplo (Python con <code>redis-py</code>):</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlZGlzCnBvb2wgPSByZWRpcy5Db25uZWN0aW9uUG9vbChob3N0PSdsb2NhbGhvc3QnLCBwb3J0PTYzNzksIGRiPTApCnIgPSByZWRpcy5SZWRpcyhjb25uZWN0aW9uX3Bvb2w9cG9vbCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import redis
pool = redis.ConnectionPool(host='localhost', port=6379, db=0)
r = redis.Redis(connection_pool=pool)</pre></div><div class='content'></div><h2>Evita Claves y Valores Grandes</h2>
<div class='content'><ul>
<li>Claves y valores grandes pueden ralentizar las operaciones y aumentar el uso de memoria.</li>
<li>Divide datos grandes en fragmentos más pequeños si es necesario.</li>
</ul>
</div><h2>Usa Pipelining</h2>
<div class='content'><ul>
<li>Agrupa múltiples comandos para reducir el número de viajes de ida y vuelta al servidor.</li>
<li>Ejemplo (Python con <code>redis-py</code>):</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZSA9IHIucGlwZWxpbmUoKQpwaXBlLnNldCgnZm9vJywgJ2JhcicpCnBpcGUuc2V0KCdiYXonLCAncXV4JykKcGlwZS5leGVjdXRlKCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipe = r.pipeline()
pipe.set('foo', 'bar')
pipe.set('baz', 'qux')
pipe.execute()</pre></div><div class='content'></div><h2>Monitorea y Ajusta el Rendimiento</h2>
<div class='content'><ul>
<li>Usa herramientas de monitoreo de Redis como <code>INFO</code>, <code>MONITOR</code> y <code>SLOWLOG</code> para identificar cuellos de botella en el rendimiento.</li>
<li>Ajusta los parámetros de configuración según la carga de trabajo y las métricas de rendimiento.</li>
</ul>
</div><h1>Persistencia de Datos</h1>
<div class='content'></div><h2>Usa RDB y AOF</h2>
<div class='content'><ul>
<li>Habilita tanto RDB (snapshotting) como AOF (Archivo de Solo Adición) para la persistencia de datos.</li>
<li>RDB proporciona una recuperación más rápida, mientras que AOF asegura una mínima pérdida de datos.</li>
</ul>
</div><h2>Configura los Ajustes de Persistencia</h2>
<div class='content'><ul>
<li>Ajusta los intervalos <code>save</code> para RDB y <code>appendfsync</code> para AOF según tus requisitos de durabilidad.</li>
<li>Ejemplo (redis.conf):</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2F2ZSA5MDAgMQpzYXZlIDMwMCAxMApzYXZlIDYwIDEwMDAwCmFwcGVuZGZzeW5jIGV2ZXJ5c2Vj"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>save 900 1
save 300 10
save 60 10000
appendfsync everysec</pre></div><div class='content'></div><h1>Seguridad</h1>
<div class='content'></div><h2>Usa Autenticación</h2>
<div class='content'><ul>
<li>Habilita la autenticación por contraseña para restringir el acceso.</li>
<li>Ejemplo (redis.conf):</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVxdWlyZXBhc3MgeW91cnBhc3N3b3Jk"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>requirepass yourpassword</pre></div><div class='content'></div><h2>Restringe el Acceso a la Red</h2>
<div class='content'><ul>
<li>Vincula Redis a interfaces de red específicas y usa firewalls para restringir el acceso.</li>
<li>Ejemplo (redis.conf):</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YmluZCAxMjcuMC4wLjE="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>bind 127.0.0.1</pre></div><div class='content'></div><h2>Usa TLS/SSL</h2>
<div class='content'><ul>
<li>Encripta los datos en tránsito usando TLS/SSL.</li>
<li>Ejemplo (redis.conf):</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGxzLXBvcnQgNjM3OQp0bHMtY2VydC1maWxlIC9wYXRoL3RvL3JlZGlzLmNydAp0bHMta2V5LWZpbGUgL3BhdGgvdG8vcmVkaXMua2V5CnRscy1jYS1jZXJ0LWZpbGUgL3BhdGgvdG8vY2EuY3J0"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>tls-port 6379
tls-cert-file /path/to/redis.crt
tls-key-file /path/to/redis.key
tls-ca-cert-file /path/to/ca.crt</pre></div><div class='content'></div><h1>Prácticas Avanzadas</h1>
<div class='content'></div><h2>Usa Redis Cluster</h2>
<div class='content'><ul>
<li>Para alta disponibilidad y escalado horizontal, usa Redis Cluster.</li>
<li>Redis Cluster fragmenta automáticamente los datos entre múltiples nodos.</li>
</ul>
</div><h2>Scripting con Lua</h2>
<div class='content'><ul>
<li>Usa scripts Lua para operaciones atómicas y para reducir el número de viajes de ida y vuelta.</li>
<li>Ejemplo:</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gU2NyaXB0IEx1YSBwYXJhIGluY3JlbWVudGFyIHVuYSBjbGF2ZSBwb3IgdW4gdmFsb3IgZGFkbwpsb2NhbCBrZXkgPSBLRVlTWzFdCmxvY2FsIGluY3JlbWVudCA9IHRvbnVtYmVyKEFSR1ZbMV0pCnJldHVybiByZWRpcy5jYWxsKCdJTkNSQlknLCBrZXksIGluY3JlbWVudCk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Script Lua para incrementar una clave por un valor dado
local key = KEYS[1]
local increment = tonumber(ARGV[1])
return redis.call('INCRBY', key, increment)</pre></div><div class='content'></div><h2>Usa Módulos de Redis</h2>
<div class='content'><ul>
<li>Extiende la funcionalidad de Redis con módulos como RedisJSON, RedisGraph y RediSearch.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Seguir estas mejores prácticas te ayudará a optimizar Redis para rendimiento, fiabilidad y mantenibilidad. Ya seas un usuario principiante o avanzado, estas directrices asegurarán que aproveches al máximo Redis en tus aplicaciones.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='message-queues'>&#x25C4;Colas de Mensajes</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Mejores Prácticas</a>
	</div>
	<div class='col-4 text-end'>
					<a href='redis-streams'>Streams de Redis &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
