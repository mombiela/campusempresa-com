<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comandos Avanzados</title>

    <link rel="alternate" href="https://campusempresa.com/redis/advanced-commands" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/redis/advanced-commands" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/redis/advanced-commands" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/redis/advanced-commands" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/redis/advanced-commands" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='basic-commands'>&#x25C4;Comandos Básicos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Comandos Avanzados</a>
	</div>
	<div class='col-4 text-end'>
					<a href='transactions'>Transacciones &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En esta sección, profundizaremos en los comandos avanzados de Redis que van más allá de lo básico. Estos comandos son esenciales para optimizar el rendimiento, gestionar estructuras de datos de manera más efectiva y asegurar alta disponibilidad y fiabilidad en tus aplicaciones Redis.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Transacciones</strong>: Agrupa múltiples comandos en una sola operación atómica.</li>
<li><strong>Pipelining</strong>: Envía múltiples comandos al servidor sin esperar las respuestas.</li>
<li><strong>Scripting con Lua</strong>: Ejecuta operaciones complejas de manera atómica usando scripts Lua.</li>
<li><strong>Pub/Sub</strong>: Implementa la difusión y escucha de mensajes.</li>
<li><strong>Gestión de Clústeres</strong>: Maneja el sharding de datos y la replicación a través de múltiples nodos.</li>
</ul>
</div><h1>Transacciones</h1>
<div class='content'><p>Las transacciones en Redis te permiten ejecutar una serie de comandos como una sola operación atómica. Esto asegura que o bien todos los comandos se ejecutan, o ninguno lo hace, manteniendo la integridad de los datos.</p>
</div><h2>Ejemplo: Usando MULTI, EXEC, DISCARD y WATCH</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TVVMVEkKU0VUIHVzZXI6MTAwMDpuYW1lICJKb2huIERvZSIKSU5DUiB1c2VyOjEwMDA6dmlzaXRzCkVYRUM="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>MULTI
SET user:1000:name &quot;John Doe&quot;
INCR user:1000:visits
EXEC</pre></div><div class='content'><ul>
<li><code>MULTI</code>: Marca el inicio de un bloque de transacción.</li>
<li><code>EXEC</code>: Ejecuta todos los comandos emitidos después de <code>MULTI</code>.</li>
<li><code>DISCARD</code>: Cancela la transacción.</li>
<li><code>WATCH</code>: Monitorea claves para cambios para ejecutar condicionalmente una transacción.</li>
</ul>
</div><h2>Ejemplo: Usando WATCH</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("V0FUQ0ggdXNlcjoxMDAwOmJhbGFuY2UKTVVMVEkKREVDUkJZIHVzZXI6MTAwMDpiYWxhbmNlIDUwCklOQ1JCWSB1c2VyOjEwMDA6YmFsYW5jZSA1MApFWEVD"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>WATCH user:1000:balance
MULTI
DECRBY user:1000:balance 50
INCRBY user:1000:balance 50
EXEC</pre></div><div class='content'><ul>
<li><code>WATCH user:1000:balance</code>: Monitorea la clave <code>user:1000:balance</code>.</li>
<li>Si <code>user:1000:balance</code> cambia antes de <code>EXEC</code>, la transacción se aborta.</li>
</ul>
</div><h1>Pipelining</h1>
<div class='content'><p>El pipelining te permite enviar múltiples comandos al servidor sin esperar las respuestas, reduciendo el tiempo de ida y vuelta.</p>
</div><h2>Ejemplo: Usando Pipelining</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VUIHVzZXI6MTAwMDpuYW1lICJKb2huIERvZSIKSU5DUiB1c2VyOjEwMDA6dmlzaXRzCkdFVCB1c2VyOjEwMDA6bmFtZQpHRVQgdXNlcjoxMDAwOnZpc2l0cw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SET user:1000:name &quot;John Doe&quot;
INCR user:1000:visits
GET user:1000:name
GET user:1000:visits</pre></div><div class='content'><ul>
<li>Envía todos los comandos en una sola solicitud.</li>
<li>Recibe todas las respuestas en una sola respuesta.</li>
</ul>
</div><h1>Scripting con Lua</h1>
<div class='content'><p>El scripting con Lua en Redis te permite ejecutar operaciones complejas de manera atómica. Los scripts se escriben en Lua y se ejecutan en el servidor.</p>
</div><h2>Ejemplo: Script Lua Básico</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVkaXMuY2FsbCgiU0VUIiwgImZvbyIsICJiYXIiKQpyZXR1cm4gcmVkaXMuY2FsbCgiR0VUIiwgImZvbyIp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>redis.call(&quot;SET&quot;, &quot;foo&quot;, &quot;bar&quot;)
return redis.call(&quot;GET&quot;, &quot;foo&quot;)</pre></div><div class='content'><ul>
<li><code>redis.call</code>: Ejecuta un comando de Redis.</li>
<li>El script establece la clave <code>foo</code> a <code>bar</code> y luego recupera el valor de <code>foo</code>.</li>
</ul>
</div><h2>Ejemplo: Script Lua Condicional</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgY3VycmVudCA9IHJlZGlzLmNhbGwoIkdFVCIsICJjb3VudGVyIikKaWYgY3VycmVudCA9PSBmYWxzZSB0aGVuCiAgICByZWRpcy5jYWxsKCJTRVQiLCAiY291bnRlciIsIDEpCmVsc2UKICAgIHJlZGlzLmNhbGwoIklOQ1IiLCAiY291bnRlciIpCmVuZA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local current = redis.call(&quot;GET&quot;, &quot;counter&quot;)
if current == false then
    redis.call(&quot;SET&quot;, &quot;counter&quot;, 1)
else
    redis.call(&quot;INCR&quot;, &quot;counter&quot;)
end</pre></div><div class='content'><ul>
<li>Verifica si la clave <code>counter</code> existe.</li>
<li>Si no, establece <code>counter</code> a 1.</li>
<li>De lo contrario, incrementa <code>counter</code>.</li>
</ul>
</div><h1>Pub/Sub</h1>
<div class='content'><p>Redis Pub/Sub te permite implementar la difusión y escucha de mensajes, habilitando la mensajería en tiempo real.</p>
</div><h2>Ejemplo: Publicar y Suscribirse</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U1VCU0NSSUJFIGNoYW5uZWwx"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SUBSCRIBE channel1</pre></div><div class='content'><ul>
<li>Se suscribe a <code>channel1</code>.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVCTElTSCBjaGFubmVsMSAiSGVsbG8sIFdvcmxkISI="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUBLISH channel1 &quot;Hello, World!&quot;</pre></div><div class='content'><ul>
<li>Publica el mensaje &quot;Hello, World!&quot; en <code>channel1</code>.</li>
</ul>
</div><h1>Gestión de Clústeres</h1>
<div class='content'><p>Redis Cluster proporciona una manera de ejecutar una instalación de Redis donde los datos se fragmentan automáticamente a través de múltiples nodos de Redis.</p>
</div><h2>Comandos Clave para la Gestión de Clústeres</h2>
<div class='content'><ul>
<li><code>CLUSTER MEET &lt;ip&gt; &lt;port&gt;</code>: Añade un nodo al clúster.</li>
<li><code>CLUSTER NODES</code>: Lista todos los nodos en el clúster.</li>
<li><code>CLUSTER INFO</code>: Proporciona información sobre el clúster.</li>
<li><code>CLUSTER REPLICATE &lt;node_id&gt;</code>: Asigna un nodo como réplica de otro nodo.</li>
</ul>
</div><h2>Ejemplo: Añadir un Nodo a un Clúster</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q0xVU1RFUiBNRUVUIDE5Mi4xNjguMS4yIDYzNzk="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CLUSTER MEET 192.168.1.2 6379</pre></div><div class='content'><ul>
<li>Añade el nodo en <code>192.168.1.2:6379</code> al clúster.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, hemos explorado comandos avanzados de Redis que son cruciales para construir aplicaciones robustas y eficientes. Al dominar las transacciones, pipelining, scripting con Lua, Pub/Sub y la gestión de clústeres, puedes aprovechar Redis al máximo, asegurando un alto rendimiento y fiabilidad en tus aplicaciones. Continúa practicando estos comandos para profundizar tu comprensión y competencia en Redis.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='basic-commands'>&#x25C4;Comandos Básicos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Comandos Avanzados</a>
	</div>
	<div class='col-4 text-end'>
					<a href='transactions'>Transacciones &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
