<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfilado en C</title>

    <link rel="alternate" href="https://campusempresa.com/c/profiling" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/c/profiling" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/c/profiling" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/c/profiling" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/c/profiling" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='code-optimization'>&#x25C4;Optimización de Código</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Perfilado en C</a>
	</div>
	<div class='col-4 text-end'>
					<a href='standard-input-and-output'>Entrada y Salida Estándar &#x25BA;</a>
			</div>
</div>
<div class='content'><p>El perfilado es una técnica esencial en el desarrollo de software que ayuda a identificar cuellos de botella de rendimiento en tu código. Al entender dónde tu programa pasa la mayor parte del tiempo, puedes tomar decisiones informadas sobre dónde optimizar para un mejor rendimiento.</p>
</div><h1>¿Qué es el Perfilado?</h1>
<div class='content'><p>El perfilado es el proceso de medir la complejidad espacial (memoria) y temporal de un programa. Ayuda a identificar las partes del programa que están consumiendo más recursos.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Cuellos de Botella de Rendimiento</strong>: Secciones del código que ralentizan significativamente el programa.</li>
<li><strong>Puntos Calientes</strong>: Partes del código que se ejecutan frecuentemente y consumen mucho tiempo de CPU.</li>
<li><strong>Gráfico de Llamadas</strong>: Una representación visual de las llamadas a funciones en el programa.</li>
<li><strong>Instrumentación</strong>: Añadir código para medir métricas de rendimiento.</li>
</ul>
</div><h1>Por Qué el Perfilado es Importante</h1>
<div class='content'><ul>
<li><strong>Optimización</strong>: Ayuda a optimizar el código enfocándose en las partes más intensivas en recursos.</li>
<li><strong>Eficiencia</strong>: Mejora la eficiencia general del programa.</li>
<li><strong>Gestión de Recursos</strong>: Mejor gestión de los recursos de CPU y memoria.</li>
</ul>
</div><h1>Herramientas para el Perfilado en C</h1>
<div class='content'><p>Varias herramientas pueden ser utilizadas para el perfilado de programas en C:</p>
<ul>
<li><strong>gprof</strong>: Un perfilador GNU que ayuda a analizar el rendimiento del programa.</li>
<li><strong>Valgrind</strong>: Una herramienta para depuración de memoria, detección de fugas de memoria y perfilado.</li>
<li><strong>perf</strong>: Una herramienta de análisis de rendimiento en Linux.</li>
</ul>
</div><h1>Uso de gprof para el Perfilado</h1>
<div class='content'></div><h2>Instalación</h2>
<div class='content'><p>Para usar <code>gprof</code>, necesitas tenerlo instalado en tu sistema. En la mayoría de las distribuciones de Linux, puedes instalarlo usando:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBhcHQtZ2V0IGluc3RhbGwgZ3Byb2Y="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo apt-get install gprof</pre></div><div class='content'></div><h2>Compilación con Información de Perfilado</h2>
<div class='content'><p>Para perfilar un programa en C usando <code>gprof</code>, necesitas compilarlo con la opción <code>-pg</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2NjIC1wZyAtbyBtaV9wcm9ncmFtYSBtaV9wcm9ncmFtYS5j"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcc -pg -o mi_programa mi_programa.c</pre></div><div class='content'></div><h2>Ejecución del Programa</h2>
<div class='content'><p>Ejecuta tu programa compilado como de costumbre:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Li9taV9wcm9ncmFtYQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>./mi_programa</pre></div><div class='content'><p>Esto generará un archivo llamado <code>gmon.out</code> en el directorio actual, que contiene los datos de perfilado.</p>
</div><h2>Generación del Informe de Perfilado</h2>
<div class='content'><p>Usa <code>gprof</code> para analizar el archivo <code>gmon.out</code> y generar un informe legible:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z3Byb2YgbWlfcHJvZ3JhbWEgZ21vbi5vdXQgPiBhbmFsaXNpcy50eHQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gprof mi_programa gmon.out &gt; analisis.txt</pre></div><div class='content'></div><h2>Entendiendo el Informe</h2>
<div class='content'><p>El informe generado por <code>gprof</code> incluye:</p>
<ul>
<li><strong>Perfil Plano</strong>: Muestra el tiempo total gastado en cada función.</li>
<li><strong>Gráfico de Llamadas</strong>: Muestra la jerarquía de llamadas y el tiempo gastado en cada función.</li>
</ul>
</div><h2>Ejemplo</h2>
<div class='content'><p>Considera el siguiente programa simple en C:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+Cgp2b2lkIGZ1bmNpb24xKCkgewogICAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDAwMDAwOyBpKyspOwp9Cgp2b2lkIGZ1bmNpb24yKCkgewogICAgZm9yIChpbnQgaSA9IDA7IGkgPCAyMDAwMDAwOyBpKyspOwp9CgppbnQgbWFpbigpIHsKICAgIGZ1bmNpb24xKCk7CiAgICBmdW5jaW9uMigpOwogICAgcmV0dXJuIDA7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;

void funcion1() {
    for (int i = 0; i &lt; 1000000; i++);
}

void funcion2() {
    for (int i = 0; i &lt; 2000000; i++);
}

int main() {
    funcion1();
    funcion2();
    return 0;
}</pre></div><div class='content'><p>Compila y perfila este programa:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2NjIC1wZyAtbyBtaV9wcm9ncmFtYSBtaV9wcm9ncmFtYS5jCi4vbWlfcHJvZ3JhbWEKZ3Byb2YgbWlfcHJvZ3JhbWEgZ21vbi5vdXQgPiBhbmFsaXNpcy50eHQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcc -pg -o mi_programa mi_programa.c
./mi_programa
gprof mi_programa gmon.out &gt; analisis.txt</pre></div><div class='content'><p>El archivo <code>analisis.txt</code> te mostrará cuánto tiempo se gastó en <code>funcion1</code> y <code>funcion2</code>.</p>
</div><h1>Uso de Valgrind para el Perfilado</h1>
<div class='content'><p>Valgrind es otra herramienta poderosa que puede ser utilizada para el perfilado, especialmente para problemas relacionados con la memoria.</p>
</div><h2>Instalación</h2>
<div class='content'><p>Instala Valgrind usando:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBhcHQtZ2V0IGluc3RhbGwgdmFsZ3JpbmQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo apt-get install valgrind</pre></div><div class='content'></div><h2>Ejecución de Valgrind</h2>
<div class='content'><p>Ejecuta tu programa con Valgrind para verificar fugas de memoria y perfilado:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFsZ3JpbmQgLS10b29sPWNhbGxncmluZCAuL21pX3Byb2dyYW1h"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>valgrind --tool=callgrind ./mi_programa</pre></div><div class='content'><p>Esto generará un archivo llamado <code>callgrind.out.&lt;pid&gt;</code>.</p>
</div><h2>Análisis del Resultado</h2>
<div class='content'><p>Puedes usar <code>kcachegrind</code> para visualizar el resultado:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3VkbyBhcHQtZ2V0IGluc3RhbGwga2NhY2hlZ3JpbmQKa2NhY2hlZ3JpbmQgY2FsbGdyaW5kLm91dC48cGlkPg=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sudo apt-get install kcachegrind
kcachegrind callgrind.out.&lt;pid&gt;</pre></div><div class='content'></div><h1>Resumen</h1>
<div class='content'><p>El perfilado es un paso crucial en la optimización de programas en C. Usando herramientas como <code>gprof</code> y <code>Valgrind</code>, puedes identificar cuellos de botella de rendimiento y problemas de memoria. El perfilado ayuda a hacer tus programas más eficientes y amigables con los recursos. Siempre perfila tu código antes y después de hacer optimizaciones para asegurar que tus cambios tengan el efecto deseado.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='code-optimization'>&#x25C4;Optimización de Código</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Perfilado en C</a>
	</div>
	<div class='col-4 text-end'>
					<a href='standard-input-and-output'>Entrada y Salida Estándar &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
