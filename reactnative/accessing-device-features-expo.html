<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accediendo a las Funciones del Dispositivo con Expo</title>

    <link rel="alternate" href="https://campusempresa.com/reactnative/accessing-device-features-expo" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/reactnative/accessing-device-features-expo" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/reactnative/accessing-device-features-expo" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/reactnative/accessing-device-features-expo" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/reactnative/accessing-device-features-expo" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-maps'>&#x25C4;Trabajo con Mapas</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Accediendo a las Funciones del Dispositivo con Expo</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-native-modules'>Uso de Módulos Nativos &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Expo es una poderosa cadena de herramientas construida alrededor de React Native que simplifica el proceso de desarrollo al proporcionar un conjunto de herramientas y servicios. Una de las principales ventajas de usar Expo es su capacidad para acceder fácilmente a las funciones nativas del dispositivo, como la cámara, la ubicación y los sensores, sin necesidad de escribir código nativo.</p>
</div><h1>Configuración de Expo</h1>
<div class='content'><p>Antes de profundizar en el acceso a las funciones del dispositivo, asegúrate de tener Expo CLI instalado y un proyecto básico de Expo configurado.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLWcgZXhwby1jbGkKZXhwbyBpbml0IE15TmV3UHJvamVjdApjZCBNeU5ld1Byb2plY3QKZXhwbyBzdGFydA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install -g expo-cli
expo init MyNewProject
cd MyNewProject
expo start</pre></div><div class='content'></div><h1>Accediendo a la Cámara</h1>
<div class='content'><p>La cámara es una de las funciones del dispositivo más comúnmente utilizadas. Expo proporciona el módulo <code>expo-camera</code> para interactuar con la cámara del dispositivo.</p>
</div><h2>Instalando el Módulo de la Cámara</h2>
<div class='content'><p>Primero, instala el paquete <code>expo-camera</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwbyBpbnN0YWxsIGV4cG8tY2FtZXJh"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>expo install expo-camera</pre></div><div class='content'></div><h2>Usando el Módulo de la Cámara</h2>
<div class='content'><p>Aquí tienes un ejemplo básico de cómo usar la cámara en tu aplicación React Native:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFRleHQsIFZpZXcsIEJ1dHRvbiB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7CmltcG9ydCB7IENhbWVyYSB9IGZyb20gJ2V4cG8tY2FtZXJhJzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCgpIHsKICBjb25zdCBbaGFzUGVybWlzc2lvbiwgc2V0SGFzUGVybWlzc2lvbl0gPSB1c2VTdGF0ZShudWxsKTsKICBjb25zdCBbdHlwZSwgc2V0VHlwZV0gPSB1c2VTdGF0ZShDYW1lcmEuQ29uc3RhbnRzLlR5cGUuYmFjayk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAoYXN5bmMgKCkgPT4gewogICAgICBjb25zdCB7IHN0YXR1cyB9ID0gYXdhaXQgQ2FtZXJhLnJlcXVlc3RQZXJtaXNzaW9uc0FzeW5jKCk7CiAgICAgIHNldEhhc1Blcm1pc3Npb24oc3RhdHVzID09PSAnZ3JhbnRlZCcpOwogICAgfSkoKTsKICB9LCBbXSk7CgogIGlmIChoYXNQZXJtaXNzaW9uID09PSBudWxsKSB7CiAgICByZXR1cm4gPFZpZXcgLz47CiAgfQogIGlmIChoYXNQZXJtaXNzaW9uID09PSBmYWxzZSkgewogICAgcmV0dXJuIDxUZXh0Pk5vIGhheSBhY2Nlc28gYSBsYSBjw6FtYXJhPC9UZXh0PjsKICB9CiAgcmV0dXJuICgKICAgIDxWaWV3IHN0eWxlPXt7IGZsZXg6IDEgfX0+CiAgICAgIDxDYW1lcmEgc3R5bGU9e3sgZmxleDogMSB9fSB0eXBlPXt0eXBlfT4KICAgICAgICA8VmlldwogICAgICAgICAgc3R5bGU9e3sKICAgICAgICAgICAgZmxleDogMSwKICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLAogICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAncm93JywKICAgICAgICAgIH19PgogICAgICAgICAgPEJ1dHRvbgogICAgICAgICAgICB0aXRsZT0iQ2FtYmlhciBDw6FtYXJhIgogICAgICAgICAgICBvblByZXNzPXsoKSA9PiB7CiAgICAgICAgICAgICAgc2V0VHlwZSgKICAgICAgICAgICAgICAgIHR5cGUgPT09IENhbWVyYS5Db25zdGFudHMuVHlwZS5iYWNrCiAgICAgICAgICAgICAgICAgID8gQ2FtZXJhLkNvbnN0YW50cy5UeXBlLmZyb250CiAgICAgICAgICAgICAgICAgIDogQ2FtZXJhLkNvbnN0YW50cy5UeXBlLmJhY2sKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9fT4KICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgIDwvVmlldz4KICAgICAgPC9DYW1lcmE+CiAgICA8L1ZpZXc+CiAgKTsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState, useEffect } from 'react';
import { Text, View, Button } from 'react-native';
import { Camera } from 'expo-camera';

export default function App() {
  const [hasPermission, setHasPermission] = useState(null);
  const [type, setType] = useState(Camera.Constants.Type.back);

  useEffect(() =&gt; {
    (async () =&gt; {
      const { status } = await Camera.requestPermissionsAsync();
      setHasPermission(status === 'granted');
    })();
  }, []);

  if (hasPermission === null) {
    return &lt;View /&gt;;
  }
  if (hasPermission === false) {
    return &lt;Text&gt;No hay acceso a la c&aacute;mara&lt;/Text&gt;;
  }
  return (
    &lt;View style={{ flex: 1 }}&gt;
      &lt;Camera style={{ flex: 1 }} type={type}&gt;
        &lt;View
          style={{
            flex: 1,
            backgroundColor: 'transparent',
            flexDirection: 'row',
          }}&gt;
          &lt;Button
            title=&quot;Cambiar C&aacute;mara&quot;
            onPress={() =&gt; {
              setType(
                type === Camera.Constants.Type.back
                  ? Camera.Constants.Type.front
                  : Camera.Constants.Type.back
              );
            }}&gt;
          &lt;/Button&gt;
        &lt;/View&gt;
      &lt;/Camera&gt;
    &lt;/View&gt;
  );
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Permisos</strong>: La aplicación solicita permisos para la cámara usando <code>Camera.requestPermissionsAsync()</code>.</li>
<li><strong>Gestión de Estado</strong>: El estado se usa para gestionar el tipo de cámara (frontal o trasera).</li>
<li><strong>Componente de Cámara</strong>: El componente <code>Camera</code> de <code>expo-camera</code> se usa para mostrar la vista de la cámara.</li>
</ul>
</div><h1>Accediendo a la Ubicación</h1>
<div class='content'><p>Expo proporciona el módulo <code>expo-location</code> para acceder a la ubicación del dispositivo.</p>
</div><h2>Instalando el Módulo de Ubicación</h2>
<div class='content'><p>Primero, instala el paquete <code>expo-location</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwbyBpbnN0YWxsIGV4cG8tbG9jYXRpb24="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>expo install expo-location</pre></div><div class='content'></div><h2>Usando el Módulo de Ubicación</h2>
<div class='content'><p>Aquí tienes un ejemplo básico de cómo obtener la ubicación actual:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFRleHQsIFZpZXcgfSBmcm9tICdyZWFjdC1uYXRpdmUnOwppbXBvcnQgKiBhcyBMb2NhdGlvbiBmcm9tICdleHBvLWxvY2F0aW9uJzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCgpIHsKICBjb25zdCBbbG9jYXRpb24sIHNldExvY2F0aW9uXSA9IHVzZVN0YXRlKG51bGwpOwogIGNvbnN0IFtlcnJvck1zZywgc2V0RXJyb3JNc2ddID0gdXNlU3RhdGUobnVsbCk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAoYXN5bmMgKCkgPT4gewogICAgICBsZXQgeyBzdGF0dXMgfSA9IGF3YWl0IExvY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uc0FzeW5jKCk7CiAgICAgIGlmIChzdGF0dXMgIT09ICdncmFudGVkJykgewogICAgICAgIHNldEVycm9yTXNnKCdQZXJtaXNvIHBhcmEgYWNjZWRlciBhIGxhIHViaWNhY2nDs24gZGVuZWdhZG8nKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGxldCBsb2NhdGlvbiA9IGF3YWl0IExvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbkFzeW5jKHt9KTsKICAgICAgc2V0TG9jYXRpb24obG9jYXRpb24pOwogICAgfSkoKTsKICB9LCBbXSk7CgogIGxldCB0ZXh0ID0gJ0VzcGVyYW5kby4uJzsKICBpZiAoZXJyb3JNc2cpIHsKICAgIHRleHQgPSBlcnJvck1zZzsKICB9IGVsc2UgaWYgKGxvY2F0aW9uKSB7CiAgICB0ZXh0ID0gSlNPTi5zdHJpbmdpZnkobG9jYXRpb24pOwogIH0KCiAgcmV0dXJuICgKICAgIDxWaWV3IHN0eWxlPXt7IGZsZXg6IDEsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgYWxpZ25JdGVtczogJ2NlbnRlcicgfX0+CiAgICAgIDxUZXh0Pnt0ZXh0fTwvVGV4dD4KICAgIDwvVmlldz4KICApOwp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState, useEffect } from 'react';
import { Text, View } from 'react-native';
import * as Location from 'expo-location';

export default function App() {
  const [location, setLocation] = useState(null);
  const [errorMsg, setErrorMsg] = useState(null);

  useEffect(() =&gt; {
    (async () =&gt; {
      let { status } = await Location.requestPermissionsAsync();
      if (status !== 'granted') {
        setErrorMsg('Permiso para acceder a la ubicaci&oacute;n denegado');
        return;
      }

      let location = await Location.getCurrentPositionAsync({});
      setLocation(location);
    })();
  }, []);

  let text = 'Esperando..';
  if (errorMsg) {
    text = errorMsg;
  } else if (location) {
    text = JSON.stringify(location);
  }

  return (
    &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;
      &lt;Text&gt;{text}&lt;/Text&gt;
    &lt;/View&gt;
  );
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Permisos</strong>: La aplicación solicita permisos de ubicación usando <code>Location.requestPermissionsAsync()</code>.</li>
<li><strong>Gestión de Estado</strong>: El estado se usa para almacenar los datos de ubicación y cualquier mensaje de error.</li>
<li><strong>Obtención de Ubicación</strong>: El método <code>Location.getCurrentPositionAsync()</code> se usa para obtener la ubicación actual.</li>
</ul>
</div><h1>Accediendo a los Sensores</h1>
<div class='content'><p>Expo también proporciona acceso a varios sensores del dispositivo como el acelerómetro, giroscopio y magnetómetro a través del módulo <code>expo-sensors</code>.</p>
</div><h2>Instalando el Módulo de Sensores</h2>
<div class='content'><p>Primero, instala el paquete <code>expo-sensors</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwbyBpbnN0YWxsIGV4cG8tc2Vuc29ycw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>expo install expo-sensors</pre></div><div class='content'></div><h2>Usando el Acelerómetro</h2>
<div class='content'><p>Aquí tienes un ejemplo básico de cómo usar el acelerómetro:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFRleHQsIFZpZXcgfSBmcm9tICdyZWFjdC1uYXRpdmUnOwppbXBvcnQgeyBBY2NlbGVyb21ldGVyIH0gZnJvbSAnZXhwby1zZW5zb3JzJzsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCgpIHsKICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZSh7CiAgICB4OiAwLAogICAgeTogMCwKICAgIHo6IDAsCiAgfSk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBBY2NlbGVyb21ldGVyLnNldFVwZGF0ZUludGVydmFsKDEwMDApOwogICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gQWNjZWxlcm9tZXRlci5hZGRMaXN0ZW5lcihhY2NlbGVyb21ldGVyRGF0YSA9PiB7CiAgICAgIHNldERhdGEoYWNjZWxlcm9tZXRlckRhdGEpOwogICAgfSk7CgogICAgcmV0dXJuICgpID0+IHN1YnNjcmlwdGlvbiAmJiBzdWJzY3JpcHRpb24ucmVtb3ZlKCk7CiAgfSwgW10pOwoKICByZXR1cm4gKAogICAgPFZpZXcgc3R5bGU9e3sgZmxleDogMSwganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9fT4KICAgICAgPFRleHQ+QWNlbGVyw7NtZXRybzo8L1RleHQ+CiAgICAgIDxUZXh0Png6IHtkYXRhLngudG9GaXhlZCgyKX08L1RleHQ+CiAgICAgIDxUZXh0Pnk6IHtkYXRhLnkudG9GaXhlZCgyKX08L1RleHQ+CiAgICAgIDxUZXh0Pno6IHtkYXRhLnoudG9GaXhlZCgyKX08L1RleHQ+CiAgICA8L1ZpZXc+CiAgKTsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState, useEffect } from 'react';
import { Text, View } from 'react-native';
import { Accelerometer } from 'expo-sensors';

export default function App() {
  const [data, setData] = useState({
    x: 0,
    y: 0,
    z: 0,
  });

  useEffect(() =&gt; {
    Accelerometer.setUpdateInterval(1000);
    const subscription = Accelerometer.addListener(accelerometerData =&gt; {
      setData(accelerometerData);
    });

    return () =&gt; subscription &amp;&amp; subscription.remove();
  }, []);

  return (
    &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;
      &lt;Text&gt;Aceler&oacute;metro:&lt;/Text&gt;
      &lt;Text&gt;x: {data.x.toFixed(2)}&lt;/Text&gt;
      &lt;Text&gt;y: {data.y.toFixed(2)}&lt;/Text&gt;
      &lt;Text&gt;z: {data.z.toFixed(2)}&lt;/Text&gt;
    &lt;/View&gt;
  );
}</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><strong>Gestión de Estado</strong>: El estado se usa para almacenar los datos del acelerómetro.</li>
<li><strong>Datos del Sensor</strong>: El método <code>Accelerometer.addListener()</code> se usa para escuchar las actualizaciones del acelerómetro.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Acceder a las funciones del dispositivo con Expo es sencillo y requiere una configuración mínima. Al aprovechar los módulos de Expo, puedes integrar fácilmente funcionalidades como la cámara, la ubicación y los sensores en tus aplicaciones React Native. Esto no solo acelera el desarrollo, sino que también garantiza una experiencia consistente en diferentes dispositivos.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-maps'>&#x25C4;Trabajo con Mapas</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Accediendo a las Funciones del Dispositivo con Expo</a>
	</div>
	<div class='col-4 text-end'>
					<a href='using-native-modules'>Uso de Módulos Nativos &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
