<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas de APIs REST con JUnit</title>

    <link rel="alternate" href="https://campusempresa.com/junit/testing-rest-apis" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/junit/testing-rest-apis" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/junit/testing-rest-apis" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/junit/testing-rest-apis" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/junit/testing-rest-apis" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='testing-web-applications'>&#x25C4;Pruebas de Aplicaciones Web</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas de APIs REST con JUnit</a>
	</div>
	<div class='col-4 text-end'>
					<a href='testing-databases'>Pruebas de Bases de Datos &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Probar APIs REST es una parte crucial para asegurar que tus servicios web funcionen correctamente. JUnit, un popular marco de pruebas para Java, proporciona herramientas poderosas para probar APIs REST de manera efectiva. Esta sección te guiará desde los conceptos básicos de la configuración de JUnit para pruebas de API hasta técnicas avanzadas para una cobertura de pruebas integral.</p>
</div><h1>Configuración de JUnit para Pruebas de API REST</h1>
<div class='content'><p>Antes de sumergirte en las pruebas, necesitas configurar tu entorno.</p>
</div><h2>Dependencias</h2>
<div class='content'><p>Agrega las siguientes dependencias a tu <code>pom.xml</code> si estás usando Maven:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY2llcz4KICAgIDwhLS0gSlVuaXQgNSAtLT4KICAgIDxkZXBlbmRlbmN5PgogICAgICAgIDxncm91cElkPm9yZy5qdW5pdC5qdXBpdGVyPC9ncm91cElkPgogICAgICAgIDxhcnRpZmFjdElkPmp1bml0LWp1cGl0ZXItZW5naW5lPC9hcnRpZmFjdElkPgogICAgICAgIDx2ZXJzaW9uPjUuNy4wPC92ZXJzaW9uPgogICAgICAgIDxzY29wZT50ZXN0PC9zY29wZT4KICAgIDwvZGVwZW5kZW5jeT4KICAgIDwhLS0gUkVTVCBBc3N1cmVkIHBhcmEgcHJ1ZWJhcyBkZSBBUEkgLS0+CiAgICA8ZGVwZW5kZW5jeT4KICAgICAgICA8Z3JvdXBJZD5pby5yZXN0LWFzc3VyZWQ8L2dyb3VwSWQ+CiAgICAgICAgPGFydGlmYWN0SWQ+cmVzdC1hc3N1cmVkPC9hcnRpZmFjdElkPgogICAgICAgIDx2ZXJzaW9uPjQuMy4zPC92ZXJzaW9uPgogICAgICAgIDxzY29wZT50ZXN0PC9zY29wZT4KICAgIDwvZGVwZW5kZW5jeT4KPC9kZXBlbmRlbmNpZXM+"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependencies&gt;
    &lt;!-- JUnit 5 --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;
        &lt;version&gt;5.7.0&lt;/version&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;!-- REST Assured para pruebas de API --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;
        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;
        &lt;version&gt;4.3.3&lt;/version&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</pre></div><div class='content'></div><h1>Pruebas Básicas de API REST</h1>
<div class='content'><p>Comienza con solicitudes GET simples para entender los conceptos básicos de las pruebas de API REST.</p>
</div><h2>Escribir una Prueba Simple de Solicitud GET</h2>
<div class='content'><p>Aquí tienes un ejemplo básico de cómo probar una solicitud GET usando JUnit y REST Assured:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLnJlc3Rhc3N1cmVkLlJlc3RBc3N1cmVkOwppbXBvcnQgaW8ucmVzdGFzc3VyZWQucmVzcG9uc2UuUmVzcG9uc2U7CmltcG9ydCBvcmcuanVuaXQuanVwaXRlci5hcGkuVGVzdDsKaW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy5hc3NlcnRFcXVhbHM7CgpwdWJsaWMgY2xhc3MgQXBpVGVzdCB7CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRFbmRwb2ludCgpIHsKICAgICAgICBSZXNwb25zZSByZXNwb25zZSA9IFJlc3RBc3N1cmVkLmdldCgiaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzLzEiKTsKICAgICAgICBhc3NlcnRFcXVhbHMoMjAwLCByZXNwb25zZS5nZXRTdGF0dXNDb2RlKCkpOwogICAgICAgIGFzc2VydEVxdWFscygiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsIHJlc3BvbnNlLmdldENvbnRlbnRUeXBlKCkpOwogICAgfQp9"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.restassured.RestAssured;
import io.restassured.response.Response;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class ApiTest {

    @Test
    public void testGetEndpoint() {
        Response response = RestAssured.get(&quot;https://jsonplaceholder.typicode.com/posts/1&quot;);
        assertEquals(200, response.getStatusCode());
        assertEquals(&quot;application/json; charset=utf-8&quot;, response.getContentType());
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>RestAssured.get</code> envía una solicitud GET a la URL especificada.</li>
<li><code>response.getStatusCode()</code> verifica el código de estado HTTP.</li>
<li><code>response.getContentType()</code> verifica el tipo de contenido de la respuesta.</li>
</ul>
</li>
</ul>
</div><h1>Pruebas Intermedias de API REST</h1>
<div class='content'><p>Avanza a escenarios más complejos, como probar solicitudes POST y manejar cuerpos de solicitud.</p>
</div><h2>Pruebas de Solicitudes POST</h2>
<div class='content'><p>Probar solicitudes POST implica enviar datos al servidor y verificar la respuesta.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLnJlc3Rhc3N1cmVkLlJlc3RBc3N1cmVkOwppbXBvcnQgaW8ucmVzdGFzc3VyZWQuaHR0cC5Db250ZW50VHlwZTsKaW1wb3J0IGlvLnJlc3Rhc3N1cmVkLnJlc3BvbnNlLlJlc3BvbnNlOwppbXBvcnQgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLlRlc3Q7CmltcG9ydCBzdGF0aWMgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLkFzc2VydGlvbnMuYXNzZXJ0RXF1YWxzOwoKcHVibGljIGNsYXNzIEFwaVRlc3QgewoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0UG9zdEVuZHBvaW50KCkgewogICAgICAgIFN0cmluZyByZXF1ZXN0Qm9keSA9ICJ7IFwidGl0bGVcIjogXCJmb29cIiwgXCJib2R5XCI6IFwiYmFyXCIsIFwidXNlcklkXCI6IDEgfSI7CgogICAgICAgIFJlc3BvbnNlIHJlc3BvbnNlID0gUmVzdEFzc3VyZWQuZ2l2ZW4oKQogICAgICAgICAgICAgICAgLmNvbnRlbnRUeXBlKENvbnRlbnRUeXBlLkpTT04pCiAgICAgICAgICAgICAgICAuYm9keShyZXF1ZXN0Qm9keSkKICAgICAgICAgICAgICAgIC5wb3N0KCJodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMiKTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIwMSwgcmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpKTsKICAgICAgICBhc3NlcnRFcXVhbHMoImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgiLCByZXNwb25zZS5nZXRDb250ZW50VHlwZSgpKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.restassured.RestAssured;
import io.restassured.http.ContentType;
import io.restassured.response.Response;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class ApiTest {

    @Test
    public void testPostEndpoint() {
        String requestBody = &quot;{ \&quot;title\&quot;: \&quot;foo\&quot;, \&quot;body\&quot;: \&quot;bar\&quot;, \&quot;userId\&quot;: 1 }&quot;;

        Response response = RestAssured.given()
                .contentType(ContentType.JSON)
                .body(requestBody)
                .post(&quot;https://jsonplaceholder.typicode.com/posts&quot;);

        assertEquals(201, response.getStatusCode());
        assertEquals(&quot;application/json; charset=utf-8&quot;, response.getContentType());
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>RestAssured.given().contentType(ContentType.JSON).body(requestBody).post(url)</code> envía una solicitud POST con un cuerpo JSON.</li>
<li><code>assertEquals(201, response.getStatusCode())</code> verifica que el código de estado sea 201 (Creado).</li>
</ul>
</li>
</ul>
</div><h1>Pruebas Avanzadas de API REST</h1>
<div class='content'><p>Para pruebas avanzadas, puedes validar respuestas complejas, usar pruebas parametrizadas y manejar autenticación.</p>
</div><h2>Validación de Respuestas Complejas</h2>
<div class='content'><p>Usa JSONPath para validar partes específicas de la respuesta.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLnJlc3Rhc3N1cmVkLlJlc3RBc3N1cmVkOwppbXBvcnQgaW8ucmVzdGFzc3VyZWQucmVzcG9uc2UuUmVzcG9uc2U7CmltcG9ydCBvcmcuanVuaXQuanVwaXRlci5hcGkuVGVzdDsKaW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy5hc3NlcnRFcXVhbHM7CmltcG9ydCBzdGF0aWMgb3JnLmhhbWNyZXN0Lk1hdGNoZXJzLmVxdWFsVG87CgpwdWJsaWMgY2xhc3MgQXBpVGVzdCB7CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RDb21wbGV4UmVzcG9uc2UoKSB7CiAgICAgICAgUmVzcG9uc2UgcmVzcG9uc2UgPSBSZXN0QXNzdXJlZC5nZXQoImh0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cy8xIik7CgogICAgICAgIHJlc3BvbnNlLnRoZW4oKS5ib2R5KCJ1c2VySWQiLCBlcXVhbFRvKDEpKTsKICAgICAgICByZXNwb25zZS50aGVuKCkuYm9keSgiaWQiLCBlcXVhbFRvKDEpKTsKICAgICAgICByZXNwb25zZS50aGVuKCkuYm9keSgidGl0bGUiLCBlcXVhbFRvKCJzdW50IGF1dCBmYWNlcmUgcmVwZWxsYXQgcHJvdmlkZW50IG9jY2FlY2F0aSBleGNlcHR1cmkgb3B0aW8gcmVwcmVoZW5kZXJpdCIpKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.restassured.RestAssured;
import io.restassured.response.Response;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.hamcrest.Matchers.equalTo;

public class ApiTest {

    @Test
    public void testComplexResponse() {
        Response response = RestAssured.get(&quot;https://jsonplaceholder.typicode.com/posts/1&quot;);

        response.then().body(&quot;userId&quot;, equalTo(1));
        response.then().body(&quot;id&quot;, equalTo(1));
        response.then().body(&quot;title&quot;, equalTo(&quot;sunt aut facere repellat provident occaecati excepturi optio reprehenderit&quot;));
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>response.then().body(&quot;userId&quot;, equalTo(1))</code> usa JSONPath para validar que el campo <code>userId</code> sea 1.</li>
</ul>
</li>
</ul>
</div><h2>Pruebas Parametrizadas</h2>
<div class='content'><p>JUnit 5 soporta pruebas parametrizadas para ejecutar la misma prueba con diferentes entradas.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLnJlc3Rhc3N1cmVkLlJlc3RBc3N1cmVkOwppbXBvcnQgaW8ucmVzdGFzc3VyZWQucmVzcG9uc2UuUmVzcG9uc2U7CmltcG9ydCBvcmcuanVuaXQuanVwaXRlci5wYXJhbXMuUGFyYW1ldGVyaXplZFRlc3Q7CmltcG9ydCBvcmcuanVuaXQuanVwaXRlci5wYXJhbXMucHJvdmlkZXIuVmFsdWVTb3VyY2U7CmltcG9ydCBzdGF0aWMgb3JnLmp1bml0Lmp1cGl0ZXIuYXBpLkFzc2VydGlvbnMuYXNzZXJ0RXF1YWxzOwoKcHVibGljIGNsYXNzIEFwaVRlc3QgewoKICAgIEBQYXJhbWV0ZXJpemVkVGVzdAogICAgQFZhbHVlU291cmNlKHN0cmluZ3MgPSB7ICIxIiwgIjIiLCAiMyIgfSkKICAgIHB1YmxpYyB2b2lkIHRlc3RHZXRFbmRwb2ludFdpdGhQYXJhbWV0ZXJzKFN0cmluZyBwb3N0SWQpIHsKICAgICAgICBSZXNwb25zZSByZXNwb25zZSA9IFJlc3RBc3N1cmVkLmdldCgiaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzLyIgKyBwb3N0SWQpOwogICAgICAgIGFzc2VydEVxdWFscygyMDAsIHJlc3BvbnNlLmdldFN0YXR1c0NvZGUoKSk7CiAgICB9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.restassured.RestAssured;
import io.restassured.response.Response;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.ValueSource;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class ApiTest {

    @ParameterizedTest
    @ValueSource(strings = { &quot;1&quot;, &quot;2&quot;, &quot;3&quot; })
    public void testGetEndpointWithParameters(String postId) {
        Response response = RestAssured.get(&quot;https://jsonplaceholder.typicode.com/posts/&quot; + postId);
        assertEquals(200, response.getStatusCode());
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>@ParameterizedTest</code> y <code>@ValueSource</code> ejecutan la prueba con diferentes valores de <code>postId</code>.</li>
</ul>
</li>
</ul>
</div><h2>Manejo de Autenticación</h2>
<div class='content'><p>Muchas APIs requieren autenticación. Aquí se muestra cómo manejar la autenticación básica:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGlvLnJlc3Rhc3N1cmVkLlJlc3RBc3N1cmVkOwppbXBvcnQgaW8ucmVzdGFzc3VyZWQucmVzcG9uc2UuUmVzcG9uc2U7CmltcG9ydCBvcmcuanVuaXQuanVwaXRlci5hcGkuVGVzdDsKaW1wb3J0IHN0YXRpYyBvcmcuanVuaXQuanVwaXRlci5hcGkuQXNzZXJ0aW9ucy5hc3NlcnRFcXVhbHM7CgpwdWJsaWMgY2xhc3MgQXBpVGVzdCB7CgogICAgQFRlc3QKICAgIHB1YmxpYyB2b2lkIHRlc3RBdXRoZW50aWNhdGVkRW5kcG9pbnQoKSB7CiAgICAgICAgUmVzcG9uc2UgcmVzcG9uc2UgPSBSZXN0QXNzdXJlZC5naXZlbigpCiAgICAgICAgICAgICAgICAuYXV0aCgpLmJhc2ljKCJ1c2VybmFtZSIsICJwYXNzd29yZCIpCiAgICAgICAgICAgICAgICAuZ2V0KCJodHRwczovL2V4YW1wbGUuY29tL2F1dGhlbnRpY2F0ZWQtZW5kcG9pbnQiKTsKCiAgICAgICAgYXNzZXJ0RXF1YWxzKDIwMCwgcmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpKTsKICAgIH0KfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import io.restassured.RestAssured;
import io.restassured.response.Response;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class ApiTest {

    @Test
    public void testAuthenticatedEndpoint() {
        Response response = RestAssured.given()
                .auth().basic(&quot;username&quot;, &quot;password&quot;)
                .get(&quot;https://example.com/authenticated-endpoint&quot;);

        assertEquals(200, response.getStatusCode());
    }
}</pre></div><div class='content'><ul>
<li><strong>Explicación</strong>:
<ul>
<li><code>RestAssured.given().auth().basic(&quot;username&quot;, &quot;password&quot;)</code> configura la autenticación básica para la solicitud.</li>
</ul>
</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Probar APIs REST con JUnit y REST Assured es una manera poderosa de asegurar que tus servicios web sean confiables y funcionen como se espera. Desde solicitudes GET simples hasta escenarios avanzados como manejar autenticación y validar respuestas complejas, ahora tienes un conjunto de herramientas integral para pruebas de API. Practica estas técnicas para construir pruebas robustas y mantenibles para tus APIs REST.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='testing-web-applications'>&#x25C4;Pruebas de Aplicaciones Web</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Pruebas de APIs REST con JUnit</a>
	</div>
	<div class='col-4 text-end'>
					<a href='testing-databases'>Pruebas de Bases de Datos &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
