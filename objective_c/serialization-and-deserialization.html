<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serialización y Deserialización en Objective-C</title>

    <link rel="alternate" href="https://campusempresa.com/objective_c/serialization-and-deserialization" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/objective_c/serialization-and-deserialization" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/objective_c/serialization-and-deserialization" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/objective_c/serialization-and-deserialization" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/objective_c/serialization-and-deserialization" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-files'>&#x25C4;Trabajando con Archivos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Serialización y Deserialización en Objective-C</a>
	</div>
	<div class='col-4 text-end'>
					<a href='protocols-and-delegates'>Protocolos y Delegados &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La serialización y deserialización son conceptos esenciales en la programación, especialmente cuando se trata del almacenamiento y transmisión de datos. En Objective-C, estos procesos implican convertir objetos en un formato que pueda ser fácilmente almacenado o transmitido y luego reconstruirlos de nuevo en objetos.</p>
</div><h1>¿Qué es la Serialización?</h1>
<div class='content'><p>La serialización es el proceso de convertir un objeto en un formato que pueda ser fácilmente almacenado o transmitido. En Objective-C, esto a menudo implica convertir objetos en formatos JSON, XML o binarios.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Conversión de Objetos</strong>: Transformar un objeto en un formato almacenable.</li>
<li><strong>Formatos de Datos</strong>: Los formatos comunes incluyen JSON, XML y binario.</li>
<li><strong>Protocolo NSCoding</strong>: Un protocolo que las clases pueden adoptar para soportar la serialización.</li>
</ul>
</div><h2>Ejemplo: Serializando un Objeto a JSON</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIFBlcnNvbiA6IE5TT2JqZWN0CkBwcm9wZXJ0eSAobm9uYXRvbWljLCBzdHJvbmcpIE5TU3RyaW5nICpuYW1lOwpAcHJvcGVydHkgKG5vbmF0b21pYywgYXNzaWduKSBOU0ludGVnZXIgYWdlOwpAZW5kCgpAaW1wbGVtZW50YXRpb24gUGVyc29uCkBlbmQKCmludCBtYWluKGludCBhcmdjLCBjb25zdCBjaGFyICogYXJndltdKSB7CiAgICBAYXV0b3JlbGVhc2Vwb29sIHsKICAgICAgICBQZXJzb24gKnBlcnNvbiA9IFtQZXJzb24gbmV3XTsKICAgICAgICBwZXJzb24ubmFtZSA9IEAiSm9obiBEb2UiOwogICAgICAgIHBlcnNvbi5hZ2UgPSAzMDsKCiAgICAgICAgTlNEaWN0aW9uYXJ5ICpwZXJzb25EaWN0ID0gQHtAIm5hbWUiOiBwZXJzb24ubmFtZSwgQCJhZ2UiOiBAKHBlcnNvbi5hZ2UpfTsKICAgICAgICBOU0Vycm9yICplcnJvcjsKICAgICAgICBOU0RhdGEgKmpzb25EYXRhID0gW05TSlNPTlNlcmlhbGl6YXRpb24gZGF0YVdpdGhKU09OT2JqZWN0OnBlcnNvbkRpY3Qgb3B0aW9uczpOU0pTT05Xcml0aW5nUHJldHR5UHJpbnRlZCBlcnJvcjomZXJyb3JdOwoKICAgICAgICBpZiAoIWpzb25EYXRhKSB7CiAgICAgICAgICAgIE5TTG9nKEAiRmFpbGVkIHRvIHNlcmlhbGl6ZSBvYmplY3Q6ICVAIiwgZXJyb3IpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIE5TU3RyaW5nICpqc29uU3RyaW5nID0gW1tOU1N0cmluZyBhbGxvY10gaW5pdFdpdGhEYXRhOmpzb25EYXRhIGVuY29kaW5nOk5TVVRGOFN0cmluZ0VuY29kaW5nXTsKICAgICAgICAgICAgTlNMb2coQCJTZXJpYWxpemVkIEpTT046ICVAIiwganNvblN0cmluZyk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIDA7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &lt;Foundation/Foundation.h&gt;

@interface Person : NSObject
@property (nonatomic, strong) NSString *name;
@property (nonatomic, assign) NSInteger age;
@end

@implementation Person
@end

int main(int argc, const char * argv[]) {
    @autoreleasepool {
        Person *person = [Person new];
        person.name = @&quot;John Doe&quot;;
        person.age = 30;

        NSDictionary *personDict = @{@&quot;name&quot;: person.name, @&quot;age&quot;: @(person.age)};
        NSError *error;
        NSData *jsonData = [NSJSONSerialization dataWithJSONObject:personDict options:NSJSONWritingPrettyPrinted error:&amp;error];

        if (!jsonData) {
            NSLog(@&quot;Failed to serialize object: %@&quot;, error);
        } else {
            NSString *jsonString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];
            NSLog(@&quot;Serialized JSON: %@&quot;, jsonString);
        }
    }
    return 0;
}</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li>Creamos un objeto <code>Person</code>.</li>
<li>Convertimos el objeto <code>Person</code> en un diccionario.</li>
<li>Serializamos el diccionario en formato JSON usando <code>NSJSONSerialization</code>.</li>
</ul>
</div><h1>¿Qué es la Deserialización?</h1>
<div class='content'><p>La deserialización es el proceso de convertir datos serializados de nuevo en un objeto. Esto es crucial para leer datos que han sido almacenados o recibidos a través de una red.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Conversión de Datos</strong>: Transformar datos serializados de nuevo en un objeto.</li>
<li><strong>Manejo de Errores</strong>: Gestionar posibles errores durante el proceso de deserialización.</li>
<li><strong>Protocolo NSCoding</strong>: Las clases pueden adoptar este protocolo para soportar la deserialización.</li>
</ul>
</div><h2>Ejemplo: Deserializando JSON a un Objeto</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIFBlcnNvbiA6IE5TT2JqZWN0CkBwcm9wZXJ0eSAobm9uYXRvbWljLCBzdHJvbmcpIE5TU3RyaW5nICpuYW1lOwpAcHJvcGVydHkgKG5vbmF0b21pYywgYXNzaWduKSBOU0ludGVnZXIgYWdlOwpAZW5kCgpAaW1wbGVtZW50YXRpb24gUGVyc29uCkBlbmQKCmludCBtYWluKGludCBhcmdjLCBjb25zdCBjaGFyICogYXJndltdKSB7CiAgICBAYXV0b3JlbGVhc2Vwb29sIHsKICAgICAgICBOU1N0cmluZyAqanNvblN0cmluZyA9IEAie1wibmFtZVwiOlwiSm9obiBEb2VcIixcImFnZVwiOjMwfSI7CiAgICAgICAgTlNEYXRhICpqc29uRGF0YSA9IFtqc29uU3RyaW5nIGRhdGFVc2luZ0VuY29kaW5nOk5TVVRGOFN0cmluZ0VuY29kaW5nXTsKICAgICAgICBOU0Vycm9yICplcnJvcjsKICAgICAgICBOU0RpY3Rpb25hcnkgKnBlcnNvbkRpY3QgPSBbTlNKU09OU2VyaWFsaXphdGlvbiBKU09OT2JqZWN0V2l0aERhdGE6anNvbkRhdGEgb3B0aW9uczowIGVycm9yOiZlcnJvcl07CgogICAgICAgIGlmICghcGVyc29uRGljdCkgewogICAgICAgICAgICBOU0xvZyhAIkZhaWxlZCB0byBkZXNlcmlhbGl6ZSBKU09OOiAlQCIsIGVycm9yKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBQZXJzb24gKnBlcnNvbiA9IFtQZXJzb24gbmV3XTsKICAgICAgICAgICAgcGVyc29uLm5hbWUgPSBwZXJzb25EaWN0W0AibmFtZSJdOwogICAgICAgICAgICBwZXJzb24uYWdlID0gW3BlcnNvbkRpY3RbQCJhZ2UiXSBpbnRlZ2VyVmFsdWVdOwogICAgICAgICAgICBOU0xvZyhAIkRlc2VyaWFsaXplZCBQZXJzb246ICVALCBBZ2U6ICVsZCIsIHBlcnNvbi5uYW1lLCAobG9uZylwZXJzb24uYWdlKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gMDsKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &lt;Foundation/Foundation.h&gt;

@interface Person : NSObject
@property (nonatomic, strong) NSString *name;
@property (nonatomic, assign) NSInteger age;
@end

@implementation Person
@end

int main(int argc, const char * argv[]) {
    @autoreleasepool {
        NSString *jsonString = @&quot;{\&quot;name\&quot;:\&quot;John Doe\&quot;,\&quot;age\&quot;:30}&quot;;
        NSData *jsonData = [jsonString dataUsingEncoding:NSUTF8StringEncoding];
        NSError *error;
        NSDictionary *personDict = [NSJSONSerialization JSONObjectWithData:jsonData options:0 error:&amp;error];

        if (!personDict) {
            NSLog(@&quot;Failed to deserialize JSON: %@&quot;, error);
        } else {
            Person *person = [Person new];
            person.name = personDict[@&quot;name&quot;];
            person.age = [personDict[@&quot;age&quot;] integerValue];
            NSLog(@&quot;Deserialized Person: %@, Age: %ld&quot;, person.name, (long)person.age);
        }
    }
    return 0;
}</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li>Comenzamos con una cadena JSON.</li>
<li>Convertimos la cadena JSON en <code>NSData</code>.</li>
<li>Deserializamos el <code>NSData</code> de nuevo en un diccionario.</li>
<li>Creamos un objeto <code>Person</code> a partir del diccionario.</li>
</ul>
</div><h1>Serialización y Deserialización Avanzadas</h1>
<div class='content'><p>Para objetos más complejos, es posible que necesites implementar el protocolo <code>NSCoding</code> para manejar la lógica de serialización y deserialización personalizada.</p>
</div><h2>Implementando NSCoding</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIFBlcnNvbiA6IE5TT2JqZWN0IDxOU0NvZGluZz4KQHByb3BlcnR5IChub25hdG9taWMsIHN0cm9uZykgTlNTdHJpbmcgKm5hbWU7CkBwcm9wZXJ0eSAobm9uYXRvbWljLCBhc3NpZ24pIE5TSW50ZWdlciBhZ2U7CkBlbmQKCkBpbXBsZW1lbnRhdGlvbiBQZXJzb24KCi0gKHZvaWQpZW5jb2RlV2l0aENvZGVyOihOU0NvZGVyICopY29kZXIgewogICAgW2NvZGVyIGVuY29kZU9iamVjdDpzZWxmLm5hbWUgZm9yS2V5OkAibmFtZSJdOwogICAgW2NvZGVyIGVuY29kZUludGVnZXI6c2VsZi5hZ2UgZm9yS2V5OkAiYWdlIl07Cn0KCi0gKGluc3RhbmNldHlwZSlpbml0V2l0aENvZGVyOihOU0NvZGVyICopY29kZXIgewogICAgc2VsZiA9IFtzdXBlciBpbml0XTsKICAgIGlmIChzZWxmKSB7CiAgICAgICAgX25hbWUgPSBbY29kZXIgZGVjb2RlT2JqZWN0Rm9yS2V5OkAibmFtZSJdOwogICAgICAgIF9hZ2UgPSBbY29kZXIgZGVjb2RlSW50ZWdlckZvcktleTpAImFnZSJdOwogICAgfQogICAgcmV0dXJuIHNlbGY7Cn0KCkBlbmQKCmludCBtYWluKGludCBhcmdjLCBjb25zdCBjaGFyICogYXJndltdKSB7CiAgICBAYXV0b3JlbGVhc2Vwb29sIHsKICAgICAgICBQZXJzb24gKnBlcnNvbiA9IFtQZXJzb24gbmV3XTsKICAgICAgICBwZXJzb24ubmFtZSA9IEAiSm9obiBEb2UiOwogICAgICAgIHBlcnNvbi5hZ2UgPSAzMDsKCiAgICAgICAgLy8gU2VyaWFsaXphciB1c2FuZG8gTlNDb2RpbmcKICAgICAgICBOU0RhdGEgKmRhdGEgPSBbTlNLZXllZEFyY2hpdmVyIGFyY2hpdmVkRGF0YVdpdGhSb290T2JqZWN0OnBlcnNvbiByZXF1aXJpbmdTZWN1cmVDb2Rpbmc6Tk8gZXJyb3I6bmlsXTsKICAgICAgICAKICAgICAgICAvLyBEZXNlcmlhbGl6YXIgdXNhbmRvIE5TQ29kaW5nCiAgICAgICAgUGVyc29uICpkZXNlcmlhbGl6ZWRQZXJzb24gPSBbTlNLZXllZFVuYXJjaGl2ZXIgdW5hcmNoaXZlZE9iamVjdE9mQ2xhc3M6W1BlcnNvbiBjbGFzc10gZnJvbURhdGE6ZGF0YSBlcnJvcjpuaWxdOwogICAgICAgIAogICAgICAgIE5TTG9nKEAiRGVzZXJpYWxpemVkIFBlcnNvbjogJUAsIEFnZTogJWxkIiwgZGVzZXJpYWxpemVkUGVyc29uLm5hbWUsIChsb25nKWRlc2VyaWFsaXplZFBlcnNvbi5hZ2UpOwogICAgfQogICAgcmV0dXJuIDA7Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &lt;Foundation/Foundation.h&gt;

@interface Person : NSObject &lt;NSCoding&gt;
@property (nonatomic, strong) NSString *name;
@property (nonatomic, assign) NSInteger age;
@end

@implementation Person

- (void)encodeWithCoder:(NSCoder *)coder {
    [coder encodeObject:self.name forKey:@&quot;name&quot;];
    [coder encodeInteger:self.age forKey:@&quot;age&quot;];
}

- (instancetype)initWithCoder:(NSCoder *)coder {
    self = [super init];
    if (self) {
        _name = [coder decodeObjectForKey:@&quot;name&quot;];
        _age = [coder decodeIntegerForKey:@&quot;age&quot;];
    }
    return self;
}

@end

int main(int argc, const char * argv[]) {
    @autoreleasepool {
        Person *person = [Person new];
        person.name = @&quot;John Doe&quot;;
        person.age = 30;

        // Serializar usando NSCoding
        NSData *data = [NSKeyedArchiver archivedDataWithRootObject:person requiringSecureCoding:NO error:nil];
        
        // Deserializar usando NSCoding
        Person *deserializedPerson = [NSKeyedUnarchiver unarchivedObjectOfClass:[Person class] fromData:data error:nil];
        
        NSLog(@&quot;Deserialized Person: %@, Age: %ld&quot;, deserializedPerson.name, (long)deserializedPerson.age);
    }
    return 0;
}</pre></div><div class='content'><p>En este ejemplo:</p>
<ul>
<li>La clase <code>Person</code> adopta el protocolo <code>NSCoding</code>.</li>
<li>Implementamos <code>encodeWithCoder:</code> para especificar cómo serializar el objeto.</li>
<li>Implementamos <code>initWithCoder:</code> para especificar cómo deserializar el objeto.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>La serialización y deserialización son críticas para el almacenamiento y transmisión de datos en Objective-C. Al entender e implementar estos procesos, puedes gestionar eficientemente los datos en tus aplicaciones. Ya sea que estés trabajando con JSON simple o con objetos personalizados más complejos, Objective-C proporciona herramientas robustas para manejar estas tareas.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-files'>&#x25C4;Trabajando con Archivos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Serialización y Deserialización en Objective-C</a>
	</div>
	<div class='col-4 text-end'>
					<a href='protocols-and-delegates'>Protocolos y Delegados &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
