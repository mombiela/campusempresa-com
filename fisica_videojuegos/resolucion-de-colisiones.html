<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resolución de Colisiones</title>

    <link rel="alternate" href="https://campusempresa.com/fisica_videojuegos/resolucion-de-colisiones" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/fisica_videojuegos/resolucion-de-colisiones" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/fisica_videojuegos/resolucion-de-colisiones" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/fisica_videojuegos/resolucion-de-colisiones" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/fisica_videojuegos/resolucion-de-colisiones" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='deteccion-de-colisiones'>&#x25C4;Detección de Colisiones</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Resolución de Colisiones</a>
	</div>
	<div class='col-4 text-end'>
					<a href='friccion-y-resistencia'>Fricción y Resistencia &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>La resolución de colisiones es un aspecto fundamental en la física de videojuegos. Una vez detectadas las colisiones entre objetos, es crucial resolverlas de manera que los objetos reaccionen de forma realista. Este tema cubre los conceptos básicos y avanzados de la resolución de colisiones, incluyendo métodos matemáticos y ejemplos de código.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Colisión</strong>: Ocurre cuando dos o más objetos en un videojuego se encuentran en el mismo espacio al mismo tiempo.</li>
<li><strong>Normal de Colisión</strong>: Vector perpendicular a la superficie de contacto en el punto de colisión.</li>
<li><strong>Penetración</strong>: La distancia que un objeto ha penetrado en otro durante una colisión.</li>
<li><strong>Impulso</strong>: Cambio en la cantidad de movimiento de un objeto debido a una fuerza aplicada durante un corto período de tiempo.</li>
</ul>
</div><h1>Métodos de Resolución de Colisiones</h1>
<div class='content'></div><h2>Método de Separación de Ejes (SAT)</h2>
<div class='content'><p>El Método de Separación de Ejes (SAT) es una técnica utilizada para detectar y resolver colisiones entre polígonos convexos.</p>
<ul>
<li><strong>Paso 1</strong>: Proyectar los vértices de los polígonos en un eje.</li>
<li><strong>Paso 2</strong>: Verificar si las proyecciones se solapan.</li>
<li><strong>Paso 3</strong>: Si hay solapamiento en todos los ejes, se ha detectado una colisión.</li>
<li><strong>Paso 4</strong>: Resolver la colisión moviendo los objetos a lo largo del eje de menor penetración.</li>
</ul>
</div><h2>Ejemplo de Código: SAT en 2D</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHByb2plY3RfcG9seWdvbih2ZXJ0aWNlcywgYXhpcyk6CiAgICBtaW5fcHJvaiA9IGZsb2F0KCdpbmYnKQogICAgbWF4X3Byb2ogPSBmbG9hdCgnLWluZicpCiAgICBmb3IgdmVydGV4IGluIHZlcnRpY2VzOgogICAgICAgIHByb2plY3Rpb24gPSB2ZXJ0ZXguZG90KGF4aXMpCiAgICAgICAgbWluX3Byb2ogPSBtaW4obWluX3Byb2osIHByb2plY3Rpb24pCiAgICAgICAgbWF4X3Byb2ogPSBtYXgobWF4X3Byb2osIHByb2plY3Rpb24pCiAgICByZXR1cm4gbWluX3Byb2osIG1heF9wcm9qCgpkZWYgb3ZlcmxhcChtaW5BLCBtYXhBLCBtaW5CLCBtYXhCKToKICAgIHJldHVybiBtaW5CIDw9IG1heEEgYW5kIG1pbkEgPD0gbWF4QgoKZGVmIHNhdF9jb2xsaXNpb24ocG9seWdvbkEsIHBvbHlnb25CKToKICAgIGF4ZXMgPSBnZXRfYXhlcyhwb2x5Z29uQSkgKyBnZXRfYXhlcyhwb2x5Z29uQikKICAgIGZvciBheGlzIGluIGF4ZXM6CiAgICAgICAgbWluQSwgbWF4QSA9IHByb2plY3RfcG9seWdvbihwb2x5Z29uQSwgYXhpcykKICAgICAgICBtaW5CLCBtYXhCID0gcHJvamVjdF9wb2x5Z29uKHBvbHlnb25CLCBheGlzKQogICAgICAgIGlmIG5vdCBvdmVybGFwKG1pbkEsIG1heEEsIG1pbkIsIG1heEIpOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgIHJldHVybiBUcnVlCgojIEV4YW1wbGUgdXNhZ2UKcG9seWdvbkEgPSBbVmVjdG9yMigwLCAwKSwgVmVjdG9yMigxLCAwKSwgVmVjdG9yMigxLCAxKSwgVmVjdG9yMigwLCAxKV0KcG9seWdvbkIgPSBbVmVjdG9yMigwLjUsIDAuNSksIFZlY3RvcjIoMS41LCAwLjUpLCBWZWN0b3IyKDEuNSwgMS41KSwgVmVjdG9yMigwLjUsIDEuNSldCnByaW50KHNhdF9jb2xsaXNpb24ocG9seWdvbkEsIHBvbHlnb25CKSkgICMgT3V0cHV0OiBUcnVl"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def project_polygon(vertices, axis):
    min_proj = float('inf')
    max_proj = float('-inf')
    for vertex in vertices:
        projection = vertex.dot(axis)
        min_proj = min(min_proj, projection)
        max_proj = max(max_proj, projection)
    return min_proj, max_proj

def overlap(minA, maxA, minB, maxB):
    return minB &lt;= maxA and minA &lt;= maxB

def sat_collision(polygonA, polygonB):
    axes = get_axes(polygonA) + get_axes(polygonB)
    for axis in axes:
        minA, maxA = project_polygon(polygonA, axis)
        minB, maxB = project_polygon(polygonB, axis)
        if not overlap(minA, maxA, minB, maxB):
            return False
    return True

# Example usage
polygonA = [Vector2(0, 0), Vector2(1, 0), Vector2(1, 1), Vector2(0, 1)]
polygonB = [Vector2(0.5, 0.5), Vector2(1.5, 0.5), Vector2(1.5, 1.5), Vector2(0.5, 1.5)]
print(sat_collision(polygonA, polygonB))  # Output: True</pre></div><div class='content'></div><h2>Impulso y Conservación del Momento</h2>
<div class='content'><p>Para resolver colisiones de manera más realista, se utiliza el concepto de impulso y conservación del momento.</p>
<ul>
<li><strong>Impulso</strong>: \( J = \frac{-(1 + e) \cdot (v \cdot n)}{(1/m1 + 1/m2)} \)
<ul>
<li>\( e \) es el coeficiente de restitución.</li>
<li>\( v \) es la velocidad relativa.</li>
<li>\( n \) es la normal de colisión.</li>
<li>\( m1 \) y \( m2 \) son las masas de los objetos.</li>
</ul>
</li>
</ul>
</div><h2>Ejemplo de Código: Resolución de Impulso</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHJlc29sdmVfY29sbGlzaW9uKG9iajEsIG9iajIsIG5vcm1hbCwgcmVzdGl0dXRpb24pOgogICAgcmVsYXRpdmVfdmVsb2NpdHkgPSBvYmoyLnZlbG9jaXR5IC0gb2JqMS52ZWxvY2l0eQogICAgdmVsb2NpdHlfYWxvbmdfbm9ybWFsID0gcmVsYXRpdmVfdmVsb2NpdHkuZG90KG5vcm1hbCkKICAgIAogICAgaWYgdmVsb2NpdHlfYWxvbmdfbm9ybWFsID4gMDoKICAgICAgICByZXR1cm4KICAgIAogICAgaW1wdWxzZV9tYWduaXR1ZGUgPSAtKDEgKyByZXN0aXR1dGlvbikgKiB2ZWxvY2l0eV9hbG9uZ19ub3JtYWwKICAgIGltcHVsc2VfbWFnbml0dWRlIC89ICgxIC8gb2JqMS5tYXNzICsgMSAvIG9iajIubWFzcykKICAgIAogICAgaW1wdWxzZSA9IGltcHVsc2VfbWFnbml0dWRlICogbm9ybWFsCiAgICBvYmoxLnZlbG9jaXR5IC09ICgxIC8gb2JqMS5tYXNzKSAqIGltcHVsc2UKICAgIG9iajIudmVsb2NpdHkgKz0gKDEgLyBvYmoyLm1hc3MpICogaW1wdWxzZQoKIyBFeGFtcGxlIHVzYWdlCmNsYXNzIEdhbWVPYmplY3Q6CiAgICBkZWYgX19pbml0X18oc2VsZiwgbWFzcywgdmVsb2NpdHkpOgogICAgICAgIHNlbGYubWFzcyA9IG1hc3MKICAgICAgICBzZWxmLnZlbG9jaXR5ID0gdmVsb2NpdHkKCm9iajEgPSBHYW1lT2JqZWN0KDEsIFZlY3RvcjIoMSwgMCkpCm9iajIgPSBHYW1lT2JqZWN0KDEsIFZlY3RvcjIoLTEsIDApKQpub3JtYWwgPSBWZWN0b3IyKDEsIDApCnJlc3RpdHV0aW9uID0gMC41CgpyZXNvbHZlX2NvbGxpc2lvbihvYmoxLCBvYmoyLCBub3JtYWwsIHJlc3RpdHV0aW9uKQpwcmludChvYmoxLnZlbG9jaXR5LCBvYmoyLnZlbG9jaXR5KSAgIyBPdXRwdXQ6IFZlY3RvcjIoLTAuNSwgMCkgVmVjdG9yMigwLjUsIDAp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def resolve_collision(obj1, obj2, normal, restitution):
    relative_velocity = obj2.velocity - obj1.velocity
    velocity_along_normal = relative_velocity.dot(normal)
    
    if velocity_along_normal &gt; 0:
        return
    
    impulse_magnitude = -(1 + restitution) * velocity_along_normal
    impulse_magnitude /= (1 / obj1.mass + 1 / obj2.mass)
    
    impulse = impulse_magnitude * normal
    obj1.velocity -= (1 / obj1.mass) * impulse
    obj2.velocity += (1 / obj2.mass) * impulse

# Example usage
class GameObject:
    def __init__(self, mass, velocity):
        self.mass = mass
        self.velocity = velocity

obj1 = GameObject(1, Vector2(1, 0))
obj2 = GameObject(1, Vector2(-1, 0))
normal = Vector2(1, 0)
restitution = 0.5

resolve_collision(obj1, obj2, normal, restitution)
print(obj1.velocity, obj2.velocity)  # Output: Vector2(-0.5, 0) Vector2(0.5, 0)</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>La resolución de colisiones es esencial para crear experiencias de juego realistas y fluidas. Desde métodos geométricos como el SAT hasta técnicas físicas como la conservación del momento, cada enfoque tiene sus aplicaciones y ventajas. Practicar con ejemplos de código y comprender los fundamentos matemáticos detrás de estos métodos permitirá a los desarrolladores implementar sistemas de colisión efectivos en sus videojuegos.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='deteccion-de-colisiones'>&#x25C4;Detección de Colisiones</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Resolución de Colisiones</a>
	</div>
	<div class='col-4 text-end'>
					<a href='friccion-y-resistencia'>Fricción y Resistencia &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
