<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ansible Vault</title>

    <link rel="alternate" href="https://campusempresa.com/ansible/ansible-vault" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/ansible/ansible-vault" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/ansible/ansible-vault" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/ansible/ansible-vault" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/ansible/ansible-vault" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='ansible-galaxy'>&#x25C4;Ansible Galaxy</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Ansible Vault</a>
	</div>
	<div class='col-4 text-end'>
					<a href='dynamic-inventory'>Inventario Dinámico &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a Ansible Vault</h1>
<div class='content'><p>Ansible Vault es una característica de Ansible que te permite mantener datos sensibles como contraseñas o claves en archivos cifrados, en lugar de en texto plano en playbooks o roles. Esto es crucial para mantener la seguridad y confidencialidad en tus scripts de automatización.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Cifrado y Descifrado</strong>: Ansible Vault utiliza AES (Advanced Encryption Standard) para cifrar y descifrar archivos.</li>
<li><strong>IDs de Vault</strong>: Te permite gestionar múltiples contraseñas de vault.</li>
<li><strong>Archivos de Vault</strong>: Archivos que están cifrados usando Ansible Vault.</li>
<li><strong>Contraseña de Vault</strong>: La contraseña utilizada para cifrar y descifrar archivos de vault.</li>
</ul>
</div><h1>Comandos Básicos</h1>
<div class='content'><ul>
<li><strong>Crear un Archivo de Vault</strong>: Usa el comando <code>ansible-vault create</code> para crear un nuevo archivo cifrado.</li>
<li><strong>Editar un Archivo de Vault</strong>: Usa el comando <code>ansible-vault edit</code> para editar un archivo cifrado existente.</li>
<li><strong>Cifrar un Archivo Existente</strong>: Usa el comando <code>ansible-vault encrypt</code> para cifrar un archivo existente.</li>
<li><strong>Descifrar un Archivo de Vault</strong>: Usa el comando <code>ansible-vault decrypt</code> para descifrar un archivo.</li>
<li><strong>Ver un Archivo de Vault</strong>: Usa el comando <code>ansible-vault view</code> para ver el contenido de un archivo cifrado sin editarlo.</li>
</ul>
</div><h1>Creación y Uso de Archivos de Vault</h1>
<div class='content'></div><h2>Crear un Archivo de Vault</h2>
<div class='content'><p>Para crear un nuevo archivo cifrado:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS12YXVsdCBjcmVhdGUgc2VjcmV0LnltbA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-vault create secret.yml</pre></div><div class='content'><p>Se te pedirá que ingreses una contraseña. Después de ingresar la contraseña, se creará un nuevo archivo llamado <code>secret.yml</code>, y podrás agregar tus datos sensibles a él.</p>
</div><h2>Editar un Archivo de Vault</h2>
<div class='content'><p>Para editar un archivo cifrado existente:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS12YXVsdCBlZGl0IHNlY3JldC55bWw="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-vault edit secret.yml</pre></div><div class='content'><p>Se te pedirá que ingreses la contraseña del vault para descifrar el archivo para su edición.</p>
</div><h2>Cifrar un Archivo Existente</h2>
<div class='content'><p>Para cifrar un archivo de texto plano existente:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS12YXVsdCBlbmNyeXB0IGV4aXN0aW5nX2ZpbGUueW1s"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-vault encrypt existing_file.yml</pre></div><div class='content'><p>Este comando cifrará <code>existing_file.yml</code> y te pedirá una contraseña.</p>
</div><h2>Descifrar un Archivo de Vault</h2>
<div class='content'><p>Para descifrar un archivo cifrado:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS12YXVsdCBkZWNyeXB0IHNlY3JldC55bWw="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-vault decrypt secret.yml</pre></div><div class='content'><p>Se te pedirá que ingreses la contraseña del vault para descifrar el archivo.</p>
</div><h2>Ver un Archivo de Vault</h2>
<div class='content'><p>Para ver el contenido de un archivo cifrado sin editar:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS12YXVsdCB2aWV3IHNlY3JldC55bWw="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-vault view secret.yml</pre></div><div class='content'><p>Se te pedirá que ingreses la contraseña del vault para ver el archivo.</p>
</div><h1>Uso de Vault en Playbooks</h1>
<div class='content'><p>Puedes usar archivos cifrados con vault en tus playbooks. Aquí hay un ejemplo:</p>
</div><h2>Ejemplo de Playbook</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRWplbXBsbyBkZSBwbGF5Ym9vayB1c2FuZG8gQW5zaWJsZSBWYXVsdAogIGhvc3RzOiBsb2NhbGhvc3QKICB2YXJzX2ZpbGVzOgogICAgLSBzZWNyZXQueW1sCiAgdGFza3M6CiAgICAtIG5hbWU6IEltcHJpbWlyIG1lbnNhamUgc2VjcmV0bwogICAgICBkZWJ1ZzoKICAgICAgICBtc2c6ICJ7eyBzZWNyZXRfbWVzc2FnZSB9fSI="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Ejemplo de playbook usando Ansible Vault
  hosts: localhost
  vars_files:
    - secret.yml
  tasks:
    - name: Imprimir mensaje secreto
      debug:
        msg: &quot;{{ secret_message }}&quot;</pre></div><div class='content'><p>En este ejemplo, <code>secret.yml</code> es un archivo cifrado que contiene una variable <code>secret_message</code>.</p>
</div><h2>Ejecutar el Playbook</h2>
<div class='content'><p>Para ejecutar el playbook con el archivo de vault:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS1wbGF5Ym9vayBwbGF5Ym9vay55bWwgLS1hc2stdmF1bHQtcGFzcw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-playbook playbook.yml --ask-vault-pass</pre></div><div class='content'><p>Se te pedirá que ingreses la contraseña del vault.</p>
</div><h1>Uso Avanzado</h1>
<div class='content'></div><h2>Uso de Múltiples Contraseñas de Vault</h2>
<div class='content'><p>Puedes gestionar múltiples contraseñas de vault usando IDs de Vault. Esto es útil cuando tienes diferentes equipos o entornos con diferentes necesidades de cifrado.</p>
<h4>Ejemplo</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0tCi0gbmFtZTogRWplbXBsbyBkZSBwbGF5Ym9vayBjb24gbcO6bHRpcGxlcyBjb250cmFzZcOxYXMgZGUgdmF1bHQKICBob3N0czogbG9jYWxob3N0CiAgdmFyc19maWxlczoKICAgIC0gdmF1bHRfaWRfMUBzZWNyZXQxLnltbAogICAgLSB2YXVsdF9pZF8yQHNlY3JldDIueW1sCiAgdGFza3M6CiAgICAtIG5hbWU6IEltcHJpbWlyIG1lbnNhamVzIHNlY3JldG9zCiAgICAgIGRlYnVnOgogICAgICAgIG1zZzogInt7IHNlY3JldF9tZXNzYWdlMSB9fSB5IHt7IHNlY3JldF9tZXNzYWdlMiB9fSI="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>---
- name: Ejemplo de playbook con m&uacute;ltiples contrase&ntilde;as de vault
  hosts: localhost
  vars_files:
    - vault_id_1@secret1.yml
    - vault_id_2@secret2.yml
  tasks:
    - name: Imprimir mensajes secretos
      debug:
        msg: &quot;{{ secret_message1 }} y {{ secret_message2 }}&quot;</pre></div><div class='content'><p>Para ejecutar el playbook con múltiples contraseñas de vault:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YW5zaWJsZS1wbGF5Ym9vayBwbGF5Ym9vay55bWwgLS1hc2stdmF1bHQtcGFzcyAtLXZhdWx0LWlkIHZhdWx0X2lkXzFAcHJvbXB0IC0tdmF1bHQtaWQgdmF1bHRfaWRfMkBwcm9tcHQ="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ansible-playbook playbook.yml --ask-vault-pass --vault-id vault_id_1@prompt --vault-id vault_id_2@prompt</pre></div><div class='content'><p>Se te pedirá que ingreses las contraseñas para <code>vault_id_1</code> y <code>vault_id_2</code>.</p>
</div><h1>Conclusión</h1>
<div class='content'><p>Ansible Vault es una herramienta poderosa para gestionar datos sensibles en tus scripts de automatización. Al entender cómo crear, editar, cifrar y descifrar archivos de vault, así como cómo usarlos en playbooks, puedes asegurarte de que tu información sensible permanezca segura. Las características avanzadas como los IDs de Vault permiten una gestión aún más flexible y segura de los datos cifrados.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='ansible-galaxy'>&#x25C4;Ansible Galaxy</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Ansible Vault</a>
	</div>
	<div class='col-4 text-end'>
					<a href='dynamic-inventory'>Inventario Dinámico &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
