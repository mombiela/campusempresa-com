<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Componentes de Clase</title>

    <link rel="alternate" href="https://campusempresa.com/react/class-components" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/react/class-components" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/react/class-components" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/react/class-components" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/react/class-components" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='functional-components'>&#x25C4;Componentes Funcionales</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Componentes de Clase</a>
	</div>
	<div class='col-4 text-end'>
					<a href='props-in-react'>Props en React &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a los Componentes de Clase</h1>
<div class='content'><p>Los componentes de clase son uno de los bloques de construcción fundamentales en React, especialmente en bases de código más antiguas. Permiten crear componentes con lógica y gestión de estado más complejas en comparación con los componentes funcionales. Aunque los componentes funcionales con hooks son más comunes en el desarrollo moderno de React, entender los componentes de clase es crucial para mantener y comprender el código heredado.</p>
</div><h1>Creación de un Componente de Clase</h1>
<div class='content'><p>Para crear un componente de clase en React, necesitas extender la clase <code>React.Component</code> y definir un método <code>render</code> que devuelva el JSX a renderizar.</p>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKCmNsYXNzIFdlbGNvbWUgZXh0ZW5kcyBDb21wb25lbnQgewogIHJlbmRlcigpIHsKICAgIHJldHVybiA8aDE+SGVsbG8sIHt0aGlzLnByb3BzLm5hbWV9PC9oMT47CiAgfQp9CgpleHBvcnQgZGVmYXVsdCBXZWxjb21lOw=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { Component } from 'react';

class Welcome extends Component {
  render() {
    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;
  }
}

export default Welcome;</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><code>import React, { Component } from 'react';</code>: Importa React y la clase <code>Component</code> de la biblioteca de React.</li>
<li><code>class Welcome extends Component { ... }</code>: Define una nueva clase <code>Welcome</code> que extiende <code>React.Component</code>.</li>
<li><code>render() { ... }</code>: Cada componente de clase debe tener un método <code>render</code> que devuelva JSX.</li>
<li><code>this.props.name</code>: Accede a las props pasadas al componente usando <code>this.props</code>.</li>
</ul>
</div><h1>Estado en Componentes de Clase</h1>
<div class='content'><p>Los componentes de clase pueden mantener y gestionar su propio estado utilizando el objeto <code>this.state</code>.</p>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKCmNsYXNzIENvdW50ZXIgZXh0ZW5kcyBDb21wb25lbnQgewogIGNvbnN0cnVjdG9yKHByb3BzKSB7CiAgICBzdXBlcihwcm9wcyk7CiAgICB0aGlzLnN0YXRlID0geyBjb3VudDogMCB9OwogIH0KCiAgaW5jcmVtZW50ID0gKCkgPT4gewogICAgdGhpcy5zZXRTdGF0ZSh7IGNvdW50OiB0aGlzLnN0YXRlLmNvdW50ICsgMSB9KTsKICB9OwoKICByZW5kZXIoKSB7CiAgICByZXR1cm4gKAogICAgICA8ZGl2PgogICAgICAgIDxwPkNvdW50OiB7dGhpcy5zdGF0ZS5jb3VudH08L3A+CiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmluY3JlbWVudH0+SW5jcmVtZW50PC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgKTsKICB9Cn0KCmV4cG9ydCBkZWZhdWx0IENvdW50ZXI7"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { Component } from 'react';

class Counter extends Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
  }

  increment = () =&gt; {
    this.setState({ count: this.state.count + 1 });
  };

  render() {
    return (
      &lt;div&gt;
        &lt;p&gt;Count: {this.state.count}&lt;/p&gt;
        &lt;button onClick={this.increment}&gt;Increment&lt;/button&gt;
      &lt;/div&gt;
    );
  }
}

export default Counter;</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><code>constructor(props) { ... }</code>: Inicializa el estado del componente en el constructor.</li>
<li><code>this.state = { count: 0 };</code>: Establece el estado inicial.</li>
<li><code>this.setState({ count: this.state.count + 1 });</code>: Actualiza el estado usando <code>setState</code>.</li>
<li><code>onClick={this.increment}</code>: Vincula el método <code>increment</code> al evento <code>onClick</code> del botón.</li>
</ul>
</div><h1>Métodos del Ciclo de Vida</h1>
<div class='content'><p>Los componentes de clase vienen con varios métodos del ciclo de vida que te permiten ejecutar código en puntos específicos del ciclo de vida de un componente.</p>
</div><h2>Métodos Comunes del Ciclo de Vida</h2>
<div class='content'><ul>
<li><code>componentDidMount()</code>: Llamado después de que el componente se monta.</li>
<li><code>componentDidUpdate(prevProps, prevState)</code>: Llamado después de que el componente se actualiza.</li>
<li><code>componentWillUnmount()</code>: Llamado antes de que el componente se desmonte y destruya.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKCmNsYXNzIFRpbWVyIGV4dGVuZHMgQ29tcG9uZW50IHsKICBjb25zdHJ1Y3Rvcihwcm9wcykgewogICAgc3VwZXIocHJvcHMpOwogICAgdGhpcy5zdGF0ZSA9IHsgc2Vjb25kczogMCB9OwogIH0KCiAgY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy50aWNrKCksIDEwMDApOwogIH0KCiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7CiAgICBpZiAodGhpcy5zdGF0ZS5zZWNvbmRzICE9PSBwcmV2U3RhdGUuc2Vjb25kcykgewogICAgICBjb25zb2xlLmxvZyhgU2Vjb25kcyB1cGRhdGVkOiAke3RoaXMuc3RhdGUuc2Vjb25kc31gKTsKICAgIH0KICB9CgogIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTsKICB9CgogIHRpY2soKSB7CiAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7CiAgICAgIHNlY29uZHM6IHN0YXRlLnNlY29uZHMgKyAxCiAgICB9KSk7CiAgfQoKICByZW5kZXIoKSB7CiAgICByZXR1cm4gKAogICAgICA8ZGl2PgogICAgICAgIDxwPlNlY29uZHM6IHt0aGlzLnN0YXRlLnNlY29uZHN9PC9wPgogICAgICA8L2Rpdj4KICAgICk7CiAgfQp9CgpleHBvcnQgZGVmYXVsdCBUaW1lcjs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { Component } from 'react';

class Timer extends Component {
  constructor(props) {
    super(props);
    this.state = { seconds: 0 };
  }

  componentDidMount() {
    this.interval = setInterval(() =&gt; this.tick(), 1000);
  }

  componentDidUpdate(prevProps, prevState) {
    if (this.state.seconds !== prevState.seconds) {
      console.log(`Seconds updated: ${this.state.seconds}`);
    }
  }

  componentWillUnmount() {
    clearInterval(this.interval);
  }

  tick() {
    this.setState(state =&gt; ({
      seconds: state.seconds + 1
    }));
  }

  render() {
    return (
      &lt;div&gt;
        &lt;p&gt;Seconds: {this.state.seconds}&lt;/p&gt;
      &lt;/div&gt;
    );
  }
}

export default Timer;</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li><code>componentDidMount()</code>: Inicia un temporizador cuando el componente se monta.</li>
<li><code>componentDidUpdate(prevProps, prevState)</code>: Registra un mensaje cada vez que el estado <code>seconds</code> se actualiza.</li>
<li><code>componentWillUnmount()</code>: Limpia el temporizador cuando el componente se desmonta.</li>
<li><code>tick()</code>: Incrementa el estado <code>seconds</code> cada segundo.</li>
</ul>
</div><h1>Props vs Estado</h1>
<div class='content'><p>Entender la diferencia entre props y estado es crucial en React.</p>
<p>| Característica | Props | Estado |
|----------------|-------|-------|
| Definición | Datos pasados al componente | Datos gestionados dentro del componente |
| Mutabilidad | Inmutable | Mutable |
| Uso | Solo lectura | Puede ser actualizado con <code>setState</code> |
| Fuente | Componente padre | Dentro del propio componente |</p>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKCmNsYXNzIERpc3BsYXkgZXh0ZW5kcyBDb21wb25lbnQgewogIHJlbmRlcigpIHsKICAgIHJldHVybiA8aDE+e3RoaXMucHJvcHMubWVzc2FnZX08L2gxPjsKICB9Cn0KCmNsYXNzIEFwcCBleHRlbmRzIENvbXBvbmVudCB7CiAgY29uc3RydWN0b3IocHJvcHMpIHsKICAgIHN1cGVyKHByb3BzKTsKICAgIHRoaXMuc3RhdGUgPSB7IG1lc3NhZ2U6ICdIZWxsbywgV29ybGQhJyB9OwogIH0KCiAgY2hhbmdlTWVzc2FnZSA9ICgpID0+IHsKICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlOiAnSGVsbG8sIFJlYWN0IScgfSk7CiAgfTsKCiAgcmVuZGVyKCkgewogICAgcmV0dXJuICgKICAgICAgPGRpdj4KICAgICAgICA8RGlzcGxheSBtZXNzYWdlPXt0aGlzLnN0YXRlLm1lc3NhZ2V9IC8+CiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNoYW5nZU1lc3NhZ2V9PkNoYW5nZSBNZXNzYWdlPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgKTsKICB9Cn0KCmV4cG9ydCBkZWZhdWx0IEFwcDs="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { Component } from 'react';

class Display extends Component {
  render() {
    return &lt;h1&gt;{this.props.message}&lt;/h1&gt;;
  }
}

class App extends Component {
  constructor(props) {
    super(props);
    this.state = { message: 'Hello, World!' };
  }

  changeMessage = () =&gt; {
    this.setState({ message: 'Hello, React!' });
  };

  render() {
    return (
      &lt;div&gt;
        &lt;Display message={this.state.message} /&gt;
        &lt;button onClick={this.changeMessage}&gt;Change Message&lt;/button&gt;
      &lt;/div&gt;
    );
  }
}

export default App;</pre></div><div class='content'></div><h2>Explicación</h2>
<div class='content'><ul>
<li>El componente <code>Display</code> recibe <code>message</code> como una prop y la muestra.</li>
<li>El componente <code>App</code> gestiona el estado <code>message</code> y lo pasa a <code>Display</code> como una prop.</li>
<li>El método <code>changeMessage</code> actualiza el estado <code>message</code> cuando se hace clic en el botón.</li>
</ul>
</div><h1>Conclusión</h1>
<div class='content'><p>Los componentes de clase son una característica poderosa en React, permitiendo una gestión de estado compleja y métodos del ciclo de vida. Mientras que los componentes funcionales con hooks son más prevalentes en el desarrollo moderno de React, entender los componentes de clase es esencial para trabajar con código heredado y obtener una comprensión más profunda de las capacidades de React. Al dominar los componentes de clase, estarás bien equipado para manejar una amplia gama de escenarios en el desarrollo de React.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='functional-components'>&#x25C4;Componentes Funcionales</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Componentes de Clase</a>
	</div>
	<div class='col-4 text-end'>
					<a href='props-in-react'>Props en React &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Aceptar</a>
    <a href="/cookies">Mas información</a>
</div>	

	</div>    
</body>
</html>
