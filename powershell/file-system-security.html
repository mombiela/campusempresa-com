<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seguridad del Sistema de Archivos</title>

    <link rel="alternate" href="https://campusempresa.com/powershell/file-system-security" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/powershell/file-system-security" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/powershell/file-system-security" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/powershell/file-system-security" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/powershell/file-system-security" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='managing-file-paths'>&#x25C4;Gestionando Rutas de Archivos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Seguridad del Sistema de Archivos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='regular-expressions'>Expresiones Regulares &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>La seguridad del sistema de archivos es un aspecto crucial para gestionar y mantener un entorno seguro en cualquier sistema operativo. PowerShell proporciona cmdlets potentes para gestionar los permisos de archivos y carpetas, asegurando que solo los usuarios autorizados puedan acceder o modificar datos sensibles. Esta sección te guiará desde los conceptos básicos hasta los avanzados de la seguridad del sistema de archivos utilizando PowerShell.</p>
</div><h1>Conceptos Clave</h1>
<div class='content'><ul>
<li><strong>Permisos del Sistema de Archivos</strong>: Controlan quién puede leer, escribir o ejecutar archivos y directorios.</li>
<li><strong>Listas de Control de Acceso (ACLs)</strong>: Definen los permisos para usuarios y grupos.</li>
<li><strong>Identificadores de Seguridad (SIDs)</strong>: Valores únicos utilizados para identificar cuentas de usuario, grupo y computadora.</li>
<li><strong>Herencia</strong>: Los permisos pueden heredarse de directorios principales a elementos secundarios.</li>
</ul>
</div><h1>Seguridad Básica del Sistema de Archivos</h1>
<div class='content'></div><h2>Visualización de Permisos</h2>
<div class='content'><p>Para ver los permisos de un archivo o directorio, puedes usar el cmdlet <code>Get-Acl</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvOiBWaXN1YWxpemFjacOzbiBkZSBwZXJtaXNvcyBkZSB1biBhcmNoaXZvCkdldC1BY2wgLVBhdGggIkM6XGVqZW1wbG9cYXJjaGl2by50eHQi"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo: Visualizaci&oacute;n de permisos de un archivo
Get-Acl -Path &quot;C:\ejemplo\archivo.txt&quot;</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li><code>Get-Acl</code>: Recupera la lista de control de acceso (ACL) del archivo o directorio especificado.</li>
<li><code>-Path</code>: Especifica la ruta al archivo o directorio.</li>
</ul>
</div><h2>Configuración de Permisos</h2>
<div class='content'><p>Para configurar permisos, puedes usar el cmdlet <code>Set-Acl</code> junto con <code>Get-Acl</code> y <code>Set-Acl</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvOiBPdG9yZ2FyIGNvbnRyb2wgdG90YWwgYSB1biB1c3VhcmlvCiRhY2wgPSBHZXQtQWNsIC1QYXRoICJDOlxlamVtcGxvXGFyY2hpdm8udHh0IgokcGVybWlzbyA9ICJET01JTklPXFVzdWFyaW8iLCJGdWxsQ29udHJvbCIsIkFsbG93IgokcmVnbGFBY2Nlc28gPSBOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5BY2Nlc3NDb250cm9sLkZpbGVTeXN0ZW1BY2Nlc3NSdWxlICRwZXJtaXNvCiRhY2wuU2V0QWNjZXNzUnVsZSgkcmVnbGFBY2Nlc28pClNldC1BY2wgLVBhdGggIkM6XGVqZW1wbG9cYXJjaGl2by50eHQiIC1BY2xPYmplY3QgJGFjbA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo: Otorgar control total a un usuario
$acl = Get-Acl -Path &quot;C:\ejemplo\archivo.txt&quot;
$permiso = &quot;DOMINIO\Usuario&quot;,&quot;FullControl&quot;,&quot;Allow&quot;
$reglaAcceso = New-Object System.Security.AccessControl.FileSystemAccessRule $permiso
$acl.SetAccessRule($reglaAcceso)
Set-Acl -Path &quot;C:\ejemplo\archivo.txt&quot; -AclObject $acl</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li><code>$acl</code>: Almacena la ACL actual del archivo.</li>
<li><code>$permiso</code>: Define la regla de permiso.</li>
<li><code>$reglaAcceso</code>: Crea un nuevo objeto de regla de acceso.</li>
<li><code>$acl.SetAccessRule($reglaAcceso)</code>: Añade la nueva regla de acceso a la ACL.</li>
<li><code>Set-Acl</code>: Aplica la ACL modificada al archivo.</li>
</ul>
</div><h1>Seguridad Intermedia del Sistema de Archivos</h1>
<div class='content'></div><h2>Modificación de Permisos Heredados</h2>
<div class='content'><p>A veces, puede ser necesario modificar los permisos heredados. Esto se puede hacer usando el método <code>SetAccessRuleProtection</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvOiBNb2RpZmljYWNpw7NuIGRlIHBlcm1pc29zIGhlcmVkYWRvcwokYWNsID0gR2V0LUFjbCAtUGF0aCAiQzpcZWplbXBsb1xhcmNoaXZvLnR4dCIKJGFjbC5TZXRBY2Nlc3NSdWxlUHJvdGVjdGlvbigkdHJ1ZSwgJGZhbHNlKQpTZXQtQWNsIC1QYXRoICJDOlxlamVtcGxvXGFyY2hpdm8udHh0IiAtQWNsT2JqZWN0ICRhY2w="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo: Modificaci&oacute;n de permisos heredados
$acl = Get-Acl -Path &quot;C:\ejemplo\archivo.txt&quot;
$acl.SetAccessRuleProtection($true, $false)
Set-Acl -Path &quot;C:\ejemplo\archivo.txt&quot; -AclObject $acl</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li><code>$acl.SetAccessRuleProtection($true, $false)</code>: Desactiva la herencia y copia los permisos heredados como permisos explícitos.</li>
</ul>
</div><h2>Eliminación de Permisos</h2>
<div class='content'><p>Para eliminar permisos específicos, puedes usar el método <code>RemoveAccessRule</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvOiBFbGltaW5hY2nDs24gZGVsIHBlcm1pc28gZGUgdW4gdXN1YXJpbwokYWNsID0gR2V0LUFjbCAtUGF0aCAiQzpcZWplbXBsb1xhcmNoaXZvLnR4dCIKJHBlcm1pc28gPSAiRE9NSU5JT1xVc3VhcmlvIiwiRnVsbENvbnRyb2wiLCJBbGxvdyIKJHJlZ2xhQWNjZXNvID0gTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuQWNjZXNzQ29udHJvbC5GaWxlU3lzdGVtQWNjZXNzUnVsZSAkcGVybWlzbwokYWNsLlJlbW92ZUFjY2Vzc1J1bGUoJHJlZ2xhQWNjZXNvKQpTZXQtQWNsIC1QYXRoICJDOlxlamVtcGxvXGFyY2hpdm8udHh0IiAtQWNsT2JqZWN0ICRhY2w="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo: Eliminaci&oacute;n del permiso de un usuario
$acl = Get-Acl -Path &quot;C:\ejemplo\archivo.txt&quot;
$permiso = &quot;DOMINIO\Usuario&quot;,&quot;FullControl&quot;,&quot;Allow&quot;
$reglaAcceso = New-Object System.Security.AccessControl.FileSystemAccessRule $permiso
$acl.RemoveAccessRule($reglaAcceso)
Set-Acl -Path &quot;C:\ejemplo\archivo.txt&quot; -AclObject $acl</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li><code>$acl.RemoveAccessRule($reglaAcceso)</code>: Elimina la regla de acceso especificada de la ACL.</li>
</ul>
</div><h1>Seguridad Avanzada del Sistema de Archivos</h1>
<div class='content'></div><h2>Auditoría de Acceso a Archivos</h2>
<div class='content'><p>La auditoría te permite rastrear el acceso a archivos y directorios. Puedes configurar la auditoría usando el método <code>AddAuditRule</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvOiBBdWRpdG9yw61hIGRlIGFjY2VzbyBhIGFyY2hpdm9zCiRhY2wgPSBHZXQtQWNsIC1QYXRoICJDOlxlamVtcGxvXGFyY2hpdm8udHh0IgokcmVnbGFBdWRpdG9yaWEgPSBOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5BY2Nlc3NDb250cm9sLkZpbGVTeXN0ZW1BdWRpdFJ1bGUoIkRPTUlOSU9cVXN1YXJpbyIsICJSZWFkIiwgIlN1Y2Nlc3MiKQokYWNsLkFkZEF1ZGl0UnVsZSgkcmVnbGFBdWRpdG9yaWEpClNldC1BY2wgLVBhdGggIkM6XGVqZW1wbG9cYXJjaGl2by50eHQiIC1BY2xPYmplY3QgJGFjbA=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo: Auditor&iacute;a de acceso a archivos
$acl = Get-Acl -Path &quot;C:\ejemplo\archivo.txt&quot;
$reglaAuditoria = New-Object System.Security.AccessControl.FileSystemAuditRule(&quot;DOMINIO\Usuario&quot;, &quot;Read&quot;, &quot;Success&quot;)
$acl.AddAuditRule($reglaAuditoria)
Set-Acl -Path &quot;C:\ejemplo\archivo.txt&quot; -AclObject $acl</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li><code>$reglaAuditoria</code>: Crea un nuevo objeto de regla de auditoría.</li>
<li><code>$acl.AddAuditRule($reglaAuditoria)</code>: Añade la regla de auditoría a la ACL.</li>
</ul>
</div><h2>Gestión de Propiedad</h2>
<div class='content'><p>Puedes cambiar la propiedad de un archivo o directorio usando el método <code>SetOwner</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFamVtcGxvOiBDYW1iaW8gZGUgcHJvcGllZGFkIGRlIHVuIGFyY2hpdm8KJGFjbCA9IEdldC1BY2wgLVBhdGggIkM6XGVqZW1wbG9cYXJjaGl2by50eHQiCiRwcm9waWV0YXJpbyA9IFtTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLk5UQWNjb3VudF0iRE9NSU5JT1xVc3VhcmlvIgokYWNsLlNldE93bmVyKCRwcm9waWV0YXJpbykKU2V0LUFjbCAtUGF0aCAiQzpcZWplbXBsb1xhcmNoaXZvLnR4dCIgLUFjbE9iamVjdCAkYWNs"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Ejemplo: Cambio de propiedad de un archivo
$acl = Get-Acl -Path &quot;C:\ejemplo\archivo.txt&quot;
$propietario = [System.Security.Principal.NTAccount]&quot;DOMINIO\Usuario&quot;
$acl.SetOwner($propietario)
Set-Acl -Path &quot;C:\ejemplo\archivo.txt&quot; -AclObject $acl</pre></div><div class='content'><p>Explicación:</p>
<ul>
<li><code>$propietario</code>: Especifica el nuevo propietario.</li>
<li><code>$acl.SetOwner($propietario)</code>: Establece el nuevo propietario en la ACL.</li>
</ul>
</div><h1>Resumen</h1>
<div class='content'><p>En esta sección, has aprendido cómo gestionar la seguridad del sistema de archivos utilizando PowerShell. Desde la visualización y configuración de permisos, pasando por la modificación de permisos heredados, eliminación de permisos, auditoría de acceso a archivos y gestión de propiedad. Estas habilidades son esenciales para mantener un entorno de sistema de archivos seguro y asegurar que solo los usuarios autorizados tengan acceso a datos sensibles. Practica estos comandos y explora más para dominar la seguridad del sistema de archivos en PowerShell.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='managing-file-paths'>&#x25C4;Gestionando Rutas de Archivos</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Seguridad del Sistema de Archivos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='regular-expressions'>Expresiones Regulares &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
