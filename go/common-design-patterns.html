<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrones de Diseño Comunes en Go</title>

    <link rel="alternate" href="https://campusempresa.com/go/common-design-patterns" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/go/common-design-patterns" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/go/common-design-patterns" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/go/common-design-patterns" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/go/common-design-patterns" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='error-handling-best-practices'>&#x25C4;Mejores Prácticas de Manejo de Errores</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Patrones de Diseño Comunes en Go</a>
	</div>
	<div class='col-4 text-end'>
					<a href='performance-optimization'>Optimización del Rendimiento &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción a los Patrones de Diseño</h1>
<div class='content'><p>Los patrones de diseño son soluciones típicas a problemas comunes en el diseño de software. Son como planos que se pueden personalizar para resolver un problema de diseño particular en tu código. En esta sección, exploraremos algunos de los patrones de diseño más comunes utilizados en Go (Golang).</p>
</div><h1>Patrón Singleton</h1>
<div class='content'><p>El patrón Singleton asegura que una clase tenga solo una instancia y proporciona un punto de acceso global a ella.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Instancia Única</strong>: Solo se crea una instancia de la clase.</li>
<li><strong>Acceso Global</strong>: La instancia es accesible globalmente.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAoJImZtdCIKCSJzeW5jIgopCgp0eXBlIHNpbmdsZXRvbiBzdHJ1Y3R7fQoKdmFyIGluc3RhbmNlICpzaW5nbGV0b24KdmFyIG9uY2Ugc3luYy5PbmNlCgpmdW5jIEdldEluc3RhbmNlKCkgKnNpbmdsZXRvbiB7CglvbmNlLkRvKGZ1bmMoKSB7CgkJaW5zdGFuY2UgPSAmc2luZ2xldG9ue30KCX0pCglyZXR1cm4gaW5zdGFuY2UKfQoKZnVuYyBtYWluKCkgewoJczEgOj0gR2V0SW5zdGFuY2UoKQoJczIgOj0gR2V0SW5zdGFuY2UoKQoKCWlmIHMxID09IHMyIHsKCQlmbXQuUHJpbnRsbigiQW1iYXMgaW5zdGFuY2lhcyBzb24gaWd1YWxlcyIpCgl9IGVsc2UgewoJCWZtdC5QcmludGxuKCJMYXMgaW5zdGFuY2lhcyBzb24gZGlmZXJlbnRlcyIpCgl9Cn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
	&quot;fmt&quot;
	&quot;sync&quot;
)

type singleton struct{}

var instance *singleton
var once sync.Once

func GetInstance() *singleton {
	once.Do(func() {
		instance = &amp;singleton{}
	})
	return instance
}

func main() {
	s1 := GetInstance()
	s2 := GetInstance()

	if s1 == s2 {
		fmt.Println(&quot;Ambas instancias son iguales&quot;)
	} else {
		fmt.Println(&quot;Las instancias son diferentes&quot;)
	}
}</pre></div><div class='content'><p>En este ejemplo, <code>sync.Once</code> asegura que la instancia se cree solo una vez, incluso si múltiples goroutines intentan llamar a <code>GetInstance()</code> simultáneamente.</p>
</div><h1>Patrón Factory</h1>
<div class='content'><p>El patrón Factory proporciona una forma de crear objetos sin especificar la clase exacta del objeto que se creará.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Método Factory</strong>: Un método que devuelve una instancia de una clase.</li>
<li><strong>Desacoplamiento</strong>: El código del cliente está desacoplado del código de creación de objetos.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgImZtdCIKCnR5cGUgQW5pbWFsIGludGVyZmFjZSB7CglIYWJsYXIoKSBzdHJpbmcKfQoKdHlwZSBQZXJybyBzdHJ1Y3R7fQp0eXBlIEdhdG8gc3RydWN0e30KCmZ1bmMgKGQgUGVycm8pIEhhYmxhcigpIHN0cmluZyB7CglyZXR1cm4gIsKhR3VhdSEiCn0KCmZ1bmMgKGMgR2F0bykgSGFibGFyKCkgc3RyaW5nIHsKCXJldHVybiAiwqFNaWF1ISIKfQoKZnVuYyBBbmltYWxGYWN0b3J5KHRpcG9BbmltYWwgc3RyaW5nKSBBbmltYWwgewoJc3dpdGNoIHRpcG9BbmltYWwgewoJY2FzZSAicGVycm8iOgoJCXJldHVybiBQZXJyb3t9CgljYXNlICJnYXRvIjoKCQlyZXR1cm4gR2F0b3t9CglkZWZhdWx0OgoJCXJldHVybiBuaWwKCX0KfQoKZnVuYyBtYWluKCkgewoJcGVycm8gOj0gQW5pbWFsRmFjdG9yeSgicGVycm8iKQoJZ2F0byA6PSBBbmltYWxGYWN0b3J5KCJnYXRvIikKCglmbXQuUHJpbnRsbihwZXJyby5IYWJsYXIoKSkgLy8gU2FsaWRhOiDCoUd1YXUhCglmbXQuUHJpbnRsbihnYXRvLkhhYmxhcigpKSAgLy8gU2FsaWRhOiDCoU1pYXUhCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import &quot;fmt&quot;

type Animal interface {
	Hablar() string
}

type Perro struct{}
type Gato struct{}

func (d Perro) Hablar() string {
	return &quot;&iexcl;Guau!&quot;
}

func (c Gato) Hablar() string {
	return &quot;&iexcl;Miau!&quot;
}

func AnimalFactory(tipoAnimal string) Animal {
	switch tipoAnimal {
	case &quot;perro&quot;:
		return Perro{}
	case &quot;gato&quot;:
		return Gato{}
	default:
		return nil
	}
}

func main() {
	perro := AnimalFactory(&quot;perro&quot;)
	gato := AnimalFactory(&quot;gato&quot;)

	fmt.Println(perro.Hablar()) // Salida: &iexcl;Guau!
	fmt.Println(gato.Hablar())  // Salida: &iexcl;Miau!
}</pre></div><div class='content'><p>En este ejemplo, la función <code>AnimalFactory</code> crea instancias de <code>Perro</code> o <code>Gato</code> según la cadena de entrada.</p>
</div><h1>Patrón Observer</h1>
<div class='content'><p>El patrón Observer define una dependencia de uno a muchos entre objetos de modo que cuando un objeto cambia de estado, todos sus dependientes son notificados y actualizados automáticamente.</p>
</div><h2>Conceptos Clave</h2>
<div class='content'><ul>
<li><strong>Sujeto</strong>: El objeto que está siendo observado.</li>
<li><strong>Observador</strong>: Los objetos que observan al sujeto.</li>
</ul>
</div><h2>Ejemplo</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgImZtdCIKCnR5cGUgT2JzZXJ2YWRvciBpbnRlcmZhY2UgewoJQWN0dWFsaXphcihzdHJpbmcpCn0KCnR5cGUgU3VqZXRvIGludGVyZmFjZSB7CglSZWdpc3RyYXIoT2JzZXJ2YWRvcikKCURhckRlQmFqYShPYnNlcnZhZG9yKQoJTm90aWZpY2FyQVRvZG9zKCkKfQoKdHlwZSBBcnRpY3VsbyBzdHJ1Y3QgewoJb2JzZXJ2YWRvcmVzIFtdT2JzZXJ2YWRvcgoJbm9tYnJlICAgICAgIHN0cmluZwoJZW5TdG9jayAgICAgIGJvb2wKfQoKZnVuYyBOdWV2b0FydGljdWxvKG5vbWJyZSBzdHJpbmcpICpBcnRpY3VsbyB7CglyZXR1cm4gJkFydGljdWxvewoJCW5vbWJyZTogbm9tYnJlLAoJfQp9CgpmdW5jIChhICpBcnRpY3VsbykgQWN0dWFsaXphckRpc3BvbmliaWxpZGFkKCkgewoJZm10LlByaW50ZigiRWwgYXJ0w61jdWxvICVzIGVzdMOhIGFob3JhIGVuIHN0b2NrXG4iLCBhLm5vbWJyZSkKCWEuZW5TdG9jayA9IHRydWUKCWEuTm90aWZpY2FyQVRvZG9zKCkKfQoKZnVuYyAoYSAqQXJ0aWN1bG8pIFJlZ2lzdHJhcihvIE9ic2VydmFkb3IpIHsKCWEub2JzZXJ2YWRvcmVzID0gYXBwZW5kKGEub2JzZXJ2YWRvcmVzLCBvKQp9CgpmdW5jIChhICpBcnRpY3VsbykgRGFyRGVCYWphKG8gT2JzZXJ2YWRvcikgewoJYS5vYnNlcnZhZG9yZXMgPSBlbGltaW5hckRlU2xpY2UoYS5vYnNlcnZhZG9yZXMsIG8pCn0KCmZ1bmMgKGEgKkFydGljdWxvKSBOb3RpZmljYXJBVG9kb3MoKSB7Cglmb3IgXywgb2JzZXJ2YWRvciA6PSByYW5nZSBhLm9ic2VydmFkb3JlcyB7CgkJb2JzZXJ2YWRvci5BY3R1YWxpemFyKGEubm9tYnJlKQoJfQp9CgpmdW5jIGVsaW1pbmFyRGVTbGljZShvYnNlcnZhZG9yZXMgW11PYnNlcnZhZG9yLCBvYnNlcnZhZG9yQUVsaW1pbmFyIE9ic2VydmFkb3IpIFtdT2JzZXJ2YWRvciB7Cglmb3IgaSwgb2JzZXJ2YWRvciA6PSByYW5nZSBvYnNlcnZhZG9yZXMgewoJCWlmIG9ic2VydmFkb3IgPT0gb2JzZXJ2YWRvckFFbGltaW5hciB7CgkJCXJldHVybiBhcHBlbmQob2JzZXJ2YWRvcmVzWzppXSwgb2JzZXJ2YWRvcmVzW2krMTpdLi4uKQoJCX0KCX0KCXJldHVybiBvYnNlcnZhZG9yZXMKfQoKdHlwZSBDbGllbnRlIHN0cnVjdCB7CglpZCBzdHJpbmcKfQoKZnVuYyAoYyAqQ2xpZW50ZSkgQWN0dWFsaXphcihub21icmVBcnRpY3VsbyBzdHJpbmcpIHsKCWZtdC5QcmludGYoIkVudmlhbmRvIGNvcnJlbyBhbCBjbGllbnRlICVzIHBvciBlbCBhcnTDrWN1bG8gJXNcbiIsIGMuaWQsIG5vbWJyZUFydGljdWxvKQp9CgpmdW5jIG1haW4oKSB7CglhcnRpY3Vsb0NhbWlzZXRhIDo9IE51ZXZvQXJ0aWN1bG8oIkNhbWlzZXRhIE5pa2UiKQoJY2xpZW50ZTEgOj0gJkNsaWVudGV7aWQ6ICJhYmNAZ21haWwuY29tIn0KCWNsaWVudGUyIDo9ICZDbGllbnRle2lkOiAieHl6QGdtYWlsLmNvbSJ9CgoJYXJ0aWN1bG9DYW1pc2V0YS5SZWdpc3RyYXIoY2xpZW50ZTEpCglhcnRpY3Vsb0NhbWlzZXRhLlJlZ2lzdHJhcihjbGllbnRlMikKCglhcnRpY3Vsb0NhbWlzZXRhLkFjdHVhbGl6YXJEaXNwb25pYmlsaWRhZCgpCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import &quot;fmt&quot;

type Observador interface {
	Actualizar(string)
}

type Sujeto interface {
	Registrar(Observador)
	DarDeBaja(Observador)
	NotificarATodos()
}

type Articulo struct {
	observadores []Observador
	nombre       string
	enStock      bool
}

func NuevoArticulo(nombre string) *Articulo {
	return &amp;Articulo{
		nombre: nombre,
	}
}

func (a *Articulo) ActualizarDisponibilidad() {
	fmt.Printf(&quot;El art&iacute;culo %s est&aacute; ahora en stock\n&quot;, a.nombre)
	a.enStock = true
	a.NotificarATodos()
}

func (a *Articulo) Registrar(o Observador) {
	a.observadores = append(a.observadores, o)
}

func (a *Articulo) DarDeBaja(o Observador) {
	a.observadores = eliminarDeSlice(a.observadores, o)
}

func (a *Articulo) NotificarATodos() {
	for _, observador := range a.observadores {
		observador.Actualizar(a.nombre)
	}
}

func eliminarDeSlice(observadores []Observador, observadorAEliminar Observador) []Observador {
	for i, observador := range observadores {
		if observador == observadorAEliminar {
			return append(observadores[:i], observadores[i+1:]...)
		}
	}
	return observadores
}

type Cliente struct {
	id string
}

func (c *Cliente) Actualizar(nombreArticulo string) {
	fmt.Printf(&quot;Enviando correo al cliente %s por el art&iacute;culo %s\n&quot;, c.id, nombreArticulo)
}

func main() {
	articuloCamiseta := NuevoArticulo(&quot;Camiseta Nike&quot;)
	cliente1 := &amp;Cliente{id: &quot;abc@gmail.com&quot;}
	cliente2 := &amp;Cliente{id: &quot;xyz@gmail.com&quot;}

	articuloCamiseta.Registrar(cliente1)
	articuloCamiseta.Registrar(cliente2)

	articuloCamiseta.ActualizarDisponibilidad()
}</pre></div><div class='content'><p>En este ejemplo, <code>Articulo</code> es el sujeto que está siendo observado, y <code>Cliente</code> es el observador que es notificado cuando cambia la disponibilidad del artículo.</p>
</div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, cubrimos algunos de los patrones de diseño más comunes en Go: Singleton, Factory y Observer. Cada uno de estos patrones proporciona una forma diferente de resolver problemas comunes de diseño, haciendo que tu código sea más modular, flexible y mantenible. Entender e implementar estos patrones te ayudará a escribir mejores programas en Go y te preparará para temas más avanzados en diseño de software.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='error-handling-best-practices'>&#x25C4;Mejores Prácticas de Manejo de Errores</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Patrones de Diseño Comunes en Go</a>
	</div>
	<div class='col-4 text-end'>
					<a href='performance-optimization'>Optimización del Rendimiento &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
