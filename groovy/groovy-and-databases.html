<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groovy y Bases de Datos</title>

    <link rel="alternate" href="https://campusempresa.com/groovy/groovy-and-databases" hreflang="es" />
	<link rel="alternate" href="https://campusempresa.cat/groovy/groovy-and-databases" hreflang="ca" />
	<link rel="alternate" href="https://enterprisecampus.net/groovy/groovy-and-databases" hreflang="en" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construyendo la sociedad de hoy y del mañana</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
										<a href="https://enterprisecampus.net/groovy/groovy-and-databases" class="px-2">EN</a></b>
				|
				<b class="px-2">ES</b>
				|
				<a href="https://campusempresa.cat/groovy/groovy-and-databases" class="px-2">CA</a>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/objective">El Proyecto</a>
				<a href="/about">Sobre nosotros</a>
				<a href="/contribute">Contribuir</a>
				<a href="/donate">Donaciones</a>
				<a href="/licence">Licencia</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='groovy-for-scripting'>&#x25C4;Groovy para Scripting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Groovy y Bases de Datos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='testing-with-groovy'>Pruebas con Groovy &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducción</h1>
<div class='content'><p>Groovy es un lenguaje poderoso, opcionalmente tipado y dinámico, con capacidades de tipado estático y compilación estática, para la plataforma Java, destinado a mejorar la productividad del desarrollador. Una de sus fortalezas es su integración perfecta con bases de datos. Esta sección cubrirá cómo interactuar con bases de datos usando Groovy, desde operaciones básicas hasta técnicas avanzadas.</p>
</div><h1>Configuración del Entorno</h1>
<div class='content'><p>Antes de sumergirse en las operaciones de bases de datos, asegúrese de tener las herramientas y bibliotecas necesarias instaladas.</p>
<ul>
<li><strong>Instalación de Groovy</strong>: Asegúrese de que Groovy esté instalado en su sistema.</li>
<li><strong>Base de Datos</strong>: Tenga una base de datos (por ejemplo, MySQL, PostgreSQL) configurada y en funcionamiento.</li>
<li><strong>Controlador JDBC</strong>: Descargue el controlador JDBC para su base de datos.</li>
</ul>
</div><h2>Ejemplo: Configuración de una Base de Datos MySQL</h2>
<div class='content'><ol>
<li><strong>Instalar MySQL</strong>: Siga las instrucciones de instalación para su sistema operativo.</li>
<li><strong>Crear una Base de Datos</strong>:
<pre><code class="language-sql">CREATE DATABASE groovydb;
CREATE USER 'groovyuser'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON groovydb.* TO 'groovyuser'@'localhost';
FLUSH PRIVILEGES;
</code></pre>
</li>
</ol>
</div><h1>Conectarse a una Base de Datos</h1>
<div class='content'><p>Groovy proporciona una manera sencilla de conectarse a bases de datos usando la clase <code>groovy.sql.Sql</code>.</p>
</div><h2>Ejemplo: Conectarse a MySQL</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QEdyYWJDb25maWcoc3lzdGVtQ2xhc3NMb2FkZXI9dHJ1ZSkKQEdyYWIoJ215c3FsOm15c3FsLWNvbm5lY3Rvci1qYXZhOjguMC4yMycpCgppbXBvcnQgZ3Jvb3Z5LnNxbC5TcWwKCmRlZiBkYlVybCA9ICdqZGJjOm15c3FsOi8vbG9jYWxob3N0OjMzMDYvZ3Jvb3Z5ZGInCmRlZiBkYlVzZXIgPSAnZ3Jvb3Z5dXNlcicKZGVmIGRiUGFzc3dvcmQgPSAncGFzc3dvcmQnCmRlZiBkcml2ZXIgPSAnY29tLm15c3FsLmNqLmpkYmMuRHJpdmVyJwoKU3FsIHNxbCA9IFNxbC5uZXdJbnN0YW5jZShkYlVybCwgZGJVc2VyLCBkYlBhc3N3b3JkLCBkcml2ZXIpCnByaW50bG4gIsKhQ29uZWN0YWRvIGEgbGEgYmFzZSBkZSBkYXRvcyEi"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@GrabConfig(systemClassLoader=true)
@Grab('mysql:mysql-connector-java:8.0.23')

import groovy.sql.Sql

def dbUrl = 'jdbc:mysql://localhost:3306/groovydb'
def dbUser = 'groovyuser'
def dbPassword = 'password'
def driver = 'com.mysql.cj.jdbc.Driver'

Sql sql = Sql.newInstance(dbUrl, dbUser, dbPassword, driver)
println &quot;&iexcl;Conectado a la base de datos!&quot;</pre></div><div class='content'></div><h1>Operaciones CRUD Básicas</h1>
<div class='content'><p>CRUD significa Crear, Leer, Actualizar y Eliminar. Estas son las operaciones básicas que puede realizar en una base de datos.</p>
</div><h2>Crear</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmV4ZWN1dGUoJycnCiAgICBDUkVBVEUgVEFCTEUgdXNlcnMgKAogICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSwKICAgICAgICBuYW1lIFZBUkNIQVIoMTAwKSwKICAgICAgICBlbWFpbCBWQVJDSEFSKDEwMCkKICAgICkKJycnKQoKc3FsLmV4ZWN1dGUoIklOU0VSVCBJTlRPIHVzZXJzIChuYW1lLCBlbWFpbCkgVkFMVUVTICgnSm9obiBEb2UnLCAnam9obi5kb2VAZXhhbXBsZS5jb20nKSIp"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.execute('''
    CREATE TABLE users (
        id INT AUTO_INCREMENT PRIMARY KEY,
        name VARCHAR(100),
        email VARCHAR(100)
    )
''')

sql.execute(&quot;INSERT INTO users (name, email) VALUES ('John Doe', 'john.doe@example.com')&quot;)</pre></div><div class='content'></div><h2>Leer</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmVhY2hSb3coJ1NFTEVDVCAqIEZST00gdXNlcnMnKSB7IHJvdyAtPgogICAgcHJpbnRsbiAiSUQ6ICR7cm93LmlkfSwgTm9tYnJlOiAke3Jvdy5uYW1lfSwgRW1haWw6ICR7cm93LmVtYWlsfSIKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.eachRow('SELECT * FROM users') { row -&gt;
    println &quot;ID: ${row.id}, Nombre: ${row.name}, Email: ${row.email}&quot;
}</pre></div><div class='content'></div><h2>Actualizar</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmV4ZWN1dGVVcGRhdGUoIlVQREFURSB1c2VycyBTRVQgZW1haWwgPSAnam9obi5uZXdAZXhhbXBsZS5jb20nIFdIRVJFIG5hbWUgPSAnSm9obiBEb2UnIik="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.executeUpdate(&quot;UPDATE users SET email = 'john.new@example.com' WHERE name = 'John Doe'&quot;)</pre></div><div class='content'></div><h2>Eliminar</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmV4ZWN1dGUoIkRFTEVURSBGUk9NIHVzZXJzIFdIRVJFIG5hbWUgPSAnSm9obiBEb2UnIik="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.execute(&quot;DELETE FROM users WHERE name = 'John Doe'&quot;)</pre></div><div class='content'></div><h1>Operaciones Avanzadas de Base de Datos</h1>
<h2>Transacciones</h2>
<div class='content'><p>Las transacciones aseguran que una serie de operaciones de base de datos se ejecuten como una sola unidad de trabajo.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLndpdGhUcmFuc2FjdGlvbiB7CiAgICBzcWwuZXhlY3V0ZSgiSU5TRVJUIElOVE8gdXNlcnMgKG5hbWUsIGVtYWlsKSBWQUxVRVMgKCdKYW5lIERvZScsICdqYW5lLmRvZUBleGFtcGxlLmNvbScpIikKICAgIHNxbC5leGVjdXRlKCJVUERBVEUgdXNlcnMgU0VUIGVtYWlsID0gJ2phbmUubmV3QGV4YW1wbGUuY29tJyBXSEVSRSBuYW1lID0gJ0phbmUgRG9lJyIpCn0="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.withTransaction {
    sql.execute(&quot;INSERT INTO users (name, email) VALUES ('Jane Doe', 'jane.doe@example.com')&quot;)
    sql.execute(&quot;UPDATE users SET email = 'jane.new@example.com' WHERE name = 'Jane Doe'&quot;)
}</pre></div><div class='content'></div><h2>Sentencias Preparadas</h2>
<div class='content'><p>Las sentencias preparadas ayudan a prevenir la inyección SQL y mejoran el rendimiento.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGluc2VydFVzZXIgPSBzcWwuZXhlY3V0ZUluc2VydCgnSU5TRVJUIElOVE8gdXNlcnMgKG5hbWUsIGVtYWlsKSBWQUxVRVMgKD8sID8pJywgWydBbGljZScsICdhbGljZUBleGFtcGxlLmNvbSddKQpwcmludGxuICJVc3VhcmlvIGluc2VydGFkbyBjb24gSUQ6ICR7aW5zZXJ0VXNlclswXVswXX0i"))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def insertUser = sql.executeInsert('INSERT INTO users (name, email) VALUES (?, ?)', ['Alice', 'alice@example.com'])
println &quot;Usuario insertado con ID: ${insertUser[0][0]}&quot;</pre></div><div class='content'></div><h2>Manejo de Conjuntos de Resultados Grandes</h2>
<div class='content'><p>Para conjuntos de resultados grandes, use <code>eachRow</code> con un closure para procesar filas una a la vez.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmVhY2hSb3coJ1NFTEVDVCAqIEZST00gdXNlcnMnKSB7IHJvdyAtPgogICAgcHJpbnRsbiAiSUQ6ICR7cm93LmlkfSwgTm9tYnJlOiAke3Jvdy5uYW1lfSwgRW1haWw6ICR7cm93LmVtYWlsfSIKfQ=="))));alert("¡Copiado!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.eachRow('SELECT * FROM users') { row -&gt;
    println &quot;ID: ${row.id}, Nombre: ${row.name}, Email: ${row.email}&quot;
}</pre></div><div class='content'></div><h1>Conclusión</h1>
<div class='content'><p>En esta sección, cubrimos cómo interactuar con bases de datos usando Groovy. Comenzamos con la configuración del entorno, luego pasamos a las operaciones CRUD básicas, y finalmente exploramos técnicas avanzadas como transacciones y sentencias preparadas. Con estas habilidades, puede gestionar eficientemente las operaciones de bases de datos en sus aplicaciones Groovy.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='groovy-for-scripting'>&#x25C4;Groovy para Scripting</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Groovy y Bases de Datos</a>
	</div>
	<div class='col-4 text-end'>
					<a href='testing-with-groovy'>Pruebas con Groovy &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicidad</h1>
			<p>Este espacio está destinado a publicidad.</p>
			<p>Si quieres ser patrocinador, contáctanos para incluir enlaces en esta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>¡Gracias por colaborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Todos los derechos reservados</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
