<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tècniques d'optimització en Fortran</title>

    <link rel="alternate" href="https://campusempresa.com/es/fortran/optimization-techniques" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/fortran/optimization-techniques" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/fortran/optimization-techniques" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/fortran/optimization-techniques" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>L'optimització és un aspecte crucial de la programació, especialment en la computació científica on el Fortran s'utilitza àmpliament. Aquesta secció cobrirà diverses tècniques d'optimització en Fortran, des de nivells bàsics fins a avançats.</p>
</div><h1>Tècniques bàsiques d'optimització</h1>
<div class='content'></div><h2>Llegibilitat i mantenibilitat del codi</h2>
<div class='content'><ul>
<li><strong>Comentaris:</strong> Utilitza comentaris per explicar seccions complexes del codi.</li>
<li><strong>Convencions de nomenclatura consistents:</strong> Utilitza noms de variables significatius.</li>
<li><strong>Programació modular:</strong> Divideix el codi en subrutines i funcions.</li>
</ul>
</div><h2>Optimització de bucles</h2>
<div class='content'><p>Els bucles són fonamentals en Fortran, i optimitzar-los pot millorar significativament el rendiment.</p>
<ul>
<li>
<p><strong>Desenrotllament de bucles:</strong> Expandeix manualment el bucle per disminuir la sobrecàrrega del control del bucle.</p>
<pre><code class="language-fortran">! Bucle original
do i = 1, 1000
    a(i) = a(i) + b(i)
end do

! Bucle desenrotllat
do i = 1, 1000, 4
    a(i) = a(i) + b(i)
    a(i+1) = a(i+1) + b(i+1)
    a(i+2) = a(i+2) + b(i+2)
    a(i+3) = a(i+3) + b(i+3)
end do
</code></pre>
</li>
<li>
<p><strong>Fusió de bucles:</strong> Combina bucles adjacents que iteren sobre el mateix rang.</p>
<pre><code class="language-fortran">! Bucles separats
do i = 1, 1000
    a(i) = b(i) + c(i)
end do
do i = 1, 1000
    d(i) = e(i) * f(i)
end do

! Bucle fusionat
do i = 1, 1000
    a(i) = b(i) + c(i)
    d(i) = e(i) * f(i)
end do
</code></pre>
</li>
</ul>
</div><h2>Operacions amb arrays</h2>
<div class='content'><ul>
<li>
<p><strong>Tall de arrays:</strong> Utilitza operacions amb arrays en lloc de bucles explícits.</p>
<pre><code class="language-fortran">! Utilitzant bucle explícit
do i = 1, 1000
    a(i) = b(i) + c(i)
end do

! Utilitzant tall de arrays
a(1:1000) = b(1:1000) + c(1:1000)
</code></pre>
</li>
</ul>
</div><h1>Tècniques d'optimització intermèdies</h1>
<div class='content'></div><h2>Gestió de memòria</h2>
<div class='content'><ul>
<li>
<p><strong>Evitar fuites de memòria:</strong> Assegura't que la memòria dinàmicament assignada es desallotgi correctament.</p>
<pre><code class="language-fortran">allocate(a(1000))
! ... utilitza l'array ...
deallocate(a)
</code></pre>
</li>
<li>
<p><strong>Accés eficient a la memòria:</strong> Accedeix a la memòria de manera que aprofiti la localitat de la memòria cau.</p>
<pre><code class="language-fortran">! Accés ineficient a la memòria
do j = 1, 1000
    do i = 1, 1000
        a(i, j) = b(i, j) + c(i, j)
    end do
end do

! Accés eficient a la memòria
do i = 1, 1000
    do j = 1, 1000
        a(i, j) = b(i, j) + c(i, j)
    end do
end do
</code></pre>
</li>
</ul>
</div><h2>Flags d'optimització del compilador</h2>
<div class='content'><ul>
<li>
<p><strong>Utilitzant flags d'optimització:</strong> La majoria de compiladors Fortran ofereixen flags d'optimització que es poden utilitzar per optimitzar automàticament el codi.</p>
<pre><code class="language-sh">gfortran -O2 myprogram.f90 -o myprogram
</code></pre>
<p>| Flag | Descripció |
|------|-------------|
| -O1  | Optimització bàsica |
| -O2  | Optimització moderada |
| -O3  | Optimització d'alt nivell |
| -Ofast | Optimització agressiva, pot trencar la conformitat estàndard |</p>
</li>
</ul>
</div><h1>Tècniques d'optimització avançades</h1>
<div class='content'></div><h2>Computació paral·lela</h2>
<div class='content'><ul>
<li>
<p><strong>OpenMP:</strong> Utilitza directives OpenMP per paral·lelitzar bucles.</p>
<pre><code class="language-fortran">!$omp parallel do
do i = 1, 1000
    a(i) = b(i) + c(i)
end do
!$omp end parallel do
</code></pre>
</li>
<li>
<p><strong>MPI:</strong> Utilitza MPI per al paral·lelisme de memòria distribuïda.</p>
<pre><code class="language-fortran">program mpi_example
    use mpi
    integer :: rank, size, ierr

    call MPI_Init(ierr)
    call MPI_Comm_rank(MPI_COMM_WORLD, rank, ierr)
    call MPI_Comm_size(MPI_COMM_WORLD, size, ierr)

    print *, 'Hola des del rang ', rank, ' de ', size

    call MPI_Finalize(ierr)
end program mpi_example
</code></pre>
</li>
</ul>
</div><h2>Perfilat i anàlisi de rendiment</h2>
<div class='content'><ul>
<li>
<p><strong>Eines de perfilat:</strong> Utilitza eines com gprof o Intel VTune per identificar colls d'ampolla en el codi.</p>
<pre><code class="language-sh">gfortran -pg myprogram.f90 -o myprogram
./myprogram
gprof myprogram gmon.out &gt; analysis.txt
</code></pre>
</li>
<li>
<p><strong>Comptadors de rendiment:</strong> Utilitza comptadors de rendiment de maquinari per obtenir mètriques de rendiment detallades.</p>
</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>L'optimització en Fortran implica una combinació de bones pràctiques de codificació, gestió eficient de la memòria, optimitzacions del compilador i tècniques avançades com la computació paral·lela. Aplicant aquestes tècniques, pots millorar significativament el rendiment dels teus programes en Fortran. Recorda sempre perfilar el teu codi per identificar les seccions més crítiques que necessiten optimització.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
