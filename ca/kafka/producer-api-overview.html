<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Descripció general de l'API del productor</title>

    <link rel="alternate" href="https://campusempresa.com/es/kafka/producer-api-overview" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/kafka/producer-api-overview" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/kafka/producer-api-overview" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/kafka/producer-api-overview" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='kafka-message-format'>&#x25C4;Format de missatge de Kafka</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Descripció general de l'API del productor</a>
	</div>
	<div class='col-4 text-end'>
					<a href='sending-messages'>Enviament de missatges &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>L'API del productor en Apache Kafka és un component crucial que permet a les aplicacions enviar fluxos de dades a temes de Kafka. Entendre com utilitzar l'API del productor de manera efectiva és essencial per construir canals de dades robustos i aplicacions de transmissió en temps real.</p>
</div><h1>Conceptes clau</h1>
<div class='content'><ul>
<li><strong>Productor</strong>: Una aplicació que envia registres a un tema de Kafka.</li>
<li><strong>Tema</strong>: Una categoria o nom de feed al qual els productors envien registres.</li>
<li><strong>Partició</strong>: Una divisió d'un tema que permet el processament en paral·lel.</li>
<li><strong>Registre</strong>: Un parell clau-valor enviat a un tema de Kafka.</li>
</ul>
</div><h1>Configuració d'un productor de Kafka</h1>
<div class='content'><p>Per començar a utilitzar l'API del productor, cal configurar un productor de Kafka a la teva aplicació. A continuació es mostra una guia pas a pas per crear un productor de Kafka senzill en Java.</p>
</div><h2>Dependència de Maven</h2>
<div class='content'><p>Primer, afegeix la dependència del client de Kafka al teu fitxer <code>pom.xml</code> si estàs utilitzant Maven:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuYXBhY2hlLmthZmthPC9ncm91cElkPgogICAgPGFydGlmYWN0SWQ+a2Fma2EtY2xpZW50czwvYXJ0aWZhY3RJZD4KICAgIDx2ZXJzaW9uPjMuMC4wPC92ZXJzaW9uPgo8L2RlcGVuZGVuY3k+"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;
    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h2>Configuració del productor</h2>
<div class='content'><p>A continuació, configura les propietats del productor. Aquestes propietats inclouen l'adreça del broker de Kafka, els serialitzadors de clau i valor, i altres configuracions importants.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEudXRpbC5Qcm9wZXJ0aWVzOwppbXBvcnQgb3JnLmFwYWNoZS5rYWZrYS5jbGllbnRzLnByb2R1Y2VyLlByb2R1Y2VyQ29uZmlnOwppbXBvcnQgb3JnLmFwYWNoZS5rYWZrYS5jb21tb24uc2VyaWFsaXphdGlvbi5TdHJpbmdTZXJpYWxpemVyOwoKUHJvcGVydGllcyBwcm9wcyA9IG5ldyBQcm9wZXJ0aWVzKCk7CnByb3BzLnB1dChQcm9kdWNlckNvbmZpZy5CT09UU1RSQVBfU0VSVkVSU19DT05GSUcsICJsb2NhbGhvc3Q6OTA5MiIpOwpwcm9wcy5wdXQoUHJvZHVjZXJDb25maWcuS0VZX1NFUklBTElaRVJfQ0xBU1NfQ09ORklHLCBTdHJpbmdTZXJpYWxpemVyLmNsYXNzLmdldE5hbWUoKSk7CnByb3BzLnB1dChQcm9kdWNlckNvbmZpZy5WQUxVRV9TRVJJQUxJWkVSX0NMQVNTX0NPTkZJRywgU3RyaW5nU2VyaWFsaXplci5jbGFzcy5nZXROYW1lKCkpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.util.Properties;
import org.apache.kafka.clients.producer.ProducerConfig;
import org.apache.kafka.common.serialization.StringSerializer;

Properties props = new Properties();
props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);
props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());</pre></div><div class='content'></div><h2>Creació d'un productor</h2>
<div class='content'><p>Amb la configuració establerta, ara pots crear un productor de Kafka.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5hcGFjaGUua2Fma2EuY2xpZW50cy5wcm9kdWNlci5LYWZrYVByb2R1Y2VyOwppbXBvcnQgb3JnLmFwYWNoZS5rYWZrYS5jbGllbnRzLnByb2R1Y2VyLlByb2R1Y2VyOwoKUHJvZHVjZXI8U3RyaW5nLCBTdHJpbmc+IHByb2R1Y2VyID0gbmV3IEthZmthUHJvZHVjZXI8Pihwcm9wcyk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.apache.kafka.clients.producer.KafkaProducer;
import org.apache.kafka.clients.producer.Producer;

Producer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);</pre></div><div class='content'></div><h2>Enviament de missatges</h2>
<div class='content'><p>Per enviar missatges a un tema de Kafka, utilitza la classe <code>ProducerRecord</code> i el mètode <code>send</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5hcGFjaGUua2Fma2EuY2xpZW50cy5wcm9kdWNlci5Qcm9kdWNlclJlY29yZDsKClByb2R1Y2VyUmVjb3JkPFN0cmluZywgU3RyaW5nPiByZWNvcmQgPSBuZXcgUHJvZHVjZXJSZWNvcmQ8PigibXktdG9waWMiLCAia2V5IiwgInZhbHVlIik7CnByb2R1Y2VyLnNlbmQocmVjb3JkKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.apache.kafka.clients.producer.ProducerRecord;

ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(&quot;my-topic&quot;, &quot;key&quot;, &quot;value&quot;);
producer.send(record);</pre></div><div class='content'></div><h2>Tancament del productor</h2>
<div class='content'><p>Sempre tanca el productor per alliberar recursos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvZHVjZXIuY2xvc2UoKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>producer.close();</pre></div><div class='content'></div><h1>Configuracions avançades</h1>
<div class='content'><p>Per a casos d'ús més avançats, pots configurar propietats addicionals com ara:</p>
<ul>
<li><strong>acks</strong>: Determina el nombre de reconeixements que el productor requereix que el líder hagi rebut abans de considerar una sol·licitud completa.</li>
<li><strong>retries</strong>: Estableix el nombre de reintents si l'enviament falla.</li>
<li><strong>batch.size</strong>: Controla el nombre de registres enviats en un lot.</li>
</ul>
</div><h2>Exemple de configuració avançada</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvcHMucHV0KFByb2R1Y2VyQ29uZmlnLkFDS1NfQ09ORklHLCAiYWxsIik7CnByb3BzLnB1dChQcm9kdWNlckNvbmZpZy5SRVRSSUVTX0NPTkZJRywgMyk7CnByb3BzLnB1dChQcm9kdWNlckNvbmZpZy5CQVRDSF9TSVpFX0NPTkZJRywgMTYzODQpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>props.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);
props.put(ProducerConfig.RETRIES_CONFIG, 3);
props.put(ProducerConfig.BATCH_SIZE_CONFIG, 16384);</pre></div><div class='content'></div><h1>Gestió d'errors</h1>
<div class='content'><p>Una gestió adequada dels errors és crucial per garantir la integritat i la fiabilitat de les dades. Utilitza callbacks per gestionar errors durant l'operació d'enviament.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHJvZHVjZXIuc2VuZChyZWNvcmQsIChtZXRhZGF0YSwgZXhjZXB0aW9uKSAtPiB7CiAgICBpZiAoZXhjZXB0aW9uICE9IG51bGwpIHsKICAgICAgICBleGNlcHRpb24ucHJpbnRTdGFja1RyYWNlKCk7CiAgICB9IGVsc2UgewogICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiUmVnaXN0cmUgZW52aWF0IGFsIHRlbWEgIiArIG1ldGFkYXRhLnRvcGljKCkgKyAiIHBhcnRpY2nDsyAiICsgbWV0YWRhdGEucGFydGl0aW9uKCkgKyAiIGFtYiBkZXNwbGHDp2FtZW50ICIgKyBtZXRhZGF0YS5vZmZzZXQoKSk7CiAgICB9Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>producer.send(record, (metadata, exception) -&gt; {
    if (exception != null) {
        exception.printStackTrace();
    } else {
        System.out.println(&quot;Registre enviat al tema &quot; + metadata.topic() + &quot; partici&oacute; &quot; + metadata.partition() + &quot; amb despla&ccedil;ament &quot; + metadata.offset());
    }
});</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>L'API del productor de Kafka és una eina poderosa per enviar dades a temes de Kafka. Entenent la configuració bàsica, les opcions de configuració i els mecanismes de gestió d'errors, pots construir productors de dades eficients i fiables. A mesura que avancis, explora configuracions i optimitzacions més complexes per adaptar-te als teus casos d'ús específics.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='kafka-message-format'>&#x25C4;Format de missatge de Kafka</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Descripció general de l'API del productor</a>
	</div>
	<div class='col-4 text-end'>
					<a href='sending-messages'>Enviament de missatges &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
