<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/kafka/stream-processing-concepts" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció al Processament de Fluxos</h1>
<div class='content'><p>El processament de fluxos és un paradigma que permet el processament continu de fluxos de dades en temps real. A diferència del processament per lots tradicional, que processa dades en grans blocs a intervals programats, el processament de fluxos maneja les dades a mesura que arriben, permetent obtenir informació i accions immediates.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Fluxos de Dades</strong>: Flux continu de registres de dades.</li>
<li><strong>Processament en Temps Real</strong>: Processament immediat de les dades a mesura que arriben.</li>
<li><strong>Arquitectura Basada en Esdeveniments</strong>: Disseny del sistema que reacciona a esdeveniments o canvis d'estat.</li>
</ul>
</div><h1>Per què Utilitzar Kafka per al Processament de Fluxos?</h1>
<div class='content'><p>Apache Kafka és una plataforma de fluxos distribuïda que excel·leix en la gestió de fluxos de dades en temps real. Proporciona capacitats robustes per construir canonades de dades en temps real i aplicacions de fluxos.</p>
</div><h2>Característiques Clau de Kafka</h2>
<div class='content'><ul>
<li><strong>Escalabilitat</strong>: Kafka pot gestionar grans volums de dades amb facilitat.</li>
<li><strong>Tolerància a Fallades</strong>: Kafka està dissenyat per ser resilient a fallades de nodes.</li>
<li><strong>Durabilitat</strong>: Kafka assegura que les dades no es perdin fins i tot en cas de fallades.</li>
<li><strong>Alt Rendiment</strong>: Kafka pot processar milions de missatges per segon.</li>
</ul>
</div><h1>Components Bàsics de Kafka</h1>
<div class='content'><p>Entendre els components bàsics de Kafka és essencial per a un processament de fluxos efectiu.</p>
</div><h2>Temes i Particions</h2>
<div class='content'><ul>
<li><strong>Tema</strong>: Una categoria o nom de feed al qual es publiquen registres.</li>
<li><strong>Partició</strong>: Una divisió d'un tema que permet el processament en paral·lel.</li>
</ul>
</div><h2>Productors i Consumidors</h2>
<div class='content'><ul>
<li><strong>Productor</strong>: Una aplicació que envia registres a un tema de Kafka.</li>
<li><strong>Consumidor</strong>: Una aplicació que llegeix registres d'un tema de Kafka.</li>
</ul>
</div><h2>Brokers i Clústers</h2>
<div class='content'><ul>
<li><strong>Broker</strong>: Un servidor de Kafka que emmagatzema dades i serveix clients.</li>
<li><strong>Clúster</strong>: Un grup de brokers de Kafka que treballen junts.</li>
</ul>
</div><h1>Processament de Fluxos amb Kafka Streams</h1>
<div class='content'><p>Kafka Streams és una biblioteca client per construir aplicacions i microserveis, on les dades d'entrada i sortida s'emmagatzemen en clústers de Kafka.</p>
</div><h2>Conceptes Clau en Kafka Streams</h2>
<div class='content'><ul>
<li><strong>KStream</strong>: Representa un flux il·limitat de registres.</li>
<li><strong>KTable</strong>: Representa un flux de registre de canvis, on cada registre és una actualització.</li>
<li><strong>Processament amb Estat i Sense Estat</strong>: El processament amb estat manté l'estat entre registres, mentre que el processament sense estat no.</li>
</ul>
</div><h2>Exemple: Aplicació de Comptatge de Paraules</h2>
<div class='content'><p>A continuació es mostra un exemple senzill d'una aplicació de comptatge de paraules utilitzant Kafka Streams.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5hcGFjaGUua2Fma2Euc3RyZWFtcy5LYWZrYVN0cmVhbXM7CmltcG9ydCBvcmcuYXBhY2hlLmthZmthLnN0cmVhbXMuU3RyZWFtc0J1aWxkZXI7CmltcG9ydCBvcmcuYXBhY2hlLmthZmthLnN0cmVhbXMua3N0cmVhbS5LU3RyZWFtOwppbXBvcnQgb3JnLmFwYWNoZS5rYWZrYS5zdHJlYW1zLmtzdHJlYW0uS1RhYmxlOwppbXBvcnQgb3JnLmFwYWNoZS5rYWZrYS5zdHJlYW1zLmtzdHJlYW0uTWF0ZXJpYWxpemVkOwppbXBvcnQgb3JnLmFwYWNoZS5rYWZrYS5zdHJlYW1zLmtzdHJlYW0uUHJvZHVjZWQ7CmltcG9ydCBvcmcuYXBhY2hlLmthZmthLnN0cmVhbXMuU3RyZWFtc0NvbmZpZzsKCmltcG9ydCBqYXZhLnV0aWwuUHJvcGVydGllczsKCnB1YmxpYyBjbGFzcyBXb3JkQ291bnRBcHBsaWNhdGlvbiB7CiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgUHJvcGVydGllcyBwcm9wcyA9IG5ldyBQcm9wZXJ0aWVzKCk7CiAgICAgICAgcHJvcHMucHV0KFN0cmVhbXNDb25maWcuQVBQTElDQVRJT05fSURfQ09ORklHLCAid29yZGNvdW50LWFwcGxpY2F0aW9uIik7CiAgICAgICAgcHJvcHMucHV0KFN0cmVhbXNDb25maWcuQk9PVFNUUkFQX1NFUlZFUlNfQ09ORklHLCAibG9jYWxob3N0OjkwOTIiKTsKCiAgICAgICAgU3RyZWFtc0J1aWxkZXIgYnVpbGRlciA9IG5ldyBTdHJlYW1zQnVpbGRlcigpOwogICAgICAgIEtTdHJlYW08U3RyaW5nLCBTdHJpbmc+IHRleHRMaW5lcyA9IGJ1aWxkZXIuc3RyZWFtKCJUZXh0TGluZXNUb3BpYyIpOwogICAgICAgIEtUYWJsZTxTdHJpbmcsIExvbmc+IHdvcmRDb3VudHMgPSB0ZXh0TGluZXMKICAgICAgICAgICAgLmZsYXRNYXBWYWx1ZXModGV4dExpbmUgLT4gQXJyYXlzLmFzTGlzdCh0ZXh0TGluZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCJcXFcrIikpKQogICAgICAgICAgICAuZ3JvdXBCeSgoa2V5LCB3b3JkKSAtPiB3b3JkKQogICAgICAgICAgICAuY291bnQoTWF0ZXJpYWxpemVkLmFzKCJDb3VudHMiKSk7CgogICAgICAgIHdvcmRDb3VudHMudG9TdHJlYW0oKS50bygiV29yZHNXaXRoQ291bnRzVG9waWMiLCBQcm9kdWNlZC53aXRoKFNlcmRlcy5TdHJpbmcoKSwgU2VyZGVzLkxvbmcoKSkpOwoKICAgICAgICBLYWZrYVN0cmVhbXMgc3RyZWFtcyA9IG5ldyBLYWZrYVN0cmVhbXMoYnVpbGRlci5idWlsZCgpLCBwcm9wcyk7CiAgICAgICAgc3RyZWFtcy5zdGFydCgpOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.apache.kafka.streams.KafkaStreams;
import org.apache.kafka.streams.StreamsBuilder;
import org.apache.kafka.streams.kstream.KStream;
import org.apache.kafka.streams.kstream.KTable;
import org.apache.kafka.streams.kstream.Materialized;
import org.apache.kafka.streams.kstream.Produced;
import org.apache.kafka.streams.StreamsConfig;

import java.util.Properties;

public class WordCountApplication {
    public static void main(String[] args) {
        Properties props = new Properties();
        props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;wordcount-application&quot;);
        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);

        StreamsBuilder builder = new StreamsBuilder();
        KStream&lt;String, String&gt; textLines = builder.stream(&quot;TextLinesTopic&quot;);
        KTable&lt;String, Long&gt; wordCounts = textLines
            .flatMapValues(textLine -&gt; Arrays.asList(textLine.toLowerCase().split(&quot;\\W+&quot;)))
            .groupBy((key, word) -&gt; word)
            .count(Materialized.as(&quot;Counts&quot;));

        wordCounts.toStream().to(&quot;WordsWithCountsTopic&quot;, Produced.with(Serdes.String(), Serdes.Long()));

        KafkaStreams streams = new KafkaStreams(builder.build(), props);
        streams.start();
    }
}</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>Configuració de Propietats</strong>: Configura l'ID de l'aplicació i l'adreça del broker de Kafka.</li>
<li><strong>StreamsBuilder</strong>: Construeix la topologia de processament.</li>
<li><strong>KStream</strong>: Llegeix del &quot;TextLinesTopic&quot;.</li>
<li><strong>flatMapValues</strong>: Divideix cada línia en paraules.</li>
<li><strong>groupBy</strong>: Agrupa les paraules per comptar-les.</li>
<li><strong>count</strong>: Compta les ocurrències de cada paraula.</li>
<li><strong>toStream</strong>: Converteix el <code>KTable</code> de nou a un <code>KStream</code>.</li>
<li><strong>to</strong>: Escriu els resultats al &quot;WordsWithCountsTopic&quot;.</li>
</ul>
</div><h1>Tècniques Avançades de Processament de Fluxos</h1>
<div class='content'><p>A mesura que et familiaritzis amb Kafka Streams, pots explorar tècniques avançades per optimitzar i ampliar les teves aplicacions de processament de fluxos.</p>
</div><h2>Finestratge</h2>
<div class='content'><p>El finestratge permet agrupar registres basant-se en intervals de temps.</p>
<ul>
<li><strong>Finestres de Tumbling</strong>: Finestres de mida fixa i no superposades.</li>
<li><strong>Finestres de Hopping</strong>: Finestres de mida fixa i superposades.</li>
<li><strong>Finestres de Sliding</strong>: Finestres de mida variable que es desplacen amb el temps.</li>
</ul>
</div><h2>Unions</h2>
<div class='content'><p>Kafka Streams admet diversos tipus d'unions per combinar dades de diferents fluxos o taules.</p>
<ul>
<li><strong>Unió Flux-Flux</strong>: Uneix dos objectes <code>KStream</code>.</li>
<li><strong>Unió Flux-Taula</strong>: Uneix un <code>KStream</code> amb un <code>KTable</code>.</li>
<li><strong>Unió Taula-Taula</strong>: Uneix dos objectes <code>KTable</code>.</li>
</ul>
</div><h2>Exemple: Unió Flux-Flux</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("S1N0cmVhbTxTdHJpbmcsIFN0cmluZz4gbGVmdFN0cmVhbSA9IGJ1aWxkZXIuc3RyZWFtKCJMZWZ0VG9waWMiKTsKS1N0cmVhbTxTdHJpbmcsIFN0cmluZz4gcmlnaHRTdHJlYW0gPSBidWlsZGVyLnN0cmVhbSgiUmlnaHRUb3BpYyIpOwoKS1N0cmVhbTxTdHJpbmcsIFN0cmluZz4gam9pbmVkU3RyZWFtID0gbGVmdFN0cmVhbS5qb2luKAogICAgcmlnaHRTdHJlYW0sCiAgICAobGVmdFZhbHVlLCByaWdodFZhbHVlKSAtPiBsZWZ0VmFsdWUgKyAiIGpvaW5lZCB3aXRoICIgKyByaWdodFZhbHVlLAogICAgSm9pbldpbmRvd3Mub2YoRHVyYXRpb24ub2ZNaW51dGVzKDUpKQopOwoKam9pbmVkU3RyZWFtLnRvKCJKb2luZWRPdXRwdXRUb3BpYyIpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>KStream&lt;String, String&gt; leftStream = builder.stream(&quot;LeftTopic&quot;);
KStream&lt;String, String&gt; rightStream = builder.stream(&quot;RightTopic&quot;);

KStream&lt;String, String&gt; joinedStream = leftStream.join(
    rightStream,
    (leftValue, rightValue) -&gt; leftValue + &quot; joined with &quot; + rightValue,
    JoinWindows.of(Duration.ofMinutes(5))
);

joinedStream.to(&quot;JoinedOutputTopic&quot;);</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>join</strong>: Uneix registres de <code>leftStream</code> i <code>rightStream</code> dins d'una finestra de 5 minuts.</li>
<li><strong>JoinWindows</strong>: Especifica la mida de la finestra per a la unió.</li>
<li><strong>to</strong>: Escriu els registres units a &quot;JoinedOutputTopic&quot;.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>El processament de fluxos amb Kafka proporciona eines poderoses per al processament de dades en temps real. Entenent els conceptes bàsics, els components i les tècniques avançades, pots construir aplicacions de processament de fluxos robustes i escalables. Tant si estàs comptant paraules com si estàs unint fluxos, Kafka Streams ofereix la flexibilitat i el rendiment necessaris per a aplicacions modernes basades en dades.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
