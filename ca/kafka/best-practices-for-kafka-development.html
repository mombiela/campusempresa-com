<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Millors Pràctiques per al Desenvolupament amb Kafka</title>

    <link rel="alternate" href="https://campusempresa.com/es/kafka/best-practices-for-kafka-development" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/kafka/best-practices-for-kafka-development" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/kafka/best-practices-for-kafka-development" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/kafka/best-practices-for-kafka-development" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='real-world-kafka-use-cases'>&#x25C4; Usos reals de Kafka</a></div><div class='col-6 text-end'><a href='common-pitfalls-and-how-to-avoid-them'>Errors comuns i com evitar-los &#x25BA;</a></div></div><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Apache Kafka és una plataforma distribuïda de transmissió d'esdeveniments capaç de gestionar trilions d'esdeveniments al dia. És utilitzada per milers d'empreses per a diversos casos d'ús com analítiques en temps real, agregació de registres, i més. Aquesta secció cobrirà les millors pràctiques per al desenvolupament amb Kafka, des de la configuració del teu entorn fins a l'optimització del rendiment i l'assegurament de la fiabilitat.</p>
</div><h1>Configuració del Teu Entorn Kafka</h1>
<div class='content'><ul>
<li><strong>Utilitza la Versió Estable Més Recent</strong>: Utilitza sempre la versió estable més recent de Kafka per beneficiar-te de les últimes característiques i pegats de seguretat.</li>
<li><strong>Configuració del Clúster</strong>: Assegura't que el teu clúster Kafka estigui correctament configurat per al teu cas d'ús. Això inclou configurar el nombre correcte de brokers, particions i factors de rèplica.</li>
<li><strong>Configuració de Zookeeper</strong>: Kafka depèn de Zookeeper per gestionar les metadades del clúster. Assegura't que Zookeeper estigui correctament configurat i monitoritzat.</li>
</ul>
</div><h2>Exemple de Configuració</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXJ2ZXIucHJvcGVydGllcwpicm9rZXIuaWQ9MQpsb2cuZGlycz0vdmFyL2xpYi9rYWZrYQp6b29rZWVwZXIuY29ubmVjdD1sb2NhbGhvc3Q6MjE4MQpudW0ucGFydGl0aW9ucz0zCmRlZmF1bHQucmVwbGljYXRpb24uZmFjdG9yPTI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># server.properties
broker.id=1
log.dirs=/var/lib/kafka
zookeeper.connect=localhost:2181
num.partitions=3
default.replication.factor=2</pre></div><div class='content'></div><h1>Gestió de Temes</h1>
<div class='content'><ul>
<li><strong>Particionament</strong>: Un bon particionament és crucial per a l'escalabilitat i el rendiment. Assegura't que els temes estiguin particionats segons els teus requisits de rendiment.</li>
<li><strong>Rèplica</strong>: Configura un factor de rèplica adequat per assegurar la durabilitat i disponibilitat de les dades.</li>
<li><strong>Polítiques de Retenció</strong>: Configura les polítiques de retenció segons les teves necessitats del cicle de vida de les dades.</li>
</ul>
</div><h2>Exemple de Creació de Tema</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("a2Fma2EtdG9waWNzLnNoIC0tY3JlYXRlIC0tdG9waWMgbXktdG9waWMgLS1ib290c3RyYXAtc2VydmVyIGxvY2FsaG9zdDo5MDkyIC0tcGFydGl0aW9ucyAzIC0tcmVwbGljYXRpb24tZmFjdG9yIDI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>kafka-topics.sh --create --topic my-topic --bootstrap-server localhost:9092 --partitions 3 --replication-factor 2</pre></div><div class='content'></div><h1>Millors Pràctiques per a Productors</h1>
<div class='content'><ul>
<li><strong>Productors Idempotents</strong>: Habilita la idempotència per assegurar una semàntica exactament una vegada.</li>
<li><strong>Agrupació</strong>: Utilitza l'agrupació per millorar el rendiment i reduir el nombre de sol·licituds.</li>
<li><strong>Compressió</strong>: Habilita la compressió per reduir la mida dels missatges i millorar la utilització de la xarxa.</li>
</ul>
</div><h2>Exemple de Configuració de Productor</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UHJvcGVydGllcyBwcm9wcyA9IG5ldyBQcm9wZXJ0aWVzKCk7CnByb3BzLnB1dCgiYm9vdHN0cmFwLnNlcnZlcnMiLCAibG9jYWxob3N0OjkwOTIiKTsKcHJvcHMucHV0KCJrZXkuc2VyaWFsaXplciIsICJvcmcuYXBhY2hlLmthZmthLmNvbW1vbi5zZXJpYWxpemF0aW9uLlN0cmluZ1NlcmlhbGl6ZXIiKTsKcHJvcHMucHV0KCJ2YWx1ZS5zZXJpYWxpemVyIiwgIm9yZy5hcGFjaGUua2Fma2EuY29tbW9uLnNlcmlhbGl6YXRpb24uU3RyaW5nU2VyaWFsaXplciIpOwpwcm9wcy5wdXQoImFja3MiLCAiYWxsIik7CnByb3BzLnB1dCgiZW5hYmxlLmlkZW1wb3RlbmNlIiwgInRydWUiKTsKcHJvcHMucHV0KCJjb21wcmVzc2lvbi50eXBlIiwgImd6aXAiKTsKCkthZmthUHJvZHVjZXI8U3RyaW5nLCBTdHJpbmc+IHByb2R1Y2VyID0gbmV3IEthZmthUHJvZHVjZXI8Pihwcm9wcyk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Properties props = new Properties();
props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);
props.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);
props.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);
props.put(&quot;acks&quot;, &quot;all&quot;);
props.put(&quot;enable.idempotence&quot;, &quot;true&quot;);
props.put(&quot;compression.type&quot;, &quot;gzip&quot;);

KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);</pre></div><div class='content'></div><h1>Millors Pràctiques per a Consumidors</h1>
<div class='content'><ul>
<li><strong>Grups de Consumidors</strong>: Utilitza grups de consumidors per escalar el consum i assegurar l'equilibri de càrrega.</li>
<li><strong>Gestió d'Offsets</strong>: Gestiona correctament els offsets per assegurar que no hi hagi pèrdua o duplicació de dades.</li>
<li><strong>Gestió d'Errors</strong>: Implementa una gestió robusta d'errors per gestionar errors de deserialització i altres excepcions en temps d'execució.</li>
</ul>
</div><h2>Exemple de Configuració de Consumidor</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UHJvcGVydGllcyBwcm9wcyA9IG5ldyBQcm9wZXJ0aWVzKCk7CnByb3BzLnB1dCgiYm9vdHN0cmFwLnNlcnZlcnMiLCAibG9jYWxob3N0OjkwOTIiKTsKcHJvcHMucHV0KCJncm91cC5pZCIsICJteS1ncm91cCIpOwpwcm9wcy5wdXQoImtleS5kZXNlcmlhbGl6ZXIiLCAib3JnLmFwYWNoZS5rYWZrYS5jb21tb24uc2VyaWFsaXphdGlvbi5TdHJpbmdEZXNlcmlhbGl6ZXIiKTsKcHJvcHMucHV0KCJ2YWx1ZS5kZXNlcmlhbGl6ZXIiLCAib3JnLmFwYWNoZS5rYWZrYS5jb21tb24uc2VyaWFsaXphdGlvbi5TdHJpbmdEZXNlcmlhbGl6ZXIiKTsKcHJvcHMucHV0KCJlbmFibGUuYXV0by5jb21taXQiLCAiZmFsc2UiKTsKCkthZmthQ29uc3VtZXI8U3RyaW5nLCBTdHJpbmc+IGNvbnN1bWVyID0gbmV3IEthZmthQ29uc3VtZXI8Pihwcm9wcyk7CmNvbnN1bWVyLnN1YnNjcmliZShDb2xsZWN0aW9ucy5zaW5nbGV0b25MaXN0KCJteS10b3BpYyIpKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Properties props = new Properties();
props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);
props.put(&quot;group.id&quot;, &quot;my-group&quot;);
props.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);
props.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);
props.put(&quot;enable.auto.commit&quot;, &quot;false&quot;);

KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);
consumer.subscribe(Collections.singletonList(&quot;my-topic&quot;));</pre></div><div class='content'></div><h1>Monitorització i Registre</h1>
<div class='content'><ul>
<li><strong>Mètriques</strong>: Utilitza eines com Prometheus i Grafana per monitoritzar les mètriques de Kafka.</li>
<li><strong>Registre</strong>: Assegura't que els registres de Kafka estiguin correctament configurats i monitoritzats per detectar anomalies.</li>
<li><strong>Alertes</strong>: Configura alertes per a mètriques crítiques com la disponibilitat dels brokers, el retard dels consumidors i l'ús del disc.</li>
</ul>
</div><h2>Exemple de Configuració de Monitorització</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDb25maWd1cmFjacOzIGRlIFByb21ldGhldXMgcGVyIGEgS2Fma2EKc2NyYXBlX2NvbmZpZ3M6CiAgLSBqb2JfbmFtZTogJ2thZmthJwogICAgc3RhdGljX2NvbmZpZ3M6CiAgICAgIC0gdGFyZ2V0czogWydsb2NhbGhvc3Q6OTA5Midd"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Configuraci&oacute; de Prometheus per a Kafka
scrape_configs:
  - job_name: 'kafka'
    static_configs:
      - targets: ['localhost:9092']</pre></div><div class='content'></div><h1>Millors Pràctiques de Seguretat</h1>
<div class='content'><ul>
<li><strong>Autenticació</strong>: Utilitza SSL o SASL per autenticar clients i brokers.</li>
<li><strong>Autorització</strong>: Implementa ACLs per controlar l'accés als recursos de Kafka.</li>
<li><strong>Encriptació</strong>: Assegura't que les dades estiguin encriptades tant en trànsit com en repòs.</li>
</ul>
</div><h2>Exemple de Configuració de Seguretat</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXJ2ZXIucHJvcGVydGllcwpzc2wua2V5c3RvcmUubG9jYXRpb249L3Zhci9wcml2YXRlL3NzbC9rYWZrYS5zZXJ2ZXIua2V5c3RvcmUuamtzCnNzbC5rZXlzdG9yZS5wYXNzd29yZD10ZXN0MTIzNApzc2wua2V5LnBhc3N3b3JkPXRlc3QxMjM0CnNzbC50cnVzdHN0b3JlLmxvY2F0aW9uPS92YXIvcHJpdmF0ZS9zc2wva2Fma2Euc2VydmVyLnRydXN0c3RvcmUuamtzCnNzbC50cnVzdHN0b3JlLnBhc3N3b3JkPXRlc3QxMjM0CnNlY3VyaXR5LmludGVyLmJyb2tlci5wcm90b2NvbD1TU0w="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># server.properties
ssl.keystore.location=/var/private/ssl/kafka.server.keystore.jks
ssl.keystore.password=test1234
ssl.key.password=test1234
ssl.truststore.location=/var/private/ssl/kafka.server.truststore.jks
ssl.truststore.password=test1234
security.inter.broker.protocol=SSL</pre></div><div class='content'></div><h1>Optimització del Rendiment</h1>
<div class='content'><ul>
<li><strong>Optimització del Maquinari</strong>: Assegura't que els brokers de Kafka estiguin funcionant en maquinari optimitzat amb suficient CPU, memòria i I/O de disc.</li>
<li><strong>Ajust de Configuració</strong>: Ajusta les configuracions de Kafka com <code>num.network.threads</code>, <code>num.io.threads</code> i <code>socket.send.buffer.bytes</code> per a un rendiment òptim.</li>
<li><strong>Proves de Càrrega</strong>: Realitza proves de càrrega regularment per identificar i abordar colls d'ampolla de rendiment.</li>
</ul>
</div><h2>Exemple d'Optimització del Rendiment</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzZXJ2ZXIucHJvcGVydGllcwpudW0ubmV0d29yay50aHJlYWRzPTMKbnVtLmlvLnRocmVhZHM9OApzb2NrZXQuc2VuZC5idWZmZXIuYnl0ZXM9MTAyNDAwCnNvY2tldC5yZWNlaXZlLmJ1ZmZlci5ieXRlcz0xMDI0MDAKc29ja2V0LnJlcXVlc3QubWF4LmJ5dGVzPTEwNDg1NzYwMA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># server.properties
num.network.threads=3
num.io.threads=8
socket.send.buffer.bytes=102400
socket.receive.buffer.bytes=102400
socket.request.max.bytes=104857600</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Seguint aquestes millors pràctiques, pots assegurar que el teu desplegament de Kafka sigui robust, escalable i segur. Una configuració adequada, monitorització i ajust són essencials per mantenir un entorn Kafka saludable. Mantingues-te sempre actualitzat amb les últimes versions de Kafka i les recomanacions de la comunitat per millorar contínuament la teva configuració de Kafka.</p>
</div><div class='row navigation'><div class='col-6'><a href='real-world-kafka-use-cases'>&#x25C4; Usos reals de Kafka</a></div><div class='col-6 text-end'><a href='common-pitfalls-and-how-to-avoid-them'>Errors comuns i com evitar-los &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
