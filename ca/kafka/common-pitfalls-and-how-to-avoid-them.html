<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Errors comuns i com evitar-los</title>

    <link rel="alternate" href="https://campusempresa.com/es/kafka/common-pitfalls-and-how-to-avoid-them" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/kafka/common-pitfalls-and-how-to-avoid-them" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/kafka/common-pitfalls-and-how-to-avoid-them" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/kafka/common-pitfalls-and-how-to-avoid-them" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Apache Kafka és una eina poderosa per construir canals de dades en temps real i aplicacions de streaming. No obstant això, hi ha diversos errors comuns que els desenvolupadors poden trobar quan treballen amb Kafka. Aquesta secció cobrirà aquests errors i proporcionarà estratègies per evitar-los.</p>
</div><h1>1. Configuració incorrecta dels brokers de Kafka</h1>
<div class='content'></div><h2>Conceptes clau:</h2>
<div class='content'><ul>
<li><strong>Configuració del broker</strong>: Els brokers de Kafka han d'estar correctament configurats per garantir un rendiment i una fiabilitat òptims.</li>
<li><strong>Configuracions incorrectes comunes</strong>: Configuracions incorrectes de paràmetres com <code>log.retention.hours</code>, <code>num.partitions</code> i <code>replication.factor</code>.</li>
</ul>
</div><h2>Com evitar-ho:</h2>
<div class='content'><ul>
<li><strong>Entendre les configuracions per defecte</strong>: Familiaritza't amb les configuracions per defecte de Kafka i ajusta-les segons el teu cas d'ús.</li>
<li><strong>Monitoritzar el rendiment</strong>: Utilitza eines de monitorització per vigilar el rendiment del broker i ajustar les configuracions segons sigui necessari.</li>
<li><strong>Factor de replicació</strong>: Assegura't que el factor de replicació estigui configurat adequadament per evitar la pèrdua de dades.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGQndW4gYnJva2VyIGNvbmZpZ3VyYXQgY29ycmVjdGFtZW50CmxvZy5yZXRlbnRpb24uaG91cnM9MTY4ICAjIFJldGVuaXIgbG9ncyBkdXJhbnQgNyBkaWVzCm51bS5wYXJ0aXRpb25zPTMgICAgICAgICAjIE5vbWJyZSBwZXIgZGVmZWN0ZSBkZSBwYXJ0aWNpb25zIHBlciB0ZW1hCmRlZmF1bHQucmVwbGljYXRpb24uZmFjdG9yPTIgICMgRmFjdG9yIGRlIHJlcGxpY2FjacOzIHBlciBkZWZlY3Rl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple d'un broker configurat correctament
log.retention.hours=168  # Retenir logs durant 7 dies
num.partitions=3         # Nombre per defecte de particions per tema
default.replication.factor=2  # Factor de replicaci&oacute; per defecte</pre></div><div class='content'></div><h1>2. Particionament ineficient dels temes</h1>
<div class='content'></div><h2>Conceptes clau:</h2>
<div class='content'><ul>
<li><strong>Particionament</strong>: Els temes es divideixen en particions per permetre el processament en paral·lel.</li>
<li><strong>Desigualtat</strong>: Una distribució desigual de dades a través de les particions pot portar a problemes de rendiment.</li>
</ul>
</div><h2>Com evitar-ho:</h2>
<div class='content'><ul>
<li><strong>Clau de partició</strong>: Tria una bona clau de partició per assegurar una distribució uniforme.</li>
<li><strong>Monitoritzar la càrrega de les particions</strong>: Revisa regularment la càrrega de cada partició i reequilibra si és necessari.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhlbXBsZSBkZSBwcm9kdWNjacOzIGRlIG1pc3NhdGdlcyBhbWIgdW5hIGNsYXUgZGUgcGFydGljacOzClByb2R1Y2VyUmVjb3JkPFN0cmluZywgU3RyaW5nPiByZWNvcmQgPSBuZXcgUHJvZHVjZXJSZWNvcmQ8PigibXktdG9waWMiLCAia2V5IiwgInZhbHVlIik7CnByb2R1Y2VyLnNlbmQocmVjb3JkKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Exemple de producci&oacute; de missatges amb una clau de partici&oacute;
ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(&quot;my-topic&quot;, &quot;key&quot;, &quot;value&quot;);
producer.send(record);</pre></div><div class='content'></div><h1>3. Ignorar la gestió dels grups de consumidors</h1>
<div class='content'></div><h2>Conceptes clau:</h2>
<div class='content'><ul>
<li><strong>Grups de consumidors</strong>: Els consumidors de Kafka s'organitzen en grups per permetre el processament en paral·lel.</li>
<li><strong>Reequilibri</strong>: Quan els consumidors s'uneixen o deixen un grup, Kafka reequilibra la càrrega.</li>
</ul>
</div><h2>Com evitar-ho:</h2>
<div class='content'><ul>
<li><strong>Membresia estàtica</strong>: Utilitza la membresia estàtica per reduir la sobrecàrrega del reequilibri.</li>
<li><strong>Monitoritzar el retard</strong>: Vigila el retard dels consumidors per assegurar que els consumidors estan al dia amb la taxa de dades.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhlbXBsZSBkJ3VuYSBjb25maWd1cmFjacOzIGRlIGdydXAgZGUgY29uc3VtaWRvcnMKUHJvcGVydGllcyBwcm9wcyA9IG5ldyBQcm9wZXJ0aWVzKCk7CnByb3BzLnB1dCgiZ3JvdXAuaWQiLCAibXktY29uc3VtZXItZ3JvdXAiKTsKcHJvcHMucHV0KCJlbmFibGUuYXV0by5jb21taXQiLCAiZmFsc2UiKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Exemple d'una configuraci&oacute; de grup de consumidors
Properties props = new Properties();
props.put(&quot;group.id&quot;, &quot;my-consumer-group&quot;);
props.put(&quot;enable.auto.commit&quot;, &quot;false&quot;);</pre></div><div class='content'></div><h1>4. No gestionar l'evolució dels esquemes</h1>
<div class='content'></div><h2>Conceptes clau:</h2>
<div class='content'><ul>
<li><strong>Registre d'esquemes</strong>: Gestiona i aplica esquemes per als temes de Kafka.</li>
<li><strong>Evolució dels esquemes</strong>: Els canvis en els esquemes al llarg del temps han de ser gestionats amb cura.</li>
</ul>
</div><h2>Com evitar-ho:</h2>
<div class='content'><ul>
<li><strong>Utilitzar el registre d'esquemes</strong>: Implementa un registre d'esquemes per gestionar les versions dels esquemes.</li>
<li><strong>Compatibilitat cap enrere</strong>: Assegura't que les noves versions dels esquemes siguin compatibles cap enrere.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhlbXBsZSBkJ3VuIGVzcXVlbWEgZW4gZm9ybWF0IEF2cm8KewogICJ0eXBlIjogInJlY29yZCIsCiAgIm5hbWUiOiAiVXNlciIsCiAgImZpZWxkcyI6IFsKICAgIHsibmFtZSI6ICJuYW1lIiwgInR5cGUiOiAic3RyaW5nIn0sCiAgICB7Im5hbWUiOiAiYWdlIiwgInR5cGUiOiAiaW50In0KICBdCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Exemple d'un esquema en format Avro
{
  &quot;type&quot;: &quot;record&quot;,
  &quot;name&quot;: &quot;User&quot;,
  &quot;fields&quot;: [
    {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot;},
    {&quot;name&quot;: &quot;age&quot;, &quot;type&quot;: &quot;int&quot;}
  ]
}</pre></div><div class='content'></div><h1>5. Passar per alt les configuracions de seguretat</h1>
<div class='content'></div><h2>Conceptes clau:</h2>
<div class='content'><ul>
<li><strong>Autenticació</strong>: Assegurar que només els usuaris autoritzats puguin accedir a Kafka.</li>
<li><strong>Xifrat</strong>: Protegir les dades en trànsit.</li>
</ul>
</div><h2>Com evitar-ho:</h2>
<div class='content'><ul>
<li><strong>Activar SSL</strong>: Utilitza SSL per al xifrat i l'autenticació.</li>
<li><strong>Configurar ACLs</strong>: Configura llistes de control d'accés (ACLs) per gestionar els permisos.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGQnYWN0aXZhY2nDsyBkZSBTU0wKc3NsLmtleXN0b3JlLmxvY2F0aW9uPS92YXIvcHJpdmF0ZS9zc2wva2Fma2Euc2VydmVyLmtleXN0b3JlLmprcwpzc2wua2V5c3RvcmUucGFzc3dvcmQ9dGVzdDEyMzQKc3NsLmtleS5wYXNzd29yZD10ZXN0MTIzNApzc2wudHJ1c3RzdG9yZS5sb2NhdGlvbj0vdmFyL3ByaXZhdGUvc3NsL2thZmthLnNlcnZlci50cnVzdHN0b3JlLmprcwpzc2wudHJ1c3RzdG9yZS5wYXNzd29yZD10ZXN0MTIzNA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple d'activaci&oacute; de SSL
ssl.keystore.location=/var/private/ssl/kafka.server.keystore.jks
ssl.keystore.password=test1234
ssl.key.password=test1234
ssl.truststore.location=/var/private/ssl/kafka.server.truststore.jks
ssl.truststore.password=test1234</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Entendre i evitar els errors comuns en Kafka pot millorar significativament el rendiment, la fiabilitat i la seguretat de les teves aplicacions basades en Kafka. Configurant correctament els brokers, gestionant les particions, manejant els grups de consumidors, evolucionant els esquemes amb cura i assegurant la teva configuració de Kafka, pots assegurar una plataforma de streaming robusta i eficient. La monitorització regular i els ajustos basats en el teu cas d'ús específic ajudaran a mantenir un rendiment òptim.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
