<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/androidstudio/retrofit-library" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció a Retrofit</h1>
<div class='content'><p>Retrofit és un client HTTP segur per a Android i Java desenvolupat per Square. Simplifica el procés de consum de serveis web RESTful convertint l'API HTTP en una interfície Java.</p>
<ul>
<li><strong>Segur</strong>: Assegura que els tipus de dades utilitzats en les crides a l'API siguin consistents i correctes.</li>
<li><strong>Client HTTP</strong>: Gestiona les sol·licituds i respostes HTTP.</li>
<li><strong>Serveis web RESTful</strong>: Serveis web que segueixen els principis de Representational State Transfer (REST).</li>
</ul>
</div><h1>Configuració de Retrofit a Android Studio</h1>
<div class='content'></div><h2>Afegir Dependències</h2>
<div class='content'><p>Per utilitzar Retrofit en el teu projecte d'Android, has d'afegir les dependències necessàries al teu fitxer <code>build.gradle</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzIHsKICAgIGltcGxlbWVudGF0aW9uICdjb20uc3F1YXJldXAucmV0cm9maXQyOnJldHJvZml0OjIuOS4wJwogICAgaW1wbGVtZW50YXRpb24gJ2NvbS5zcXVhcmV1cC5yZXRyb2ZpdDI6Y29udmVydGVyLWdzb246Mi45LjAnCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies {
    implementation 'com.squareup.retrofit2:retrofit:2.9.0'
    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'
}</pre></div><div class='content'><ul>
<li><strong>retrofit</strong>: La biblioteca principal per a Retrofit.</li>
<li><strong>converter-gson</strong>: Una biblioteca de conversió per analitzar dades JSON utilitzant Gson.</li>
</ul>
</div><h2>Crear una Instància de Retrofit</h2>
<div class='content'><p>Per crear una instància de Retrofit, has d'especificar l'URL base i la fàbrica de convertidors.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UmV0cm9maXQgcmV0cm9maXQgPSBuZXcgUmV0cm9maXQuQnVpbGRlcigpCiAgICAuYmFzZVVybCgiaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vIikKICAgIC5hZGRDb252ZXJ0ZXJGYWN0b3J5KEdzb25Db252ZXJ0ZXJGYWN0b3J5LmNyZWF0ZSgpKQogICAgLmJ1aWxkKCk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Retrofit retrofit = new Retrofit.Builder()
    .baseUrl(&quot;https://api.example.com/&quot;)
    .addConverterFactory(GsonConverterFactory.create())
    .build();</pre></div><div class='content'><ul>
<li><strong>baseUrl</strong>: L'URL base per a l'API.</li>
<li><strong>addConverterFactory</strong>: Especifica el convertidor a utilitzar per analitzar les dades de resposta.</li>
</ul>
</div><h1>Definició de Punts Finals de l'API</h1>
<div class='content'></div><h2>Crear una Interfície</h2>
<div class='content'><p>Defineix els punts finals de l'API en una interfície utilitzant anotacions de Retrofit.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGludGVyZmFjZSBBcGlTZXJ2aWNlIHsKICAgIEBHRVQoInVzZXJzL3t1c2VyfS9yZXBvcyIpCiAgICBDYWxsPExpc3Q8UmVwbz4+IGxpc3RSZXBvcyhAUGF0aCgidXNlciIpIFN0cmluZyB1c2VyKTsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public interface ApiService {
    @GET(&quot;users/{user}/repos&quot;)
    Call&lt;List&lt;Repo&gt;&gt; listRepos(@Path(&quot;user&quot;) String user);
}</pre></div><div class='content'><ul>
<li><strong>@GET</strong>: Especifica el mètode HTTP GET.</li>
<li><strong>@Path</strong>: Substitueix el marcador de posició <code>{user}</code> amb el paràmetre real de l'usuari.</li>
</ul>
</div><h2>Fer Crides a l'API</h2>
<div class='content'><p>Crea una instància del servei de l'API i fes crides a l'API.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QXBpU2VydmljZSBzZXJ2aWNlID0gcmV0cm9maXQuY3JlYXRlKEFwaVNlcnZpY2UuY2xhc3MpOwpDYWxsPExpc3Q8UmVwbz4+IHJlcG9zID0gc2VydmljZS5saXN0UmVwb3MoIm9jdG9jYXQiKTsKCnJlcG9zLmVucXVldWUobmV3IENhbGxiYWNrPExpc3Q8UmVwbz4+KCkgewogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBvblJlc3BvbnNlKENhbGw8TGlzdDxSZXBvPj4gY2FsbCwgUmVzcG9uc2U8TGlzdDxSZXBvPj4gcmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuaXNTdWNjZXNzZnVsKCkpIHsKICAgICAgICAgICAgTGlzdDxSZXBvPiByZXBvTGlzdCA9IHJlc3BvbnNlLmJvZHkoKTsKICAgICAgICAgICAgLy8gR2VzdGlvbmEgbGEgcmVzcG9zdGEKICAgICAgICB9CiAgICB9CgogICAgQE92ZXJyaWRlCiAgICBwdWJsaWMgdm9pZCBvbkZhaWx1cmUoQ2FsbDxMaXN0PFJlcG8+PiBjYWxsLCBUaHJvd2FibGUgdCkgewogICAgICAgIC8vIEdlc3Rpb25hIGwnZXJyb3IKICAgIH0KfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ApiService service = retrofit.create(ApiService.class);
Call&lt;List&lt;Repo&gt;&gt; repos = service.listRepos(&quot;octocat&quot;);

repos.enqueue(new Callback&lt;List&lt;Repo&gt;&gt;() {
    @Override
    public void onResponse(Call&lt;List&lt;Repo&gt;&gt; call, Response&lt;List&lt;Repo&gt;&gt; response) {
        if (response.isSuccessful()) {
            List&lt;Repo&gt; repoList = response.body();
            // Gestiona la resposta
        }
    }

    @Override
    public void onFailure(Call&lt;List&lt;Repo&gt;&gt; call, Throwable t) {
        // Gestiona l'error
    }
});</pre></div><div class='content'><ul>
<li><strong>create</strong>: Crea una implementació dels punts finals de l'API definits per la interfície.</li>
<li><strong>enqueue</strong>: Envia la sol·licitud de manera asíncrona i notifica la devolució de trucada de la seva resposta o si s'ha produït un error.</li>
</ul>
</div><h1>Ús Avançat</h1>
<div class='content'></div><h2>Afegir Interceptors</h2>
<div class='content'><p>Els interceptors es poden utilitzar per modificar sol·licituds i respostes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("T2tIdHRwQ2xpZW50IGNsaWVudCA9IG5ldyBPa0h0dHBDbGllbnQuQnVpbGRlcigpCiAgICAuYWRkSW50ZXJjZXB0b3IobmV3IEludGVyY2VwdG9yKCkgewogICAgICAgIEBPdmVycmlkZQogICAgICAgIHB1YmxpYyBSZXNwb25zZSBpbnRlcmNlcHQoQ2hhaW4gY2hhaW4pIHRocm93cyBJT0V4Y2VwdGlvbiB7CiAgICAgICAgICAgIFJlcXVlc3QgcmVxdWVzdCA9IGNoYWluLnJlcXVlc3QoKS5uZXdCdWlsZGVyKCkKICAgICAgICAgICAgICAgIC5hZGRIZWFkZXIoIkF1dGhvcml6YXRpb24iLCAiQmVhcmVyIHRva2VuIikKICAgICAgICAgICAgICAgIC5idWlsZCgpOwogICAgICAgICAgICByZXR1cm4gY2hhaW4ucHJvY2VlZChyZXF1ZXN0KTsKICAgICAgICB9CiAgICB9KQogICAgLmJ1aWxkKCk7CgpSZXRyb2ZpdCByZXRyb2ZpdCA9IG5ldyBSZXRyb2ZpdC5CdWlsZGVyKCkKICAgIC5iYXNlVXJsKCJodHRwczovL2FwaS5leGFtcGxlLmNvbS8iKQogICAgLmNsaWVudChjbGllbnQpCiAgICAuYWRkQ29udmVydGVyRmFjdG9yeShHc29uQ29udmVydGVyRmFjdG9yeS5jcmVhdGUoKSkKICAgIC5idWlsZCgpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>OkHttpClient client = new OkHttpClient.Builder()
    .addInterceptor(new Interceptor() {
        @Override
        public Response intercept(Chain chain) throws IOException {
            Request request = chain.request().newBuilder()
                .addHeader(&quot;Authorization&quot;, &quot;Bearer token&quot;)
                .build();
            return chain.proceed(request);
        }
    })
    .build();

Retrofit retrofit = new Retrofit.Builder()
    .baseUrl(&quot;https://api.example.com/&quot;)
    .client(client)
    .addConverterFactory(GsonConverterFactory.create())
    .build();</pre></div><div class='content'><ul>
<li><strong>OkHttpClient</strong>: Un client HTTP personalitzable.</li>
<li><strong>addInterceptor</strong>: Afegeix un interceptor al client.</li>
</ul>
</div><h2>Gestionar Diferents Formats de Resposta</h2>
<div class='content'><p>Retrofit pot gestionar diferents formats de resposta utilitzant diferents convertidors.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVwZW5kZW5jaWVzIHsKICAgIGltcGxlbWVudGF0aW9uICdjb20uc3F1YXJldXAucmV0cm9maXQyOmNvbnZlcnRlci1tb3NoaToyLjkuMCcKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dependencies {
    implementation 'com.squareup.retrofit2:converter-moshi:2.9.0'
}</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UmV0cm9maXQgcmV0cm9maXQgPSBuZXcgUmV0cm9maXQuQnVpbGRlcigpCiAgICAuYmFzZVVybCgiaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vIikKICAgIC5hZGRDb252ZXJ0ZXJGYWN0b3J5KE1vc2hpQ29udmVydGVyRmFjdG9yeS5jcmVhdGUoKSkKICAgIC5idWlsZCgpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Retrofit retrofit = new Retrofit.Builder()
    .baseUrl(&quot;https://api.example.com/&quot;)
    .addConverterFactory(MoshiConverterFactory.create())
    .build();</pre></div><div class='content'><ul>
<li><strong>converter-moshi</strong>: Una biblioteca de conversió per analitzar dades JSON utilitzant Moshi.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Retrofit és una biblioteca potent i flexible per fer sol·licituds HTTP en aplicacions Android. Comprenent la seva configuració, definint punts finals de l'API i gestionant respostes, pots integrar eficientment serveis web en els teus projectes d'Android. Funcions avançades com els interceptors i diferents convertidors milloren encara més les seves capacitats, fent de Retrofit una eina essencial per als desenvolupadors d'Android.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
