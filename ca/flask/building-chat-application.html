<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/flask/building-chat-application" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En aquest tema, et guiarem a través de la construcció d'una aplicació de xat utilitzant Flask, un popular micro framework web per a Python. Aquest curs cobrirà tot, des de la configuració del teu entorn de desenvolupament fins al desplegament de la teva aplicació de xat. Al final d'aquest curs, tindràs una comprensió sòlida de com construir i desplegar una aplicació de xat en temps real.</p>
</div><h1>Prerequisits</h1>
<div class='content'><p>Abans de començar aquest curs, hauries de tenir:</p>
<ul>
<li>Coneixements bàsics de programació en Python.</li>
<li>Familiaritat amb HTML, CSS i JavaScript.</li>
<li>Comprensió bàsica dels conceptes de desenvolupament web.</li>
</ul>
</div><h1>Configurant l'Entorn de Desenvolupament</h1>
<div class='content'><p>Per començar a construir la teva aplicació de xat, necessites configurar el teu entorn de desenvolupament.</p>
</div><h2>Instal·lant Flask</h2>
<div class='content'><p>Primer, assegura't de tenir Python instal·lat. Després, instal·la Flask utilitzant pip:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgRmxhc2s="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install Flask</pre></div><div class='content'></div><h2>Creant l'Estructura del Projecte</h2>
<div class='content'><p>Crea un nou directori per al teu projecte i configura la següent estructura:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2hhdC1hcHAvCuKUggrilJzilIDilIAgYXBwLnB5CuKUnOKUgOKUgCB0ZW1wbGF0ZXMvCuKUgiAgIOKUlOKUgOKUgCBpbmRleC5odG1sCuKUnOKUgOKUgCBzdGF0aWMvCuKUgiAgIOKUnOKUgOKUgCBjc3MvCuKUgiAgIOKUgiAgIOKUlOKUgOKUgCBzdHlsZXMuY3NzCuKUgiAgIOKUlOKUgOKUgCBqcy8K4pSCICAgICAgIOKUlOKUgOKUgCBtYWluLmpzCuKUlOKUgOKUgCByZXF1aXJlbWVudHMudHh0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>chat-app/
│
├── app.py
├── templates/
│   └── index.html
├── static/
│   ├── css/
│   │   └── styles.css
│   └── js/
│       └── main.js
└── requirements.txt</pre></div><div class='content'></div><h1>Construint l'Aplicació Flask</h1>
<h2>Configurant el Servidor Flask</h2>
<div class='content'><p>Crea el fitxer <code>app.py</code> i configura un servidor Flask bàsic:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlbmRlcl90ZW1wbGF0ZQoKYXBwID0gRmxhc2soX19uYW1lX18pCgpAYXBwLnJvdXRlKCcvJykKZGVmIGluZGV4KCk6CiAgICByZXR1cm4gcmVuZGVyX3RlbXBsYXRlKCdpbmRleC5odG1sJykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBhcHAucnVuKGRlYnVnPVRydWUp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, render_template

app = Flask(__name__)

@app.route('/')
def index():
    return render_template('index.html')

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'></div><h2>Creant la Plantilla HTML</h2>
<div class='content'><p>Crea el fitxer <code>index.html</code> al directori <code>templates</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+Q2hhdCBBcHBsaWNhdGlvbjwvdGl0bGU+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Int7IHVybF9mb3IoJ3N0YXRpYycsIGZpbGVuYW1lPSdjc3Mvc3R5bGVzLmNzcycpIH19Ij4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgaWQ9ImNoYXQtY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGlkPSJtZXNzYWdlcyI+PC9kaXY+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJtZXNzYWdlLWlucHV0IiBwbGFjZWhvbGRlcj0iVHlwZSBhIG1lc3NhZ2UuLi4iPgogICAgICAgIDxidXR0b24gaWQ9InNlbmQtYnV0dG9uIj5TZW5kPC9idXR0b24+CiAgICA8L2Rpdj4KICAgIDxzY3JpcHQgc3JjPSJ7eyB1cmxfZm9yKCdzdGF0aWMnLCBmaWxlbmFtZT0nanMvbWFpbi5qcycpIH19Ij48L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Chat Application&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;{{ url_for('static', filename='css/styles.css') }}&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;chat-container&quot;&gt;
        &lt;div id=&quot;messages&quot;&gt;&lt;/div&gt;
        &lt;input type=&quot;text&quot; id=&quot;message-input&quot; placeholder=&quot;Type a message...&quot;&gt;
        &lt;button id=&quot;send-button&quot;&gt;Send&lt;/button&gt;
    &lt;/div&gt;
    &lt;script src=&quot;{{ url_for('static', filename='js/main.js') }}&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Afegint Estils</h2>
<div class='content'><p>Crea el fitxer <code>styles.css</code> al directori <code>static/css</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2NoYXQtY29udGFpbmVyIHsKICAgIHdpZHRoOiAzMDBweDsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgcGFkZGluZzogMjBweDsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7Cn0KCiNtZXNzYWdlcyB7CiAgICBoZWlnaHQ6IDIwMHB4OwogICAgb3ZlcmZsb3cteTogc2Nyb2xsOwogICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0KCiNtZXNzYWdlLWlucHV0IHsKICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA2MHB4KTsKICAgIHBhZGRpbmc6IDEwcHg7Cn0KCiNzZW5kLWJ1dHRvbiB7CiAgICB3aWR0aDogNTBweDsKICAgIHBhZGRpbmc6IDEwcHg7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#chat-container {
    width: 300px;
    margin: 0 auto;
    padding: 20px;
    border: 1px solid #ccc;
}

#messages {
    height: 200px;
    overflow-y: scroll;
    border: 1px solid #ccc;
    margin-bottom: 10px;
}

#message-input {
    width: calc(100% - 60px);
    padding: 10px;
}

#send-button {
    width: 50px;
    padding: 10px;
}</pre></div><div class='content'></div><h1>Implementant la Comunicació en Temps Real</h1>
<div class='content'><p>Per habilitar la comunicació en temps real, utilitzarem Flask-SocketIO.</p>
</div><h2>Instal·lant Flask-SocketIO</h2>
<div class='content'><p>Instal·la Flask-SocketIO utilitzant pip:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgZmxhc2stc29ja2V0aW8="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install flask-socketio</pre></div><div class='content'></div><h2>Configurant Flask-SocketIO</h2>
<div class='content'><p>Actualitza el teu <code>app.py</code> per incloure Flask-SocketIO:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlbmRlcl90ZW1wbGF0ZQpmcm9tIGZsYXNrX3NvY2tldGlvIGltcG9ydCBTb2NrZXRJTywgc2VuZAoKYXBwID0gRmxhc2soX19uYW1lX18pCnNvY2tldGlvID0gU29ja2V0SU8oYXBwKQoKQGFwcC5yb3V0ZSgnLycpCmRlZiBpbmRleCgpOgogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgnaW5kZXguaHRtbCcpCgpAc29ja2V0aW8ub24oJ21lc3NhZ2UnKQpkZWYgaGFuZGxlX21lc3NhZ2UobXNnKToKICAgIHNlbmQobXNnLCBicm9hZGNhc3Q9VHJ1ZSkKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBzb2NrZXRpby5ydW4oYXBwLCBkZWJ1Zz1UcnVlKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, render_template
from flask_socketio import SocketIO, send

app = Flask(__name__)
socketio = SocketIO(app)

@app.route('/')
def index():
    return render_template('index.html')

@socketio.on('message')
def handle_message(msg):
    send(msg, broadcast=True)

if __name__ == '__main__':
    socketio.run(app, debug=True)</pre></div><div class='content'></div><h2>Actualitzant el JavaScript</h2>
<div class='content'><p>Crea el fitxer <code>main.js</code> al directori <code>static/js</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHsKICAgIGNvbnN0IHNvY2tldCA9IGlvKCk7CgogICAgY29uc3QgbWVzc2FnZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UtaW5wdXQnKTsKICAgIGNvbnN0IHNlbmRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VuZC1idXR0b24nKTsKICAgIGNvbnN0IG1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2VzJyk7CgogICAgc2VuZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZUlucHV0LnZhbHVlOwogICAgICAgIHNvY2tldC5zZW5kKG1lc3NhZ2UpOwogICAgICAgIG1lc3NhZ2VJbnB1dC52YWx1ZSA9ICcnOwogICAgfSk7CgogICAgc29ja2V0Lm9uKCdtZXNzYWdlJywgKG1zZykgPT4gewogICAgICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgbWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBtc2c7CiAgICAgICAgbWVzc2FnZXMuYXBwZW5kQ2hpbGQobWVzc2FnZUVsZW1lbnQpOwogICAgfSk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document.addEventListener('DOMContentLoaded', () =&gt; {
    const socket = io();

    const messageInput = document.getElementById('message-input');
    const sendButton = document.getElementById('send-button');
    const messages = document.getElementById('messages');

    sendButton.addEventListener('click', () =&gt; {
        const message = messageInput.value;
        socket.send(message);
        messageInput.value = '';
    });

    socket.on('message', (msg) =&gt; {
        const messageElement = document.createElement('div');
        messageElement.textContent = msg;
        messages.appendChild(messageElement);
    });
});</pre></div><div class='content'></div><h1>Millorant l'Aplicació de Xat</h1>
<h2>Afegint Noms d'Usuari</h2>
<div class='content'><p>Per fer el xat més interactiu, podem afegir noms d'usuari.</p>
</div><h2>Actualitzant la Plantilla HTML</h2>
<div class='content'><p>Actualitza el fitxer <code>index.html</code> per incloure un camp d'entrada per al nom d'usuari:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+Q2hhdCBBcHBsaWNhdGlvbjwvdGl0bGU+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Int7IHVybF9mb3IoJ3N0YXRpYycsIGZpbGVuYW1lPSdjc3Mvc3R5bGVzLmNzcycpIH19Ij4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgaWQ9ImNoYXQtY29udGFpbmVyIj4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InVzZXJuYW1lLWlucHV0IiBwbGFjZWhvbGRlcj0iRW50ZXIgeW91ciB1c2VybmFtZSI+CiAgICAgICAgPGRpdiBpZD0ibWVzc2FnZXMiPjwvZGl2PgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibWVzc2FnZS1pbnB1dCIgcGxhY2Vob2xkZXI9IlR5cGUgYSBtZXNzYWdlLi4uIj4KICAgICAgICA8YnV0dG9uIGlkPSJzZW5kLWJ1dHRvbiI+U2VuZDwvYnV0dG9uPgogICAgPC9kaXY+CiAgICA8c2NyaXB0IHNyYz0ie3sgdXJsX2Zvcignc3RhdGljJywgZmlsZW5hbWU9J2pzL21haW4uanMnKSB9fSI+PC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Chat Application&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;{{ url_for('static', filename='css/styles.css') }}&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;chat-container&quot;&gt;
        &lt;input type=&quot;text&quot; id=&quot;username-input&quot; placeholder=&quot;Enter your username&quot;&gt;
        &lt;div id=&quot;messages&quot;&gt;&lt;/div&gt;
        &lt;input type=&quot;text&quot; id=&quot;message-input&quot; placeholder=&quot;Type a message...&quot;&gt;
        &lt;button id=&quot;send-button&quot;&gt;Send&lt;/button&gt;
    &lt;/div&gt;
    &lt;script src=&quot;{{ url_for('static', filename='js/main.js') }}&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Actualitzant el JavaScript</h2>
<div class='content'><p>Actualitza el fitxer <code>main.js</code> per incloure el nom d'usuari:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHsKICAgIGNvbnN0IHNvY2tldCA9IGlvKCk7CgogICAgY29uc3QgdXNlcm5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VybmFtZS1pbnB1dCcpOwogICAgY29uc3QgbWVzc2FnZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UtaW5wdXQnKTsKICAgIGNvbnN0IHNlbmRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VuZC1idXR0b24nKTsKICAgIGNvbnN0IG1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2VzJyk7CgogICAgc2VuZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZUlucHV0LnZhbHVlOwogICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdXNlcm5hbWVJbnB1dC52YWx1ZTsKICAgICAgICBzb2NrZXQuc2VuZCh7IHVzZXJuYW1lLCBtZXNzYWdlIH0pOwogICAgICAgIG1lc3NhZ2VJbnB1dC52YWx1ZSA9ICcnOwogICAgfSk7CgogICAgc29ja2V0Lm9uKCdtZXNzYWdlJywgKGRhdGEpID0+IHsKICAgICAgICBjb25zdCBtZXNzYWdlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gYCR7ZGF0YS51c2VybmFtZX06ICR7ZGF0YS5tZXNzYWdlfWA7CiAgICAgICAgbWVzc2FnZXMuYXBwZW5kQ2hpbGQobWVzc2FnZUVsZW1lbnQpOwogICAgfSk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>document.addEventListener('DOMContentLoaded', () =&gt; {
    const socket = io();

    const usernameInput = document.getElementById('username-input');
    const messageInput = document.getElementById('message-input');
    const sendButton = document.getElementById('send-button');
    const messages = document.getElementById('messages');

    sendButton.addEventListener('click', () =&gt; {
        const message = messageInput.value;
        const username = usernameInput.value;
        socket.send({ username, message });
        messageInput.value = '';
    });

    socket.on('message', (data) =&gt; {
        const messageElement = document.createElement('div');
        messageElement.textContent = `${data.username}: ${data.message}`;
        messages.appendChild(messageElement);
    });
});</pre></div><div class='content'></div><h2>Actualitzant el Servidor Flask</h2>
<div class='content'><p>Actualitza el teu <code>app.py</code> per gestionar el nou format de missatge:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlbmRlcl90ZW1wbGF0ZQpmcm9tIGZsYXNrX3NvY2tldGlvIGltcG9ydCBTb2NrZXRJTywgc2VuZAoKYXBwID0gRmxhc2soX19uYW1lX18pCnNvY2tldGlvID0gU29ja2V0SU8oYXBwKQoKQGFwcC5yb3V0ZSgnLycpCmRlZiBpbmRleCgpOgogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgnaW5kZXguaHRtbCcpCgpAc29ja2V0aW8ub24oJ21lc3NhZ2UnKQpkZWYgaGFuZGxlX21lc3NhZ2UoZGF0YSk6CiAgICBzZW5kKGRhdGEsIGJyb2FkY2FzdD1UcnVlKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHNvY2tldGlvLnJ1bihhcHAsIGRlYnVnPVRydWUp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, render_template
from flask_socketio import SocketIO, send

app = Flask(__name__)
socketio = SocketIO(app)

@app.route('/')
def index():
    return render_template('index.html')

@socketio.on('message')
def handle_message(data):
    send(data, broadcast=True)

if __name__ == '__main__':
    socketio.run(app, debug=True)</pre></div><div class='content'></div><h1>Desplegant l'Aplicació de Xat</h1>
<h2>Preparant per al Desplegament</h2>
<div class='content'><p>Per desplegar la teva aplicació, necessites:</p>
<ul>
<li>Congelar les teves dependències.</li>
<li>Configurar la teva aplicació per a producció.</li>
</ul>
</div><h2>Congelant les Dependències</h2>
<div class='content'><p>Crea un fitxer <code>requirements.txt</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGZyZWV6ZSA+IHJlcXVpcmVtZW50cy50eHQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip freeze &gt; requirements.txt</pre></div><div class='content'></div><h2>Configurant per a Producció</h2>
<div class='content'><p>Actualitza el teu <code>app.py</code> per desactivar el mode de depuració per a producció:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHNvY2tldGlvLnJ1bihhcHAp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if __name__ == '__main__':
    socketio.run(app)</pre></div><div class='content'></div><h2>Desplegant a Heroku</h2>
<div class='content'><ol>
<li>Instal·la la CLI de Heroku.</li>
<li>Crea un <code>Procfile</code> al teu directori de projecte:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("d2ViOiBndW5pY29ybiAtayBldmVudGxldCAtdyAxIGFwcDphcHA="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>web: gunicorn -k eventlet -w 1 app:app</pre></div><div class='content'><ol start="3">
<li>Inicialitza un repositori git i fes un commit del teu codi:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2l0IGluaXQKZ2l0IGFkZCAuCmdpdCBjb21taXQgLW0gIkluaXRpYWwgY29tbWl0Ig=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>git init
git add .
git commit -m &quot;Initial commit&quot;</pre></div><div class='content'><ol start="4">
<li>Crea una nova aplicació Heroku i puja el teu codi:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aGVyb2t1IGNyZWF0ZQpnaXQgcHVzaCBoZXJva3UgbWFzdGVy"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>heroku create
git push heroku master</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquest tema, hem cobert com construir una aplicació de xat en temps real utilitzant Flask i Flask-SocketIO. Hem començat amb la configuració de l'entorn de desenvolupament, construint l'aplicació Flask bàsica, implementant la comunicació en temps real, millorant l'aplicació de xat amb noms d'usuari, i finalment desplegant l'aplicació a Heroku. Seguint aquests passos, ara hauries de tenir una aplicació de xat funcional i una comprensió més profunda de Flask i les aplicacions web en temps real.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
