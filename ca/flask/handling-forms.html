<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestió de Formularis a Flask</title>

    <link rel="alternate" href="https://campusempresa.com/es/flask/handling-forms" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/flask/handling-forms" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/flask/handling-forms" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/flask/handling-forms" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='using-url-for'>&#x25C4;Utilitzar URL_for per a URLs Dinàmiques</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Gestió de Formularis a Flask</a>
	</div>
	<div class='col-4 text-end'>
					<a href='form-validation-wtforms'>Validació de Formularis amb WTForms &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció als Formularis a Flask</h1>
<div class='content'><p>Els formularis són una part fonamental de les aplicacions web, permetent als usuaris interactuar amb l'aplicació enviant dades. Flask proporciona diverses maneres de gestionar formularis, des de formularis HTML bàsics fins a una gestió més avançada de formularis utilitzant Flask-WTF.</p>
</div><h1>Formularis HTML Bàsics</h1>
<div class='content'><p>Per començar amb els formularis a Flask, pots utilitzar formularis HTML senzills. Aquí tens un exemple simple:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSB0ZW1wbGF0ZXMvZm9ybS5odG1sIC0tPgo8IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iY2EiPgo8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KICAgIDx0aXRsZT5Gb3JtdWxhcmkgU2ltcGxlPC90aXRsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxmb3JtIGFjdGlvbj0iL3N1Ym1pdCIgbWV0aG9kPSJwb3N0Ij4KICAgICAgICA8bGFiZWwgZm9yPSJuYW1lIj5Ob206PC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9Im5hbWUiIG5hbWU9Im5hbWUiPgogICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJFbnZpYXIiPgogICAgPC9mb3JtPgo8L2JvZHk+CjwvaHRtbD4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- templates/form.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;ca&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Formulari Simple&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form action=&quot;/submit&quot; method=&quot;post&quot;&gt;
        &lt;label for=&quot;name&quot;&gt;Nom:&lt;/label&gt;
        &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Enviar&quot;&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h2>Gestió de l'Enviament del Formulari</h2>
<div class='content'><p>Per gestionar l'enviament del formulari, necessites crear una ruta a la teva aplicació Flask:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHAucHkKZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlcXVlc3QsIHJlbmRlcl90ZW1wbGF0ZQoKYXBwID0gRmxhc2soX19uYW1lX18pCgpAYXBwLnJvdXRlKCcvJykKZGVmIGluZGV4KCk6CiAgICByZXR1cm4gcmVuZGVyX3RlbXBsYXRlKCdmb3JtLmh0bWwnKQoKQGFwcC5yb3V0ZSgnL3N1Ym1pdCcsIG1ldGhvZHM9WydQT1NUJ10pCmRlZiBzdWJtaXQoKToKICAgIG5hbWUgPSByZXF1ZXN0LmZvcm1bJ25hbWUnXQogICAgcmV0dXJuIGYnSG9sYSwge25hbWV9IScKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBhcHAucnVuKGRlYnVnPVRydWUp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># app.py
from flask import Flask, request, render_template

app = Flask(__name__)

@app.route('/')
def index():
    return render_template('form.html')

@app.route('/submit', methods=['POST'])
def submit():
    name = request.form['name']
    return f'Hola, {name}!'

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'><ul>
<li><code>request.form</code>: Un objecte diccionari que conté les dades del formulari.</li>
<li><code>methods=['POST']</code>: Especifica que la ruta ha de gestionar sol·licituds POST.</li>
</ul>
</div><h1>Utilitzant Flask-WTF per a la Gestió de Formularis</h1>
<div class='content'><p>Flask-WTF és una extensió que integra Flask amb WTForms, proporcionant una manera més robusta de gestionar formularis.</p>
</div><h2>Instal·lació</h2>
<div class='content'><p>Primer, instal·la Flask-WTF:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwIGluc3RhbGwgRmxhc2stV1RG"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pip install Flask-WTF</pre></div><div class='content'></div><h2>Creació d'una Classe de Formulari</h2>
<div class='content'><p>Defineix una classe de formulari utilitzant Flask-WTF:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBmb3Jtcy5weQpmcm9tIGZsYXNrX3d0ZiBpbXBvcnQgRmxhc2tGb3JtCmZyb20gd3Rmb3JtcyBpbXBvcnQgU3RyaW5nRmllbGQsIFN1Ym1pdEZpZWxkCmZyb20gd3Rmb3Jtcy52YWxpZGF0b3JzIGltcG9ydCBEYXRhUmVxdWlyZWQKCmNsYXNzIE5hbWVGb3JtKEZsYXNrRm9ybSk6CiAgICBuYW1lID0gU3RyaW5nRmllbGQoJ05vbScsIHZhbGlkYXRvcnM9W0RhdGFSZXF1aXJlZCgpXSkKICAgIHN1Ym1pdCA9IFN1Ym1pdEZpZWxkKCdFbnZpYXInKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># forms.py
from flask_wtf import FlaskForm
from wtforms import StringField, SubmitField
from wtforms.validators import DataRequired

class NameForm(FlaskForm):
    name = StringField('Nom', validators=[DataRequired()])
    submit = SubmitField('Enviar')</pre></div><div class='content'></div><h2>Renderització del Formulari</h2>
<div class='content'><p>Actualitza la teva ruta per utilitzar la classe de formulari:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHAucHkKZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlbmRlcl90ZW1wbGF0ZSwgcmVkaXJlY3QsIHVybF9mb3IKZnJvbSBmb3JtcyBpbXBvcnQgTmFtZUZvcm0KCmFwcCA9IEZsYXNrKF9fbmFtZV9fKQphcHAuY29uZmlnWydTRUNSRVRfS0VZJ10gPSAnbGFfdGV2YV9jbGF1X3NlY3JldGEnCgpAYXBwLnJvdXRlKCcvJywgbWV0aG9kcz1bJ0dFVCcsICdQT1NUJ10pCmRlZiBpbmRleCgpOgogICAgZm9ybSA9IE5hbWVGb3JtKCkKICAgIGlmIGZvcm0udmFsaWRhdGVfb25fc3VibWl0KCk6CiAgICAgICAgbmFtZSA9IGZvcm0ubmFtZS5kYXRhCiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KHVybF9mb3IoJ2dyZWV0JywgbmFtZT1uYW1lKSkKICAgIHJldHVybiByZW5kZXJfdGVtcGxhdGUoJ2Zvcm1fd3RmLmh0bWwnLCBmb3JtPWZvcm0pCgpAYXBwLnJvdXRlKCcvZ3JlZXQvPG5hbWU+JykKZGVmIGdyZWV0KG5hbWUpOgogICAgcmV0dXJuIGYnSG9sYSwge25hbWV9IScKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBhcHAucnVuKGRlYnVnPVRydWUp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># app.py
from flask import Flask, render_template, redirect, url_for
from forms import NameForm

app = Flask(__name__)
app.config['SECRET_KEY'] = 'la_teva_clau_secreta'

@app.route('/', methods=['GET', 'POST'])
def index():
    form = NameForm()
    if form.validate_on_submit():
        name = form.name.data
        return redirect(url_for('greet', name=name))
    return render_template('form_wtf.html', form=form)

@app.route('/greet/&lt;name&gt;')
def greet(name):
    return f'Hola, {name}!'

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'></div><h2>Plantilla per al Formulari Flask-WTF</h2>
<div class='content'><p>Crea una plantilla per renderitzar el formulari:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSB0ZW1wbGF0ZXMvZm9ybV93dGYuaHRtbCAtLT4KPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImNhIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+Rm9ybXVsYXJpIEZsYXNrLVdURjwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8Zm9ybSBtZXRob2Q9InBvc3QiPgogICAgICAgIHt7IGZvcm0uaGlkZGVuX3RhZygpIH19CiAgICAgICAgPHA+CiAgICAgICAgICAgIHt7IGZvcm0ubmFtZS5sYWJlbCB9fTxicj4KICAgICAgICAgICAge3sgZm9ybS5uYW1lKHNpemU9MzIpIH19PGJyPgogICAgICAgICAgICB7JSBmb3IgZXJyb3IgaW4gZm9ybS5uYW1lLmVycm9ycyAlfQogICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij5be3sgZXJyb3IgfX1dPC9zcGFuPgogICAgICAgICAgICB7JSBlbmRmb3IgJX0KICAgICAgICA8L3A+CiAgICAgICAgPHA+e3sgZm9ybS5zdWJtaXQoKSB9fTwvcD4KICAgIDwvZm9ybT4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- templates/form_wtf.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;ca&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Formulari Flask-WTF&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form method=&quot;post&quot;&gt;
        {{ form.hidden_tag() }}
        &lt;p&gt;
            {{ form.name.label }}&lt;br&gt;
            {{ form.name(size=32) }}&lt;br&gt;
            {% for error in form.name.errors %}
                &lt;span style=&quot;color: red;&quot;&gt;[{{ error }}]&lt;/span&gt;
            {% endfor %}
        &lt;/p&gt;
        &lt;p&gt;{{ form.submit() }}&lt;/p&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'><ul>
<li><code>form.hidden_tag()</code>: Genera camps ocults per a la protecció CSRF.</li>
<li><code>form.name(size=32)</code>: Renderitza el camp d'entrada amb una mida especificada.</li>
<li><code>form.submit()</code>: Renderitza el botó d'enviament.</li>
</ul>
</div><h1>Gestió Avançada de Formularis</h1>
<h2>Pujada de Fitxers</h2>
<div class='content'><p>La gestió de la pujada de fitxers requereix una configuració addicional. Aquí tens un exemple:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBmb3Jtcy5weQpmcm9tIGZsYXNrX3d0Zi5maWxlIGltcG9ydCBGaWxlRmllbGQsIEZpbGVSZXF1aXJlZAoKY2xhc3MgVXBsb2FkRm9ybShGbGFza0Zvcm0pOgogICAgZmlsZSA9IEZpbGVGaWVsZCgnRml0eGVyJywgdmFsaWRhdG9ycz1bRmlsZVJlcXVpcmVkKCldKQogICAgc3VibWl0ID0gU3VibWl0RmllbGQoJ1B1amFyJyk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># forms.py
from flask_wtf.file import FileField, FileRequired

class UploadForm(FlaskForm):
    file = FileField('Fitxer', validators=[FileRequired()])
    submit = SubmitField('Pujar')</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBhcHAucHkKZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlbmRlcl90ZW1wbGF0ZSwgcmVxdWVzdApmcm9tIGZvcm1zIGltcG9ydCBVcGxvYWRGb3JtCmltcG9ydCBvcwoKYXBwID0gRmxhc2soX19uYW1lX18pCmFwcC5jb25maWdbJ1NFQ1JFVF9LRVknXSA9ICdsYV90ZXZhX2NsYXVfc2VjcmV0YScKYXBwLmNvbmZpZ1snVVBMT0FEX0ZPTERFUiddID0gJ3VwbG9hZHMvJwoKQGFwcC5yb3V0ZSgnL3VwbG9hZCcsIG1ldGhvZHM9WydHRVQnLCAnUE9TVCddKQpkZWYgdXBsb2FkKCk6CiAgICBmb3JtID0gVXBsb2FkRm9ybSgpCiAgICBpZiBmb3JtLnZhbGlkYXRlX29uX3N1Ym1pdCgpOgogICAgICAgIGZpbGUgPSBmb3JtLmZpbGUuZGF0YQogICAgICAgIGZpbGUuc2F2ZShvcy5wYXRoLmpvaW4oYXBwLmNvbmZpZ1snVVBMT0FEX0ZPTERFUiddLCBmaWxlLmZpbGVuYW1lKSkKICAgICAgICByZXR1cm4gJ0ZpdHhlciBwdWphdCBhbWIgw6h4aXQhJwogICAgcmV0dXJuIHJlbmRlcl90ZW1wbGF0ZSgndXBsb2FkLmh0bWwnLCBmb3JtPWZvcm0pCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgYXBwLnJ1bihkZWJ1Zz1UcnVlKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># app.py
from flask import Flask, render_template, request
from forms import UploadForm
import os

app = Flask(__name__)
app.config['SECRET_KEY'] = 'la_teva_clau_secreta'
app.config['UPLOAD_FOLDER'] = 'uploads/'

@app.route('/upload', methods=['GET', 'POST'])
def upload():
    form = UploadForm()
    if form.validate_on_submit():
        file = form.file.data
        file.save(os.path.join(app.config['UPLOAD_FOLDER'], file.filename))
        return 'Fitxer pujat amb &egrave;xit!'
    return render_template('upload.html', form=form)

if __name__ == '__main__':
    app.run(debug=True)</pre></div><div class='content'></div><h2>Plantilla per al Formulari de Pujada de Fitxers</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSB0ZW1wbGF0ZXMvdXBsb2FkLmh0bWwgLS0+CjwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJjYSI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPHRpdGxlPlB1amFkYSBkZSBGaXR4ZXJzPC90aXRsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxmb3JtIG1ldGhvZD0icG9zdCIgZW5jdHlwZT0ibXVsdGlwYXJ0L2Zvcm0tZGF0YSI+CiAgICAgICAge3sgZm9ybS5oaWRkZW5fdGFnKCkgfX0KICAgICAgICA8cD4KICAgICAgICAgICAge3sgZm9ybS5maWxlLmxhYmVsIH19PGJyPgogICAgICAgICAgICB7eyBmb3JtLmZpbGUoKSB9fTxicj4KICAgICAgICAgICAgeyUgZm9yIGVycm9yIGluIGZvcm0uZmlsZS5lcnJvcnMgJX0KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+W3t7IGVycm9yIH19XTwvc3Bhbj4KICAgICAgICAgICAgeyUgZW5kZm9yICV9CiAgICAgICAgPC9wPgogICAgICAgIDxwPnt7IGZvcm0uc3VibWl0KCkgfX08L3A+CiAgICA8L2Zvcm0+CjwvYm9keT4KPC9odG1sPg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- templates/upload.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;ca&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Pujada de Fitxers&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
        {{ form.hidden_tag() }}
        &lt;p&gt;
            {{ form.file.label }}&lt;br&gt;
            {{ form.file() }}&lt;br&gt;
            {% for error in form.file.errors %}
                &lt;span style=&quot;color: red;&quot;&gt;[{{ error }}]&lt;/span&gt;
            {% endfor %}
        &lt;/p&gt;
        &lt;p&gt;{{ form.submit() }}&lt;/p&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>La gestió de formularis a Flask pot anar des de formularis HTML senzills fins a formularis més complexos utilitzant Flask-WTF. Entendre ambdues maneres et permetrà triar l'enfocament més adequat per a les necessitats de la teva aplicació. Flask-WTF proporciona una manera més estructurada i segura de gestionar formularis, incloent funcions com la protecció CSRF i la validació de formularis.</p>
<p>Dominant la gestió de formularis a Flask, podràs crear aplicacions web interactives i fàcils d'usar que capturin i processin efectivament les dades dels usuaris.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='using-url-for'>&#x25C4;Utilitzar URL_for per a URLs Dinàmiques</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Gestió de Formularis a Flask</a>
	</div>
	<div class='col-4 text-end'>
					<a href='form-validation-wtforms'>Validació de Formularis amb WTForms &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
