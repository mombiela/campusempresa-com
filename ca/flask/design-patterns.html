<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/flask/design-patterns" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció als Patrons de Disseny</h1>
<div class='content'><p>Els patrons de disseny són solucions típiques a problemes comuns en el disseny de programari. Són com plànols que es poden personalitzar per resoldre un problema de disseny particular en el teu codi. Entendre els patrons de disseny pot ajudar-te a escriure codi més eficient, escalable i mantenible.</p>
</div><h1>Per què Utilitzar Patrons de Disseny en Flask?</h1>
<div class='content'><p>Flask és un micro framework web per a Python que és senzill però potent. Utilitzar patrons de disseny en Flask pot:</p>
<ul>
<li>Millorar la llegibilitat i mantenibilitat del codi.</li>
<li>Promoure la reutilització del codi.</li>
<li>Facilitar la col·laboració entre desenvolupadors.</li>
<li>Ajudar a gestionar la complexitat en aplicacions més grans.</li>
</ul>
</div><h1>Patrons de Disseny Comuns en Flask</h1>
<div class='content'></div><h2>1. Patró Factory</h2>
<div class='content'><p>El Patró Factory s'utilitza per crear objectes sense especificar la classe exacta de l'objecte que es crearà. En Flask, aquest patró s'utilitza sovint per crear la instància de l'aplicació.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2sKCmRlZiBjcmVhdGVfYXBwKCk6CiAgICBhcHAgPSBGbGFzayhfX25hbWVfXykKICAgIGFwcC5jb25maWcuZnJvbV9weWZpbGUoJ2NvbmZpZy5weScpCgogICAgIyBJbmljaWFsaXR6YXIgZXh0ZW5zaW9ucwogICAgIyBSZWdpc3RyYXIgYmx1ZXByaW50cwogICAgIyBDb25maWd1cmFyIGxhIGJhc2UgZGUgZGFkZXMKCiAgICByZXR1cm4gYXBwCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXBwID0gY3JlYXRlX2FwcCgpCiAgICBhcHAucnVuKCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask

def create_app():
    app = Flask(__name__)
    app.config.from_pyfile('config.py')

    # Inicialitzar extensions
    # Registrar blueprints
    # Configurar la base de dades

    return app

if __name__ == &quot;__main__&quot;:
    app = create_app()
    app.run()</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>: La funció <code>create_app</code> encapsula la creació i configuració de la instància de l'aplicació Flask. Això permet una fàcil prova i gestió de la configuració.</li>
</ul>
</div><h2>2. Patró Blueprint</h2>
<div class='content'><p>El Patró Blueprint s'utilitza per organitzar la teva aplicació en mòduls, fent-la més fàcil de gestionar i escalar.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIEJsdWVwcmludAoKIyBEZWZpbmlyIHVuIGJsdWVwcmludAphdXRoX2JwID0gQmx1ZXByaW50KCdhdXRoJywgX19uYW1lX18pCgpAYXV0aF9icC5yb3V0ZSgnL2xvZ2luJykKZGVmIGxvZ2luKCk6CiAgICByZXR1cm4gIlDDoGdpbmEgZGUgTG9naW4iCgpAYXV0aF9icC5yb3V0ZSgnL2xvZ291dCcpCmRlZiBsb2dvdXQoKToKICAgIHJldHVybiAiUMOgZ2luYSBkZSBMb2dvdXQiCgpkZWYgY3JlYXRlX2FwcCgpOgogICAgYXBwID0gRmxhc2soX19uYW1lX18pCiAgICBhcHAucmVnaXN0ZXJfYmx1ZXByaW50KGF1dGhfYnAsIHVybF9wcmVmaXg9Jy9hdXRoJykKICAgIHJldHVybiBhcHAKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBhcHAgPSBjcmVhdGVfYXBwKCkKICAgIGFwcC5ydW4oKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, Blueprint

# Definir un blueprint
auth_bp = Blueprint('auth', __name__)

@auth_bp.route('/login')
def login():
    return &quot;P&agrave;gina de Login&quot;

@auth_bp.route('/logout')
def logout():
    return &quot;P&agrave;gina de Logout&quot;

def create_app():
    app = Flask(__name__)
    app.register_blueprint(auth_bp, url_prefix='/auth')
    return app

if __name__ == &quot;__main__&quot;:
    app = create_app()
    app.run()</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>: El blueprint <code>auth_bp</code> encapsula rutes relacionades amb l'autenticació. Aquest enfocament modular fa que l'aplicació sigui més fàcil de gestionar.</li>
</ul>
</div><h2>3. Patró Singleton</h2>
<div class='content'><p>El Patró Singleton assegura que una classe només tingui una instància i proporciona un punt d'accés global a aquesta. Això és útil per gestionar recursos compartits com connexions a bases de dades.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRGF0YWJhc2U6CiAgICBfaW5zdGFuY2UgPSBOb25lCgogICAgZGVmIF9fbmV3X18oY2xzLCAqYXJncywgKiprd2FyZ3MpOgogICAgICAgIGlmIG5vdCBjbHMuX2luc3RhbmNlOgogICAgICAgICAgICBjbHMuX2luc3RhbmNlID0gc3VwZXIoRGF0YWJhc2UsIGNscykuX19uZXdfXyhjbHMsICphcmdzLCAqKmt3YXJncykKICAgICAgICByZXR1cm4gY2xzLl9pbnN0YW5jZQoKICAgIGRlZiBjb25uZWN0KHNlbGYpOgogICAgICAgICMgTMOyZ2ljYSBkZSBjb25uZXhpw7MgYSBsYSBiYXNlIGRlIGRhZGVzCiAgICAgICAgcGFzcwoKZGIgPSBEYXRhYmFzZSgp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Database:
    _instance = None

    def __new__(cls, *args, **kwargs):
        if not cls._instance:
            cls._instance = super(Database, cls).__new__(cls, *args, **kwargs)
        return cls._instance

    def connect(self):
        # L&ograve;gica de connexi&oacute; a la base de dades
        pass

db = Database()</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>: La classe <code>Database</code> assegura que només existeixi una instància de la connexió a la base de dades, prevenint múltiples connexions i malbaratament de recursos.</li>
</ul>
</div><h2>4. Patró Decorator</h2>
<div class='content'><p>El Patró Decorator permet afegir comportament a objectes individuals, dinàmicament, sense afectar el comportament d'altres objectes de la mateixa classe. En Flask, els decoradors s'utilitzen sovint per a la gestió de rutes i middleware.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlcXVlc3QsIGpzb25pZnkKCmFwcCA9IEZsYXNrKF9fbmFtZV9fKQoKZGVmIHJlcXVpcmVfYXBpX2tleShmKToKICAgIGRlZiBkZWNvcmF0ZWRfZnVuY3Rpb24oKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICBpZiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdBUEktS0VZJykgPT0gJ215LXNlY3JldC1rZXknOgogICAgICAgICAgICByZXR1cm4gZigqYXJncywgKiprd2FyZ3MpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIGpzb25pZnkoeyJlcnJvciI6ICJObyBhdXRvcml0emF0In0pLCA0MDEKICAgIHJldHVybiBkZWNvcmF0ZWRfZnVuY3Rpb24KCkBhcHAucm91dGUoJy9kYXRhJykKQHJlcXVpcmVfYXBpX2tleQpkZWYgZ2V0X2RhdGEoKToKICAgIHJldHVybiBqc29uaWZ5KHsiZGF0YSI6ICJBcXXDrSB0ZW5zIGxlcyB0ZXZlcyBkYWRlcyJ9KQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGFwcC5ydW4oKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask, request, jsonify

app = Flask(__name__)

def require_api_key(f):
    def decorated_function(*args, **kwargs):
        if request.headers.get('API-KEY') == 'my-secret-key':
            return f(*args, **kwargs)
        else:
            return jsonify({&quot;error&quot;: &quot;No autoritzat&quot;}), 401
    return decorated_function

@app.route('/data')
@require_api_key
def get_data():
    return jsonify({&quot;data&quot;: &quot;Aqu&iacute; tens les teves dades&quot;})

if __name__ == &quot;__main__&quot;:
    app.run()</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>: El decorador <code>require_api_key</code> afegeix una capa addicional de seguretat a la ruta <code>get_data</code> verificant una clau API vàlida.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Els patrons de disseny són eines essencials per construir aplicacions Flask robustes i escalables. Entenent i implementant aquests patrons, pots millorar l'estructura i mantenibilitat del teu codi. Ja sigui utilitzant el Patró Factory per a la creació d'aplicacions, el Patró Blueprint per a la modularitat, el Patró Singleton per a la gestió de recursos, o el Patró Decorator per afegir comportament dinàmic, aquests patrons t'ajudaran a escriure millors aplicacions Flask.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
