<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Utilitzar Docker amb Flask</title>

    <link rel="alternate" href="https://campusempresa.com/es/flask/using-docker" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/flask/using-docker" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/flask/using-docker" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/flask/using-docker" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='deploying-flask-applications'>&#x25C4; Desplegar Aplicacions Flask</a></div><div class='col-6 text-end'><a href='caching-strategies'>Estratègies de Caché &#x25BA;</a></div></div><div class='content'></div><h1>Introducció a Docker</h1>
<div class='content'><p>Docker és una plataforma que permet als desenvolupadors automatitzar el desplegament d'aplicacions dins de contenidors lleugers i portàtils. Els contenidors inclouen tot el necessari per executar una aplicació, facilitant la gestió de dependències i assegurant la consistència en diferents entorns.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Contenidor</strong>: Un paquet de programari lleuger, autònom i executable que inclou tot el necessari per executar-lo.</li>
<li><strong>Imatge</strong>: Una plantilla de només lectura utilitzada per crear contenidors. Les imatges es construeixen a partir d'un conjunt d'instruccions escrites en un Dockerfile.</li>
<li><strong>Dockerfile</strong>: Un script que conté una sèrie de comandes per muntar una imatge.</li>
<li><strong>Docker Hub</strong>: Un servei de registre basat en el núvol per compartir imatges de Docker.</li>
</ul>
</div><h1>Configuració de Docker</h1>
<div class='content'><p>Abans d'utilitzar Docker amb Flask, assegura't que Docker està instal·lat a la teva màquina. Segueix les instruccions d'instal·lació per al teu sistema operatiu des de la <a href="https://docs.docker.com/get-docker/">documentació oficial de Docker</a>.</p>
</div><h1>Creació d'una Aplicació Flask</h1>
<div class='content'><p>Primer, creem una aplicació Flask senzilla. Crea un directori per al teu projecte i afegeix els següents fitxers:</p>
</div><h2>`app.py`</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2sKCmFwcCA9IEZsYXNrKF9fbmFtZV9fKQoKQGFwcC5yb3V0ZSgnLycpCmRlZiBoZWxsb193b3JsZCgpOgogICAgcmV0dXJuICdIb2xhLCBEb2NrZXIhJwoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIGFwcC5ydW4oaG9zdD0nMC4wLjAuMCcsIHBvcnQ9NTAwMCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from flask import Flask

app = Flask(__name__)

@app.route('/')
def hello_world():
    return 'Hola, Docker!'

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000)</pre></div><div class='content'></div><h2>`requirements.txt`</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Rmxhc2s9PTIuMC4x"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Flask==2.0.1</pre></div><div class='content'></div><h1>Escriure un Dockerfile</h1>
<div class='content'><p>Un Dockerfile és un document de text que conté totes les comandes per muntar una imatge. Crea un <code>Dockerfile</code> al directori del teu projecte amb el següent contingut:</p>
</div><h2>`Dockerfile`</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVdGlsaXR6YSBsYSBpbWF0Z2Ugb2ZpY2lhbCBkZSBQeXRob24gZGVsIERvY2tlciBIdWIKRlJPTSBweXRob246My45LXNsaW0KCiMgRXN0YWJsZWl4IGVsIGRpcmVjdG9yaSBkZSB0cmViYWxsIGRpbnMgZGVsIGNvbnRlbmlkb3IKV09SS0RJUiAvYXBwCgojIENvcGlhIGVsIGNvbnRpbmd1dCBkZWwgZGlyZWN0b3JpIGFjdHVhbCBhbCBjb250ZW5pZG9yIGEgL2FwcApDT1BZIC4gL2FwcAoKIyBJbnN0YWzCt2xhIGVscyBwYXF1ZXRzIG5lY2Vzc2FyaXMgZXNwZWNpZmljYXRzIGEgcmVxdWlyZW1lbnRzLnR4dApSVU4gcGlwIGluc3RhbGwgLS1uby1jYWNoZS1kaXIgLXIgcmVxdWlyZW1lbnRzLnR4dAoKIyBGZXMgcXVlIGVsIHBvcnQgNTAwMCBlc3RpZ3VpIGRpc3BvbmlibGUgcGVyIGFsIG3Ds24gZm9yYSBkJ2FxdWVzdCBjb250ZW5pZG9yCkVYUE9TRSA1MDAwCgojIERlZmluZWl4IGxhIHZhcmlhYmxlIGQnZW50b3JuCkVOViBGTEFTS19BUFA9YXBwLnB5CgojIEV4ZWN1dGEgYXBwLnB5IHF1YW4gZWwgY29udGVuaWRvciBlcyBsbGFuY2kKQ01EIFsiZmxhc2siLCAicnVuIiwgIi0taG9zdD0wLjAuMC4wIl0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Utilitza la imatge oficial de Python del Docker Hub
FROM python:3.9-slim

# Estableix el directori de treball dins del contenidor
WORKDIR /app

# Copia el contingut del directori actual al contenidor a /app
COPY . /app

# Instal&middot;la els paquets necessaris especificats a requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

# Fes que el port 5000 estigui disponible per al m&oacute;n fora d'aquest contenidor
EXPOSE 5000

# Defineix la variable d'entorn
ENV FLASK_APP=app.py

# Executa app.py quan el contenidor es llanci
CMD [&quot;flask&quot;, &quot;run&quot;, &quot;--host=0.0.0.0&quot;]</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><code>FROM python:3.9-slim</code>: Especifica la imatge base a utilitzar.</li>
<li><code>WORKDIR /app</code>: Estableix el directori de treball dins del contenidor.</li>
<li><code>COPY . /app</code>: Copia el contingut del directori actual al contenidor.</li>
<li><code>RUN pip install --no-cache-dir -r requirements.txt</code>: Instal·la els paquets de Python necessaris.</li>
<li><code>EXPOSE 5000</code>: Exposa el port 5000 per permetre l'accés extern.</li>
<li><code>ENV FLASK_APP=app.py</code>: Estableix una variable d'entorn per a Flask.</li>
<li><code>CMD [&quot;flask&quot;, &quot;run&quot;, &quot;--host=0.0.0.0&quot;]</code>: Especifica la comanda per executar l'aplicació.</li>
</ul>
</div><h1>Construcció i Execució del Contenidor Docker</h1>
<div class='content'><p>Per construir i executar el teu contenidor Docker, segueix aquests passos:</p>
<ol>
<li>
<p><strong>Construeix la Imatge Docker</strong>:</p>
<pre><code class="language-sh">docker build -t flask-docker-app .
</code></pre>
</li>
<li>
<p><strong>Executa el Contenidor Docker</strong>:</p>
<pre><code class="language-sh">docker run -p 5000:5000 flask-docker-app
</code></pre>
</li>
</ol>
</div><h2>Explicació</h2>
<div class='content'><ul>
<li><code>docker build -t flask-docker-app .</code>: Construeix la imatge Docker i l'etiqueta com <code>flask-docker-app</code>.</li>
<li><code>docker run -p 5000:5000 flask-docker-app</code>: Executa el contenidor i mapatge el port 5000 del teu host al port 5000 del contenidor.</li>
</ul>
</div><h1>Prova de l'Aplicació</h1>
<div class='content'><p>Obre el teu navegador web i navega a <code>http://localhost:5000</code>. Hauries de veure el missatge &quot;Hola, Docker!&quot;.</p>
</div><h1>Conclusió</h1>
<div class='content'><p>Utilitzar Docker amb Flask simplifica el procés de desplegament assegurant que la teva aplicació s'executi de manera consistent en diferents entorns. En conteniritzar la teva aplicació Flask, pots gestionar fàcilment les dependències, escalar la teva aplicació i desplegar-la en diverses plataformes.</p>
</div><h2>Resum</h2>
<div class='content'><ul>
<li>Els contenidors Docker empaqueten aplicacions amb totes les seves dependències.</li>
<li>Un Dockerfile defineix els passos per crear una imatge Docker.</li>
<li>Construir i executar un contenidor Docker implica utilitzar comandes Docker senzilles.</li>
<li>Docker assegura consistència i portabilitat per a les teves aplicacions Flask.</li>
</ul>
<p>En dominar Docker, pots millorar el teu flux de treball de desenvolupament Flask i agilitzar el procés de desplegament.</p>
</div><div class='row navigation'><div class='col-6'><a href='deploying-flask-applications'>&#x25C4; Desplegar Aplicacions Flask</a></div><div class='col-6 text-end'><a href='caching-strategies'>Estratègies de Caché &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
