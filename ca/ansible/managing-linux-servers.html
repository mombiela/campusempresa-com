<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/ansible/managing-linux-servers" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció a Ansible</h1>
<div class='content'><ul>
<li><strong>Què és Ansible?</strong>
<ul>
<li>Ansible és una eina d'automatització de codi obert per a tasques de TI com la gestió de configuracions, el desplegament d'aplicacions i l'automatització de tasques.</li>
</ul>
</li>
<li><strong>Per què utilitzar Ansible per gestionar servidors Linux?</strong>
<ul>
<li>Arquitectura sense agents</li>
<li>Sintaxi YAML senzilla</li>
<li>Idempotència (assegura que les tasques només s'apliquin quan sigui necessari)</li>
</ul>
</li>
</ul>
</div><h1>Configuració d'Ansible</h1>
<div class='content'><ul>
<li><strong>Instal·lació</strong>
<ul>
<li>En una màquina Linux, instal·la Ansible utilitzant el gestor de paquets:
<pre><code class="language-bash">sudo apt update
sudo apt install ansible
</code></pre>
</li>
</ul>
</li>
<li><strong>Configuració</strong>
<ul>
<li>Fitxer de configuració d'Ansible (<code>ansible.cfg</code>):
<pre><code class="language-ini">[defaults]
inventory = ./hosts
</code></pre>
</li>
</ul>
</li>
<li><strong>Fitxer d'inventari</strong>
<ul>
<li>Defineix els teus nodes gestionats en un fitxer d'inventari (<code>hosts</code>):
<pre><code class="language-ini">[webservers]
web1.example.com
web2.example.com

[dbservers]
db1.example.com
db2.example.com
</code></pre>
</li>
</ul>
</li>
</ul>
</div><h1>Comandes bàsiques d'Ansible</h1>
<div class='content'><ul>
<li><strong>Fer ping a tots els hosts</strong>
<pre><code class="language-bash">ansible all -m ping
</code></pre>
</li>
<li><strong>Executar una comanda en tots els hosts</strong>
<pre><code class="language-bash">ansible all -a &quot;/bin/echo hello&quot;
</code></pre>
</li>
</ul>
</div><h1>Escriure Playbooks</h1>
<div class='content'><ul>
<li><strong>Introducció als Playbooks</strong>
<ul>
<li>Els playbooks són fitxers YAML que defineixen una sèrie de tasques a executar en nodes gestionats.</li>
</ul>
</li>
<li><strong>Estructura bàsica d'un Playbook</strong>
<pre><code class="language-yaml">---
- name: Ensure Apache is installed
  hosts: webservers
  tasks:
    - name: Install Apache
      apt:
        name: apache2
        state: present
</code></pre>
</li>
<li><strong>Executar un Playbook</strong>
<pre><code class="language-bash">ansible-playbook playbook.yml
</code></pre>
</li>
</ul>
</div><h1>Funcionalitats avançades dels Playbooks</h1>
<div class='content'><ul>
<li><strong>Variables</strong>
<pre><code class="language-yaml">vars:
  http_port: 80
tasks:
  - name: Ensure Apache is listening on port 80
    lineinfile:
      path: /etc/apache2/ports.conf
      regexp: '^Listen'
      line: &quot;Listen {{ http_port }}&quot;
</code></pre>
</li>
<li><strong>Handlers</strong>
<pre><code class="language-yaml">tasks:
  - name: Install Apache
    apt:
      name: apache2
      state: present
    notify: Restart Apache

handlers:
  - name: Restart Apache
    service:
      name: apache2
      state: restarted
</code></pre>
</li>
<li><strong>Plantilles</strong>
<ul>
<li>Utilitzar plantilles Jinja2 per gestionar fitxers de configuració:
<pre><code class="language-yaml">tasks:
  - name: Deploy Apache configuration
    template:
      src: templates/apache2.conf.j2
      dest: /etc/apache2/apache2.conf
</code></pre>
</li>
</ul>
</li>
</ul>
</div><h1>Rols i reutilització</h1>
<div class='content'><ul>
<li><strong>Introducció als rols</strong>
<ul>
<li>Els rols permeten organitzar playbooks en components reutilitzables.</li>
</ul>
</li>
<li><strong>Crear un rol</strong>
<pre><code class="language-bash">ansible-galaxy init myrole
</code></pre>
</li>
<li><strong>Utilitzar un rol en un Playbook</strong>
<pre><code class="language-yaml">---
- name: Apply myrole to webservers
  hosts: webservers
  roles:
    - myrole
</code></pre>
</li>
</ul>
</div><h1>Gestió de múltiples entorns</h1>
<div class='content'><ul>
<li><strong>Variables específiques d'entorn</strong>
<ul>
<li>Defineix variables per a diferents entorns en fitxers separats:
<pre><code class="language-yaml"># group_vars/staging.yml
http_port: 8080

# group_vars/production.yml
http_port: 80
</code></pre>
</li>
</ul>
</li>
<li><strong>Utilitzar Playbooks específics d'entorn</strong>
<pre><code class="language-bash">ansible-playbook -i staging playbook.yml
ansible-playbook -i production playbook.yml
</code></pre>
</li>
</ul>
</div><h1>Ansible Vault</h1>
<div class='content'><ul>
<li><strong>Xifrar dades sensibles</strong>
<ul>
<li>Xifra dades sensibles utilitzant Ansible Vault:
<pre><code class="language-bash">ansible-vault encrypt vars/secrets.yml
</code></pre>
</li>
</ul>
</li>
<li><strong>Utilitzar fitxers xifrats en Playbooks</strong>
<pre><code class="language-yaml">vars_files:
  - vars/secrets.yml
</code></pre>
</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Gestionar servidors Linux amb Ansible simplifica i automatitza moltes tasques administratives. Entenent els conceptes bàsics d'Ansible, escrivint playbooks i utilitzant funcionalitats avançades com els rols i Ansible Vault, pots gestionar i escalar la teva infraestructura de manera eficient. Aquest curs ha proporcionat una visió general completa des de temes per a principiants fins a avançats, equipant-te amb el coneixement per aprofitar Ansible en el teu entorn.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
