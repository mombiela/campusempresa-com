<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves d'Integració en C#</title>

    <link rel="alternate" href="https://campusempresa.com/es/csharp/integration-testing" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/csharp/integration-testing" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/csharp/integration-testing" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/csharp/integration-testing" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='unit-testing'>&#x25C4; Proves Unitàries</a></div><div class='col-6 text-end'><a href='debugging-techniques'>Tècniques de Depuració &#x25BA;</a></div></div><div class='content'><p>Les proves d'integració són una fase crucial en el cicle de vida del desenvolupament de programari on les unitats o components individuals d'una aplicació de programari es combinen i es proven com un grup. Això assegura que els components integrats funcionin junts com s'espera. En aquesta secció, explorarem les proves d'integració en C#, des dels conceptes bàsics fins a tècniques avançades.</p>
</div><h1>Què són les Proves d'Integració?</h1>
<div class='content'><p>Les proves d'integració se centren en verificar les interaccions entre diferents mòduls o serveis en una aplicació de programari. Es realitzen després de les proves unitàries i abans de les proves de sistema.</p>
<ul>
<li><strong>Objectiu</strong>: Identificar problemes en la interacció entre unitats integrades.</li>
<li><strong>Abast</strong>: Prova múltiples components junts.</li>
<li><strong>Eines</strong>: Eines comunes inclouen NUnit, MSTest i xUnit.</li>
</ul>
</div><h1>Per què són Importants les Proves d'Integració?</h1>
<div class='content'><ul>
<li><strong>Detecta Problemes d'Interfície</strong>: Assegura que els diferents mòduls interactuïn correctament.</li>
<li><strong>Millora la Qualitat del Codi</strong>: Ajuda a detectar errors que les proves unitàries poden passar per alt.</li>
<li><strong>Facilita una Integració Suau</strong>: Assegura que el nou codi s'integri bé amb el codi existent.</li>
</ul>
</div><h1>Configuració de les Proves d'Integració en C#</h1>
<div class='content'></div><h2>Prerequisits</h2>
<div class='content'><p>Abans de començar a escriure proves d'integració, assegura't de tenir el següent:</p>
<ul>
<li>Visual Studio o qualsevol IDE de C#.</li>
<li>Un marc de proves com NUnit, MSTest o xUnit.</li>
<li>Una comprensió bàsica de les proves unitàries.</li>
</ul>
</div><h2>Exemple: Configuració de NUnit per a Proves d'Integració</h2>
<div class='content'><ol>
<li>
<p><strong>Instal·lar NUnit i NUnit3TestAdapter</strong>:</p>
<ul>
<li>Obre el teu projecte a Visual Studio.</li>
<li>Ves a <code>Eines</code> &gt; <code>Gestor de Paquets NuGet</code> &gt; <code>Gestiona Paquets NuGet per a la Solució</code>.</li>
<li>Cerca <code>NUnit</code> i <code>NUnit3TestAdapter</code> i instal·la'ls.</li>
</ul>
</li>
<li>
<p><strong>Crear un Projecte de Proves</strong>:</p>
<ul>
<li>Fes clic dret a la teva solució a l'Explorador de Solucions.</li>
<li>Selecciona <code>Afegeix</code> &gt; <code>Nou Projecte</code>.</li>
<li>Tria <code>Projecte de Proves Unitàries</code> i posa-li un nom adequat (per exemple, <code>MyApp.IntegrationTests</code>).</li>
</ul>
</li>
</ol>
</div><h2>Escriure la Teva Primera Prova d'Integració</h2>
<div class='content'><p>Escrivim una simple prova d'integració per a un servei que interactua amb una base de dades.</p>
<h4>Codi d'Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgTlVuaXQuRnJhbWV3b3JrOwp1c2luZyBTeXN0ZW0uRGF0YS5TcWxDbGllbnQ7CgpuYW1lc3BhY2UgTXlBcHAuSW50ZWdyYXRpb25UZXN0cwp7CiAgICBbVGVzdEZpeHR1cmVdCiAgICBwdWJsaWMgY2xhc3MgRGF0YWJhc2VTZXJ2aWNlVGVzdHMKICAgIHsKICAgICAgICBwcml2YXRlIERhdGFiYXNlU2VydmljZSBfZGF0YWJhc2VTZXJ2aWNlOwoKICAgICAgICBbU2V0VXBdCiAgICAgICAgcHVibGljIHZvaWQgU2V0dXAoKQogICAgICAgIHsKICAgICAgICAgICAgLy8gSW5pY2lhbGl0emEgZWwgc2VydmVpIGFtYiB1bmEgY2FkZW5hIGRlIGNvbm5leGnDsyBkZSBiYXNlIGRlIGRhZGVzIGRlIHByb3ZhCiAgICAgICAgICAgIF9kYXRhYmFzZVNlcnZpY2UgPSBuZXcgRGF0YWJhc2VTZXJ2aWNlKCJUZXN0Q29ubmVjdGlvblN0cmluZyIpOwogICAgICAgIH0KCiAgICAgICAgW1Rlc3RdCiAgICAgICAgcHVibGljIHZvaWQgR2V0VXNlckJ5SWRfU2hvdWxkUmV0dXJuQ29ycmVjdFVzZXIoKQogICAgICAgIHsKICAgICAgICAgICAgLy8gQXJyYW5nZQogICAgICAgICAgICB2YXIgZXhwZWN0ZWRVc2VySWQgPSAxOwogICAgICAgICAgICB2YXIgZXhwZWN0ZWRVc2VyTmFtZSA9ICJKb2huIERvZSI7CgogICAgICAgICAgICAvLyBBY3QKICAgICAgICAgICAgdmFyIHVzZXIgPSBfZGF0YWJhc2VTZXJ2aWNlLkdldFVzZXJCeUlkKGV4cGVjdGVkVXNlcklkKTsKCiAgICAgICAgICAgIC8vIEFzc2VydAogICAgICAgICAgICBBc3NlcnQuQXJlRXF1YWwoZXhwZWN0ZWRVc2VySWQsIHVzZXIuSWQpOwogICAgICAgICAgICBBc3NlcnQuQXJlRXF1YWwoZXhwZWN0ZWRVc2VyTmFtZSwgdXNlci5OYW1lKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using NUnit.Framework;
using System.Data.SqlClient;

namespace MyApp.IntegrationTests
{
    [TestFixture]
    public class DatabaseServiceTests
    {
        private DatabaseService _databaseService;

        [SetUp]
        public void Setup()
        {
            // Inicialitza el servei amb una cadena de connexi&oacute; de base de dades de prova
            _databaseService = new DatabaseService(&quot;TestConnectionString&quot;);
        }

        [Test]
        public void GetUserById_ShouldReturnCorrectUser()
        {
            // Arrange
            var expectedUserId = 1;
            var expectedUserName = &quot;John Doe&quot;;

            // Act
            var user = _databaseService.GetUserById(expectedUserId);

            // Assert
            Assert.AreEqual(expectedUserId, user.Id);
            Assert.AreEqual(expectedUserName, user.Name);
        }
    }
}</pre></div><div class='content'><h4>Explicació</h4>
<ul>
<li><strong>Mètode Setup</strong>: Inicialitza el <code>DatabaseService</code> amb una cadena de connexió de base de dades de prova.</li>
<li><strong>Mètode de Prova</strong>: <code>GetUserById_ShouldReturnCorrectUser</code> comprova si el servei retorna l'usuari correcte per a un ID donat.</li>
</ul>
</div><h1>Tècniques Avançades de Proves d'Integració</h1>
<div class='content'></div><h2>Mocking de Dependències</h2>
<div class='content'><p>En aplicacions del món real, els serveis sovint depenen de sistemes externs com bases de dades, serveis web o API de tercers. Fer mocking d'aquestes dependències pot ajudar a aïllar els components que s'estan provant.</p>
<h4>Codi d'Exemple amb Mocking</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNpbmcgTW9xOwp1c2luZyBOVW5pdC5GcmFtZXdvcms7CgpuYW1lc3BhY2UgTXlBcHAuSW50ZWdyYXRpb25UZXN0cwp7CiAgICBbVGVzdEZpeHR1cmVdCiAgICBwdWJsaWMgY2xhc3MgVXNlclNlcnZpY2VUZXN0cwogICAgewogICAgICAgIHByaXZhdGUgTW9jazxJVXNlclJlcG9zaXRvcnk+IF91c2VyUmVwb3NpdG9yeU1vY2s7CiAgICAgICAgcHJpdmF0ZSBVc2VyU2VydmljZSBfdXNlclNlcnZpY2U7CgogICAgICAgIFtTZXRVcF0KICAgICAgICBwdWJsaWMgdm9pZCBTZXR1cCgpCiAgICAgICAgewogICAgICAgICAgICBfdXNlclJlcG9zaXRvcnlNb2NrID0gbmV3IE1vY2s8SVVzZXJSZXBvc2l0b3J5PigpOwogICAgICAgICAgICBfdXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UoX3VzZXJSZXBvc2l0b3J5TW9jay5PYmplY3QpOwogICAgICAgIH0KCiAgICAgICAgW1Rlc3RdCiAgICAgICAgcHVibGljIHZvaWQgR2V0VXNlckJ5SWRfU2hvdWxkUmV0dXJuQ29ycmVjdFVzZXIoKQogICAgICAgIHsKICAgICAgICAgICAgLy8gQXJyYW5nZQogICAgICAgICAgICB2YXIgZXhwZWN0ZWRVc2VyID0gbmV3IFVzZXIgeyBJZCA9IDEsIE5hbWUgPSAiSm9obiBEb2UiIH07CiAgICAgICAgICAgIF91c2VyUmVwb3NpdG9yeU1vY2suU2V0dXAocmVwbyA9PiByZXBvLkdldFVzZXJCeUlkKDEpKS5SZXR1cm5zKGV4cGVjdGVkVXNlcik7CgogICAgICAgICAgICAvLyBBY3QKICAgICAgICAgICAgdmFyIHVzZXIgPSBfdXNlclNlcnZpY2UuR2V0VXNlckJ5SWQoMSk7CgogICAgICAgICAgICAvLyBBc3NlcnQKICAgICAgICAgICAgQXNzZXJ0LkFyZUVxdWFsKGV4cGVjdGVkVXNlci5JZCwgdXNlci5JZCk7CiAgICAgICAgICAgIEFzc2VydC5BcmVFcXVhbChleHBlY3RlZFVzZXIuTmFtZSwgdXNlci5OYW1lKTsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>using Moq;
using NUnit.Framework;

namespace MyApp.IntegrationTests
{
    [TestFixture]
    public class UserServiceTests
    {
        private Mock&lt;IUserRepository&gt; _userRepositoryMock;
        private UserService _userService;

        [SetUp]
        public void Setup()
        {
            _userRepositoryMock = new Mock&lt;IUserRepository&gt;();
            _userService = new UserService(_userRepositoryMock.Object);
        }

        [Test]
        public void GetUserById_ShouldReturnCorrectUser()
        {
            // Arrange
            var expectedUser = new User { Id = 1, Name = &quot;John Doe&quot; };
            _userRepositoryMock.Setup(repo =&gt; repo.GetUserById(1)).Returns(expectedUser);

            // Act
            var user = _userService.GetUserById(1);

            // Assert
            Assert.AreEqual(expectedUser.Id, user.Id);
            Assert.AreEqual(expectedUser.Name, user.Name);
        }
    }
}</pre></div><div class='content'></div><h2>Integració Contínua (CI) i Proves Automatitzades</h2>
<div class='content'><p>Integrar les teves proves en una pipeline de CI assegura que s'executin automàticament sempre que es facin canvis en el codi.</p>
<ul>
<li><strong>Eines</strong>: Jenkins, Azure DevOps, GitHub Actions.</li>
<li><strong>Beneficis</strong>: Detecció primerenca de problemes d'integració, entorn de proves consistent.</li>
</ul>
</div><h1>Resum</h1>
<div class='content'><p>Les proves d'integració són essencials per assegurar que els diferents components de la teva aplicació funcionin junts com s'espera. Configurant un marc robust de proves d'integració en C#, pots detectar errors aviat, millorar la qualitat del codi i facilitar una integració més suau de noves funcionalitats. Tant si ets un desenvolupador principiant com avançat, dominar les proves d'integració millorarà significativament el teu flux de treball de desenvolupament.</p>
</div><div class='row navigation'><div class='col-6'><a href='unit-testing'>&#x25C4; Proves Unitàries</a></div><div class='col-6 text-end'><a href='debugging-techniques'>Tècniques de Depuració &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
