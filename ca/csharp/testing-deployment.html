<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves i Desplegament</title>

    <link rel="alternate" href="https://campusempresa.com/es/csharp/testing-deployment" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/csharp/testing-deployment" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/csharp/testing-deployment" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/csharp/testing-deployment" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Les proves i el desplegament són etapes crucials en el cicle de vida del desenvolupament de programari. Aquesta secció cobrirà els conceptes bàsics de les proves en C#, incloent-hi les proves unitàries, les proves d'integració i les proves automatitzades. També discutirem estratègies de desplegament i eines per assegurar que les teves aplicacions en C# es lliurin de manera eficient i fiable.</p>
</div><h1>Proves Unitàries en C#</h1>
<div class='content'><p>Les proves unitàries impliquen provar components individuals del teu codi per assegurar que funcionen com s'espera. En C#, el marc més utilitzat per a les proves unitàries és NUnit.</p>
</div><h2>Configuració de NUnit</h2>
<div class='content'><p>Per començar amb NUnit:</p>
<ol>
<li>Instal·la els paquets NUnit i NUnit3TestAdapter a través de NuGet.</li>
<li>Crea un projecte de proves a la teva solució.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhlbXBsZSBkJ3VuYSBwcm92YSB1bml0w6ByaWEgc2ltcGxlIHV0aWxpdHphbnQgTlVuaXQKdXNpbmcgTlVuaXQuRnJhbWV3b3JrOwoKbmFtZXNwYWNlIE15QXBwLlRlc3RzCnsKICAgIFtUZXN0Rml4dHVyZV0KICAgIHB1YmxpYyBjbGFzcyBDYWxjdWxhdG9yVGVzdHMKICAgIHsKICAgICAgICBbVGVzdF0KICAgICAgICBwdWJsaWMgdm9pZCBBZGRfV2hlbkNhbGxlZF9SZXR1cm5zU3VtT2ZBcmd1bWVudHMoKQogICAgICAgIHsKICAgICAgICAgICAgLy8gQXJyYW5nZQogICAgICAgICAgICB2YXIgY2FsY3VsYXRvciA9IG5ldyBDYWxjdWxhdG9yKCk7CgogICAgICAgICAgICAvLyBBY3QKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGN1bGF0b3IuQWRkKDEsIDIpOwoKICAgICAgICAgICAgLy8gQXNzZXJ0CiAgICAgICAgICAgIEFzc2VydC5BcmVFcXVhbCgzLCByZXN1bHQpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Exemple d'una prova unit&agrave;ria simple utilitzant NUnit
using NUnit.Framework;

namespace MyApp.Tests
{
    [TestFixture]
    public class CalculatorTests
    {
        [Test]
        public void Add_WhenCalled_ReturnsSumOfArguments()
        {
            // Arrange
            var calculator = new Calculator();

            // Act
            var result = calculator.Add(1, 2);

            // Assert
            Assert.AreEqual(3, result);
        }
    }
}</pre></div><div class='content'></div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Test Fixture</strong>: Una classe que conté proves, marcada amb <code>[TestFixture]</code>.</li>
<li><strong>Test</strong>: Un mètode que realitza una prova, marcat amb <code>[Test]</code>.</li>
<li><strong>Arrange, Act, Assert</strong>: Un patró comú en les proves unitàries:
<ul>
<li><strong>Arrange</strong>: Configura les condicions per a la prova.</li>
<li><strong>Act</strong>: Executa el codi que s'està provant.</li>
<li><strong>Assert</strong>: Verifica el resultat.</li>
</ul>
</li>
</ul>
</div><h1>Proves d'Integració</h1>
<div class='content'><p>Les proves d'integració se centren en provar la interacció entre diferents components o sistemes.</p>
</div><h2>Exemple de Prova d'Integració</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhlbXBsZSBkJ3VuYSBwcm92YSBkJ2ludGVncmFjacOzCnVzaW5nIE5Vbml0LkZyYW1ld29yazsKdXNpbmcgU3lzdGVtLkRhdGEuU3FsQ2xpZW50OwoKbmFtZXNwYWNlIE15QXBwLkludGVncmF0aW9uVGVzdHMKewogICAgW1Rlc3RGaXh0dXJlXQogICAgcHVibGljIGNsYXNzIERhdGFiYXNlVGVzdHMKICAgIHsKICAgICAgICBbVGVzdF0KICAgICAgICBwdWJsaWMgdm9pZCBDYW5JbnNlcnRBbmRSZXRyaWV2ZURhdGEoKQogICAgICAgIHsKICAgICAgICAgICAgLy8gQXJyYW5nZQogICAgICAgICAgICB2YXIgY29ubmVjdGlvblN0cmluZyA9ICJZb3VyQ29ubmVjdGlvblN0cmluZ0hlcmUiOwogICAgICAgICAgICB2YXIgcXVlcnkgPSAiSU5TRVJUIElOVE8gVXNlcnMgKE5hbWUpIFZBTFVFUyAoJ0pvaG4gRG9lJyk7IFNFTEVDVCBOYW1lIEZST00gVXNlcnMgV0hFUkUgTmFtZSA9ICdKb2huIERvZSc7IjsKCiAgICAgICAgICAgIC8vIEFjdAogICAgICAgICAgICB1c2luZyAodmFyIGNvbm5lY3Rpb24gPSBuZXcgU3FsQ29ubmVjdGlvbihjb25uZWN0aW9uU3RyaW5nKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29ubmVjdGlvbi5PcGVuKCk7CiAgICAgICAgICAgICAgICB2YXIgY29tbWFuZCA9IG5ldyBTcWxDb21tYW5kKHF1ZXJ5LCBjb25uZWN0aW9uKTsKICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBjb21tYW5kLkV4ZWN1dGVTY2FsYXIoKTsKCiAgICAgICAgICAgICAgICAvLyBBc3NlcnQKICAgICAgICAgICAgICAgIEFzc2VydC5BcmVFcXVhbCgiSm9obiBEb2UiLCByZXN1bHQpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Exemple d'una prova d'integraci&oacute;
using NUnit.Framework;
using System.Data.SqlClient;

namespace MyApp.IntegrationTests
{
    [TestFixture]
    public class DatabaseTests
    {
        [Test]
        public void CanInsertAndRetrieveData()
        {
            // Arrange
            var connectionString = &quot;YourConnectionStringHere&quot;;
            var query = &quot;INSERT INTO Users (Name) VALUES ('John Doe'); SELECT Name FROM Users WHERE Name = 'John Doe';&quot;;

            // Act
            using (var connection = new SqlConnection(connectionString))
            {
                connection.Open();
                var command = new SqlCommand(query, connection);
                var result = command.ExecuteScalar();

                // Assert
                Assert.AreEqual(&quot;John Doe&quot;, result);
            }
        }
    }
}</pre></div><div class='content'></div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Configuració de la Base de Dades</strong>: Assegura't que la teva base de dades de proves estigui configurada i neta abans de realitzar les proves.</li>
<li><strong>Gestió de Transaccions</strong>: Utilitza transaccions per assegurar que les proves no afectin l'estat real de la base de dades.</li>
</ul>
</div><h1>Proves Automatitzades</h1>
<div class='content'><p>Les proves automatitzades impliquen executar proves automàticament com a part del teu procés de construcció. Això assegura que els nous canvis no trenquin la funcionalitat existent.</p>
</div><h2>Integració Contínua (CI)</h2>
<div class='content'><p>Eines de CI com Jenkins, Azure DevOps i GitHub Actions es poden utilitzar per automatitzar el teu procés de proves.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGRlIHdvcmtmbG93IGRlIEdpdEh1YiBBY3Rpb25zIHBlciBleGVjdXRhciBwcm92ZXMKbmFtZTogQ0kKCm9uOiBbcHVzaCwgcHVsbF9yZXF1ZXN0XQoKam9iczoKICBidWlsZDoKICAgIHJ1bnMtb246IHVidW50dS1sYXRlc3QKCiAgICBzdGVwczoKICAgIC0gdXNlczogYWN0aW9ucy9jaGVja291dEB2MgogICAgLSBuYW1lOiBTZXR1cCAuTkVUCiAgICAgIHVzZXM6IGFjdGlvbnMvc2V0dXAtZG90bmV0QHYxCiAgICAgIHdpdGg6CiAgICAgICAgZG90bmV0LXZlcnNpb246ICc1LjAueCcKICAgIC0gbmFtZTogSW5zdGFsbCBkZXBlbmRlbmNpZXMKICAgICAgcnVuOiBkb3RuZXQgcmVzdG9yZQogICAgLSBuYW1lOiBCdWlsZAogICAgICBydW46IGRvdG5ldCBidWlsZCAtLW5vLXJlc3RvcmUKICAgIC0gbmFtZTogVGVzdAogICAgICBydW46IGRvdG5ldCB0ZXN0IC0tbm8tYnVpbGQgLS12ZXJib3NpdHkgbm9ybWFs"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple de workflow de GitHub Actions per executar proves
name: CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Setup .NET
      uses: actions/setup-dotnet@v1
      with:
        dotnet-version: '5.0.x'
    - name: Install dependencies
      run: dotnet restore
    - name: Build
      run: dotnet build --no-restore
    - name: Test
      run: dotnet test --no-build --verbosity normal</pre></div><div class='content'></div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Pipeline de CI/CD</strong>: Una sèrie de passos automatitzats per construir, provar i desplegar la teva aplicació.</li>
<li><strong>Triggers de Construcció</strong>: Esdeveniments que desencadenen el procés de CI, com ara empentes de codi o sol·licituds d'extracció.</li>
</ul>
</div><h1>Desplegament</h1>
<div class='content'><p>El desplegament és el procés de lliurar la teva aplicació a un entorn de producció.</p>
</div><h2>Estratègies de Desplegament</h2>
<div class='content'><ul>
<li><strong>Desplegament Manual</strong>: Copiar manualment els fitxers al servidor.</li>
<li><strong>Desplegament Automatitzat</strong>: Utilitzar eines com Azure DevOps, Octopus Deploy o GitHub Actions per automatitzar el procés de desplegament.</li>
</ul>
</div><h2>Exemple de Desplegament Automatitzat amb GitHub Actions</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGRlIHdvcmtmbG93IGRlIEdpdEh1YiBBY3Rpb25zIHBlciBkZXNwbGVnYXIgdW5hIGFwbGljYWNpw7MgLk5FVApuYW1lOiBEZXBsb3kgdG8gQXp1cmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCgpqb2JzOgogIGJ1aWxkLWFuZC1kZXBsb3k6CiAgICBydW5zLW9uOiB1YnVudHUtbGF0ZXN0CgogICAgc3RlcHM6CiAgICAtIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKICAgIC0gbmFtZTogU2V0dXAgLk5FVAogICAgICB1c2VzOiBhY3Rpb25zL3NldHVwLWRvdG5ldEB2MQogICAgICB3aXRoOgogICAgICAgIGRvdG5ldC12ZXJzaW9uOiAnNS4wLngnCiAgICAtIG5hbWU6IEJ1aWxkCiAgICAgIHJ1bjogZG90bmV0IGJ1aWxkIC0tY29uZmlndXJhdGlvbiBSZWxlYXNlCiAgICAtIG5hbWU6IFB1Ymxpc2gKICAgICAgcnVuOiBkb3RuZXQgcHVibGlzaCAtLWNvbmZpZ3VyYXRpb24gUmVsZWFzZSAtLW91dHB1dCAuL3B1Ymxpc2gKICAgIC0gbmFtZTogRGVwbG95IHRvIEF6dXJlIFdlYiBBcHAKICAgICAgdXNlczogYXp1cmUvd2ViYXBwcy1kZXBsb3lAdjIKICAgICAgd2l0aDoKICAgICAgICBhcHAtbmFtZTogJ3lvdXItYXBwLW5hbWUnCiAgICAgICAgcHVibGlzaC1wcm9maWxlOiAke3sgc2VjcmV0cy5BWlVSRV9XRUJBUFBfUFVCTElTSF9QUk9GSUxFIH19CiAgICAgICAgcGFja2FnZTogLi9wdWJsaXNo"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple de workflow de GitHub Actions per desplegar una aplicaci&oacute; .NET
name: Deploy to Azure

on:
  push:
    branches:
      - main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Setup .NET
      uses: actions/setup-dotnet@v1
      with:
        dotnet-version: '5.0.x'
    - name: Build
      run: dotnet build --configuration Release
    - name: Publish
      run: dotnet publish --configuration Release --output ./publish
    - name: Deploy to Azure Web App
      uses: azure/webapps-deploy@v2
      with:
        app-name: 'your-app-name'
        publish-profile: ${{ secrets.AZURE_WEBAPP_PUBLISH_PROFILE }}
        package: ./publish</pre></div><div class='content'></div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Desplegament Continu (CD)</strong>: Desplegar automàticament els canvis de codi a producció després de passar les proves.</li>
<li><strong>Variables d'Entorn</strong>: Gestionar de manera segura les configuracions per a diferents entorns (per exemple, desenvolupament, preproducció, producció).</li>
</ul>
</div><h1>Resum</h1>
<div class='content'><p>En aquesta secció, hem cobert els conceptes essencials de les proves i el desplegament en C#. Hem discutit les proves unitàries amb NUnit, les proves d'integració i les proves automatitzades utilitzant eines de CI. També hem explorat estratègies de desplegament, incloent-hi el desplegament manual i automatitzat. En dominar aquests conceptes, pots assegurar que les teves aplicacions en C# siguin fiables, mantenibles i es lliurin de manera eficient a producció.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
