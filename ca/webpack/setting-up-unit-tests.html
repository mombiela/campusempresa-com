<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuració de Proves Unitàries</title>

    <link rel="alternate" href="https://campusempresa.com/es/webpack/setting-up-unit-tests" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/webpack/setting-up-unit-tests" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/webpack/setting-up-unit-tests" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/webpack/setting-up-unit-tests" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Les proves unitàries són una part crucial del procés de desenvolupament, assegurant que les parts individuals de la teva aplicació funcionin com s'espera. En aquesta secció, cobrirem com configurar proves unitàries en un projecte Webpack, des dels conceptes bàsics fins a configuracions més avançades.</p>
</div><h1>Introducció a les Proves Unitàries</h1>
<div class='content'><p>Abans d'endinsar-nos en la configuració, discutim breument què són les proves unitàries i per què són importants.</p>
<ul>
<li><strong>Proves Unitàries</strong>: Provar unitats o components individuals d'un programari per validar que cada part funcioni correctament.</li>
<li><strong>Beneficis</strong>:
<ul>
<li>Assegura la fiabilitat del codi.</li>
<li>Facilita la refactorització.</li>
<li>Ajuda a detectar errors a l'inici del cicle de desenvolupament.</li>
</ul>
</li>
</ul>
</div><h1>Triar un Marc de Proves</h1>
<div class='content'><p>Hi ha diversos marcs de proves disponibles, però per a aquest curs, ens centrarem en Jest, un marc de proves popular per a JavaScript.</p>
<ul>
<li><strong>Jest</strong>:
<ul>
<li>Desenvolupat per Facebook.</li>
<li>Funciona bé amb React i altres biblioteques de JavaScript.</li>
<li>Proporciona una API rica per a afirmacions, simulacions i més.</li>
</ul>
</li>
</ul>
</div><h1>Instal·lar Jest</h1>
<div class='content'><p>Primer, instal·lem Jest en el teu projecte Webpack.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLS1zYXZlLWRldiBqZXN0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install --save-dev jest</pre></div><div class='content'><p>A continuació, afegeix un script al teu <code>package.json</code> per executar Jest:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJzY3JpcHRzIjogewogICAgInRlc3QiOiAiamVzdCIKICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;jest&quot;
  }
}</pre></div><div class='content'></div><h1>Configurar Webpack per a Jest</h1>
<div class='content'><p>Cal configurar Webpack per treballar sense problemes amb Jest. Això implica configurar Babel per transpil·lar codi ES6+ i configurar Jest per entendre les teves rutes de mòduls.</p>
<ol>
<li>
<p><strong>Instal·lar Babel i els presets necessaris</strong>:</p>
<pre><code class="language-bash">npm install --save-dev @babel/core @babel/preset-env @babel/preset-react babel-jest
</code></pre>
</li>
<li>
<p><strong>Crear un fitxer de configuració de Babel (<code>babel.config.js</code>)</strong>:</p>
<pre><code class="language-javascript">module.exports = {
  presets: [
    '@babel/preset-env',
    '@babel/preset-react'
  ]
};
</code></pre>
</li>
<li>
<p><strong>Actualitzar la configuració de Jest en <code>package.json</code></strong>:</p>
<pre><code class="language-json">{
  &quot;jest&quot;: {
    &quot;transform&quot;: {
      &quot;^.+\\.jsx?$&quot;: &quot;babel-jest&quot;
    },
    &quot;moduleNameMapper&quot;: {
      &quot;\\.(css|less|scss|sass)$&quot;: &quot;identity-obj-proxy&quot;
    }
  }
}
</code></pre>
</li>
</ol>
</div><h1>Escriure la Teva Primera Prova</h1>
<div class='content'><p>Escrivim una prova senzilla per començar.</p>
<ol>
<li>
<p><strong>Crear una funció per provar</strong> (<code>src/sum.js</code>):</p>
<pre><code class="language-javascript">function sum(a, b) {
  return a + b;
}
module.exports = sum;
</code></pre>
</li>
<li>
<p><strong>Escriure una prova per a la funció</strong> (<code>src/sum.test.js</code>):</p>
<pre><code class="language-javascript">const sum = require('./sum');

test('afegeix 1 + 2 per igualar 3', () =&gt; {
  expect(sum(1, 2)).toBe(3);
});
</code></pre>
</li>
<li>
<p><strong>Executar la prova</strong>:</p>
<pre><code class="language-bash">npm test
</code></pre>
<p>Hauries de veure una sortida indicant que la prova ha passat.</p>
</li>
</ol>
</div><h1>Configuració Avançada</h1>
<div class='content'><p>Per a projectes més complexos, potser necessitis configuracions addicionals.</p>
<ul>
<li>
<p><strong>Gestionar Actius Estàtics</strong>: Utilitza <code>identity-obj-proxy</code> per simular mòduls CSS.</p>
</li>
<li>
<p><strong>Cobertura de Codi</strong>: Jest pot generar informes de cobertura de codi.</p>
<pre><code class="language-json">{
  &quot;jest&quot;: {
    &quot;collectCoverage&quot;: true,
    &quot;collectCoverageFrom&quot;: [
      &quot;src/**/*.{js,jsx}&quot;,
      &quot;!src/index.js&quot;
    ]
  }
}
</code></pre>
</li>
<li>
<p><strong>Fitxers de Configuració</strong>: De vegades, necessites executar algun codi abans de cada suite de proves.</p>
<pre><code class="language-json">{
  &quot;jest&quot;: {
    &quot;setupFilesAfterEnv&quot;: [&quot;&lt;rootDir&gt;/src/setupTests.js&quot;]
  }
}
</code></pre>
<p>Crear <code>src/setupTests.js</code>:</p>
<pre><code class="language-javascript">// Exemple: importa alguns polyfills o configura variables globals
import '@testing-library/jest-dom/extend-expect';
</code></pre>
</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Configurar proves unitàries en un projecte Webpack és essencial per mantenir la qualitat i la fiabilitat del codi. Utilitzant Jest i configurant Webpack adequadament, pots assegurar-te que les teves proves s'executin sense problemes i proporcionin retroalimentació valuosa durant el desenvolupament. Recorda escriure proves per a totes les parts crítiques de la teva aplicació i executar-les freqüentment per detectar problemes a l'inici.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
