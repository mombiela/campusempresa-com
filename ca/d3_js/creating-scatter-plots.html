<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creació de Gràfics de Dispersió</title>

    <link rel="alternate" href="https://campusempresa.com/es/d3_js/creating-scatter-plots" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/d3_js/creating-scatter-plots" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/d3_js/creating-scatter-plots" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/d3_js/creating-scatter-plots" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='creating-pie-charts'>&#x25C4; Creació de gràfics de sectors</a></div><div class='col-6 text-end'><a href='hierarchical-data-and-tree-layouts'>Dades jeràrquiques i dissenys d'arbres &#x25BA;</a></div></div><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Els gràfics de dispersió són una eina de visualització potent utilitzada per mostrar la relació entre dues variables. En aquesta secció, aprendrem a crear gràfics de dispersió utilitzant D3.js, una biblioteca de JavaScript per produir visualitzacions de dades dinàmiques i interactives en navegadors web.</p>
</div><h1>Configuració de l'Entorn</h1>
<div class='content'><p>Abans de començar a crear gràfics de dispersió, assegura't de tenir el següent:</p>
<ul>
<li>Un coneixement bàsic d'HTML, CSS i JavaScript.</li>
<li>La biblioteca D3.js inclosa en el teu projecte.</li>
</ul>
</div><h2>Incloent D3.js</h2>
<div class='content'><p>Pots incloure D3.js en el teu fitxer HTML afegint la següent etiqueta de script a la secció <code>&lt;head&gt;</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImNhIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+R3LDoGZpYyBkZSBEaXNwZXJzacOzIGFtYiBEMy5qczwvdGl0bGU+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9kM2pzLm9yZy9kMy52Ny5taW4uanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cjxib2R5PgogICAgPCEtLSBFbCB0ZXUgY29udGluZ3V0IGFuaXLDoCBhcXXDrSAtLT4KPC9ib2R5Pgo8L2h0bWw+"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;ca&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Gr&agrave;fic de Dispersi&oacute; amb D3.js&lt;/title&gt;
    &lt;script src=&quot;https://d3js.org/d3.v7.min.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- El teu contingut anir&agrave; aqu&iacute; --&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class='content'></div><h1>Creació d'un Gràfic de Dispersió Bàsic</h1>
<div class='content'><p>Comencem creant un gràfic de dispersió senzill.</p>
</div><h2>Estructura HTML</h2>
<div class='content'><p>Primer, configura l'estructura HTML bàsica:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGJvZHk+CiAgICA8ZGl2IGlkPSJzY2F0dGVyLXBsb3QiPjwvZGl2PgogICAgPHNjcmlwdCBzcmM9InNjYXR0ZXItcGxvdC5qcyI+PC9zY3JpcHQ+CjwvYm9keT4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;body&gt;
    &lt;div id=&quot;scatter-plot&quot;&gt;&lt;/div&gt;
    &lt;script src=&quot;scatter-plot.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;</pre></div><div class='content'></div><h2>Codi JavaScript</h2>
<div class='content'><p>A continuació, crea un fitxer <code>scatter-plot.js</code> i afegeix el següent codi:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXN0YWJsZWl4IGxlcyBkaW1lbnNpb25zIGkgbWFyZ2VzIGRlbCBncsOgZmljCmNvbnN0IG1hcmdpbiA9IHt0b3A6IDIwLCByaWdodDogMzAsIGJvdHRvbTogNDAsIGxlZnQ6IDUwfSwKICAgICAgd2lkdGggPSA0NjAgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCwKICAgICAgaGVpZ2h0ID0gNDAwIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207CgovLyBBZmVnZWl4IGwnb2JqZWN0ZSBzdmcgYWwgY29zIGRlIGxhIHDDoGdpbmEKY29uc3Qgc3ZnID0gZDMuc2VsZWN0KCIjc2NhdHRlci1wbG90IikKICAuYXBwZW5kKCJzdmciKQogICAgLmF0dHIoIndpZHRoIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodCkKICAgIC5hdHRyKCJoZWlnaHQiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSkKICAuYXBwZW5kKCJnIikKICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCR7bWFyZ2luLnRvcH0pYCk7CgovLyBEYWRlcyBkZSBtb3N0cmEKY29uc3QgZGF0YSA9IFsKICB7eDogMzAsIHk6IDIwfSwge3g6IDUwLCB5OiA5MH0sIHt4OiA3MCwgeTogNTB9LAogIHt4OiA5MCwgeTogMTIwfSwge3g6IDExMCwgeTogODB9LCB7eDogMTMwLCB5OiAxNTB9Cl07CgovLyBBZmVnZWl4IGwnZWl4IFgKY29uc3QgeCA9IGQzLnNjYWxlTGluZWFyKCkKICAuZG9tYWluKFswLCBkMy5tYXgoZGF0YSwgZCA9PiBkLngpXSkKICAucmFuZ2UoWyAwLCB3aWR0aCBdKTsKc3ZnLmFwcGVuZCgiZyIpCiAgLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoMCwke2hlaWdodH0pYCkKICAuY2FsbChkMy5heGlzQm90dG9tKHgpKTsKCi8vIEFmZWdlaXggbCdlaXggWQpjb25zdCB5ID0gZDMuc2NhbGVMaW5lYXIoKQogIC5kb21haW4oWzAsIGQzLm1heChkYXRhLCBkID0+IGQueSldKQogIC5yYW5nZShbIGhlaWdodCwgMF0pOwpzdmcuYXBwZW5kKCJnIikKICAuY2FsbChkMy5heGlzTGVmdCh5KSk7CgovLyBBZmVnZWl4IHB1bnRzCnN2Zy5hcHBlbmQoJ2cnKQogIC5zZWxlY3RBbGwoImRvdCIpCiAgLmRhdGEoZGF0YSkKICAuZW50ZXIoKQogIC5hcHBlbmQoImNpcmNsZSIpCiAgICAuYXR0cigiY3giLCBkID0+IHgoZC54KSApCiAgICAuYXR0cigiY3kiLCBkID0+IHkoZC55KSApCiAgICAuYXR0cigiciIsIDUpCiAgICAuc3R5bGUoImZpbGwiLCAiIzY5YjNhMiIpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Estableix les dimensions i marges del gr&agrave;fic
const margin = {top: 20, right: 30, bottom: 40, left: 50},
      width = 460 - margin.left - margin.right,
      height = 400 - margin.top - margin.bottom;

// Afegeix l'objecte svg al cos de la p&agrave;gina
const svg = d3.select(&quot;#scatter-plot&quot;)
  .append(&quot;svg&quot;)
    .attr(&quot;width&quot;, width + margin.left + margin.right)
    .attr(&quot;height&quot;, height + margin.top + margin.bottom)
  .append(&quot;g&quot;)
    .attr(&quot;transform&quot;, `translate(${margin.left},${margin.top})`);

// Dades de mostra
const data = [
  {x: 30, y: 20}, {x: 50, y: 90}, {x: 70, y: 50},
  {x: 90, y: 120}, {x: 110, y: 80}, {x: 130, y: 150}
];

// Afegeix l'eix X
const x = d3.scaleLinear()
  .domain([0, d3.max(data, d =&gt; d.x)])
  .range([ 0, width ]);
svg.append(&quot;g&quot;)
  .attr(&quot;transform&quot;, `translate(0,${height})`)
  .call(d3.axisBottom(x));

// Afegeix l'eix Y
const y = d3.scaleLinear()
  .domain([0, d3.max(data, d =&gt; d.y)])
  .range([ height, 0]);
svg.append(&quot;g&quot;)
  .call(d3.axisLeft(y));

// Afegeix punts
svg.append('g')
  .selectAll(&quot;dot&quot;)
  .data(data)
  .enter()
  .append(&quot;circle&quot;)
    .attr(&quot;cx&quot;, d =&gt; x(d.x) )
    .attr(&quot;cy&quot;, d =&gt; y(d.y) )
    .attr(&quot;r&quot;, 5)
    .style(&quot;fill&quot;, &quot;#69b3a2&quot;);</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>Marges i Dimensions</strong>: Defineix els marges i dimensions del contenidor SVG.</li>
<li><strong>Contenidor SVG</strong>: Afegeix un element SVG al div <code>#scatter-plot</code> i estableix les seves dimensions.</li>
<li><strong>Dades de Mostra</strong>: Utilitza una matriu d'objectes per representar els punts de dades.</li>
<li><strong>Escales</strong>: Crea escales lineals per als eixos X i Y basant-se en les dades.</li>
<li><strong>Eixos</strong>: Afegeix els eixos X i Y al SVG.</li>
<li><strong>Punts</strong>: Afegeix cercles per representar els punts de dades.</li>
</ul>
</div><h1>Millorant el Gràfic de Dispersió</h1>
<div class='content'><p>Ara que tenim un gràfic de dispersió bàsic, anem a millorar-lo amb característiques addicionals.</p>
</div><h2>Afegint Etiquetes i Títols</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQWZlZ2VpeCBldGlxdWV0YSBkZSBsJ2VpeCBYCnN2Zy5hcHBlbmQoInRleHQiKQogIC5hdHRyKCJ0ZXh0LWFuY2hvciIsICJlbmQiKQogIC5hdHRyKCJ4Iiwgd2lkdGgpCiAgLmF0dHIoInkiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgMjApCiAgLnRleHQoIkV0aXF1ZXRhIEVpeCBYIik7CgovLyBBZmVnZWl4IGV0aXF1ZXRhIGRlIGwnZWl4IFkKc3ZnLmFwcGVuZCgidGV4dCIpCiAgLmF0dHIoInRleHQtYW5jaG9yIiwgImVuZCIpCiAgLmF0dHIoInRyYW5zZm9ybSIsICJyb3RhdGUoLTkwKSIpCiAgLmF0dHIoInkiLCAtbWFyZ2luLmxlZnQgKyAyMCkKICAuYXR0cigieCIsIC1tYXJnaW4udG9wKQogIC50ZXh0KCJFdGlxdWV0YSBFaXggWSIpOwoKLy8gQWZlZ2VpeCB0w610b2wKc3ZnLmFwcGVuZCgidGV4dCIpCiAgLmF0dHIoIngiLCB3aWR0aCAvIDIpCiAgLmF0dHIoInkiLCAtbWFyZ2luLnRvcCAvIDIpCiAgLmF0dHIoInRleHQtYW5jaG9yIiwgIm1pZGRsZSIpCiAgLnN0eWxlKCJmb250LXNpemUiLCAiMTZweCIpCiAgLnN0eWxlKCJ0ZXh0LWRlY29yYXRpb24iLCAidW5kZXJsaW5lIikKICAudGV4dCgiVMOtdG9sIGRlbCBHcsOgZmljIGRlIERpc3BlcnNpw7MiKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Afegeix etiqueta de l'eix X
svg.append(&quot;text&quot;)
  .attr(&quot;text-anchor&quot;, &quot;end&quot;)
  .attr(&quot;x&quot;, width)
  .attr(&quot;y&quot;, height + margin.top + 20)
  .text(&quot;Etiqueta Eix X&quot;);

// Afegeix etiqueta de l'eix Y
svg.append(&quot;text&quot;)
  .attr(&quot;text-anchor&quot;, &quot;end&quot;)
  .attr(&quot;transform&quot;, &quot;rotate(-90)&quot;)
  .attr(&quot;y&quot;, -margin.left + 20)
  .attr(&quot;x&quot;, -margin.top)
  .text(&quot;Etiqueta Eix Y&quot;);

// Afegeix t&iacute;tol
svg.append(&quot;text&quot;)
  .attr(&quot;x&quot;, width / 2)
  .attr(&quot;y&quot;, -margin.top / 2)
  .attr(&quot;text-anchor&quot;, &quot;middle&quot;)
  .style(&quot;font-size&quot;, &quot;16px&quot;)
  .style(&quot;text-decoration&quot;, &quot;underline&quot;)
  .text(&quot;T&iacute;tol del Gr&agrave;fic de Dispersi&oacute;&quot;);</pre></div><div class='content'></div><h2>Afegint Descripcions Emergents</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYSB1biBkaXYgZGUgZGVzY3JpcGNpw7MgZW1lcmdlbnQgcXVlIGVzdMOgIG9jdWx0IHBlciBkZWZlY3RlCmNvbnN0IHRvb2x0aXAgPSBkMy5zZWxlY3QoImJvZHkiKS5hcHBlbmQoImRpdiIpCiAgLnN0eWxlKCJvcGFjaXR5IiwgMCkKICAuYXR0cigiY2xhc3MiLCAidG9vbHRpcCIpCiAgLnN0eWxlKCJiYWNrZ3JvdW5kLWNvbG9yIiwgIndoaXRlIikKICAuc3R5bGUoImJvcmRlciIsICJzb2xpZCIpCiAgLnN0eWxlKCJib3JkZXItd2lkdGgiLCAiMXB4IikKICAuc3R5bGUoImJvcmRlci1yYWRpdXMiLCAiNXB4IikKICAuc3R5bGUoInBhZGRpbmciLCAiMTBweCIpOwoKLy8gQWZlZ2VpeCBlc2RldmVuaW1lbnRzIHBlciBhIGxlcyBkZXNjcmlwY2lvbnMgZW1lcmdlbnRzCnN2Zy5zZWxlY3RBbGwoImNpcmNsZSIpCiAgLm9uKCJtb3VzZW92ZXIiLCAoZXZlbnQsIGQpID0+IHsKICAgIHRvb2x0aXAudHJhbnNpdGlvbigpCiAgICAgIC5kdXJhdGlvbigyMDApCiAgICAgIC5zdHlsZSgib3BhY2l0eSIsIC45KTsKICAgIHRvb2x0aXAuaHRtbChgWDogJHtkLnh9PGJyPlk6ICR7ZC55fWApCiAgICAgIC5zdHlsZSgibGVmdCIsIChldmVudC5wYWdlWCArIDUpICsgInB4IikKICAgICAgLnN0eWxlKCJ0b3AiLCAoZXZlbnQucGFnZVkgLSAyOCkgKyAicHgiKTsKICB9KQogIC5vbigibW91c2VvdXQiLCAoKSA9PiB7CiAgICB0b29sdGlwLnRyYW5zaXRpb24oKQogICAgICAuZHVyYXRpb24oNTAwKQogICAgICAuc3R5bGUoIm9wYWNpdHkiLCAwKTsKICB9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Crea un div de descripci&oacute; emergent que est&agrave; ocult per defecte
const tooltip = d3.select(&quot;body&quot;).append(&quot;div&quot;)
  .style(&quot;opacity&quot;, 0)
  .attr(&quot;class&quot;, &quot;tooltip&quot;)
  .style(&quot;background-color&quot;, &quot;white&quot;)
  .style(&quot;border&quot;, &quot;solid&quot;)
  .style(&quot;border-width&quot;, &quot;1px&quot;)
  .style(&quot;border-radius&quot;, &quot;5px&quot;)
  .style(&quot;padding&quot;, &quot;10px&quot;);

// Afegeix esdeveniments per a les descripcions emergents
svg.selectAll(&quot;circle&quot;)
  .on(&quot;mouseover&quot;, (event, d) =&gt; {
    tooltip.transition()
      .duration(200)
      .style(&quot;opacity&quot;, .9);
    tooltip.html(`X: ${d.x}&lt;br&gt;Y: ${d.y}`)
      .style(&quot;left&quot;, (event.pageX + 5) + &quot;px&quot;)
      .style(&quot;top&quot;, (event.pageY - 28) + &quot;px&quot;);
  })
  .on(&quot;mouseout&quot;, () =&gt; {
    tooltip.transition()
      .duration(500)
      .style(&quot;opacity&quot;, 0);
  });</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>Etiquetes i Títols</strong>: Afegeix elements de text per etiquetar els eixos i proporcionar un títol per al gràfic de dispersió.</li>
<li><strong>Descripcions Emergents</strong>: Crea un div de descripció emergent i afegeix esdeveniments per mostrar la descripció emergent quan es passa el ratolí sobre els punts de dades.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquesta secció, hem cobert els conceptes bàsics de la creació de gràfics de dispersió utilitzant D3.js. Hem començat amb un gràfic de dispersió senzill i l'hem millorat afegint etiquetes, títols i descripcions emergents. Els gràfics de dispersió són una eina versàtil per visualitzar dades, i D3.js proporciona capacitats poderoses per crear visualitzacions interactives i dinàmiques.</p>
<p>En dominar aquestes tècniques, pots crear gràfics de dispersió més complexos i informatius per comprendre i presentar millor les teves dades.</p>
</div><div class='row navigation'><div class='col-6'><a href='creating-pie-charts'>&#x25C4; Creació de gràfics de sectors</a></div><div class='col-6 text-end'><a href='hierarchical-data-and-tree-layouts'>Dades jeràrquiques i dissenys d'arbres &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
