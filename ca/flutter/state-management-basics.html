<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conceptes Bàsics de la Gestió de l'Estat</title>

    <link rel="alternate" href="https://campusempresa.com/es/flutter/state-management-basics" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/flutter/state-management-basics" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/flutter/state-management-basics" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/flutter/state-management-basics" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>La gestió de l'estat és un aspecte crucial per construir aplicacions robustes i escalables en Flutter. Aquest tema et guiarà des dels conceptes bàsics fins als més avançats, assegurant que tinguis una comprensió sòlida de com gestionar l'estat en les teves aplicacions Flutter.</p>
</div><h1>Què és la Gestió de l'Estat?</h1>
<div class='content'><p>La gestió de l'estat es refereix a la gestió de l'estat d'una aplicació, que inclou les dades que l'aplicació necessita per funcionar i la interfície d'usuari que reflecteix aquestes dades. En Flutter, la gestió de l'estat és essencial per crear aplicacions dinàmiques i interactives.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Estat</strong>: La informació que pot canviar amb el temps en la teva aplicació.</li>
<li><strong>Widget</strong>: El bloc de construcció bàsic de la interfície d'usuari d'una aplicació Flutter.</li>
<li><strong>StatelessWidget</strong>: Un widget que no requereix estat mutable.</li>
<li><strong>StatefulWidget</strong>: Un widget que té estat mutable.</li>
</ul>
</div><h1>Tipus de Gestió de l'Estat</h1>
<div class='content'><p>Hi ha diversos enfocaments per a la gestió de l'estat en Flutter, cadascun amb els seus propis casos d'ús i beneficis.</p>
</div><h2>1. setState()</h2>
<div class='content'><p>La forma més senzilla de gestió de l'estat en Flutter és utilitzar el mètode <code>setState()</code>. Això és adequat per gestionar l'estat local dins d'un sol widget.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7Cgp2b2lkIG1haW4oKSA9PiBydW5BcHAoTXlBcHAoKSk7CgpjbGFzcyBNeUFwcCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gTWF0ZXJpYWxBcHAoCiAgICAgIGhvbWU6IENvdW50ZXIoKSwKICAgICk7CiAgfQp9CgpjbGFzcyBDb3VudGVyIGV4dGVuZHMgU3RhdGVmdWxXaWRnZXQgewogIEBvdmVycmlkZQogIF9Db3VudGVyU3RhdGUgY3JlYXRlU3RhdGUoKSA9PiBfQ291bnRlclN0YXRlKCk7Cn0KCmNsYXNzIF9Db3VudGVyU3RhdGUgZXh0ZW5kcyBTdGF0ZTxDb3VudGVyPiB7CiAgaW50IF9jb3VudCA9IDA7CgogIHZvaWQgX2luY3JlbWVudENvdW50ZXIoKSB7CiAgICBzZXRTdGF0ZSgoKSB7CiAgICAgIF9jb3VudCsrOwogICAgfSk7CiAgfQoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIHJldHVybiBTY2FmZm9sZCgKICAgICAgYXBwQmFyOiBBcHBCYXIoCiAgICAgICAgdGl0bGU6IFRleHQoJ0NvdW50ZXIgQXBwJyksCiAgICAgICksCiAgICAgIGJvZHk6IENlbnRlcigKICAgICAgICBjaGlsZDogVGV4dCgKICAgICAgICAgICdDb3VudDogJF9jb3VudCcsCiAgICAgICAgICBzdHlsZTogVGV4dFN0eWxlKGZvbnRTaXplOiAyNCksCiAgICAgICAgKSwKICAgICAgKSwKICAgICAgZmxvYXRpbmdBY3Rpb25CdXR0b246IEZsb2F0aW5nQWN0aW9uQnV0dG9uKAogICAgICAgIG9uUHJlc3NlZDogX2luY3JlbWVudENvdW50ZXIsCiAgICAgICAgY2hpbGQ6IEljb24oSWNvbnMuYWRkKSwKICAgICAgKSwKICAgICk7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:flutter/material.dart';

void main() =&gt; runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Counter(),
    );
  }
}

class Counter extends StatefulWidget {
  @override
  _CounterState createState() =&gt; _CounterState();
}

class _CounterState extends State&lt;Counter&gt; {
  int _count = 0;

  void _incrementCounter() {
    setState(() {
      _count++;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Counter App'),
      ),
      body: Center(
        child: Text(
          'Count: $_count',
          style: TextStyle(fontSize: 24),
        ),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: _incrementCounter,
        child: Icon(Icons.add),
      ),
    );
  }
}</pre></div><div class='content'></div><h2>2. InheritedWidget</h2>
<div class='content'><p>InheritedWidget és una manera més avançada de gestionar l'estat que necessita ser compartit entre múltiples widgets en l'arbre de widgets.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7Cgp2b2lkIG1haW4oKSA9PiBydW5BcHAoTXlBcHAoKSk7CgpjbGFzcyBNeUFwcCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gTWF0ZXJpYWxBcHAoCiAgICAgIGhvbWU6IENvdW50ZXJQcm92aWRlcigKICAgICAgICBjaGlsZDogQ291bnRlcigpLAogICAgICApLAogICAgKTsKICB9Cn0KCmNsYXNzIENvdW50ZXJQcm92aWRlciBleHRlbmRzIEluaGVyaXRlZFdpZGdldCB7CiAgZmluYWwgaW50IGNvdW50OwogIGZpbmFsIEZ1bmN0aW9uKCkgaW5jcmVtZW50OwoKICBDb3VudGVyUHJvdmlkZXIoe0tleT8ga2V5LCByZXF1aXJlZCBXaWRnZXQgY2hpbGR9KQogICAgICA6IGNvdW50ID0gMCwKICAgICAgICBpbmNyZW1lbnQgPSAoKSB7fSwKICAgICAgICBzdXBlcihrZXk6IGtleSwgY2hpbGQ6IGNoaWxkKTsKCiAgQG92ZXJyaWRlCiAgYm9vbCB1cGRhdGVTaG91bGROb3RpZnkoQ291bnRlclByb3ZpZGVyIG9sZFdpZGdldCkgewogICAgcmV0dXJuIG9sZFdpZGdldC5jb3VudCAhPSBjb3VudDsKICB9CgogIHN0YXRpYyBDb3VudGVyUHJvdmlkZXI/IG9mKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gY29udGV4dC5kZXBlbmRPbkluaGVyaXRlZFdpZGdldE9mRXhhY3RUeXBlPENvdW50ZXJQcm92aWRlcj4oKTsKICB9Cn0KCmNsYXNzIENvdW50ZXIgZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIEBvdmVycmlkZQogIFdpZGdldCBidWlsZChCdWlsZENvbnRleHQgY29udGV4dCkgewogICAgZmluYWwgcHJvdmlkZXIgPSBDb3VudGVyUHJvdmlkZXIub2YoY29udGV4dCk7CgogICAgcmV0dXJuIFNjYWZmb2xkKAogICAgICBhcHBCYXI6IEFwcEJhcigKICAgICAgICB0aXRsZTogVGV4dCgnQ291bnRlciBBcHAnKSwKICAgICAgKSwKICAgICAgYm9keTogQ2VudGVyKAogICAgICAgIGNoaWxkOiBUZXh0KAogICAgICAgICAgJ0NvdW50OiAke3Byb3ZpZGVyPy5jb3VudH0nLAogICAgICAgICAgc3R5bGU6IFRleHRTdHlsZShmb250U2l6ZTogMjQpLAogICAgICAgICksCiAgICAgICksCiAgICAgIGZsb2F0aW5nQWN0aW9uQnV0dG9uOiBGbG9hdGluZ0FjdGlvbkJ1dHRvbigKICAgICAgICBvblByZXNzZWQ6IHByb3ZpZGVyPy5pbmNyZW1lbnQsCiAgICAgICAgY2hpbGQ6IEljb24oSWNvbnMuYWRkKSwKICAgICAgKSwKICAgICk7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:flutter/material.dart';

void main() =&gt; runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: CounterProvider(
        child: Counter(),
      ),
    );
  }
}

class CounterProvider extends InheritedWidget {
  final int count;
  final Function() increment;

  CounterProvider({Key? key, required Widget child})
      : count = 0,
        increment = () {},
        super(key: key, child: child);

  @override
  bool updateShouldNotify(CounterProvider oldWidget) {
    return oldWidget.count != count;
  }

  static CounterProvider? of(BuildContext context) {
    return context.dependOnInheritedWidgetOfExactType&lt;CounterProvider&gt;();
  }
}

class Counter extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final provider = CounterProvider.of(context);

    return Scaffold(
      appBar: AppBar(
        title: Text('Counter App'),
      ),
      body: Center(
        child: Text(
          'Count: ${provider?.count}',
          style: TextStyle(fontSize: 24),
        ),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: provider?.increment,
        child: Icon(Icons.add),
      ),
    );
  }
}</pre></div><div class='content'></div><h2>3. Provider</h2>
<div class='content'><p>Provider és un paquet popular per a la gestió de l'estat en Flutter. Està construït sobre InheritedWidget i ofereix un enfocament més senzill i escalable.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAncGFja2FnZTpwcm92aWRlci9wcm92aWRlci5kYXJ0JzsKCnZvaWQgbWFpbigpID0+IHJ1bkFwcCgKICAgICAgQ2hhbmdlTm90aWZpZXJQcm92aWRlcigKICAgICAgICBjcmVhdGU6IChjb250ZXh0KSA9PiBDb3VudGVyTW9kZWwoKSwKICAgICAgICBjaGlsZDogTXlBcHAoKSwKICAgICAgKSwKICAgICk7CgpjbGFzcyBNeUFwcCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gTWF0ZXJpYWxBcHAoCiAgICAgIGhvbWU6IENvdW50ZXIoKSwKICAgICk7CiAgfQp9CgpjbGFzcyBDb3VudGVyTW9kZWwgZXh0ZW5kcyBDaGFuZ2VOb3RpZmllciB7CiAgaW50IF9jb3VudCA9IDA7CgogIGludCBnZXQgY291bnQgPT4gX2NvdW50OwoKICB2b2lkIGluY3JlbWVudCgpIHsKICAgIF9jb3VudCsrOwogICAgbm90aWZ5TGlzdGVuZXJzKCk7CiAgfQp9CgpjbGFzcyBDb3VudGVyIGV4dGVuZHMgU3RhdGVsZXNzV2lkZ2V0IHsKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIGZpbmFsIGNvdW50ZXIgPSBQcm92aWRlci5vZjxDb3VudGVyTW9kZWw+KGNvbnRleHQpOwoKICAgIHJldHVybiBTY2FmZm9sZCgKICAgICAgYXBwQmFyOiBBcHBCYXIoCiAgICAgICAgdGl0bGU6IFRleHQoJ0NvdW50ZXIgQXBwJyksCiAgICAgICksCiAgICAgIGJvZHk6IENlbnRlcigKICAgICAgICBjaGlsZDogVGV4dCgKICAgICAgICAgICdDb3VudDogJHtjb3VudGVyLmNvdW50fScsCiAgICAgICAgICBzdHlsZTogVGV4dFN0eWxlKGZvbnRTaXplOiAyNCksCiAgICAgICAgKSwKICAgICAgKSwKICAgICAgZmxvYXRpbmdBY3Rpb25CdXR0b246IEZsb2F0aW5nQWN0aW9uQnV0dG9uKAogICAgICAgIG9uUHJlc3NlZDogY291bnRlci5pbmNyZW1lbnQsCiAgICAgICAgY2hpbGQ6IEljb24oSWNvbnMuYWRkKSwKICAgICAgKSwKICAgICk7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:flutter/material.dart';
import 'package:provider/provider.dart';

void main() =&gt; runApp(
      ChangeNotifierProvider(
        create: (context) =&gt; CounterModel(),
        child: MyApp(),
      ),
    );

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Counter(),
    );
  }
}

class CounterModel extends ChangeNotifier {
  int _count = 0;

  int get count =&gt; _count;

  void increment() {
    _count++;
    notifyListeners();
  }
}

class Counter extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final counter = Provider.of&lt;CounterModel&gt;(context);

    return Scaffold(
      appBar: AppBar(
        title: Text('Counter App'),
      ),
      body: Center(
        child: Text(
          'Count: ${counter.count}',
          style: TextStyle(fontSize: 24),
        ),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: counter.increment,
        child: Icon(Icons.add),
      ),
    );
  }
}</pre></div><div class='content'></div><h2>4. Riverpod</h2>
<div class='content'><p>Riverpod és una altra solució de gestió de l'estat que està guanyant popularitat a causa de la seva simplicitat i flexibilitat.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX3JpdmVycG9kL2ZsdXR0ZXJfcml2ZXJwb2QuZGFydCc7Cgp2b2lkIG1haW4oKSA9PiBydW5BcHAoUHJvdmlkZXJTY29wZShjaGlsZDogTXlBcHAoKSkpOwoKY2xhc3MgTXlBcHAgZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIEBvdmVycmlkZQogIFdpZGdldCBidWlsZChCdWlsZENvbnRleHQgY29udGV4dCkgewogICAgcmV0dXJuIE1hdGVyaWFsQXBwKAogICAgICBob21lOiBDb3VudGVyKCksCiAgICApOwogIH0KfQoKZmluYWwgY291bnRlclByb3ZpZGVyID0gU3RhdGVQcm92aWRlcjxpbnQ+KChyZWYpID0+IDApOwoKY2xhc3MgQ291bnRlciBleHRlbmRzIENvbnN1bWVyV2lkZ2V0IHsKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQsIFNjb3BlZFJlYWRlciB3YXRjaCkgewogICAgZmluYWwgY291bnQgPSB3YXRjaChjb3VudGVyUHJvdmlkZXIpLnN0YXRlOwoKICAgIHJldHVybiBTY2FmZm9sZCgKICAgICAgYXBwQmFyOiBBcHBCYXIoCiAgICAgICAgdGl0bGU6IFRleHQoJ0NvdW50ZXIgQXBwJyksCiAgICAgICksCiAgICAgIGJvZHk6IENlbnRlcigKICAgICAgICBjaGlsZDogVGV4dCgKICAgICAgICAgICdDb3VudDogJGNvdW50JywKICAgICAgICAgIHN0eWxlOiBUZXh0U3R5bGUoZm9udFNpemU6IDI0KSwKICAgICAgICApLAogICAgICApLAogICAgICBmbG9hdGluZ0FjdGlvbkJ1dHRvbjogRmxvYXRpbmdBY3Rpb25CdXR0b24oCiAgICAgICAgb25QcmVzc2VkOiAoKSA9PiBjb250ZXh0LnJlYWQoY291bnRlclByb3ZpZGVyKS5zdGF0ZSsrLAogICAgICAgIGNoaWxkOiBJY29uKEljb25zLmFkZCksCiAgICAgICksCiAgICApOwogIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';

void main() =&gt; runApp(ProviderScope(child: MyApp()));

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Counter(),
    );
  }
}

final counterProvider = StateProvider&lt;int&gt;((ref) =&gt; 0);

class Counter extends ConsumerWidget {
  @override
  Widget build(BuildContext context, ScopedReader watch) {
    final count = watch(counterProvider).state;

    return Scaffold(
      appBar: AppBar(
        title: Text('Counter App'),
      ),
      body: Center(
        child: Text(
          'Count: $count',
          style: TextStyle(fontSize: 24),
        ),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: () =&gt; context.read(counterProvider).state++,
        child: Icon(Icons.add),
      ),
    );
  }
}</pre></div><div class='content'></div><h1>Comparació dels Enfocaments de Gestió de l'Estat</h1>
<div class='content'><p>| Enfocament       | Complexitat | Cas d'Ús                                      |
|------------------|-------------|-----------------------------------------------|
| setState()       | Baixa       | Estat local dins d'un sol widget              |
| InheritedWidget  | Mitjana     | Compartir estat entre múltiples widgets       |
| Provider         | Mitjana     | Gestió d'estat escalable per a aplicacions grans|
| Riverpod         | Mitjana     | Solució de gestió d'estat flexible i senzilla |</p>
</div><h1>Conclusió</h1>
<div class='content'><p>La gestió de l'estat és un concepte fonamental en el desenvolupament de Flutter. Comprendre els diferents enfocaments i els seus casos d'ús t'ajudarà a construir aplicacions més eficients i mantenibles. Comença amb <code>setState()</code> per a escenaris senzills, i a mesura que la teva aplicació creixi, considera utilitzar solucions més avançades com Provider o Riverpod.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
