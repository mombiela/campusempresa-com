<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goroutines</title>

    <link rel="alternate" href="https://campusempresa.com/es/go/goroutines" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/go/goroutines" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/go/goroutines" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/go/goroutines" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Les goroutines són un concepte fonamental en Go que et permeten executar funcions concurrentment. Són lleugeres i gestionades pel runtime de Go, cosa que les fa una manera eficient de manejar múltiples tasques simultàniament.</p>
</div><h1>Què és una Goroutine?</h1>
<div class='content'><ul>
<li>Una goroutine és una funció que és capaç d'executar-se concurrentment amb altres funcions.</li>
<li>Les goroutines són gestionades pel runtime de Go, que maneja la seva planificació i execució.</li>
<li>Són molt més lleugeres que els fils tradicionals, permetent-te executar milers de goroutines sense una càrrega significativa.</li>
</ul>
</div><h1>Crear una Goroutine</h1>
<div class='content'><p>Per crear una goroutine, simplement utilitzes la paraula clau <code>go</code> seguida de la crida a la funció.</p>
</div><h2>Exemple</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKICAgICJ0aW1lIgopCgpmdW5jIHNheUhlbGxvKCkgewogICAgZm10LlByaW50bG4oIkhlbGxvLCBXb3JsZCEiKQp9CgpmdW5jIG1haW4oKSB7CiAgICBnbyBzYXlIZWxsbygpIC8vIEFpeMOyIGluaWNpYSB1bmEgbm92YSBnb3JvdXRpbmUKICAgIHRpbWUuU2xlZXAoMSAqIHRpbWUuU2Vjb25kKSAvLyBFc3BlcmEgcXVlIGxhIGdvcm91dGluZSBhY2FiaQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
    &quot;time&quot;
)

func sayHello() {
    fmt.Println(&quot;Hello, World!&quot;)
}

func main() {
    go sayHello() // Aix&ograve; inicia una nova goroutine
    time.Sleep(1 * time.Second) // Espera que la goroutine acabi
}</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li><code>go sayHello()</code> inicia una nova goroutine que executa la funció <code>sayHello</code>.</li>
<li><code>time.Sleep(1 * time.Second)</code> s'utilitza per donar temps a la goroutine perquè acabi abans que la funció principal surti.</li>
</ul>
</div><h1>Sincronització</h1>
<div class='content'><p>Les goroutines s'executen concurrentment, cosa que significa que poden executar-se al mateix temps. Això pot portar a condicions de carrera si accedeixen a recursos compartits. Per manejar això, Go proporciona diversos mecanismes de sincronització.</p>
</div><h2>WaitGroup</h2>
<div class='content'><p>Un <code>WaitGroup</code> espera que un conjunt de goroutines acabin.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKICAgICJzeW5jIgopCgpmdW5jIHNheUhlbGxvKHdnICpzeW5jLldhaXRHcm91cCkgewogICAgZGVmZXIgd2cuRG9uZSgpIC8vIE5vdGlmaWNhIGFsIFdhaXRHcm91cCBxdWUgYXF1ZXN0YSBnb3JvdXRpbmUgaGEgYWNhYmF0CiAgICBmbXQuUHJpbnRsbigiSGVsbG8sIFdvcmxkISIpCn0KCmZ1bmMgbWFpbigpIHsKICAgIHZhciB3ZyBzeW5jLldhaXRHcm91cAogICAgd2cuQWRkKDEpIC8vIEFmZWdlaXggdW5hIGdvcm91dGluZSBhbCBXYWl0R3JvdXAKICAgIGdvIHNheUhlbGxvKCZ3ZykKICAgIHdnLldhaXQoKSAvLyBFc3BlcmEgcXVlIHRvdGVzIGxlcyBnb3JvdXRpbmVzIGRlbCBXYWl0R3JvdXAgYWNhYmluCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
    &quot;sync&quot;
)

func sayHello(wg *sync.WaitGroup) {
    defer wg.Done() // Notifica al WaitGroup que aquesta goroutine ha acabat
    fmt.Println(&quot;Hello, World!&quot;)
}

func main() {
    var wg sync.WaitGroup
    wg.Add(1) // Afegeix una goroutine al WaitGroup
    go sayHello(&amp;wg)
    wg.Wait() // Espera que totes les goroutines del WaitGroup acabin
}</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li><code>wg.Add(1)</code> incrementa el comptador del WaitGroup.</li>
<li><code>wg.Done()</code> decrementa el comptador quan la goroutine acaba.</li>
<li><code>wg.Wait()</code> bloqueja fins que el comptador és zero.</li>
</ul>
</div><h2>Canals</h2>
<div class='content'><p>Els canals proporcionen una manera perquè les goroutines es comuniquin entre elles i sincronitzin la seva execució.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKKQoKZnVuYyBzYXlIZWxsbyhjaCBjaGFuIHN0cmluZykgewogICAgY2ggPC0gIkhlbGxvLCBXb3JsZCEiIC8vIEVudmlhIHVuIG1pc3NhdGdlIGFsIGNhbmFsCn0KCmZ1bmMgbWFpbigpIHsKICAgIGNoIDo9IG1ha2UoY2hhbiBzdHJpbmcpCiAgICBnbyBzYXlIZWxsbyhjaCkKICAgIG1zZyA6PSA8LWNoIC8vIFJlcCBlbCBtaXNzYXRnZSBkZWwgY2FuYWwKICAgIGZtdC5QcmludGxuKG1zZykKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
)

func sayHello(ch chan string) {
    ch &lt;- &quot;Hello, World!&quot; // Envia un missatge al canal
}

func main() {
    ch := make(chan string)
    go sayHello(ch)
    msg := &lt;-ch // Rep el missatge del canal
    fmt.Println(msg)
}</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li><code>ch := make(chan string)</code> crea un nou canal.</li>
<li><code>ch &lt;- &quot;Hello, World!&quot;</code> envia un missatge al canal.</li>
<li><code>msg := &lt;-ch</code> rep el missatge del canal.</li>
</ul>
</div><h1>Canals Amortitzats</h1>
<div class='content'><p>Els canals amortitzats et permeten especificar la capacitat del canal, que pot emmagatzemar múltiples valors abans de bloquejar-se.</p>
</div><h2>Exemple</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKKQoKZnVuYyBtYWluKCkgewogICAgY2ggOj0gbWFrZShjaGFuIHN0cmluZywgMikgLy8gQ3JlYSB1biBjYW5hbCBhbW9ydGl0emF0IGFtYiBjYXBhY2l0YXQgMgogICAgY2ggPC0gIkhlbGxvIgogICAgY2ggPC0gIldvcmxkIgogICAgZm10LlByaW50bG4oPC1jaCkgLy8gUmVwIGVsIHByaW1lciBtaXNzYXRnZQogICAgZm10LlByaW50bG4oPC1jaCkgLy8gUmVwIGVsIHNlZ29uIG1pc3NhdGdlCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
)

func main() {
    ch := make(chan string, 2) // Crea un canal amortitzat amb capacitat 2
    ch &lt;- &quot;Hello&quot;
    ch &lt;- &quot;World&quot;
    fmt.Println(&lt;-ch) // Rep el primer missatge
    fmt.Println(&lt;-ch) // Rep el segon missatge
}</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li><code>ch := make(chan string, 2)</code> crea un canal amortitzat amb una capacitat de 2.</li>
<li>El canal pot emmagatzemar dos missatges abans de bloquejar-se.</li>
</ul>
</div><h1>Sentència Select</h1>
<div class='content'><p>La sentència <code>select</code> et permet esperar múltiples operacions de canal.</p>
</div><h2>Exemple</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBtYWluCgppbXBvcnQgKAogICAgImZtdCIKICAgICJ0aW1lIgopCgpmdW5jIG1haW4oKSB7CiAgICBjaDEgOj0gbWFrZShjaGFuIHN0cmluZykKICAgIGNoMiA6PSBtYWtlKGNoYW4gc3RyaW5nKQoKICAgIGdvIGZ1bmMoKSB7CiAgICAgICAgdGltZS5TbGVlcCgxICogdGltZS5TZWNvbmQpCiAgICAgICAgY2gxIDwtICJvbmUiCiAgICB9KCkKCiAgICBnbyBmdW5jKCkgewogICAgICAgIHRpbWUuU2xlZXAoMiAqIHRpbWUuU2Vjb25kKQogICAgICAgIGNoMiA8LSAidHdvIgogICAgfSgpCgogICAgZm9yIGkgOj0gMDsgaSA8IDI7IGkrKyB7CiAgICAgICAgc2VsZWN0IHsKICAgICAgICBjYXNlIG1zZzEgOj0gPC1jaDE6CiAgICAgICAgICAgIGZtdC5QcmludGxuKCJSZWNlaXZlZCIsIG1zZzEpCiAgICAgICAgY2FzZSBtc2cyIDo9IDwtY2gyOgogICAgICAgICAgICBmbXQuUHJpbnRsbigiUmVjZWl2ZWQiLCBtc2cyKQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package main

import (
    &quot;fmt&quot;
    &quot;time&quot;
)

func main() {
    ch1 := make(chan string)
    ch2 := make(chan string)

    go func() {
        time.Sleep(1 * time.Second)
        ch1 &lt;- &quot;one&quot;
    }()

    go func() {
        time.Sleep(2 * time.Second)
        ch2 &lt;- &quot;two&quot;
    }()

    for i := 0; i &lt; 2; i++ {
        select {
        case msg1 := &lt;-ch1:
            fmt.Println(&quot;Received&quot;, msg1)
        case msg2 := &lt;-ch2:
            fmt.Println(&quot;Received&quot;, msg2)
        }
    }
}</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li><code>select</code> espera que <code>ch1</code> o <code>ch2</code> rebin un missatge.</li>
<li>El primer missatge rebut es mostra, i el bucle continua fins que es reben tots dos missatges.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Les goroutines són una característica poderosa en Go que permeten la programació concurrent amb facilitat. Comprenent com crear i gestionar goroutines, utilitzar mecanismes de sincronització com <code>WaitGroup</code> i canals, i manejar múltiples operacions de canal amb la sentència <code>select</code>, pots escriure programes Go eficients i concurrents.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
