<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/assembly/security-and-exploitation" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En aquest mòdul, explorarem els aspectes crítics de la seguretat i l'explotació en el context de la programació en llenguatge Assembly. Entendre aquests conceptes és essencial per escriure codi segur i reconèixer possibles vulnerabilitats en la programació de baix nivell.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Desbordaments de Memòria</strong>: Una vulnerabilitat comuna on les dades excedeixen els límits del buffer, potencialment conduint a l'execució arbitrària de codi.</li>
<li><strong>Destrucció de la Pila</strong>: Un tipus específic de desbordament de memòria que sobreescriu l'adreça de retorn a la pila.</li>
<li><strong>Trineus NOP</strong>: Una seqüència d'instruccions NOP (No Operation) utilitzada per augmentar la probabilitat d'una explotació exitosa.</li>
<li><strong>Shellcode</strong>: Un petit fragment de codi utilitzat com a càrrega en l'explotació d'una vulnerabilitat de programari.</li>
<li><strong>Programació Orientada al Retorn (ROP)</strong>: Una tècnica que utilitza fragments de codi existent (gadgets) per realitzar operacions arbitràries.</li>
</ul>
</div><h1>Desbordaments de Memòria</h1>
<div class='content'><p>Els desbordaments de memòria es produeixen quan les dades escrites a un buffer excedeixen la seva mida assignada, potencialment sobreescrivint la memòria adjacent. Això pot conduir a un comportament imprevisible, fallades o fins i tot l'execució arbitrària de codi.</p>
</div><h2>Exemple: Desbordament de Memòria Simple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgYnVmZmVyIGRiIDY0IGR1cCgwKSA7IEFzc2lnbmFyIDY0IGJ5dGVzIHBlciBhbCBidWZmZXIKCnNlY3Rpb24gLnRleHQKICAgIGdsb2JhbCBfc3RhcnQKCl9zdGFydDoKICAgIDsgU2ltdWxhciBlbnRyYWRhIHF1ZSBleGNlZGVpeCBsYSBtaWRhIGRlbCBidWZmZXIKICAgIG1vdiBlYXgsIDB4NDE0MTQxNDEgOyAnQUFBQScgZW4gQVNDSUkKICAgIG1vdiBbYnVmZmVyICsgNzBdLCBlYXggOyBFc2NyaXVyZSBtw6lzIGVubGzDoCBkZWwgbMOtbWl0IGRlbCBidWZmZXIKCiAgICA7IFNvcnRpciBkZWwgcHJvZ3JhbWEKICAgIG1vdiBlYXgsIDEKICAgIHhvciBlYngsIGVieAogICAgaW50IDB4ODA="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    buffer db 64 dup(0) ; Assignar 64 bytes per al buffer

section .text
    global _start

_start:
    ; Simular entrada que excedeix la mida del buffer
    mov eax, 0x41414141 ; 'AAAA' en ASCII
    mov [buffer + 70], eax ; Escriure m&eacute;s enll&agrave; del l&iacute;mit del buffer

    ; Sortir del programa
    mov eax, 1
    xor ebx, ebx
    int 0x80</pre></div><div class='content'><p>En aquest exemple, el buffer és només de 64 bytes, però escrivim 4 bytes a un desplaçament de 70, causant un desbordament de memòria.</p>
</div><h1>Destrucció de la Pila</h1>
<div class='content'><p>La destrucció de la pila implica sobreescriure la pila, particularment l'adreça de retorn, per redirigir el flux d'execució.</p>
</div><h2>Exemple: Destrucció de la Pila</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgYnVmZmVyIGRiIDY0IGR1cCgwKSA7IEFzc2lnbmFyIDY0IGJ5dGVzIHBlciBhbCBidWZmZXIKCnNlY3Rpb24gLnRleHQKICAgIGdsb2JhbCBfc3RhcnQKCl9zdGFydDoKICAgIDsgU2ltdWxhciBlbnRyYWRhIHF1ZSBzb2JyZWVzY3JpdSBsJ2FkcmXDp2EgZGUgcmV0b3JuCiAgICBtb3YgZWF4LCAweGRlYWRiZWVmIDsgQWRyZcOnYSBhcmJpdHLDoHJpYSBwZXIgcmVkaXJpZ2lyIGwnZXhlY3VjacOzCiAgICBtb3YgW2J1ZmZlciArIDY4XSwgZWF4IDsgU29icmVlc2NyaXVyZSBsJ2FkcmXDp2EgZGUgcmV0b3JuCgogICAgOyBTb3J0aXIgZGVsIHByb2dyYW1hCiAgICBtb3YgZWF4LCAxCiAgICB4b3IgZWJ4LCBlYngKICAgIGludCAweDgw"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    buffer db 64 dup(0) ; Assignar 64 bytes per al buffer

section .text
    global _start

_start:
    ; Simular entrada que sobreescriu l'adre&ccedil;a de retorn
    mov eax, 0xdeadbeef ; Adre&ccedil;a arbitr&agrave;ria per redirigir l'execuci&oacute;
    mov [buffer + 68], eax ; Sobreescriure l'adre&ccedil;a de retorn

    ; Sortir del programa
    mov eax, 1
    xor ebx, ebx
    int 0x80</pre></div><div class='content'><p>Aquí, sobreescrivim l'adreça de retorn amb <code>0xdeadbeef</code>, que podria redirigir l'execució a una ubicació arbitrària.</p>
</div><h1>Trineus NOP</h1>
<div class='content'><p>Un trineu NOP és una seqüència d'instruccions NOP (<code>0x90</code> en x86) utilitzada per omplir la càrrega, augmentant les possibilitats d'encertar el shellcode.</p>
</div><h2>Exemple: Trineu NOP</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgbm9wX3NsZWQgZGIgMHg5MCwgMHg5MCwgMHg5MCwgMHg5MCwgMHg5MCA7IDUgaW5zdHJ1Y2Npb25zIE5PUAogICAgc2hlbGxjb2RlIGRiIDB4Y2MgOyBJbnN0cnVjY2nDsyBJTlQzIChwdW50IGRlIHJ1cHR1cmEpCgpzZWN0aW9uIC50ZXh0CiAgICBnbG9iYWwgX3N0YXJ0Cgpfc3RhcnQ6CiAgICA7IEV4ZWN1dGFyIHRyaW5ldSBOT1Agc2VndWl0IGRlIHNoZWxsY29kZQogICAgbGVhIGVzaSwgW25vcF9zbGVkXQogICAgam1wIGVzaQoKICAgIDsgU29ydGlyIGRlbCBwcm9ncmFtYQogICAgbW92IGVheCwgMQogICAgeG9yIGVieCwgZWJ4CiAgICBpbnQgMHg4MA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    nop_sled db 0x90, 0x90, 0x90, 0x90, 0x90 ; 5 instruccions NOP
    shellcode db 0xcc ; Instrucci&oacute; INT3 (punt de ruptura)

section .text
    global _start

_start:
    ; Executar trineu NOP seguit de shellcode
    lea esi, [nop_sled]
    jmp esi

    ; Sortir del programa
    mov eax, 1
    xor ebx, ebx
    int 0x80</pre></div><div class='content'><p>En aquest exemple, el trineu NOP és seguit per una única instrucció <code>INT3</code>, que s'utilitza per a depuració.</p>
</div><h1>Shellcode</h1>
<div class='content'><p>El shellcode és un petit fragment de codi utilitzat com a càrrega en explotacions. Normalment està escrit en Assembly per la seva mida i eficiència.</p>
</div><h2>Exemple: Shellcode Simple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAudGV4dAogICAgZ2xvYmFsIF9zdGFydAoKX3N0YXJ0OgogICAgOyBFeGVjdXRhciAvYmluL3NoCiAgICB4b3IgZWF4LCBlYXgKICAgIHB1c2ggZWF4CiAgICBwdXNoIDB4Njg3MzJmMmYgOyAvL3NoCiAgICBwdXNoIDB4NmU2OTYyMmYgOyAvYmluCiAgICBtb3YgZWJ4LCBlc3AKICAgIHB1c2ggZWF4CiAgICBwdXNoIGVieAogICAgbW92IGVjeCwgZXNwCiAgICB4b3IgZWR4LCBlZHgKICAgIG1vdiBhbCwgMHhiCiAgICBpbnQgMHg4MA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .text
    global _start

_start:
    ; Executar /bin/sh
    xor eax, eax
    push eax
    push 0x68732f2f ; //sh
    push 0x6e69622f ; /bin
    mov ebx, esp
    push eax
    push ebx
    mov ecx, esp
    xor edx, edx
    mov al, 0xb
    int 0x80</pre></div><div class='content'><p>Aquest shellcode obre una shell executant <code>/bin/sh</code>.</p>
</div><h1>Programació Orientada al Retorn (ROP)</h1>
<div class='content'><p>La ROP és una tècnica d'explotació avançada que utilitza fragments de codi existent (gadgets) per realitzar operacions arbitràries sense injectar nou codi.</p>
</div><h2>Exemple: Cadena ROP</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VjdGlvbiAuZGF0YQogICAgcm9wX2NoYWluIGRkIDB4MDgwNDg0MzAsIDB4MDgwNDg1MDAgOyBBZHJlY2VzIGRlbHMgZ2FkZ2V0cwoKc2VjdGlvbiAudGV4dAogICAgZ2xvYmFsIF9zdGFydAoKX3N0YXJ0OgogICAgOyBTaW11bGFyIHBpbGEgYW1iIGNhZGVuYSBST1AKICAgIGxlYSBlc3AsIFtyb3BfY2hhaW5dCiAgICByZXQKCiAgICA7IFNvcnRpciBkZWwgcHJvZ3JhbWEKICAgIG1vdiBlYXgsIDEKICAgIHhvciBlYngsIGVieAogICAgaW50IDB4ODA="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>section .data
    rop_chain dd 0x08048430, 0x08048500 ; Adreces dels gadgets

section .text
    global _start

_start:
    ; Simular pila amb cadena ROP
    lea esp, [rop_chain]
    ret

    ; Sortir del programa
    mov eax, 1
    xor ebx, ebx
    int 0x80</pre></div><div class='content'><p>En aquest exemple, la cadena ROP consisteix en adreces d'instruccions existents (gadgets) que seran executades en seqüència.</p>
</div><h1>Conclusió</h1>
<div class='content'><p>Entendre la seguretat i l'explotació en Assembly és crucial per escriure codi segur i reconèixer possibles vulnerabilitats. Estudiant els desbordaments de memòria, la destrucció de la pila, els trineus NOP, el shellcode i la ROP, adquireixes el coneixement per defensar-te i entendre les explotacions de baix nivell. Sempre prioritza la seguretat en les teves pràctiques de programació per protegir-te contra aquestes vulnerabilitats.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
