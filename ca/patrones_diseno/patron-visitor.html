<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/patrones_diseno/patron-visitor" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>El Patró Visitor és un patró de disseny de comportament que permet definir noves operacions sobre una estructura d'objectes sense canviar les classes dels objectes sobre els quals opera. Aquest patró és útil quan es desitja realitzar operacions sobre una estructura d'objectes complexa i es vol evitar la proliferació de mètodes en les classes de l'estructura.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Visitor</strong>: Defineix una interfície per visitar els elements de l'estructura.</li>
<li><strong>ConcreteVisitor</strong>: Implementa les operacions definides en la interfície del Visitor.</li>
<li><strong>Element</strong>: Defineix una interfície que accepta un Visitor.</li>
<li><strong>ConcreteElement</strong>: Implementa la interfície Element i defineix l'operació <code>accept</code> que pren un Visitor com a argument.</li>
<li><strong>Object Structure</strong>: Una col·lecció d'elements que poden ser visitats pel Visitor.</li>
</ul>
</div><h1>Estructura del Patró</h1>
<div class='content'><p>| Component        | Descripció                                                                  |
|------------------|-----------------------------------------------------------------------------|
| Visitor          | Interfície que declara una visita per a cada tipus d'element concret.       |
| ConcreteVisitor  | Implementació concreta del Visitor que defineix les accions específiques.   |
| Element          | Interfície que declara el mètode <code>accept</code> per rebre un Visitor.             |
| ConcreteElement  | Implementació concreta de l'Element que crida al mètode del Visitor.        |
| Object Structure | Col·lecció d'elements que poden ser visitats.                               |</p>
</div><h1>Exemple de Codi</h1>
<div class='content'><p>A continuació, es presenta un exemple en Python per il·lustrar el Patró Visitor:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBhYmMgaW1wb3J0IEFCQywgYWJzdHJhY3RtZXRob2QKCiMgVmlzaXRvciBJbnRlcmZhY2UKY2xhc3MgVmlzaXRvcihBQkMpOgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgdmlzaXRfY29uY3JldGVfZWxlbWVudF9hKHNlbGYsIGVsZW1lbnQpOgogICAgICAgIHBhc3MKCiAgICBAYWJzdHJhY3RtZXRob2QKICAgIGRlZiB2aXNpdF9jb25jcmV0ZV9lbGVtZW50X2Ioc2VsZiwgZWxlbWVudCk6CiAgICAgICAgcGFzcwoKIyBDb25jcmV0ZSBWaXNpdG9yCmNsYXNzIENvbmNyZXRlVmlzaXRvcjEoVmlzaXRvcik6CiAgICBkZWYgdmlzaXRfY29uY3JldGVfZWxlbWVudF9hKHNlbGYsIGVsZW1lbnQpOgogICAgICAgIHByaW50KGYie2VsZW1lbnQub3BlcmF0aW9uX2EoKX0gdmlzaXRlZCBieSBDb25jcmV0ZVZpc2l0b3IxIikKCiAgICBkZWYgdmlzaXRfY29uY3JldGVfZWxlbWVudF9iKHNlbGYsIGVsZW1lbnQpOgogICAgICAgIHByaW50KGYie2VsZW1lbnQub3BlcmF0aW9uX2IoKX0gdmlzaXRlZCBieSBDb25jcmV0ZVZpc2l0b3IxIikKCiMgRWxlbWVudCBJbnRlcmZhY2UKY2xhc3MgRWxlbWVudChBQkMpOgogICAgQGFic3RyYWN0bWV0aG9kCiAgICBkZWYgYWNjZXB0KHNlbGYsIHZpc2l0b3IpOgogICAgICAgIHBhc3MKCiMgQ29uY3JldGUgRWxlbWVudHMKY2xhc3MgQ29uY3JldGVFbGVtZW50QShFbGVtZW50KToKICAgIGRlZiBhY2NlcHQoc2VsZiwgdmlzaXRvcik6CiAgICAgICAgdmlzaXRvci52aXNpdF9jb25jcmV0ZV9lbGVtZW50X2Eoc2VsZikKCiAgICBkZWYgb3BlcmF0aW9uX2Eoc2VsZik6CiAgICAgICAgcmV0dXJuICJDb25jcmV0ZUVsZW1lbnRBIgoKY2xhc3MgQ29uY3JldGVFbGVtZW50QihFbGVtZW50KToKICAgIGRlZiBhY2NlcHQoc2VsZiwgdmlzaXRvcik6CiAgICAgICAgdmlzaXRvci52aXNpdF9jb25jcmV0ZV9lbGVtZW50X2Ioc2VsZikKCiAgICBkZWYgb3BlcmF0aW9uX2Ioc2VsZik6CiAgICAgICAgcmV0dXJuICJDb25jcmV0ZUVsZW1lbnRCIgoKIyBPYmplY3QgU3RydWN0dXJlCmVsZW1lbnRzID0gW0NvbmNyZXRlRWxlbWVudEEoKSwgQ29uY3JldGVFbGVtZW50QigpXQoKdmlzaXRvcjEgPSBDb25jcmV0ZVZpc2l0b3IxKCkKCmZvciBlbGVtZW50IGluIGVsZW1lbnRzOgogICAgZWxlbWVudC5hY2NlcHQodmlzaXRvcjEp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from abc import ABC, abstractmethod

# Visitor Interface
class Visitor(ABC):
    @abstractmethod
    def visit_concrete_element_a(self, element):
        pass

    @abstractmethod
    def visit_concrete_element_b(self, element):
        pass

# Concrete Visitor
class ConcreteVisitor1(Visitor):
    def visit_concrete_element_a(self, element):
        print(f&quot;{element.operation_a()} visited by ConcreteVisitor1&quot;)

    def visit_concrete_element_b(self, element):
        print(f&quot;{element.operation_b()} visited by ConcreteVisitor1&quot;)

# Element Interface
class Element(ABC):
    @abstractmethod
    def accept(self, visitor):
        pass

# Concrete Elements
class ConcreteElementA(Element):
    def accept(self, visitor):
        visitor.visit_concrete_element_a(self)

    def operation_a(self):
        return &quot;ConcreteElementA&quot;

class ConcreteElementB(Element):
    def accept(self, visitor):
        visitor.visit_concrete_element_b(self)

    def operation_b(self):
        return &quot;ConcreteElementB&quot;

# Object Structure
elements = [ConcreteElementA(), ConcreteElementB()]

visitor1 = ConcreteVisitor1()

for element in elements:
    element.accept(visitor1)</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ol>
<li><strong>Visitor Interface</strong>: La classe <code>Visitor</code> defineix mètodes abstractes per visitar cada tipus d'element concret.</li>
<li><strong>Concrete Visitor</strong>: <code>ConcreteVisitor1</code> implementa els mètodes de la interfície <code>Visitor</code> i defineix accions específiques per a cada tipus d'element.</li>
<li><strong>Element Interface</strong>: La classe <code>Element</code> defineix el mètode <code>accept</code> que pren un Visitor com a argument.</li>
<li><strong>Concrete Elements</strong>: <code>ConcreteElementA</code> i <code>ConcreteElementB</code> implementen el mètode <code>accept</code> i criden al mètode corresponent del Visitor.</li>
<li><strong>Object Structure</strong>: Una llista d'elements que poden ser visitats pel Visitor.</li>
</ol>
</div><h1>Exercici Pràctic</h1>
<div class='content'><ol>
<li><strong>Modificació de l'Exemple</strong>: Extén l'exemple anterior afegint un <code>ConcreteVisitor2</code> que implementi diferents accions per als elements.</li>
<li><strong>Nova Estructura</strong>: Crea una nova classe d'element <code>ConcreteElementC</code> i actualitza els visitants per manejar aquest nou tipus d'element.</li>
</ol>
</div><h1>Conclusió</h1>
<div class='content'><p>El Patró Visitor és una poderosa eina per separar algoritmes de les estructures d'objectes sobre les quals operen. Això permet afegir noves operacions sense modificar les classes dels elements, facilitant l'extensió i el manteniment del codi. No obstant això, és important utilitzar aquest patró amb cura, ja que pot augmentar la complexitat del sistema si no es gestiona adequadament.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
