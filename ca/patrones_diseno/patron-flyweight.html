<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/patrones_diseno/patron-flyweight" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>El patró Flyweight és un patró de disseny estructural que permet reduir l'ús de memòria compartint tant com sigui possible les dades similars entre objectes. Aquest patró és especialment útil quan es necessita crear un gran nombre d'objectes similars.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Compartició de Dades</strong>: El patró Flyweight permet compartir parts de l'estat entre múltiples objectes per reduir el consum de memòria.</li>
<li><strong>Estat Intrínsec</strong>: Part de l'estat que és compartida entre diversos objectes i que no canvia.</li>
<li><strong>Estat Extrínsec</strong>: Part de l'estat que pot variar i no es comparteix entre objectes.</li>
</ul>
</div><h1>Estructura del Patró Flyweight</h1>
<div class='content'><p>El patró Flyweight es compon dels següents components:</p>
<ol>
<li><strong>Flyweight</strong>: Interfície o classe abstracta que defineix les operacions que poden ser realitzades pels objectes Flyweight.</li>
<li><strong>ConcreteFlyweight</strong>: Implementació concreta de la interfície Flyweight que comparteix l'estat intrínsec.</li>
<li><strong>FlyweightFactory</strong>: Classe que crea i gestiona els objectes Flyweight. Assegura que els objectes compartits siguin reutilitzats adequadament.</li>
<li><strong>Client</strong>: Classe que utilitza els objectes Flyweight i maneja l'estat extrínsec.</li>
</ol>
</div><h1>Exemple de Codi</h1>
<div class='content'><p>A continuació, es presenta un exemple en Python per il·lustrar l'ús del patró Flyweight:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgRmx5d2VpZ2h0OgogICAgZGVmIG9wZXJhdGlvbihzZWxmLCBleHRyaW5zaWNfc3RhdGUpOgogICAgICAgIHBhc3MKCmNsYXNzIENvbmNyZXRlRmx5d2VpZ2h0KEZseXdlaWdodCk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgaW50cmluc2ljX3N0YXRlKToKICAgICAgICBzZWxmLmludHJpbnNpY19zdGF0ZSA9IGludHJpbnNpY19zdGF0ZQoKICAgIGRlZiBvcGVyYXRpb24oc2VsZiwgZXh0cmluc2ljX3N0YXRlKToKICAgICAgICBwcmludChmIkludHJpbnNpYyBTdGF0ZToge3NlbGYuaW50cmluc2ljX3N0YXRlfSwgRXh0cmluc2ljIFN0YXRlOiB7ZXh0cmluc2ljX3N0YXRlfSIpCgpjbGFzcyBGbHl3ZWlnaHRGYWN0b3J5OgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYuZmx5d2VpZ2h0cyA9IHt9CgogICAgZGVmIGdldF9mbHl3ZWlnaHQoc2VsZiwga2V5KToKICAgICAgICBpZiBrZXkgbm90IGluIHNlbGYuZmx5d2VpZ2h0czoKICAgICAgICAgICAgc2VsZi5mbHl3ZWlnaHRzW2tleV0gPSBDb25jcmV0ZUZseXdlaWdodChrZXkpCiAgICAgICAgcmV0dXJuIHNlbGYuZmx5d2VpZ2h0c1trZXldCgojIENsaWVudApmYWN0b3J5ID0gRmx5d2VpZ2h0RmFjdG9yeSgpCgpmbHl3ZWlnaHQxID0gZmFjdG9yeS5nZXRfZmx5d2VpZ2h0KCJBIikKZmx5d2VpZ2h0MS5vcGVyYXRpb24oIkZpcnN0IENhbGwiKQoKZmx5d2VpZ2h0MiA9IGZhY3RvcnkuZ2V0X2ZseXdlaWdodCgiQSIpCmZseXdlaWdodDIub3BlcmF0aW9uKCJTZWNvbmQgQ2FsbCIpCgpmbHl3ZWlnaHQzID0gZmFjdG9yeS5nZXRfZmx5d2VpZ2h0KCJCIikKZmx5d2VpZ2h0My5vcGVyYXRpb24oIkZpcnN0IENhbGwiKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Flyweight:
    def operation(self, extrinsic_state):
        pass

class ConcreteFlyweight(Flyweight):
    def __init__(self, intrinsic_state):
        self.intrinsic_state = intrinsic_state

    def operation(self, extrinsic_state):
        print(f&quot;Intrinsic State: {self.intrinsic_state}, Extrinsic State: {extrinsic_state}&quot;)

class FlyweightFactory:
    def __init__(self):
        self.flyweights = {}

    def get_flyweight(self, key):
        if key not in self.flyweights:
            self.flyweights[key] = ConcreteFlyweight(key)
        return self.flyweights[key]

# Client
factory = FlyweightFactory()

flyweight1 = factory.get_flyweight(&quot;A&quot;)
flyweight1.operation(&quot;First Call&quot;)

flyweight2 = factory.get_flyweight(&quot;A&quot;)
flyweight2.operation(&quot;Second Call&quot;)

flyweight3 = factory.get_flyweight(&quot;B&quot;)
flyweight3.operation(&quot;First Call&quot;)</pre></div><div class='content'></div><h2>Explicació del Codi</h2>
<div class='content'><ul>
<li><strong>Flyweight</strong>: Defineix la interfície <code>operation</code> que serà implementada per <code>ConcreteFlyweight</code>.</li>
<li><strong>ConcreteFlyweight</strong>: Implementa la interfície <code>Flyweight</code> i conté l'estat intrínsec.</li>
<li><strong>FlyweightFactory</strong>: Gestiona la creació i reutilització d'objectes <code>ConcreteFlyweight</code>.</li>
<li><strong>Client</strong>: Utilitza el <code>FlyweightFactory</code> per obtenir instàncies de <code>ConcreteFlyweight</code> i crida als seus mètodes amb l'estat extrínsec.</li>
</ul>
</div><h1>Comparació d'Estats</h1>
<div class='content'><p>| Estat Intrínsec | Estat Extrínsec |
|-----------------|-----------------|
| Compartit entre objectes | Específic de cada objecte |
| No canvia | Pot canviar |
| Emmagatzemat en el Flyweight | Proporcionat pel client |</p>
</div><h1>Avantatges i Desavantatges</h1>
<div class='content'></div><h2>Avantatges</h2>
<div class='content'><ul>
<li><strong>Reducció de Memòria</strong>: En compartir l'estat intrínsec, es redueix el consum de memòria.</li>
<li><strong>Millora del Rendiment</strong>: Menor nombre d'objectes creats pot millorar el rendiment.</li>
</ul>
</div><h2>Desavantatges</h2>
<div class='content'><ul>
<li><strong>Complexitat</strong>: Afegeix complexitat al disseny del sistema a causa de la gestió de l'estat intrínsec i extrínsec.</li>
<li><strong>Cost de Gestió</strong>: La gestió dels objectes compartits pot tenir un cost addicional.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>El patró Flyweight és una poderosa tècnica per optimitzar l'ús de memòria en aplicacions que requereixen la creació d'un gran nombre d'objectes similars. En compartir l'estat intrínsec entre múltiples objectes, es pot aconseguir una significativa reducció en el consum de recursos. No obstant això, és important balancejar la complexitat afegida amb els beneficis obtinguts per determinar si aquest patró és adequat per a una situació específica.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
