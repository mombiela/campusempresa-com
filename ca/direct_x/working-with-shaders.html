<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/direct_x/working-with-shaders" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció als Shaders</h1>
<div class='content'><p>Els shaders són petits programes que s'executen a la GPU per controlar el renderitzat de gràfics. En DirectX, els shaders es redacten en HLSL (High-Level Shading Language).</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Vertex Shader</strong>: Processa les dades de cada vèrtex.</li>
<li><strong>Pixel Shader</strong>: Determina el color de cada píxel.</li>
<li><strong>HLSL</strong>: El llenguatge utilitzat per escriure shaders en DirectX.</li>
<li><strong>Shader Model</strong>: Defineix les característiques i capacitats dels shaders.</li>
</ul>
</div><h1>Escriure el teu Primer Shader</h1>
<div class='content'><p>Per començar amb els shaders en DirectX, hauràs d'escriure un shader de vèrtex i un de píxel senzills.</p>
</div><h2>Exemple de Vertex Shader</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVmVydGV4IHNoYWRlciBzZW56aWxsCnN0cnVjdCBWU19JTlBVVCB7CiAgICBmbG9hdDQgUG9zIDogUE9TSVRJT047CiAgICBmbG9hdDQgQ29sb3IgOiBDT0xPUjsKfTsKCnN0cnVjdCBWU19PVVRQVVQgewogICAgZmxvYXQ0IFBvcyA6IFNWX1BPU0lUSU9OOwogICAgZmxvYXQ0IENvbG9yIDogQ09MT1I7Cn07CgpWU19PVVRQVVQgbWFpbihWU19JTlBVVCBpbnB1dCkgewogICAgVlNfT1VUUFVUIG91dHB1dDsKICAgIG91dHB1dC5Qb3MgPSBpbnB1dC5Qb3M7CiAgICBvdXRwdXQuQ29sb3IgPSBpbnB1dC5Db2xvcjsKICAgIHJldHVybiBvdXRwdXQ7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Vertex shader senzill
struct VS_INPUT {
    float4 Pos : POSITION;
    float4 Color : COLOR;
};

struct VS_OUTPUT {
    float4 Pos : SV_POSITION;
    float4 Color : COLOR;
};

VS_OUTPUT main(VS_INPUT input) {
    VS_OUTPUT output;
    output.Pos = input.Pos;
    output.Color = input.Color;
    return output;
}</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li><strong>VS_INPUT</strong>: Estructura que defineix l'entrada al vertex shader.</li>
<li><strong>VS_OUTPUT</strong>: Estructura que defineix la sortida del vertex shader.</li>
<li><strong>main</strong>: La funció principal del vertex shader, transformant la posició d'entrada i passant el color.</li>
</ul>
</div><h2>Exemple de Pixel Shader</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gUGl4ZWwgc2hhZGVyIHNlbnppbGwKc3RydWN0IFBTX0lOUFVUIHsKICAgIGZsb2F0NCBQb3MgOiBTVl9QT1NJVElPTjsKICAgIGZsb2F0NCBDb2xvciA6IENPTE9SOwp9OwoKZmxvYXQ0IG1haW4oUFNfSU5QVVQgaW5wdXQpIDogU1ZfVEFSR0VUIHsKICAgIHJldHVybiBpbnB1dC5Db2xvcjsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Pixel shader senzill
struct PS_INPUT {
    float4 Pos : SV_POSITION;
    float4 Color : COLOR;
};

float4 main(PS_INPUT input) : SV_TARGET {
    return input.Color;
}</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li><strong>PS_INPUT</strong>: Estructura que defineix l'entrada al pixel shader.</li>
<li><strong>main</strong>: La funció principal del pixel shader, retornant el color.</li>
</ul>
</div><h1>Compilar i Utilitzar Shaders en DirectX</h1>
<div class='content'><p>Per utilitzar shaders en una aplicació DirectX, necessites compilar-los i establir-los en la pipeline de renderitzat.</p>
</div><h2>Compilar Shaders</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SUQzREJsb2IqIHZlcnRleFNoYWRlckJsb2I7CklEM0RCbG9iKiBwaXhlbFNoYWRlckJsb2I7CkQzRENvbXBpbGVGcm9tRmlsZShMInNoYWRlci5obHNsIiwgbnVsbHB0ciwgbnVsbHB0ciwgIlZTIiwgInZzXzVfMCIsIDAsIDAsICZ2ZXJ0ZXhTaGFkZXJCbG9iLCBudWxscHRyKTsKRDNEQ29tcGlsZUZyb21GaWxlKEwic2hhZGVyLmhsc2wiLCBudWxscHRyLCBudWxscHRyLCAiUFMiLCAicHNfNV8wIiwgMCwgMCwgJnBpeGVsU2hhZGVyQmxvYiwgbnVsbHB0cik7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ID3DBlob* vertexShaderBlob;
ID3DBlob* pixelShaderBlob;
D3DCompileFromFile(L&quot;shader.hlsl&quot;, nullptr, nullptr, &quot;VS&quot;, &quot;vs_5_0&quot;, 0, 0, &amp;vertexShaderBlob, nullptr);
D3DCompileFromFile(L&quot;shader.hlsl&quot;, nullptr, nullptr, &quot;PS&quot;, &quot;ps_5_0&quot;, 0, 0, &amp;pixelShaderBlob, nullptr);</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li><strong>D3DCompileFromFile</strong>: Funció per compilar shaders des d'un fitxer.</li>
<li><strong>&quot;VS&quot;</strong> i <strong>&quot;PS&quot;</strong>: Punts d'entrada per als vertex i pixel shaders.</li>
<li><strong>&quot;vs_5_0&quot;</strong> i <strong>&quot;ps_5_0&quot;</strong>: Models de shader per als vertex i pixel shaders.</li>
</ul>
</div><h2>Establir Shaders en la Pipeline</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SUQzRDExVmVydGV4U2hhZGVyKiB2ZXJ0ZXhTaGFkZXI7CklEM0QxMVBpeGVsU2hhZGVyKiBwaXhlbFNoYWRlcjsKZGV2aWNlLT5DcmVhdGVWZXJ0ZXhTaGFkZXIodmVydGV4U2hhZGVyQmxvYi0+R2V0QnVmZmVyUG9pbnRlcigpLCB2ZXJ0ZXhTaGFkZXJCbG9iLT5HZXRCdWZmZXJTaXplKCksIG51bGxwdHIsICZ2ZXJ0ZXhTaGFkZXIpOwpkZXZpY2UtPkNyZWF0ZVBpeGVsU2hhZGVyKHBpeGVsU2hhZGVyQmxvYi0+R2V0QnVmZmVyUG9pbnRlcigpLCBwaXhlbFNoYWRlckJsb2ItPkdldEJ1ZmZlclNpemUoKSwgbnVsbHB0ciwgJnBpeGVsU2hhZGVyKTsKCmNvbnRleHQtPlZTU2V0U2hhZGVyKHZlcnRleFNoYWRlciwgbnVsbHB0ciwgMCk7CmNvbnRleHQtPlBTU2V0U2hhZGVyKHBpeGVsU2hhZGVyLCBudWxscHRyLCAwKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ID3D11VertexShader* vertexShader;
ID3D11PixelShader* pixelShader;
device-&gt;CreateVertexShader(vertexShaderBlob-&gt;GetBufferPointer(), vertexShaderBlob-&gt;GetBufferSize(), nullptr, &amp;vertexShader);
device-&gt;CreatePixelShader(pixelShaderBlob-&gt;GetBufferPointer(), pixelShaderBlob-&gt;GetBufferSize(), nullptr, &amp;pixelShader);

context-&gt;VSSetShader(vertexShader, nullptr, 0);
context-&gt;PSSetShader(pixelShader, nullptr, 0);</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li><strong>CreateVertexShader</strong> i <strong>CreatePixelShader</strong>: Funcions per crear objectes shader.</li>
<li><strong>VSSetShader</strong> i <strong>PSSetShader</strong>: Funcions per establir els shaders en la pipeline de renderitzat.</li>
</ul>
</div><h1>Tècniques Avançades de Shader</h1>
<div class='content'><p>Un cop et sentis còmode amb els shaders bàsics, pots explorar tècniques més avançades.</p>
</div><h2>Models d'Il·luminació i Shading</h2>
<div class='content'><ul>
<li><strong>Phong Shading</strong>: Un model per simular la manera com la llum interactua amb les superfícies.</li>
<li><strong>Blinn-Phong Shading</strong>: Una millora sobre el Phong shading per a un millor rendiment.</li>
</ul>
</div><h2>Exemple: Phong Shading</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVmVydGV4IHNoYWRlciBkZSBQaG9uZyBzaGFkaW5nCnN0cnVjdCBWU19JTlBVVCB7CiAgICBmbG9hdDQgUG9zIDogUE9TSVRJT047CiAgICBmbG9hdDMgTm9ybWFsIDogTk9STUFMOwp9OwoKc3RydWN0IFZTX09VVFBVVCB7CiAgICBmbG9hdDQgUG9zIDogU1ZfUE9TSVRJT047CiAgICBmbG9hdDMgTm9ybWFsIDogTk9STUFMOwp9OwoKVlNfT1VUUFVUIG1haW4oVlNfSU5QVVQgaW5wdXQpIHsKICAgIFZTX09VVFBVVCBvdXRwdXQ7CiAgICBvdXRwdXQuUG9zID0gbXVsKHdvcmxkVmlld1Byb2osIGlucHV0LlBvcyk7CiAgICBvdXRwdXQuTm9ybWFsID0gbXVsKChmbG9hdDN4Myl3b3JsZCwgaW5wdXQuTm9ybWFsKTsKICAgIHJldHVybiBvdXRwdXQ7Cn0KCi8vIFBpeGVsIHNoYWRlciBkZSBQaG9uZyBzaGFkaW5nCmZsb2F0NCBtYWluKFBTX0lOUFVUIGlucHV0KSA6IFNWX1RBUkdFVCB7CiAgICBmbG9hdDMgbGlnaHREaXIgPSBub3JtYWxpemUobGlnaHRQb3MgLSBpbnB1dC5Qb3MpOwogICAgZmxvYXQzIG5vcm1hbCA9IG5vcm1hbGl6ZShpbnB1dC5Ob3JtYWwpOwogICAgZmxvYXQzIHZpZXdEaXIgPSBub3JtYWxpemUodmlld1BvcyAtIGlucHV0LlBvcyk7CiAgICBmbG9hdDMgcmVmbGVjdERpciA9IHJlZmxlY3QoLWxpZ2h0RGlyLCBub3JtYWwpOwoKICAgIGZsb2F0IGFtYmllbnQgPSAwLjE7CiAgICBmbG9hdCBkaWZmdXNlID0gbWF4KGRvdChsaWdodERpciwgbm9ybWFsKSwgMC4wKTsKICAgIGZsb2F0IHNwZWN1bGFyID0gcG93KG1heChkb3Qodmlld0RpciwgcmVmbGVjdERpciksIDAuMCksIHNoaW5pbmVzcyk7CgogICAgZmxvYXQzIGNvbG9yID0gYW1iaWVudCAqIGFtYmllbnRDb2xvciArIGRpZmZ1c2UgKiBkaWZmdXNlQ29sb3IgKyBzcGVjdWxhciAqIHNwZWN1bGFyQ29sb3I7CiAgICByZXR1cm4gZmxvYXQ0KGNvbG9yLCAxLjApOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Vertex shader de Phong shading
struct VS_INPUT {
    float4 Pos : POSITION;
    float3 Normal : NORMAL;
};

struct VS_OUTPUT {
    float4 Pos : SV_POSITION;
    float3 Normal : NORMAL;
};

VS_OUTPUT main(VS_INPUT input) {
    VS_OUTPUT output;
    output.Pos = mul(worldViewProj, input.Pos);
    output.Normal = mul((float3x3)world, input.Normal);
    return output;
}

// Pixel shader de Phong shading
float4 main(PS_INPUT input) : SV_TARGET {
    float3 lightDir = normalize(lightPos - input.Pos);
    float3 normal = normalize(input.Normal);
    float3 viewDir = normalize(viewPos - input.Pos);
    float3 reflectDir = reflect(-lightDir, normal);

    float ambient = 0.1;
    float diffuse = max(dot(lightDir, normal), 0.0);
    float specular = pow(max(dot(viewDir, reflectDir), 0.0), shininess);

    float3 color = ambient * ambientColor + diffuse * diffuseColor + specular * specularColor;
    return float4(color, 1.0);
}</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li><strong>Phong Shading</strong>: Calcula components ambientals, difusos i especulars per a una il·luminació realista.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Treballar amb shaders en DirectX implica entendre els conceptes bàsics de HLSL, escriure vertex i pixel shaders, i integrar-los en la teva aplicació. A mesura que avancis, podràs explorar tècniques de shading més complexes per crear gràfics realistes i visualment atractius. La pràctica i l'experimentació són claus per dominar la programació de shaders.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
