<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/direct_x/post-processing-effects" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Els efectes de postprocessament són tècniques aplicades a la imatge final renderitzada per millorar la seva qualitat visual. Aquests efectes són comunament utilitzats en jocs i aplicacions gràfiques per aconseguir diversos estils visuals i millorar l'estètica general. En aquesta secció, explorarem diferents efectes de postprocessament, com implementar-los utilitzant DirectX, i proporcionarem exemples i exercicis per consolidar la teva comprensió.</p>
</div><h1>Introducció als Efectes de Postprocessament</h1>
<div class='content'><ul>
<li><strong>Definició</strong>: Els efectes de postprocessament són efectes visuals aplicats a la imatge final després del procés de renderització inicial.</li>
<li><strong>Propòsit</strong>: Millorar la qualitat visual, crear efectes artístics i millorar el realisme.</li>
<li><strong>Efectes Comuns</strong>: Bloom, Blur de Moviment, Profunditat de Camp, Correcció de Color, i més.</li>
</ul>
</div><h1>Configuració del Postprocessament en DirectX</h1>
<div class='content'><p>Abans d'entrar en efectes específics, configurem un marc bàsic per aplicar efectes de postprocessament en DirectX.</p>
</div><h2>Renderitzar a una Textura</h2>
<div class='content'><p>Per aplicar efectes de postprocessament, primer hem de renderitzar la nostra escena a una textura en lloc de directament a la pantalla.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ3JlYXIgdW5hIHRleHR1cmEgZGUgZGVzdMOtIGRlIHJlbmRlcml0emFjacOzCklEM0QxMVRleHR1cmUyRCogcmVuZGVyVGFyZ2V0VGV4dHVyZSA9IG51bGxwdHI7CkQzRDExX1RFWFRVUkUyRF9ERVNDIHRleHR1cmVEZXNjID0ge307CnRleHR1cmVEZXNjLldpZHRoID0gc2NyZWVuV2lkdGg7CnRleHR1cmVEZXNjLkhlaWdodCA9IHNjcmVlbkhlaWdodDsKdGV4dHVyZURlc2MuTWlwTGV2ZWxzID0gMTsKdGV4dHVyZURlc2MuQXJyYXlTaXplID0gMTsKdGV4dHVyZURlc2MuRm9ybWF0ID0gRFhHSV9GT1JNQVRfUjhHOEI4QThfVU5PUk07CnRleHR1cmVEZXNjLlNhbXBsZURlc2MuQ291bnQgPSAxOwp0ZXh0dXJlRGVzYy5Vc2FnZSA9IEQzRDExX1VTQUdFX0RFRkFVTFQ7CnRleHR1cmVEZXNjLkJpbmRGbGFncyA9IEQzRDExX0JJTkRfUkVOREVSX1RBUkdFVCB8IEQzRDExX0JJTkRfU0hBREVSX1JFU09VUkNFOwoKZGV2aWNlLT5DcmVhdGVUZXh0dXJlMkQoJnRleHR1cmVEZXNjLCBudWxscHRyLCAmcmVuZGVyVGFyZ2V0VGV4dHVyZSk7CgovLyBDcmVhciB1bmEgdmlzdGEgZGUgZGVzdMOtIGRlIHJlbmRlcml0emFjacOzCklEM0QxMVJlbmRlclRhcmdldFZpZXcqIHJlbmRlclRhcmdldFZpZXcgPSBudWxscHRyOwpkZXZpY2UtPkNyZWF0ZVJlbmRlclRhcmdldFZpZXcocmVuZGVyVGFyZ2V0VGV4dHVyZSwgbnVsbHB0ciwgJnJlbmRlclRhcmdldFZpZXcpOwoKLy8gQ3JlYXIgdW5hIHZpc3RhIGRlIHJlY3VycyBkZSBzaGFkZXIKSUQzRDExU2hhZGVyUmVzb3VyY2VWaWV3KiBzaGFkZXJSZXNvdXJjZVZpZXcgPSBudWxscHRyOwpkZXZpY2UtPkNyZWF0ZVNoYWRlclJlc291cmNlVmlldyhyZW5kZXJUYXJnZXRUZXh0dXJlLCBudWxscHRyLCAmc2hhZGVyUmVzb3VyY2VWaWV3KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Crear una textura de dest&iacute; de renderitzaci&oacute;
ID3D11Texture2D* renderTargetTexture = nullptr;
D3D11_TEXTURE2D_DESC textureDesc = {};
textureDesc.Width = screenWidth;
textureDesc.Height = screenHeight;
textureDesc.MipLevels = 1;
textureDesc.ArraySize = 1;
textureDesc.Format = DXGI_FORMAT_R8G8B8A8_UNORM;
textureDesc.SampleDesc.Count = 1;
textureDesc.Usage = D3D11_USAGE_DEFAULT;
textureDesc.BindFlags = D3D11_BIND_RENDER_TARGET | D3D11_BIND_SHADER_RESOURCE;

device-&gt;CreateTexture2D(&amp;textureDesc, nullptr, &amp;renderTargetTexture);

// Crear una vista de dest&iacute; de renderitzaci&oacute;
ID3D11RenderTargetView* renderTargetView = nullptr;
device-&gt;CreateRenderTargetView(renderTargetTexture, nullptr, &amp;renderTargetView);

// Crear una vista de recurs de shader
ID3D11ShaderResourceView* shaderResourceView = nullptr;
device-&gt;CreateShaderResourceView(renderTargetTexture, nullptr, &amp;shaderResourceView);</pre></div><div class='content'></div><h2>Aplicar un Efecte de Postprocessament</h2>
<div class='content'><p>Un cop tinguem la nostra escena renderitzada a una textura, podem aplicar efectes de postprocessament utilitzant shaders.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVmluY3VsYXIgbGEgdGV4dHVyYSBkZSBkZXN0w60gZGUgcmVuZGVyaXR6YWNpw7MgY29tIGEgZW50cmFkYSBhbCBwaXhlbCBzaGFkZXIKY29udGV4dC0+UFNTZXRTaGFkZXJSZXNvdXJjZXMoMCwgMSwgJnNoYWRlclJlc291cmNlVmlldyk7CgovLyBEaWJ1aXhhciB1biBxdWFkIGRlIHBhbnRhbGxhIGNvbXBsZXRhIHBlciBhcGxpY2FyIGwnZWZlY3RlIGRlIHBvc3Rwcm9jZXNzYW1lbnQKY29udGV4dC0+RHJhdyg2LCAwKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Vincular la textura de dest&iacute; de renderitzaci&oacute; com a entrada al pixel shader
context-&gt;PSSetShaderResources(0, 1, &amp;shaderResourceView);

// Dibuixar un quad de pantalla completa per aplicar l'efecte de postprocessament
context-&gt;Draw(6, 0);</pre></div><div class='content'></div><h1>Efectes Comuns de Postprocessament</h1>
<div class='content'></div><h2>Bloom</h2>
<div class='content'><p>El Bloom és un efecte que fa que les àrees brillants de la imatge brillin, creant un aspecte més vibrant i dinàmic.</p>
<h4>Passos d'Implementació</h4>
<ol>
<li><strong>Extreure Àrees Brillants</strong>: Renderitzar només les parts brillants de la imatge a una textura separada.</li>
<li><strong>Difuminar les Àrees Brillants</strong>: Aplicar un difuminat gaussià a la textura de les àrees brillants.</li>
<li><strong>Combinar amb la Imatge Original</strong>: Afegir les àrees brillants difuminades a la imatge original.</li>
</ol>
<h4>Exemple de Codi</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXh0cmV1cmUgw6ByZWVzIGJyaWxsYW50cwpjb250ZXh0LT5QU1NldFNoYWRlcihicmlnaHRFeHRyYWN0U2hhZGVyLCBudWxscHRyLCAwKTsKY29udGV4dC0+RHJhdyg2LCAwKTsKCi8vIERpZnVtaW5hciBsZXMgw6ByZWVzIGJyaWxsYW50cwpjb250ZXh0LT5QU1NldFNoYWRlcihnYXVzc2lhbkJsdXJTaGFkZXIsIG51bGxwdHIsIDApOwpjb250ZXh0LT5EcmF3KDYsIDApOwoKLy8gQ29tYmluYXIgYW1iIGxhIGltYXRnZSBvcmlnaW5hbApjb250ZXh0LT5QU1NldFNoYWRlcihibG9vbUNvbWJpbmVTaGFkZXIsIG51bGxwdHIsIDApOwpjb250ZXh0LT5EcmF3KDYsIDApOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Extreure &agrave;rees brillants
context-&gt;PSSetShader(brightExtractShader, nullptr, 0);
context-&gt;Draw(6, 0);

// Difuminar les &agrave;rees brillants
context-&gt;PSSetShader(gaussianBlurShader, nullptr, 0);
context-&gt;Draw(6, 0);

// Combinar amb la imatge original
context-&gt;PSSetShader(bloomCombineShader, nullptr, 0);
context-&gt;Draw(6, 0);</pre></div><div class='content'></div><h2>Blur de Moviment</h2>
<div class='content'><p>El Blur de Moviment simula l'efecte de difuminat que ocorre quan els objectes es mouen ràpidament a través de la pantalla.</p>
<h4>Passos d'Implementació</h4>
<ol>
<li><strong>Calcular la Velocitat</strong>: Determinar la velocitat de cada píxel basant-se en la diferència entre el fotograma actual i l'anterior.</li>
<li><strong>Aplicar Difuminat</strong>: Utilitzar la velocitat per difuminar la imatge en la direcció del moviment.</li>
</ol>
<h4>Exemple de Codi</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2FsY3VsYXIgbGEgdmVsb2NpdGF0CmNvbnRleHQtPlBTU2V0U2hhZGVyKHZlbG9jaXR5U2hhZGVyLCBudWxscHRyLCAwKTsKY29udGV4dC0+RHJhdyg2LCAwKTsKCi8vIEFwbGljYXIgYmx1ciBkZSBtb3ZpbWVudApjb250ZXh0LT5QU1NldFNoYWRlcihtb3Rpb25CbHVyU2hhZGVyLCBudWxscHRyLCAwKTsKY29udGV4dC0+RHJhdyg2LCAwKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Calcular la velocitat
context-&gt;PSSetShader(velocityShader, nullptr, 0);
context-&gt;Draw(6, 0);

// Aplicar blur de moviment
context-&gt;PSSetShader(motionBlurShader, nullptr, 0);
context-&gt;Draw(6, 0);</pre></div><div class='content'></div><h2>Profunditat de Camp</h2>
<div class='content'><p>La Profunditat de Camp simula el difuminat dels objectes que no estan enfocats, imitant el comportament d'una lent de càmera.</p>
<h4>Passos d'Implementació</h4>
<ol>
<li><strong>Calcular la Profunditat</strong>: Utilitzar el buffer de profunditat per determinar la distància de cada píxel de la càmera.</li>
<li><strong>Aplicar Difuminat</strong>: Difuminar la imatge basant-se en la informació de profunditat, amb els objectes més propers sent més nítids i els objectes més distants sent més difuminats.</li>
</ol>
<h4>Exemple de Codi</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ2FsY3VsYXIgbGEgcHJvZnVuZGl0YXQKY29udGV4dC0+UFNTZXRTaGFkZXIoZGVwdGhTaGFkZXIsIG51bGxwdHIsIDApOwpjb250ZXh0LT5EcmF3KDYsIDApOwoKLy8gQXBsaWNhciBkaWZ1bWluYXQgZGUgcHJvZnVuZGl0YXQgZGUgY2FtcApjb250ZXh0LT5QU1NldFNoYWRlcihkZXB0aE9mRmllbGRTaGFkZXIsIG51bGxwdHIsIDApOwpjb250ZXh0LT5EcmF3KDYsIDApOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Calcular la profunditat
context-&gt;PSSetShader(depthShader, nullptr, 0);
context-&gt;Draw(6, 0);

// Aplicar difuminat de profunditat de camp
context-&gt;PSSetShader(depthOfFieldShader, nullptr, 0);
context-&gt;Draw(6, 0);</pre></div><div class='content'></div><h1>Exercicis</h1>
<div class='content'><ol>
<li><strong>Implementar l'Efecte Bloom</strong>: Segueix els passos i exemples de codi proporcionats per implementar un efecte bloom en la teva aplicació DirectX.</li>
<li><strong>Crear Blur de Moviment</strong>: Utilitza l'exemple de codi proporcionat per afegir blur de moviment a la teva escena. Experimenta amb diferents càlculs de velocitat.</li>
<li><strong>Profunditat de Camp</strong>: Implementa profunditat de camp en la teva aplicació. Ajusta la intensitat del difuminat basant-se en diferents rangs de profunditat.</li>
</ol>
</div><h1>Conclusió</h1>
<div class='content'><p>Els efectes de postprocessament són eines poderoses per millorar la qualitat visual de les teves aplicacions DirectX. Comprenent i implementant efectes com el bloom, el blur de moviment i la profunditat de camp, pots crear experiències més immersives i visualment atractives. Practica els exercicis proporcionats per consolidar la teva comprensió i experimenta combinant diferents efectes per aconseguir estils visuals únics.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
