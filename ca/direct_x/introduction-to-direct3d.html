<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/direct_x/introduction-to-direct3d" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Visió general</h1>
<div class='content'><p>Direct3D és una part del conjunt d'APIs multimèdia DirectX proporcionades per Microsoft. S'utilitza per renderitzar gràfics tridimensionals en aplicacions on el rendiment és crític, com ara jocs i simulacions. Aquesta secció us introduirà als conceptes bàsics de Direct3D, els seus components i com configurar una aplicació simple de Direct3D.</p>
</div><h1>Conceptes clau</h1>
<div class='content'><ul>
<li><strong>API Direct3D</strong>: Una API de gràfics de baix nivell que proporciona un conjunt d'eines per renderitzar gràfics 3D.</li>
<li><strong>Dispositiu</strong>: Representa l'adaptador virtual i s'utilitza per renderitzar gràfics.</li>
<li><strong>Cadena d'intercanvi</strong>: Gestiona els buffers que s'utilitzen per renderitzar i mostrar fotogrames.</li>
<li><strong>Buffers</strong>: Emmagatzematge de memòria per a dades de vèrtex, dades d'índex i altra informació gràfica.</li>
<li><strong>Shaders</strong>: Petits programes que s'executen a la GPU per controlar la pipeline de renderització.</li>
</ul>
</div><h1>Configuració d'una aplicació Direct3D</h1>
<div class='content'></div><h2>Prerequisits</h2>
<div class='content'><ul>
<li><strong>Windows OS</strong>: Direct3D és una API específica de Windows.</li>
<li><strong>Visual Studio</strong>: Un entorn de desenvolupament integrat (IDE) per escriure i depurar les vostres aplicacions Direct3D.</li>
<li><strong>DirectX SDK</strong>: Kit de desenvolupament de programari que proporciona les biblioteques i eines necessàries.</li>
</ul>
</div><h2>Inicialització de Direct3D</h2>
<div class='content'><p>Per començar a utilitzar Direct3D, cal inicialitzar el dispositiu Direct3D i la cadena d'intercanvi. A continuació es mostra un exemple simple en C++:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGQzZDExLmg+CiNpbmNsdWRlIDxkeGdpLmg+CiNpbmNsdWRlIDx3aW5kb3dzLmg+CgovLyBFbmxsYcOnYXIgbGVzIGJpYmxpb3RlcXVlcyBuZWNlc3PDoHJpZXMKI3ByYWdtYSBjb21tZW50KGxpYiwgImQzZDExLmxpYiIpCiNwcmFnbWEgY29tbWVudChsaWIsICJkeGdpLmxpYiIpCgovLyBEZWNsYXJhY2lvbnMgZ2xvYmFscwpJRFhHSVN3YXBDaGFpbiogc3dhcENoYWluID0gbnVsbHB0cjsKSUQzRDExRGV2aWNlKiBkZXZpY2UgPSBudWxscHRyOwpJRDNEMTFEZXZpY2VDb250ZXh0KiBkZXZpY2VDb250ZXh0ID0gbnVsbHB0cjsKSUQzRDExUmVuZGVyVGFyZ2V0VmlldyogcmVuZGVyVGFyZ2V0VmlldyA9IG51bGxwdHI7CgovLyBGdW5jacOzIHBlciBpbmljaWFsaXR6YXIgRGlyZWN0M0QKYm9vbCBJbml0RDNEKEhXTkQgaFduZCkgewogICAgRFhHSV9TV0FQX0NIQUlOX0RFU0Mgc2NkID0ge307CiAgICBzY2QuQnVmZmVyQ291bnQgPSAxOwogICAgc2NkLkJ1ZmZlckRlc2MuRm9ybWF0ID0gRFhHSV9GT1JNQVRfUjhHOEI4QThfVU5PUk07CiAgICBzY2QuQnVmZmVyVXNhZ2UgPSBEWEdJX1VTQUdFX1JFTkRFUl9UQVJHRVRfT1VUUFVUOwogICAgc2NkLk91dHB1dFdpbmRvdyA9IGhXbmQ7CiAgICBzY2QuU2FtcGxlRGVzYy5Db3VudCA9IDQ7CiAgICBzY2QuV2luZG93ZWQgPSBUUlVFOwoKICAgIEhSRVNVTFQgaHIgPSBEM0QxMUNyZWF0ZURldmljZUFuZFN3YXBDaGFpbigKICAgICAgICBudWxscHRyLAogICAgICAgIEQzRF9EUklWRVJfVFlQRV9IQVJEV0FSRSwKICAgICAgICBudWxscHRyLAogICAgICAgIDAsCiAgICAgICAgbnVsbHB0ciwKICAgICAgICAwLAogICAgICAgIEQzRDExX1NES19WRVJTSU9OLAogICAgICAgICZzY2QsCiAgICAgICAgJnN3YXBDaGFpbiwKICAgICAgICAmZGV2aWNlLAogICAgICAgIG51bGxwdHIsCiAgICAgICAgJmRldmljZUNvbnRleHQKICAgICk7CgogICAgaWYgKEZBSUxFRChocikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgSUQzRDExVGV4dHVyZTJEKiBwQmFja0J1ZmZlcjsKICAgIHN3YXBDaGFpbi0+R2V0QnVmZmVyKDAsIF9fdXVpZG9mKElEM0QxMVRleHR1cmUyRCksIChMUFZPSUQqKSZwQmFja0J1ZmZlcik7CiAgICBkZXZpY2UtPkNyZWF0ZVJlbmRlclRhcmdldFZpZXcocEJhY2tCdWZmZXIsIG51bGxwdHIsICZyZW5kZXJUYXJnZXRWaWV3KTsKICAgIHBCYWNrQnVmZmVyLT5SZWxlYXNlKCk7CgogICAgZGV2aWNlQ29udGV4dC0+T01TZXRSZW5kZXJUYXJnZXRzKDEsICZyZW5kZXJUYXJnZXRWaWV3LCBudWxscHRyKTsKCiAgICByZXR1cm4gdHJ1ZTsKfQoKLy8gRnVuY2nDsyBwZXIgbmV0ZWphciBEaXJlY3QzRAp2b2lkIENsZWFuRDNEKCkgewogICAgc3dhcENoYWluLT5SZWxlYXNlKCk7CiAgICBkZXZpY2UtPlJlbGVhc2UoKTsKICAgIGRldmljZUNvbnRleHQtPlJlbGVhc2UoKTsKICAgIHJlbmRlclRhcmdldFZpZXctPlJlbGVhc2UoKTsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;d3d11.h&gt;
#include &lt;dxgi.h&gt;
#include &lt;windows.h&gt;

// Enlla&ccedil;ar les biblioteques necess&agrave;ries
#pragma comment(lib, &quot;d3d11.lib&quot;)
#pragma comment(lib, &quot;dxgi.lib&quot;)

// Declaracions globals
IDXGISwapChain* swapChain = nullptr;
ID3D11Device* device = nullptr;
ID3D11DeviceContext* deviceContext = nullptr;
ID3D11RenderTargetView* renderTargetView = nullptr;

// Funci&oacute; per inicialitzar Direct3D
bool InitD3D(HWND hWnd) {
    DXGI_SWAP_CHAIN_DESC scd = {};
    scd.BufferCount = 1;
    scd.BufferDesc.Format = DXGI_FORMAT_R8G8B8A8_UNORM;
    scd.BufferUsage = DXGI_USAGE_RENDER_TARGET_OUTPUT;
    scd.OutputWindow = hWnd;
    scd.SampleDesc.Count = 4;
    scd.Windowed = TRUE;

    HRESULT hr = D3D11CreateDeviceAndSwapChain(
        nullptr,
        D3D_DRIVER_TYPE_HARDWARE,
        nullptr,
        0,
        nullptr,
        0,
        D3D11_SDK_VERSION,
        &amp;scd,
        &amp;swapChain,
        &amp;device,
        nullptr,
        &amp;deviceContext
    );

    if (FAILED(hr)) {
        return false;
    }

    ID3D11Texture2D* pBackBuffer;
    swapChain-&gt;GetBuffer(0, __uuidof(ID3D11Texture2D), (LPVOID*)&amp;pBackBuffer);
    device-&gt;CreateRenderTargetView(pBackBuffer, nullptr, &amp;renderTargetView);
    pBackBuffer-&gt;Release();

    deviceContext-&gt;OMSetRenderTargets(1, &amp;renderTargetView, nullptr);

    return true;
}

// Funci&oacute; per netejar Direct3D
void CleanD3D() {
    swapChain-&gt;Release();
    device-&gt;Release();
    deviceContext-&gt;Release();
    renderTargetView-&gt;Release();
}</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>Capçaleres i biblioteques</strong>: El codi inclou les capçaleres necessàries i enllaça les biblioteques requerides.</li>
<li><strong>Declaracions globals</strong>: Declara punters globals per a la cadena d'intercanvi, el dispositiu, el context del dispositiu i la vista de l'objectiu de renderització.</li>
<li><strong>Funció InitD3D</strong>: Inicialitza el dispositiu Direct3D i la cadena d'intercanvi, configura la vista de l'objectiu de renderització.</li>
<li><strong>Funció CleanD3D</strong>: Allibera els recursos per netejar Direct3D.</li>
</ul>
</div><h1>Renderització d'una escena simple</h1>
<div class='content'><p>Un cop Direct3D està inicialitzat, podeu renderitzar una escena simple. Aquí teniu un exemple de com esborrar la pantalla amb un color sòlid:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBSZW5kZXJGcmFtZSgpIHsKICAgIC8vIEVzYm9ycmFyIGVsIGJ1ZmZlciBwb3N0ZXJpb3IgYW1iIHVuIGJsYXUgcHJvZnVuZAogICAgZmxvYXQgY29sb3JbNF0gPSB7IDAuMGYsIDAuMmYsIDAuNGYsIDEuMGYgfTsKICAgIGRldmljZUNvbnRleHQtPkNsZWFyUmVuZGVyVGFyZ2V0VmlldyhyZW5kZXJUYXJnZXRWaWV3LCBjb2xvcik7CgogICAgLy8gUHJlc2VudGFyIGVsIGJ1ZmZlciBwb3N0ZXJpb3IgYSBsYSBwYW50YWxsYQogICAgc3dhcENoYWluLT5QcmVzZW50KDAsIDApOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void RenderFrame() {
    // Esborrar el buffer posterior amb un blau profund
    float color[4] = { 0.0f, 0.2f, 0.4f, 1.0f };
    deviceContext-&gt;ClearRenderTargetView(renderTargetView, color);

    // Presentar el buffer posterior a la pantalla
    swapChain-&gt;Present(0, 0);
}</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>ClearRenderTargetView</strong>: Esborra la vista de l'objectiu de renderització amb un color especificat.</li>
<li><strong>Present</strong>: Presenta el fotograma renderitzat a la pantalla.</li>
</ul>
</div><h1>Resum</h1>
<div class='content'><p>En aquesta introducció a Direct3D, hem cobert els components essencials i els passos per configurar una aplicació bàsica de Direct3D. Hem inicialitzat el dispositiu Direct3D, creat una cadena d'intercanvi i renderitzat una escena simple esborrant la pantalla amb un color sòlid. Aquesta base us permetrà aprofundir en temes més avançats de Direct3D, com ara shaders, textures i tècniques de renderització complexes.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
