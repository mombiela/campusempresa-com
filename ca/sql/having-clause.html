<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clàusula HAVING</title>

    <link rel="alternate" href="https://campusempresa.com/es/sql/having-clause" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/sql/having-clause" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/sql/having-clause" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/sql/having-clause" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>La clàusula HAVING en SQL s'utilitza per filtrar registres que treballen amb dades agregades. Sovint s'utilitza conjuntament amb la clàusula GROUP BY per filtrar grups de files que compleixen certes condicions. Aquest tema et guiarà des dels conceptes bàsics fins a l'ús avançat de la clàusula HAVING.</p>
</div><h1>Introducció a la clàusula HAVING</h1>
<div class='content'><ul>
<li><strong>Propòsit</strong>: La clàusula HAVING s'utilitza per filtrar grups de files creats per la clàusula GROUP BY basant-se en una condició especificada.</li>
<li><strong>Diferència amb WHERE</strong>: La clàusula WHERE s'utilitza per filtrar files abans que es facin agrupaments, mentre que la clàusula HAVING s'utilitza per filtrar grups després que s'hagi aplicat la clàusula GROUP BY.</li>
</ul>
</div><h1>Sintaxi bàsica</h1>
<div class='content'><p>La sintaxi bàsica de la clàusula HAVING és la següent:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIGNvbHVtbjEsIGFnZ3JlZ2F0ZV9mdW5jdGlvbihjb2x1bW4yKQpGUk9NIHRhYmxlX25hbWUKR1JPVVAgQlkgY29sdW1uMQpIQVZJTkcgY29uZGl0aW9uOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT column1, aggregate_function(column2)
FROM table_name
GROUP BY column1
HAVING condition;</pre></div><div class='content'><ul>
<li><code>column1</code>: La columna per la qual es fa l'agrupament de les dades.</li>
<li><code>aggregate_function(column2)</code>: Una funció agregada com COUNT, SUM, AVG, etc.</li>
<li><code>condition</code>: La condició per filtrar els grups.</li>
</ul>
</div><h1>Exemple: Ús bàsic</h1>
<div class='content'><p>Considera una taula <code>sales</code> amb l'estructura següent:</p>
<p>| id  | product | quantity | price |
|-----|---------|----------|-------|
| 1   | A       | 10       | 100   |
| 2   | B       | 20       | 200   |
| 3   | A       | 15       | 150   |
| 4   | B       | 5        | 50    |
| 5   | C       | 8        | 80    |</p>
<p>Per trobar productes amb una quantitat total venuda superior a 20, pots utilitzar la clàusula HAVING:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIHByb2R1Y3QsIFNVTShxdWFudGl0eSkgQVMgdG90YWxfcXVhbnRpdHkKRlJPTSBzYWxlcwpHUk9VUCBCWSBwcm9kdWN0CkhBVklORyBTVU0ocXVhbnRpdHkpID4gMjA7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT product, SUM(quantity) AS total_quantity
FROM sales
GROUP BY product
HAVING SUM(quantity) &gt; 20;</pre></div><div class='content'><p>Això retornarà:</p>
<p>| product | total_quantity |
|---------|----------------|
| A       | 25             |
| B       | 25             |</p>
</div><h1>Ús avançat</h1>
<div class='content'></div><h2>Ús de múltiples condicions</h2>
<div class='content'><p>Pots utilitzar múltiples condicions en la clàusula HAVING combinant-les amb operadors lògics com AND i OR.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIHByb2R1Y3QsIFNVTShxdWFudGl0eSkgQVMgdG90YWxfcXVhbnRpdHksIFNVTShwcmljZSkgQVMgdG90YWxfcHJpY2UKRlJPTSBzYWxlcwpHUk9VUCBCWSBwcm9kdWN0CkhBVklORyBTVU0ocXVhbnRpdHkpID4gMjAgQU5EIFNVTShwcmljZSkgPiAyMDA7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT product, SUM(quantity) AS total_quantity, SUM(price) AS total_price
FROM sales
GROUP BY product
HAVING SUM(quantity) &gt; 20 AND SUM(price) &gt; 200;</pre></div><div class='content'></div><h2>Ús d'àlies</h2>
<div class='content'><p>També pots utilitzar àlies de columnes en la clàusula HAVING per a una millor llegibilitat.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIHByb2R1Y3QsIFNVTShxdWFudGl0eSkgQVMgdG90YWxfcXVhbnRpdHkKRlJPTSBzYWxlcwpHUk9VUCBCWSBwcm9kdWN0CkhBVklORyB0b3RhbF9xdWFudGl0eSA+IDIwOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT product, SUM(quantity) AS total_quantity
FROM sales
GROUP BY product
HAVING total_quantity &gt; 20;</pre></div><div class='content'></div><h2>Combinació de WHERE i HAVING</h2>
<div class='content'><p>Pots utilitzar la clàusula WHERE per filtrar files abans de l'agrupament i la clàusula HAVING per filtrar grups després de l'agrupament.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIHByb2R1Y3QsIFNVTShxdWFudGl0eSkgQVMgdG90YWxfcXVhbnRpdHkKRlJPTSBzYWxlcwpXSEVSRSBwcmljZSA+IDUwCkdST1VQIEJZIHByb2R1Y3QKSEFWSU5HIFNVTShxdWFudGl0eSkgPiAyMDs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT product, SUM(quantity) AS total_quantity
FROM sales
WHERE price &gt; 50
GROUP BY product
HAVING SUM(quantity) &gt; 20;</pre></div><div class='content'></div><h1>Errors comuns</h1>
<div class='content'><ul>
<li><strong>Ús de HAVING sense GROUP BY</strong>: La clàusula HAVING està dissenyada per treballar amb GROUP BY. Utilitzar-la sense GROUP BY resultarà en un error o resultats inesperats.</li>
<li><strong>Confusió entre WHERE i HAVING</strong>: Recorda que WHERE filtra files abans de l'agrupament, i HAVING filtra grups després de l'agrupament.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>La clàusula HAVING és una eina poderosa per filtrar dades agregades en SQL. Entenent la seva sintaxi i ús, pots realitzar consultes més complexes i obtenir coneixements més profunds de les teves dades. Recorda utilitzar-la conjuntament amb la clàusula GROUP BY i distingir-la de la clàusula WHERE per a un filtratge de dades efectiu.</p>
<p>Practica l'ús de la clàusula HAVING amb diferents condicions i conjunts de dades per convertir-te en un expert en la seva aplicació.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
