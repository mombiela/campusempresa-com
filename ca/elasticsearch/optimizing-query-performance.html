<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimització del Rendiment de les Consultes</title>

    <link rel="alternate" href="https://campusempresa.com/es/elasticsearch/optimizing-query-performance" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/elasticsearch/optimizing-query-performance" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/elasticsearch/optimizing-query-performance" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/elasticsearch/optimizing-query-performance" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='best-practices-index-design'>&#x25C4;Millors Pràctiques per al Disseny d'Índexs</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Optimització del Rendiment de les Consultes</a>
	</div>
	<div class='col-4 text-end'>
					<a href='managing-large-clusters'>Gestionant Grans Clústers &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Elasticsearch és un potent motor de cerca i anàlisi que pot gestionar grans volums de dades. No obstant això, per treure el màxim profit d'Elasticsearch, és crucial entendre com optimitzar el rendiment de les consultes. Aquesta secció us guiarà des dels conceptes bàsics fins a les tècniques avançades per optimitzar les vostres consultes d'Elasticsearch.</p>
</div><h1>Entendre el Rendiment de les Consultes</h1>
<div class='content'></div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Latència</strong>: El temps que triga a obtenir una resposta d'Elasticsearch després d'enviar una consulta.</li>
<li><strong>Rendiment</strong>: El nombre de consultes que es poden processar en un període de temps determinat.</li>
<li><strong>Utilització de Recursos</strong>: La quantitat de CPU, memòria i E/S de disc utilitzada per Elasticsearch durant l'execució de la consulta.</li>
</ul>
</div><h1>Tècniques Bàsiques d'Optimització</h1>
<div class='content'></div><h2>Utilitzar Filtres en Lloc de Consultes</h2>
<div class='content'><p>Els filtres són més ràpids que les consultes perquè no puntuen els documents. Utilitzeu filtres quan no necessiteu calcular puntuacions de rellevància.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJxdWVyeSI6IHsKICAgICJib29sIjogewogICAgICAiZmlsdGVyIjogewogICAgICAgICJ0ZXJtIjogeyAic3RhdHVzIjogImFjdGl2ZSIgfQogICAgICB9CiAgICB9CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;filter&quot;: {
        &quot;term&quot;: { &quot;status&quot;: &quot;active&quot; }
      }
    }
  }
}</pre></div><div class='content'></div><h2>Limitar els Camps Retornats</h2>
<div class='content'><p>Recupereu només els camps que necessiteu per reduir la quantitat de dades transferides i processades.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfc291cmNlIjogWyJ0aXRsZSIsICJhdXRob3IiXSwKICAicXVlcnkiOiB7CiAgICAibWF0Y2giOiB7CiAgICAgICJjb250ZW50IjogIkVsYXN0aWNzZWFyY2giCiAgICB9CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_source&quot;: [&quot;title&quot;, &quot;author&quot;],
  &quot;query&quot;: {
    &quot;match&quot;: {
      &quot;content&quot;: &quot;Elasticsearch&quot;
    }
  }
}</pre></div><div class='content'></div><h2>Utilitzar la Paginació</h2>
<div class='content'><p>Paginar els resultats per evitar recuperar grans conjunts de dades en una sola consulta.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJmcm9tIjogMCwKICAic2l6ZSI6IDEwLAogICJxdWVyeSI6IHsKICAgICJtYXRjaF9hbGwiOiB7fQogIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;from&quot;: 0,
  &quot;size&quot;: 10,
  &quot;query&quot;: {
    &quot;match_all&quot;: {}
  }
}</pre></div><div class='content'></div><h1>Tècniques Intermèdies d'Optimització</h1>
<div class='content'></div><h2>Utilitzar la Memòria Cau</h2>
<div class='content'><p>Elasticsearch emmagatzema en memòria cau els resultats dels filtres per accelerar les consultes repetides. Utilitzeu el paràmetre <code>request_cache</code> per controlar la memòria cau.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJxdWVyeSI6IHsKICAgICJib29sIjogewogICAgICAiZmlsdGVyIjogewogICAgICAgICJ0ZXJtIjogeyAic3RhdHVzIjogImFjdGl2ZSIgfQogICAgICB9CiAgICB9CiAgfSwKICAicmVxdWVzdF9jYWNoZSI6IHRydWUKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;filter&quot;: {
        &quot;term&quot;: { &quot;status&quot;: &quot;active&quot; }
      }
    }
  },
  &quot;request_cache&quot;: true
}</pre></div><div class='content'></div><h2>Optimitzar els Mapatges d'Índex</h2>
<div class='content'><p>Definiu tipus de dades adequats i utilitzeu camps <code>keyword</code> per a coincidències exactes per millorar el rendiment de les consultes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJtYXBwaW5ncyI6IHsKICAgICJwcm9wZXJ0aWVzIjogewogICAgICAic3RhdHVzIjogewogICAgICAgICJ0eXBlIjogImtleXdvcmQiCiAgICAgIH0sCiAgICAgICJjb250ZW50IjogewogICAgICAgICJ0eXBlIjogInRleHQiCiAgICAgIH0KICAgIH0KICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;status&quot;: {
        &quot;type&quot;: &quot;keyword&quot;
      },
      &quot;content&quot;: {
        &quot;type&quot;: &quot;text&quot;
      }
    }
  }
}</pre></div><div class='content'></div><h2>Utilitzar Àlies</h2>
<div class='content'><p>Utilitzeu àlies d'índex per simplificar consultes complexes i millorar el rendiment dirigint-vos a índexs específics.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVUIC9fYWxpYXNlcwp7CiAgImFjdGlvbnMiOiBbCiAgICB7CiAgICAgICJhZGQiOiB7CiAgICAgICAgImluZGV4IjogImxvZ3MtMjAyMyIsCiAgICAgICAgImFsaWFzIjogImN1cnJlbnQtbG9ncyIKICAgICAgfQogICAgfQogIF0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUT /_aliases
{
  &quot;actions&quot;: [
    {
      &quot;add&quot;: {
        &quot;index&quot;: &quot;logs-2023&quot;,
        &quot;alias&quot;: &quot;current-logs&quot;
      }
    }
  ]
}</pre></div><div class='content'></div><h1>Tècniques Avançades d'Optimització</h1>
<div class='content'></div><h2>Assignació de Fragments</h2>
<div class='content'><p>Optimitzeu l'assignació de fragments per equilibrar la càrrega entre els nodes. Utilitzeu l'API <code>_cat/shards</code> per monitoritzar la distribució de fragments.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0VUIC9fY2F0L3NoYXJkcz92"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GET /_cat/shards?v</pre></div><div class='content'></div><h2>Utilitzar l'API `profile`</h2>
<div class='content'><p>L'API <code>profile</code> us ajuda a entendre el temps d'execució de cada fase de la consulta, permetent-vos identificar colls d'ampolla.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJwcm9maWxlIjogdHJ1ZSwKICAicXVlcnkiOiB7CiAgICAibWF0Y2giOiB7CiAgICAgICJjb250ZW50IjogIkVsYXN0aWNzZWFyY2giCiAgICB9CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;profile&quot;: true,
  &quot;query&quot;: {
    &quot;match&quot;: {
      &quot;content&quot;: &quot;Elasticsearch&quot;
    }
  }
}</pre></div><div class='content'></div><h2>Utilitzar Agregacions amb Cura</h2>
<div class='content'><p>Les agregacions poden ser intensives en recursos. Utilitzeu agregacions <code>composite</code> per a una paginació eficient i reduïu el nombre de cubs.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJhZ2dzIjogewogICAgIm15X2J1Y2tldHMiOiB7CiAgICAgICJjb21wb3NpdGUiOiB7CiAgICAgICAgInNvdXJjZXMiOiBbCiAgICAgICAgICB7ICJzdGF0dXMiOiB7ICJ0ZXJtcyI6IHsgImZpZWxkIjogInN0YXR1cyIgfSB9IH0KICAgICAgICBdCiAgICAgIH0KICAgIH0KICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;aggs&quot;: {
    &quot;my_buckets&quot;: {
      &quot;composite&quot;: {
        &quot;sources&quot;: [
          { &quot;status&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;status&quot; } } }
        ]
      }
    }
  }
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Optimitzar el rendiment de les consultes a Elasticsearch implica una combinació de tècniques bàsiques, intermèdies i avançades. Entenent i aplicant aquestes estratègies, podeu millorar significativament l'eficiència i la capacitat de resposta de les vostres consultes d'Elasticsearch. Sempre monitoritzeu el rendiment del vostre clúster i ajusteu el vostre enfocament segons sigui necessari per gestionar la vostra càrrega de treball específica i les característiques de les dades.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='best-practices-index-design'>&#x25C4;Millors Pràctiques per al Disseny d'Índexs</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Optimització del Rendiment de les Consultes</a>
	</div>
	<div class='col-4 text-end'>
					<a href='managing-large-clusters'>Gestionant Grans Clústers &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
