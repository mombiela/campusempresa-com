<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache Flume</title>

    <link rel="alternate" href="https://campusempresa.com/es/hadoop/apache-flume" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/hadoop/apache-flume" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/hadoop/apache-flume" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/hadoop/apache-flume" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Apache Flume és un servei distribuït, fiable i disponible per a la recollida, agregació i moviment eficient de grans quantitats de dades de registre. És un sistema robust, tolerant a fallades i altament disponible que pot gestionar grans volums de dades amb facilitat, convertint-lo en una eina essencial per a la ingesta de dades basada en Hadoop.</p>
</div><h1>Introducció a Apache Flume</h1>
<div class='content'><ul>
<li>
<p><strong>Què és Apache Flume?</strong></p>
<ul>
<li>Un servei distribuït per a la recollida, agregació i moviment de grans quantitats de dades de registre.</li>
<li>Dissenyat per a l'escalabilitat i la fiabilitat.</li>
<li>Sovint utilitzat per ingerir dades a l'HDFS de Hadoop.</li>
</ul>
</li>
<li>
<p><strong>Característiques clau d'Apache Flume:</strong></p>
<ul>
<li><strong>Fiabilitat:</strong> Assegura que les dades no es perdin durant el trànsit.</li>
<li><strong>Escalabilitat:</strong> Pot gestionar grans volums de dades.</li>
<li><strong>Flexibilitat:</strong> Suporta diverses fonts de dades i destinacions.</li>
<li><strong>Extensibilitat:</strong> Permet implementacions personalitzades per a fonts, destinacions i canals.</li>
</ul>
</li>
</ul>
</div><h1>Arquitectura d'Apache Flume</h1>
<div class='content'><ul>
<li>
<p><strong>Components principals:</strong></p>
<ul>
<li><strong>Font:</strong> El component que rep dades de fonts externes.</li>
<li><strong>Canal:</strong> El conducte entre la font i la destinació, actuant com a memòria intermèdia.</li>
<li><strong>Destinació:</strong> El component que lliura les dades a la destinació final.</li>
</ul>
</li>
<li>
<p><strong>Flux de dades:</strong></p>
<ol>
<li><strong>Creació d'esdeveniments:</strong> Les dades són generades per una font externa.</li>
<li><strong>Recollida d'esdeveniments:</strong> La font recull les dades i les emmagatzema al canal.</li>
<li><strong>Lliurament d'esdeveniments:</strong> La destinació recupera les dades del canal i les lliura a la destinació final.</li>
</ol>
</li>
<li>
<p><strong>Exemple de diagrama d'arquitectura:</strong></p>
<pre><code>[Font Externa] --&gt; [Font Flume] --&gt; [Canal Flume] --&gt; [Destinació Flume] --&gt; [HDFS]
</code></pre>
</li>
</ul>
</div><h1>Configuració d'Apache Flume</h1>
<div class='content'><ul>
<li>
<p><strong>Instal·lació:</strong></p>
<ul>
<li>Descarrega l'última versió des del lloc web d'Apache Flume.</li>
<li>Extreu el tarball i configura les variables d'entorn.</li>
</ul>
<pre><code class="language-bash">tar -xzf apache-flume-&lt;version&gt;-bin.tar.gz
export FLUME_HOME=/path/to/apache-flume-&lt;version&gt;
export PATH=$PATH:$FLUME_HOME/bin
</code></pre>
</li>
<li>
<p><strong>Configuració:</strong></p>
<ul>
<li>
<p>Flume utilitza fitxers de configuració per definir fonts, canals i destinacions.</p>
</li>
<li>
<p>Exemple de fitxer de configuració (<code>flume.conf</code>):</p>
<pre><code class="language-properties"># Defineix l'agent
agent1.sources = source1
agent1.channels = channel1
agent1.sinks = sink1

# Defineix la font
agent1.sources.source1.type = netcat
agent1.sources.source1.bind = localhost
agent1.sources.source1.port = 44444

# Defineix el canal
agent1.channels.channel1.type = memory
agent1.channels.channel1.capacity = 1000
agent1.channels.channel1.transactionCapacity = 100

# Defineix la destinació
agent1.sinks.sink1.type = hdfs
agent1.sinks.sink1.hdfs.path = hdfs://localhost:9000/flume/events
agent1.sinks.sink1.hdfs.fileType = DataStream
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Execució de Flume:</strong></p>
<ul>
<li>
<p>Inicia l'agent Flume utilitzant el fitxer de configuració.</p>
<pre><code class="language-bash">flume-ng agent --conf ./conf --conf-file flume.conf --name agent1 -Dflume.root.logger=INFO,console
</code></pre>
</li>
</ul>
</li>
</ul>
</div><h1>Conceptes avançats</h1>
<div class='content'><ul>
<li>
<p><strong>Fonts, canals i destinacions personalitzades:</strong></p>
<ul>
<li>
<p>Implementa components personalitzats per estendre la funcionalitat de Flume.</p>
</li>
<li>
<p>Exemple d'implementació d'una font personalitzada:</p>
<pre><code class="language-java">public class CustomSource extends AbstractSource implements Configurable, PollableSource {
    @Override
    public void configure(Context context) {
        // Lògica de configuració
    }

    @Override
    public Status process() throws EventDeliveryException {
        // Lògica de processament
        return Status.READY;
    }
}
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Interceptors:</strong></p>
<ul>
<li>
<p>Utilitzats per modificar o inspeccionar esdeveniments mentre passen per la font.</p>
</li>
<li>
<p>Exemple de configuració per a un interceptor:</p>
<pre><code class="language-properties">agent1.sources.source1.interceptors = i1
agent1.sources.source1.interceptors.i1.type = timestamp
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Configuració multi-agent de Flume:</strong></p>
<ul>
<li>
<p>Utilitza múltiples agents per escalar i distribuir la ingesta de dades.</p>
</li>
<li>
<p>Exemple de configuració per encadenar agents:</p>
<pre><code class="language-properties"># Agent 1
agent1.sources = source1
agent1.channels = channel1
agent1.sinks = sink1

agent1.sources.source1.type = netcat
agent1.sources.source1.bind = localhost
agent1.sources.source1.port = 44444

agent1.channels.channel1.type = memory
agent1.channels.channel1.capacity = 1000
agent1.channels.channel1.transactionCapacity = 100

agent1.sinks.sink1.type = avro
agent1.sinks.sink1.hostname = localhost
agent1.sinks.sink1.port = 55555

# Agent 2
agent2.sources = source2
agent2.channels = channel2
agent2.sinks = sink2

agent2.sources.source2.type = avro
agent2.sources.source2.bind = localhost
agent2.sources.source2.port = 55555

agent2.channels.channel2.type = memory
agent2.channels.channel2.capacity = 1000
agent2.channels.channel2.transactionCapacity = 100

agent2.sinks.sink2.type = hdfs
agent2.sinks.sink2.hdfs.path = hdfs://localhost:9000/flume/events
agent2.sinks.sink2.hdfs.fileType = DataStream
</code></pre>
</li>
</ul>
</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Apache Flume és una eina poderosa per a la ingesta de dades en ecosistemes Hadoop. La seva arquitectura, que consisteix en fonts, canals i destinacions, permet un flux de dades flexible i fiable. Entenent els conceptes bàsics i avançats de Flume, pots recollir i transportar grans volums de dades de manera eficient al teu clúster Hadoop. Tant si estàs configurant una configuració simple d'un sol agent com un sistema complex de múltiples agents, Flume proporciona l'escalabilitat i la fiabilitat necessàries per a una ingesta de dades robusta.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
