<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operacions Avançades amb Fitxers en CL (Control Language)</title>

    <link rel="alternate" href="https://campusempresa.com/es/cl/advanced-file-operations" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/cl/advanced-file-operations" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/cl/advanced-file-operations" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/cl/advanced-file-operations" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En aquesta secció, aprofundirem en les operacions avançades amb fitxers utilitzant Control Language (CL) a IBM i (anteriorment AS/400). Aquest tema assumeix que tens una comprensió bàsica de CL i estàs familiaritzat amb les operacions fonamentals amb fitxers. Cobrirem tècniques avançades com les sobreescriptures de fitxers, operacions amb àrees de dades i l'ús d'APIs per a la manipulació de fitxers.</p>
</div><h1>Sobreescriptures de Fitxers</h1>
<div class='content'><p>Les sobreescriptures de fitxers permeten canviar els atributs d'un fitxer en temps d'execució sense modificar el programa que utilitza el fitxer.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>OVRDBF (Override with Database File)</strong>: Redirigeix les operacions de fitxer a un fitxer o membre diferent.</li>
<li><strong>OVRPRTF (Override with Printer File)</strong>: Canvia els atributs d'un fitxer d'impressora.</li>
<li><strong>DLTOVR (Delete Override)</strong>: Elimina la sobreescriptura.</li>
</ul>
</div><h2>Exemple: OVRDBF</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogU29icmVlc2NyaXUgZWwgZml0eGVyIE1ZRklMRSBwZXIgdXRpbGl0emFyIGVsIG1lbWJyZSBNWU1FTUJFUiAqLwpPVlJEQkYgRklMRShNWUZJTEUpIFRPRklMRShNWUxJQi9NWUZJTEUpIE1CUihNWU1FTUJFUikKCi8qIENyaWRhIGVsIHByb2dyYW1hIHF1ZSB1dGlsaXR6YSBNWUZJTEUgKi8KQ0FMTCBQR00oTVlQR00pCgovKiBFbGltaW5hIGxhIHNvYnJlZXNjcmlwdHVyYSBkZXNwcsOpcyBkZSBsYSBjcmlkYSBhbCBwcm9ncmFtYSAqLwpETFRPVlIgRklMRShNWUZJTEUp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Sobreescriu el fitxer MYFILE per utilitzar el membre MYMEMBER */
OVRDBF FILE(MYFILE) TOFILE(MYLIB/MYFILE) MBR(MYMEMBER)

/* Crida el programa que utilitza MYFILE */
CALL PGM(MYPGM)

/* Elimina la sobreescriptura despr&eacute;s de la crida al programa */
DLTOVR FILE(MYFILE)</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li>La comanda <code>OVRDBF</code> sobreescriu el fitxer <code>MYFILE</code> per utilitzar el membre <code>MYMEMBER</code> a la biblioteca <code>MYLIB</code>.</li>
<li>La comanda <code>CALL</code> executa el programa <code>MYPGM</code> que ara utilitzarà el fitxer sobreescrit.</li>
<li><code>DLTOVR</code> elimina la sobreescriptura, restaurant els atributs originals del fitxer.</li>
</ul>
</div><h1>Operacions amb Àrees de Dades</h1>
<div class='content'><p>Les àrees de dades s'utilitzen per emmagatzemar petites quantitats de dades que poden ser accedides per múltiples programes.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>CRTDTAARA (Create Data Area)</strong>: Crea una àrea de dades.</li>
<li><strong>RTVDTAARA (Retrieve Data Area)</strong>: Recupera el valor d'una àrea de dades.</li>
<li><strong>CHGDTAARA (Change Data Area)</strong>: Canvia el valor d'una àrea de dades.</li>
<li><strong>DLTDTAARA (Delete Data Area)</strong>: Elimina una àrea de dades.</li>
</ul>
</div><h2>Exemple: Operacions amb Àrees de Dades</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogQ3JlYSB1bmEgw6ByZWEgZGUgZGFkZXMgYW5vbWVuYWRhIE1ZRFRBQVJBICovCkNSVERUQUFSQSBEVEFBUkEoTVlMSUIvTVlEVEFBUkEpIFRZUEUoKkNIQVIpIExFTigxMCkgVkFMVUUoJ0lOSVRJQUwnKQoKLyogUmVjdXBlcmEgZWwgdmFsb3IgZGUgbCfDoHJlYSBkZSBkYWRlcyAqLwpSVFZEVEFBUkEgRFRBQVJBKE1ZTElCL01ZRFRBQVJBKSBSVE5WQVIoJk1ZVkFSKQoKLyogQ2FudmlhIGVsIHZhbG9yIGRlIGwnw6ByZWEgZGUgZGFkZXMgKi8KQ0hHRFRBQVJBIERUQUFSQShNWUxJQi9NWURUQUFSQSkgVkFMVUUoJ05FV1ZBTFVFJykKCi8qIEVsaW1pbmEgbCfDoHJlYSBkZSBkYWRlcyAqLwpETFREVEFBUkEgRFRBQVJBKE1ZTElCL01ZRFRBQVJBKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Crea una &agrave;rea de dades anomenada MYDTAARA */
CRTDTAARA DTAARA(MYLIB/MYDTAARA) TYPE(*CHAR) LEN(10) VALUE('INITIAL')

/* Recupera el valor de l'&agrave;rea de dades */
RTVDTAARA DTAARA(MYLIB/MYDTAARA) RTNVAR(&amp;MYVAR)

/* Canvia el valor de l'&agrave;rea de dades */
CHGDTAARA DTAARA(MYLIB/MYDTAARA) VALUE('NEWVALUE')

/* Elimina l'&agrave;rea de dades */
DLTDTAARA DTAARA(MYLIB/MYDTAARA)</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li><code>CRTDTAARA</code> crea una àrea de dades <code>MYDTAARA</code> a la biblioteca <code>MYLIB</code> amb un valor inicial de 'INITIAL'.</li>
<li><code>RTVDTAARA</code> recupera el valor de <code>MYDTAARA</code> a la variable <code>&amp;MYVAR</code>.</li>
<li><code>CHGDTAARA</code> canvia el valor de <code>MYDTAARA</code> a 'NEWVALUE'.</li>
<li><code>DLTDTAARA</code> elimina l'àrea de dades <code>MYDTAARA</code>.</li>
</ul>
</div><h1>Ús d'APIs per a la Manipulació de Fitxers</h1>
<div class='content'><p>IBM i proporciona diverses APIs per a la manipulació avançada de fitxers, com ara llegir i escriure registres programàticament.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>QDBRTVFD (Retrieve File Description)</strong>: Recupera informació de la descripció del fitxer.</li>
<li><strong>QDBGETM (Get Member Information)</strong>: Recupera informació sobre un membre del fitxer.</li>
</ul>
</div><h2>Exemple: Ús de l'API QDBRTVFD</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LyogRGVjbGFyYSB2YXJpYWJsZXMgKi8KRENMICZGSUxFRFNDICpDSEFSIDUwMDAKRENMICZFUlJDT0RFICpDSEFSIDgKCi8qIENyaWRhIGwnQVBJIFFEQlJUVkZEIHBlciByZWN1cGVyYXIgbGEgZGVzY3JpcGNpw7MgZGVsIGZpdHhlciAqLwpDQUxMIFBHTShRREJSVFZGRCkgUEFSTSgnTVlMSUInICdNWUZJTEUnICZGSUxFRFNDICZFUlJDT0RFKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>/* Declara variables */
DCL &amp;FILEDSC *CHAR 5000
DCL &amp;ERRCODE *CHAR 8

/* Crida l'API QDBRTVFD per recuperar la descripci&oacute; del fitxer */
CALL PGM(QDBRTVFD) PARM('MYLIB' 'MYFILE' &amp;FILEDSC &amp;ERRCODE)</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li>Les comandes <code>DCL</code> declaren variables per emmagatzemar la descripció del fitxer i el codi d'error.</li>
<li>La comanda <code>CALL</code> invoca l'API <code>QDBRTVFD</code> per recuperar la descripció del fitxer <code>MYFILE</code> a la biblioteca <code>MYLIB</code>.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquesta secció, hem explorat operacions avançades amb fitxers en CL, incloent sobreescriptures de fitxers, operacions amb àrees de dades i l'ús d'APIs per a la manipulació de fitxers. Dominar aquestes tècniques millorarà la teva capacitat per gestionar i manipular fitxers de manera efectiva en un entorn IBM i. Practica aquestes comandes i exemples per consolidar la teva comprensió i aplicar-los a escenaris del món real.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
