<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrons de Disseny Comuns en Scala</title>

    <link rel="alternate" href="https://campusempresa.com/es/scala/common-design-patterns" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/scala/common-design-patterns" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/scala/common-design-patterns" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/scala/common-design-patterns" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Els patrons de disseny són solucions típiques a problemes comuns en el disseny de programari. Són com plànols predefinits que pots personalitzar per resoldre un problema de disseny recurrent en el teu codi. En aquesta secció, explorarem alguns dels patrons de disseny més comuns i com implementar-los en Scala.</p>
</div><h1>Patrons Creacionals</h1>
<div class='content'></div><h2>Patró Singleton</h2>
<div class='content'><p>El Patró Singleton assegura que una classe tingui només una instància i proporciona un punt d'accés global a aquesta.</p>
<h4>Exemple:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b2JqZWN0IFNpbmdsZXRvbiB7CiAgZGVmIHNob3coKTogVW5pdCA9IHsKICAgIHByaW50bG4oIlNpbmdsZXRvbiBpbnN0YW5jZSIpCiAgfQp9CgovLyDDmnMKU2luZ2xldG9uLnNob3coKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>object Singleton {
  def show(): Unit = {
    println(&quot;Singleton instance&quot;)
  }
}

// &Uacute;s
Singleton.show()</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>: En Scala, la paraula clau <code>object</code> s'utilitza per crear un objecte singleton. El mètode <code>show</code> es pot accedir globalment sense crear una instància de <code>Singleton</code>.</li>
</ul>
</div><h2>Patró Factory</h2>
<div class='content'><p>El Patró Factory defineix una interfície per crear un objecte però permet que les subclasses alterin el tipus d'objectes que es crearan.</p>
<h4>Exemple:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHJhaXQgQW5pbWFsIHsKICBkZWYgc3BlYWsoKTogVW5pdAp9CgpjbGFzcyBEb2cgZXh0ZW5kcyBBbmltYWwgewogIGRlZiBzcGVhaygpOiBVbml0ID0gcHJpbnRsbigiV29vZiIpCn0KCmNsYXNzIENhdCBleHRlbmRzIEFuaW1hbCB7CiAgZGVmIHNwZWFrKCk6IFVuaXQgPSBwcmludGxuKCJNZW93IikKfQoKb2JqZWN0IEFuaW1hbEZhY3RvcnkgewogIGRlZiBjcmVhdGVBbmltYWwoYW5pbWFsVHlwZTogU3RyaW5nKTogQW5pbWFsID0gYW5pbWFsVHlwZSBtYXRjaCB7CiAgICBjYXNlICJEb2ciID0+IG5ldyBEb2coKQogICAgY2FzZSAiQ2F0IiA9PiBuZXcgQ2F0KCkKICAgIGNhc2UgXyA9PiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJVbmtub3duIGFuaW1hbCB0eXBlIikKICB9Cn0KCi8vIMOacwp2YWwgZG9nID0gQW5pbWFsRmFjdG9yeS5jcmVhdGVBbmltYWwoIkRvZyIpCmRvZy5zcGVhaygpIC8vIE91dHB1dHM6IFdvb2Y="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>trait Animal {
  def speak(): Unit
}

class Dog extends Animal {
  def speak(): Unit = println(&quot;Woof&quot;)
}

class Cat extends Animal {
  def speak(): Unit = println(&quot;Meow&quot;)
}

object AnimalFactory {
  def createAnimal(animalType: String): Animal = animalType match {
    case &quot;Dog&quot; =&gt; new Dog()
    case &quot;Cat&quot; =&gt; new Cat()
    case _ =&gt; throw new IllegalArgumentException(&quot;Unknown animal type&quot;)
  }
}

// &Uacute;s
val dog = AnimalFactory.createAnimal(&quot;Dog&quot;)
dog.speak() // Outputs: Woof</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>: L'objecte <code>AnimalFactory</code> conté un mètode <code>createAnimal</code> que retorna una instància de <code>Animal</code> basada en la cadena d'entrada. Això permet la creació de diferents tipus d'animals sense especificar la classe exacta.</li>
</ul>
</div><h1>Patrons Estructurals</h1>
<div class='content'></div><h2>Patró Adapter</h2>
<div class='content'><p>El Patró Adapter permet que interfícies incompatibles treballin juntes. Actua com un pont entre dues interfícies incompatibles.</p>
<h4>Exemple:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHJhaXQgTWVkaWFQbGF5ZXIgewogIGRlZiBwbGF5KGF1ZGlvVHlwZTogU3RyaW5nLCBmaWxlTmFtZTogU3RyaW5nKTogVW5pdAp9CgpjbGFzcyBBdWRpb1BsYXllciBleHRlbmRzIE1lZGlhUGxheWVyIHsKICBkZWYgcGxheShhdWRpb1R5cGU6IFN0cmluZywgZmlsZU5hbWU6IFN0cmluZyk6IFVuaXQgPSB7CiAgICBpZiAoYXVkaW9UeXBlLmVxdWFsc0lnbm9yZUNhc2UoIm1wMyIpKSB7CiAgICAgIHByaW50bG4ocyJQbGF5aW5nIG1wMyBmaWxlLiBOYW1lOiAkZmlsZU5hbWUiKQogICAgfSBlbHNlIHsKICAgICAgcHJpbnRsbihzIkludmFsaWQgbWVkaWEuICRhdWRpb1R5cGUgZm9ybWF0IG5vdCBzdXBwb3J0ZWQiKQogICAgfQogIH0KfQoKdHJhaXQgQWR2YW5jZWRNZWRpYVBsYXllciB7CiAgZGVmIHBsYXlWbGMoZmlsZU5hbWU6IFN0cmluZyk6IFVuaXQKICBkZWYgcGxheU1wNChmaWxlTmFtZTogU3RyaW5nKTogVW5pdAp9CgpjbGFzcyBWbGNQbGF5ZXIgZXh0ZW5kcyBBZHZhbmNlZE1lZGlhUGxheWVyIHsKICBkZWYgcGxheVZsYyhmaWxlTmFtZTogU3RyaW5nKTogVW5pdCA9IHByaW50bG4ocyJQbGF5aW5nIHZsYyBmaWxlLiBOYW1lOiAkZmlsZU5hbWUiKQogIGRlZiBwbGF5TXA0KGZpbGVOYW1lOiBTdHJpbmcpOiBVbml0ID0ge30KfQoKY2xhc3MgTXA0UGxheWVyIGV4dGVuZHMgQWR2YW5jZWRNZWRpYVBsYXllciB7CiAgZGVmIHBsYXlWbGMoZmlsZU5hbWU6IFN0cmluZyk6IFVuaXQgPSB7fQogIGRlZiBwbGF5TXA0KGZpbGVOYW1lOiBTdHJpbmcpOiBVbml0ID0gcHJpbnRsbihzIlBsYXlpbmcgbXA0IGZpbGUuIE5hbWU6ICRmaWxlTmFtZSIpCn0KCmNsYXNzIE1lZGlhQWRhcHRlcihhdWRpb1R5cGU6IFN0cmluZykgZXh0ZW5kcyBNZWRpYVBsYXllciB7CiAgdmFsIGFkdmFuY2VkTXVzaWNQbGF5ZXI6IEFkdmFuY2VkTWVkaWFQbGF5ZXIgPSBhdWRpb1R5cGUgbWF0Y2ggewogICAgY2FzZSAidmxjIiA9PiBuZXcgVmxjUGxheWVyKCkKICAgIGNhc2UgIm1wNCIgPT4gbmV3IE1wNFBsYXllcigpCiAgfQoKICBkZWYgcGxheShhdWRpb1R5cGU6IFN0cmluZywgZmlsZU5hbWU6IFN0cmluZyk6IFVuaXQgPSBhdWRpb1R5cGUgbWF0Y2ggewogICAgY2FzZSAidmxjIiA9PiBhZHZhbmNlZE11c2ljUGxheWVyLnBsYXlWbGMoZmlsZU5hbWUpCiAgICBjYXNlICJtcDQiID0+IGFkdmFuY2VkTXVzaWNQbGF5ZXIucGxheU1wNChmaWxlTmFtZSkKICB9Cn0KCi8vIMOacwp2YWwgYXVkaW9QbGF5ZXIgPSBuZXcgQXVkaW9QbGF5ZXIoKQphdWRpb1BsYXllci5wbGF5KCJtcDMiLCAic29uZy5tcDMiKQp2YWwgbWVkaWFBZGFwdGVyID0gbmV3IE1lZGlhQWRhcHRlcigibXA0IikKbWVkaWFBZGFwdGVyLnBsYXkoIm1wNCIsICJtb3ZpZS5tcDQiKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>trait MediaPlayer {
  def play(audioType: String, fileName: String): Unit
}

class AudioPlayer extends MediaPlayer {
  def play(audioType: String, fileName: String): Unit = {
    if (audioType.equalsIgnoreCase(&quot;mp3&quot;)) {
      println(s&quot;Playing mp3 file. Name: $fileName&quot;)
    } else {
      println(s&quot;Invalid media. $audioType format not supported&quot;)
    }
  }
}

trait AdvancedMediaPlayer {
  def playVlc(fileName: String): Unit
  def playMp4(fileName: String): Unit
}

class VlcPlayer extends AdvancedMediaPlayer {
  def playVlc(fileName: String): Unit = println(s&quot;Playing vlc file. Name: $fileName&quot;)
  def playMp4(fileName: String): Unit = {}
}

class Mp4Player extends AdvancedMediaPlayer {
  def playVlc(fileName: String): Unit = {}
  def playMp4(fileName: String): Unit = println(s&quot;Playing mp4 file. Name: $fileName&quot;)
}

class MediaAdapter(audioType: String) extends MediaPlayer {
  val advancedMusicPlayer: AdvancedMediaPlayer = audioType match {
    case &quot;vlc&quot; =&gt; new VlcPlayer()
    case &quot;mp4&quot; =&gt; new Mp4Player()
  }

  def play(audioType: String, fileName: String): Unit = audioType match {
    case &quot;vlc&quot; =&gt; advancedMusicPlayer.playVlc(fileName)
    case &quot;mp4&quot; =&gt; advancedMusicPlayer.playMp4(fileName)
  }
}

// &Uacute;s
val audioPlayer = new AudioPlayer()
audioPlayer.play(&quot;mp3&quot;, &quot;song.mp3&quot;)
val mediaAdapter = new MediaAdapter(&quot;mp4&quot;)
mediaAdapter.play(&quot;mp4&quot;, &quot;movie.mp4&quot;)</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>: La classe <code>MediaAdapter</code> implementa la interfície <code>MediaPlayer</code> i utilitza una instància de <code>AdvancedMediaPlayer</code> per reproduir diferents formats. Això permet que <code>AudioPlayer</code> suporti formats addicionals sense canviar el seu codi.</li>
</ul>
</div><h1>Patrons de Comportament</h1>
<div class='content'></div><h2>Patró Observer</h2>
<div class='content'><p>El Patró Observer defineix una dependència de un-a-molts entre objectes de manera que quan un objecte canvia d'estat, tots els seus dependents són notificats i actualitzats automàticament.</p>
<h4>Exemple:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHJhaXQgT2JzZXJ2ZXIgewogIGRlZiB1cGRhdGUoc3RhdGU6IFN0cmluZyk6IFVuaXQKfQoKdHJhaXQgU3ViamVjdCB7CiAgcHJpdmF0ZSB2YXIgb2JzZXJ2ZXJzOiBMaXN0W09ic2VydmVyXSA9IExpc3QoKQoKICBkZWYgYWRkT2JzZXJ2ZXIob2JzZXJ2ZXI6IE9ic2VydmVyKTogVW5pdCA9IHsKICAgIG9ic2VydmVycyA9IG9ic2VydmVyIDo6IG9ic2VydmVycwogIH0KCiAgZGVmIHJlbW92ZU9ic2VydmVyKG9ic2VydmVyOiBPYnNlcnZlcik6IFVuaXQgPSB7CiAgICBvYnNlcnZlcnMgPSBvYnNlcnZlcnMuZmlsdGVyTm90KF8gPT0gb2JzZXJ2ZXIpCiAgfQoKICBkZWYgbm90aWZ5T2JzZXJ2ZXJzKHN0YXRlOiBTdHJpbmcpOiBVbml0ID0gewogICAgb2JzZXJ2ZXJzLmZvcmVhY2goXy51cGRhdGUoc3RhdGUpKQogIH0KfQoKY2xhc3MgQ29uY3JldGVTdWJqZWN0IGV4dGVuZHMgU3ViamVjdCB7CiAgcHJpdmF0ZSB2YXIgc3RhdGU6IFN0cmluZyA9IF8KCiAgZGVmIHNldFN0YXRlKHN0YXRlOiBTdHJpbmcpOiBVbml0ID0gewogICAgdGhpcy5zdGF0ZSA9IHN0YXRlCiAgICBub3RpZnlPYnNlcnZlcnMoc3RhdGUpCiAgfQp9CgpjbGFzcyBDb25jcmV0ZU9ic2VydmVyKG5hbWU6IFN0cmluZykgZXh0ZW5kcyBPYnNlcnZlciB7CiAgZGVmIHVwZGF0ZShzdGF0ZTogU3RyaW5nKTogVW5pdCA9IHsKICAgIHByaW50bG4ocyJPYnNlcnZlciAkbmFtZSByZWNlaXZlZCBzdGF0ZSB1cGRhdGU6ICRzdGF0ZSIpCiAgfQp9CgovLyDDmnMKdmFsIHN1YmplY3QgPSBuZXcgQ29uY3JldGVTdWJqZWN0KCkKdmFsIG9ic2VydmVyMSA9IG5ldyBDb25jcmV0ZU9ic2VydmVyKCJPYnNlcnZlcjEiKQp2YWwgb2JzZXJ2ZXIyID0gbmV3IENvbmNyZXRlT2JzZXJ2ZXIoIk9ic2VydmVyMiIpCgpzdWJqZWN0LmFkZE9ic2VydmVyKG9ic2VydmVyMSkKc3ViamVjdC5hZGRPYnNlcnZlcihvYnNlcnZlcjIpCgpzdWJqZWN0LnNldFN0YXRlKCJOZXcgU3RhdGUiKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>trait Observer {
  def update(state: String): Unit
}

trait Subject {
  private var observers: List[Observer] = List()

  def addObserver(observer: Observer): Unit = {
    observers = observer :: observers
  }

  def removeObserver(observer: Observer): Unit = {
    observers = observers.filterNot(_ == observer)
  }

  def notifyObservers(state: String): Unit = {
    observers.foreach(_.update(state))
  }
}

class ConcreteSubject extends Subject {
  private var state: String = _

  def setState(state: String): Unit = {
    this.state = state
    notifyObservers(state)
  }
}

class ConcreteObserver(name: String) extends Observer {
  def update(state: String): Unit = {
    println(s&quot;Observer $name received state update: $state&quot;)
  }
}

// &Uacute;s
val subject = new ConcreteSubject()
val observer1 = new ConcreteObserver(&quot;Observer1&quot;)
val observer2 = new ConcreteObserver(&quot;Observer2&quot;)

subject.addObserver(observer1)
subject.addObserver(observer2)

subject.setState(&quot;New State&quot;)</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>: El tret <code>Subject</code> manté una llista d'observadors i els notifica de qualsevol canvi d'estat. La classe <code>ConcreteSubject</code> estèn <code>Subject</code> i actualitza el seu estat, desencadenant notificacions a tots els observadors.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Els patrons de disseny són eines essencials en la caixa d'eines d'un programador, proporcionant solucions reutilitzables a problemes comuns. En aquesta secció, hem cobert alguns dels patrons de disseny més comuns en Scala, incloent Singleton, Factory, Adapter i Observer. Entendre i aplicar aquests patrons pot millorar significativament el disseny i la mantenibilitat del teu codi.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
