<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves i Desplegament</title>

    <link rel="alternate" href="https://campusempresa.com/es/scala/testing-deployment" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/scala/testing-deployment" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/scala/testing-deployment" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/scala/testing-deployment" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Les proves i el desplegament són aspectes crítics del desenvolupament de programari que asseguren que les teves aplicacions Scala siguin fiables, mantenibles i estiguin llestes per a la producció. Aquesta secció cobrirà els conceptes bàsics de les proves en Scala, incloent-hi proves unitàries, proves d'integració i proves de punta a punta. També explorarem estratègies de desplegament i eines per desplegar eficientment aplicacions Scala.</p>
</div><h1>Proves Unitàries en Scala</h1>
<div class='content'><p>Les proves unitàries impliquen provar components o funcions individuals en aïllament per assegurar-se que funcionen com s'espera.</p>
<ul>
<li><strong>ScalaTest</strong>: Un marc de proves popular per a Scala.</li>
<li><strong>Afirmacions</strong>: Mètodes per comprovar si una condició és certa.</li>
<li><strong>Suites de Proves</strong>: Col·leccions de proves relacionades.</li>
</ul>
</div><h2>Exemple: Prova Unitària Bàsica amb ScalaTest</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zY2FsYXRlc3QuZmxhdHNwZWMuQW55RmxhdFNwZWMKCmNsYXNzIENhbGN1bGF0b3JTcGVjIGV4dGVuZHMgQW55RmxhdFNwZWMgewogICJBIENhbGN1bGF0b3IiIHNob3VsZCAiYWRkIHR3byBudW1iZXJzIGNvcnJlY3RseSIgaW4gewogICAgdmFsIGNhbGN1bGF0b3IgPSBuZXcgQ2FsY3VsYXRvcgogICAgYXNzZXJ0KGNhbGN1bGF0b3IuYWRkKDIsIDMpID09PSA1KQogIH0KfQoKY2xhc3MgQ2FsY3VsYXRvciB7CiAgZGVmIGFkZChhOiBJbnQsIGI6IEludCk6IEludCA9IGEgKyBiCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.scalatest.flatspec.AnyFlatSpec

class CalculatorSpec extends AnyFlatSpec {
  &quot;A Calculator&quot; should &quot;add two numbers correctly&quot; in {
    val calculator = new Calculator
    assert(calculator.add(2, 3) === 5)
  }
}

class Calculator {
  def add(a: Int, b: Int): Int = a + b
}</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li><code>AnyFlatSpec</code> és un estil d'escriure proves en ScalaTest.</li>
<li><code>assert</code> comprova si el resultat de <code>calculator.add(2, 3)</code> és igual a <code>5</code>.</li>
</ul>
</div><h1>Proves d'Integració</h1>
<div class='content'><p>Les proves d'integració impliquen provar múltiples components junts per assegurar-se que funcionen correctament com un sistema.</p>
<ul>
<li><strong>Proves de Base de Dades</strong>: Provar interaccions amb la base de dades.</li>
<li><strong>Proves de Serveis</strong>: Provar interaccions entre diferents serveis.</li>
</ul>
</div><h2>Exemple: Prova d'Integració amb una Base de Dades</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zY2FsYXRlc3QuZmxhdHNwZWMuQW55RmxhdFNwZWMKaW1wb3J0IG9yZy5zY2FsYXRlc3QuQmVmb3JlQW5kQWZ0ZXIKaW1wb3J0IHNsaWNrLmpkYmMuSDJQcm9maWxlLmFwaS5fCgpjbGFzcyBEYXRhYmFzZVNwZWMgZXh0ZW5kcyBBbnlGbGF0U3BlYyB3aXRoIEJlZm9yZUFuZEFmdGVyIHsKICB2YXIgZGI6IERhdGFiYXNlID0gXwoKICBiZWZvcmUgewogICAgZGIgPSBEYXRhYmFzZS5mb3JDb25maWcoImgybWVtMSIpCiAgICAvLyBDb25maWd1cmFyIGwnZXNxdWVtYSBpIGluc2VyaXIgZGFkZXMgZGUgcHJvdmEKICB9CgogIGFmdGVyIHsKICAgIGRiLmNsb3NlKCkKICB9CgogICJEYXRhYmFzZSIgc2hvdWxkICJyZXRyaWV2ZSBjb3JyZWN0IGRhdGEiIGluIHsKICAgIHZhbCByZXN1bHQgPSBkYi5ydW4oc3FsIlNFTEVDVCBuYW1lIEZST00gdXNlcnMgV0hFUkUgaWQgPSAxIi5hc1tTdHJpbmddKQogICAgYXNzZXJ0KHJlc3VsdC5oZWFkID09PSAiSm9obiBEb2UiKQogIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.scalatest.flatspec.AnyFlatSpec
import org.scalatest.BeforeAndAfter
import slick.jdbc.H2Profile.api._

class DatabaseSpec extends AnyFlatSpec with BeforeAndAfter {
  var db: Database = _

  before {
    db = Database.forConfig(&quot;h2mem1&quot;)
    // Configurar l'esquema i inserir dades de prova
  }

  after {
    db.close()
  }

  &quot;Database&quot; should &quot;retrieve correct data&quot; in {
    val result = db.run(sql&quot;SELECT name FROM users WHERE id = 1&quot;.as[String])
    assert(result.head === &quot;John Doe&quot;)
  }
}</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li>El tret <code>BeforeAndAfter</code> s'utilitza per configurar i desmuntar la base de dades abans i després de les proves.</li>
<li><code>db.run</code> executa una consulta SQL i recupera dades.</li>
</ul>
</div><h1>Proves de Punta a Punta</h1>
<div class='content'><p>Les proves de punta a punta impliquen provar tot el flux de l'aplicació, des de la interfície d'usuari fins als serveis de backend.</p>
<ul>
<li><strong>Selenium</strong>: Una eina per automatitzar navegadors web.</li>
<li><strong>Cucumber</strong>: Una eina per executar proves automatitzades escrites en llenguatge senzill.</li>
</ul>
</div><h2>Exemple: Prova de Punta a Punta amb Selenium</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5vcGVucWEuc2VsZW5pdW0uV2ViRHJpdmVyCmltcG9ydCBvcmcub3BlbnFhLnNlbGVuaXVtLmNocm9tZS5DaHJvbWVEcml2ZXIKaW1wb3J0IG9yZy5zY2FsYXRlc3QuZmxhdHNwZWMuQW55RmxhdFNwZWMKCmNsYXNzIFdlYkFwcFNwZWMgZXh0ZW5kcyBBbnlGbGF0U3BlYyB7CiAgIldlYiBBcHBsaWNhdGlvbiIgc2hvdWxkICJkaXNwbGF5IHRoZSBjb3JyZWN0IHRpdGxlIiBpbiB7CiAgICBTeXN0ZW0uc2V0UHJvcGVydHkoIndlYmRyaXZlci5jaHJvbWUuZHJpdmVyIiwgIi9wYXRoL3RvL2Nocm9tZWRyaXZlciIpCiAgICB2YWwgZHJpdmVyOiBXZWJEcml2ZXIgPSBuZXcgQ2hyb21lRHJpdmVyKCkKICAgIGRyaXZlci5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6OTAwMCIpCiAgICBhc3NlcnQoZHJpdmVyLmdldFRpdGxlID09PSAiTXkgU2NhbGEgV2ViIEFwcCIpCiAgICBkcml2ZXIucXVpdCgpCiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.openqa.selenium.WebDriver
import org.openqa.selenium.chrome.ChromeDriver
import org.scalatest.flatspec.AnyFlatSpec

class WebAppSpec extends AnyFlatSpec {
  &quot;Web Application&quot; should &quot;display the correct title&quot; in {
    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/path/to/chromedriver&quot;)
    val driver: WebDriver = new ChromeDriver()
    driver.get(&quot;http://localhost:9000&quot;)
    assert(driver.getTitle === &quot;My Scala Web App&quot;)
    driver.quit()
  }
}</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li><code>ChromeDriver</code> s'utilitza per controlar el navegador Chrome.</li>
<li><code>driver.get</code> navega a l'URL especificat.</li>
<li><code>driver.getTitle</code> recupera el títol de la pàgina web.</li>
</ul>
</div><h1>Estratègies de Desplegament</h1>
<div class='content'><p>Desplegar aplicacions Scala implica empaquetar l'aplicació i desplegar-la en un servidor o entorn de núvol.</p>
<ul>
<li><strong>SBT Assembly</strong>: Un complement per crear un fitxer JAR (Java ARchive) gros.</li>
<li><strong>Docker</strong>: Una plataforma per desenvolupar, enviar i executar aplicacions en contenidors.</li>
<li><strong>Kubernetes</strong>: Un sistema d'orquestració per automatitzar el desplegament, l'escalat i la gestió d'aplicacions contenidoritzades.</li>
</ul>
</div><h2>Exemple: Crear un JAR Gros amb SBT Assembly</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gYnVpbGQuc2J0CmxhenkgdmFsIHJvb3QgPSAocHJvamVjdCBpbiBmaWxlKCIuIikpCiAgLnNldHRpbmdzKAogICAgbmFtZSA6PSAiTXlTY2FsYUFwcCIsCiAgICB2ZXJzaW9uIDo9ICIwLjEiLAogICAgc2NhbGFWZXJzaW9uIDo9ICIyLjEzLjYiLAogICAgbGlicmFyeURlcGVuZGVuY2llcyArPSAib3JnLnNjYWxhdGVzdCIgJSUgInNjYWxhdGVzdCIgJSAiMy4yLjkiICUgVGVzdCwKICAgIGFzc2VtYmx5IC8gbWFpbkNsYXNzIDo9IFNvbWUoImNvbS5leGFtcGxlLk1haW4iKQogICkKCi8vIFBlciBjcmVhciBlbCBKQVIgZ3JvcywgZXhlY3V0YSBsYSBzZWfDvGVudCBjb21hbmRhIGFsIHRlcm1pbmFsOgpzYnQgYXNzZW1ibHk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// build.sbt
lazy val root = (project in file(&quot;.&quot;))
  .settings(
    name := &quot;MyScalaApp&quot;,
    version := &quot;0.1&quot;,
    scalaVersion := &quot;2.13.6&quot;,
    libraryDependencies += &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.2.9&quot; % Test,
    assembly / mainClass := Some(&quot;com.example.Main&quot;)
  )

// Per crear el JAR gros, executa la seg&uuml;ent comanda al terminal:
sbt assembly</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li><code>assembly / mainClass</code> especifica la classe principal per a l'aplicació.</li>
<li>Executar <code>sbt assembly</code> crea un fitxer JAR gros que inclou totes les dependències.</li>
</ul>
</div><h2>Exemple: Dockeritzar una Aplicació Scala</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEb2NrZXJmaWxlCkZST00gb3BlbmpkazoxMQpDT1BZIHRhcmdldC9zY2FsYS0yLjEzL215c2NhbGFhcHAtYXNzZW1ibHktMC4xLmphciAvYXBwL215c2NhbGFhcHAuamFyCkVOVFJZUE9JTlQgWyJqYXZhIiwgIi1qYXIiLCAiL2FwcC9teXNjYWxhYXBwLmphciJd"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Dockerfile
FROM openjdk:11
COPY target/scala-2.13/myscalaapp-assembly-0.1.jar /app/myscalaapp.jar
ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/myscalaapp.jar&quot;]</pre></div><div class='content'><p>Explicació:</p>
<ul>
<li><code>FROM openjdk:11</code> especifica la imatge base.</li>
<li><code>COPY</code> copia el JAR gros a la imatge Docker.</li>
<li><code>ENTRYPOINT</code> especifica la comanda per executar l'aplicació.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Les proves i el desplegament són pràctiques essencials per assegurar la qualitat i la fiabilitat de les aplicacions Scala. Dominar les proves unitàries, les proves d'integració i les proves de punta a punta et permetrà detectar errors aviat i assegurar-te que el teu codi funciona com s'espera. Entendre les estratègies de desplegament i les eines com SBT Assembly, Docker i Kubernetes t'ajudarà a desplegar eficientment les teves aplicacions Scala en entorns de producció.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
