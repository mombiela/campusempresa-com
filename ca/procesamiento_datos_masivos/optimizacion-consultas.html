<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/procesamiento_datos_masivos/optimizacion-consultas" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>L'optimització de consultes és un aspecte crucial en el processament de dades massives. Una consulta optimitzada pot reduir significativament el temps d'execució i l'ús de recursos, la qual cosa és essencial quan es manegen grans volums de dades. En aquesta secció, aprendràs tècniques i estratègies per optimitzar consultes en bases de dades massives.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Pla d'Execució</strong>: Esquema que mostra com una base de dades executarà una consulta. Analitzar el pla d'execució és fonamental per identificar colls d'ampolla.</li>
<li><strong>Índexs</strong>: Estructures que milloren la velocitat de recuperació de dades. Saber quan i com usar índexs és essencial per a l'optimització.</li>
<li><strong>Particionament</strong>: Tècnica de dividir una taula gran en parts més petites per millorar el rendiment.</li>
<li><strong>Caché de Consultes</strong>: Emmagatzema els resultats de consultes freqüents per reduir el temps de resposta.</li>
<li><strong>Subconsultes vs. Unions</strong>: Escollir entre subconsultes i unions pot afectar el rendiment d'una consulta.</li>
<li><strong>Limitació de Resultats</strong>: Reduir el nombre de files retornades per millorar el rendiment.</li>
</ul>
</div><h1>Pla d'Execució</h1>
<div class='content'><p>El pla d'execució és una eina vital per entendre com s'executa una consulta. Utilitza el comandament <code>EXPLAIN</code> en SQL per obtenir el pla d'execució.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RVhQTEFJTiBTRUxFQ1QgKiBGUk9NIG9yZGVycyBXSEVSRSBjdXN0b21lcl9pZCA9IDEyMzs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>EXPLAIN SELECT * FROM orders WHERE customer_id = 123;</pre></div><div class='content'></div><h2>Anàlisi del Pla d'Execució</h2>
<div class='content'><ul>
<li><strong>Seq Scan</strong>: Indica una cerca seqüencial. És menys eficient per a grans volums de dades.</li>
<li><strong>Index Scan</strong>: Utilitza un índex per cercar dades, la qual cosa és més ràpid.</li>
<li><strong>Join Methods</strong>: Mètodes com Nested Loop, Hash Join, i Merge Join tenen diferents eficiències depenent de la mida de les dades.</li>
</ul>
</div><h1>Índexs</h1>
<div class='content'><p>Els índexs són crucials per millorar el rendiment de les consultes. No obstant això, han de ser usats amb cura ja que també poden alentir les operacions d'escriptura.</p>
</div><h2>Creació d'Índexs</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIElOREVYIGlkeF9jdXN0b21lcl9pZCBPTiBvcmRlcnMoY3VzdG9tZXJfaWQpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE INDEX idx_customer_id ON orders(customer_id);</pre></div><div class='content'></div><h2>Tipus d'Índexs</h2>
<div class='content'><ul>
<li><strong>Índexs B-Tree</strong>: Útils per a consultes d'igualtat i rang.</li>
<li><strong>Índexs Hash</strong>: Eficients per a consultes d'igualtat.</li>
<li><strong>Índexs GiST i GIN</strong>: Utilitzats per a dades complexes com arrays i documents JSON.</li>
</ul>
</div><h1>Particionament</h1>
<div class='content'><p>El particionament divideix una taula gran en parts més petites, la qual cosa pot millorar el rendiment de les consultes.</p>
</div><h2>Exemple de Particionament</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIG9yZGVyc18yMDIzIFBBUlRJVElPTiBPRiBvcmRlcnMgRk9SIFZBTFVFUyBGUk9NICgnMjAyMy0wMS0wMScpIFRPICgnMjAyMy0xMi0zMScpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE orders_2023 PARTITION OF orders FOR VALUES FROM ('2023-01-01') TO ('2023-12-31');</pre></div><div class='content'></div><h1>Caché de Consultes</h1>
<div class='content'><p>El caché de consultes emmagatzema els resultats de consultes freqüents per reduir el temps de resposta.</p>
</div><h2>Configuració del Caché</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VUIHF1ZXJ5X2NhY2hlX3NpemUgPSAxMDAwMDAwOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SET query_cache_size = 1000000;</pre></div><div class='content'></div><h1>Subconsultes vs. Unions</h1>
<div class='content'><p>Escollir entre subconsultes i unions pot afectar el rendiment d'una consulta.</p>
</div><h2>Exemple de Subconsulta</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUICogRlJPTSBvcmRlcnMgV0hFUkUgY3VzdG9tZXJfaWQgSU4gKFNFTEVDVCBjdXN0b21lcl9pZCBGUk9NIGN1c3RvbWVycyBXSEVSRSBjb3VudHJ5ID0gJ1VTQScpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT * FROM orders WHERE customer_id IN (SELECT customer_id FROM customers WHERE country = 'USA');</pre></div><div class='content'></div><h2>Exemple d'Unió</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUIG9yZGVycy4qIEZST00gb3JkZXJzIEpPSU4gY3VzdG9tZXJzIE9OIG9yZGVycy5jdXN0b21lcl9pZCA9IGN1c3RvbWVycy5jdXN0b21lcl9pZCBXSEVSRSBjdXN0b21lcnMuY291bnRyeSA9ICdVU0EnOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT orders.* FROM orders JOIN customers ON orders.customer_id = customers.customer_id WHERE customers.country = 'USA';</pre></div><div class='content'></div><h1>Limitació de Resultats</h1>
<div class='content'><p>Limitar el nombre de files retornades pot millorar el rendiment.</p>
</div><h2>Exemple de Limitació</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUICogRlJPTSBvcmRlcnMgV0hFUkUgY3VzdG9tZXJfaWQgPSAxMjMgTElNSVQgMTA7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT * FROM orders WHERE customer_id = 123 LIMIT 10;</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>L'optimització de consultes és un procés continu que requereix un enteniment profund de com les bases de dades executen les consultes. Utilitzant eines com el pla d'execució, creant índexs de manera eficient, particionant taules grans, i limitant els resultats, pots millorar significativament el rendiment de les teves consultes en entorns de dades massius.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
