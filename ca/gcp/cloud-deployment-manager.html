<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Desplegament al Núvol</title>

    <link rel="alternate" href="https://campusempresa.com/es/gcp/cloud-deployment-manager" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/gcp/cloud-deployment-manager" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/gcp/cloud-deployment-manager" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/gcp/cloud-deployment-manager" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='cloud-source-repositories'>&#x25C4; Repositoris de codi font al núvol</a></div><div class='col-6 text-end'><a href='stackdriver-monitoring'>Monitorització Stackdriver &#x25BA;</a></div></div><div class='content'></div><h1>Introducció al Gestor de Desplegament al Núvol</h1>
<div class='content'><p>Google Cloud Deployment Manager és un servei de gestió d'infraestructura que automatitza la creació i gestió de recursos de Google Cloud. Et permet definir tots els recursos necessaris per a la teva aplicació en un format declaratiu utilitzant plantilles YAML, Python o Jinja2.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Plantilles</strong>: Defineixen els recursos i les seves propietats.</li>
<li><strong>Configuracions</strong>: Especifiquen els recursos a desplegar i les seves configuracions.</li>
<li><strong>Desplegaments</strong>: Una col·lecció de recursos creats i gestionats conjuntament.</li>
</ul>
</div><h1>Començant amb el Gestor de Desplegament al Núvol</h1>
<div class='content'></div><h2>Configurant el Teu Entorn</h2>
<div class='content'><ol>
<li><strong>Instal·la Google Cloud SDK</strong>: Assegura't de tenir instal·lat el Google Cloud SDK.</li>
<li><strong>Autentica't</strong>: Utilitza <code>gcloud auth login</code> per autenticar el teu compte.</li>
<li><strong>Configura el Projecte</strong>: Configura el teu projecte actiu utilitzant <code>gcloud config set project [PROJECT_ID]</code>.</li>
</ol>
</div><h2>Creant el Teu Primer Desplegament</h2>
<div class='content'><p>Creem un desplegament senzill que inclou una instància de Google Compute Engine.</p>
<h4>Pas 1: Crea un Fitxer de Configuració</h4>
<p>Crea un fitxer anomenat <code>vm.yaml</code> amb el següent contingut:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2VzOgotIG5hbWU6IG15LXZtCiAgdHlwZTogY29tcHV0ZS52MS5pbnN0YW5jZQogIHByb3BlcnRpZXM6CiAgICB6b25lOiB1cy1jZW50cmFsMS1hCiAgICBtYWNoaW5lVHlwZTogem9uZXMvdXMtY2VudHJhbDEtYS9tYWNoaW5lVHlwZXMvbjEtc3RhbmRhcmQtMQogICAgZGlza3M6CiAgICAtIGRldmljZU5hbWU6IGJvb3QKICAgICAgdHlwZTogUEVSU0lTVEVOVAogICAgICBib290OiB0cnVlCiAgICAgIGF1dG9EZWxldGU6IHRydWUKICAgICAgaW5pdGlhbGl6ZVBhcmFtczoKICAgICAgICBzb3VyY2VJbWFnZTogcHJvamVjdHMvZGViaWFuLWNsb3VkL2dsb2JhbC9pbWFnZXMvZmFtaWx5L2RlYmlhbi05CiAgICBuZXR3b3JrSW50ZXJmYWNlczoKICAgIC0gbmV0d29yazogZ2xvYmFsL25ldHdvcmtzL2RlZmF1bHQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resources:
- name: my-vm
  type: compute.v1.instance
  properties:
    zone: us-central1-a
    machineType: zones/us-central1-a/machineTypes/n1-standard-1
    disks:
    - deviceName: boot
      type: PERSISTENT
      boot: true
      autoDelete: true
      initializeParams:
        sourceImage: projects/debian-cloud/global/images/family/debian-9
    networkInterfaces:
    - network: global/networks/default</pre></div><div class='content'><h4>Pas 2: Desplega la Configuració</h4>
<p>Utilitza la següent comanda per desplegar la configuració:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGRlcGxveW1lbnQtbWFuYWdlciBkZXBsb3ltZW50cyBjcmVhdGUgbXktZmlyc3QtZGVwbG95bWVudCAtLWNvbmZpZyB2bS55YW1s"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud deployment-manager deployments create my-first-deployment --config vm.yaml</pre></div><div class='content'></div><h2>Verificant el Desplegament</h2>
<div class='content'><p>Per verificar el desplegament, utilitza:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGRlcGxveW1lbnQtbWFuYWdlciBkZXBsb3ltZW50cyBkZXNjcmliZSBteS1maXJzdC1kZXBsb3ltZW50"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud deployment-manager deployments describe my-first-deployment</pre></div><div class='content'></div><h1>Conceptes Intermedis</h1>
<div class='content'></div><h2>Utilitzant Plantilles</h2>
<div class='content'><p>Les plantilles et permeten reutilitzar i parametritzar les teves configuracions.</p>
<h4>Creant una Plantilla</h4>
<p>Crea un fitxer anomenat <code>vm-template.jinja</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2VzOgotIG5hbWU6IHt7IHByb3BlcnRpZXNbInZtTmFtZSJdIH19CiAgdHlwZTogY29tcHV0ZS52MS5pbnN0YW5jZQogIHByb3BlcnRpZXM6CiAgICB6b25lOiB7eyBwcm9wZXJ0aWVzWyJ6b25lIl0gfX0KICAgIG1hY2hpbmVUeXBlOiB7eyBwcm9wZXJ0aWVzWyJtYWNoaW5lVHlwZSJdIH19CiAgICBkaXNrczoKICAgIC0gZGV2aWNlTmFtZTogYm9vdAogICAgICB0eXBlOiBQRVJTSVNURU5UCiAgICAgIGJvb3Q6IHRydWUKICAgICAgYXV0b0RlbGV0ZTogdHJ1ZQogICAgICBpbml0aWFsaXplUGFyYW1zOgogICAgICAgIHNvdXJjZUltYWdlOiB7eyBwcm9wZXJ0aWVzWyJzb3VyY2VJbWFnZSJdIH19CiAgICBuZXR3b3JrSW50ZXJmYWNlczoKICAgIC0gbmV0d29yazogZ2xvYmFsL25ldHdvcmtzL2RlZmF1bHQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resources:
- name: {{ properties[&quot;vmName&quot;] }}
  type: compute.v1.instance
  properties:
    zone: {{ properties[&quot;zone&quot;] }}
    machineType: {{ properties[&quot;machineType&quot;] }}
    disks:
    - deviceName: boot
      type: PERSISTENT
      boot: true
      autoDelete: true
      initializeParams:
        sourceImage: {{ properties[&quot;sourceImage&quot;] }}
    networkInterfaces:
    - network: global/networks/default</pre></div><div class='content'><h4>Utilitzant la Plantilla en una Configuració</h4>
<p>Crea un fitxer anomenat <code>vm-config.yaml</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0czoKLSBwYXRoOiB2bS10ZW1wbGF0ZS5qaW5qYQoKcmVzb3VyY2VzOgotIG5hbWU6IG15LXZtLWZyb20tdGVtcGxhdGUKICB0eXBlOiB2bS10ZW1wbGF0ZS5qaW5qYQogIHByb3BlcnRpZXM6CiAgICB2bU5hbWU6IG15LXZtCiAgICB6b25lOiB1cy1jZW50cmFsMS1hCiAgICBtYWNoaW5lVHlwZTogem9uZXMvdXMtY2VudHJhbDEtYS9tYWNoaW5lVHlwZXMvbjEtc3RhbmRhcmQtMQogICAgc291cmNlSW1hZ2U6IHByb2plY3RzL2RlYmlhbi1jbG91ZC9nbG9iYWwvaW1hZ2VzL2ZhbWlseS9kZWJpYW4tOQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>imports:
- path: vm-template.jinja

resources:
- name: my-vm-from-template
  type: vm-template.jinja
  properties:
    vmName: my-vm
    zone: us-central1-a
    machineType: zones/us-central1-a/machineTypes/n1-standard-1
    sourceImage: projects/debian-cloud/global/images/family/debian-9</pre></div><div class='content'><p>Desplega la configuració:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGRlcGxveW1lbnQtbWFuYWdlciBkZXBsb3ltZW50cyBjcmVhdGUgbXktdGVtcGxhdGUtZGVwbG95bWVudCAtLWNvbmZpZyB2bS1jb25maWcueWFtbA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud deployment-manager deployments create my-template-deployment --config vm-config.yaml</pre></div><div class='content'></div><h1>Temes Avançats</h1>
<div class='content'></div><h2>Gestionant Desplegaments Complexos</h2>
<div class='content'><p>Per a desplegaments més complexos, pots utilitzar múltiples plantilles i configuracions.</p>
<h4>Exemple: Aplicació Multi-Nivell</h4>
<p>Crea una xarxa, una regla de tallafocs, i dues instàncies de VM (una per al servidor web i una per a la base de dades).</p>
<ol>
<li><strong>Plantilla de Xarxa (<code>network-template.jinja</code>)</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2VzOgotIG5hbWU6IHt7IHByb3BlcnRpZXNbIm5ldHdvcmtOYW1lIl0gfX0KICB0eXBlOiBjb21wdXRlLnYxLm5ldHdvcmsKICBwcm9wZXJ0aWVzOgogICAgYXV0b0NyZWF0ZVN1Ym5ldHdvcmtzOiB0cnVl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resources:
- name: {{ properties[&quot;networkName&quot;] }}
  type: compute.v1.network
  properties:
    autoCreateSubnetworks: true</pre></div><div class='content'><ol start="2">
<li><strong>Plantilla de Tallafocs (<code>firewall-template.jinja</code>)</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2VzOgotIG5hbWU6IHt7IHByb3BlcnRpZXNbImZpcmV3YWxsTmFtZSJdIH19CiAgdHlwZTogY29tcHV0ZS52MS5maXJld2FsbAogIHByb3BlcnRpZXM6CiAgICBuZXR3b3JrOiBnbG9iYWwvbmV0d29ya3Mve3sgcHJvcGVydGllc1sibmV0d29ya05hbWUiXSB9fQogICAgYWxsb3dlZDoKICAgIC0gSVBQcm90b2NvbDogdGNwCiAgICAgIHBvcnRzOgogICAgICAtIDgw"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resources:
- name: {{ properties[&quot;firewallName&quot;] }}
  type: compute.v1.firewall
  properties:
    network: global/networks/{{ properties[&quot;networkName&quot;] }}
    allowed:
    - IPProtocol: tcp
      ports:
      - 80</pre></div><div class='content'><ol start="3">
<li><strong>Plantilla de VM (<code>vm-template.jinja</code>)</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVzb3VyY2VzOgotIG5hbWU6IHt7IHByb3BlcnRpZXNbInZtTmFtZSJdIH19CiAgdHlwZTogY29tcHV0ZS52MS5pbnN0YW5jZQogIHByb3BlcnRpZXM6CiAgICB6b25lOiB7eyBwcm9wZXJ0aWVzWyJ6b25lIl0gfX0KICAgIG1hY2hpbmVUeXBlOiB7eyBwcm9wZXJ0aWVzWyJtYWNoaW5lVHlwZSJdIH19CiAgICBkaXNrczoKICAgIC0gZGV2aWNlTmFtZTogYm9vdAogICAgICB0eXBlOiBQRVJTSVNURU5UCiAgICAgIGJvb3Q6IHRydWUKICAgICAgYXV0b0RlbGV0ZTogdHJ1ZQogICAgICBpbml0aWFsaXplUGFyYW1zOgogICAgICAgIHNvdXJjZUltYWdlOiB7eyBwcm9wZXJ0aWVzWyJzb3VyY2VJbWFnZSJdIH19CiAgICBuZXR3b3JrSW50ZXJmYWNlczoKICAgIC0gbmV0d29yazogZ2xvYmFsL25ldHdvcmtzL3t7IHByb3BlcnRpZXNbIm5ldHdvcmtOYW1lIl0gfX0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>resources:
- name: {{ properties[&quot;vmName&quot;] }}
  type: compute.v1.instance
  properties:
    zone: {{ properties[&quot;zone&quot;] }}
    machineType: {{ properties[&quot;machineType&quot;] }}
    disks:
    - deviceName: boot
      type: PERSISTENT
      boot: true
      autoDelete: true
      initializeParams:
        sourceImage: {{ properties[&quot;sourceImage&quot;] }}
    networkInterfaces:
    - network: global/networks/{{ properties[&quot;networkName&quot;] }}</pre></div><div class='content'><ol start="4">
<li><strong>Fitxer de Configuració (<code>multi-tier-config.yaml</code>)</strong>:</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0czoKLSBwYXRoOiBuZXR3b3JrLXRlbXBsYXRlLmppbmphCi0gcGF0aDogZmlyZXdhbGwtdGVtcGxhdGUuamluamEKLSBwYXRoOiB2bS10ZW1wbGF0ZS5qaW5qYQoKcmVzb3VyY2VzOgotIG5hbWU6IG15LW5ldHdvcmsKICB0eXBlOiBuZXR3b3JrLXRlbXBsYXRlLmppbmphCiAgcHJvcGVydGllczoKICAgIG5ldHdvcmtOYW1lOiBteS1uZXR3b3JrCgotIG5hbWU6IG15LWZpcmV3YWxsCiAgdHlwZTogZmlyZXdhbGwtdGVtcGxhdGUuamluamEKICBwcm9wZXJ0aWVzOgogICAgZmlyZXdhbGxOYW1lOiBteS1maXJld2FsbAogICAgbmV0d29ya05hbWU6IG15LW5ldHdvcmsKCi0gbmFtZTogd2ViLXNlcnZlcgogIHR5cGU6IHZtLXRlbXBsYXRlLmppbmphCiAgcHJvcGVydGllczoKICAgIHZtTmFtZTogd2ViLXNlcnZlcgogICAgem9uZTogdXMtY2VudHJhbDEtYQogICAgbWFjaGluZVR5cGU6IHpvbmVzL3VzLWNlbnRyYWwxLWEvbWFjaGluZVR5cGVzL24xLXN0YW5kYXJkLTEKICAgIHNvdXJjZUltYWdlOiBwcm9qZWN0cy9kZWJpYW4tY2xvdWQvZ2xvYmFsL2ltYWdlcy9mYW1pbHkvZGViaWFuLTkKICAgIG5ldHdvcmtOYW1lOiBteS1uZXR3b3JrCgotIG5hbWU6IGRiLXNlcnZlcgogIHR5cGU6IHZtLXRlbXBsYXRlLmppbmphCiAgcHJvcGVydGllczoKICAgIHZtTmFtZTogZGItc2VydmVyCiAgICB6b25lOiB1cy1jZW50cmFsMS1hCiAgICBtYWNoaW5lVHlwZTogem9uZXMvdXMtY2VudHJhbDEtYS9tYWNoaW5lVHlwZXMvbjEtc3RhbmRhcmQtMQogICAgc291cmNlSW1hZ2U6IHByb2plY3RzL2RlYmlhbi1jbG91ZC9nbG9iYWwvaW1hZ2VzL2ZhbWlseS9kZWJpYW4tOQogICAgbmV0d29ya05hbWU6IG15LW5ldHdvcms="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>imports:
- path: network-template.jinja
- path: firewall-template.jinja
- path: vm-template.jinja

resources:
- name: my-network
  type: network-template.jinja
  properties:
    networkName: my-network

- name: my-firewall
  type: firewall-template.jinja
  properties:
    firewallName: my-firewall
    networkName: my-network

- name: web-server
  type: vm-template.jinja
  properties:
    vmName: web-server
    zone: us-central1-a
    machineType: zones/us-central1-a/machineTypes/n1-standard-1
    sourceImage: projects/debian-cloud/global/images/family/debian-9
    networkName: my-network

- name: db-server
  type: vm-template.jinja
  properties:
    vmName: db-server
    zone: us-central1-a
    machineType: zones/us-central1-a/machineTypes/n1-standard-1
    sourceImage: projects/debian-cloud/global/images/family/debian-9
    networkName: my-network</pre></div><div class='content'><p>Desplega la configuració:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGRlcGxveW1lbnQtbWFuYWdlciBkZXBsb3ltZW50cyBjcmVhdGUgbXVsdGktdGllci1kZXBsb3ltZW50IC0tY29uZmlnIG11bHRpLXRpZXItY29uZmlnLnlhbWw="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud deployment-manager deployments create multi-tier-deployment --config multi-tier-config.yaml</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Google Cloud Deployment Manager és una eina poderosa per gestionar la teva infraestructura al núvol de manera declarativa. Utilitzant plantilles i configuracions, pots automatitzar el desplegament d'aplicacions complexes, assegurant la consistència i reduint el potencial d'errors humans. A mesura que et familiaritzis amb Deployment Manager, podràs aprofitar totes les seves capacitats per gestionar desplegaments a gran escala de manera eficient.</p>
</div><div class='row navigation'><div class='col-6'><a href='cloud-source-repositories'>&#x25C4; Repositoris de codi font al núvol</a></div><div class='col-6 text-end'><a href='stackdriver-monitoring'>Monitorització Stackdriver &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
