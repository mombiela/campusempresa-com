<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud CDN</title>

    <link rel="alternate" href="https://campusempresa.com/es/gcp/cloud-cdn" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/gcp/cloud-cdn" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/gcp/cloud-cdn" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/gcp/cloud-cdn" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='cloud-load-balancing'>&#x25C4; Equilibri de càrrega al núvol</a></div><div class='col-6 text-end'><a href='cloud-dns'>Cloud DNS &#x25BA;</a></div></div><div class='content'></div><h1>Introducció a Cloud CDN</h1>
<div class='content'><p>Cloud CDN (Content Delivery Network) és un servei proporcionat per Google Cloud Platform (GCP) que accelera el lliurament de contingut emmagatzemant en memòria cau el contingut en punts de presència (PoPs) estratègicament situats arreu del món. Això redueix la latència i millora l'experiència de l'usuari servint el contingut des de localitzacions més properes a l'usuari.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Memòria Cau a la Vora</strong>: Emmagatzemar còpies de contingut en diverses ubicacions per reduir la latència.</li>
<li><strong>PoPs (Punts de Presència)</strong>: Ubicacions on es guarda el contingut en memòria cau.</li>
<li><strong>Servidor d'Origen</strong>: El servidor on s'allotja el contingut original.</li>
<li><strong>Cache Hit</strong>: Quan el contingut sol·licitat es troba a la memòria cau.</li>
<li><strong>Cache Miss</strong>: Quan el contingut sol·licitat no es troba a la memòria cau i s'ha de recuperar del servidor d'origen.</li>
</ul>
</div><h1>Configuració de Cloud CDN</h1>
<h2>Prerequisits</h2>
<div class='content'><ul>
<li>Un compte de GCP.</li>
<li>Un equilibrador de càrrega HTTP(S) configurat.</li>
</ul>
</div><h2>Passos per habilitar Cloud CDN</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Equilibrador de Càrrega</strong>:</p>
<ul>
<li>Navega al Consola de GCP.</li>
<li>Ves a la secció &quot;Equilibrament de càrrega&quot;.</li>
<li>Fes clic a &quot;Crear equilibrador de càrrega&quot;.</li>
</ul>
</li>
<li>
<p><strong>Configurar el Servei de Backend</strong>:</p>
<ul>
<li>Selecciona el servei de backend que vols utilitzar amb Cloud CDN.</li>
<li>Habilita l'opció &quot;Cloud CDN&quot;.</li>
</ul>
</li>
<li>
<p><strong>Configurar el Mapa d'URL i el Frontend</strong>:</p>
<ul>
<li>Configura mapes d'URL per dirigir les sol·licituds entrants.</li>
<li>Configura el frontend per gestionar el trànsit HTTP(S).</li>
</ul>
</li>
<li>
<p><strong>Desplegar i Provar</strong>:</p>
<ul>
<li>Desplega l'equilibrador de càrrega.</li>
<li>Prova la configuració accedint al contingut a través de l'adreça IP o domini de l'equilibrador de càrrega.</li>
</ul>
</li>
</ol>
</div><h2>Exemple: Habilitant Cloud CDN</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyBjcmVhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tcHJvdG9jb2wgSFRUUCBcCiAgICAtLXBvcnQtbmFtZSBodHRwIFwKICAgIC0taGVhbHRoLWNoZWNrcyBteS1oZWFsdGgtY2hlY2sgXAogICAgLS1nbG9iYWwKCmdjbG91ZCBjb21wdXRlIGJhY2tlbmQtc2VydmljZXMgYWRkLWJhY2tlbmQgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0taW5zdGFuY2UtZ3JvdXAgbXktaW5zdGFuY2UtZ3JvdXAgXAogICAgLS1pbnN0YW5jZS1ncm91cC16b25lIHVzLWNlbnRyYWwxLWEgXAogICAgLS1nbG9iYWwKCmdjbG91ZCBjb21wdXRlIGJhY2tlbmQtc2VydmljZXMgdXBkYXRlIG15LWJhY2tlbmQtc2VydmljZSBcCiAgICAtLWVuYWJsZS1jZG4gXAogICAgLS1nbG9iYWw="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services create my-backend-service \
    --protocol HTTP \
    --port-name http \
    --health-checks my-health-check \
    --global

gcloud compute backend-services add-backend my-backend-service \
    --instance-group my-instance-group \
    --instance-group-zone us-central1-a \
    --global

gcloud compute backend-services update my-backend-service \
    --enable-cdn \
    --global</pre></div><div class='content'></div><h1>Configuració Avançada</h1>
<h2>Invalidació de Memòria Cau</h2>
<div class='content'><ul>
<li><strong>Propòsit</strong>: Eliminar contingut obsolet o incorrecte de la memòria cau.</li>
<li><strong>Mètodes</strong>:
<ul>
<li><strong>Invalidació Manual</strong>: Utilitzant la Consola de GCP o la comanda <code>gcloud</code>.</li>
<li><strong>Invalidació Programàtica</strong>: Utilitzant l'API de Cloud CDN.</li>
</ul>
</li>
</ul>
<h4>Exemple: Invalidació Manual</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgdXJsLW1hcHMgaW52YWxpZGF0ZS1jZG4tY2FjaGUgbXktdXJsLW1hcCBcCiAgICAtLXBhdGggIi8qIg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute url-maps invalidate-cdn-cache my-url-map \
    --path &quot;/*&quot;</pre></div><div class='content'></div><h2>Polítiques de Clau de Memòria Cau</h2>
<div class='content'><ul>
<li><strong>Propòsit</strong>: Controlar com Cloud CDN emmagatzema el contingut en memòria cau.</li>
<li><strong>Components</strong>:
<ul>
<li><strong>Incloure/Excloure Cadenes de Consulta</strong>: Determinar si les cadenes de consulta han de formar part de la clau de memòria cau.</li>
<li><strong>Incloure/Excloure Capçaleres</strong>: Especificar quines capçaleres han d'incloure's en la clau de memòria cau.</li>
</ul>
</li>
</ul>
<h4>Exemple: Configurant la Política de Clau de Memòria Cau</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyB1cGRhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tY2FjaGUta2V5LXBvbGljeSBpbmNsdWRlSG9zdD10cnVlLGluY2x1ZGVQcm90b2NvbD10cnVlLGluY2x1ZGVRdWVyeVN0cmluZz10cnVlIFwKICAgIC0tZ2xvYmFs"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services update my-backend-service \
    --cache-key-policy includeHost=true,includeProtocol=true,includeQueryString=true \
    --global</pre></div><div class='content'></div><h2>Capçaleres de Resposta Personalitzades</h2>
<div class='content'><ul>
<li><strong>Propòsit</strong>: Afegir capçaleres personalitzades a les respostes servides des de Cloud CDN.</li>
<li><strong>Casos d'Ús</strong>: Afegir capçaleres de seguretat, metadades personalitzades, etc.</li>
</ul>
<h4>Exemple: Afegint Capçaleres Personalitzades</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyB1cGRhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tY3VzdG9tLXJlc3BvbnNlLWhlYWRlciAiWC1DdXN0b20tSGVhZGVyOiBteS12YWx1ZSIgXAogICAgLS1nbG9iYWw="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services update my-backend-service \
    --custom-response-header &quot;X-Custom-Header: my-value&quot; \
    --global</pre></div><div class='content'></div><h1>Monitorització i Registre</h1>
<h2>Monitorització</h2>
<div class='content'><ul>
<li><strong>Stackdriver Monitoring</strong>: Utilitza Stackdriver per monitoritzar mètriques de Cloud CDN com la ràtio de cache hit, latència, etc.</li>
</ul>
</div><h2>Registre</h2>
<div class='content'><ul>
<li><strong>Cloud Logging</strong>: Habilita el registre per capturar informació detallada sobre les sol·licituds servides per Cloud CDN.</li>
</ul>
<h4>Exemple: Habilitant el Registre</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2Nsb3VkIGNvbXB1dGUgYmFja2VuZC1zZXJ2aWNlcyB1cGRhdGUgbXktYmFja2VuZC1zZXJ2aWNlIFwKICAgIC0tZW5hYmxlLWxvZ2dpbmcgXAogICAgLS1nbG9iYWw="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>gcloud compute backend-services update my-backend-service \
    --enable-logging \
    --global</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Cloud CDN és una eina poderosa per millorar el rendiment i l'escalabilitat de les teves aplicacions web emmagatzemant contingut més a prop dels usuaris. Comprenent els conceptes bàsics de configuració i configuració de Cloud CDN, així com funcions avançades com la invalidació de memòria cau i les capçaleres personalitzades, pots optimitzar el lliurament de contingut i millorar l'experiència de l'usuari. Les capacitats de monitorització i registre asseguren que puguis mantenir i solucionar problemes de la teva configuració de CDN de manera efectiva.</p>
</div><div class='row navigation'><div class='col-6'><a href='cloud-load-balancing'>&#x25C4; Equilibri de càrrega al núvol</a></div><div class='col-6 text-end'><a href='cloud-dns'>Cloud DNS &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
