<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firestore</title>

    <link rel="alternate" href="https://campusempresa.com/es/gcp/firestore" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/gcp/firestore" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/gcp/firestore" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/gcp/firestore" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='cloud-spanner'>&#x25C4; Cloud Spanner</a></div><div class='col-6 text-end'><a href='bigtable'>Bigtable &#x25BA;</a></div></div><div class='content'><p>Firestore és una base de dades flexible i escalable per al desenvolupament mòbil, web i de servidor de Firebase i Google Cloud Platform (GCP). És una base de dades de documents NoSQL que et permet emmagatzemar, sincronitzar i consultar dades per a les teves aplicacions.</p>
</div><h1>Introducció a Firestore</h1>
<div class='content'><ul>
<li>
<p><strong>Què és Firestore?</strong></p>
<ul>
<li>Firestore és una base de dades de documents NoSQL.</li>
<li>És part de la plataforma Firebase i s'integra perfectament amb altres serveis de Firebase i GCP.</li>
<li>Firestore està dissenyat per gestionar dades a gran escala i actualitzacions en temps real.</li>
</ul>
</li>
<li>
<p><strong>Característiques Clau:</strong></p>
<ul>
<li>Sincronització en temps real.</li>
<li>Suport fora de línia.</li>
<li>Consistència forta.</li>
<li>Model de dades flexible.</li>
<li>Capacitats de consulta potents.</li>
</ul>
</li>
</ul>
</div><h1>Configuració de Firestore</h1>
<div class='content'><ul>
<li>
<p><strong>Prerequisits:</strong></p>
<ul>
<li>Un compte de Google Cloud Platform.</li>
<li>Configuració del projecte Firebase.</li>
</ul>
</li>
<li>
<p><strong>Passos per Configurar Firestore:</strong></p>
<ol>
<li><strong>Crear un Projecte Firebase:</strong>
<ul>
<li>Ves a la Consola de Firebase.</li>
<li>Fes clic a &quot;Afegeix projecte&quot; i segueix les instruccions de configuració.</li>
</ul>
</li>
<li><strong>Habilitar Firestore:</strong>
<ul>
<li>A la Consola de Firebase, navega a la secció de Base de Dades.</li>
<li>Selecciona Firestore i fes clic a &quot;Crea base de dades&quot;.</li>
<li>Tria una ubicació per a la teva base de dades i configura les regles de seguretat.</li>
</ul>
</li>
</ol>
</li>
</ul>
</div><h1>Model de Dades de Firestore</h1>
<div class='content'><ul>
<li>
<p><strong>Documents i Col·leccions:</strong></p>
<ul>
<li>Firestore emmagatzema dades en documents, que estan organitzats en col·leccions.</li>
<li>Un document és un conjunt de parells clau-valor.</li>
<li>Les col·leccions són contenidors per a documents i poden contenir subcol·leccions.</li>
</ul>
</li>
<li>
<p><strong>Exemple d'Estructura:</strong></p>
<pre><code>- users (col·lecció)
  - userID (document)
    - name: &quot;John Doe&quot;
    - email: &quot;john.doe@example.com&quot;
    - posts (subcol·lecció)
      - postID (document)
        - title: &quot;My First Post&quot;
        - content: &quot;Hello, world!&quot;
</code></pre>
</li>
</ul>
</div><h1>Operacions Bàsiques</h1>
<div class='content'><ul>
<li>
<p><strong>Afegir Dades:</strong></p>
<pre><code class="language-javascript">// Inicialitzar Firestore
const db = firebase.firestore();

// Afegir un nou document a la col·lecció &quot;users&quot;
db.collection(&quot;users&quot;).add({
    name: &quot;John Doe&quot;,
    email: &quot;john.doe@example.com&quot;
})
.then((docRef) =&gt; {
    console.log(&quot;Document escrit amb ID: &quot;, docRef.id);
})
.catch((error) =&gt; {
    console.error(&quot;Error afegint el document: &quot;, error);
});
</code></pre>
</li>
<li>
<p><strong>Llegir Dades:</strong></p>
<pre><code class="language-javascript">// Obtenir un document de la col·lecció &quot;users&quot;
db.collection(&quot;users&quot;).doc(&quot;userID&quot;).get().then((doc) =&gt; {
    if (doc.exists) {
        console.log(&quot;Dades del document:&quot;, doc.data());
    } else {
        console.log(&quot;No existeix aquest document!&quot;);
    }
}).catch((error) =&gt; {
    console.log(&quot;Error obtenint el document:&quot;, error);
});
</code></pre>
</li>
<li>
<p><strong>Actualitzar Dades:</strong></p>
<pre><code class="language-javascript">// Actualitzar un document existent a la col·lecció &quot;users&quot;
db.collection(&quot;users&quot;).doc(&quot;userID&quot;).update({
    email: &quot;new.email@example.com&quot;
})
.then(() =&gt; {
    console.log(&quot;Document actualitzat amb èxit!&quot;);
})
.catch((error) =&gt; {
    console.error(&quot;Error actualitzant el document: &quot;, error);
});
</code></pre>
</li>
<li>
<p><strong>Eliminar Dades:</strong></p>
<pre><code class="language-javascript">// Eliminar un document de la col·lecció &quot;users&quot;
db.collection(&quot;users&quot;).doc(&quot;userID&quot;).delete().then(() =&gt; {
    console.log(&quot;Document eliminat amb èxit!&quot;);
}).catch((error) =&gt; {
    console.error(&quot;Error eliminant el document: &quot;, error);
});
</code></pre>
</li>
</ul>
</div><h1>Funcions Avançades</h1>
<div class='content'><ul>
<li>
<p><strong>Actualitzacions en Temps Real:</strong></p>
<pre><code class="language-javascript">// Escoltar actualitzacions en temps real d'un document
db.collection(&quot;users&quot;).doc(&quot;userID&quot;)
  .onSnapshot((doc) =&gt; {
      console.log(&quot;Dades actuals: &quot;, doc.data());
  });
</code></pre>
</li>
<li>
<p><strong>Consultes:</strong></p>
<pre><code class="language-javascript">// Consultar documents a la col·lecció &quot;users&quot; on el nom és &quot;John Doe&quot;
db.collection(&quot;users&quot;).where(&quot;name&quot;, &quot;==&quot;, &quot;John Doe&quot;)
  .get()
  .then((querySnapshot) =&gt; {
      querySnapshot.forEach((doc) =&gt; {
          console.log(doc.id, &quot; =&gt; &quot;, doc.data());
      });
  })
  .catch((error) =&gt; {
      console.log(&quot;Error obtenint els documents: &quot;, error);
  });
</code></pre>
</li>
<li>
<p><strong>Transaccions:</strong></p>
<pre><code class="language-javascript">// Realitzar una transacció per actualitzar un document
db.runTransaction((transaction) =&gt; {
    return transaction.get(db.collection(&quot;users&quot;).doc(&quot;userID&quot;)).then((doc) =&gt; {
        if (!doc.exists) {
            throw &quot;El document no existeix!&quot;;
        }

        // Actualitzar el camp email
        transaction.update(db.collection(&quot;users&quot;).doc(&quot;userID&quot;), { email: &quot;new.email@example.com&quot; });
    });
}).then(() =&gt; {
    console.log(&quot;Transacció realitzada amb èxit!&quot;);
}).catch((error) =&gt; {
    console.log(&quot;Transacció fallida: &quot;, error);
});
</code></pre>
</li>
</ul>
</div><h1>Regles de Seguretat</h1>
<div class='content'><ul>
<li>
<p><strong>Configuració de les Regles de Seguretat:</strong></p>
<ul>
<li>Les regles de seguretat de Firestore controlen l'accés a la teva base de dades.</li>
<li>Pots definir regles per permetre o denegar l'accés basant-te en les propietats de la sol·licitud.</li>
</ul>
</li>
<li>
<p><strong>Exemple de Regla de Seguretat:</strong></p>
<pre><code class="language-plaintext">service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{userId} {
      allow read, write: if request.auth != null &amp;&amp; request.auth.uid == userId;
    }
  }
}
</code></pre>
</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Firestore és una potent base de dades NoSQL que ofereix sincronització en temps real, suport fora de línia i un model de dades flexible. Comprenent les seves operacions bàsiques, funcions avançades i regles de seguretat, pots utilitzar Firestore de manera efectiva per construir aplicacions escalables i responsives. Tant si estàs treballant en un projecte petit com en una aplicació a gran escala, Firestore proporciona les eines necessàries per gestionar les teves dades de manera eficient.</p>
</div><div class='row navigation'><div class='col-6'><a href='cloud-spanner'>&#x25C4; Cloud Spanner</a></div><div class='col-6 text-end'><a href='bigtable'>Bigtable &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
