<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OAuth 2.0</title>

    <link rel="alternate" href="https://campusempresa.com/es/rest_api/oauth-2-0" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/rest_api/oauth-2-0" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/rest_api/oauth-2-0" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/rest_api/oauth-2-0" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció a OAuth 2.0</h1>
<div class='content'><p>OAuth 2.0 és un protocol d'autorització que permet a les aplicacions obtenir accés limitat als recursos d'un usuari en un servidor HTTP. És àmpliament utilitzat per permetre que les aplicacions interactuïn amb serveis de tercers en nom de l'usuari sense compartir les credencials de l'usuari.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Resource Owner (Propietari del Recurs):</strong> És l'usuari que concedeix accés als seus recursos.</li>
<li><strong>Client (Client):</strong> És l'aplicació que sol·licita accés als recursos de l'usuari.</li>
<li><strong>Authorization Server (Servidor d'Autorització):</strong> És el servidor que autentica l'usuari i emet tokens d'accés.</li>
<li><strong>Resource Server (Servidor de Recursos):</strong> És el servidor que allotja els recursos protegits i accepta tokens d'accés per permetre l'accés a aquests recursos.</li>
<li><strong>Access Token (Token d'Accés):</strong> És un token que permet al client accedir als recursos protegits en nom de l'usuari.</li>
</ul>
</div><h1>Flux d'Autorització</h1>
<div class='content'><p>OAuth 2.0 defineix diversos fluxos d'autorització, però els més comuns són:</p>
</div><h2>Authorization Code Grant</h2>
<div class='content'><p>Aquest flux és adequat per a aplicacions web i mòbils. Involucra un intercanvi de codi d'autorització per un token d'accés.</p>
<ol>
<li><strong>El client redirigeix l'usuari al servidor d'autorització.</strong></li>
<li><strong>L'usuari s'autentica i concedeix accés.</strong></li>
<li><strong>El servidor d'autorització redirigeix el client amb un codi d'autorització.</strong></li>
<li><strong>El client intercanvia el codi d'autorització per un token d'accés.</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ky0tLS0tLS0tLS0rCnwgUmVzb3VyY2UgfAp8ICBPd25lciAgIHwKfCAgICAgICAgICB8CistLS0tLS0tLS0tKwogICAgIF4KICAgICB8CiAgICAoQikKKy0tLS18LS0tLS0rICAgICAgICAgIENsaWVudCBJZGVudGlmaWVyICAgICAgKy0tLS0tLS0tLS0tLS0tLSsKfCAgICAgICAgIC0rLS0tLShBKS0tICYgUmVkaXJlY3Rpb24gVVJJIC0tLT4gfCAgICAgICAgICAgICAgIHwKfCAgVXNlci0gICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBBdXRob3JpemF0aW9uIHwKfCAgQWdlbnQgIC18LS0tLShCKS0tIFVzZXIgYXV0aGVudGljYXRlcyAtLT4gfCAgICAgU2VydmVyICAgIHwKfCAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgIHwKfCAgICAgICAgIC18LS0tLShDKS0tIEF1dGhvcml6YXRpb24gQ29kZSAtLS08fCAgICAgICAgICAgICAgIHwKKy0tLS18LS0tLS0rICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLSsKICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBeICAgICAgdgogICAgKEEpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICB8CiAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgIHwKICAgICB2ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgfAorLS0tLXwtLS0tLSsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArLXwtLS0tLS18LS0tLSsKfCAgICAgICAgIC0rLS0tLShEKS0tIEF1dGhvcml6YXRpb24gQ29kZSAtLS0+fCAgICAgICAgICAgIHwKfCAgQ2xpZW50ICB8ICAgICAgICAgICYgQ2xpZW50IFNlY3JldCAgICAgICAgfCBSZXNvdXJjZSAgICB8CnwgICAgICAgICAgfCAgICAgICAgICBGb3IgQWNjZXNzIFRva2VuICAgICAgIHwgICBTZXJ2ZXIgICAgfAp8ICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgfAp8ICAgICAgICAgIHw8LS0tKEUpLS0tLSBBY2Nlc3MgVG9rZW4gLS0tLS0tLS18ICAgICAgICAgICAgfAorLS0tLS0tLS0tLSsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tKw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>+----------+
| Resource |
|  Owner   |
|          |
+----------+
     ^
     |
    (B)
+----|-----+          Client Identifier      +---------------+
|         -+----(A)-- &amp; Redirection URI ---&gt; |               |
|  User-   |                                 | Authorization |
|  Agent  -|----(B)-- User authenticates --&gt; |     Server    |
|          |                                 |               |
|         -|----(C)-- Authorization Code ---&lt;|               |
+----|-----+                                 +---------------+
     |                                         ^      v
    (A)                                        |      |
     |                                         |      |
     v                                         |      |
+----|-----+                                 +-|------|----+
|         -+----(D)-- Authorization Code ---&gt;|            |
|  Client  |          &amp; Client Secret        | Resource    |
|          |          For Access Token       |   Server    |
|          |                                 |            |
|          |&lt;---(E)---- Access Token --------|            |
+----------+                                 +------------+</pre></div><div class='content'></div><h2>Implicit Grant</h2>
<div class='content'><p>Aquest flux és adequat per a aplicacions d'una sola pàgina (SPA) on el client és una aplicació JavaScript que s'executa al navegador de l'usuari.</p>
<ol>
<li><strong>El client redirigeix l'usuari al servidor d'autorització.</strong></li>
<li><strong>L'usuari s'autentica i concedeix accés.</strong></li>
<li><strong>El servidor d'autorització redirigeix el client amb un token d'accés.</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ky0tLS0tLS0tLS0rCnwgUmVzb3VyY2UgfAp8ICBPd25lciAgIHwKfCAgICAgICAgICB8CistLS0tLS0tLS0tKwogICAgIF4KICAgICB8CiAgICAoQikKKy0tLS18LS0tLS0rICAgICAgICAgIENsaWVudCBJZGVudGlmaWVyICAgICArLS0tLS0tLS0tLS0tLS0tKwp8ICAgICAgICAgLSstLS0tKEEpLS0gJiBSZWRpcmVjdGlvbiBVUkkgLS0tPnwgICAgICAgICAgICAgICB8CnwgIFVzZXItICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBBdXRob3JpemF0aW9uIHwKfCAgQWdlbnQgIC18LS0tLShCKS0tIFVzZXIgYXV0aGVudGljYXRlcyAtLT58ICAgICBTZXJ2ZXIgICAgfAp8ICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICB8CnwgICAgICAgICAtfC0tLS0oQyktLS0gUmVkaXJlY3Rpb24gVVJJIC0tLS08fCAgICAgICAgICAgICAgIHwKKy0tLS18LS0tLS0rICAgICAgICAgIHdpdGggQWNjZXNzIFRva2VuICAgICArLS0tLS0tLS0tLS0tLS0tKwogICAgIHwgICAgICAgICAgICAgICAgaW4gRnJhZ21lbnQKICAgIChBKSAKICAgICB8CiAgICAgdgorLS0tLXwtLS0tLSsKfCAgICAgICAgICB8CnwgIENsaWVudCAgfAp8ICAgICAgICAgIHwKfCAgICAgICAgICB8CnwgICAgICAgICAgfAorLS0tLS0tLS0tLSs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>+----------+
| Resource |
|  Owner   |
|          |
+----------+
     ^
     |
    (B)
+----|-----+          Client Identifier     +---------------+
|         -+----(A)-- &amp; Redirection URI ---&gt;|               |
|  User-   |                                | Authorization |
|  Agent  -|----(B)-- User authenticates --&gt;|     Server    |
|          |                                |               |
|         -|----(C)--- Redirection URI ----&lt;|               |
+----|-----+          with Access Token     +---------------+
     |                in Fragment
    (A) 
     |
     v
+----|-----+
|          |
|  Client  |
|          |
|          |
|          |
+----------+</pre></div><div class='content'></div><h1>Exemple d'Implementació</h1>
<div class='content'></div><h2>Configuració del Servidor d'Autorització</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGVuIFB5dGhvbiB1c2FudCBGbGFzayBpIE9BdXRobGliCmZyb20gZmxhc2sgaW1wb3J0IEZsYXNrLCByZXF1ZXN0LCByZWRpcmVjdCwgc2Vzc2lvbiwgdXJsX2Zvcgpmcm9tIG9hdXRobGliLm9hdXRoMiBpbXBvcnQgV2ViQXBwbGljYXRpb25TZXJ2ZXIKCmFwcCA9IEZsYXNrKF9fbmFtZV9fKQphcHAuc2VjcmV0X2tleSA9ICdzdXBlcnNlY3JldGtleScKc2VydmVyID0gV2ViQXBwbGljYXRpb25TZXJ2ZXIoY2xpZW50X2lkPSd5b3VyX2NsaWVudF9pZCcsIGNsaWVudF9zZWNyZXQ9J3lvdXJfY2xpZW50X3NlY3JldCcpCgpAYXBwLnJvdXRlKCcvYXV0aG9yaXplJykKZGVmIGF1dGhvcml6ZSgpOgogICAgcmV0dXJuIHNlcnZlci5jcmVhdGVfYXV0aG9yaXphdGlvbl9yZXNwb25zZShyZXF1ZXN0LnVybCwgcmVxdWVzdC5tZXRob2QsIHJlcXVlc3QuZm9ybSwgcmVxdWVzdC5oZWFkZXJzKQoKQGFwcC5yb3V0ZSgnL3Rva2VuJywgbWV0aG9kcz1bJ1BPU1QnXSkKZGVmIHRva2VuKCk6CiAgICByZXR1cm4gc2VydmVyLmNyZWF0ZV90b2tlbl9yZXNwb25zZShyZXF1ZXN0LnVybCwgcmVxdWVzdC5tZXRob2QsIHJlcXVlc3QuZm9ybSwgcmVxdWVzdC5oZWFkZXJzKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIGFwcC5ydW4oKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple en Python usant Flask i OAuthlib
from flask import Flask, request, redirect, session, url_for
from oauthlib.oauth2 import WebApplicationServer

app = Flask(__name__)
app.secret_key = 'supersecretkey'
server = WebApplicationServer(client_id='your_client_id', client_secret='your_client_secret')

@app.route('/authorize')
def authorize():
    return server.create_authorization_response(request.url, request.method, request.form, request.headers)

@app.route('/token', methods=['POST'])
def token():
    return server.create_token_response(request.url, request.method, request.form, request.headers)

if __name__ == '__main__':
    app.run()</pre></div><div class='content'></div><h2>Configuració del Client</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhlbXBsZSBlbiBKYXZhU2NyaXB0IHBlciBvYnRlbmlyIHVuIHRva2VuIGQnYWNjw6lzCmNvbnN0IGNsaWVudElkID0gJ3lvdXJfY2xpZW50X2lkJzsKY29uc3QgcmVkaXJlY3RVcmkgPSAnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2NhbGxiYWNrJzsKY29uc3QgYXV0aEVuZHBvaW50ID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hdXRob3JpemUnOwoKZnVuY3Rpb24gZ2V0QXV0aENvZGUoKSB7CiAgICBjb25zdCBhdXRoVXJsID0gYCR7YXV0aEVuZHBvaW50fT9yZXNwb25zZV90eXBlPWNvZGUmY2xpZW50X2lkPSR7Y2xpZW50SWR9JnJlZGlyZWN0X3VyaT0ke3JlZGlyZWN0VXJpfWA7CiAgICB3aW5kb3cubG9jYXRpb24gPSBhdXRoVXJsOwp9CgpmdW5jdGlvbiBnZXRUb2tlbihhdXRoQ29kZSkgewogICAgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC90b2tlbicsIHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogICAgICAgIH0sCiAgICAgICAgYm9keTogYGdyYW50X3R5cGU9YXV0aG9yaXphdGlvbl9jb2RlJmNvZGU9JHthdXRoQ29kZX0mcmVkaXJlY3RfdXJpPSR7cmVkaXJlY3RVcml9JmNsaWVudF9pZD0ke2NsaWVudElkfWAKICAgIH0pCiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAudGhlbihkYXRhID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnQWNjZXNzIFRva2VuOicsIGRhdGEuYWNjZXNzX3Rva2VuKTsKICAgIH0pOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Exemple en JavaScript per obtenir un token d'acc&eacute;s
const clientId = 'your_client_id';
const redirectUri = 'http://localhost:5000/callback';
const authEndpoint = 'http://localhost:5000/authorize';

function getAuthCode() {
    const authUrl = `${authEndpoint}?response_type=code&amp;client_id=${clientId}&amp;redirect_uri=${redirectUri}`;
    window.location = authUrl;
}

function getToken(authCode) {
    fetch('http://localhost:5000/token', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
        },
        body: `grant_type=authorization_code&amp;code=${authCode}&amp;redirect_uri=${redirectUri}&amp;client_id=${clientId}`
    })
    .then(response =&gt; response.json())
    .then(data =&gt; {
        console.log('Access Token:', data.access_token);
    });
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>OAuth 2.0 és un protocol robust i flexible que permet a les aplicacions obtenir accés limitat als recursos d'un usuari de manera segura. Comprendre els diferents fluxos d'autorització i com implementar-los és crucial per desenvolupar aplicacions que interactuïn amb serveis de tercers de manera segura i eficient.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
