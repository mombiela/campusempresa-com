<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integració contínua i desplegament</title>

    <link rel="alternate" href="https://campusempresa.com/es/rest_api/integracion-continua-y-despliegue" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/rest_api/integracion-continua-y-despliegue" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/rest_api/integracion-continua-y-despliegue" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/rest_api/integracion-continua-y-despliegue" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='frameworks-populares'>&#x25C4;Frameworks populars (Express, Flask, Spring Boot)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Integració contínua i desplegament</a>
	</div>
	<div class='col-4 text-end'>
					<a href='definicion-del-proyecto'>Definició del projecte &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>La integració contínua (CI) i el desplegament continu (CD) són pràctiques essencials en el desenvolupament modern de programari, especialment quan es treballa amb APIs REST. Aquestes pràctiques permeten als equips de desenvolupament lliurar canvis de codi de manera més ràpida i segura, assegurant que el programari estigui sempre en un estat desplegable.</p>
</div><h1>Conceptes clau</h1>
<div class='content'><ul>
<li><strong>Integració contínua (CI)</strong>: Procés d'automatització que permet als desenvolupadors integrar canvis de codi en un repositori compartit diverses vegades al dia. Cada integració és verificada per una build automatitzada i proves per detectar errors el més aviat possible.</li>
<li><strong>Desplegament continu (CD)</strong>: Extensió de la CI que automatitza el lliurament de canvis de codi a un entorn de producció. Això assegura que el programari pugui ser desplegat en qualsevol moment amb un mínim d'intervenció manual.</li>
</ul>
</div><h1>Eines populars</h1>
<div class='content'><ul>
<li><strong>Jenkins</strong>: Una eina d'automatització de codi obert que facilita la CI/CD.</li>
<li><strong>GitLab CI/CD</strong>: Integrat en GitLab, permet la integració i el desplegament continu directament des del repositori.</li>
<li><strong>CircleCI</strong>: Plataforma de CI/CD que s'integra amb GitHub i Bitbucket.</li>
<li><strong>Travis CI</strong>: Servei de CI/CD que s'integra principalment amb GitHub.</li>
</ul>
</div><h1>Configuració bàsica de CI/CD per a una REST API</h1>
<div class='content'></div><h2>Pas 1: Configuració del repositori</h2>
<div class='content'><ol>
<li><strong>Estructura del projecte</strong>: Assegura't que el teu projecte tingui una estructura clara i organitzada.</li>
<li><strong>Arxiu de configuració</strong>: Crea un arxiu de configuració per a la teva eina de CI/CD. Per exemple, per a GitLab CI/CD, crea un arxiu <code>.gitlab-ci.yml</code> a l'arrel del teu projecte.</li>
</ol>
</div><h2>Pas 2: Definició del pipeline</h2>
<div class='content'><p>Un pipeline de CI/CD típic per a una REST API pot incloure les següents etapes:</p>
<ul>
<li><strong>Build</strong>: Compilació del codi.</li>
<li><strong>Test</strong>: Execució de proves unitàries i d'integració.</li>
<li><strong>Deploy</strong>: Desplegament del codi en un entorn de staging o producció.</li>
</ul>
<p>Exemple d'un arxiu <code>.gitlab-ci.yml</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RhZ2VzOgogIC0gYnVpbGQKICAtIHRlc3QKICAtIGRlcGxveQoKYnVpbGQ6CiAgc3RhZ2U6IGJ1aWxkCiAgc2NyaXB0OgogICAgLSBlY2hvICJCdWlsZGluZyB0aGUgcHJvamVjdC4uLiIKICAgIC0gbnBtIGluc3RhbGwKCnRlc3Q6CiAgc3RhZ2U6IHRlc3QKICBzY3JpcHQ6CiAgICAtIGVjaG8gIlJ1bm5pbmcgdGVzdHMuLi4iCiAgICAtIG5wbSB0ZXN0CgpkZXBsb3k6CiAgc3RhZ2U6IGRlcGxveQogIHNjcmlwdDoKICAgIC0gZWNobyAiRGVwbG95aW5nIHRvIHByb2R1Y3Rpb24uLi4iCiAgICAtIG5wbSBydW4gZGVwbG95CiAgb25seToKICAgIC0gbWFzdGVy"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>stages:
  - build
  - test
  - deploy

build:
  stage: build
  script:
    - echo &quot;Building the project...&quot;
    - npm install

test:
  stage: test
  script:
    - echo &quot;Running tests...&quot;
    - npm test

deploy:
  stage: deploy
  script:
    - echo &quot;Deploying to production...&quot;
    - npm run deploy
  only:
    - master</pre></div><div class='content'></div><h2>Pas 3: Automatització de proves</h2>
<div class='content'><p>És crucial que les proves s'executin automàticament en cada integració per assegurar la qualitat del codi. Assegura't d'incloure proves unitàries i d'integració.</p>
<p>Exemple de proves unitàries en Node.js amb Mocha:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpOwpjb25zdCBhcHAgPSByZXF1aXJlKCcuLi9hcHAnKTsKCmRlc2NyaWJlKCdHRVQgL2FwaS92MS9yZXNvdXJjZScsIGZ1bmN0aW9uKCkgewogIGl0KCdyZXNwb25kcyB3aXRoIGpzb24nLCBmdW5jdGlvbihkb25lKSB7CiAgICByZXF1ZXN0KGFwcCkKICAgICAgLmdldCgnL2FwaS92MS9yZXNvdXJjZScpCiAgICAgIC5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJykKICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKQogICAgICAuZXhwZWN0KDIwMCwgZG9uZSk7CiAgfSk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const request = require('supertest');
const app = require('../app');

describe('GET /api/v1/resource', function() {
  it('responds with json', function(done) {
    request(app)
      .get('/api/v1/resource')
      .set('Accept', 'application/json')
      .expect('Content-Type', /json/)
      .expect(200, done);
  });
});</pre></div><div class='content'></div><h2>Pas 4: Desplegament automatitzat</h2>
<div class='content'><p>Configura el teu pipeline per desplegar automàticament el codi en un entorn de staging o producció. Això pot incloure l'execució de scripts de desplegament o l'ús de serveis de desplegament com Heroku, AWS, o Docker.</p>
<p>Exemple de script de desplegament en Heroku:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyEvYmluL2Jhc2gKZ2l0IHJlbW90ZSBhZGQgaGVyb2t1IGh0dHBzOi8vZ2l0Lmhlcm9rdS5jb20veW91ci1hcHAuZ2l0CmdpdCBwdXNoIGhlcm9rdSBtYXN0ZXI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#!/bin/bash
git remote add heroku https://git.heroku.com/your-app.git
git push heroku master</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>La integració contínua i el desplegament continu són pràctiques fonamentals per al desenvolupament eficient i segur d'APIs REST. En automatitzar la integració i el desplegament, els equips poden detectar i corregir errors més ràpidament, millorar la qualitat del codi i reduir el temps de lliurament. Implementar CI/CD pot semblar complex al principi, però les eines i pràctiques descrites en aquest tema proporcionen una base sòlida per començar.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='frameworks-populares'>&#x25C4;Frameworks populars (Express, Flask, Spring Boot)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Integració contínua i desplegament</a>
	</div>
	<div class='col-4 text-end'>
					<a href='definicion-del-proyecto'>Definició del projecte &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
