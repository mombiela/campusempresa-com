<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/springboot/logging-and-log-management" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció al Registre en Spring Boot</h1>
<div class='content'><p>El registre és un aspecte crucial de qualsevol aplicació, ja que proporciona informació sobre el comportament de l'aplicació i ajuda en la depuració i el monitoratge. En Spring Boot, el registre és compatible des del primer moment i es pot configurar fàcilment per satisfer diverses necessitats.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Frameworks de Registre</strong>: Spring Boot admet diversos frameworks de registre com Logback, Log4j2 i Java Util Logging (JUL).</li>
<li><strong>Nivells de Registre</strong>: Diferents nivells de registre com <code>TRACE</code>, <code>DEBUG</code>, <code>INFO</code>, <code>WARN</code>, <code>ERROR</code> i <code>FATAL</code>.</li>
<li><strong>Configuració</strong>: Com configurar el registre en Spring Boot utilitzant <code>application.properties</code> o <code>application.yml</code>.</li>
</ul>
</div><h1>Configuració del Registre en Spring Boot</h1>
<div class='content'><p>Spring Boot utilitza Logback com a framework de registre per defecte. No obstant això, pots canviar a altres frameworks si cal.</p>
</div><h2>Registre per Defecte amb Logback</h2>
<div class='content'><p>Per defecte, Spring Boot utilitza Logback per al registre. No es requereix cap configuració addicional per al registre bàsic.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IG9yZy5zbGY0ai5Mb2dnZXI7CmltcG9ydCBvcmcuc2xmNGouTG9nZ2VyRmFjdG9yeTsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC5TcHJpbmdBcHBsaWNhdGlvbjsKaW1wb3J0IG9yZy5zcHJpbmdmcmFtZXdvcmsuYm9vdC5hdXRvY29uZmlndXJlLlNwcmluZ0Jvb3RBcHBsaWNhdGlvbjsKCkBTcHJpbmdCb290QXBwbGljYXRpb24KcHVibGljIGNsYXNzIExvZ2dpbmdBcHBsaWNhdGlvbiB7CiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBMb2dnZXIgbG9nZ2VyID0gTG9nZ2VyRmFjdG9yeS5nZXRMb2dnZXIoTG9nZ2luZ0FwcGxpY2F0aW9uLmNsYXNzKTsKCiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7CiAgICAgICAgU3ByaW5nQXBwbGljYXRpb24ucnVuKExvZ2dpbmdBcHBsaWNhdGlvbi5jbGFzcywgYXJncyk7CiAgICAgICAgbG9nZ2VyLmluZm8oIkwnYXBsaWNhY2nDsyBoYSBjb21lbsOnYXQuIik7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class LoggingApplication {
    private static final Logger logger = LoggerFactory.getLogger(LoggingApplication.class);

    public static void main(String[] args) {
        SpringApplication.run(LoggingApplication.class, args);
        logger.info(&quot;L'aplicaci&oacute; ha comen&ccedil;at.&quot;);
    }
}</pre></div><div class='content'></div><h2>Configuració dels Nivells de Registre</h2>
<div class='content'><p>Pots configurar els nivells de registre en el fitxer <code>application.properties</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9nZ2luZy5sZXZlbC5yb290PUlORk8KbG9nZ2luZy5sZXZlbC5jb20uZXhhbXBsZT1ERUJVRw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>logging.level.root=INFO
logging.level.com.example=DEBUG</pre></div><div class='content'><p>Aquesta configuració estableix el nivell de registre arrel a <code>INFO</code> i el nivell de registre per al paquet <code>com.example</code> a <code>DEBUG</code>.</p>
</div><h1>Configuració Avançada del Registre</h1>
<div class='content'><p>Per a configuracions de registre més avançades, pots utilitzar un fitxer <code>logback-spring.xml</code>.</p>
</div><h2>Exemple de `logback-spring.xml`</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGNvbmZpZ3VyYXRpb24+CiAgICA8YXBwZW5kZXIgbmFtZT0iY29uc29sZSIgY2xhc3M9ImNoLnFvcy5sb2diYWNrLmNvcmUuQ29uc29sZUFwcGVuZGVyIj4KICAgICAgICA8ZW5jb2Rlcj4KICAgICAgICAgICAgPHBhdHRlcm4+JWR7eXl5eS1NTS1kZCBISDptbTpzc30gLSAlbXNnJW48L3BhdHRlcm4+CiAgICAgICAgPC9lbmNvZGVyPgogICAgPC9hcHBlbmRlcj4KCiAgICA8bG9nZ2VyIG5hbWU9ImNvbS5leGFtcGxlIiBsZXZlbD0iREVCVUciIGFkZGl0aXZpdHk9ImZhbHNlIj4KICAgICAgICA8YXBwZW5kZXItcmVmIHJlZj0iY29uc29sZSIgLz4KICAgIDwvbG9nZ2VyPgoKICAgIDxyb290IGxldmVsPSJJTkZPIj4KICAgICAgICA8YXBwZW5kZXItcmVmIHJlZj0iY29uc29sZSIgLz4KICAgIDwvcm9vdD4KPC9jb25maWd1cmF0aW9uPg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;configuration&gt;
    &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;
        &lt;encoder&gt;
            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} - %msg%n&lt;/pattern&gt;
        &lt;/encoder&gt;
    &lt;/appender&gt;

    &lt;logger name=&quot;com.example&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;
        &lt;appender-ref ref=&quot;console&quot; /&gt;
    &lt;/logger&gt;

    &lt;root level=&quot;INFO&quot;&gt;
        &lt;appender-ref ref=&quot;console&quot; /&gt;
    &lt;/root&gt;
&lt;/configuration&gt;</pre></div><div class='content'></div><h2>Canvi a Log4j2</h2>
<div class='content'><p>Per canviar a Log4j2, has d'excloure Logback i incloure les dependències de Log4j2 en el teu <code>pom.xml</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLWxvZzRqMjwvYXJ0aWZhY3RJZD4KPC9kZXBlbmRlbmN5Pg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;
&lt;/dependency&gt;</pre></div><div class='content'><p>Elimina la dependència per defecte de Logback:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRlcGVuZGVuY3k+CiAgICA8Z3JvdXBJZD5vcmcuc3ByaW5nZnJhbWV3b3JrLmJvb3Q8L2dyb3VwSWQ+CiAgICA8YXJ0aWZhY3RJZD5zcHJpbmctYm9vdC1zdGFydGVyLWxvZ2dpbmc8L2FydGlmYWN0SWQ+CiAgICA8c2NvcGU+cnVudGltZTwvc2NvcGU+CiAgICA8ZXhjbHVzaW9ucz4KICAgICAgICA8ZXhjbHVzaW9uPgogICAgICAgICAgICA8Z3JvdXBJZD5jaC5xb3MubG9nYmFjazwvZ3JvdXBJZD4KICAgICAgICAgICAgPGFydGlmYWN0SWQ+bG9nYmFjay1jbGFzc2ljPC9hcnRpZmFjdElkPgogICAgICAgIDwvZXhjbHVzaW9uPgogICAgPC9leGNsdXNpb25zPgo8L2RlcGVuZGVuY3k+"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
    &lt;exclusions&gt;
        &lt;exclusion&gt;
            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
        &lt;/exclusion&gt;
    &lt;/exclusions&gt;
&lt;/dependency&gt;</pre></div><div class='content'></div><h1>Gestió de Registres</h1>
<div class='content'><p>Gestionar els registres de manera efectiva és essencial per mantenir la salut i el rendiment de l'aplicació.</p>
</div><h2>Eines Externes de Gestió de Registres</h2>
<div class='content'><ul>
<li><strong>ELK Stack</strong>: Elasticsearch, Logstash i Kibana per a l'agregació, processament i visualització de registres.</li>
<li><strong>Graylog</strong>: Una altra eina popular de gestió de registres que proporciona capacitats potents de consulta i alerta.</li>
</ul>
</div><h2>Integració amb ELK Stack</h2>
<div class='content'><p>Per integrar Spring Boot amb l'ELK stack, pots utilitzar Logstash per recollir i enviar registres a Elasticsearch.</p>
<h4>Exemple de Configuració de Logstash</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW5wdXQgewogICAgZmlsZSB7CiAgICAgICAgcGF0aCA9PiAiL3BhdGgvdG8veW91ci9sb2dmaWxlLmxvZyIKICAgICAgICBzdGFydF9wb3NpdGlvbiA9PiAiYmVnaW5uaW5nIgogICAgfQp9CgpvdXRwdXQgewogICAgZWxhc3RpY3NlYXJjaCB7CiAgICAgICAgaG9zdHMgPT4gWyJsb2NhbGhvc3Q6OTIwMCJdCiAgICAgICAgaW5kZXggPT4gInNwcmluZy1ib290LWxvZ3MiCiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>input {
    file {
        path =&gt; &quot;/path/to/your/logfile.log&quot;
        start_position =&gt; &quot;beginning&quot;
    }
}

output {
    elasticsearch {
        hosts =&gt; [&quot;localhost:9200&quot;]
        index =&gt; &quot;spring-boot-logs&quot;
    }
}</pre></div><div class='content'></div><h2>Monitoratge i Alertes</h2>
<div class='content'><p>Configura el monitoratge i les alertes per rebre notificacions sobre problemes crítics.</p>
<ul>
<li><strong>Prometheus i Grafana</strong>: Utilitza aquestes eines per monitorar les mètriques de registre i configurar alertes.</li>
<li><strong>Alertes en ELK</strong>: Utilitza les funcions d'alerta de Kibana per notificar-te sobre patrons específics de registre.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>El registre i la gestió de registres són vitals per entendre i mantenir la teva aplicació Spring Boot. Configurant el registre correctament i integrant-lo amb eines externes de gestió de registres, pots assegurar-te que la teva aplicació es monitoritzi de manera efectiva i que els problemes es resolguin ràpidament.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
