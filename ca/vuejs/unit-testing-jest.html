<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves Unitàries amb Jest</title>

    <link rel="alternate" href="https://campusempresa.com/es/vuejs/unit-testing-jest" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/vuejs/unit-testing-jest" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/vuejs/unit-testing-jest" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/vuejs/unit-testing-jest" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-testing'>&#x25C4;Introducció a les proves</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Proves Unitàries amb Jest</a>
	</div>
	<div class='col-4 text-end'>
					<a href='component-testing-vue-test-utils'>Proves de components amb Vue Test Utils &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció a les Proves Unitàries</h1>
<div class='content'><p>Les proves unitàries són un mètode de prova de programari on es proven unitats o components individuals d'un programari. L'objectiu és validar que cada unitat del programari funcioni com s'espera.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Unitat</strong>: La part més petita testable de qualsevol programari.</li>
<li><strong>Cas de Prova</strong>: Un conjunt de condicions o variables sota les quals un provador determinarà si una unitat de programari funciona com s'espera.</li>
<li><strong>Suite de Proves</strong>: Una col·lecció de casos de prova.</li>
<li><strong>Mocking</strong>: Crear una versió falsa d'una funció o mòdul per aïllar la unitat que s'està provant.</li>
</ul>
</div><h1>Per què Utilitzar Jest per a les Proves Unitàries en Vue.js?</h1>
<div class='content'><p>Jest és un marc de proves de JavaScript encantador amb un enfocament en la simplicitat. Funciona perfectament amb Vue.js, proporcionant un entorn robust per provar components Vue.</p>
</div><h2>Característiques Clau de Jest</h2>
<div class='content'><ul>
<li><strong>Zero Configuració</strong>: Funciona fora de la caixa per a la majoria de projectes de JavaScript.</li>
<li><strong>Proves de Snapshot</strong>: Captura la sortida renderitzada d'un component i la compara amb un fitxer de snapshot de referència.</li>
<li><strong>Mocking</strong>: Suport integrat per a fer mocks de funcions i mòduls.</li>
<li><strong>Cobertura de Codi</strong>: Proporciona informes detallats de cobertura de codi.</li>
</ul>
</div><h1>Configuració de Jest en un Projecte Vue.js</h1>
<div class='content'><p>Per començar amb Jest en un projecte Vue.js, cal instal·lar les dependències necessàries i configurar Jest.</p>
</div><h2>Instal·lació</h2>
<div class='content'><p>Primer, instal·la Jest i Vue Test Utils:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLS1zYXZlLWRldiBqZXN0IEB2dWUvdGVzdC11dGlscw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install --save-dev jest @vue/test-utils</pre></div><div class='content'></div><h2>Configuració</h2>
<div class='content'><p>Crea un fitxer <code>jest.config.js</code> a l'arrel del teu projecte:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9kdWxlLmV4cG9ydHMgPSB7CiAgcHJlc2V0OiAnQHZ1ZS9jbGktcGx1Z2luLXVuaXQtamVzdC9wcmVzZXRzL25vLWJhYmVsJywKICB0ZXN0TWF0Y2g6IFsnKiovX190ZXN0c19fLyoqLyouc3BlYy5banRdcz8oeCknXSwKfTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>module.exports = {
  preset: '@vue/cli-plugin-unit-jest/presets/no-babel',
  testMatch: ['**/__tests__/**/*.spec.[jt]s?(x)'],
};</pre></div><div class='content'></div><h1>Escriure la Teva Primera Prova</h1>
<div class='content'><p>Escrivim una prova unitària simple per a un component Vue.</p>
</div><h2>Component d'Exemple</h2>
<div class='content'><p>Considera un component simple <code>HelloWorld.vue</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PHRlbXBsYXRlPgogIDxkaXY+CiAgICA8cD57eyBtZXNzYWdlIH19PC9wPgogIDwvZGl2Pgo8L3RlbXBsYXRlPgoKPHNjcmlwdD4KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIZWxsb1dvcmxkJywKICBwcm9wczogewogICAgbWVzc2FnZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfQp9Cjwvc2NyaXB0Pg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;{{ message }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'HelloWorld',
  props: {
    message: {
      type: String,
      required: true
    }
  }
}
&lt;/script&gt;</pre></div><div class='content'></div><h2>Cas de Prova</h2>
<div class='content'><p>Crea un fitxer de prova <code>HelloWorld.spec.js</code> al directori <code>__tests__</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgc2hhbGxvd01vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IEhlbGxvV29ybGQgZnJvbSAnQC9jb21wb25lbnRzL0hlbGxvV29ybGQudnVlJzsKCmRlc2NyaWJlKCdIZWxsb1dvcmxkLnZ1ZScsICgpID0+IHsKICBpdCgncmVuZGVycyBwcm9wcy5tZXNzYWdlIHdoZW4gcGFzc2VkJywgKCkgPT4gewogICAgY29uc3QgbWVzc2FnZSA9ICdIZWxsbywgSmVzdCEnOwogICAgY29uc3Qgd3JhcHBlciA9IHNoYWxsb3dNb3VudChIZWxsb1dvcmxkLCB7CiAgICAgIHByb3BzRGF0YTogeyBtZXNzYWdlIH0KICAgIH0pOwogICAgZXhwZWN0KHdyYXBwZXIudGV4dCgpKS50b01hdGNoKG1lc3NhZ2UpOwogIH0pOwp9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { shallowMount } from '@vue/test-utils';
import HelloWorld from '@/components/HelloWorld.vue';

describe('HelloWorld.vue', () =&gt; {
  it('renders props.message when passed', () =&gt; {
    const message = 'Hello, Jest!';
    const wrapper = shallowMount(HelloWorld, {
      propsData: { message }
    });
    expect(wrapper.text()).toMatch(message);
  });
});</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>shallowMount</strong>: Crea un embolcall superficial per al component, el que significa que només renderitza el component en si mateix sense renderitzar components fills.</li>
<li><strong>propsData</strong>: Passa props al component.</li>
<li><strong>expect</strong>: Funció d'assert de Jest per comprovar si el text del component coincideix amb el missatge passat.</li>
</ul>
</div><h1>Tècniques Avançades de Prova</h1>
<div class='content'><p>A mesura que et familiaritzis amb Jest, pots explorar tècniques de prova més avançades.</p>
</div><h2>Mocking de Dependències</h2>
<div class='content'><p>De vegades, els components depenen de mòduls o serveis externs. Jest et permet fer mocks d'aquestes dependències.</p>
<h4>Exemple</h4>
<p>Suposa que el teu component utilitza un servei per obtenir dades:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGF0YUZldGNoZXInLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBudWxsCiAgICB9OwogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCcvYXBpL2RhdGEnKTsKICAgIHRoaXMuZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import axios from 'axios';

export default {
  name: 'DataFetcher',
  data() {
    return {
      data: null
    };
  },
  async created() {
    const response = await axios.get('/api/data');
    this.data = response.data;
  }
}</pre></div><div class='content'><h4>Mocking d'Axios</h4>
<p>Al teu fitxer de prova, pots fer un mock del mòdul axios:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgc2hhbGxvd01vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IERhdGFGZXRjaGVyIGZyb20gJ0AvY29tcG9uZW50cy9EYXRhRmV0Y2hlci52dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKamVzdC5tb2NrKCdheGlvcycpOwoKZGVzY3JpYmUoJ0RhdGFGZXRjaGVyLnZ1ZScsICgpID0+IHsKICBpdCgnZmV0Y2hlcyBkYXRhIG9uIGNyZWF0ZWQnLCBhc3luYyAoKSA9PiB7CiAgICBjb25zdCBkYXRhID0geyBkYXRhOiAnbW9ja2VkIGRhdGEnIH07CiAgICBheGlvcy5nZXQubW9ja1Jlc29sdmVkVmFsdWUoZGF0YSk7CgogICAgY29uc3Qgd3JhcHBlciA9IHNoYWxsb3dNb3VudChEYXRhRmV0Y2hlcik7CiAgICBhd2FpdCB3cmFwcGVyLnZtLiRuZXh0VGljaygpOwoKICAgIGV4cGVjdCh3cmFwcGVyLnZtLmRhdGEpLnRvQmUoJ21vY2tlZCBkYXRhJyk7CiAgfSk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { shallowMount } from '@vue/test-utils';
import DataFetcher from '@/components/DataFetcher.vue';
import axios from 'axios';

jest.mock('axios');

describe('DataFetcher.vue', () =&gt; {
  it('fetches data on created', async () =&gt; {
    const data = { data: 'mocked data' };
    axios.get.mockResolvedValue(data);

    const wrapper = shallowMount(DataFetcher);
    await wrapper.vm.$nextTick();

    expect(wrapper.vm.data).toBe('mocked data');
  });
});</pre></div><div class='content'></div><h2>Proves de Snapshot</h2>
<div class='content'><p>Les proves de snapshot són útils per assegurar-se que la interfície d'usuari no canviï inesperadament.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgc2hhbGxvd01vdW50IH0gZnJvbSAnQHZ1ZS90ZXN0LXV0aWxzJzsKaW1wb3J0IEhlbGxvV29ybGQgZnJvbSAnQC9jb21wb25lbnRzL0hlbGxvV29ybGQudnVlJzsKCmRlc2NyaWJlKCdIZWxsb1dvcmxkLnZ1ZScsICgpID0+IHsKICBpdCgnbWF0Y2hlcyBzbmFwc2hvdCcsICgpID0+IHsKICAgIGNvbnN0IHdyYXBwZXIgPSBzaGFsbG93TW91bnQoSGVsbG9Xb3JsZCwgewogICAgICBwcm9wc0RhdGE6IHsgbWVzc2FnZTogJ0hlbGxvLCBKZXN0IScgfQogICAgfSk7CiAgICBleHBlY3Qod3JhcHBlci5odG1sKCkpLnRvTWF0Y2hTbmFwc2hvdCgpOwogIH0pOwp9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { shallowMount } from '@vue/test-utils';
import HelloWorld from '@/components/HelloWorld.vue';

describe('HelloWorld.vue', () =&gt; {
  it('matches snapshot', () =&gt; {
    const wrapper = shallowMount(HelloWorld, {
      propsData: { message: 'Hello, Jest!' }
    });
    expect(wrapper.html()).toMatchSnapshot();
  });
});</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Les proves unitàries amb Jest en un projecte Vue.js asseguren que els teus components funcionin com s'espera i ajuden a prevenir regressions. Començant amb proves simples i incorporant gradualment tècniques més avançades com el mocking i les proves de snapshot, pots construir una suite de proves robusta que millori la fiabilitat de la teva aplicació.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-testing'>&#x25C4;Introducció a les proves</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Proves Unitàries amb Jest</a>
	</div>
	<div class='col-4 text-end'>
					<a href='component-testing-vue-test-utils'>Proves de components amb Vue Test Utils &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
