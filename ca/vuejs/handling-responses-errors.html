<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestió de Respostes i Errors</title>

    <link rel="alternate" href="https://campusempresa.com/es/vuejs/handling-responses-errors" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/vuejs/handling-responses-errors" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/vuejs/handling-responses-errors" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/vuejs/handling-responses-errors" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='making-http-requests'>&#x25C4;Realitzant sol·licituds HTTP</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Gestió de Respostes i Errors</a>
	</div>
	<div class='col-4 text-end'>
					<a href='interceptors'>Interceptors &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La gestió de respostes i errors és un aspecte crucial per construir aplicacions robustes en Vue.js. Aquest tema et guiarà a través del procés de gestionar respostes d'API i manejar errors de manera efectiva, des de nivells bàsics fins a avançats.</p>
</div><h1>Comprensió de les Respostes d'API</h1>
<div class='content'><p>Quan treballes amb APIs en Vue.js, sovint necessites gestionar respostes del servidor. Això implica fer sol·licituds HTTP i processar les dades retornades.</p>
</div><h2>Fer Sol·licituds HTTP</h2>
<div class='content'><p>Per fer sol·licituds HTTP en Vue.js, pots utilitzar biblioteques com Axios o l'API Fetch. Axios és una elecció popular degut a la seva simplicitat i facilitat d'ús.</p>
<h4>Utilitzant Axios</h4>
<p>Primer, instal·la Axios en el teu projecte:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgYXhpb3M="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install axios</pre></div><div class='content'><p>Després, pots fer una sol·licitud GET de la següent manera:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzcG9uc2VEYXRhOiBudWxsLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRGF0YSgpIHsKICAgICAgYXhpb3MuZ2V0KCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhJykKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLnJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZGF0YTonLCBlcnJvcik7CiAgICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaERhdGEoKTsKICB9Cn07"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import axios from 'axios';

export default {
  data() {
    return {
      responseData: null,
    };
  },
  methods: {
    fetchData() {
      axios.get('https://api.example.com/data')
        .then(response =&gt; {
          this.responseData = response.data;
        })
        .catch(error =&gt; {
          console.error('Error fetching data:', error);
        });
    }
  },
  created() {
    this.fetchData();
  }
};</pre></div><div class='content'><ul>
<li><strong>axios.get</strong>: Fa una sol·licitud GET a l'URL especificat.</li>
<li><strong>.then(response =&gt; { ... })</strong>: Gestiona la resposta exitosa.</li>
<li><strong>.catch(error =&gt; { ... })</strong>: Gestiona qualsevol error que es produeixi durant la sol·licitud.</li>
</ul>
</div><h1>Gestió d'Errors</h1>
<div class='content'><p>Una gestió adequada dels errors assegura que la teva aplicació pugui manejar situacions inesperades de manera elegant.</p>
</div><h2>Gestió Bàsica d'Errors</h2>
<div class='content'><p>En l'exemple anterior, el bloc <code>.catch</code> s'utilitza per capturar i registrar errors. També pots mostrar missatges d'error als usuaris:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXNwb25zZURhdGE6IG51bGwsCiAgICAgIGVycm9yTWVzc2FnZTogbnVsbCwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGEoKSB7CiAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5yZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJ0ZhaWxlZCB0byBsb2FkIGRhdGEuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJzsKICAgICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoRGF0YSgpOwogIH0KfTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>export default {
  data() {
    return {
      responseData: null,
      errorMessage: null,
    };
  },
  methods: {
    fetchData() {
      axios.get('https://api.example.com/data')
        .then(response =&gt; {
          this.responseData = response.data;
        })
        .catch(error =&gt; {
          this.errorMessage = 'Failed to load data. Please try again later.';
        });
    }
  },
  created() {
    this.fetchData();
  }
};</pre></div><div class='content'></div><h2>Gestió Avançada d'Errors</h2>
<div class='content'><p>Per a una gestió més avançada d'errors, potser voldràs diferenciar entre diferents tipus d'errors (per exemple, errors de xarxa, errors del servidor, errors del client).</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXNwb25zZURhdGE6IG51bGwsCiAgICAgIGVycm9yTWVzc2FnZTogbnVsbCwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGEoKSB7CiAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5yZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAvLyBFbCBzZXJ2aWRvciB2YSByZXNwb25kcmUgYW1iIHVuIGVzdGF0IGRpZmVyZW50IGRlIDIwMAogICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGBTZXJ2ZXIgRXJyb3I6ICR7ZXJyb3IucmVzcG9uc2Uuc3RhdHVzfWA7CiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHsKICAgICAgICAgICAgLy8gTGEgc29swrdsaWNpdHVkIGVzIHZhIGZlciBwZXLDsiBubyBlcyB2YSByZWJyZSBjYXAgcmVzcG9zdGEKICAgICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAnTmV0d29yayBFcnJvcjogTm8gcmVzcG9uc2UgcmVjZWl2ZWQnOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gVmEgcGFzc2FyIGFsZ3VuYSBhbHRyYSBjb3NhCiAgICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoRGF0YSgpOwogIH0KfTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>export default {
  data() {
    return {
      responseData: null,
      errorMessage: null,
    };
  },
  methods: {
    fetchData() {
      axios.get('https://api.example.com/data')
        .then(response =&gt; {
          this.responseData = response.data;
        })
        .catch(error =&gt; {
          if (error.response) {
            // El servidor va respondre amb un estat diferent de 200
            this.errorMessage = `Server Error: ${error.response.status}`;
          } else if (error.request) {
            // La sol&middot;licitud es va fer per&ograve; no es va rebre cap resposta
            this.errorMessage = 'Network Error: No response received';
          } else {
            // Va passar alguna altra cosa
            this.errorMessage = `Error: ${error.message}`;
          }
        });
    }
  },
  created() {
    this.fetchData();
  }
};</pre></div><div class='content'><ul>
<li><strong>error.response</strong>: Conté la resposta del servidor (si n'hi ha).</li>
<li><strong>error.request</strong>: Conté la sol·licitud que es va fer.</li>
<li><strong>error.message</strong>: Conté el missatge d'error.</li>
</ul>
</div><h1>Reintentant Sol·licituds</h1>
<div class='content'><p>De vegades, potser voldràs reintentar una sol·licitud si falla. Això pot ser útil per manejar errors transitoris.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXNwb25zZURhdGE6IG51bGwsCiAgICAgIGVycm9yTWVzc2FnZTogbnVsbCwKICAgICAgcmV0cnlDb3VudDogMCwKICAgICAgbWF4UmV0cmllczogMywKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGEoKSB7CiAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5yZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgdGhpcy5yZXRyeUNvdW50ID0gMDsgLy8gUmVzdGFibGVpeCBlbCByZWNvbXB0ZSBkZSByZWludGVudHMgZW4gY2FzIGQnw6h4aXQKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBpZiAodGhpcy5yZXRyeUNvdW50IDwgdGhpcy5tYXhSZXRyaWVzKSB7CiAgICAgICAgICAgIHRoaXMucmV0cnlDb3VudCsrOwogICAgICAgICAgICB0aGlzLmZldGNoRGF0YSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAnRmFpbGVkIHRvIGxvYWQgZGF0YSBhZnRlciBtdWx0aXBsZSBhdHRlbXB0cy4nOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfQp9Ow=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>export default {
  data() {
    return {
      responseData: null,
      errorMessage: null,
      retryCount: 0,
      maxRetries: 3,
    };
  },
  methods: {
    fetchData() {
      axios.get('https://api.example.com/data')
        .then(response =&gt; {
          this.responseData = response.data;
          this.retryCount = 0; // Restableix el recompte de reintents en cas d'&egrave;xit
        })
        .catch(error =&gt; {
          if (this.retryCount &lt; this.maxRetries) {
            this.retryCount++;
            this.fetchData();
          } else {
            this.errorMessage = 'Failed to load data after multiple attempts.';
          }
        });
    }
  },
  created() {
    this.fetchData();
  }
};</pre></div><div class='content'><ul>
<li><strong>retryCount</strong>: Manté el recompte del nombre d'intents de reintentar.</li>
<li><strong>maxRetries</strong>: Defineix el nombre màxim d'intents de reintentar.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>La gestió de respostes i errors en Vue.js és essencial per construir aplicacions fiables. Utilitzant biblioteques com Axios, pots fer sol·licituds HTTP fàcilment i gestionar les respostes. Una gestió adequada dels errors assegura que la teva aplicació pugui manejar situacions inesperades de manera elegant, proporcionant una millor experiència d'usuari. Tècniques avançades com diferenciar tipus d'errors i reintentar sol·licituds poden millorar encara més la robustesa de la teva aplicació.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='making-http-requests'>&#x25C4;Realitzant sol·licituds HTTP</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Gestió de Respostes i Errors</a>
	</div>
	<div class='col-4 text-end'>
					<a href='interceptors'>Interceptors &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
