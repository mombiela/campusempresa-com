<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuració d'un Servidor d'Integració Contínua</title>

    <link rel="alternate" href="https://campusempresa.com/es/ci_cd/configuracion-servidor-ci" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/ci_cd/configuracion-servidor-ci" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/ci_cd/configuracion-servidor-ci" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/ci_cd/configuracion-servidor-ci" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>La Integració Contínua (CI) és una pràctica de desenvolupament de programari on els desenvolupadors integren el seu codi en un repositori compartit diverses vegades al dia. Cada integració és verificada per una construcció automatitzada (incloent proves) per detectar errors el més aviat possible. En aquesta secció, aprendrem com configurar un servidor d'Integració Contínua.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Integració Contínua (CI)</strong>: Procés d'automatització que permet als desenvolupadors integrar el seu codi freqüentment en un repositori compartit.</li>
<li><strong>Servidor de CI</strong>: Eina que automatitza la construcció i prova del codi cada vegada que es realitza una integració.</li>
<li><strong>Pipeline</strong>: Seqüència de passos que el servidor de CI segueix per construir, provar i desplegar el codi.</li>
</ul>
</div><h1>Eines Populars de CI</h1>
<div class='content'><ul>
<li><strong>Jenkins</strong></li>
<li><strong>Travis CI</strong></li>
<li><strong>CircleCI</strong></li>
<li><strong>GitLab CI/CD</strong></li>
</ul>
</div><h1>Configuració de Jenkins com a Servidor de CI</h1>
<div class='content'></div><h2>Requisits Previs</h2>
<div class='content'><ul>
<li><strong>Java Development Kit (JDK)</strong> instal·lat.</li>
<li><strong>Servidor web</strong> (per exemple, Apache Tomcat) o contenidor Docker.</li>
<li><strong>Accés administratiu</strong> al servidor on s'instal·larà Jenkins.</li>
</ul>
</div><h2>Instal·lació de Jenkins</h2>
<div class='content'><ol>
<li>
<p><strong>Descarregar Jenkins</strong>:</p>
<ul>
<li>Visita la pàgina oficial de Jenkins i descarrega l'arxiu <code>.war</code> o el paquet per al teu sistema operatiu.</li>
</ul>
</li>
<li>
<p><strong>Instal·lar Jenkins</strong>:</p>
<ul>
<li>Si fas servir Docker:
<pre><code class="language-sh">docker run -p 8080:8080 -p 50000:50000 jenkins/jenkins:lts
</code></pre>
</li>
<li>Si fas servir l'arxiu <code>.war</code>:
<pre><code class="language-sh">java -jar jenkins.war
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Accedir a Jenkins</strong>:</p>
<ul>
<li>Obre un navegador web i navega a <code>http://localhost:8080</code>.</li>
<li>Segueix les instruccions en pantalla per completar la configuració inicial.</li>
</ul>
</li>
</ol>
</div><h2>Configuració Inicial</h2>
<div class='content'><ol>
<li>
<p><strong>Desbloquejar Jenkins</strong>:</p>
<ul>
<li>Durant la primera execució, Jenkins sol·licitarà una contrasenya d'administrador que es troba a l'arxiu <code>initialAdminPassword</code>.</li>
</ul>
</li>
<li>
<p><strong>Instal·lar Plugins Recomanats</strong>:</p>
<ul>
<li>Jenkins suggerirà una llista de plugins recomanats. Instal·la'ls per obtenir funcionalitats bàsiques.</li>
</ul>
</li>
<li>
<p><strong>Crear un Usuari Administrador</strong>:</p>
<ul>
<li>Configura un usuari administrador per gestionar Jenkins.</li>
</ul>
</li>
</ol>
</div><h2>Crear un Pipeline Bàsic</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Nou Projecte</strong>:</p>
<ul>
<li>Navega a &quot;New Item&quot; i selecciona &quot;Pipeline&quot;.</li>
</ul>
</li>
<li>
<p><strong>Configurar el Pipeline</strong>:</p>
<ul>
<li>A la secció &quot;Pipeline&quot;, selecciona &quot;Pipeline script&quot; i afegeix el següent script d'exemple:
<pre><code class="language-groovy">pipeline {
    agent any
    stages {
        stage('Build') {
            steps {
                echo 'Building...'
                // Aquí anirien els comandaments de construcció
            }
        }
        stage('Test') {
            steps {
                echo 'Testing...'
                // Aquí anirien els comandaments de prova
            }
        }
        stage('Deploy') {
            steps {
                echo 'Deploying...'
                // Aquí anirien els comandaments de desplegament
            }
        }
    }
}
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Guardar i Executar</strong>:</p>
<ul>
<li>Guarda la configuració i executa el pipeline per verificar que tot funcioni correctament.</li>
</ul>
</li>
</ol>
</div><h1>Exemple de Configuració de Pipeline en Jenkins</h1>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZWxpbmUgewogICAgYWdlbnQgYW55CiAgICBlbnZpcm9ubWVudCB7CiAgICAgICAgLy8gRGVmaW5pciB2YXJpYWJsZXMgZCdlbnRvcm4gc2kgw6lzIG5lY2Vzc2FyaQogICAgICAgIE5PREVfRU5WID0gJ3Byb2R1Y3Rpb24nCiAgICB9CiAgICBzdGFnZXMgewogICAgICAgIHN0YWdlKCdDaGVja291dCcpIHsKICAgICAgICAgICAgc3RlcHMgewogICAgICAgICAgICAgICAgLy8gQ2xvbmFyIGVsIHJlcG9zaXRvcmkKICAgICAgICAgICAgICAgIGdpdCAnaHR0cHM6Ly9naXRodWIuY29tL2VsLXRldS1yZXBvc2l0b3JpLmdpdCcKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnQnVpbGQnKSB7CiAgICAgICAgICAgIHN0ZXBzIHsKICAgICAgICAgICAgICAgIC8vIENvbWFuZGFtZW50cyBkZSBjb25zdHJ1Y2Npw7MKICAgICAgICAgICAgICAgIHNoICducG0gaW5zdGFsbCcKICAgICAgICAgICAgICAgIHNoICducG0gcnVuIGJ1aWxkJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YWdlKCdUZXN0JykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICAvLyBDb21hbmRhbWVudHMgZGUgcHJvdmEKICAgICAgICAgICAgICAgIHNoICducG0gdGVzdCcKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFnZSgnRGVwbG95JykgewogICAgICAgICAgICBzdGVwcyB7CiAgICAgICAgICAgICAgICAvLyBDb21hbmRhbWVudHMgZGUgZGVzcGxlZ2FtZW50CiAgICAgICAgICAgICAgICBzaCAnbnBtIHJ1biBkZXBsb3knCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBwb3N0IHsKICAgICAgICBzdWNjZXNzIHsKICAgICAgICAgICAgZWNobyAnUGlwZWxpbmUgY29tcGxldGF0IGV4aXRvc2FtZW50IScKICAgICAgICB9CiAgICAgICAgZmFpbHVyZSB7CiAgICAgICAgICAgIGVjaG8gJ1BpcGVsaW5lIGhhIGZhbGxhdC4gUmV2aXNhIGVscyBsb2dzIHBlciBhIG3DqXMgZGV0YWxscy4nCiAgICAgICAgfQogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipeline {
    agent any
    environment {
        // Definir variables d'entorn si &eacute;s necessari
        NODE_ENV = 'production'
    }
    stages {
        stage('Checkout') {
            steps {
                // Clonar el repositori
                git 'https://github.com/el-teu-repositori.git'
            }
        }
        stage('Build') {
            steps {
                // Comandaments de construcci&oacute;
                sh 'npm install'
                sh 'npm run build'
            }
        }
        stage('Test') {
            steps {
                // Comandaments de prova
                sh 'npm test'
            }
        }
        stage('Deploy') {
            steps {
                // Comandaments de desplegament
                sh 'npm run deploy'
            }
        }
    }
    post {
        success {
            echo 'Pipeline completat exitosament!'
        }
        failure {
            echo 'Pipeline ha fallat. Revisa els logs per a m&eacute;s detalls.'
        }
    }
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Configurar un servidor d'Integració Contínua com Jenkins és un pas crucial per automatitzar el procés de construcció, prova i desplegament d'aplicacions. Amb una configuració adequada, pots detectar errors ràpidament i millorar la qualitat del programari. En aquest tema, hem cobert els conceptes bàsics, la instal·lació i configuració de Jenkins, i com crear un pipeline bàsic. Practica aquests passos i adapta el pipeline a les necessitats específiques del teu projecte per obtenir els millors resultats.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
