<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Construint un Joc Simple</title>

    <link rel="alternate" href="https://campusempresa.com/es/lua/building-a-simple-game" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/lua/building-a-simple-game" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/lua/building-a-simple-game" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/lua/building-a-simple-game" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='using-lua-with-other-languages'>&#x25C4;Utilitzar Lua amb Altres Llenguatges</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Construint un Joc Simple</a>
	</div>
	<div class='col-4 text-end'>
					<a href='creating-a-web-server'>Crear un Servidor Web &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En aquest tema, et guiarem a través del procés de construir un joc simple utilitzant Lua. Això t'ajudarà a entendre els conceptes bàsics del desenvolupament de jocs, incloent bucles de joc, gestió d'esdeveniments i renderització de gràfics. Al final d'aquesta secció, tindràs un joc funcional i una base sòlida per construir jocs més complexos.</p>
</div><h1>Configurant l'Entorn</h1>
<div class='content'><p>Abans de començar a codificar, necessitem configurar el nostre entorn de desenvolupament.</p>
<ul>
<li><strong>Instal·lar Lua</strong>: Descarrega i instal·la Lua des del lloc web oficial.</li>
<li><strong>Editor de Text</strong>: Utilitza qualsevol editor de text com Visual Studio Code, Sublime Text o Notepad++.</li>
</ul>
</div><h1>Estructura Bàsica del Joc</h1>
<div class='content'><p>Un joc simple típicament consta dels següents components:</p>
<ul>
<li><strong>Inicialització</strong>: Configuració de l'entorn del joc.</li>
<li><strong>Bucle de Joc</strong>: Un bucle que s'executa contínuament per actualitzar l'estat del joc i renderitzar els gràfics.</li>
<li><strong>Gestió d'Esdeveniments</strong>: Gestió de les entrades de l'usuari i altres esdeveniments.</li>
<li><strong>Renderització</strong>: Dibuixar gràfics a la pantalla.</li>
</ul>
</div><h2>Inicialització</h2>
<div class='content'><p>Primer, anem a inicialitzar el nostre entorn de joc. Crearem una finestra bàsica utilitzant el Love2D framework, que és una opció popular per al desenvolupament de jocs amb Lua.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gbG92ZS5sb2FkKCkKICAgIGxvdmUud2luZG93LnNldFRpdGxlKCJTaW1wbGUgR2FtZSIpCiAgICBsb3ZlLndpbmRvdy5zZXRNb2RlKDgwMCwgNjAwKQplbmQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function love.load()
    love.window.setTitle(&quot;Simple Game&quot;)
    love.window.setMode(800, 600)
end</pre></div><div class='content'></div><h2>Bucle de Joc</h2>
<div class='content'><p>El bucle de joc consta de dues funcions principals: <code>love.update(dt)</code> i <code>love.draw()</code>.</p>
<ul>
<li><strong>love.update(dt)</strong>: Actualitza l'estat del joc. El paràmetre <code>dt</code> representa el temps transcorregut des de l'última actualització.</li>
<li><strong>love.draw()</strong>: Renderitza els gràfics del joc.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gbG92ZS51cGRhdGUoZHQpCiAgICAtLSBBY3R1YWxpdHphIGwnZXN0YXQgZGVsIGpvYyBhcXXDrQplbmQKCmZ1bmN0aW9uIGxvdmUuZHJhdygpCiAgICAtLSBSZW5kZXJpdHphIGVscyBncsOgZmljcyBkZWwgam9jIGFxdcOtCmVuZA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function love.update(dt)
    -- Actualitza l'estat del joc aqu&iacute;
end

function love.draw()
    -- Renderitza els gr&agrave;fics del joc aqu&iacute;
end</pre></div><div class='content'></div><h2>Gestió d'Esdeveniments</h2>
<div class='content'><p>Necessitem gestionar les entrades de l'usuari, com esdeveniments de teclat i ratolí. Love2D proporciona funcions com <code>love.keypressed</code> i <code>love.mousepressed</code> per a aquest propòsit.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gbG92ZS5rZXlwcmVzc2VkKGtleSkKICAgIGlmIGtleSA9PSAiZXNjYXBlIiB0aGVuCiAgICAgICAgbG92ZS5ldmVudC5xdWl0KCkKICAgIGVuZAplbmQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function love.keypressed(key)
    if key == &quot;escape&quot; then
        love.event.quit()
    end
end</pre></div><div class='content'></div><h1>Creant Objectes de Joc</h1>
<div class='content'><p>Anem a crear un objecte de joc simple, com un personatge jugador. Definirem les seves propietats i mètodes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGxheWVyID0gewogICAgeCA9IDQwMCwKICAgIHkgPSAzMDAsCiAgICBzcGVlZCA9IDIwMAp9CgpmdW5jdGlvbiBwbGF5ZXIudXBkYXRlKGR0KQogICAgaWYgbG92ZS5rZXlib2FyZC5pc0Rvd24oImxlZnQiKSB0aGVuCiAgICAgICAgcGxheWVyLnggPSBwbGF5ZXIueCAtIHBsYXllci5zcGVlZCAqIGR0CiAgICBlbHNlaWYgbG92ZS5rZXlib2FyZC5pc0Rvd24oInJpZ2h0IikgdGhlbgogICAgICAgIHBsYXllci54ID0gcGxheWVyLnggKyBwbGF5ZXIuc3BlZWQgKiBkdAogICAgZW5kCiAgICBpZiBsb3ZlLmtleWJvYXJkLmlzRG93bigidXAiKSB0aGVuCiAgICAgICAgcGxheWVyLnkgPSBwbGF5ZXIueSAtIHBsYXllci5zcGVlZCAqIGR0CiAgICBlbHNlaWYgbG92ZS5rZXlib2FyZC5pc0Rvd24oImRvd24iKSB0aGVuCiAgICAgICAgcGxheWVyLnkgPSBwbGF5ZXIueSArIHBsYXllci5zcGVlZCAqIGR0CiAgICBlbmQKZW5kCgpmdW5jdGlvbiBwbGF5ZXIuZHJhdygpCiAgICBsb3ZlLmdyYXBoaWNzLnJlY3RhbmdsZSgiZmlsbCIsIHBsYXllci54LCBwbGF5ZXIueSwgNTAsIDUwKQplbmQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>player = {
    x = 400,
    y = 300,
    speed = 200
}

function player.update(dt)
    if love.keyboard.isDown(&quot;left&quot;) then
        player.x = player.x - player.speed * dt
    elseif love.keyboard.isDown(&quot;right&quot;) then
        player.x = player.x + player.speed * dt
    end
    if love.keyboard.isDown(&quot;up&quot;) then
        player.y = player.y - player.speed * dt
    elseif love.keyboard.isDown(&quot;down&quot;) then
        player.y = player.y + player.speed * dt
    end
end

function player.draw()
    love.graphics.rectangle(&quot;fill&quot;, player.x, player.y, 50, 50)
end</pre></div><div class='content'></div><h2>Integrant Objectes de Joc</h2>
<div class='content'><p>Ara, integra l'objecte jugador en el bucle de joc.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gbG92ZS51cGRhdGUoZHQpCiAgICBwbGF5ZXIudXBkYXRlKGR0KQplbmQKCmZ1bmN0aW9uIGxvdmUuZHJhdygpCiAgICBwbGF5ZXIuZHJhdygpCmVuZA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function love.update(dt)
    player.update(dt)
end

function love.draw()
    player.draw()
end</pre></div><div class='content'></div><h1>Afegint Més Funcionalitats</h1>
<div class='content'><p>Per fer el joc més interessant, afegim algunes funcionalitats addicionals.</p>
</div><h2>Detecció de Col·lisions</h2>
<div class='content'><p>Afegirem una detecció de col·lisions simple per evitar que el jugador es mogui fora dels límits de la finestra.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gcGxheWVyLnVwZGF0ZShkdCkKICAgIGlmIGxvdmUua2V5Ym9hcmQuaXNEb3duKCJsZWZ0IikgYW5kIHBsYXllci54ID4gMCB0aGVuCiAgICAgICAgcGxheWVyLnggPSBwbGF5ZXIueCAtIHBsYXllci5zcGVlZCAqIGR0CiAgICBlbHNlaWYgbG92ZS5rZXlib2FyZC5pc0Rvd24oInJpZ2h0IikgYW5kIHBsYXllci54IDwgbG92ZS5ncmFwaGljcy5nZXRXaWR0aCgpIC0gNTAgdGhlbgogICAgICAgIHBsYXllci54ID0gcGxheWVyLnggKyBwbGF5ZXIuc3BlZWQgKiBkdAogICAgZW5kCiAgICBpZiBsb3ZlLmtleWJvYXJkLmlzRG93bigidXAiKSBhbmQgcGxheWVyLnkgPiAwIHRoZW4KICAgICAgICBwbGF5ZXIueSA9IHBsYXllci55IC0gcGxheWVyLnNwZWVkICogZHQKICAgIGVsc2VpZiBsb3ZlLmtleWJvYXJkLmlzRG93bigiZG93biIpIGFuZCBwbGF5ZXIueSA8IGxvdmUuZ3JhcGhpY3MuZ2V0SGVpZ2h0KCkgLSA1MCB0aGVuCiAgICAgICAgcGxheWVyLnkgPSBwbGF5ZXIueSArIHBsYXllci5zcGVlZCAqIGR0CiAgICBlbmQKZW5k"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function player.update(dt)
    if love.keyboard.isDown(&quot;left&quot;) and player.x &gt; 0 then
        player.x = player.x - player.speed * dt
    elseif love.keyboard.isDown(&quot;right&quot;) and player.x &lt; love.graphics.getWidth() - 50 then
        player.x = player.x + player.speed * dt
    end
    if love.keyboard.isDown(&quot;up&quot;) and player.y &gt; 0 then
        player.y = player.y - player.speed * dt
    elseif love.keyboard.isDown(&quot;down&quot;) and player.y &lt; love.graphics.getHeight() - 50 then
        player.y = player.y + player.speed * dt
    end
end</pre></div><div class='content'></div><h2>Sistema de Puntuació</h2>
<div class='content'><p>Afegim un sistema de puntuació simple que incrementa la puntuació quan el jugador es mou.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2NvcmUgPSAwCgpmdW5jdGlvbiBwbGF5ZXIudXBkYXRlKGR0KQogICAgbG9jYWwgbW92ZWQgPSBmYWxzZQogICAgaWYgbG92ZS5rZXlib2FyZC5pc0Rvd24oImxlZnQiKSBhbmQgcGxheWVyLnggPiAwIHRoZW4KICAgICAgICBwbGF5ZXIueCA9IHBsYXllci54IC0gcGxheWVyLnNwZWVkICogZHQKICAgICAgICBtb3ZlZCA9IHRydWUKICAgIGVsc2VpZiBsb3ZlLmtleWJvYXJkLmlzRG93bigicmlnaHQiKSBhbmQgcGxheWVyLnggPCBsb3ZlLmdyYXBoaWNzLmdldFdpZHRoKCkgLSA1MCB0aGVuCiAgICAgICAgcGxheWVyLnggPSBwbGF5ZXIueCArIHBsYXllci5zcGVlZCAqIGR0CiAgICAgICAgbW92ZWQgPSB0cnVlCiAgICBlbmQKICAgIGlmIGxvdmUua2V5Ym9hcmQuaXNEb3duKCJ1cCIpIGFuZCBwbGF5ZXIueSA+IDAgdGhlbgogICAgICAgIHBsYXllci55ID0gcGxheWVyLnkgLSBwbGF5ZXIuc3BlZWQgKiBkdAogICAgICAgIG1vdmVkID0gdHJ1ZQogICAgZWxzZWlmIGxvdmUua2V5Ym9hcmQuaXNEb3duKCJkb3duIikgYW5kIHBsYXllci55IDwgbG92ZS5ncmFwaGljcy5nZXRIZWlnaHQoKSAtIDUwIHRoZW4KICAgICAgICBwbGF5ZXIueSA9IHBsYXllci55ICsgcGxheWVyLnNwZWVkICogZHQKICAgICAgICBtb3ZlZCA9IHRydWUKICAgIGVuZAoKICAgIGlmIG1vdmVkIHRoZW4KICAgICAgICBzY29yZSA9IHNjb3JlICsgMQogICAgZW5kCmVuZAoKZnVuY3Rpb24gbG92ZS5kcmF3KCkKICAgIHBsYXllci5kcmF3KCkKICAgIGxvdmUuZ3JhcGhpY3MucHJpbnQoIlB1bnR1YWNpw7M6ICIgLi4gc2NvcmUsIDEwLCAxMCkKZW5k"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>score = 0

function player.update(dt)
    local moved = false
    if love.keyboard.isDown(&quot;left&quot;) and player.x &gt; 0 then
        player.x = player.x - player.speed * dt
        moved = true
    elseif love.keyboard.isDown(&quot;right&quot;) and player.x &lt; love.graphics.getWidth() - 50 then
        player.x = player.x + player.speed * dt
        moved = true
    end
    if love.keyboard.isDown(&quot;up&quot;) and player.y &gt; 0 then
        player.y = player.y - player.speed * dt
        moved = true
    elseif love.keyboard.isDown(&quot;down&quot;) and player.y &lt; love.graphics.getHeight() - 50 then
        player.y = player.y + player.speed * dt
        moved = true
    end

    if moved then
        score = score + 1
    end
end

function love.draw()
    player.draw()
    love.graphics.print(&quot;Puntuaci&oacute;: &quot; .. score, 10, 10)
end</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquest tema, hem cobert els conceptes bàsics de construir un joc simple utilitzant Lua i el framework Love2D. Hem après a configurar l'entorn del joc, crear un bucle de joc, gestionar esdeveniments i renderitzar gràfics. També hem afegit funcionalitats com la detecció de col·lisions i un sistema de puntuació. Amb aquests fonaments, pots començar a crear jocs més complexos i atractius. Feliç codificació!</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='using-lua-with-other-languages'>&#x25C4;Utilitzar Lua amb Altres Llenguatges</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Construint un Joc Simple</a>
	</div>
	<div class='col-4 text-end'>
					<a href='creating-a-web-server'>Crear un Servidor Web &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
