<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creació de Classes i Objectes en Lua</title>

    <link rel="alternate" href="https://campusempresa.com/es/lua/creating-classes-and-objects" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/lua/creating-classes-and-objects" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/lua/creating-classes-and-objects" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/lua/creating-classes-and-objects" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-oop'>&#x25C4;Introducció a la POO</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creació de Classes i Objectes en Lua</a>
	</div>
	<div class='col-4 text-end'>
					<a href='inheritance'>Herència &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció a la Programació Orientada a Objectes en Lua</h1>
<div class='content'><p>La programació orientada a objectes (OOP) és un paradigma de programació que utilitza &quot;objectes&quot; per dissenyar aplicacions i programes informàtics. Lua, tot i no ser un llenguatge purament orientat a objectes, proporciona mecanismes per implementar conceptes de OOP.</p>
<ul>
<li><strong>Classe</strong>: Un plànol per crear objectes (instàncies).</li>
<li><strong>Objecte</strong>: Una instància d'una classe.</li>
<li><strong>Mètode</strong>: Una funció que opera sobre un objecte.</li>
</ul>
</div><h1>Definició d'una Classe Bàsica en Lua</h1>
<div class='content'><p>En Lua, les classes es poden crear utilitzant taules i metataules. Aquí tens una guia pas a pas per crear una classe bàsica.</p>
</div><h2>Creació d'una Classe</h2>
<div class='content'><ol>
<li><strong>Defineix una taula per representar la classe.</strong></li>
<li><strong>Defineix una funció constructora per inicialitzar objectes.</strong></li>
<li><strong>Estableix la metataula per a la classe per suportar la herència.</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRGVmaW5laXggdW5hIGNsYXNzZSBhbm9tZW5hZGEgJ1BlcnNvbicKUGVyc29uID0ge30KUGVyc29uLl9faW5kZXggPSBQZXJzb24KCi0tIENvbnN0cnVjdG9yIHBlciBhIGxhIGNsYXNzZSBQZXJzb24KZnVuY3Rpb24gUGVyc29uOm5ldyhuYW1lLCBhZ2UpCiAgICBsb2NhbCBpbnN0YW5jZSA9IHNldG1ldGF0YWJsZSh7fSwgUGVyc29uKQogICAgaW5zdGFuY2UubmFtZSA9IG5hbWUKICAgIGluc3RhbmNlLmFnZSA9IGFnZQogICAgcmV0dXJuIGluc3RhbmNlCmVuZAoKLS0gTcOodG9kZSBwZXIgbW9zdHJhciBlbHMgZGV0YWxscyBkZSBsYSBwZXJzb25hCmZ1bmN0aW9uIFBlcnNvbjpkaXNwbGF5KCkKICAgIHByaW50KCJOYW1lOiAiIC4uIHNlbGYubmFtZSAuLiAiLCBBZ2U6ICIgLi4gc2VsZi5hZ2UpCmVuZAoKLS0gQ3JlYSB1biBvYmplY3RlIGRlIGxhIGNsYXNzZSBQZXJzb24KbG9jYWwgcGVyc29uMSA9IFBlcnNvbjpuZXcoIkFsaWNlIiwgMzApCnBlcnNvbjE6ZGlzcGxheSgpICAtLSBTb3J0aWRhOiBOYW1lOiBBbGljZSwgQWdlOiAzMA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Defineix una classe anomenada 'Person'
Person = {}
Person.__index = Person

-- Constructor per a la classe Person
function Person:new(name, age)
    local instance = setmetatable({}, Person)
    instance.name = name
    instance.age = age
    return instance
end

-- M&egrave;tode per mostrar els detalls de la persona
function Person:display()
    print(&quot;Name: &quot; .. self.name .. &quot;, Age: &quot; .. self.age)
end

-- Crea un objecte de la classe Person
local person1 = Person:new(&quot;Alice&quot;, 30)
person1:display()  -- Sortida: Name: Alice, Age: 30</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>Person = {}</strong>: Crea una taula per representar la classe.</li>
<li><strong>Person.__index = Person</strong>: Estableix el camp <code>__index</code> de la metataula a la classe mateixa, permetent la herència.</li>
<li><strong>Person:new(name, age)</strong>: Funció constructora per inicialitzar nous objectes.</li>
<li><strong>setmetatable({}, Person)</strong>: Estableix la metataula del nou objecte a la classe, permetent les crides de mètodes.</li>
<li><strong>self</strong>: Es refereix a la instància de l'objecte dins dels mètodes.</li>
</ul>
</div><h1>Afegir Mètodes a una Classe</h1>
<div class='content'><p>Els mètodes són funcions que operen sobre instàncies de la classe. Es defineixen dins de la taula de la classe.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gQWZlZ2VpeCB1biBtw6h0b2RlIHBlciBhY3R1YWxpdHphciBsJ2VkYXQKZnVuY3Rpb24gUGVyc29uOnNldEFnZShuZXdBZ2UpCiAgICBzZWxmLmFnZSA9IG5ld0FnZQplbmQKCi0tIEFjdHVhbGl0emEgbCdlZGF0IGRlIHBlcnNvbjEKcGVyc29uMTpzZXRBZ2UoMzEpCnBlcnNvbjE6ZGlzcGxheSgpICAtLSBTb3J0aWRhOiBOYW1lOiBBbGljZSwgQWdlOiAzMQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Afegeix un m&egrave;tode per actualitzar l'edat
function Person:setAge(newAge)
    self.age = newAge
end

-- Actualitza l'edat de person1
person1:setAge(31)
person1:display()  -- Sortida: Name: Alice, Age: 31</pre></div><div class='content'></div><h1>Herència en Lua</h1>
<div class='content'><p>La herència permet que una classe hereti propietats i mètodes d'una altra classe. Això s'aconsegueix utilitzant metataules.</p>
</div><h2>Creació d'una Subclasse</h2>
<div class='content'><ol>
<li><strong>Defineix una nova taula per a la subclasse.</strong></li>
<li><strong>Estableix la metataula de la subclasse a la classe pare.</strong></li>
<li><strong>Sobreescriu o afegeix nous mètodes segons sigui necessari.</strong></li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRGVmaW5laXggdW5hIHN1YmNsYXNzZSBhbm9tZW5hZGEgJ0VtcGxveWVlJyBxdWUgaGVyZXRhIGRlICdQZXJzb24nCkVtcGxveWVlID0gc2V0bWV0YXRhYmxlKHt9LCB7X19pbmRleCA9IFBlcnNvbn0pCkVtcGxveWVlLl9faW5kZXggPSBFbXBsb3llZQoKLS0gQ29uc3RydWN0b3IgcGVyIGEgbGEgY2xhc3NlIEVtcGxveWVlCmZ1bmN0aW9uIEVtcGxveWVlOm5ldyhuYW1lLCBhZ2UsIHBvc2l0aW9uKQogICAgbG9jYWwgaW5zdGFuY2UgPSBQZXJzb24ubmV3KHNlbGYsIG5hbWUsIGFnZSkKICAgIGluc3RhbmNlLnBvc2l0aW9uID0gcG9zaXRpb24KICAgIHJldHVybiBpbnN0YW5jZQplbmQKCi0tIFNvYnJlZXNjcml1IGVsIG3DqHRvZGUgZGlzcGxheSBwZXIgaW5jbG91cmUgbGEgcG9zaWNpw7MKZnVuY3Rpb24gRW1wbG95ZWU6ZGlzcGxheSgpCiAgICBwcmludCgiTmFtZTogIiAuLiBzZWxmLm5hbWUgLi4gIiwgQWdlOiAiIC4uIHNlbGYuYWdlIC4uICIsIFBvc2l0aW9uOiAiIC4uIHNlbGYucG9zaXRpb24pCmVuZAoKLS0gQ3JlYSB1biBvYmplY3RlIGRlIGxhIGNsYXNzZSBFbXBsb3llZQpsb2NhbCBlbXBsb3llZTEgPSBFbXBsb3llZTpuZXcoIkJvYiIsIDI1LCAiRGV2ZWxvcGVyIikKZW1wbG95ZWUxOmRpc3BsYXkoKSAgLS0gU29ydGlkYTogTmFtZTogQm9iLCBBZ2U6IDI1LCBQb3NpdGlvbjogRGV2ZWxvcGVy"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Defineix una subclasse anomenada 'Employee' que hereta de 'Person'
Employee = setmetatable({}, {__index = Person})
Employee.__index = Employee

-- Constructor per a la classe Employee
function Employee:new(name, age, position)
    local instance = Person.new(self, name, age)
    instance.position = position
    return instance
end

-- Sobreescriu el m&egrave;tode display per incloure la posici&oacute;
function Employee:display()
    print(&quot;Name: &quot; .. self.name .. &quot;, Age: &quot; .. self.age .. &quot;, Position: &quot; .. self.position)
end

-- Crea un objecte de la classe Employee
local employee1 = Employee:new(&quot;Bob&quot;, 25, &quot;Developer&quot;)
employee1:display()  -- Sortida: Name: Bob, Age: 25, Position: Developer</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>Employee = setmetatable({}, {__index = Person})</strong>: Estableix la metataula de <code>Employee</code> a <code>Person</code>, permetent la herència.</li>
<li><strong>Employee:new(name, age, position)</strong>: Constructor per a la subclasse, cridant el constructor de la classe pare.</li>
<li><strong>Employee:display()</strong>: Sobreescriu el mètode <code>display</code> per incloure l'atribut <code>position</code>.</li>
</ul>
</div><h1>Temes Avançats</h1>
<h2>Membres Privats i Protegits</h2>
<div class='content'><p>Lua no té suport integrat per a membres privats o protegits, però es poden simular utilitzant variables locals i clausures.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRGVmaW5laXggdW5hIGNsYXNzZSBhbWIgbWVtYnJlcyBwcml2YXRzClBlcnNvbiA9IHt9ClBlcnNvbi5fX2luZGV4ID0gUGVyc29uCgpmdW5jdGlvbiBQZXJzb246bmV3KG5hbWUsIGFnZSkKICAgIGxvY2FsIGluc3RhbmNlID0gc2V0bWV0YXRhYmxlKHt9LCBQZXJzb24pCiAgICBsb2NhbCBwcml2YXRlQWdlID0gYWdlICAtLSBNZW1icmUgcHJpdmF0CgogICAgZnVuY3Rpb24gaW5zdGFuY2U6Z2V0QWdlKCkKICAgICAgICByZXR1cm4gcHJpdmF0ZUFnZQogICAgZW5kCgogICAgZnVuY3Rpb24gaW5zdGFuY2U6c2V0QWdlKG5ld0FnZSkKICAgICAgICBwcml2YXRlQWdlID0gbmV3QWdlCiAgICBlbmQKCiAgICBpbnN0YW5jZS5uYW1lID0gbmFtZQogICAgcmV0dXJuIGluc3RhbmNlCmVuZAoKbG9jYWwgcGVyc29uMiA9IFBlcnNvbjpuZXcoIkNoYXJsaWUiLCA0MCkKcHJpbnQocGVyc29uMjpnZXRBZ2UoKSkgIC0tIFNvcnRpZGE6IDQwCnBlcnNvbjI6c2V0QWdlKDQxKQpwcmludChwZXJzb24yOmdldEFnZSgpKSAgLS0gU29ydGlkYTogNDE="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Defineix una classe amb membres privats
Person = {}
Person.__index = Person

function Person:new(name, age)
    local instance = setmetatable({}, Person)
    local privateAge = age  -- Membre privat

    function instance:getAge()
        return privateAge
    end

    function instance:setAge(newAge)
        privateAge = newAge
    end

    instance.name = name
    return instance
end

local person2 = Person:new(&quot;Charlie&quot;, 40)
print(person2:getAge())  -- Sortida: 40
person2:setAge(41)
print(person2:getAge())  -- Sortida: 41</pre></div><div class='content'></div><h2>Polimorfisme</h2>
<div class='content'><p>El polimorfisme permet que els mètodes es puguin utilitzar de manera intercanviable entre diferents classes. Això s'aconsegueix mitjançant la sobreescriptura de mètodes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gRGVmaW5laXggdW5hIG5vdmEgY2xhc3NlICdNYW5hZ2VyJyBxdWUgaGVyZXRhIGRlICdFbXBsb3llZScKTWFuYWdlciA9IHNldG1ldGF0YWJsZSh7fSwge19faW5kZXggPSBFbXBsb3llZX0pCk1hbmFnZXIuX19pbmRleCA9IE1hbmFnZXIKCi0tIFNvYnJlZXNjcml1IGVsIG3DqHRvZGUgZGlzcGxheSBwZXIgaW5jbG91cmUgZWwgZGVwYXJ0YW1lbnQKZnVuY3Rpb24gTWFuYWdlcjpkaXNwbGF5KCkKICAgIHByaW50KCJOYW1lOiAiIC4uIHNlbGYubmFtZSAuLiAiLCBBZ2U6ICIgLi4gc2VsZi5hZ2UgLi4gIiwgUG9zaXRpb246ICIgLi4gc2VsZi5wb3NpdGlvbiAuLiAiLCBEZXBhcnRtZW50OiAiIC4uIHNlbGYuZGVwYXJ0bWVudCkKZW5kCgotLSBDcmVhIHVuIG9iamVjdGUgZGUgbGEgY2xhc3NlIE1hbmFnZXIKbG9jYWwgbWFuYWdlcjEgPSBNYW5hZ2VyOm5ldygiRGFuYSIsIDM1LCAiTWFuYWdlciIpCm1hbmFnZXIxLmRlcGFydG1lbnQgPSAiSVQiCm1hbmFnZXIxOmRpc3BsYXkoKSAgLS0gU29ydGlkYTogTmFtZTogRGFuYSwgQWdlOiAzNSwgUG9zaXRpb246IE1hbmFnZXIsIERlcGFydG1lbnQ6IElU"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Defineix una nova classe 'Manager' que hereta de 'Employee'
Manager = setmetatable({}, {__index = Employee})
Manager.__index = Manager

-- Sobreescriu el m&egrave;tode display per incloure el departament
function Manager:display()
    print(&quot;Name: &quot; .. self.name .. &quot;, Age: &quot; .. self.age .. &quot;, Position: &quot; .. self.position .. &quot;, Department: &quot; .. self.department)
end

-- Crea un objecte de la classe Manager
local manager1 = Manager:new(&quot;Dana&quot;, 35, &quot;Manager&quot;)
manager1.department = &quot;IT&quot;
manager1:display()  -- Sortida: Name: Dana, Age: 35, Position: Manager, Department: IT</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquest tema, hem cobert els conceptes bàsics de creació de classes i objectes en Lua, incloent la definició de classes, l'afegit de mètodes i la implementació de la herència. També hem tocat conceptes avançats com els membres privats i el polimorfisme. Entenent aquests conceptes, pots utilitzar efectivament la programació orientada a objectes en Lua per crear codi robust i mantenible.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='introduction-to-oop'>&#x25C4;Introducció a la POO</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Creació de Classes i Objectes en Lua</a>
	</div>
	<div class='col-4 text-end'>
					<a href='inheritance'>Herència &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
