<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profilatge de Codi Lua</title>

    <link rel="alternate" href="https://campusempresa.com/es/lua/profiling-lua-code" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/lua/profiling-lua-code" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/lua/profiling-lua-code" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/lua/profiling-lua-code" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='unit-testing'>&#x25C4;Proves Unitàries</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Profilatge de Codi Lua</a>
	</div>
	<div class='col-4 text-end'>
					<a href='memory-management'>Gestió de Memòria &#x25BA;</a>
			</div>
</div>
<div class='content'><p>El perfilatge és una tècnica essencial per optimitzar el rendiment del codi identificant colls d'ampolla i seccions ineficients. En aquest tema, cobrirem els conceptes bàsics del perfilatge de codi Lua, les eines disponibles per al perfilatge i exemples pràctics per ajudar-te a començar.</p>
</div><h1>Introducció al Perfilatge</h1>
<div class='content'><p>El perfilatge implica mesurar el rendiment del teu codi per entendre on es gasta el temps. Això et pot ajudar a:</p>
<ul>
<li>Identificar funcions lentes o segments de codi.</li>
<li>Optimitzar l'ús dels recursos.</li>
<li>Millorar el rendiment general de l'aplicació.</li>
</ul>
</div><h1>Eines per al Perfilatge de Codi Lua</h1>
<div class='content'><p>Diverses eines es poden utilitzar per fer el perfilatge del codi Lua. Aquí en tens algunes de populars:</p>
<ul>
<li><strong>LuaProfiler</strong>: Un perfilador senzill i fàcil d'utilitzar per a Lua.</li>
<li><strong>Opció <code>-jv</code> de LuaJIT</strong>: Proporciona informació de perfilatge per als usuaris de LuaJIT.</li>
<li><strong>Plop</strong>: Un perfilador de Lua que proporciona informes detallats.</li>
</ul>
</div><h2>LuaProfiler</h2>
<div class='content'><p>LuaProfiler és un perfilador lleuger que es pot integrar fàcilment en els teus projectes Lua. Proporciona capacitats bàsiques de perfilatge i és adequat per a principiants.</p>
<h4>Instal·lació</h4>
<p>Per instal·lar LuaProfiler, pots utilitzar LuaRocks:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bHVhcm9ja3MgaW5zdGFsbCBMdWFQcm9maWxlcg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>luarocks install LuaProfiler</pre></div><div class='content'><h4>Ús Bàsic</h4>
<p>Aquí tens un exemple senzill de com utilitzar LuaProfiler:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgcHJvZmlsZXIgPSByZXF1aXJlKCJwcm9maWxlciIpCgotLSBJbmljaWFyIGVsIHBlcmZpbGF0Z2UKcHJvZmlsZXIuc3RhcnQoInByb2ZpbGUubG9nIikKCi0tIEVsIHRldSBjb2RpIEx1YQpsb2NhbCBmdW5jdGlvbiBzbG93RnVuY3Rpb24oKQogICAgZm9yIGkgPSAxLCAxMDAwMDAwIGRvCiAgICAgICAgbG9jYWwgeCA9IG1hdGguc3FydChpKQogICAgZW5kCmVuZAoKc2xvd0Z1bmN0aW9uKCkKCi0tIEF0dXJhciBlbCBwZXJmaWxhdGdlCnByb2ZpbGVyLnN0b3AoKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local profiler = require(&quot;profiler&quot;)

-- Iniciar el perfilatge
profiler.start(&quot;profile.log&quot;)

-- El teu codi Lua
local function slowFunction()
    for i = 1, 1000000 do
        local x = math.sqrt(i)
    end
end

slowFunction()

-- Aturar el perfilatge
profiler.stop()</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li>Comencem el perfilatge cridant <code>profiler.start(&quot;profile.log&quot;)</code>.</li>
<li>Executem una funció <code>slowFunction</code> que realitza una tasca que consumeix temps.</li>
<li>Aturem el perfilatge cridant <code>profiler.stop()</code>.</li>
</ul>
<p>Les dades de perfilatge es guarden a <code>profile.log</code>, que es poden analitzar per identificar colls d'ampolla de rendiment.</p>
</div><h2>Opció `-jv` de LuaJIT</h2>
<div class='content'><p>LuaJIT proporciona una opció de perfilatge integrada que es pot habilitar utilitzant l'opció de línia de comandes <code>-jv</code>.</p>
<h4>Ús Bàsic</h4>
<p>Per perfilar un script Lua utilitzant LuaJIT, executa la següent comanda:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bHVhaml0IC1qdiB5b3VyX3NjcmlwdC5sdWE="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>luajit -jv your_script.lua</pre></div><div class='content'><p>Això mostrarà informació de perfilatge a la consola, mostrant el temps gastat en cada funció.</p>
</div><h2>Plop</h2>
<div class='content'><p>Plop és un altre perfilador de Lua que proporciona informes més detallats, incloent-hi gràfics de trucades i estadístiques de funcions.</p>
<h4>Instal·lació</h4>
<p>Per instal·lar Plop, pots utilitzar LuaRocks:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bHVhcm9ja3MgaW5zdGFsbCBwbG9w"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>luarocks install plop</pre></div><div class='content'><h4>Ús Bàsic</h4>
<p>Aquí tens un exemple de com utilitzar Plop:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgcGxvcCA9IHJlcXVpcmUoInBsb3AiKQoKLS0gSW5pY2lhciBlbCBwZXJmaWxhdGdlCnBsb3Auc3RhcnQoKQoKLS0gRWwgdGV1IGNvZGkgTHVhCmxvY2FsIGZ1bmN0aW9uIHNsb3dGdW5jdGlvbigpCiAgICBmb3IgaSA9IDEsIDEwMDAwMDAgZG8KICAgICAgICBsb2NhbCB4ID0gbWF0aC5zcXJ0KGkpCiAgICBlbmQKZW5kCgpzbG93RnVuY3Rpb24oKQoKLS0gQXR1cmFyIGVsIHBlcmZpbGF0Z2UgaSBpbXByaW1pciBsJ2luZm9ybWUKcGxvcC5zdG9wKCkKcGxvcC5yZXBvcnQoKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local plop = require(&quot;plop&quot;)

-- Iniciar el perfilatge
plop.start()

-- El teu codi Lua
local function slowFunction()
    for i = 1, 1000000 do
        local x = math.sqrt(i)
    end
end

slowFunction()

-- Aturar el perfilatge i imprimir l'informe
plop.stop()
plop.report()</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li>Comencem el perfilatge cridant <code>plop.start()</code>.</li>
<li>Executem una funció <code>slowFunction</code> que realitza una tasca que consumeix temps.</li>
<li>Aturem el perfilatge cridant <code>plop.stop()</code> i imprimim l'informe de perfilatge utilitzant <code>plop.report()</code>.</li>
</ul>
</div><h1>Anàlisi de les Dades de Perfilatge</h1>
<div class='content'><p>Un cop hagis recollit les dades de perfilatge, el següent pas és analitzar-les. Aquí tens alguns punts clau a considerar:</p>
<ul>
<li><strong>Identificar Punts Calents</strong>: Busca funcions o segments de codi que consumeixen més temps.</li>
<li><strong>Optimitzar Camins Crítics</strong>: Centra't en optimitzar les parts més lentes del teu codi.</li>
<li><strong>Mesurar Millores</strong>: Després de fer canvis, torna a perfilar el teu codi per assegurar-te que el rendiment ha millorat.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>El perfilatge és una tècnica poderosa per optimitzar el codi Lua. Utilitzant eines com LuaProfiler, l'opció <code>-jv</code> de LuaJIT i Plop, pots identificar colls d'ampolla de rendiment i prendre decisions informades per millorar l'eficiència del teu codi. Recorda perfilar regularment, especialment després de fer canvis significatius al teu codi, per mantenir un rendiment òptim.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='unit-testing'>&#x25C4;Proves Unitàries</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Profilatge de Codi Lua</a>
	</div>
	<div class='col-4 text-end'>
					<a href='memory-management'>Gestió de Memòria &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
