<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verificant el Comportament</title>

    <link rel="alternate" href="https://campusempresa.com/es/junit/verifying-behavior" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/junit/verifying-behavior" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/junit/verifying-behavior" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/junit/verifying-behavior" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='stubbing-methods'>&#x25C4;Stubbing de Mètodes</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Verificant el Comportament</a>
	</div>
	<div class='col-4 text-end'>
					<a href='custom-test-runners'>Runners de Test Personalitzats &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquesta secció, explorarem com verificar el comportament del teu codi utilitzant JUnit. Verificar el comportament és un aspecte crucial de les proves unitàries, ja que assegura que els teus mètodes no només produeixen la sortida correcta, sinó que també interactuen amb altres components de la manera esperada.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Verificació del Comportament</strong>: Assegurar que un mètode interactua correctament amb les seves dependències.</li>
<li><strong>Mocks i Stubs</strong>: Eines per simular el comportament d'objectes complexos.</li>
<li><strong>Afirmacions</strong>: Declaracions que comproven si una condició és certa.</li>
</ul>
</div><h1>Utilitzant Mocks i Stubs</h1>
<div class='content'><p>Els mocks i stubs són essencials per aïllar la unitat de codi que estàs provant. Et permeten simular el comportament d'objectes complexos i centrar-te en les interaccions.</p>
</div><h2>Creant Mocks</h2>
<div class='content'><p>Per crear un objecte mock, pots utilitzar llibreries com Mockito. Aquí tens un exemple senzill:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcubW9ja2l0by5Nb2NraXRvLio7CgpwdWJsaWMgY2xhc3MgVXNlclNlcnZpY2VUZXN0IHsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEdldFVzZXIoKSB7CiAgICAgICAgLy8gQ3JlYXIgdW4gb2JqZWN0ZSBtb2NrIGRlIFVzZXJSZXBvc2l0b3J5CiAgICAgICAgVXNlclJlcG9zaXRvcnkgbW9ja1JlcG9zaXRvcnkgPSBtb2NrKFVzZXJSZXBvc2l0b3J5LmNsYXNzKTsKCiAgICAgICAgLy8gRGVmaW5pciBlbCBjb21wb3J0YW1lbnQgZGUgbCdvYmplY3RlIG1vY2sKICAgICAgICB3aGVuKG1vY2tSZXBvc2l0b3J5LmZpbmRVc2VyQnlJZCgxKSkudGhlblJldHVybihuZXcgVXNlcigxLCAiSm9obiBEb2UiKSk7CgogICAgICAgIC8vIFV0aWxpdHphciBsJ29iamVjdGUgbW9jayBlbiBsYSB0ZXZhIHByb3ZhCiAgICAgICAgVXNlclNlcnZpY2UgdXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UobW9ja1JlcG9zaXRvcnkpOwogICAgICAgIFVzZXIgdXNlciA9IHVzZXJTZXJ2aWNlLmdldFVzZXIoMSk7CgogICAgICAgIC8vIFZlcmlmaWNhciBlbCBjb21wb3J0YW1lbnQKICAgICAgICBhc3NlcnRFcXVhbHMoIkpvaG4gRG9lIiwgdXNlci5nZXROYW1lKCkpOwogICAgICAgIHZlcmlmeShtb2NrUmVwb3NpdG9yeSkuZmluZFVzZXJCeUlkKDEpOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.mockito.Mockito.*;

public class UserServiceTest {

    @Test
    public void testGetUser() {
        // Crear un objecte mock de UserRepository
        UserRepository mockRepository = mock(UserRepository.class);

        // Definir el comportament de l'objecte mock
        when(mockRepository.findUserById(1)).thenReturn(new User(1, &quot;John Doe&quot;));

        // Utilitzar l'objecte mock en la teva prova
        UserService userService = new UserService(mockRepository);
        User user = userService.getUser(1);

        // Verificar el comportament
        assertEquals(&quot;John Doe&quot;, user.getName());
        verify(mockRepository).findUserById(1);
    }
}</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li>Creem un objecte mock de <code>UserRepository</code>.</li>
<li>Definim el comportament de l'objecte mock utilitzant <code>when</code> i <code>thenReturn</code>.</li>
<li>Utilitzem l'objecte mock en la nostra classe <code>UserService</code>.</li>
<li>Verifiquem el comportament utilitzant <code>verify</code>.</li>
</ul>
</div><h2>Stubbing de Mètodes</h2>
<div class='content'><p>El stubbing s'utilitza per especificar el comportament d'un objecte mock. És particularment útil quan necessites simular diferents escenaris.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHN0YXRpYyBvcmcubW9ja2l0by5Nb2NraXRvLio7CgpwdWJsaWMgY2xhc3MgVXNlclNlcnZpY2VUZXN0IHsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEdldFVzZXJOb3RGb3VuZCgpIHsKICAgICAgICAvLyBDcmVhciB1biBvYmplY3RlIG1vY2sgZGUgVXNlclJlcG9zaXRvcnkKICAgICAgICBVc2VyUmVwb3NpdG9yeSBtb2NrUmVwb3NpdG9yeSA9IG1vY2soVXNlclJlcG9zaXRvcnkuY2xhc3MpOwoKICAgICAgICAvLyBEZWZpbmlyIGVsIGNvbXBvcnRhbWVudCBkZSBsJ29iamVjdGUgbW9jayBwZXIgYSB1biBlc2NlbmFyaSBlc3BlY8OtZmljCiAgICAgICAgd2hlbihtb2NrUmVwb3NpdG9yeS5maW5kVXNlckJ5SWQoMikpLnRoZW5SZXR1cm4obnVsbCk7CgogICAgICAgIC8vIFV0aWxpdHphciBsJ29iamVjdGUgbW9jayBlbiBsYSB0ZXZhIHByb3ZhCiAgICAgICAgVXNlclNlcnZpY2UgdXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UobW9ja1JlcG9zaXRvcnkpOwogICAgICAgIFVzZXIgdXNlciA9IHVzZXJTZXJ2aWNlLmdldFVzZXIoMik7CgogICAgICAgIC8vIFZlcmlmaWNhciBlbCBjb21wb3J0YW1lbnQKICAgICAgICBhc3NlcnROdWxsKHVzZXIpOwogICAgICAgIHZlcmlmeShtb2NrUmVwb3NpdG9yeSkuZmluZFVzZXJCeUlkKDIpOwogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import static org.mockito.Mockito.*;

public class UserServiceTest {

    @Test
    public void testGetUserNotFound() {
        // Crear un objecte mock de UserRepository
        UserRepository mockRepository = mock(UserRepository.class);

        // Definir el comportament de l'objecte mock per a un escenari espec&iacute;fic
        when(mockRepository.findUserById(2)).thenReturn(null);

        // Utilitzar l'objecte mock en la teva prova
        UserService userService = new UserService(mockRepository);
        User user = userService.getUser(2);

        // Verificar el comportament
        assertNull(user);
        verify(mockRepository).findUserById(2);
    }
}</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li>Fem el stubbing del mètode <code>findUserById</code> per retornar <code>null</code> quan l'ID de l'usuari és 2.</li>
<li>Verifiquem que el mètode es va cridar amb el paràmetre correcte.</li>
</ul>
</div><h1>Afirmacions</h1>
<div class='content'><p>Les afirmacions s'utilitzen per comprovar si una condició és certa. JUnit proporciona diversos mètodes d'afirmació per verificar el comportament del teu codi.</p>
</div><h2>Afirmacions Comunes</h2>
<div class='content'><p>| Mètode d'Afirmació         | Descripció                                 |
|----------------------------|---------------------------------------------|
| <code>assertEquals(expected, actual)</code> | Comprova si dos valors són iguals.          |
| <code>assertTrue(condition)</code>    | Comprova si una condició és certa.              |
| <code>assertFalse(condition)</code>   | Comprova si una condició és falsa.             |
| <code>assertNull(object)</code>       | Comprova si un objecte és nul.                |
| <code>assertNotNull(object)</code>    | Comprova si un objecte no és nul.            |</p>
</div><h2>Exemple</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIENhbGN1bGF0b3JUZXN0IHsKCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdEFkZCgpIHsKICAgICAgICBDYWxjdWxhdG9yIGNhbGN1bGF0b3IgPSBuZXcgQ2FsY3VsYXRvcigpOwogICAgICAgIGludCByZXN1bHQgPSBjYWxjdWxhdG9yLmFkZCgyLCAzKTsKCiAgICAgICAgLy8gVmVyaWZpY2FyIGVsIHJlc3VsdGF0IHV0aWxpdHphbnQgYWZpcm1hY2lvbnMKICAgICAgICBhc3NlcnRFcXVhbHMoNSwgcmVzdWx0KTsKICAgIH0KCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdERpdmlkZSgpIHsKICAgICAgICBDYWxjdWxhdG9yIGNhbGN1bGF0b3IgPSBuZXcgQ2FsY3VsYXRvcigpOwogICAgICAgIGludCByZXN1bHQgPSBjYWxjdWxhdG9yLmRpdmlkZSgxMCwgMik7CgogICAgICAgIC8vIFZlcmlmaWNhciBlbCByZXN1bHRhdCB1dGlsaXR6YW50IGFmaXJtYWNpb25zCiAgICAgICAgYXNzZXJ0RXF1YWxzKDUsIHJlc3VsdCk7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class CalculatorTest {

    @Test
    public void testAdd() {
        Calculator calculator = new Calculator();
        int result = calculator.add(2, 3);

        // Verificar el resultat utilitzant afirmacions
        assertEquals(5, result);
    }

    @Test
    public void testDivide() {
        Calculator calculator = new Calculator();
        int result = calculator.divide(10, 2);

        // Verificar el resultat utilitzant afirmacions
        assertEquals(5, result);
    }
}</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li>Utilitzem <code>assertEquals</code> per verificar que els mètodes <code>add</code> i <code>divide</code> retornen els resultats esperats.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Verificar el comportament és un aspecte fonamental de les proves unitàries amb JUnit. Utilitzant mocks, stubs i afirmacions, pots assegurar-te que els teus mètodes interactuen correctament amb les seves dependències i produeixen els resultats esperats. Això no només ajuda a identificar errors aviat, sinó que també fa que el teu codi sigui més robust i mantenible.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='stubbing-methods'>&#x25C4;Stubbing de Mètodes</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Verificant el Comportament</a>
	</div>
	<div class='col-4 text-end'>
					<a href='custom-test-runners'>Runners de Test Personalitzats &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
