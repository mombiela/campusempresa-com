<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Errors comuns i com evitar-los</title>

    <link rel="alternate" href="https://campusempresa.com/es/junit/common-pitfalls" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/junit/common-pitfalls" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/junit/common-pitfalls" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/junit/common-pitfalls" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='behavior-driven-development'>&#x25C4;Desenvolupament Guiat per Comportament (BDD)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Errors comuns i com evitar-los</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-junit-5'>Introducció a JUnit 5 &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Quan es treballa amb JUnit, especialment com a principiant, és fàcil caure en certes trampes que poden conduir a proves ineficients, poc fiables o difícils de mantenir. Aquesta secció cobrirà alguns dels errors més comuns i proporcionarà estratègies per evitar-los.</p>
</div><h1>Error 1: No aïllar les proves</h1>
<div class='content'><p>Un dels principis bàsics de les proves unitàries és que les proves han d'estar aïllades les unes de les altres. Això significa que el resultat d'una prova no hauria de dependre del resultat d'una altra.</p>
<ul>
<li><strong>Problema</strong>: Les proves que depenen d'un estat compartit poden conduir a proves inestables que passen o fallen de manera imprevisible.</li>
<li><strong>Solució</strong>: Utilitza mètodes de configuració i desconfiguració per assegurar un estat net per a cada prova.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cHVibGljIGNsYXNzIENhbGN1bGF0b3JUZXN0IHsKICAgIHByaXZhdGUgQ2FsY3VsYXRvciBjYWxjdWxhdG9yOwoKICAgIEBCZWZvcmUKICAgIHB1YmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIGNhbGN1bGF0b3IgPSBuZXcgQ2FsY3VsYXRvcigpOwogICAgfQoKICAgIEBUZXN0CiAgICBwdWJsaWMgdm9pZCB0ZXN0QWRkaXRpb24oKSB7CiAgICAgICAgYXNzZXJ0RXF1YWxzKDUsIGNhbGN1bGF0b3IuYWRkKDIsIDMpKTsKICAgIH0KCiAgICBAVGVzdAogICAgcHVibGljIHZvaWQgdGVzdFN1YnRyYWN0aW9uKCkgewogICAgICAgIGFzc2VydEVxdWFscygxLCBjYWxjdWxhdG9yLnN1YnRyYWN0KDMsIDIpKTsKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>public class CalculatorTest {
    private Calculator calculator;

    @Before
    public void setUp() {
        calculator = new Calculator();
    }

    @Test
    public void testAddition() {
        assertEquals(5, calculator.add(2, 3));
    }

    @Test
    public void testSubtraction() {
        assertEquals(1, calculator.subtract(3, 2));
    }
}</pre></div><div class='content'><p>En aquest exemple, el mètode <code>@Before</code> assegura que es crea una nova instància de <code>Calculator</code> abans de cada prova, aïllant les proves entre elles.</p>
</div><h1>Error 2: Ignorar casos límit</h1>
<div class='content'><p>Les proves que només cobreixen el &quot;camí feliç&quot; poden perdre casos límit crítics, conduint a errors en producció.</p>
<ul>
<li><strong>Problema</strong>: No tenir en compte els casos límit pot resultar en una cobertura de proves incompleta.</li>
<li><strong>Solució</strong>: Identifica i prova els casos límit, com ara entrades nul·les, col·leccions buides i valors límit.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFRlc3QoZXhwZWN0ZWQgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24uY2xhc3MpCnB1YmxpYyB2b2lkIHRlc3RBZGRpdGlvbldpdGhOdWxsKCkgewogICAgY2FsY3VsYXRvci5hZGQobnVsbCwgMyk7Cn0KCkBUZXN0CnB1YmxpYyB2b2lkIHRlc3RBZGRpdGlvbldpdGhCb3VuZGFyeVZhbHVlcygpIHsKICAgIGFzc2VydEVxdWFscyhJbnRlZ2VyLk1BWF9WQUxVRSwgY2FsY3VsYXRvci5hZGQoSW50ZWdlci5NQVhfVkFMVUUsIDApKTsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Test(expected = IllegalArgumentException.class)
public void testAdditionWithNull() {
    calculator.add(null, 3);
}

@Test
public void testAdditionWithBoundaryValues() {
    assertEquals(Integer.MAX_VALUE, calculator.add(Integer.MAX_VALUE, 0));
}</pre></div><div class='content'><p>Aquí, provem una entrada nul·la i un valor límit per assegurar-nos que el mètode <code>add</code> gestiona aquests casos correctament.</p>
</div><h1>Error 3: Ús excessiu de mocks</h1>
<div class='content'><p>Tot i que els mocks són útils per aïllar la unitat sota prova, l'ús excessiu d'ells pot conduir a proves estretament lligades als detalls d'implementació.</p>
<ul>
<li><strong>Problema</strong>: Les proves que depenen molt dels mocks poden esdevenir fràgils i difícils de mantenir.</li>
<li><strong>Solució</strong>: Utilitza mocks amb moderació i prefereix objectes reals quan sigui possible.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFRlc3QKcHVibGljIHZvaWQgdGVzdFNlcnZpY2VXaXRoUmVhbERlcGVuZGVuY3koKSB7CiAgICBSZWFsRGVwZW5kZW5jeSBkZXBlbmRlbmN5ID0gbmV3IFJlYWxEZXBlbmRlbmN5KCk7CiAgICBTZXJ2aWNlIHNlcnZpY2UgPSBuZXcgU2VydmljZShkZXBlbmRlbmN5KTsKICAgIGFzc2VydEVxdWFscygiRXhwZWN0ZWQgUmVzdWx0Iiwgc2VydmljZS5wZXJmb3JtQWN0aW9uKCkpOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Test
public void testServiceWithRealDependency() {
    RealDependency dependency = new RealDependency();
    Service service = new Service(dependency);
    assertEquals(&quot;Expected Result&quot;, service.performAction());
}</pre></div><div class='content'><p>En aquest exemple, utilitzem una dependència real en lloc d'un mock per assegurar-nos que la prova és més robusta i menys lligada als detalls d'implementació.</p>
</div><h1>Error 4: Noms de proves poc clars</h1>
<div class='content'><p>Els noms de proves descriptius són crucials per entendre què fa una prova i per què pot estar fallant.</p>
<ul>
<li><strong>Problema</strong>: Noms de proves vagues o no descriptius dificulten entendre els errors de les proves.</li>
<li><strong>Solució</strong>: Utilitza noms clars i descriptius que transmetin el propòsit de la prova.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFRlc3QKcHVibGljIHZvaWQgc2hvdWxkUmV0dXJuU3VtV2hlbkFkZGluZ1R3b1Bvc2l0aXZlTnVtYmVycygpIHsKICAgIGFzc2VydEVxdWFscyg1LCBjYWxjdWxhdG9yLmFkZCgyLCAzKSk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Test
public void shouldReturnSumWhenAddingTwoPositiveNumbers() {
    assertEquals(5, calculator.add(2, 3));
}</pre></div><div class='content'><p>El nom de la prova <code>shouldReturnSumWhenAddingTwoPositiveNumbers</code> descriu clarament què està verificant la prova.</p>
</div><h1>Error 5: Ignorar el rendiment de les proves</h1>
<div class='content'><p>Les proves que són lentes poden dificultar la velocitat de desenvolupament i desincentivar l'execució freqüent de les proves.</p>
<ul>
<li><strong>Problema</strong>: Les proves lentes poden reduir l'eficiència del procés de desenvolupament.</li>
<li><strong>Solució</strong>: Optimitza les proves per al rendiment i evita càlculs o operacions d'E/S innecessàries.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QFRlc3QodGltZW91dCA9IDEwMDApCnB1YmxpYyB2b2lkIHRlc3RQZXJmb3JtYW5jZSgpIHsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwMDAwMDsgaSsrKSB7CiAgICAgICAgY2FsY3VsYXRvci5hZGQoMSwgMSk7CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@Test(timeout = 1000)
public void testPerformance() {
    for (int i = 0; i &lt; 1000000; i++) {
        calculator.add(1, 1);
    }
}</pre></div><div class='content'><p>L'anotació <code>@Test(timeout = 1000)</code> assegura que la prova fallarà si triga més d'1 segon a completar-se, ajudant a identificar problemes de rendiment.</p>
</div><h1>Conclusió</h1>
<div class='content'><p>Sent conscient d'aquests errors comuns i implementant les solucions suggerides, pots escriure proves més fiables, mantenibles i eficients amb JUnit. Recorda aïllar les teves proves, cobrir els casos límit, utilitzar mocks amb moderació, donar noms descriptius a les teves proves i optimitzar per al rendiment. Seguint aquestes millors pràctiques, evitaràs errors comuns i milloraràs la qualitat del teu conjunt de proves.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='behavior-driven-development'>&#x25C4;Desenvolupament Guiat per Comportament (BDD)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Errors comuns i com evitar-los</a>
	</div>
	<div class='col-4 text-end'>
					<a href='introduction-to-junit-5'>Introducció a JUnit 5 &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
