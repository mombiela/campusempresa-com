<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/django/building-an-e-commerce-site" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En aquest curs, et guiarem a través del procés de construir un lloc de comerç electrònic completament funcional utilitzant Django, un framework web de Python d'alt nivell. Aquest curs està estructurat per portar-te des d'un nivell principiant fins a un nivell avançat, cobrint tots els aspectes essencials del desenvolupament amb Django.</p>
</div><h1>Prerequisits</h1>
<div class='content'><p>Abans de començar aquest curs, hauries de tenir:</p>
<ul>
<li>Coneixements bàsics de programació en Python.</li>
<li>Familiaritat amb HTML, CSS i JavaScript.</li>
<li>Comprensió bàsica dels conceptes de desenvolupament web.</li>
</ul>
</div><h1>Configuració de l'entorn de desenvolupament</h1>
<div class='content'><ul>
<li>Instal·la Python i Django.</li>
<li>Configura un entorn virtual.</li>
<li>Crea un nou projecte Django.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbnN0YWzCt2xhIERqYW5nbwpwaXAgaW5zdGFsbCBkamFuZ28KCiMgQ3JlYSB1biBub3UgcHJvamVjdGUgRGphbmdvCmRqYW5nby1hZG1pbiBzdGFydHByb2plY3QgZWNvbW1lcmNlX3NpdGUKCiMgTmF2ZWdhIGFsIGRpcmVjdG9yaSBkZWwgcHJvamVjdGUKY2QgZWNvbW1lcmNlX3NpdGUKCiMgQ3JlYSB1biBlbnRvcm4gdmlydHVhbApweXRob24gLW0gdmVudiB2ZW52CgojIEFjdGl2YSBsJ2VudG9ybiB2aXJ0dWFsCiMgQSBXaW5kb3dzCnZlbnZcU2NyaXB0c1xhY3RpdmF0ZQojIEEgbWFjT1MvTGludXgKc291cmNlIHZlbnYvYmluL2FjdGl2YXRl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Instal&middot;la Django
pip install django

# Crea un nou projecte Django
django-admin startproject ecommerce_site

# Navega al directori del projecte
cd ecommerce_site

# Crea un entorn virtual
python -m venv venv

# Activa l'entorn virtual
# A Windows
venv\Scripts\activate
# A macOS/Linux
source venv/bin/activate</pre></div><div class='content'></div><h1>Creació de l'aplicació Django</h1>
<div class='content'><ul>
<li>Crea una nova aplicació Django per a la funcionalitat de comerç electrònic.</li>
<li>Registra l'aplicació a la configuració del projecte.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhIHVuYSBub3ZhIGFwbGljYWNpw7MKcHl0aG9uIG1hbmFnZS5weSBzdGFydGFwcCBzdG9yZQoKIyBSZWdpc3RyYSBsJ2FwbGljYWNpw7MgYSBzZXR0aW5ncy5weQojIGVjb21tZXJjZV9zaXRlL3NldHRpbmdzLnB5CklOU1RBTExFRF9BUFBTID0gWwogICAgLi4uCiAgICAnc3RvcmUnLApd"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Crea una nova aplicaci&oacute;
python manage.py startapp store

# Registra l'aplicaci&oacute; a settings.py
# ecommerce_site/settings.py
INSTALLED_APPS = [
    ...
    'store',
]</pre></div><div class='content'></div><h1>Disseny dels models</h1>
<div class='content'><ul>
<li>Defineix els models per a productes, categories i comandes.</li>
<li>Utilitza l'ORM de Django per interactuar amb la base de dades.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzdG9yZS9tb2RlbHMucHkKZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgQ2F0ZWdvcnkobW9kZWxzLk1vZGVsKToKICAgIG5hbWUgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9MjU1KQogICAgc2x1ZyA9IG1vZGVscy5TbHVnRmllbGQodW5pcXVlPVRydWUpCgogICAgZGVmIF9fc3RyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYubmFtZQoKY2xhc3MgUHJvZHVjdChtb2RlbHMuTW9kZWwpOgogICAgY2F0ZWdvcnkgPSBtb2RlbHMuRm9yZWlnbktleShDYXRlZ29yeSwgcmVsYXRlZF9uYW1lPSdwcm9kdWN0cycsIG9uX2RlbGV0ZT1tb2RlbHMuQ0FTQ0FERSkKICAgIG5hbWUgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9MjU1KQogICAgc2x1ZyA9IG1vZGVscy5TbHVnRmllbGQodW5pcXVlPVRydWUpCiAgICBkZXNjcmlwdGlvbiA9IG1vZGVscy5UZXh0RmllbGQoKQogICAgcHJpY2UgPSBtb2RlbHMuRGVjaW1hbEZpZWxkKG1heF9kaWdpdHM9MTAsIGRlY2ltYWxfcGxhY2VzPTIpCiAgICBzdG9jayA9IG1vZGVscy5JbnRlZ2VyRmllbGQoKQogICAgYXZhaWxhYmxlID0gbW9kZWxzLkJvb2xlYW5GaWVsZChkZWZhdWx0PVRydWUpCiAgICBjcmVhdGVkID0gbW9kZWxzLkRhdGVUaW1lRmllbGQoYXV0b19ub3dfYWRkPVRydWUpCiAgICB1cGRhdGVkID0gbW9kZWxzLkRhdGVUaW1lRmllbGQoYXV0b19ub3c9VHJ1ZSkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5uYW1lCgpjbGFzcyBPcmRlcihtb2RlbHMuTW9kZWwpOgogICAgcHJvZHVjdCA9IG1vZGVscy5Gb3JlaWduS2V5KFByb2R1Y3QsIHJlbGF0ZWRfbmFtZT0nb3JkZXJzJywgb25fZGVsZXRlPW1vZGVscy5DQVNDQURFKQogICAgcXVhbnRpdHkgPSBtb2RlbHMuSW50ZWdlckZpZWxkKCkKICAgIGNyZWF0ZWQgPSBtb2RlbHMuRGF0ZVRpbWVGaWVsZChhdXRvX25vd19hZGQ9VHJ1ZSkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gZidPcmRlciB7c2VsZi5pZH0n"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># store/models.py
from django.db import models

class Category(models.Model):
    name = models.CharField(max_length=255)
    slug = models.SlugField(unique=True)

    def __str__(self):
        return self.name

class Product(models.Model):
    category = models.ForeignKey(Category, related_name='products', on_delete=models.CASCADE)
    name = models.CharField(max_length=255)
    slug = models.SlugField(unique=True)
    description = models.TextField()
    price = models.DecimalField(max_digits=10, decimal_places=2)
    stock = models.IntegerField()
    available = models.BooleanField(default=True)
    created = models.DateTimeField(auto_now_add=True)
    updated = models.DateTimeField(auto_now=True)

    def __str__(self):
        return self.name

class Order(models.Model):
    product = models.ForeignKey(Product, related_name='orders', on_delete=models.CASCADE)
    quantity = models.IntegerField()
    created = models.DateTimeField(auto_now_add=True)

    def __str__(self):
        return f'Order {self.id}'</pre></div><div class='content'></div><h1>Creació de vistes i plantilles</h1>
<div class='content'><ul>
<li>Crea vistes per mostrar productes i categories.</li>
<li>Utilitza plantilles de Django per renderitzar HTML.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzdG9yZS92aWV3cy5weQpmcm9tIGRqYW5nby5zaG9ydGN1dHMgaW1wb3J0IHJlbmRlciwgZ2V0X29iamVjdF9vcl80MDQKZnJvbSAubW9kZWxzIGltcG9ydCBDYXRlZ29yeSwgUHJvZHVjdAoKZGVmIHByb2R1Y3RfbGlzdChyZXF1ZXN0LCBjYXRlZ29yeV9zbHVnPU5vbmUpOgogICAgY2F0ZWdvcnkgPSBOb25lCiAgICBjYXRlZ29yaWVzID0gQ2F0ZWdvcnkub2JqZWN0cy5hbGwoKQogICAgcHJvZHVjdHMgPSBQcm9kdWN0Lm9iamVjdHMuZmlsdGVyKGF2YWlsYWJsZT1UcnVlKQogICAgaWYgY2F0ZWdvcnlfc2x1ZzoKICAgICAgICBjYXRlZ29yeSA9IGdldF9vYmplY3Rfb3JfNDA0KENhdGVnb3J5LCBzbHVnPWNhdGVnb3J5X3NsdWcpCiAgICAgICAgcHJvZHVjdHMgPSBwcm9kdWN0cy5maWx0ZXIoY2F0ZWdvcnk9Y2F0ZWdvcnkpCiAgICByZXR1cm4gcmVuZGVyKHJlcXVlc3QsICdzdG9yZS9wcm9kdWN0L2xpc3QuaHRtbCcsIHsnY2F0ZWdvcnknOiBjYXRlZ29yeSwgJ2NhdGVnb3JpZXMnOiBjYXRlZ29yaWVzLCAncHJvZHVjdHMnOiBwcm9kdWN0c30pCgpkZWYgcHJvZHVjdF9kZXRhaWwocmVxdWVzdCwgaWQsIHNsdWcpOgogICAgcHJvZHVjdCA9IGdldF9vYmplY3Rfb3JfNDA0KFByb2R1Y3QsIGlkPWlkLCBzbHVnPXNsdWcsIGF2YWlsYWJsZT1UcnVlKQogICAgcmV0dXJuIHJlbmRlcihyZXF1ZXN0LCAnc3RvcmUvcHJvZHVjdC9kZXRhaWwuaHRtbCcsIHsncHJvZHVjdCc6IHByb2R1Y3R9KQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># store/views.py
from django.shortcuts import render, get_object_or_404
from .models import Category, Product

def product_list(request, category_slug=None):
    category = None
    categories = Category.objects.all()
    products = Product.objects.filter(available=True)
    if category_slug:
        category = get_object_or_404(Category, slug=category_slug)
        products = products.filter(category=category)
    return render(request, 'store/product/list.html', {'category': category, 'categories': categories, 'products': products})

def product_detail(request, id, slug):
    product = get_object_or_404(Product, id=id, slug=slug, available=True)
    return render(request, 'store/product/detail.html', {'product': product})</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBzdG9yZS90ZW1wbGF0ZXMvc3RvcmUvcHJvZHVjdC9saXN0Lmh0bWwgLS0+CnslIGV4dGVuZHMgImJhc2UuaHRtbCIgJX0KCnslIGJsb2NrIGNvbnRlbnQgJX0KPGgxPkxsaXN0YSBkZSBQcm9kdWN0ZXM8L2gxPgo8dWw+CiAgICB7JSBmb3IgcHJvZHVjdCBpbiBwcm9kdWN0cyAlfQogICAgPGxpPgogICAgICAgIDxhIGhyZWY9Int7IHByb2R1Y3QuZ2V0X2Fic29sdXRlX3VybCB9fSI+e3sgcHJvZHVjdC5uYW1lIH19PC9hPgogICAgPC9saT4KICAgIHslIGVuZGZvciAlfQo8L3VsPgp7JSBlbmRibG9jayAlfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- store/templates/store/product/list.html --&gt;
{% extends &quot;base.html&quot; %}

{% block content %}
&lt;h1&gt;Llista de Productes&lt;/h1&gt;
&lt;ul&gt;
    {% for product in products %}
    &lt;li&gt;
        &lt;a href=&quot;{{ product.get_absolute_url }}&quot;&gt;{{ product.name }}&lt;/a&gt;
    &lt;/li&gt;
    {% endfor %}
&lt;/ul&gt;
{% endblock %}</pre></div><div class='content'></div><h1>Afegir autenticació d'usuaris</h1>
<div class='content'><ul>
<li>Implementa la funcionalitat de registre, inici de sessió i tancament de sessió d'usuaris.</li>
<li>Utilitza el sistema d'autenticació integrat de Django.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzdG9yZS9mb3Jtcy5weQpmcm9tIGRqYW5nbyBpbXBvcnQgZm9ybXMKZnJvbSBkamFuZ28uY29udHJpYi5hdXRoLm1vZGVscyBpbXBvcnQgVXNlcgoKY2xhc3MgVXNlclJlZ2lzdHJhdGlvbkZvcm0oZm9ybXMuTW9kZWxGb3JtKToKICAgIHBhc3N3b3JkID0gZm9ybXMuQ2hhckZpZWxkKGxhYmVsPSdQYXNzd29yZCcsIHdpZGdldD1mb3Jtcy5QYXNzd29yZElucHV0KQogICAgcGFzc3dvcmQyID0gZm9ybXMuQ2hhckZpZWxkKGxhYmVsPSdSZXBlYXQgcGFzc3dvcmQnLCB3aWRnZXQ9Zm9ybXMuUGFzc3dvcmRJbnB1dCkKCiAgICBjbGFzcyBNZXRhOgogICAgICAgIG1vZGVsID0gVXNlcgogICAgICAgIGZpZWxkcyA9ICgndXNlcm5hbWUnLCAnZmlyc3RfbmFtZScsICdlbWFpbCcpCgogICAgZGVmIGNsZWFuX3Bhc3N3b3JkMihzZWxmKToKICAgICAgICBjZCA9IHNlbGYuY2xlYW5lZF9kYXRhCiAgICAgICAgaWYgY2RbJ3Bhc3N3b3JkJ10gIT0gY2RbJ3Bhc3N3b3JkMiddOgogICAgICAgICAgICByYWlzZSBmb3Jtcy5WYWxpZGF0aW9uRXJyb3IoJ0xlcyBjb250cmFzZW55ZXMgbm8gY29pbmNpZGVpeGVuLicpCiAgICAgICAgcmV0dXJuIGNkWydwYXNzd29yZDInXQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># store/forms.py
from django import forms
from django.contrib.auth.models import User

class UserRegistrationForm(forms.ModelForm):
    password = forms.CharField(label='Password', widget=forms.PasswordInput)
    password2 = forms.CharField(label='Repeat password', widget=forms.PasswordInput)

    class Meta:
        model = User
        fields = ('username', 'first_name', 'email')

    def clean_password2(self):
        cd = self.cleaned_data
        if cd['password'] != cd['password2']:
            raise forms.ValidationError('Les contrasenyes no coincideixen.')
        return cd['password2']</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzdG9yZS92aWV3cy5weSAodmlzdGVzIGFkZGljaW9uYWxzIHBlciBhIGwnYXV0ZW50aWNhY2nDsykKZnJvbSBkamFuZ28uY29udHJpYi5hdXRoIGltcG9ydCBhdXRoZW50aWNhdGUsIGxvZ2luCmZyb20gLmZvcm1zIGltcG9ydCBVc2VyUmVnaXN0cmF0aW9uRm9ybQoKZGVmIHJlZ2lzdGVyKHJlcXVlc3QpOgogICAgaWYgcmVxdWVzdC5tZXRob2QgPT0gJ1BPU1QnOgogICAgICAgIGZvcm0gPSBVc2VyUmVnaXN0cmF0aW9uRm9ybShyZXF1ZXN0LlBPU1QpCiAgICAgICAgaWYgZm9ybS5pc192YWxpZCgpOgogICAgICAgICAgICBuZXdfdXNlciA9IGZvcm0uc2F2ZShjb21taXQ9RmFsc2UpCiAgICAgICAgICAgIG5ld191c2VyLnNldF9wYXNzd29yZChmb3JtLmNsZWFuZWRfZGF0YVsncGFzc3dvcmQnXSkKICAgICAgICAgICAgbmV3X3VzZXIuc2F2ZSgpCiAgICAgICAgICAgIHJldHVybiByZW5kZXIocmVxdWVzdCwgJ3N0b3JlL3JlZ2lzdGVyX2RvbmUuaHRtbCcsIHsnbmV3X3VzZXInOiBuZXdfdXNlcn0pCiAgICBlbHNlOgogICAgICAgIGZvcm0gPSBVc2VyUmVnaXN0cmF0aW9uRm9ybSgpCiAgICByZXR1cm4gcmVuZGVyKHJlcXVlc3QsICdzdG9yZS9yZWdpc3Rlci5odG1sJywgeydmb3JtJzogZm9ybX0p"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># store/views.py (vistes addicionals per a l'autenticaci&oacute;)
from django.contrib.auth import authenticate, login
from .forms import UserRegistrationForm

def register(request):
    if request.method == 'POST':
        form = UserRegistrationForm(request.POST)
        if form.is_valid():
            new_user = form.save(commit=False)
            new_user.set_password(form.cleaned_data['password'])
            new_user.save()
            return render(request, 'store/register_done.html', {'new_user': new_user})
    else:
        form = UserRegistrationForm()
    return render(request, 'store/register.html', {'form': form})</pre></div><div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PCEtLSBzdG9yZS90ZW1wbGF0ZXMvc3RvcmUvcmVnaXN0ZXIuaHRtbCAtLT4KeyUgZXh0ZW5kcyAiYmFzZS5odG1sIiAlfQoKeyUgYmxvY2sgY29udGVudCAlfQo8aDE+UmVnaXN0cmFyLXNlPC9oMT4KPGZvcm0gbWV0aG9kPSJwb3N0Ij4KICAgIHt7IGZvcm0uYXNfcCB9fQogICAgeyUgY3NyZl90b2tlbiAlfQogICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiPlJlZ2lzdHJhci1zZTwvYnV0dG9uPgo8L2Zvcm0+CnslIGVuZGJsb2NrICV9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;!-- store/templates/store/register.html --&gt;
{% extends &quot;base.html&quot; %}

{% block content %}
&lt;h1&gt;Registrar-se&lt;/h1&gt;
&lt;form method=&quot;post&quot;&gt;
    {{ form.as_p }}
    {% csrf_token %}
    &lt;button type=&quot;submit&quot;&gt;Registrar-se&lt;/button&gt;
&lt;/form&gt;
{% endblock %}</pre></div><div class='content'></div><h1>Implementació de la funcionalitat del carret de la compra</h1>
<div class='content'><ul>
<li>Crea un carret de la compra utilitzant sessions de Django.</li>
<li>Afegeix vistes per gestionar el carret.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzdG9yZS9jYXJ0LnB5CmZyb20gZGVjaW1hbCBpbXBvcnQgRGVjaW1hbApmcm9tIGRqYW5nby5jb25mIGltcG9ydCBzZXR0aW5ncwpmcm9tIC5tb2RlbHMgaW1wb3J0IFByb2R1Y3QKCmNsYXNzIENhcnQob2JqZWN0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCByZXF1ZXN0KToKICAgICAgICBzZWxmLnNlc3Npb24gPSByZXF1ZXN0LnNlc3Npb24KICAgICAgICBjYXJ0ID0gc2VsZi5zZXNzaW9uLmdldChzZXR0aW5ncy5DQVJUX1NFU1NJT05fSUQpCiAgICAgICAgaWYgbm90IGNhcnQ6CiAgICAgICAgICAgIGNhcnQgPSBzZWxmLnNlc3Npb25bc2V0dGluZ3MuQ0FSVF9TRVNTSU9OX0lEXSA9IHt9CiAgICAgICAgc2VsZi5jYXJ0ID0gY2FydAoKICAgIGRlZiBhZGQoc2VsZiwgcHJvZHVjdCwgcXVhbnRpdHk9MSwgdXBkYXRlX3F1YW50aXR5PUZhbHNlKToKICAgICAgICBwcm9kdWN0X2lkID0gc3RyKHByb2R1Y3QuaWQpCiAgICAgICAgaWYgcHJvZHVjdF9pZCBub3QgaW4gc2VsZi5jYXJ0OgogICAgICAgICAgICBzZWxmLmNhcnRbcHJvZHVjdF9pZF0gPSB7J3F1YW50aXR5JzogMCwgJ3ByaWNlJzogc3RyKHByb2R1Y3QucHJpY2UpfQogICAgICAgIGlmIHVwZGF0ZV9xdWFudGl0eToKICAgICAgICAgICAgc2VsZi5jYXJ0W3Byb2R1Y3RfaWRdWydxdWFudGl0eSddID0gcXVhbnRpdHkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLmNhcnRbcHJvZHVjdF9pZF1bJ3F1YW50aXR5J10gKz0gcXVhbnRpdHkKICAgICAgICBzZWxmLnNhdmUoKQoKICAgIGRlZiBzYXZlKHNlbGYpOgogICAgICAgIHNlbGYuc2Vzc2lvbi5tb2RpZmllZCA9IFRydWUKCiAgICBkZWYgcmVtb3ZlKHNlbGYsIHByb2R1Y3QpOgogICAgICAgIHByb2R1Y3RfaWQgPSBzdHIocHJvZHVjdC5pZCkKICAgICAgICBpZiBwcm9kdWN0X2lkIGluIHNlbGYuY2FydDoKICAgICAgICAgICAgZGVsIHNlbGYuY2FydFtwcm9kdWN0X2lkXQogICAgICAgICAgICBzZWxmLnNhdmUoKQoKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICBwcm9kdWN0X2lkcyA9IHNlbGYuY2FydC5rZXlzKCkKICAgICAgICBwcm9kdWN0cyA9IFByb2R1Y3Qub2JqZWN0cy5maWx0ZXIoaWRfX2luPXByb2R1Y3RfaWRzKQogICAgICAgIGZvciBwcm9kdWN0IGluIHByb2R1Y3RzOgogICAgICAgICAgICBzZWxmLmNhcnRbc3RyKHByb2R1Y3QuaWQpXVsncHJvZHVjdCddID0gcHJvZHVjdAoKICAgICAgICBmb3IgaXRlbSBpbiBzZWxmLmNhcnQudmFsdWVzKCk6CiAgICAgICAgICAgIGl0ZW1bJ3ByaWNlJ10gPSBEZWNpbWFsKGl0ZW1bJ3ByaWNlJ10pCiAgICAgICAgICAgIGl0ZW1bJ3RvdGFsX3ByaWNlJ10gPSBpdGVtWydwcmljZSddICogaXRlbVsncXVhbnRpdHknXQogICAgICAgICAgICB5aWVsZCBpdGVtCgogICAgZGVmIF9fbGVuX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHN1bShpdGVtWydxdWFudGl0eSddIGZvciBpdGVtIGluIHNlbGYuY2FydC52YWx1ZXMoKSkKCiAgICBkZWYgZ2V0X3RvdGFsX3ByaWNlKHNlbGYpOgogICAgICAgIHJldHVybiBzdW0oRGVjaW1hbChpdGVtWydwcmljZSddKSAqIGl0ZW1bJ3F1YW50aXR5J10gZm9yIGl0ZW0gaW4gc2VsZi5jYXJ0LnZhbHVlcygpKQoKICAgIGRlZiBjbGVhcihzZWxmKToKICAgICAgICBkZWwgc2VsZi5zZXNzaW9uW3NldHRpbmdzLkNBUlRfU0VTU0lPTl9JRF0KICAgICAgICBzZWxmLnNhdmUoKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># store/cart.py
from decimal import Decimal
from django.conf import settings
from .models import Product

class Cart(object):
    def __init__(self, request):
        self.session = request.session
        cart = self.session.get(settings.CART_SESSION_ID)
        if not cart:
            cart = self.session[settings.CART_SESSION_ID] = {}
        self.cart = cart

    def add(self, product, quantity=1, update_quantity=False):
        product_id = str(product.id)
        if product_id not in self.cart:
            self.cart[product_id] = {'quantity': 0, 'price': str(product.price)}
        if update_quantity:
            self.cart[product_id]['quantity'] = quantity
        else:
            self.cart[product_id]['quantity'] += quantity
        self.save()

    def save(self):
        self.session.modified = True

    def remove(self, product):
        product_id = str(product.id)
        if product_id in self.cart:
            del self.cart[product_id]
            self.save()

    def __iter__(self):
        product_ids = self.cart.keys()
        products = Product.objects.filter(id__in=product_ids)
        for product in products:
            self.cart[str(product.id)]['product'] = product

        for item in self.cart.values():
            item['price'] = Decimal(item['price'])
            item['total_price'] = item['price'] * item['quantity']
            yield item

    def __len__(self):
        return sum(item['quantity'] for item in self.cart.values())

    def get_total_price(self):
        return sum(Decimal(item['price']) * item['quantity'] for item in self.cart.values())

    def clear(self):
        del self.session[settings.CART_SESSION_ID]
        self.save()</pre></div><div class='content'></div><h1>Processament de comandes</h1>
<div class='content'><ul>
<li>Crea models i vistes de comandes.</li>
<li>Integra passarel·les de pagament (per exemple, Stripe, PayPal).</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBzdG9yZS9tb2RlbHMucHkgKG1vZGVscyBhZGRpY2lvbmFscyBkZSBjb21hbmRlcykKY2xhc3MgT3JkZXIobW9kZWxzLk1vZGVsKToKICAgIHVzZXIgPSBtb2RlbHMuRm9yZWlnbktleShVc2VyLCByZWxhdGVkX25hbWU9J29yZGVycycsIG9uX2RlbGV0ZT1tb2RlbHMuQ0FTQ0FERSkKICAgIGZpcnN0X25hbWUgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9NTApCiAgICBsYXN0X25hbWUgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9NTApCiAgICBlbWFpbCA9IG1vZGVscy5FbWFpbEZpZWxkKCkKICAgIGFkZHJlc3MgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9MjUwKQogICAgcG9zdGFsX2NvZGUgPSBtb2RlbHMuQ2hhckZpZWxkKG1heF9sZW5ndGg9MjApCiAgICBjaXR5ID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIGNyZWF0ZWQgPSBtb2RlbHMuRGF0ZVRpbWVGaWVsZChhdXRvX25vd19hZGQ9VHJ1ZSkKICAgIHVwZGF0ZWQgPSBtb2RlbHMuRGF0ZVRpbWVGaWVsZChhdXRvX25vdz1UcnVlKQogICAgcGFpZCA9IG1vZGVscy5Cb29sZWFuRmllbGQoZGVmYXVsdD1GYWxzZSkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gZidPcmRlciB7c2VsZi5pZH0nCgpjbGFzcyBPcmRlckl0ZW0obW9kZWxzLk1vZGVsKToKICAgIG9yZGVyID0gbW9kZWxzLkZvcmVpZ25LZXkoT3JkZXIsIHJlbGF0ZWRfbmFtZT0naXRlbXMnLCBvbl9kZWxldGU9bW9kZWxzLkNBU0NBREUpCiAgICBwcm9kdWN0ID0gbW9kZWxzLkZvcmVpZ25LZXkoUHJvZHVjdCwgcmVsYXRlZF9uYW1lPSdvcmRlcl9pdGVtcycsIG9uX2RlbGV0ZT1tb2RlbHMuQ0FTQ0FERSkKICAgIHByaWNlID0gbW9kZWxzLkRlY2ltYWxGaWVsZChtYXhfZGlnaXRzPTEwLCBkZWNpbWFsX3BsYWNlcz0yKQogICAgcXVhbnRpdHkgPSBtb2RlbHMuUG9zaXRpdmVJbnRlZ2VyRmllbGQoZGVmYXVsdD0xKQoKICAgIGRlZiBfX3N0cl9fKHNlbGYpOgogICAgICAgIHJldHVybiBmJ3tzZWxmLmlkfSc="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># store/models.py (models addicionals de comandes)
class Order(models.Model):
    user = models.ForeignKey(User, related_name='orders', on_delete=models.CASCADE)
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)
    email = models.EmailField()
    address = models.CharField(max_length=250)
    postal_code = models.CharField(max_length=20)
    city = models.CharField(max_length=100)
    created = models.DateTimeField(auto_now_add=True)
    updated = models.DateTimeField(auto_now=True)
    paid = models.BooleanField(default=False)

    def __str__(self):
        return f'Order {self.id}'

class OrderItem(models.Model):
    order = models.ForeignKey(Order, related_name='items', on_delete=models.CASCADE)
    product = models.ForeignKey(Product, related_name='order_items', on_delete=models.CASCADE)
    price = models.DecimalField(max_digits=10, decimal_places=2)
    quantity = models.PositiveIntegerField(default=1)

    def __str__(self):
        return f'{self.id}'</pre></div><div class='content'></div><h1>Funcionalitats avançades</h1>
<div class='content'><ul>
<li>Implementa ressenyes i valoracions de productes.</li>
<li>Afegeix funcionalitat de cerca.</li>
<li>Optimitza el rendiment amb memòria cau i indexació de bases de dades.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Al final d'aquest curs, hauràs construït un lloc de comerç electrònic complet utilitzant Django. Hauràs après a configurar un projecte Django, crear models, vistes i plantilles, implementar l'autenticació d'usuaris, gestionar un carret de la compra, processar comandes i afegir funcionalitats avançades. Aquest coneixement et proporcionarà una base sòlida per desenvolupar aplicacions web més complexes utilitzant Django.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
