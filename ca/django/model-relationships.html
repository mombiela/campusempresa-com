<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/django/model-relationships" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>En Django, les relacions de models són una part crucial del disseny d'un esquema de base de dades robust i eficient. Entendre com definir i utilitzar aquestes relacions t'ajudarà a construir aplicacions complexes amb dades interconnectades.</p>
</div><h1>Tipus de Relacions de Models</h1>
<div class='content'><p>Django admet tres tipus principals de relacions de models:</p>
<ol>
<li><strong>Relacions Un a Un</strong></li>
<li><strong>Relacions Molts a Un (ForeignKey)</strong></li>
<li><strong>Relacions Molts a Molts</strong></li>
</ol>
</div><h2>Relacions Un a Un</h2>
<div class='content'><p>Una relació un a un és similar a un ForeignKey amb <code>unique=True</code>. Aquest tipus de relació s'utilitza quan cada instància d'un model A pot estar associada amb una i només una instància del model B.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgVXNlclByb2ZpbGUobW9kZWxzLk1vZGVsKToKICAgIHVzZXIgPSBtb2RlbHMuT25lVG9PbmVGaWVsZChVc2VyLCBvbl9kZWxldGU9bW9kZWxzLkNBU0NBREUpCiAgICBiaW8gPSBtb2RlbHMuVGV4dEZpZWxkKCkKCmNsYXNzIFVzZXIobW9kZWxzLk1vZGVsKToKICAgIHVzZXJuYW1lID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIGVtYWlsID0gbW9kZWxzLkVtYWlsRmllbGQoKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.db import models

class UserProfile(models.Model):
    user = models.OneToOneField(User, on_delete=models.CASCADE)
    bio = models.TextField()

class User(models.Model):
    username = models.CharField(max_length=100)
    email = models.EmailField()</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>: En aquest exemple, cada <code>UserProfile</code> està enllaçat a un <code>User</code>. L'argument <code>on_delete=models.CASCADE</code> assegura que si un <code>User</code> és eliminat, el <code>UserProfile</code> corresponent també és eliminat.</li>
</ul>
</div><h2>Relacions Molts a Un (ForeignKey)</h2>
<div class='content'><p>Una relació molts a un s'utilitza quan múltiples instàncies del model A poden estar associades amb una instància del model B. Aquest és el tipus de relació més comú.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgQXV0aG9yKG1vZGVscy5Nb2RlbCk6CiAgICBuYW1lID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKCmNsYXNzIEJvb2sobW9kZWxzLk1vZGVsKToKICAgIHRpdGxlID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIGF1dGhvciA9IG1vZGVscy5Gb3JlaWduS2V5KEF1dGhvciwgb25fZGVsZXRlPW1vZGVscy5DQVNDQURFKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.db import models

class Author(models.Model):
    name = models.CharField(max_length=100)

class Book(models.Model):
    title = models.CharField(max_length=100)
    author = models.ForeignKey(Author, on_delete=models.CASCADE)</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>: Aquí, múltiples instàncies de <code>Book</code> poden estar associades amb un sol <code>Author</code>. L'argument <code>on_delete=models.CASCADE</code> assegura que si un <code>Author</code> és eliminat, totes les seves instàncies de <code>Book</code> també són eliminades.</li>
</ul>
</div><h2>Relacions Molts a Molts</h2>
<div class='content'><p>Una relació molts a molts s'utilitza quan múltiples instàncies del model A poden estar associades amb múltiples instàncies del model B.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnJvbSBkamFuZ28uZGIgaW1wb3J0IG1vZGVscwoKY2xhc3MgU3R1ZGVudChtb2RlbHMuTW9kZWwpOgogICAgbmFtZSA9IG1vZGVscy5DaGFyRmllbGQobWF4X2xlbmd0aD0xMDApCgpjbGFzcyBDb3Vyc2UobW9kZWxzLk1vZGVsKToKICAgIHRpdGxlID0gbW9kZWxzLkNoYXJGaWVsZChtYXhfbGVuZ3RoPTEwMCkKICAgIHN0dWRlbnRzID0gbW9kZWxzLk1hbnlUb01hbnlGaWVsZChTdHVkZW50KQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>from django.db import models

class Student(models.Model):
    name = models.CharField(max_length=100)

class Course(models.Model):
    title = models.CharField(max_length=100)
    students = models.ManyToManyField(Student)</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>: En aquest exemple, un <code>Student</code> pot inscriure's en múltiples instàncies de <code>Course</code>, i un <code>Course</code> pot tenir múltiples instàncies de <code>Student</code>.</li>
</ul>
</div><h1>Ús d'Objectes Relacionats</h1>
<div class='content'><p>Django proporciona una API potent per accedir a objectes relacionats.</p>
</div><h2>Accés a Objectes Relacionats</h2>
<div class='content'><ul>
<li>
<p><strong>Un a Un</strong>: Accedeix a l'objecte relacionat directament utilitzant el nom de l'atribut.</p>
<pre><code class="language-python">user_profile = UserProfile.objects.get(id=1)
user = user_profile.user
</code></pre>
</li>
<li>
<p><strong>Molts a Un</strong>: Utilitza la relació inversa afegint <code>_set</code> al nom del model.</p>
<pre><code class="language-python">author = Author.objects.get(id=1)
books = author.book_set.all()
</code></pre>
</li>
<li>
<p><strong>Molts a Molts</strong>: Utilitza el nom de l'atribut per accedir als objectes relacionats.</p>
<pre><code class="language-python">course = Course.objects.get(id=1)
students = course.students.all()
</code></pre>
</li>
</ul>
</div><h2>Afegir i Eliminar Relacions</h2>
<div class='content'><ul>
<li>
<p><strong>Un a Un</strong>: Assigna l'objecte relacionat directament.</p>
<pre><code class="language-python">user_profile.user = user
user_profile.save()
</code></pre>
</li>
<li>
<p><strong>Molts a Un</strong>: Assigna l'objecte relacionat directament.</p>
<pre><code class="language-python">book.author = author
book.save()
</code></pre>
</li>
<li>
<p><strong>Molts a Molts</strong>: Utilitza els mètodes <code>add</code> i <code>remove</code>.</p>
<pre><code class="language-python">course.students.add(student)
course.students.remove(student)
</code></pre>
</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Entendre i utilitzar efectivament les relacions de models en Django és essencial per construir aplicacions complexes i escalables. Dominant les relacions un a un, molts a un i molts a molts, pots dissenyar un esquema de base de dades robust que representi amb precisió les relacions del món real entre les teves entitats de dades. Practica aquests conceptes amb exemples del món real per solidificar la teva comprensió i convertir-te en un expert en relacions de models de Django.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
