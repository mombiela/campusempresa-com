<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sessions i Cookies en PHP</title>

    <link rel="alternate" href="https://campusempresa.com/es/php/sessions-and-cookies" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/php/sessions-and-cookies" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/php/sessions-and-cookies" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/php/sessions-and-cookies" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='php-standard-library'>&#x25C4;Biblioteca Estàndard de PHP (SPL)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Sessions i Cookies en PHP</a>
	</div>
	<div class='col-4 text-end'>
					<a href='working-with-apis'>Treballant amb APIs &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En el desenvolupament web, gestionar l'estat de l'usuari i les dades a través de múltiples pàgines és crucial. PHP ofereix dos mecanismes principals per a això: Sessions i Cookies. Aquesta secció cobrirà els conceptes bàsics de tots dos, com utilitzar-los i les seves diferències.</p>
</div><h1>Cookies</h1>
<div class='content'><p>Les cookies són petits fragments de dades emmagatzemats al navegador del client. S'utilitzen per recordar informació sobre l'usuari entre sol·licituds.</p>
</div><h2>Configurar una Cookie</h2>
<div class='content'><p>Per configurar una cookie en PHP, utilitza la funció <code>setcookie()</code>. Aquí tens un exemple bàsic:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKLy8gQ29uZmlndXJhIHVuYSBjb29raWUgYW5vbWVuYWRhICJ1c2VyIiBhbWIgZWwgdmFsb3IgIkpvaG4gRG9lIiBxdWUgZXhwaXJhIGVuIDMwIGRpZXMKc2V0Y29va2llKCJ1c2VyIiwgIkpvaG4gRG9lIiwgdGltZSgpICsgKDg2NDAwICogMzApLCAiLyIpOyAvLyA4NjQwMCA9IDEgZGlhCj8+"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
// Configura una cookie anomenada &quot;user&quot; amb el valor &quot;John Doe&quot; que expira en 30 dies
setcookie(&quot;user&quot;, &quot;John Doe&quot;, time() + (86400 * 30), &quot;/&quot;); // 86400 = 1 dia
?&gt;</pre></div><div class='content'></div><h2>Recuperar una Cookie</h2>
<div class='content'><p>Per recuperar una cookie, simplement accedeix a l'array superglobal <code>$_COOKIE</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKaWYoaXNzZXQoJF9DT09LSUVbInVzZXIiXSkpIHsKICAgIGVjaG8gIlVzZXIgaXMgIiAuICRfQ09PS0lFWyJ1c2VyIl07Cn0gZWxzZSB7CiAgICBlY2hvICJVc2VyIGlzIG5vdCBzZXQiOwp9Cj8+"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
if(isset($_COOKIE[&quot;user&quot;])) {
    echo &quot;User is &quot; . $_COOKIE[&quot;user&quot;];
} else {
    echo &quot;User is not set&quot;;
}
?&gt;</pre></div><div class='content'></div><h2>Eliminar una Cookie</h2>
<div class='content'><p>Per eliminar una cookie, configura la seva data d'expiració a un temps passat:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKLy8gRWxpbWluYSBsYSBjb29raWUgYW5vbWVuYWRhICJ1c2VyIgpzZXRjb29raWUoInVzZXIiLCAiIiwgdGltZSgpIC0gMzYwMCwgIi8iKTsKPz4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
// Elimina la cookie anomenada &quot;user&quot;
setcookie(&quot;user&quot;, &quot;&quot;, time() - 3600, &quot;/&quot;);
?&gt;</pre></div><div class='content'></div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Durada</strong>: Les cookies poden tenir una data d'expiració, després de la qual s'eliminen automàticament.</li>
<li><strong>Abast</strong>: Les cookies poden estar limitades a un camí o domini específic.</li>
<li><strong>Seguretat</strong>: Les cookies poden ser més segures configurant les banderes <code>Secure</code> i <code>HttpOnly</code>.</li>
</ul>
</div><h1>Sessions</h1>
<div class='content'><p>Les sessions emmagatzemen dades al servidor i utilitzen un identificador únic (ID de sessió) per enllaçar el client amb les dades emmagatzemades.</p>
</div><h2>Iniciar una Sessió</h2>
<div class='content'><p>Per iniciar una sessió, utilitza la funció <code>session_start()</code>. Això s'ha de cridar al començament del script:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKc2Vzc2lvbl9zdGFydCgpOwo/Pg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
session_start();
?&gt;</pre></div><div class='content'></div><h2>Configurar Variables de Sessió</h2>
<div class='content'><p>Per configurar variables de sessió, utilitza l'array superglobal <code>$_SESSION</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKc2Vzc2lvbl9zdGFydCgpOwokX1NFU1NJT05bInVzZXJuYW1lIl0gPSAiSm9obkRvZSI7CiRfU0VTU0lPTlsiZW1haWwiXSA9ICJqb2huQGV4YW1wbGUuY29tIjsKPz4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
session_start();
$_SESSION[&quot;username&quot;] = &quot;JohnDoe&quot;;
$_SESSION[&quot;email&quot;] = &quot;john@example.com&quot;;
?&gt;</pre></div><div class='content'></div><h2>Recuperar Variables de Sessió</h2>
<div class='content'><p>Per recuperar variables de sessió, accedeix a l'array <code>$_SESSION</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKc2Vzc2lvbl9zdGFydCgpOwplY2hvICJVc2VybmFtZTogIiAuICRfU0VTU0lPTlsidXNlcm5hbWUiXTsKZWNobyAiRW1haWw6ICIgLiAkX1NFU1NJT05bImVtYWlsIl07Cj8+"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
session_start();
echo &quot;Username: &quot; . $_SESSION[&quot;username&quot;];
echo &quot;Email: &quot; . $_SESSION[&quot;email&quot;];
?&gt;</pre></div><div class='content'></div><h2>Destruir una Sessió</h2>
<div class='content'><p>Per destruir una sessió i eliminar totes les dades de la sessió, utilitza <code>session_destroy()</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PD9waHAKc2Vzc2lvbl9zdGFydCgpOwpzZXNzaW9uX2Rlc3Ryb3koKTsKPz4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;?php
session_start();
session_destroy();
?&gt;</pre></div><div class='content'></div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Durada</strong>: Les sessions duren fins que el navegador es tanca o la sessió es destrueix explícitament.</li>
<li><strong>Emmagatzematge</strong>: Les dades de sessió s'emmagatzemen al servidor, fent-les més segures que les cookies.</li>
<li><strong>ID de Sessió</strong>: Un identificador únic que enllaça el client amb les dades de la sessió.</li>
</ul>
</div><h1>Comparació de Sessions i Cookies</h1>
<div class='content'><p>| Característica   | Cookies                                      | Sessions                                      |
|------------------|----------------------------------------------|-----------------------------------------------|
| Ubicació         | Costat del client (navegador)                | Costat del servidor                           |
| Seguretat        | Menys segura (pot ser manipulada)            | Més segura (dades emmagatzemades al servidor) |
| Durada           | Pot configurar-se per expirar en un temps específic | Dura fins que el navegador es tanca o es destrueix|
| Mida de Dades    | Limitada a 4KB                               | Sense límit de mida (depèn de la configuració del servidor)|
| Usos             | Recordar preferències de l'usuari, seguiment | Emmagatzemar l'estat de sessió de l'usuari, dades del carret de compra |</p>
</div><h1>Conclusió</h1>
<div class='content'><p>Les sessions i les cookies són eines essencials per gestionar l'estat de l'usuari i les dades en aplicacions PHP. Les cookies són útils per emmagatzemar petites quantitats de dades al costat del client, mentre que les sessions són més adequades per emmagatzemar dades sensibles de manera segura al costat del servidor. Entendre quan i com utilitzar cadascuna t'ajudarà a construir aplicacions web més robustes i segures.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='php-standard-library'>&#x25C4;Biblioteca Estàndard de PHP (SPL)</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Sessions i Cookies en PHP</a>
	</div>
	<div class='col-4 text-end'>
					<a href='working-with-apis'>Treballant amb APIs &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
