<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validació de Formularis en PHP</title>

    <link rel="alternate" href="https://campusempresa.com/es/php/form-validation" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/php/form-validation" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/php/form-validation" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/php/form-validation" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='handling-form-data'>&#x25C4;Gestió de Dades de Formularis</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Validació de Formularis en PHP</a>
	</div>
	<div class='col-4 text-end'>
					<a href='form-security'>Seguretat en Formularis &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La validació de formularis és un aspecte crucial del desenvolupament web, assegurant que les dades enviades pels usuaris siguin precises, completes i segures. Aquest tema et guiarà a través dels conceptes bàsics de la validació de formularis en PHP, progressant cap a tècniques més avançades.</p>
</div><h1>Introducció a la Validació de Formularis</h1>
<div class='content'><p>La validació de formularis és el procés de verificar que les dades introduïdes en un formulari compleixin certs criteris abans de ser processades. Això pot incloure comprovar camps obligatoris, validar adreces de correu electrònic, assegurar que les contrasenyes compleixin els requisits de complexitat, i més.</p>
</div><h2>Per què és Important la Validació de Formularis</h2>
<div class='content'><ul>
<li><strong>Integritat de Dades</strong>: Assegura que les dades introduïdes siguin precises i completes.</li>
<li><strong>Seguretat</strong>: Prevé que es puguin enviar dades malicioses.</li>
<li><strong>Experiència d'Usuari</strong>: Proporciona retroalimentació immediata als usuaris, millorant la seva experiència.</li>
</ul>
</div><h1>Validació Bàsica de Formularis</h1>
<div class='content'></div><h2>Camps Obligatòris</h2>
<div class='content'><p>Una de les formes més simples de validació és comprovar si un camp és obligatori. Això es pot fer utilitzant la funció <code>empty()</code> en PHP.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgKCRfU0VSVkVSWyJSRVFVRVNUX01FVEhPRCJdID09ICJQT1NUIikgewogICAgaWYgKGVtcHR5KCRfUE9TVFsibmFtZSJdKSkgewogICAgICAgICRuYW1lRXJyID0gIkVsIG5vbSDDqXMgb2JsaWdhdG9yaSI7CiAgICB9IGVsc2UgewogICAgICAgICRuYW1lID0gdGVzdF9pbnB1dCgkX1BPU1RbIm5hbWUiXSk7CiAgICB9Cn0KCmZ1bmN0aW9uIHRlc3RfaW5wdXQoJGRhdGEpIHsKICAgICRkYXRhID0gdHJpbSgkZGF0YSk7CiAgICAkZGF0YSA9IHN0cmlwc2xhc2hlcygkZGF0YSk7CiAgICAkZGF0YSA9IGh0bWxzcGVjaWFsY2hhcnMoJGRhdGEpOwogICAgcmV0dXJuICRkYXRhOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) {
    if (empty($_POST[&quot;name&quot;])) {
        $nameErr = &quot;El nom &eacute;s obligatori&quot;;
    } else {
        $name = test_input($_POST[&quot;name&quot;]);
    }
}

function test_input($data) {
    $data = trim($data);
    $data = stripslashes($data);
    $data = htmlspecialchars($data);
    return $data;
}</pre></div><div class='content'></div><h2>Validació d'Adreces de Correu Electrònic</h2>
<div class='content'><p>Per validar una adreça de correu electrònic, pots utilitzar la funció <code>filter_var()</code> amb el filtre <code>FILTER_VALIDATE_EMAIL</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgKCRfU0VSVkVSWyJSRVFVRVNUX01FVEhPRCJdID09ICJQT1NUIikgewogICAgaWYgKGVtcHR5KCRfUE9TVFsiZW1haWwiXSkpIHsKICAgICAgICAkZW1haWxFcnIgPSAiRWwgY29ycmV1IGVsZWN0csOybmljIMOpcyBvYmxpZ2F0b3JpIjsKICAgIH0gZWxzZSB7CiAgICAgICAgJGVtYWlsID0gdGVzdF9pbnB1dCgkX1BPU1RbImVtYWlsIl0pOwogICAgICAgIGlmICghZmlsdGVyX3ZhcigkZW1haWwsIEZJTFRFUl9WQUxJREFURV9FTUFJTCkpIHsKICAgICAgICAgICAgJGVtYWlsRXJyID0gIkZvcm1hdCBkZSBjb3JyZXUgZWxlY3Ryw7JuaWMgaW52w6BsaWQiOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) {
    if (empty($_POST[&quot;email&quot;])) {
        $emailErr = &quot;El correu electr&ograve;nic &eacute;s obligatori&quot;;
    } else {
        $email = test_input($_POST[&quot;email&quot;]);
        if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
            $emailErr = &quot;Format de correu electr&ograve;nic inv&agrave;lid&quot;;
        }
    }
}</pre></div><div class='content'></div><h2>Validació d'URLs</h2>
<div class='content'><p>De manera similar, les URLs es poden validar utilitzant la funció <code>filter_var()</code> amb el filtre <code>FILTER_VALIDATE_URL</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgKCRfU0VSVkVSWyJSRVFVRVNUX01FVEhPRCJdID09ICJQT1NUIikgewogICAgaWYgKGVtcHR5KCRfUE9TVFsid2Vic2l0ZSJdKSkgewogICAgICAgICR3ZWJzaXRlRXJyID0gIkVsIGxsb2Mgd2ViIMOpcyBvYmxpZ2F0b3JpIjsKICAgIH0gZWxzZSB7CiAgICAgICAgJHdlYnNpdGUgPSB0ZXN0X2lucHV0KCRfUE9TVFsid2Vic2l0ZSJdKTsKICAgICAgICBpZiAoIWZpbHRlcl92YXIoJHdlYnNpdGUsIEZJTFRFUl9WQUxJREFURV9VUkwpKSB7CiAgICAgICAgICAgICR3ZWJzaXRlRXJyID0gIlVSTCBpbnbDoGxpZGEiOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) {
    if (empty($_POST[&quot;website&quot;])) {
        $websiteErr = &quot;El lloc web &eacute;s obligatori&quot;;
    } else {
        $website = test_input($_POST[&quot;website&quot;]);
        if (!filter_var($website, FILTER_VALIDATE_URL)) {
            $websiteErr = &quot;URL inv&agrave;lida&quot;;
        }
    }
}</pre></div><div class='content'></div><h1>Validació Avançada de Formularis</h1>
<div class='content'></div><h2>Expressions Regulars</h2>
<div class='content'><p>Per a una validació més complexa, es poden utilitzar expressions regulars. Per exemple, validar el format d'un número de telèfon.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgKCRfU0VSVkVSWyJSRVFVRVNUX01FVEhPRCJdID09ICJQT1NUIikgewogICAgaWYgKGVtcHR5KCRfUE9TVFsicGhvbmUiXSkpIHsKICAgICAgICAkcGhvbmVFcnIgPSAiRWwgbsO6bWVybyBkZSB0ZWzDqGZvbiDDqXMgb2JsaWdhdG9yaSI7CiAgICB9IGVsc2UgewogICAgICAgICRwaG9uZSA9IHRlc3RfaW5wdXQoJF9QT1NUWyJwaG9uZSJdKTsKICAgICAgICBpZiAoIXByZWdfbWF0Y2goIi9eWzAtOV17MTB9JC8iLCAkcGhvbmUpKSB7CiAgICAgICAgICAgICRwaG9uZUVyciA9ICJGb3JtYXQgZGUgbsO6bWVybyBkZSB0ZWzDqGZvbiBpbnbDoGxpZCI7CiAgICAgICAgfQogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) {
    if (empty($_POST[&quot;phone&quot;])) {
        $phoneErr = &quot;El n&uacute;mero de tel&egrave;fon &eacute;s obligatori&quot;;
    } else {
        $phone = test_input($_POST[&quot;phone&quot;]);
        if (!preg_match(&quot;/^[0-9]{10}$/&quot;, $phone)) {
            $phoneErr = &quot;Format de n&uacute;mero de tel&egrave;fon inv&agrave;lid&quot;;
        }
    }
}</pre></div><div class='content'></div><h2>Funcions de Validació Personalitzades</h2>
<div class='content'><p>Pots crear funcions de validació personalitzades per manejar requisits específics. Per exemple, comprovar si un nom d'usuari ja està en ús.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gaXNVc2VybmFtZVRha2VuKCR1c2VybmFtZSkgewogICAgLy8gU3Vwb3NlbSBxdWUgJGNvbm4gw6lzIHVuYSBjb25uZXhpw7MgdsOgbGlkYSBhIGxhIGJhc2UgZGUgZGFkZXMKICAgIGdsb2JhbCAkY29ubjsKICAgICRzdG10ID0gJGNvbm4tPnByZXBhcmUoIlNFTEVDVCBpZCBGUk9NIHVzZXJzIFdIRVJFIHVzZXJuYW1lID0gPyIpOwogICAgJHN0bXQtPmJpbmRfcGFyYW0oInMiLCAkdXNlcm5hbWUpOwogICAgJHN0bXQtPmV4ZWN1dGUoKTsKICAgICRzdG10LT5zdG9yZV9yZXN1bHQoKTsKICAgIHJldHVybiAkc3RtdC0+bnVtX3Jvd3MgPiAwOwp9CgppZiAoJF9TRVJWRVJbIlJFUVVFU1RfTUVUSE9EIl0gPT0gIlBPU1QiKSB7CiAgICBpZiAoZW1wdHkoJF9QT1NUWyJ1c2VybmFtZSJdKSkgewogICAgICAgICR1c2VybmFtZUVyciA9ICJFbCBub20gZCd1c3Vhcmkgw6lzIG9ibGlnYXRvcmkiOwogICAgfSBlbHNlIHsKICAgICAgICAkdXNlcm5hbWUgPSB0ZXN0X2lucHV0KCRfUE9TVFsidXNlcm5hbWUiXSk7CiAgICAgICAgaWYgKGlzVXNlcm5hbWVUYWtlbigkdXNlcm5hbWUpKSB7CiAgICAgICAgICAgICR1c2VybmFtZUVyciA9ICJFbCBub20gZCd1c3VhcmkgamEgZXN0w6AgZW4gw7pzIjsKICAgICAgICB9CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function isUsernameTaken($username) {
    // Suposem que $conn &eacute;s una connexi&oacute; v&agrave;lida a la base de dades
    global $conn;
    $stmt = $conn-&gt;prepare(&quot;SELECT id FROM users WHERE username = ?&quot;);
    $stmt-&gt;bind_param(&quot;s&quot;, $username);
    $stmt-&gt;execute();
    $stmt-&gt;store_result();
    return $stmt-&gt;num_rows &gt; 0;
}

if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) {
    if (empty($_POST[&quot;username&quot;])) {
        $usernameErr = &quot;El nom d'usuari &eacute;s obligatori&quot;;
    } else {
        $username = test_input($_POST[&quot;username&quot;]);
        if (isUsernameTaken($username)) {
            $usernameErr = &quot;El nom d'usuari ja est&agrave; en &uacute;s&quot;;
        }
    }
}</pre></div><div class='content'></div><h1>Resum</h1>
<div class='content'><p>La validació de formularis és una part essencial del desenvolupament web que assegura la integritat de les dades, la seguretat i una millor experiència d'usuari. Començant amb comprovacions bàsiques per a camps obligatoris i adreces de correu electrònic vàlides, pots progressar cap a tècniques més avançades com expressions regulars i funcions de validació personalitzades. Dominant aquestes tècniques, podràs crear aplicacions web robustes i segures.</p>
<p>Recorda sempre sanititzar i validar les dades dels usuaris per protegir la teva aplicació de dades malicioses i assegurar la integritat de les dades processades.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='handling-form-data'>&#x25C4;Gestió de Dades de Formularis</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Validació de Formularis en PHP</a>
	</div>
	<div class='col-4 text-end'>
					<a href='form-security'>Seguretat en Formularis &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
