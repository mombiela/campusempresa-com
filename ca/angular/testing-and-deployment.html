<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves i Desplegament</title>

    <link rel="alternate" href="https://campusempresa.com/es/angular/testing-and-deployment" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/angular/testing-and-deployment" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/angular/testing-and-deployment" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/angular/testing-and-deployment" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='adding-advanced-features'>&#x25C4;Afegint funcions avançades</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Proves i Desplegament</a>
	</div>
	<div class='col-4 text-end'>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En aquesta secció, cobrirem els aspectes essencials de les proves i el desplegament d'aplicacions Angular. Les proves asseguren que la teva aplicació funcioni com s'espera, mentre que el desplegament implica fer que la teva aplicació estigui disponible per als usuaris. Començarem amb els conceptes bàsics de les proves i gradualment passarem a temes més avançats, seguit de les estratègies de desplegament.</p>
</div><h1>Proves en Angular</h1>
<div class='content'></div><h2>Proves Unitàries</h2>
<div class='content'><p>Les proves unitàries impliquen provar components o serveis individuals de manera aïllada.</p>
<ul>
<li><strong>Eines</strong>: Angular utilitza Jasmine per escriure proves i Karma com a executor de proves.</li>
<li><strong>Configuració</strong>: Angular CLI configura Jasmine i Karma per defecte.</li>
</ul>
<h4>Exemple: Provar un Component</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50Rml4dHVyZSwgVGVzdEJlZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7CmltcG9ydCB7IE15Q29tcG9uZW50IH0gZnJvbSAnLi9teS1jb21wb25lbnQuY29tcG9uZW50JzsKCmRlc2NyaWJlKCdNeUNvbXBvbmVudCcsICgpID0+IHsKICBsZXQgY29tcG9uZW50OiBNeUNvbXBvbmVudDsKICBsZXQgZml4dHVyZTogQ29tcG9uZW50Rml4dHVyZTxNeUNvbXBvbmVudD47CgogIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4gewogICAgYXdhaXQgVGVzdEJlZC5jb25maWd1cmVUZXN0aW5nTW9kdWxlKHsKICAgICAgZGVjbGFyYXRpb25zOiBbIE15Q29tcG9uZW50IF0KICAgIH0pCiAgICAuY29tcGlsZUNvbXBvbmVudHMoKTsKICB9KTsKCiAgYmVmb3JlRWFjaCgoKSA9PiB7CiAgICBmaXh0dXJlID0gVGVzdEJlZC5jcmVhdGVDb21wb25lbnQoTXlDb21wb25lbnQpOwogICAgY29tcG9uZW50ID0gZml4dHVyZS5jb21wb25lbnRJbnN0YW5jZTsKICAgIGZpeHR1cmUuZGV0ZWN0Q2hhbmdlcygpOwogIH0pOwoKICBpdCgnc2hvdWxkIGNyZWF0ZScsICgpID0+IHsKICAgIGV4cGVjdChjb21wb25lbnQpLnRvQmVUcnV0aHkoKTsKICB9KTsKfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { ComponentFixture, TestBed } from '@angular/core/testing';
import { MyComponent } from './my-component.component';

describe('MyComponent', () =&gt; {
  let component: MyComponent;
  let fixture: ComponentFixture&lt;MyComponent&gt;;

  beforeEach(async () =&gt; {
    await TestBed.configureTestingModule({
      declarations: [ MyComponent ]
    })
    .compileComponents();
  });

  beforeEach(() =&gt; {
    fixture = TestBed.createComponent(MyComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () =&gt; {
    expect(component).toBeTruthy();
  });
});</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>:
<ul>
<li><code>TestBed.configureTestingModule</code>: Configura el mòdul de proves.</li>
<li><code>beforeEach</code>: Configura el component abans de cada prova.</li>
<li><code>it</code>: Defineix un cas de prova individual.</li>
</ul>
</li>
</ul>
</div><h2>Proves d'Integració</h2>
<div class='content'><p>Les proves d'integració impliquen provar múltiples components o serveis junts per assegurar-se que funcionen com s'espera.</p>
<ul>
<li><strong>Eines</strong>: Jasmine i Karma també s'utilitzen per a les proves d'integració.</li>
</ul>
<h4>Exemple: Provar un Servei amb un Component</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgVGVzdEJlZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7CmltcG9ydCB7IE15U2VydmljZSB9IGZyb20gJy4vbXktc2VydmljZS5zZXJ2aWNlJzsKaW1wb3J0IHsgTXlDb21wb25lbnQgfSBmcm9tICcuL215LWNvbXBvbmVudC5jb21wb25lbnQnOwoKZGVzY3JpYmUoJ015Q29tcG9uZW50IHdpdGggTXlTZXJ2aWNlJywgKCkgPT4gewogIGxldCBjb21wb25lbnQ6IE15Q29tcG9uZW50OwogIGxldCBzZXJ2aWNlOiBNeVNlcnZpY2U7CgogIGJlZm9yZUVhY2goKCkgPT4gewogICAgVGVzdEJlZC5jb25maWd1cmVUZXN0aW5nTW9kdWxlKHsKICAgICAgcHJvdmlkZXJzOiBbTXlTZXJ2aWNlXSwKICAgICAgZGVjbGFyYXRpb25zOiBbTXlDb21wb25lbnRdCiAgICB9KTsKCiAgICBzZXJ2aWNlID0gVGVzdEJlZC5pbmplY3QoTXlTZXJ2aWNlKTsKICAgIGNvbXBvbmVudCA9IFRlc3RCZWQuY3JlYXRlQ29tcG9uZW50KE15Q29tcG9uZW50KS5jb21wb25lbnRJbnN0YW5jZTsKICB9KTsKCiAgaXQoJ3Nob3VsZCB1c2UgdGhlIHNlcnZpY2UnLCAoKSA9PiB7CiAgICBleHBlY3Qoc2VydmljZSkudG9CZVRydXRoeSgpOwogICAgZXhwZWN0KGNvbXBvbmVudC5teVNlcnZpY2UpLnRvQmUoc2VydmljZSk7CiAgfSk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { TestBed } from '@angular/core/testing';
import { MyService } from './my-service.service';
import { MyComponent } from './my-component.component';

describe('MyComponent with MyService', () =&gt; {
  let component: MyComponent;
  let service: MyService;

  beforeEach(() =&gt; {
    TestBed.configureTestingModule({
      providers: [MyService],
      declarations: [MyComponent]
    });

    service = TestBed.inject(MyService);
    component = TestBed.createComponent(MyComponent).componentInstance;
  });

  it('should use the service', () =&gt; {
    expect(service).toBeTruthy();
    expect(component.myService).toBe(service);
  });
});</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>:
<ul>
<li><code>TestBed.inject</code>: Injecta el servei en l'entorn de proves.</li>
<li><code>component.myService</code>: Assegura que el component utilitza el servei injectat.</li>
</ul>
</li>
</ul>
</div><h2>Proves de Cap a Cap (E2E)</h2>
<div class='content'><p>Les proves E2E impliquen provar tot el flux de l'aplicació de principi a fi.</p>
<ul>
<li><strong>Eines</strong>: Protractor s'utilitza comunament per a les proves E2E en Angular.</li>
</ul>
<h4>Exemple: Prova Bàsica E2E</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgYnJvd3NlciwgYnksIGVsZW1lbnQgfSBmcm9tICdwcm90cmFjdG9yJzsKCmRlc2NyaWJlKCdNeSBBcHAnLCAoKSA9PiB7CiAgaXQoJ3Nob3VsZCBkaXNwbGF5IHRoZSB3ZWxjb21lIG1lc3NhZ2UnLCAoKSA9PiB7CiAgICBicm93c2VyLmdldCgnLycpOwogICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdoMScpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1dlbGNvbWUgdG8gTXkgQXBwIScpOwogIH0pOwp9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { browser, by, element } from 'protractor';

describe('My App', () =&gt; {
  it('should display the welcome message', () =&gt; {
    browser.get('/');
    expect(element(by.css('h1')).getText()).toEqual('Welcome to My App!');
  });
});</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>:
<ul>
<li><code>browser.get('/')</code>: Navega a l'URL arrel.</li>
<li><code>element(by.css('h1')).getText()</code>: Selecciona l'element <code>h1</code> i obté el seu contingut de text.</li>
</ul>
</li>
</ul>
</div><h1>Desplegament</h1>
<div class='content'></div><h2>Preparació per al Desplegament</h2>
<div class='content'><p>Abans de desplegar la teva aplicació Angular, has de construir-la per a producció.</p>
<ul>
<li><strong>Comanda de Construcció</strong>: <code>ng build --prod</code>
<ul>
<li>Aquesta comanda optimitza l'aplicació per a producció minimitzant el codi i eliminant parts innecessàries.</li>
</ul>
</li>
</ul>
</div><h2>Opcions de Desplegament</h2>
<div class='content'><p>Hi ha diverses maneres de desplegar una aplicació Angular:</p>
<ol>
<li><strong>Allotjament de Fitxers Estàtics</strong>: Desplegar els fitxers construïts a un servei d'allotjament de fitxers estàtics com GitHub Pages, Netlify o Firebase Hosting.</li>
<li><strong>Desplegament en un Servidor</strong>: Desplegar en un servidor com Apache, Nginx, o un servei al núvol com AWS, Azure o Google Cloud.</li>
</ol>
<h4>Exemple: Desplegar a GitHub Pages</h4>
<ol>
<li><strong>Instal·lar Angular CLI GitHub Pages Deploy</strong>:
<pre><code class="language-bash">npm install -g angular-cli-ghpages
</code></pre>
</li>
<li><strong>Construir el Projecte</strong>:
<pre><code class="language-bash">ng build --prod --base-href &quot;https://&lt;username&gt;.github.io/&lt;repository&gt;/&quot;
</code></pre>
</li>
<li><strong>Desplegar</strong>:
<pre><code class="language-bash">ngh --dir=dist/&lt;project-name&gt;
</code></pre>
</li>
</ol>
</div><h2>Integració i Desplegament Continu (CI/CD)</h2>
<div class='content'><p>CI/CD automatitza el procés de provar i desplegar la teva aplicació.</p>
<ul>
<li><strong>Eines</strong>: Jenkins, Travis CI, CircleCI, GitHub Actions.</li>
</ul>
<h4>Exemple: Workflow de GitHub Actions</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kvQ0QgUGlwZWxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCgpqb2JzOgogIGJ1aWxkOgogICAgcnVucy1vbjogdWJ1bnR1LWxhdGVzdAoKICAgIHN0ZXBzOgogICAgLSB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCiAgICAtIG5hbWU6IFNldCB1cCBOb2RlLmpzCiAgICAgIHVzZXM6IGFjdGlvbnMvc2V0dXAtbm9kZUB2MgogICAgICB3aXRoOgogICAgICAgIG5vZGUtdmVyc2lvbjogJzE0JwogICAgLSBuYW1lOiBJbnN0YWxsIGRlcGVuZGVuY2llcwogICAgICBydW46IG5wbSBpbnN0YWxsCiAgICAtIG5hbWU6IFJ1biB0ZXN0cwogICAgICBydW46IG5wbSB0ZXN0CiAgICAtIG5hbWU6IEJ1aWxkIHByb2plY3QKICAgICAgcnVuOiBuZyBidWlsZCAtLXByb2QKICAgIC0gbmFtZTogRGVwbG95IHRvIEdpdEh1YiBQYWdlcwogICAgICBydW46IHwKICAgICAgICBucG0gaW5zdGFsbCAtZyBhbmd1bGFyLWNsaS1naHBhZ2VzCiAgICAgICAgbmdoIC0tZGlyPWRpc3QvPHByb2plY3QtbmFtZT4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI/CD Pipeline

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '14'
    - name: Install dependencies
      run: npm install
    - name: Run tests
      run: npm test
    - name: Build project
      run: ng build --prod
    - name: Deploy to GitHub Pages
      run: |
        npm install -g angular-cli-ghpages
        ngh --dir=dist/&lt;project-name&gt;</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>:
<ul>
<li><code>actions/checkout@v2</code>: Fa el checkout del repositori.</li>
<li><code>actions/setup-node@v2</code>: Configura Node.js.</li>
<li><code>npm install</code>: Instal·la les dependències.</li>
<li><code>npm test</code>: Executa les proves.</li>
<li><code>ng build --prod</code>: Construeix el projecte.</li>
<li><code>ngh --dir=dist/&lt;project-name&gt;</code>: Desplega a GitHub Pages.</li>
</ul>
</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Les proves i el desplegament són aspectes crucials del desenvolupament Angular. Les proves adequades asseguren que la teva aplicació sigui fiable i lliure d'errors, mentre que les estratègies de desplegament efectives fan que la teva aplicació sigui accessible als usuaris. Dominant aquests temes, pots assegurar-te que les teves aplicacions Angular siguin robustes i es lliurin eficientment al teu públic.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='adding-advanced-features'>&#x25C4;Afegint funcions avançades</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Proves i Desplegament</a>
	</div>
	<div class='col-4 text-end'>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
