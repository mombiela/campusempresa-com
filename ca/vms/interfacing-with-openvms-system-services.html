<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interfacing with OpenVMS System Services</title>

    <link rel="alternate" href="https://campusempresa.com/es/vms/interfacing-with-openvms-system-services" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/vms/interfacing-with-openvms-system-services" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/vms/interfacing-with-openvms-system-services" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/vms/interfacing-with-openvms-system-services" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='developing-and-debugging-applications'>&#x25C4; Desenvolupament i Depuració d'Aplicacions</a></div><div class='col-6 text-end'><a href='deploying-and-maintaining-applications'>Desplegament i Manteniment d'Aplicacions &#x25BA;</a></div></div><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Interfacing with OpenVMS system services és una habilitat crucial per als desenvolupadors que treballen en un entorn OpenVMS. Aquest tema cobrirà els conceptes bàsics dels serveis del sistema, com cridar-los des de diversos llenguatges de programació i tècniques avançades per a un ús eficient i efectiu.</p>
</div><h1>Què són els serveis del sistema OpenVMS?</h1>
<div class='content'><ul>
<li><strong>Definició</strong>: Els serveis del sistema són rutines proporcionades pel sistema operatiu OpenVMS que realitzen diverses operacions a nivell de sistema.</li>
<li><strong>Propòsit</strong>: Permeten als programes interactuar amb el sistema operatiu per realitzar tasques com operacions de fitxers, control de processos i comunicació entre processos.</li>
</ul>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Crides de Serveis del Sistema</strong>: Funcions proporcionades pel SO per realitzar tasques específiques.</li>
<li><strong>Descriptors</strong>: Estructures utilitzades per passar dades cap a i des dels serveis del sistema.</li>
<li><strong>Valors de Condició</strong>: Codis de retorn dels serveis del sistema que indiquen èxit o fracàs.</li>
</ul>
</div><h1>Cridar Serveis del Sistema en Diferents Llenguatges</h1>
<div class='content'></div><h2>Usant C</h2>
<div class='content'><p>En C, els serveis del sistema es criden utilitzant el prefix <code>sys$</code> seguit del nom del servei.</p>
<h4>Exemple: Crear un Procés</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGRlc2NyaXAuaD4KI2luY2x1ZGUgPGxpYiRyb3V0aW5lcy5oPgojaW5jbHVkZSA8c3NkZWYuaD4KI2luY2x1ZGUgPHN0YXJsZXQuaD4KCmludCBtYWluKCkgewogICAgc3RydWN0IGRzYyRkZXNjcmlwdG9yX3MgcHJvY2Vzc19uYW1lOwogICAgJERFU0NSSVBUT1IocHJvY2Vzc19uYW1lLCAiTVlfUFJPQ0VTUyIpOwoKICAgIHVuc2lnbmVkIGxvbmcgc3RhdHVzID0gc3lzJGNyZXByYygmcHJvY2Vzc19uYW1lLCAuLi4pOwoKICAgIGlmICgkVk1TX1NUQVRVU19TVUNDRVNTKHN0YXR1cykpIHsKICAgICAgICBwcmludGYoIlByb2Nlc3MgY3JlYXRlZCBzdWNjZXNzZnVsbHkuXG4iKTsKICAgIH0gZWxzZSB7CiAgICAgICAgcHJpbnRmKCJFcnJvciBjcmVhdGluZyBwcm9jZXNzOiAlbHhcbiIsIHN0YXR1cyk7CiAgICB9CgogICAgcmV0dXJuIDA7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;descrip.h&gt;
#include &lt;lib$routines.h&gt;
#include &lt;ssdef.h&gt;
#include &lt;starlet.h&gt;

int main() {
    struct dsc$descriptor_s process_name;
    $DESCRIPTOR(process_name, &quot;MY_PROCESS&quot;);

    unsigned long status = sys$creprc(&amp;process_name, ...);

    if ($VMS_STATUS_SUCCESS(status)) {
        printf(&quot;Process created successfully.\n&quot;);
    } else {
        printf(&quot;Error creating process: %lx\n&quot;, status);
    }

    return 0;
}</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>:
<ul>
<li><code>dsc$descriptor_s</code>: Estructura de descriptor per passar cadenes.</li>
<li><code>sys$creprc</code>: Servei del sistema per crear un procés.</li>
<li><code>$VMS_STATUS_SUCCESS</code>: Macro per comprovar si l'estat indica èxit.</li>
</ul>
</li>
</ul>
</div><h2>Usant Fortran</h2>
<div class='content'><p>En Fortran, els serveis del sistema es criden utilitzant la instrucció <code>CALL</code>.</p>
<h4>Exemple: Llegir un Fitxer</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFJPR1JBTSBSZWFkRmlsZQogIElNUExJQ0lUIE5PTkUKICBJTlRFR0VSIDo6IHN0YXR1cwogIENIQVJBQ1RFUigyNTUpIDo6IGJ1ZmZlcgogIElOVEVHRVIgOjogaW9zYigyKQoKICBDQUxMIFNZUyRRSU9XKDAsIGNoYW5uZWwsIElPJF9SRUFEVkJMSywgaW9zYiwgMCwgMCwgYnVmZmVyLCAyNTUsIDAsIDAsIDAsIDApCiAgc3RhdHVzID0gaW9zYigxKQoKICBJRiAoc3RhdHVzIC5FUS4gU1MkX05PUk1BTCkgVEhFTgogICAgUFJJTlQgKiwgJ1JlYWQgc3VjY2Vzc2Z1bDogJywgYnVmZmVyCiAgRUxTRQogICAgUFJJTlQgKiwgJ0Vycm9yIHJlYWRpbmcgZmlsZTogJywgc3RhdHVzCiAgRU5EIElGCkVORCBQUk9HUkFNIFJlYWRGaWxl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PROGRAM ReadFile
  IMPLICIT NONE
  INTEGER :: status
  CHARACTER(255) :: buffer
  INTEGER :: iosb(2)

  CALL SYS$QIOW(0, channel, IO$_READVBLK, iosb, 0, 0, buffer, 255, 0, 0, 0, 0)
  status = iosb(1)

  IF (status .EQ. SS$_NORMAL) THEN
    PRINT *, 'Read successful: ', buffer
  ELSE
    PRINT *, 'Error reading file: ', status
  END IF
END PROGRAM ReadFile</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>:
<ul>
<li><code>SYS$QIOW</code>: Servei del sistema per a operacions d'E/S síncrones.</li>
<li><code>IO$_READVBLK</code>: Codi de funció per llegir un bloc de dades.</li>
<li><code>iosb</code>: Bloc d'estat d'E/S per rebre l'estat de l'operació.</li>
</ul>
</li>
</ul>
</div><h1>Tècniques Avançades</h1>
<div class='content'></div><h2>Usant Bandes d'Esdeveniments</h2>
<div class='content'><p>Les bandes d'esdeveniments s'utilitzen per a la sincronització entre processos.</p>
<h4>Exemple: Esperar un Esdeveniment</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dW5zaWduZWQgbG9uZyBldmVudF9mbGFnID0gMTsKdW5zaWduZWQgbG9uZyBzdGF0dXMgPSBzeXMkd2FpdGZyKGV2ZW50X2ZsYWcpOwoKaWYgKCRWTVNfU1RBVFVTX1NVQ0NFU1Moc3RhdHVzKSkgewogICAgcHJpbnRmKCJFdmVudCBmbGFnIHNldC5cbiIpOwp9IGVsc2UgewogICAgcHJpbnRmKCJFcnJvciB3YWl0aW5nIGZvciBldmVudCBmbGFnOiAlbHhcbiIsIHN0YXR1cyk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>unsigned long event_flag = 1;
unsigned long status = sys$waitfr(event_flag);

if ($VMS_STATUS_SUCCESS(status)) {
    printf(&quot;Event flag set.\n&quot;);
} else {
    printf(&quot;Error waiting for event flag: %lx\n&quot;, status);
}</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>:
<ul>
<li><code>sys$waitfr</code>: Servei del sistema per esperar que es configuri una banda d'esdeveniments.</li>
<li><code>event_flag</code>: Identificador per a la banda d'esdeveniments.</li>
</ul>
</li>
</ul>
</div><h2>Usant E/S Asíncrona</h2>
<div class='content'><p>L'E/S asíncrona permet que un programa continuï executant-se mentre una operació d'E/S està en curs.</p>
<h4>Exemple: Escritura Asíncrona</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dW5zaWduZWQgc2hvcnQgaW9zYls0XTsKdW5zaWduZWQgbG9uZyBzdGF0dXMgPSBzeXMkcWlvKDAsIGNoYW5uZWwsIElPJF9XUklURVZCTEssIGlvc2IsIDAsIDAsIGJ1ZmZlciwgbGVuZ3RoLCAwLCAwLCAwLCAwKTsKCmlmICgkVk1TX1NUQVRVU19TVUNDRVNTKHN0YXR1cykpIHsKICAgIHByaW50ZigiV3JpdGUgaW5pdGlhdGVkIHN1Y2Nlc3NmdWxseS5cbiIpOwp9IGVsc2UgewogICAgcHJpbnRmKCJFcnJvciBpbml0aWF0aW5nIHdyaXRlOiAlbHhcbiIsIHN0YXR1cyk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>unsigned short iosb[4];
unsigned long status = sys$qio(0, channel, IO$_WRITEVBLK, iosb, 0, 0, buffer, length, 0, 0, 0, 0);

if ($VMS_STATUS_SUCCESS(status)) {
    printf(&quot;Write initiated successfully.\n&quot;);
} else {
    printf(&quot;Error initiating write: %lx\n&quot;, status);
}</pre></div><div class='content'><ul>
<li><strong>Explicació</strong>:
<ul>
<li><code>sys$qio</code>: Servei del sistema per iniciar una operació d'E/S asíncrona.</li>
<li><code>iosb</code>: Bloc d'estat d'E/S per rebre l'estat de l'operació.</li>
</ul>
</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Interfacing with OpenVMS system services és essencial per realitzar operacions a nivell de sistema en un entorn OpenVMS. Comprenent com cridar aquests serveis des de diferents llenguatges de programació i utilitzant tècniques avançades com les bandes d'esdeveniments i l'E/S asíncrona, els desenvolupadors poden crear aplicacions robustes i eficients. Practiqueu amb els exemples proporcionats i exploreu serveis del sistema addicionals per aprofundir en la vostra comprensió.</p>
</div><div class='row navigation'><div class='col-6'><a href='developing-and-debugging-applications'>&#x25C4; Desenvolupament i Depuració d'Aplicacions</a></div><div class='col-6 text-end'><a href='deploying-and-maintaining-applications'>Desplegament i Manteniment d'Aplicacions &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
