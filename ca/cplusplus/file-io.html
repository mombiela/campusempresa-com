<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrada/Sortida de Fitxers en C++</title>

    <link rel="alternate" href="https://campusempresa.com/es/cplusplus/file-io" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/cplusplus/file-io" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/cplusplus/file-io" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/cplusplus/file-io" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció a l'Entrada/Sortida de Fitxers</h1>
<div class='content'><p>L'entrada/sortida de fitxers (I/O) és un aspecte crític de la programació que permet als programes llegir i escriure fitxers. En C++, la biblioteca <code>&lt;fstream&gt;</code> proporciona les eines necessàries per realitzar operacions amb fitxers.</p>
</div><h1>Operacions Bàsiques amb Fitxers</h1>
<h2>Incloure la Capçalera Necessària</h2>
<div class='content'><p>Per treballar amb fitxers en C++, cal incloure la capçalera <code>&lt;fstream&gt;</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGZzdHJlYW0+"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;fstream&gt;</pre></div><div class='content'></div><h2>Obrir un Fitxer</h2>
<div class='content'><p>Per obrir un fitxer, es crea una instància de <code>std::ifstream</code> per llegir o <code>std::ofstream</code> per escriure.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGZzdHJlYW0+CiNpbmNsdWRlIDxpb3N0cmVhbT4KCmludCBtYWluKCkgewogICAgc3RkOjppZnN0cmVhbSBpbnB1dEZpbGUoImV4YW1wbGUudHh0Iik7IC8vIE9icmlyIHBlciBsbGVnaXIKICAgIHN0ZDo6b2ZzdHJlYW0gb3V0cHV0RmlsZSgib3V0cHV0LnR4dCIpOyAvLyBPYnJpciBwZXIgZXNjcml1cmUKCiAgICBpZiAoIWlucHV0RmlsZSkgewogICAgICAgIHN0ZDo6Y2VyciA8PCAiRXJyb3Igb2JyaW50IGVsIGZpdHhlciBkJ2VudHJhZGEhIiA8PCBzdGQ6OmVuZGw7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgaWYgKCFvdXRwdXRGaWxlKSB7CiAgICAgICAgc3RkOjpjZXJyIDw8ICJFcnJvciBvYnJpbnQgZWwgZml0eGVyIGRlIHNvcnRpZGEhIiA8PCBzdGQ6OmVuZGw7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgLy8gTGVzIG9wZXJhY2lvbnMgYW1iIGZpdHhlcnMgdmFuIGFxdcOtCgogICAgaW5wdXRGaWxlLmNsb3NlKCk7CiAgICBvdXRwdXRGaWxlLmNsb3NlKCk7CgogICAgcmV0dXJuIDA7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;fstream&gt;
#include &lt;iostream&gt;

int main() {
    std::ifstream inputFile(&quot;example.txt&quot;); // Obrir per llegir
    std::ofstream outputFile(&quot;output.txt&quot;); // Obrir per escriure

    if (!inputFile) {
        std::cerr &lt;&lt; &quot;Error obrint el fitxer d'entrada!&quot; &lt;&lt; std::endl;
        return 1;
    }

    if (!outputFile) {
        std::cerr &lt;&lt; &quot;Error obrint el fitxer de sortida!&quot; &lt;&lt; std::endl;
        return 1;
    }

    // Les operacions amb fitxers van aqu&iacute;

    inputFile.close();
    outputFile.close();

    return 0;
}</pre></div><div class='content'></div><h2>Llegir d'un Fitxer</h2>
<div class='content'><p>Es pot llegir d'un fitxer utilitzant l'operador <code>&gt;&gt;</code> o la funció <code>getline</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGZzdHJlYW0+CiNpbmNsdWRlIDxpb3N0cmVhbT4KI2luY2x1ZGUgPHN0cmluZz4KCmludCBtYWluKCkgewogICAgc3RkOjppZnN0cmVhbSBpbnB1dEZpbGUoImV4YW1wbGUudHh0Iik7CiAgICBzdGQ6OnN0cmluZyBsaW5lOwoKICAgIGlmIChpbnB1dEZpbGUuaXNfb3BlbigpKSB7CiAgICAgICAgd2hpbGUgKGdldGxpbmUoaW5wdXRGaWxlLCBsaW5lKSkgewogICAgICAgICAgICBzdGQ6OmNvdXQgPDwgbGluZSA8PCBzdGQ6OmVuZGw7CiAgICAgICAgfQogICAgICAgIGlucHV0RmlsZS5jbG9zZSgpOwogICAgfSBlbHNlIHsKICAgICAgICBzdGQ6OmNlcnIgPDwgIk5vIGVzIHBvdCBvYnJpciBlbCBmaXR4ZXIiOwogICAgfQoKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;fstream&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;

int main() {
    std::ifstream inputFile(&quot;example.txt&quot;);
    std::string line;

    if (inputFile.is_open()) {
        while (getline(inputFile, line)) {
            std::cout &lt;&lt; line &lt;&lt; std::endl;
        }
        inputFile.close();
    } else {
        std::cerr &lt;&lt; &quot;No es pot obrir el fitxer&quot;;
    }

    return 0;
}</pre></div><div class='content'></div><h2>Escriure a un Fitxer</h2>
<div class='content'><p>Es pot escriure a un fitxer utilitzant l'operador <code>&lt;&lt;</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGZzdHJlYW0+CiNpbmNsdWRlIDxpb3N0cmVhbT4KCmludCBtYWluKCkgewogICAgc3RkOjpvZnN0cmVhbSBvdXRwdXRGaWxlKCJvdXRwdXQudHh0Iik7CgogICAgaWYgKG91dHB1dEZpbGUuaXNfb3BlbigpKSB7CiAgICAgICAgb3V0cHV0RmlsZSA8PCAiQXF1ZXN0YSDDqXMgdW5hIGzDrW5pYS5cbiI7CiAgICAgICAgb3V0cHV0RmlsZSA8PCAiQXF1ZXN0YSDDqXMgdW5hIGFsdHJhIGzDrW5pYS5cbiI7CiAgICAgICAgb3V0cHV0RmlsZS5jbG9zZSgpOwogICAgfSBlbHNlIHsKICAgICAgICBzdGQ6OmNlcnIgPDwgIk5vIGVzIHBvdCBvYnJpciBlbCBmaXR4ZXIiOwogICAgfQoKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;fstream&gt;
#include &lt;iostream&gt;

int main() {
    std::ofstream outputFile(&quot;output.txt&quot;);

    if (outputFile.is_open()) {
        outputFile &lt;&lt; &quot;Aquesta &eacute;s una l&iacute;nia.\n&quot;;
        outputFile &lt;&lt; &quot;Aquesta &eacute;s una altra l&iacute;nia.\n&quot;;
        outputFile.close();
    } else {
        std::cerr &lt;&lt; &quot;No es pot obrir el fitxer&quot;;
    }

    return 0;
}</pre></div><div class='content'></div><h1>Operacions Avançades amb Fitxers</h1>
<h2>Modes de Fitxer</h2>
<div class='content'><p>C++ proporciona diversos modes de fitxer que es poden combinar utilitzant l'operador OR a nivell de bits (<code>|</code>).</p>
<p>| Mode         | Descripció                       |
|--------------|----------------------------------|
| <code>ios::in</code>    | Obrir per llegir                 |
| <code>ios::out</code>   | Obrir per escriure               |
| <code>ios::app</code>   | Afegir al final del fitxer       |
| <code>ios::ate</code>   | Moure's al final del fitxer      |
| <code>ios::trunc</code> | Truncar el fitxer                |
| <code>ios::binary</code>| Obrir en mode binari             |</p>
<p>Exemple de combinació de modes:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3RkOjpvZnN0cmVhbSBvdXRwdXRGaWxlKCJvdXRwdXQudHh0Iiwgc3RkOjppb3M6Om91dCB8IHN0ZDo6aW9zOjphcHApOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>std::ofstream outputFile(&quot;output.txt&quot;, std::ios::out | std::ios::app);</pre></div><div class='content'></div><h2>Entrada/Sortida de Fitxers Binaris</h2>
<div class='content'><p>Per als fitxers binaris, utilitzeu el mode <code>std::ios::binary</code> i llegiu/escriviu utilitzant els mètodes <code>read</code> i <code>write</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGZzdHJlYW0+CiNpbmNsdWRlIDxpb3N0cmVhbT4KCmludCBtYWluKCkgewogICAgc3RkOjpvZnN0cmVhbSBvdXRwdXRGaWxlKCJiaW5hcnkuZGF0Iiwgc3RkOjppb3M6OmJpbmFyeSk7CiAgICBpbnQgbnVtYmVyID0gMTIzNDU7CgogICAgaWYgKG91dHB1dEZpbGUuaXNfb3BlbigpKSB7CiAgICAgICAgb3V0cHV0RmlsZS53cml0ZShyZWludGVycHJldF9jYXN0PGNoYXIqPigmbnVtYmVyKSwgc2l6ZW9mKG51bWJlcikpOwogICAgICAgIG91dHB1dEZpbGUuY2xvc2UoKTsKICAgIH0gZWxzZSB7CiAgICAgICAgc3RkOjpjZXJyIDw8ICJObyBlcyBwb3Qgb2JyaXIgZWwgZml0eGVyIjsKICAgIH0KCiAgICBpbnQgcmVhZE51bWJlcjsKICAgIHN0ZDo6aWZzdHJlYW0gaW5wdXRGaWxlKCJiaW5hcnkuZGF0Iiwgc3RkOjppb3M6OmJpbmFyeSk7CgogICAgaWYgKGlucHV0RmlsZS5pc19vcGVuKCkpIHsKICAgICAgICBpbnB1dEZpbGUucmVhZChyZWludGVycHJldF9jYXN0PGNoYXIqPigmcmVhZE51bWJlciksIHNpemVvZihyZWFkTnVtYmVyKSk7CiAgICAgICAgaW5wdXRGaWxlLmNsb3NlKCk7CiAgICAgICAgc3RkOjpjb3V0IDw8ICJOw7ptZXJvIGxsZWdpdDogIiA8PCByZWFkTnVtYmVyIDw8IHN0ZDo6ZW5kbDsKICAgIH0gZWxzZSB7CiAgICAgICAgc3RkOjpjZXJyIDw8ICJObyBlcyBwb3Qgb2JyaXIgZWwgZml0eGVyIjsKICAgIH0KCiAgICByZXR1cm4gMDsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;fstream&gt;
#include &lt;iostream&gt;

int main() {
    std::ofstream outputFile(&quot;binary.dat&quot;, std::ios::binary);
    int number = 12345;

    if (outputFile.is_open()) {
        outputFile.write(reinterpret_cast&lt;char*&gt;(&amp;number), sizeof(number));
        outputFile.close();
    } else {
        std::cerr &lt;&lt; &quot;No es pot obrir el fitxer&quot;;
    }

    int readNumber;
    std::ifstream inputFile(&quot;binary.dat&quot;, std::ios::binary);

    if (inputFile.is_open()) {
        inputFile.read(reinterpret_cast&lt;char*&gt;(&amp;readNumber), sizeof(readNumber));
        inputFile.close();
        std::cout &lt;&lt; &quot;N&uacute;mero llegit: &quot; &lt;&lt; readNumber &lt;&lt; std::endl;
    } else {
        std::cerr &lt;&lt; &quot;No es pot obrir el fitxer&quot;;
    }

    return 0;
}</pre></div><div class='content'></div><h1>Gestió d'Errors</h1>
<h2>Comprovar l'Estat del Fitxer</h2>
<div class='content'><p>Es pot comprovar l'estat d'un flux de fitxer utilitzant diverses funcions membre.</p>
<ul>
<li><code>inputFile.is_open()</code>: Comprova si el fitxer està obert.</li>
<li><code>inputFile.good()</code>: Comprova si el flux està en bon estat.</li>
<li><code>inputFile.eof()</code>: Comprova si s'ha arribat al final del fitxer.</li>
<li><code>inputFile.fail()</code>: Comprova si una operació de lectura/escriptura ha fallat.</li>
</ul>
<p>Exemple:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPGZzdHJlYW0+CiNpbmNsdWRlIDxpb3N0cmVhbT4KCmludCBtYWluKCkgewogICAgc3RkOjppZnN0cmVhbSBpbnB1dEZpbGUoImV4YW1wbGUudHh0Iik7CgogICAgaWYgKGlucHV0RmlsZS5pc19vcGVuKCkpIHsKICAgICAgICBzdGQ6OnN0cmluZyBsaW5lOwogICAgICAgIHdoaWxlIChnZXRsaW5lKGlucHV0RmlsZSwgbGluZSkpIHsKICAgICAgICAgICAgaWYgKGlucHV0RmlsZS5mYWlsKCkpIHsKICAgICAgICAgICAgICAgIHN0ZDo6Y2VyciA8PCAiRXJyb3IgbGxlZ2ludCBkZWwgZml0eGVyIiA8PCBzdGQ6OmVuZGw7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBzdGQ6OmNvdXQgPDwgbGluZSA8PCBzdGQ6OmVuZGw7CiAgICAgICAgfQogICAgICAgIGlucHV0RmlsZS5jbG9zZSgpOwogICAgfSBlbHNlIHsKICAgICAgICBzdGQ6OmNlcnIgPDwgIk5vIGVzIHBvdCBvYnJpciBlbCBmaXR4ZXIiOwogICAgfQoKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;fstream&gt;
#include &lt;iostream&gt;

int main() {
    std::ifstream inputFile(&quot;example.txt&quot;);

    if (inputFile.is_open()) {
        std::string line;
        while (getline(inputFile, line)) {
            if (inputFile.fail()) {
                std::cerr &lt;&lt; &quot;Error llegint del fitxer&quot; &lt;&lt; std::endl;
                break;
            }
            std::cout &lt;&lt; line &lt;&lt; std::endl;
        }
        inputFile.close();
    } else {
        std::cerr &lt;&lt; &quot;No es pot obrir el fitxer&quot;;
    }

    return 0;
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>L'entrada/sortida de fitxers en C++ és una característica potent que permet llegir i escriure fitxers de manera eficient. Comprenent les operacions bàsiques i avançades amb fitxers, es poden gestionar diverses tasques relacionades amb fitxers en els teus programes. Assegura't sempre de gestionar els errors de manera adequada per fer que els teus programes siguin robustos i fiables.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
