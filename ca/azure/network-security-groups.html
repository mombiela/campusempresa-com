<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/azure/network-security-groups" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció als Grups de Seguretat de Xarxa (NSG)</h1>
<div class='content'><p>Els Grups de Seguretat de Xarxa (NSGs) són un component crític a Azure per gestionar i controlar el trànsit de xarxa. Actuen com a tallafocs virtuals, permetent filtrar el trànsit entrant i sortint cap a i des dels recursos d'Azure.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Conceptes Bàsics dels NSG</strong>: Els NSGs contenen regles de seguretat que permeten o deneguen el trànsit de xarxa cap als recursos connectats a les Xarxes Virtuals d'Azure (VNets).</li>
<li><strong>Regles de Seguretat</strong>: Cada regla NSG especifica l'origen i la destinació, el port i el protocol.</li>
<li><strong>Regles Per Defecte</strong>: Els NSGs venen amb un conjunt de regles per defecte que no es poden eliminar però es poden substituir per regles de prioritat més alta.</li>
<li><strong>Associacions</strong>: Els NSGs es poden associar amb subxarxes o interfícies de xarxa individuals (NICs).</li>
</ul>
</div><h1>Creació i Gestió dels NSGs</h1>
<div class='content'></div><h2>Creació d'un NSG</h2>
<div class='content'><p>Per crear un NSG, pots utilitzar el Portal d'Azure, l'Azure CLI o l'Azure PowerShell.</p>
<h4>Utilitzant el Portal d'Azure</h4>
<ol>
<li>Navega al Portal d'Azure.</li>
<li>Selecciona &quot;Crear un recurs&quot; i cerca &quot;Grup de Seguretat de Xarxa&quot;.</li>
<li>Fes clic a &quot;Crear&quot; i omple els detalls requerits com ara nom, subscripció, grup de recursos i regió.</li>
<li>Fes clic a &quot;Revisar + crear&quot; i després a &quot;Crear&quot;.</li>
</ol>
<h4>Utilitzant l'Azure CLI</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXogbmV0d29yayBuc2cgY3JlYXRlIFwKICAtLXJlc291cmNlLWdyb3VwIE15UmVzb3VyY2VHcm91cCBcCiAgLS1uYW1lIE15TlNHIFwKICAtLWxvY2F0aW9uIGVhc3R1cw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>az network nsg create \
  --resource-group MyResourceGroup \
  --name MyNSG \
  --location eastus</pre></div><div class='content'><h4>Utilitzant l'Azure PowerShell</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TmV3LUF6TmV0d29ya1NlY3VyaXR5R3JvdXAgLVJlc291cmNlR3JvdXBOYW1lICJNeVJlc291cmNlR3JvdXAiIC1Mb2NhdGlvbiAiRWFzdFVTIiAtTmFtZSAiTXlOU0ci"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>New-AzNetworkSecurityGroup -ResourceGroupName &quot;MyResourceGroup&quot; -Location &quot;EastUS&quot; -Name &quot;MyNSG&quot;</pre></div><div class='content'></div><h2>Gestió de les Regles NSG</h2>
<div class='content'><p>Les regles NSG defineixen el trànsit que es permet o es denega. Cada regla té propietats com ara nom, prioritat, origen, destinació, port i protocol.</p>
<h4>Afegint una Regla a través del Portal d'Azure</h4>
<ol>
<li>Navega al teu NSG al Portal d'Azure.</li>
<li>Selecciona &quot;Regles de seguretat entrants&quot; o &quot;Regles de seguretat sortints&quot;.</li>
<li>Fes clic a &quot;Afegir&quot; i omple els detalls com ara origen, destinació, rangs de ports i acció (Permetre/Denegar).</li>
<li>Fes clic a &quot;Afegir&quot; per guardar la regla.</li>
</ol>
<h4>Afegint una Regla a través de l'Azure CLI</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXogbmV0d29yayBuc2cgcnVsZSBjcmVhdGUgXAogIC0tcmVzb3VyY2UtZ3JvdXAgTXlSZXNvdXJjZUdyb3VwIFwKICAtLW5zZy1uYW1lIE15TlNHIFwKICAtLW5hbWUgQWxsb3dTU0ggXAogIC0tcHJvdG9jb2wgVGNwIFwKICAtLWRpcmVjdGlvbiBJbmJvdW5kIFwKICAtLXByaW9yaXR5IDEwMDAgXAogIC0tc291cmNlLWFkZHJlc3MtcHJlZml4ZXMgJyonIFwKICAtLXNvdXJjZS1wb3J0LXJhbmdlcyAnKicgXAogIC0tZGVzdGluYXRpb24tYWRkcmVzcy1wcmVmaXhlcyAnKicgXAogIC0tZGVzdGluYXRpb24tcG9ydC1yYW5nZXMgMjIgXAogIC0tYWNjZXNzIEFsbG93"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>az network nsg rule create \
  --resource-group MyResourceGroup \
  --nsg-name MyNSG \
  --name AllowSSH \
  --protocol Tcp \
  --direction Inbound \
  --priority 1000 \
  --source-address-prefixes '*' \
  --source-port-ranges '*' \
  --destination-address-prefixes '*' \
  --destination-port-ranges 22 \
  --access Allow</pre></div><div class='content'><h4>Afegint una Regla a través de l'Azure PowerShell</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("JHJ1bGUgPSBOZXctQXpOZXR3b3JrU2VjdXJpdHlSdWxlQ29uZmlnIC1OYW1lICJBbGxvd1NTSCIgLVByb3RvY29sICJUY3AiIC1EaXJlY3Rpb24gIkluYm91bmQiIC1Qcmlvcml0eSAxMDAwIC1Tb3VyY2VBZGRyZXNzUHJlZml4ICIqIiAtU291cmNlUG9ydFJhbmdlICIqIiAtRGVzdGluYXRpb25BZGRyZXNzUHJlZml4ICIqIiAtRGVzdGluYXRpb25Qb3J0UmFuZ2UgMjIgLUFjY2VzcyAiQWxsb3ciCiRuc2cgPSBHZXQtQXpOZXR3b3JrU2VjdXJpdHlHcm91cCAtUmVzb3VyY2VHcm91cE5hbWUgIk15UmVzb3VyY2VHcm91cCIgLU5hbWUgIk15TlNHIgokbnNnLlNlY3VyaXR5UnVsZXMuQWRkKCRydWxlKQpTZXQtQXpOZXR3b3JrU2VjdXJpdHlHcm91cCAtTmV0d29ya1NlY3VyaXR5R3JvdXAgJG5zZw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>$rule = New-AzNetworkSecurityRuleConfig -Name &quot;AllowSSH&quot; -Protocol &quot;Tcp&quot; -Direction &quot;Inbound&quot; -Priority 1000 -SourceAddressPrefix &quot;*&quot; -SourcePortRange &quot;*&quot; -DestinationAddressPrefix &quot;*&quot; -DestinationPortRange 22 -Access &quot;Allow&quot;
$nsg = Get-AzNetworkSecurityGroup -ResourceGroupName &quot;MyResourceGroup&quot; -Name &quot;MyNSG&quot;
$nsg.SecurityRules.Add($rule)
Set-AzNetworkSecurityGroup -NetworkSecurityGroup $nsg</pre></div><div class='content'></div><h1>Configuracions Avançades dels NSG</h1>
<div class='content'></div><h2>Diagnòstic i Monitorització dels NSG</h2>
<div class='content'><p>Azure proporciona eines per monitoritzar i diagnosticar les regles NSG i el seu impacte en el trànsit de xarxa.</p>
<ul>
<li><strong>Registres de Flux NSG</strong>: Captura informació sobre el trànsit IP que flueix a través d'un NSG.</li>
<li><strong>Network Watcher</strong>: Utilitza Network Watcher per diagnosticar i visualitzar problemes de xarxa.</li>
</ul>
<h4>Activant els Registres de Flux NSG</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXogbmV0d29yayB3YXRjaGVyIGZsb3ctbG9nIGNvbmZpZ3VyZSBcCiAgLS1yZXNvdXJjZS1ncm91cCBNeVJlc291cmNlR3JvdXAgXAogIC0tbnNnIE15TlNHIFwKICAtLWVuYWJsZWQgdHJ1ZSBcCiAgLS1zdG9yYWdlLWFjY291bnQgTXlTdG9yYWdlQWNjb3VudCBcCiAgLS1yZXRlbnRpb24gNw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>az network watcher flow-log configure \
  --resource-group MyResourceGroup \
  --nsg MyNSG \
  --enabled true \
  --storage-account MyStorageAccount \
  --retention 7</pre></div><div class='content'></div><h2>NSG i Grups de Seguretat d'Aplicacions (ASG)</h2>
<div class='content'><p>Els Grups de Seguretat d'Aplicacions (ASGs) et permeten agrupar màquines virtuals i definir polítiques de seguretat de xarxa basades en aquests grups.</p>
<ul>
<li><strong>Conceptes Bàsics dels ASG</strong>: Simplifica les regles de seguretat de xarxa complexes agrupant màquines virtuals.</li>
<li><strong>Integració amb NSG</strong>: Utilitza ASGs en les regles NSG per permetre o denegar trànsit a grups específics de màquines virtuals.</li>
</ul>
<h4>Creant i Utilitzant ASGs</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDcmVhciB1biBBU0cKYXogbmV0d29yayBhc2cgY3JlYXRlIC0tcmVzb3VyY2UtZ3JvdXAgTXlSZXNvdXJjZUdyb3VwIC0tbmFtZSBNeUFTRwoKIyBBZmVnaXIgdW5hIG3DoHF1aW5hIHZpcnR1YWwgYSB1biBBU0cKYXogbmV0d29yayBuaWMgdXBkYXRlIC0tcmVzb3VyY2UtZ3JvdXAgTXlSZXNvdXJjZUdyb3VwIC0tbmFtZSBNeU5pYyAtLWFwcGxpY2F0aW9uLXNlY3VyaXR5LWdyb3VwcyBNeUFTRwoKIyBVdGlsaXR6YXIgQVNHIGVuIHVuYSByZWdsYSBOU0cKYXogbmV0d29yayBuc2cgcnVsZSBjcmVhdGUgXAogIC0tcmVzb3VyY2UtZ3JvdXAgTXlSZXNvdXJjZUdyb3VwIFwKICAtLW5zZy1uYW1lIE15TlNHIFwKICAtLW5hbWUgQWxsb3dBU0cgXAogIC0tcHJvdG9jb2wgVGNwIFwKICAtLWRpcmVjdGlvbiBJbmJvdW5kIFwKICAtLXByaW9yaXR5IDEwMDAgXAogIC0tc291cmNlLWFzZ3MgTXlBU0cgXAogIC0tZGVzdGluYXRpb24tcG9ydC1yYW5nZXMgODAgXAogIC0tYWNjZXNzIEFsbG93"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Crear un ASG
az network asg create --resource-group MyResourceGroup --name MyASG

# Afegir una m&agrave;quina virtual a un ASG
az network nic update --resource-group MyResourceGroup --name MyNic --application-security-groups MyASG

# Utilitzar ASG en una regla NSG
az network nsg rule create \
  --resource-group MyResourceGroup \
  --nsg-name MyNSG \
  --name AllowASG \
  --protocol Tcp \
  --direction Inbound \
  --priority 1000 \
  --source-asgs MyASG \
  --destination-port-ranges 80 \
  --access Allow</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Els Grups de Seguretat de Xarxa (NSGs) són essencials per gestionar i assegurar el trànsit de xarxa a Azure. Entenent com crear, gestionar i monitoritzar els NSGs, pots controlar efectivament l'accés als teus recursos d'Azure. Les configuracions avançades, com la integració amb els Grups de Seguretat d'Aplicacions (ASGs) i l'ús d'eines de diagnòstic, milloren encara més la teva capacitat per mantenir un entorn de xarxa segur i eficient.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
