<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/open_gl/post-processing-effects" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Els efectes de postprocessament són tècniques utilitzades per millorar la qualitat visual d'una escena renderitzada en OpenGL. Aquests efectes s'apliquen després del pas de renderització inicial, permetent una varietat de millores visuals com el desenfocament, la correcció del color i més.</p>
</div><h1>Introducció al Postprocessament</h1>
<div class='content'><p>El postprocessament implica renderitzar l'escena a una textura i després aplicar diversos efectes a aquesta textura abans de mostrar-la a la pantalla. Aquest enfocament permet efectes visuals complexos que serien difícils o impossibles d'aconseguir durant el pas de renderització inicial.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Framebuffer Object (FBO)</strong>: Un contenidor per a textures i renderbuffers que permet la renderització fora de pantalla.</li>
<li><strong>Render to Texture</strong>: El procés de renderitzar una escena a una textura en lloc de directament a la pantalla.</li>
<li><strong>Screen Quad</strong>: Un rectangle simple que cobreix tota la pantalla, utilitzat per mostrar la textura amb els efectes aplicats.</li>
<li><strong>Shaders</strong>: Petits programes que s'executen a la GPU per aplicar efectes a la textura renderitzada.</li>
</ul>
</div><h1>Configuració del Postprocessament</h1>
<div class='content'></div><h2>Creació d'un Framebuffer Object (FBO)</h2>
<div class='content'><p>Per realitzar el postprocessament, primer cal crear un FBO i adjuntar-hi una textura.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R0x1aW50IGZibzsKZ2xHZW5GcmFtZWJ1ZmZlcnMoMSwgJmZibyk7CmdsQmluZEZyYW1lYnVmZmVyKEdMX0ZSQU1FQlVGRkVSLCBmYm8pOwoKR0x1aW50IHRleHR1cmU7CmdsR2VuVGV4dHVyZXMoMSwgJnRleHR1cmUpOwpnbEJpbmRUZXh0dXJlKEdMX1RFWFRVUkVfMkQsIHRleHR1cmUpOwpnbFRleEltYWdlMkQoR0xfVEVYVFVSRV8yRCwgMCwgR0xfUkdCLCB3aWR0aCwgaGVpZ2h0LCAwLCBHTF9SR0IsIEdMX1VOU0lHTkVEX0JZVEUsIE5VTEwpOwpnbFRleFBhcmFtZXRlcmkoR0xfVEVYVFVSRV8yRCwgR0xfVEVYVFVSRV9NSU5fRklMVEVSLCBHTF9MSU5FQVIpOwpnbFRleFBhcmFtZXRlcmkoR0xfVEVYVFVSRV8yRCwgR0xfVEVYVFVSRV9NQUdfRklMVEVSLCBHTF9MSU5FQVIpOwpnbEZyYW1lYnVmZmVyVGV4dHVyZTJEKEdMX0ZSQU1FQlVGRkVSLCBHTF9DT0xPUl9BVFRBQ0hNRU5UMCwgR0xfVEVYVFVSRV8yRCwgdGV4dHVyZSwgMCk7CgppZiAoZ2xDaGVja0ZyYW1lYnVmZmVyU3RhdHVzKEdMX0ZSQU1FQlVGRkVSKSAhPSBHTF9GUkFNRUJVRkZFUl9DT01QTEVURSkKICAgIHN0ZDo6Y2VyciA8PCAiRnJhbWVidWZmZXIgbm90IGNvbXBsZXRlISIgPDwgc3RkOjplbmRsOwoKZ2xCaW5kRnJhbWVidWZmZXIoR0xfRlJBTUVCVUZGRVIsIDApOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GLuint fbo;
glGenFramebuffers(1, &amp;fbo);
glBindFramebuffer(GL_FRAMEBUFFER, fbo);

GLuint texture;
glGenTextures(1, &amp;texture);
glBindTexture(GL_TEXTURE_2D, texture);
glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, NULL);
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);
glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, texture, 0);

if (glCheckFramebufferStatus(GL_FRAMEBUFFER) != GL_FRAMEBUFFER_COMPLETE)
    std::cerr &lt;&lt; &quot;Framebuffer not complete!&quot; &lt;&lt; std::endl;

glBindFramebuffer(GL_FRAMEBUFFER, 0);</pre></div><div class='content'></div><h2>Renderització a la Textura</h2>
<div class='content'><p>Adjunta el FBO abans de renderitzar la teva escena per assegurar-te que es renderitzi a la textura.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Z2xCaW5kRnJhbWVidWZmZXIoR0xfRlJBTUVCVUZGRVIsIGZibyk7CmdsQ2xlYXIoR0xfQ09MT1JfQlVGRkVSX0JJVCB8IEdMX0RFUFRIX0JVRkZFUl9CSVQpOwoKLy8gUmVuZGVyaXR6YSBsYSB0ZXZhIGVzY2VuYSBhcXXDrQoKZ2xCaW5kRnJhbWVidWZmZXIoR0xfRlJBTUVCVUZGRVIsIDApOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>glBindFramebuffer(GL_FRAMEBUFFER, fbo);
glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

// Renderitza la teva escena aqu&iacute;

glBindFramebuffer(GL_FRAMEBUFFER, 0);</pre></div><div class='content'></div><h2>Dibuixar el Screen Quad</h2>
<div class='content'><p>Després de renderitzar l'escena a la textura, dibuixa un screen quad i aplica efectes de postprocessament utilitzant shaders.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQWRqdW50YSBlbCBmcmFtZWJ1ZmZlciBwZXIgZGVmZWN0ZQpnbEJpbmRGcmFtZWJ1ZmZlcihHTF9GUkFNRUJVRkZFUiwgMCk7CmdsQ2xlYXIoR0xfQ09MT1JfQlVGRkVSX0JJVCB8IEdMX0RFUFRIX0JVRkZFUl9CSVQpOwoKLy8gVXRpbGl0emEgZWwgc2hhZGVyIGRlIHBvc3Rwcm9jZXNzYW1lbnQKZ2xVc2VQcm9ncmFtKHBvc3RQcm9jZXNzaW5nU2hhZGVyKTsKCi8vIEFkanVudGEgbGEgdGV4dHVyYQpnbEJpbmRUZXh0dXJlKEdMX1RFWFRVUkVfMkQsIHRleHR1cmUpOwoKLy8gRGlidWl4YSBlbCBzY3JlZW4gcXVhZApnbEJpbmRWZXJ0ZXhBcnJheShxdWFkVkFPKTsKZ2xEcmF3QXJyYXlzKEdMX1RSSUFOR0xFUywgMCwgNik7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Adjunta el framebuffer per defecte
glBindFramebuffer(GL_FRAMEBUFFER, 0);
glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

// Utilitza el shader de postprocessament
glUseProgram(postProcessingShader);

// Adjunta la textura
glBindTexture(GL_TEXTURE_2D, texture);

// Dibuixa el screen quad
glBindVertexArray(quadVAO);
glDrawArrays(GL_TRIANGLES, 0, 6);</pre></div><div class='content'></div><h1>Efectes de Postprocessament Comuns</h1>
<div class='content'></div><h2>Efecte de Grisos</h2>
<div class='content'><p>Un efecte simple que converteix l'escena a tons de gris.</p>
<p><strong>Exemple de Fragment Shader:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKb3V0IHZlYzQgRnJhZ0NvbG9yOwppbiB2ZWMyIFRleENvb3JkczsKCnVuaWZvcm0gc2FtcGxlcjJEIHNjcmVlblRleHR1cmU7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIGNvbG9yID0gdGV4dHVyZShzY3JlZW5UZXh0dXJlLCBUZXhDb29yZHMpLnJnYjsKICAgIGZsb2F0IGdyYXkgPSBkb3QoY29sb3IsIHZlYzMoMC4yOTksIDAuNTg3LCAwLjExNCkpOwogICAgRnJhZ0NvbG9yID0gdmVjNCh2ZWMzKGdyYXkpLCAxLjApOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
out vec4 FragColor;
in vec2 TexCoords;

uniform sampler2D screenTexture;

void main()
{
    vec3 color = texture(screenTexture, TexCoords).rgb;
    float gray = dot(color, vec3(0.299, 0.587, 0.114));
    FragColor = vec4(vec3(gray), 1.0);
}</pre></div><div class='content'></div><h2>Efecte d'Inversió</h2>
<div class='content'><p>Un efecte que inverteix els colors de l'escena.</p>
<p><strong>Exemple de Fragment Shader:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKb3V0IHZlYzQgRnJhZ0NvbG9yOwppbiB2ZWMyIFRleENvb3JkczsKCnVuaWZvcm0gc2FtcGxlcjJEIHNjcmVlblRleHR1cmU7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIGNvbG9yID0gdGV4dHVyZShzY3JlZW5UZXh0dXJlLCBUZXhDb29yZHMpLnJnYjsKICAgIEZyYWdDb2xvciA9IHZlYzQodmVjMygxLjAgLSBjb2xvciksIDEuMCk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
out vec4 FragColor;
in vec2 TexCoords;

uniform sampler2D screenTexture;

void main()
{
    vec3 color = texture(screenTexture, TexCoords).rgb;
    FragColor = vec4(vec3(1.0 - color), 1.0);
}</pre></div><div class='content'></div><h2>Desenfocament Gaussià</h2>
<div class='content'><p>Un efecte més complex que desenfoca l'escena utilitzant un kernel gaussià.</p>
<p><strong>Exemple de Fragment Shader:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKb3V0IHZlYzQgRnJhZ0NvbG9yOwppbiB2ZWMyIFRleENvb3JkczsKCnVuaWZvcm0gc2FtcGxlcjJEIHNjcmVlblRleHR1cmU7CnVuaWZvcm0gZmxvYXQgd2VpZ2h0WzVdID0gZmxvYXRbXSgwLjIyNzAyNywgMC4xOTQ1OTQ2LCAwLjEyMTYyMTYsIDAuMDU0MDU0LCAwLjAxNjIxNik7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMyIHRleF9vZmZzZXQgPSAxLjAgLyB0ZXh0dXJlU2l6ZShzY3JlZW5UZXh0dXJlLCAwKTsgLy8gb2J0w6kgbGEgbWlkYSBkJ3VuIHNvbCB0ZXhlbAogICAgdmVjMyByZXN1bHQgPSB0ZXh0dXJlKHNjcmVlblRleHR1cmUsIFRleENvb3JkcykucmdiICogd2VpZ2h0WzBdOyAvLyBjb250cmlidWNpw7MgZGVsIGZyYWdtZW50IGFjdHVhbAogICAgZm9yKGludCBpID0gMTsgaSA8IDU7ICsraSkKICAgIHsKICAgICAgICByZXN1bHQgKz0gdGV4dHVyZShzY3JlZW5UZXh0dXJlLCBUZXhDb29yZHMgKyB2ZWMyKHRleF9vZmZzZXQueCAqIGksIDAuMCkpLnJnYiAqIHdlaWdodFtpXTsKICAgICAgICByZXN1bHQgKz0gdGV4dHVyZShzY3JlZW5UZXh0dXJlLCBUZXhDb29yZHMgLSB2ZWMyKHRleF9vZmZzZXQueCAqIGksIDAuMCkpLnJnYiAqIHdlaWdodFtpXTsKICAgICAgICByZXN1bHQgKz0gdGV4dHVyZShzY3JlZW5UZXh0dXJlLCBUZXhDb29yZHMgKyB2ZWMyKDAuMCwgdGV4X29mZnNldC55ICogaSkpLnJnYiAqIHdlaWdodFtpXTsKICAgICAgICByZXN1bHQgKz0gdGV4dHVyZShzY3JlZW5UZXh0dXJlLCBUZXhDb29yZHMgLSB2ZWMyKDAuMCwgdGV4X29mZnNldC55ICogaSkpLnJnYiAqIHdlaWdodFtpXTsKICAgIH0KICAgIEZyYWdDb2xvciA9IHZlYzQocmVzdWx0LCAxLjApOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
out vec4 FragColor;
in vec2 TexCoords;

uniform sampler2D screenTexture;
uniform float weight[5] = float[](0.227027, 0.1945946, 0.1216216, 0.054054, 0.016216);

void main()
{
    vec2 tex_offset = 1.0 / textureSize(screenTexture, 0); // obt&eacute; la mida d'un sol texel
    vec3 result = texture(screenTexture, TexCoords).rgb * weight[0]; // contribuci&oacute; del fragment actual
    for(int i = 1; i &lt; 5; ++i)
    {
        result += texture(screenTexture, TexCoords + vec2(tex_offset.x * i, 0.0)).rgb * weight[i];
        result += texture(screenTexture, TexCoords - vec2(tex_offset.x * i, 0.0)).rgb * weight[i];
        result += texture(screenTexture, TexCoords + vec2(0.0, tex_offset.y * i)).rgb * weight[i];
        result += texture(screenTexture, TexCoords - vec2(0.0, tex_offset.y * i)).rgb * weight[i];
    }
    FragColor = vec4(result, 1.0);
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Els efectes de postprocessament en OpenGL permeten una àmplia gamma de millores visuals que poden millorar significativament la qualitat i l'estètica d'una escena renderitzada. Comprenent els conceptes bàsics dels framebuffers, les textures i els shaders, pots crear i aplicar diversos efectes com el de grisos, la inversió i el desenfocament gaussià. Experimentar amb diferents shaders i tècniques t'ajudarà a dominar l'art del postprocessament i crear efectes visuals impressionants en les teves aplicacions OpenGL.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
