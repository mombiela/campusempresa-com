<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/open_gl/coordinates-and-transformations" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Comprendre les coordenades i les transformacions és fonamental per treballar amb OpenGL. Aquest tema cobrirà els conceptes bàsics dels sistemes de coordenades, les transformacions i com aplicar-les en OpenGL. Al final d'aquesta secció, seràs capaç de manipular objectes en l'espai 3D de manera efectiva.</p>
</div><h1>Sistemes de Coordenades</h1>
<div class='content'><p>En OpenGL, s'utilitzen diversos sistemes de coordenades per transformar els vèrtexs des de l'espai de l'objecte fins a l'espai de la pantalla.</p>
<ul>
<li><strong>Coordenades de l'Objecte</strong>: Les coordenades locals d'un objecte.</li>
<li><strong>Coordenades del Món</strong>: Les coordenades d'un objecte en l'espai del món.</li>
<li><strong>Coordenades de Vista</strong>: Les coordenades des de la perspectiva de la càmera.</li>
<li><strong>Coordenades de Retall</strong>: Les coordenades després d'aplicar la matriu de projecció.</li>
<li><strong>Coordenades de Dispositiu Normalitzades (NDC)</strong>: Les coordenades després de la divisió de perspectiva.</li>
<li><strong>Coordenades de Finestra</strong>: Les coordenades finals a la pantalla.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gVsOocnRleCBlbiBjb29yZGVuYWRlcyBkZSBsJ29iamVjdGUKdmVjMyBvYmplY3RWZXJ0ZXggPSB2ZWMzKDEuMCwgMS4wLCAxLjApOwoKLy8gTGEgbWF0cml1IGRlIG1vZGVsIHRyYW5zZm9ybWEgbGVzIGNvb3JkZW5hZGVzIGRlIGwnb2JqZWN0ZSBhIGNvb3JkZW5hZGVzIGRlbCBtw7NuCm1hdDQgbW9kZWwgPSBtYXQ0KDEuMCk7CnZlYzQgd29ybGRWZXJ0ZXggPSBtb2RlbCAqIHZlYzQob2JqZWN0VmVydGV4LCAxLjApOwoKLy8gTGEgbWF0cml1IGRlIHZpc3RhIHRyYW5zZm9ybWEgbGVzIGNvb3JkZW5hZGVzIGRlbCBtw7NuIGEgY29vcmRlbmFkZXMgZGUgdmlzdGEKbWF0NCB2aWV3ID0gbG9va0F0KGNhbWVyYVBvcywgY2FtZXJhVGFyZ2V0LCB1cFZlY3Rvcik7CnZlYzQgdmlld1ZlcnRleCA9IHZpZXcgKiB3b3JsZFZlcnRleDsKCi8vIExhIG1hdHJpdSBkZSBwcm9qZWNjacOzIHRyYW5zZm9ybWEgbGVzIGNvb3JkZW5hZGVzIGRlIHZpc3RhIGEgY29vcmRlbmFkZXMgZGUgcmV0YWxsCm1hdDQgcHJvamVjdGlvbiA9IHBlcnNwZWN0aXZlKHJhZGlhbnMoNDUuMGYpLCBhc3BlY3RSYXRpbywgMC4xZiwgMTAwLjBmKTsKdmVjNCBjbGlwVmVydGV4ID0gcHJvamVjdGlvbiAqIHZpZXdWZXJ0ZXg7CgovLyBEaXZpc2nDsyBkZSBwZXJzcGVjdGl2YSBwZXIgb2J0ZW5pciBOREMKdmVjMyBuZGNWZXJ0ZXggPSBjbGlwVmVydGV4Lnh5eiAvIGNsaXBWZXJ0ZXgudzsKCi8vIFRyYW5zZm9ybWFjacOzIGRlIHZpZXdwb3J0IHBlciBvYnRlbmlyIGNvb3JkZW5hZGVzIGRlIGZpbmVzdHJhCnZlYzIgd2luZG93VmVydGV4ID0gKG5kY1ZlcnRleC54eSArIDEuMCkgLyAyLjAgKiB2ZWMyKHdpbmRvd1dpZHRoLCB3aW5kb3dIZWlnaHQpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// V&egrave;rtex en coordenades de l'objecte
vec3 objectVertex = vec3(1.0, 1.0, 1.0);

// La matriu de model transforma les coordenades de l'objecte a coordenades del m&oacute;n
mat4 model = mat4(1.0);
vec4 worldVertex = model * vec4(objectVertex, 1.0);

// La matriu de vista transforma les coordenades del m&oacute;n a coordenades de vista
mat4 view = lookAt(cameraPos, cameraTarget, upVector);
vec4 viewVertex = view * worldVertex;

// La matriu de projecci&oacute; transforma les coordenades de vista a coordenades de retall
mat4 projection = perspective(radians(45.0f), aspectRatio, 0.1f, 100.0f);
vec4 clipVertex = projection * viewVertex;

// Divisi&oacute; de perspectiva per obtenir NDC
vec3 ndcVertex = clipVertex.xyz / clipVertex.w;

// Transformaci&oacute; de viewport per obtenir coordenades de finestra
vec2 windowVertex = (ndcVertex.xy + 1.0) / 2.0 * vec2(windowWidth, windowHeight);</pre></div><div class='content'></div><h1>Transformacions</h1>
<div class='content'><p>Les transformacions s'utilitzen per moure, rotar i escalar objectes en OpenGL. Les transformacions principals són:</p>
<ul>
<li><strong>Translació</strong>: Moure un objecte en l'espai 3D.</li>
<li><strong>Rotació</strong>: Rotar un objecte al voltant d'un eix.</li>
<li><strong>Escalat</strong>: Canviar la mida d'un objecte.</li>
</ul>
</div><h2>Translació</h2>
<div class='content'><p>La translació mou un objecte per un cert desplaçament.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bWF0NCB0cmFuc2xhdGlvbiA9IG1hdDQoMS4wKTsKdHJhbnNsYXRpb24gPSB0cmFuc2xhdGUodHJhbnNsYXRpb24sIHZlYzMoMS4wLCAyLjAsIDMuMCkpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mat4 translation = mat4(1.0);
translation = translate(translation, vec3(1.0, 2.0, 3.0));</pre></div><div class='content'></div><h2>Rotació</h2>
<div class='content'><p>La rotació rota un objecte al voltant d'un eix especificat per un cert angle.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bWF0NCByb3RhdGlvbiA9IG1hdDQoMS4wKTsKcm90YXRpb24gPSByb3RhdGUocm90YXRpb24sIHJhZGlhbnMoNDUuMGYpLCB2ZWMzKDAuMCwgMS4wLCAwLjApKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mat4 rotation = mat4(1.0);
rotation = rotate(rotation, radians(45.0f), vec3(0.0, 1.0, 0.0));</pre></div><div class='content'></div><h2>Escalat</h2>
<div class='content'><p>L'escalat canvia la mida d'un objecte.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bWF0NCBzY2FsaW5nID0gbWF0NCgxLjApOwpzY2FsaW5nID0gc2NhbGUoc2NhbGluZywgdmVjMygyLjAsIDIuMCwgMi4wKSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mat4 scaling = mat4(1.0);
scaling = scale(scaling, vec3(2.0, 2.0, 2.0));</pre></div><div class='content'></div><h1>Combinació de Transformacions</h1>
<div class='content'><p>Les transformacions es poden combinar multiplicant les seves matrius. L'ordre de la multiplicació és crucial.</p>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bWF0NCBtb2RlbCA9IG1hdDQoMS4wKTsKbW9kZWwgPSB0cmFuc2xhdGUobW9kZWwsIHZlYzMoMS4wLCAyLjAsIDMuMCkpOyAvLyBUcmFuc2xhY2nDswptb2RlbCA9IHJvdGF0ZShtb2RlbCwgcmFkaWFucyg0NS4wZiksIHZlYzMoMC4wLCAxLjAsIDAuMCkpOyAvLyBSb3RhY2nDswptb2RlbCA9IHNjYWxlKG1vZGVsLCB2ZWMzKDIuMCwgMi4wLCAyLjApKTsgLy8gRXNjYWxhdA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mat4 model = mat4(1.0);
model = translate(model, vec3(1.0, 2.0, 3.0)); // Translaci&oacute;
model = rotate(model, radians(45.0f), vec3(0.0, 1.0, 0.0)); // Rotaci&oacute;
model = scale(model, vec3(2.0, 2.0, 2.0)); // Escalat</pre></div><div class='content'></div><h1>Exemple Pràctic</h1>
<div class='content'><p>Creem un exemple senzill on apliquem aquestes transformacions a un cub.</p>
</div><h2>Vertex Shader</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKbGF5b3V0IChsb2NhdGlvbiA9IDApIGluIHZlYzMgYVBvczsKCnVuaWZvcm0gbWF0NCBtb2RlbDsKdW5pZm9ybSBtYXQ0IHZpZXc7CnVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uOwoKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uICogdmlldyAqIG1vZGVsICogdmVjNChhUG9zLCAxLjApOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
layout (location = 0) in vec3 aPos;

uniform mat4 model;
uniform mat4 view;
uniform mat4 projection;

void main()
{
    gl_Position = projection * view * model * vec4(aPos, 1.0);
}</pre></div><div class='content'></div><h2>Fragment Shader</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ZlcnNpb24gMzMwIGNvcmUKb3V0IHZlYzQgRnJhZ0NvbG9yOwoKdm9pZCBtYWluKCkKewogICAgRnJhZ0NvbG9yID0gdmVjNCgxLjAsIDAuNSwgMC4yLCAxLjApOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#version 330 core
out vec4 FragColor;

void main()
{
    FragColor = vec4(1.0, 0.5, 0.2, 1.0);
}</pre></div><div class='content'></div><h2>Programa Principal</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gQ29uZmlndXJhciBkYWRlcyBkZSB2w6hydGV4IChpIGJ1ZmZlcihzKSkgaSBjb25maWd1cmFyIGF0cmlidXRzIGRlIHbDqHJ0ZXgKZmxvYXQgdmVydGljZXNbXSA9IHsKICAgIC8vIHBvc2ljaW9ucyAgICAgICAgICAKICAgIC0wLjVmLCAtMC41ZiwgLTAuNWYsICAKICAgICAwLjVmLCAtMC41ZiwgLTAuNWYsICAKICAgICAwLjVmLCAgMC41ZiwgLTAuNWYsICAKICAgICAwLjVmLCAgMC41ZiwgLTAuNWYsICAKICAgIC0wLjVmLCAgMC41ZiwgLTAuNWYsICAKICAgIC0wLjVmLCAtMC41ZiwgLTAuNWYsICAKCiAgICAvLyAuLi4gKGFsdHJlcyB2w6hydGV4cykKfTsKCi8vIEluaWNpYWxpdHphciBidWZmZXJzIGkgY29uZmlndXJhciBhdHJpYnV0cyBkZSB2w6hydGV4CnVuc2lnbmVkIGludCBWQk8sIFZBTzsKZ2xHZW5WZXJ0ZXhBcnJheXMoMSwgJlZBTyk7CmdsR2VuQnVmZmVycygxLCAmVkJPKTsKCmdsQmluZFZlcnRleEFycmF5KFZBTyk7CgpnbEJpbmRCdWZmZXIoR0xfQVJSQVlfQlVGRkVSLCBWQk8pOwpnbEJ1ZmZlckRhdGEoR0xfQVJSQVlfQlVGRkVSLCBzaXplb2YodmVydGljZXMpLCB2ZXJ0aWNlcywgR0xfU1RBVElDX0RSQVcpOwoKZ2xWZXJ0ZXhBdHRyaWJQb2ludGVyKDAsIDMsIEdMX0ZMT0FULCBHTF9GQUxTRSwgMyAqIHNpemVvZihmbG9hdCksICh2b2lkKikwKTsKZ2xFbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgwKTsKCi8vIEJ1Y2xlIHByaW5jaXBhbCBkZSByZW5kZXJpdHphY2nDswp3aGlsZSAoIWdsZndXaW5kb3dTaG91bGRDbG9zZSh3aW5kb3cpKQp7CiAgICAvLyBHZXN0acOzIGQnZW50cmFkYQogICAgcHJvY2Vzc0lucHV0KHdpbmRvdyk7CgogICAgLy8gUmVuZGVyaXR6YWNpw7MKICAgIGdsQ2xlYXIoR0xfQ09MT1JfQlVGRkVSX0JJVCB8IEdMX0RFUFRIX0JVRkZFUl9CSVQpOwoKICAgIC8vIEFjdGl2YXIgc2hhZGVyCiAgICBvdXJTaGFkZXIudXNlKCk7CgogICAgLy8gQ3JlYXIgdHJhbnNmb3JtYWNpb25zCiAgICBtYXQ0IG1vZGVsID0gbWF0NCgxLjBmKTsKICAgIG1vZGVsID0gdHJhbnNsYXRlKG1vZGVsLCB2ZWMzKDAuMGYsIDAuMGYsIC0zLjBmKSk7CiAgICBtb2RlbCA9IHJvdGF0ZShtb2RlbCwgKGZsb2F0KWdsZndHZXRUaW1lKCksIHZlYzMoMC41ZiwgMS4wZiwgMC4wZikpOwogICAgb3VyU2hhZGVyLnNldE1hdDQoIm1vZGVsIiwgbW9kZWwpOwoKICAgIG1hdDQgdmlldyA9IG1hdDQoMS4wZik7CiAgICB2aWV3ID0gdHJhbnNsYXRlKHZpZXcsIHZlYzMoMC4wZiwgMC4wZiwgLTUuMGYpKTsKICAgIG91clNoYWRlci5zZXRNYXQ0KCJ2aWV3Iiwgdmlldyk7CgogICAgbWF0NCBwcm9qZWN0aW9uID0gcGVyc3BlY3RpdmUocmFkaWFucyg0NS4wZiksIChmbG9hdClTQ1JfV0lEVEggLyAoZmxvYXQpU0NSX0hFSUdIVCwgMC4xZiwgMTAwLjBmKTsKICAgIG91clNoYWRlci5zZXRNYXQ0KCJwcm9qZWN0aW9uIiwgcHJvamVjdGlvbik7CgogICAgLy8gUmVuZGVyaXR6YXIgY29udGVuaWRvcgogICAgZ2xCaW5kVmVydGV4QXJyYXkoVkFPKTsKICAgIGdsRHJhd0FycmF5cyhHTF9UUklBTkdMRVMsIDAsIDM2KTsKCiAgICAvLyBJbnRlcmNhbnZpYXIgYnVmZmVycyBpIGdlc3Rpb25hciBlc2RldmVuaW1lbnRzIGQnSU8KICAgIGdsZndTd2FwQnVmZmVycyh3aW5kb3cpOwogICAgZ2xmd1BvbGxFdmVudHMoKTsKfQoKLy8gQWxsaWJlcmFyIHJlY3Vyc29zCmdsRGVsZXRlVmVydGV4QXJyYXlzKDEsICZWQU8pOwpnbERlbGV0ZUJ1ZmZlcnMoMSwgJlZCTyk7CgpnbGZ3VGVybWluYXRlKCk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Configurar dades de v&egrave;rtex (i buffer(s)) i configurar atributs de v&egrave;rtex
float vertices[] = {
    // posicions          
    -0.5f, -0.5f, -0.5f,  
     0.5f, -0.5f, -0.5f,  
     0.5f,  0.5f, -0.5f,  
     0.5f,  0.5f, -0.5f,  
    -0.5f,  0.5f, -0.5f,  
    -0.5f, -0.5f, -0.5f,  

    // ... (altres v&egrave;rtexs)
};

// Inicialitzar buffers i configurar atributs de v&egrave;rtex
unsigned int VBO, VAO;
glGenVertexArrays(1, &amp;VAO);
glGenBuffers(1, &amp;VBO);

glBindVertexArray(VAO);

glBindBuffer(GL_ARRAY_BUFFER, VBO);
glBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);

glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);
glEnableVertexAttribArray(0);

// Bucle principal de renderitzaci&oacute;
while (!glfwWindowShouldClose(window))
{
    // Gesti&oacute; d'entrada
    processInput(window);

    // Renderitzaci&oacute;
    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

    // Activar shader
    ourShader.use();

    // Crear transformacions
    mat4 model = mat4(1.0f);
    model = translate(model, vec3(0.0f, 0.0f, -3.0f));
    model = rotate(model, (float)glfwGetTime(), vec3(0.5f, 1.0f, 0.0f));
    ourShader.setMat4(&quot;model&quot;, model);

    mat4 view = mat4(1.0f);
    view = translate(view, vec3(0.0f, 0.0f, -5.0f));
    ourShader.setMat4(&quot;view&quot;, view);

    mat4 projection = perspective(radians(45.0f), (float)SCR_WIDTH / (float)SCR_HEIGHT, 0.1f, 100.0f);
    ourShader.setMat4(&quot;projection&quot;, projection);

    // Renderitzar contenidor
    glBindVertexArray(VAO);
    glDrawArrays(GL_TRIANGLES, 0, 36);

    // Intercanviar buffers i gestionar esdeveniments d'IO
    glfwSwapBuffers(window);
    glfwPollEvents();
}

// Alliberar recursos
glDeleteVertexArrays(1, &amp;VAO);
glDeleteBuffers(1, &amp;VBO);

glfwTerminate();</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Comprendre les coordenades i les transformacions és essencial per a la programació de gràfics 3D en OpenGL. En dominar aquests conceptes, pots controlar la posició, l'orientació i l'escalat dels objectes en la teva escena. Practica combinant diferents transformacions per veure els seus efectes i consolidar la teva comprensió.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
