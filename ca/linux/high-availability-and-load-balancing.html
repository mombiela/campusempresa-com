<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/linux/high-availability-and-load-balancing" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>L'Alta Disponibilitat (HA) i el Balanceig de Càrrega són conceptes crítics per assegurar que les aplicacions i serveis siguin fiables, escalables i rendibles. Aquesta secció cobrirà els conceptes bàsics de l'HA i el Balanceig de Càrrega, la seva importància i com implementar-los en un entorn Linux.</p>
</div><h1>Alta Disponibilitat (HA)</h1>
<div class='content'><p>L'Alta Disponibilitat assegura que un sistema estigui operatiu de manera contínua durant un llarg període de temps. Minimitza el temps d'inactivitat i assegura que els serveis estiguin disponibles fins i tot en cas de fallades de maquinari o programari.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Redundància</strong>: Tenir múltiples instàncies de components crítics per evitar punts únics de fallada.</li>
<li><strong>Failover</strong>: El procés de canvi a un sistema de reserva quan el sistema principal falla.</li>
<li><strong>Clustering</strong>: Agrupar múltiples servidors per treballar junts com un únic sistema per proporcionar HA.</li>
</ul>
</div><h2>Implementació de l'Alta Disponibilitat</h2>
<div class='content'><ol>
<li><strong>Maquinari Redundant</strong>: Utilitzar múltiples servidors, dispositius d'emmagatzematge i components de xarxa.</li>
<li><strong>Programari de Clustering</strong>: Eines com Pacemaker i Corosync es poden utilitzar per gestionar clústers.</li>
<li><strong>Monitorització i Alertes</strong>: Eines com Nagios o Zabbix per monitoritzar la salut del sistema i alertar els administradors.</li>
</ol>
<h4>Exemple: Configuració d'un Clúster HA bàsic amb Pacemaker i Corosync</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbnN0YWzCt2xhciBQYWNlbWFrZXIgaSBDb3Jvc3luYwpzdWRvIGFwdC1nZXQgaW5zdGFsbCBwYWNlbWFrZXIgY29yb3N5bmMKCiMgQ29uZmlndXJhciBDb3Jvc3luYwpzdWRvIG5hbm8gL2V0Yy9jb3Jvc3luYy9jb3Jvc3luYy5jb25mCiMgQ29uZmlndXJhY2nDsyBkJ2V4ZW1wbGUKdG90ZW0gewogICAgdmVyc2lvbjogMgogICAgc2VjYXV0aDogb24KICAgIGNsdXN0ZXJfbmFtZTogbXljbHVzdGVyCiAgICB0cmFuc3BvcnQ6IHVkcHUKICAgIGludGVyZmFjZSB7CiAgICAgICAgcmluZ251bWJlcjogMAogICAgICAgIGJpbmRuZXRhZGRyOiAxOTIuMTY4LjEuMAogICAgICAgIG1jYXN0cG9ydDogNTQwNQogICAgfQp9CgojIEluaWNpYXIgaSBoYWJpbGl0YXIgc2VydmVpcwpzdWRvIHN5c3RlbWN0bCBzdGFydCBjb3Jvc3luYwpzdWRvIHN5c3RlbWN0bCBzdGFydCBwYWNlbWFrZXIKc3VkbyBzeXN0ZW1jdGwgZW5hYmxlIGNvcm9zeW5jCnN1ZG8gc3lzdGVtY3RsIGVuYWJsZSBwYWNlbWFrZXIKCiMgVmVyaWZpY2FyIGwnZXN0YXQgZGVsIGNsw7pzdGVyCnN1ZG8gY3JtIHN0YXR1cw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Instal&middot;lar Pacemaker i Corosync
sudo apt-get install pacemaker corosync

# Configurar Corosync
sudo nano /etc/corosync/corosync.conf
# Configuraci&oacute; d'exemple
totem {
    version: 2
    secauth: on
    cluster_name: mycluster
    transport: udpu
    interface {
        ringnumber: 0
        bindnetaddr: 192.168.1.0
        mcastport: 5405
    }
}

# Iniciar i habilitar serveis
sudo systemctl start corosync
sudo systemctl start pacemaker
sudo systemctl enable corosync
sudo systemctl enable pacemaker

# Verificar l'estat del cl&uacute;ster
sudo crm status</pre></div><div class='content'></div><h1>Balanceig de Càrrega</h1>
<div class='content'><p>El Balanceig de Càrrega distribueix el trànsit de xarxa entrant entre múltiples servidors per assegurar que cap servidor es vegi aclaparat, millorant així el rendiment i la fiabilitat.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Round Robin</strong>: Distribueix les sol·licituds seqüencialment entre els servidors.</li>
<li><strong>Least Connections</strong>: Dirigeix el trànsit al servidor amb menys connexions actives.</li>
<li><strong>IP Hash</strong>: Enruta les sol·licituds basant-se en l'adreça IP del client.</li>
</ul>
</div><h2>Implementació del Balanceig de Càrrega</h2>
<div class='content'><ol>
<li><strong>Balancejadors de Càrrega de Programari</strong>: Eines com HAProxy, Nginx i Apache es poden utilitzar.</li>
<li><strong>Balancejadors de Càrrega de Maquinari</strong>: Dispositius dedicats que gestionen la distribució del trànsit.</li>
<li><strong>Balanceig de Càrrega DNS</strong>: Utilitzar DNS per distribuir el trànsit entre múltiples adreces IP.</li>
</ol>
<h4>Exemple: Configuració del Balanceig de Càrrega amb HAProxy</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbnN0YWzCt2xhciBIQVByb3h5CnN1ZG8gYXB0LWdldCBpbnN0YWxsIGhhcHJveHkKCiMgQ29uZmlndXJhciBIQVByb3h5CnN1ZG8gbmFubyAvZXRjL2hhcHJveHkvaGFwcm94eS5jZmcKIyBDb25maWd1cmFjacOzIGQnZXhlbXBsZQpnbG9iYWwKICAgIGxvZyAvZGV2L2xvZyBsb2NhbDAKICAgIGxvZyAvZGV2L2xvZyBsb2NhbDEgbm90aWNlCiAgICBjaHJvb3QgL3Zhci9saWIvaGFwcm94eQogICAgc3RhdHMgc29ja2V0IC9ydW4vaGFwcm94eS9hZG1pbi5zb2NrIG1vZGUgNjYwIGxldmVsIGFkbWluCiAgICBzdGF0cyB0aW1lb3V0IDMwcwogICAgdXNlciBoYXByb3h5CiAgICBncm91cCBoYXByb3h5CiAgICBkYWVtb24KCmRlZmF1bHRzCiAgICBsb2cgZ2xvYmFsCiAgICBtb2RlIGh0dHAKICAgIG9wdGlvbiBodHRwbG9nCiAgICBvcHRpb24gZG9udGxvZ251bGwKICAgIHRpbWVvdXQgY29ubmVjdCA1MDAwCiAgICB0aW1lb3V0IGNsaWVudCAgNTAwMDAKICAgIHRpbWVvdXQgc2VydmVyICA1MDAwMAoKZnJvbnRlbmQgaHR0cF9mcm9udAogICAgYmluZCAqOjgwCiAgICBkZWZhdWx0X2JhY2tlbmQgaHR0cF9iYWNrCgpiYWNrZW5kIGh0dHBfYmFjawogICAgYmFsYW5jZSByb3VuZHJvYmluCiAgICBzZXJ2ZXIgc2VydmVyMSAxOTIuMTY4LjEuMjo4MCBjaGVjawogICAgc2VydmVyIHNlcnZlcjIgMTkyLjE2OC4xLjM6ODAgY2hlY2sKCiMgSW5pY2lhciBpIGhhYmlsaXRhciBIQVByb3h5CnN1ZG8gc3lzdGVtY3RsIHN0YXJ0IGhhcHJveHkKc3VkbyBzeXN0ZW1jdGwgZW5hYmxlIGhhcHJveHkKCiMgVmVyaWZpY2FyIGwnZXN0YXQgZCdIQVByb3h5CnN1ZG8gc3lzdGVtY3RsIHN0YXR1cyBoYXByb3h5"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Instal&middot;lar HAProxy
sudo apt-get install haproxy

# Configurar HAProxy
sudo nano /etc/haproxy/haproxy.cfg
# Configuraci&oacute; d'exemple
global
    log /dev/log local0
    log /dev/log local1 notice
    chroot /var/lib/haproxy
    stats socket /run/haproxy/admin.sock mode 660 level admin
    stats timeout 30s
    user haproxy
    group haproxy
    daemon

defaults
    log global
    mode http
    option httplog
    option dontlognull
    timeout connect 5000
    timeout client  50000
    timeout server  50000

frontend http_front
    bind *:80
    default_backend http_back

backend http_back
    balance roundrobin
    server server1 192.168.1.2:80 check
    server server2 192.168.1.3:80 check

# Iniciar i habilitar HAProxy
sudo systemctl start haproxy
sudo systemctl enable haproxy

# Verificar l'estat d'HAProxy
sudo systemctl status haproxy</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>L'Alta Disponibilitat i el Balanceig de Càrrega són essencials per mantenir la fiabilitat i el rendiment dels serveis en un entorn Linux. Implementant redundància, mecanismes de failover i distribuint el trànsit de manera eficient, pots assegurar que les teves aplicacions romanguin disponibles i responsives fins i tot sota càrrega pesada o en cas de fallades. Eines com Pacemaker, Corosync i HAProxy proporcionen solucions robustes per assolir aquests objectius.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
