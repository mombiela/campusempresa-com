<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/kotlin/common-design-patterns" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Els patrons de disseny són solucions típiques a problemes comuns en el disseny de programari. Són com plànols que es poden personalitzar per resoldre un problema de disseny particular en el teu codi. En aquesta secció, explorarem alguns dels patrons de disseny més comuns i com implementar-los en Kotlin.</p>
</div><h1>1. Patró Singleton</h1>
<div class='content'><p>El patró Singleton assegura que una classe tingui només una instància i proporciona un punt d'accés global a aquesta.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li>Assegura que una classe tingui només una instància.</li>
<li>Proporciona un punt d'accés global a la instància.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b2JqZWN0IFNpbmdsZXRvbiB7CiAgICB2YXIgY291bnRlcjogSW50ID0gMAoKICAgIGZ1biBzaG93TWVzc2FnZSgpIHsKICAgICAgICBwcmludGxuKCJIZWxsbyBmcm9tIFNpbmdsZXRvbiEgQ291bnRlcjogJGNvdW50ZXIiKQogICAgfQp9CgpmdW4gbWFpbigpIHsKICAgIFNpbmdsZXRvbi5jb3VudGVyKysKICAgIFNpbmdsZXRvbi5zaG93TWVzc2FnZSgpIC8vIE91dHB1dDogSGVsbG8gZnJvbSBTaW5nbGV0b24hIENvdW50ZXI6IDEKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>object Singleton {
    var counter: Int = 0

    fun showMessage() {
        println(&quot;Hello from Singleton! Counter: $counter&quot;)
    }
}

fun main() {
    Singleton.counter++
    Singleton.showMessage() // Output: Hello from Singleton! Counter: 1
}</pre></div><div class='content'><ul>
<li>La paraula clau <code>object</code> en Kotlin s'utilitza per crear un Singleton.</li>
<li>La variable <code>counter</code> i la funció <code>showMessage</code> són accessibles globalment.</li>
</ul>
</div><h1>2. Patró Factory</h1>
<div class='content'><p>El patró Factory proporciona una manera de crear objectes sense especificar la classe exacta de l'objecte que es crearà.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li>Defineix una interfície per crear un objecte.</li>
<li>Les subclasses decideixen quina classe instanciar.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50ZXJmYWNlIFNoYXBlIHsKICAgIGZ1biBkcmF3KCkKfQoKY2xhc3MgQ2lyY2xlIDogU2hhcGUgewogICAgb3ZlcnJpZGUgZnVuIGRyYXcoKSB7CiAgICAgICAgcHJpbnRsbigiRHJhd2luZyBhIENpcmNsZSIpCiAgICB9Cn0KCmNsYXNzIFNxdWFyZSA6IFNoYXBlIHsKICAgIG92ZXJyaWRlIGZ1biBkcmF3KCkgewogICAgICAgIHByaW50bG4oIkRyYXdpbmcgYSBTcXVhcmUiKQogICAgfQp9CgpjbGFzcyBTaGFwZUZhY3RvcnkgewogICAgZnVuIGdldFNoYXBlKHNoYXBlVHlwZTogU3RyaW5nKTogU2hhcGU/IHsKICAgICAgICByZXR1cm4gd2hlbiAoc2hhcGVUeXBlKSB7CiAgICAgICAgICAgICJDSVJDTEUiIC0+IENpcmNsZSgpCiAgICAgICAgICAgICJTUVVBUkUiIC0+IFNxdWFyZSgpCiAgICAgICAgICAgIGVsc2UgLT4gbnVsbAogICAgICAgIH0KICAgIH0KfQoKZnVuIG1haW4oKSB7CiAgICB2YWwgc2hhcGVGYWN0b3J5ID0gU2hhcGVGYWN0b3J5KCkKCiAgICB2YWwgc2hhcGUxID0gc2hhcGVGYWN0b3J5LmdldFNoYXBlKCJDSVJDTEUiKQogICAgc2hhcGUxPy5kcmF3KCkgLy8gT3V0cHV0OiBEcmF3aW5nIGEgQ2lyY2xlCgogICAgdmFsIHNoYXBlMiA9IHNoYXBlRmFjdG9yeS5nZXRTaGFwZSgiU1FVQVJFIikKICAgIHNoYXBlMj8uZHJhdygpIC8vIE91dHB1dDogRHJhd2luZyBhIFNxdWFyZQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>interface Shape {
    fun draw()
}

class Circle : Shape {
    override fun draw() {
        println(&quot;Drawing a Circle&quot;)
    }
}

class Square : Shape {
    override fun draw() {
        println(&quot;Drawing a Square&quot;)
    }
}

class ShapeFactory {
    fun getShape(shapeType: String): Shape? {
        return when (shapeType) {
            &quot;CIRCLE&quot; -&gt; Circle()
            &quot;SQUARE&quot; -&gt; Square()
            else -&gt; null
        }
    }
}

fun main() {
    val shapeFactory = ShapeFactory()

    val shape1 = shapeFactory.getShape(&quot;CIRCLE&quot;)
    shape1?.draw() // Output: Drawing a Circle

    val shape2 = shapeFactory.getShape(&quot;SQUARE&quot;)
    shape2?.draw() // Output: Drawing a Square
}</pre></div><div class='content'><ul>
<li>La interfície <code>Shape</code> defineix un mètode <code>draw</code>.</li>
<li>Les classes <code>Circle</code> i <code>Square</code> implementen la interfície <code>Shape</code>.</li>
<li>La classe <code>ShapeFactory</code> conté un mètode <code>getShape</code> per crear objectes basats en el tipus d'entrada.</li>
</ul>
</div><h1>3. Patró Observer</h1>
<div class='content'><p>El patró Observer defineix una dependència un-a-molts entre objectes de manera que quan un objecte canvia d'estat, tots els seus dependents són notificats i actualitzats automàticament.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li>Dependència un-a-molts entre objectes.</li>
<li>Els observadors es registren amb un subjecte per rebre actualitzacions.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50ZXJmYWNlIE9ic2VydmVyIHsKICAgIGZ1biB1cGRhdGUobWVzc2FnZTogU3RyaW5nKQp9CgpjbGFzcyBTdWJqZWN0IHsKICAgIHByaXZhdGUgdmFsIG9ic2VydmVycyA9IG11dGFibGVMaXN0T2Y8T2JzZXJ2ZXI+KCkKCiAgICBmdW4gcmVnaXN0ZXIob2JzZXJ2ZXI6IE9ic2VydmVyKSB7CiAgICAgICAgb2JzZXJ2ZXJzLmFkZChvYnNlcnZlcikKICAgIH0KCiAgICBmdW4gdW5yZWdpc3RlcihvYnNlcnZlcjogT2JzZXJ2ZXIpIHsKICAgICAgICBvYnNlcnZlcnMucmVtb3ZlKG9ic2VydmVyKQogICAgfQoKICAgIGZ1biBub3RpZnlPYnNlcnZlcnMobWVzc2FnZTogU3RyaW5nKSB7CiAgICAgICAgZm9yIChvYnNlcnZlciBpbiBvYnNlcnZlcnMpIHsKICAgICAgICAgICAgb2JzZXJ2ZXIudXBkYXRlKG1lc3NhZ2UpCiAgICAgICAgfQogICAgfQp9CgpjbGFzcyBDb25jcmV0ZU9ic2VydmVyKHByaXZhdGUgdmFsIG5hbWU6IFN0cmluZykgOiBPYnNlcnZlciB7CiAgICBvdmVycmlkZSBmdW4gdXBkYXRlKG1lc3NhZ2U6IFN0cmluZykgewogICAgICAgIHByaW50bG4oIiRuYW1lIHJlY2VpdmVkIG1lc3NhZ2U6ICRtZXNzYWdlIikKICAgIH0KfQoKZnVuIG1haW4oKSB7CiAgICB2YWwgc3ViamVjdCA9IFN1YmplY3QoKQoKICAgIHZhbCBvYnNlcnZlcjEgPSBDb25jcmV0ZU9ic2VydmVyKCJPYnNlcnZlciAxIikKICAgIHZhbCBvYnNlcnZlcjIgPSBDb25jcmV0ZU9ic2VydmVyKCJPYnNlcnZlciAyIikKCiAgICBzdWJqZWN0LnJlZ2lzdGVyKG9ic2VydmVyMSkKICAgIHN1YmplY3QucmVnaXN0ZXIob2JzZXJ2ZXIyKQoKICAgIHN1YmplY3Qubm90aWZ5T2JzZXJ2ZXJzKCJIZWxsbyBPYnNlcnZlcnMhIikgCiAgICAvLyBPdXRwdXQ6CiAgICAvLyBPYnNlcnZlciAxIHJlY2VpdmVkIG1lc3NhZ2U6IEhlbGxvIE9ic2VydmVycyEKICAgIC8vIE9ic2VydmVyIDIgcmVjZWl2ZWQgbWVzc2FnZTogSGVsbG8gT2JzZXJ2ZXJzIQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>interface Observer {
    fun update(message: String)
}

class Subject {
    private val observers = mutableListOf&lt;Observer&gt;()

    fun register(observer: Observer) {
        observers.add(observer)
    }

    fun unregister(observer: Observer) {
        observers.remove(observer)
    }

    fun notifyObservers(message: String) {
        for (observer in observers) {
            observer.update(message)
        }
    }
}

class ConcreteObserver(private val name: String) : Observer {
    override fun update(message: String) {
        println(&quot;$name received message: $message&quot;)
    }
}

fun main() {
    val subject = Subject()

    val observer1 = ConcreteObserver(&quot;Observer 1&quot;)
    val observer2 = ConcreteObserver(&quot;Observer 2&quot;)

    subject.register(observer1)
    subject.register(observer2)

    subject.notifyObservers(&quot;Hello Observers!&quot;) 
    // Output:
    // Observer 1 received message: Hello Observers!
    // Observer 2 received message: Hello Observers!
}</pre></div><div class='content'><ul>
<li>La interfície <code>Observer</code> defineix un mètode <code>update</code>.</li>
<li>La classe <code>Subject</code> manté una llista d'observadors i els notifica dels canvis.</li>
<li><code>ConcreteObserver</code> implementa la interfície <code>Observer</code> i defineix com maneja les actualitzacions.</li>
</ul>
</div><h1>4. Patró Strategy</h1>
<div class='content'><p>El patró Strategy defineix una família d'algoritmes, encapsula cadascun d'ells i els fa intercanviables. Aquest patró permet que l'algoritme variï independentment dels clients que l'utilitzen.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li>Defineix una família d'algoritmes.</li>
<li>Encapsula cada algoritme.</li>
<li>Fa que els algoritmes siguin intercanviables.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW50ZXJmYWNlIFN0cmF0ZWd5IHsKICAgIGZ1biBleGVjdXRlKGE6IEludCwgYjogSW50KTogSW50Cn0KCmNsYXNzIEFkZFN0cmF0ZWd5IDogU3RyYXRlZ3kgewogICAgb3ZlcnJpZGUgZnVuIGV4ZWN1dGUoYTogSW50LCBiOiBJbnQpOiBJbnQgewogICAgICAgIHJldHVybiBhICsgYgogICAgfQp9CgpjbGFzcyBNdWx0aXBseVN0cmF0ZWd5IDogU3RyYXRlZ3kgewogICAgb3ZlcnJpZGUgZnVuIGV4ZWN1dGUoYTogSW50LCBiOiBJbnQpOiBJbnQgewogICAgICAgIHJldHVybiBhICogYgogICAgfQp9CgpjbGFzcyBDb250ZXh0KHByaXZhdGUgdmFyIHN0cmF0ZWd5OiBTdHJhdGVneSkgewogICAgZnVuIHNldFN0cmF0ZWd5KHN0cmF0ZWd5OiBTdHJhdGVneSkgewogICAgICAgIHRoaXMuc3RyYXRlZ3kgPSBzdHJhdGVneQogICAgfQoKICAgIGZ1biBleGVjdXRlU3RyYXRlZ3koYTogSW50LCBiOiBJbnQpOiBJbnQgewogICAgICAgIHJldHVybiBzdHJhdGVneS5leGVjdXRlKGEsIGIpCiAgICB9Cn0KCmZ1biBtYWluKCkgewogICAgdmFsIGNvbnRleHQgPSBDb250ZXh0KEFkZFN0cmF0ZWd5KCkpCiAgICBwcmludGxuKCJBZGQ6ICR7Y29udGV4dC5leGVjdXRlU3RyYXRlZ3koMywgNCl9IikgLy8gT3V0cHV0OiBBZGQ6IDcKCiAgICBjb250ZXh0LnNldFN0cmF0ZWd5KE11bHRpcGx5U3RyYXRlZ3koKSkKICAgIHByaW50bG4oIk11bHRpcGx5OiAke2NvbnRleHQuZXhlY3V0ZVN0cmF0ZWd5KDMsIDQpfSIpIC8vIE91dHB1dDogTXVsdGlwbHk6IDEyCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>interface Strategy {
    fun execute(a: Int, b: Int): Int
}

class AddStrategy : Strategy {
    override fun execute(a: Int, b: Int): Int {
        return a + b
    }
}

class MultiplyStrategy : Strategy {
    override fun execute(a: Int, b: Int): Int {
        return a * b
    }
}

class Context(private var strategy: Strategy) {
    fun setStrategy(strategy: Strategy) {
        this.strategy = strategy
    }

    fun executeStrategy(a: Int, b: Int): Int {
        return strategy.execute(a, b)
    }
}

fun main() {
    val context = Context(AddStrategy())
    println(&quot;Add: ${context.executeStrategy(3, 4)}&quot;) // Output: Add: 7

    context.setStrategy(MultiplyStrategy())
    println(&quot;Multiply: ${context.executeStrategy(3, 4)}&quot;) // Output: Multiply: 12
}</pre></div><div class='content'><ul>
<li>La interfície <code>Strategy</code> defineix un mètode <code>execute</code>.</li>
<li><code>AddStrategy</code> i <code>MultiplyStrategy</code> implementen la interfície <code>Strategy</code>.</li>
<li>La classe <code>Context</code> utilitza una <code>Strategy</code> i pot canviar-la dinàmicament.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Els patrons de disseny són eines essencials per resoldre problemes comuns de disseny de programari. En aquesta secció, hem cobert:</p>
<ul>
<li>Patró Singleton per assegurar una única instància.</li>
<li>Patró Factory per crear objectes sense especificar la classe exacta.</li>
<li>Patró Observer per gestionar dependències un-a-molts.</li>
<li>Patró Strategy per algoritmes intercanviables.</li>
</ul>
<p>Entendre i implementar aquests patrons en Kotlin t'ajudarà a escriure codi més mantenible i escalable.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
