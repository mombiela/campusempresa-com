<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classes segellades a Kotlin</title>

    <link rel="alternate" href="https://campusempresa.com/es/kotlin/sealed-classes" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/kotlin/sealed-classes" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/kotlin/sealed-classes" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/kotlin/sealed-classes" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Les classes segellades són una característica poderosa a Kotlin que et permeten representar jerarquies de classes restringides. Són particularment útils quan tens un conjunt fix de tipus amb els quals vols treballar, fent que el teu codi sigui més robust i fàcil d'entendre.</p>
</div><h1>Què són les classes segellades?</h1>
<div class='content'><ul>
<li><strong>Definició</strong>: Les classes segellades són classes que restringeixen la jerarquia a un conjunt limitat de subclasses. Això significa que totes les possibles subclasses es coneixen en temps de compilació.</li>
<li><strong>Propòsit</strong>: S'utilitzen per modelar jerarquies de classes restringides, on un valor pot tenir un dels tipus d'un conjunt limitat.</li>
</ul>
</div><h1>Declarar classes segellades</h1>
<div class='content'><p>Per declarar una classe segellada, utilitzes la paraula clau <code>sealed</code> abans de la declaració de la classe.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VhbGVkIGNsYXNzIFNoYXBlIHsKICAgIGRhdGEgY2xhc3MgQ2lyY2xlKHZhbCByYWRpdXM6IERvdWJsZSkgOiBTaGFwZSgpCiAgICBkYXRhIGNsYXNzIFJlY3RhbmdsZSh2YWwgaGVpZ2h0OiBEb3VibGUsIHZhbCB3aWR0aDogRG91YmxlKSA6IFNoYXBlKCkKICAgIG9iamVjdCBOb3RBU2hhcGUgOiBTaGFwZSgpCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sealed class Shape {
    data class Circle(val radius: Double) : Shape()
    data class Rectangle(val height: Double, val width: Double) : Shape()
    object NotAShape : Shape()
}</pre></div><div class='content'></div><h2>Punts clau</h2>
<div class='content'><ul>
<li><strong>No es poden instanciar</strong>: No pots crear una instància d'una classe segellada directament.</li>
<li><strong>Les subclasses han d'estar imbricades</strong>: Totes les subclasses d'una classe segellada han d'estar definides en el mateix fitxer.</li>
</ul>
</div><h1>Utilitzar classes segellades</h1>
<div class='content'><p>Les classes segellades s'utilitzen típicament amb expressions <code>when</code> per manejar diferents tipus de manera segura.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuIGRlc2NyaWJlU2hhcGUoc2hhcGU6IFNoYXBlKTogU3RyaW5nIHsKICAgIHJldHVybiB3aGVuIChzaGFwZSkgewogICAgICAgIGlzIFNoYXBlLkNpcmNsZSAtPiAiVW4gY2VyY2xlIGFtYiByYWRpICR7c2hhcGUucmFkaXVzfSIKICAgICAgICBpcyBTaGFwZS5SZWN0YW5nbGUgLT4gIlVuIHJlY3RhbmdsZSBhbWIgYWzDp2FkYSAke3NoYXBlLmhlaWdodH0gaSBhbXBsYWRhICR7c2hhcGUud2lkdGh9IgogICAgICAgIFNoYXBlLk5vdEFTaGFwZSAtPiAiTm8gw6lzIHVuYSBmb3JtYSIKICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>fun describeShape(shape: Shape): String {
    return when (shape) {
        is Shape.Circle -&gt; &quot;Un cercle amb radi ${shape.radius}&quot;
        is Shape.Rectangle -&gt; &quot;Un rectangle amb al&ccedil;ada ${shape.height} i amplada ${shape.width}&quot;
        Shape.NotAShape -&gt; &quot;No &eacute;s una forma&quot;
    }
}</pre></div><div class='content'></div><h2>Exemple explicat</h2>
<div class='content'><ul>
<li><strong>Expressió <code>when</code></strong>: L'expressió <code>when</code> és exhaustiva, és a dir, cobreix totes les possibles subclasses de la classe segellada.</li>
<li><strong>Seguretat de tipus</strong>: El compilador assegura que tots els casos es manegen, fent que el teu codi sigui més segur i menys propens a errors.</li>
</ul>
</div><h1>Avantatges de les classes segellades</h1>
<div class='content'><ul>
<li><strong>Exhaustivitat</strong>: El compilador comprova que tots els possibles casos es manegen, reduint errors en temps d'execució.</li>
<li><strong>Llegibilitat</strong>: El codi és més fàcil de llegir i entendre perquè la jerarquia està ben definida i limitada.</li>
<li><strong>Mantenibilitat</strong>: Afegir nous tipus és senzill i menys propens a errors.</li>
</ul>
</div><h1>Comparació amb les classes Enum</h1>
<div class='content'><p>| Característica         | Classes segellades                   | Classes Enum                          |
|------------------------|--------------------------------------|---------------------------------------|
| Jerarquia              | Pot tenir múltiples subclasses       | Tipus únic amb constants fixes        |
| Dades                  | Pot contenir diferents tipus de dades| Limitat a constants predefinides      |
| Extensibilitat         | Més flexible, pot afegir noves subclasses| Menys flexible, conjunt fix de constants|
| Cas d'ús               | Jerarquies complexes                 | Conjunt simple i fix de valors        |</p>
</div><h1>Exercici pràctic</h1>
<div class='content'><p>Crea una jerarquia de classes segellades per representar diferents tipus de respostes d'una sol·licitud de xarxa.</p>
<ol>
<li>
<p>Defineix una classe segellada <code>NetworkResponse</code> amb les següents subclasses:</p>
<ul>
<li><code>Success</code> amb una propietat de dades de tipus <code>String</code>.</li>
<li><code>Error</code> amb una propietat de missatge de tipus <code>String</code>.</li>
<li><code>Loading</code> sense propietats.</li>
</ul>
</li>
<li>
<p>Escriu una funció <code>handleResponse</code> que prengui una <code>NetworkResponse</code> i retorni un missatge basat en el tipus de resposta.</p>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2VhbGVkIGNsYXNzIE5ldHdvcmtSZXNwb25zZSB7CiAgICBkYXRhIGNsYXNzIFN1Y2Nlc3ModmFsIGRhdGE6IFN0cmluZykgOiBOZXR3b3JrUmVzcG9uc2UoKQogICAgZGF0YSBjbGFzcyBFcnJvcih2YWwgbWVzc2FnZTogU3RyaW5nKSA6IE5ldHdvcmtSZXNwb25zZSgpCiAgICBvYmplY3QgTG9hZGluZyA6IE5ldHdvcmtSZXNwb25zZSgpCn0KCmZ1biBoYW5kbGVSZXNwb25zZShyZXNwb25zZTogTmV0d29ya1Jlc3BvbnNlKTogU3RyaW5nIHsKICAgIHJldHVybiB3aGVuIChyZXNwb25zZSkgewogICAgICAgIGlzIE5ldHdvcmtSZXNwb25zZS5TdWNjZXNzIC0+ICJEYWRlcyByZWJ1ZGVzOiAke3Jlc3BvbnNlLmRhdGF9IgogICAgICAgIGlzIE5ldHdvcmtSZXNwb25zZS5FcnJvciAtPiAiUydoYSBwcm9kdcOvdCB1biBlcnJvcjogJHtyZXNwb25zZS5tZXNzYWdlfSIKICAgICAgICBOZXR3b3JrUmVzcG9uc2UuTG9hZGluZyAtPiAiQ2FycmVnYW50Li4uIgogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sealed class NetworkResponse {
    data class Success(val data: String) : NetworkResponse()
    data class Error(val message: String) : NetworkResponse()
    object Loading : NetworkResponse()
}

fun handleResponse(response: NetworkResponse): String {
    return when (response) {
        is NetworkResponse.Success -&gt; &quot;Dades rebudes: ${response.data}&quot;
        is NetworkResponse.Error -&gt; &quot;S'ha produ&iuml;t un error: ${response.message}&quot;
        NetworkResponse.Loading -&gt; &quot;Carregant...&quot;
    }
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Les classes segellades a Kotlin proporcionen una manera robusta de definir jerarquies de classes restringides, assegurant la seguretat de tipus i fent que el teu codi sigui més llegible i mantenible. Són particularment útils quan necessites manejar un conjunt fix de tipus, i funcionen perfectament amb les expressions <code>when</code> de Kotlin per proporcionar comprovacions exhaustives en temps de compilació. Entenent i utilitzant les classes segellades, pots escriure codi Kotlin més fiable i mantenible.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
