<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/postgresql/custom-data-types" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>A PostgreSQL, els tipus de dades personalitzats et permeten definir les teves pròpies estructures de dades per satisfer requisits específics de l'aplicació. Això pot ser particularment útil quan els tipus integrats no compleixen les teves necessitats. Aquest tema et guiarà a través de la creació i ús de tipus de dades personalitzats a PostgreSQL, des de nivells principiants fins a avançats.</p>
</div><h1>Introducció als Tipus de Dades Personalitzats</h1>
<div class='content'><ul>
<li>
<p><strong>Què són els Tipus de Dades Personalitzats?</strong></p>
<ul>
<li>Els tipus de dades personalitzats són tipus definits per l'usuari que et permeten encapsular estructures de dades complexes.</li>
<li>Es poden utilitzar per fer complir la integritat de les dades i simplificar el disseny de l'esquema de la base de dades.</li>
</ul>
</li>
<li>
<p><strong>Per què Utilitzar Tipus de Dades Personalitzats?</strong></p>
<ul>
<li>Per modelar dades complexes de manera més natural.</li>
<li>Per fer complir les regles de negoci a nivell de base de dades.</li>
<li>Per millorar la llegibilitat i mantenibilitat del codi.</li>
</ul>
</li>
</ul>
</div><h1>Creació de Tipus de Dades Personalitzats</h1>
<div class='content'></div><h2>Tipus Enumerats (ENUM)</h2>
<div class='content'><p>Els tipus enumerats són útils quan tens una columna que només hauria d'acceptar un conjunt limitat de valors.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRZUEUgbW9vZCBBUyBFTlVNICgnaGFwcHknLCAnc2FkJywgJ25ldXRyYWwnKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TYPE mood AS ENUM ('happy', 'sad', 'neutral');</pre></div><div class='content'><ul>
<li><strong>Exemple d'Ús:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHBlcnNvbiAoCiAgICBuYW1lIFRFWFQsCiAgICBjdXJyZW50X21vb2QgbW9vZAopOwoKSU5TRVJUIElOVE8gcGVyc29uIChuYW1lLCBjdXJyZW50X21vb2QpIFZBTFVFUyAoJ0FsaWNlJywgJ2hhcHB5Jyk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE person (
    name TEXT,
    current_mood mood
);

INSERT INTO person (name, current_mood) VALUES ('Alice', 'happy');</pre></div><div class='content'></div><h2>Tipus Compostos</h2>
<div class='content'><p>Els tipus compostos et permeten agrupar múltiples camps en un sol tipus de dades.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRZUEUgYWRkcmVzcyBBUyAoCiAgICBzdHJlZXQgVEVYVCwKICAgIGNpdHkgVEVYVCwKICAgIHppcF9jb2RlIFRFWFQKKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TYPE address AS (
    street TEXT,
    city TEXT,
    zip_code TEXT
);</pre></div><div class='content'><ul>
<li><strong>Exemple d'Ús:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIGVtcGxveWVlICgKICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIG5hbWUgVEVYVCwKICAgIGhvbWVfYWRkcmVzcyBhZGRyZXNzCik7CgpJTlNFUlQgSU5UTyBlbXBsb3llZSAobmFtZSwgaG9tZV9hZGRyZXNzKSAKVkFMVUVTICgnSm9obiBEb2UnLCBST1coJzEyMyBNYWluIFN0JywgJ0FueXRvd24nLCAnMTIzNDUnKSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE employee (
    id SERIAL PRIMARY KEY,
    name TEXT,
    home_address address
);

INSERT INTO employee (name, home_address) 
VALUES ('John Doe', ROW('123 Main St', 'Anytown', '12345'));</pre></div><div class='content'></div><h2>Tipus de Rang</h2>
<div class='content'><p>Els tipus de rang representen un rang de valors, com ara un rang de dates o números.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRZUEUgaW50NHJhbmdlIEFTIFJBTkdFICgKICAgIHN1YnR5cGUgPSBpbnQ0Cik7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TYPE int4range AS RANGE (
    subtype = int4
);</pre></div><div class='content'><ul>
<li><strong>Exemple d'Ús:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHJlc2VydmF0aW9uICgKICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIHBlcmlvZCBpbnQ0cmFuZ2UKKTsKCklOU0VSVCBJTlRPIHJlc2VydmF0aW9uIChwZXJpb2QpIFZBTFVFUyAoJ1sxLDEwXScpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE reservation (
    id SERIAL PRIMARY KEY,
    period int4range
);

INSERT INTO reservation (period) VALUES ('[1,10]');</pre></div><div class='content'></div><h1>Tipus de Dades Personalitzats Avançats</h1>
<div class='content'></div><h2>Tipus de Domini</h2>
<div class='content'><p>Els tipus de domini es basen en tipus de dades existents però amb restriccions.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIERPTUFJTiBwb3NpdGl2ZV9pbnRlZ2VyIEFTIElOVEVHRVIgQ0hFQ0sgKFZBTFVFID4gMCk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE DOMAIN positive_integer AS INTEGER CHECK (VALUE &gt; 0);</pre></div><div class='content'><ul>
<li><strong>Exemple d'Ús:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHByb2R1Y3QgKAogICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLAogICAgcHJpY2UgcG9zaXRpdmVfaW50ZWdlcgopOwoKSU5TRVJUIElOVE8gcHJvZHVjdCAocHJpY2UpIFZBTFVFUyAoMTAwKTsgIC0tIFbDoGxpZApJTlNFUlQgSU5UTyBwcm9kdWN0IChwcmljZSkgVkFMVUVTICgtNTApOyAgLS0gSW52w6BsaWQ="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE product (
    id SERIAL PRIMARY KEY,
    price positive_integer
);

INSERT INTO product (price) VALUES (100);  -- V&agrave;lid
INSERT INTO product (price) VALUES (-50);  -- Inv&agrave;lid</pre></div><div class='content'></div><h2>Tipus Compostos amb Funcions</h2>
<div class='content'><p>Pots crear funcions que retornin tipus compostos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRZUEUgZnVsbF9uYW1lIEFTICgKICAgIGZpcnN0X25hbWUgVEVYVCwKICAgIGxhc3RfbmFtZSBURVhUCik7CgpDUkVBVEUgRlVOQ1RJT04gZ2V0X2Z1bGxfbmFtZSgpIFJFVFVSTlMgZnVsbF9uYW1lIEFTICQkCkJFR0lOCiAgICBSRVRVUk4gUk9XKCdKb2huJywgJ0RvZScpOwpFTkQ7CiQkIExBTkdVQUdFIHBscGdzcWw7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TYPE full_name AS (
    first_name TEXT,
    last_name TEXT
);

CREATE FUNCTION get_full_name() RETURNS full_name AS $$
BEGIN
    RETURN ROW('John', 'Doe');
END;
$$ LANGUAGE plpgsql;</pre></div><div class='content'><ul>
<li><strong>Exemple d'Ús:</strong></li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VMRUNUICogRlJPTSBnZXRfZnVsbF9uYW1lKCk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SELECT * FROM get_full_name();</pre></div><div class='content'></div><h1>Gestió de Tipus de Dades Personalitzats</h1>
<div class='content'><ul>
<li><strong>Alteració de Tipus de Dades Personalitzats:</strong>
<ul>
<li>Pots alterar tipus de dades personalitzats per afegir o eliminar valors (per a tipus ENUM) o per canviar restriccions (per a tipus de DOMINI).</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QUxURVIgVFlQRSBtb29kIEFERCBWQUxVRSAnZXhjaXRlZCc7CkFMVEVSIERPTUFJTiBwb3NpdGl2ZV9pbnRlZ2VyIFNFVCBERUZBVUxUIDE7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ALTER TYPE mood ADD VALUE 'excited';
ALTER DOMAIN positive_integer SET DEFAULT 1;</pre></div><div class='content'><ul>
<li><strong>Eliminació de Tipus de Dades Personalitzats:</strong>
<ul>
<li>Pots eliminar tipus de dades personalitzats quan ja no siguin necessaris.</li>
</ul>
</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RFJPUCBUWVBFIG1vb2Q7CkRST1AgRE9NQUlOIHBvc2l0aXZlX2ludGVnZXI7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>DROP TYPE mood;
DROP DOMAIN positive_integer;</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Els tipus de dades personalitzats a PostgreSQL proporcionen una manera poderosa de modelar estructures de dades complexes i fer complir les regles de negoci directament dins de la base de dades. Entenent i utilitzant tipus enumerats, tipus compostos, tipus de rang i tipus de domini, pots crear esquemes de base de dades més robustos i mantenibles. A mesura que avancis, també podràs aprofitar funcions que retornin tipus compostos per encapsular lògica complexa i recuperació de dades.</p>
<p>Dominant els tipus de dades personalitzats, estaràs ben preparat per afrontar una àmplia gamma de desafiaments de modelatge de dades a PostgreSQL.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
