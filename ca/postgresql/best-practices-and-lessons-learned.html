<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Millors Pràctiques i Lliçons Apreses</title>

    <link rel="alternate" href="https://campusempresa.com/es/postgresql/best-practices-and-lessons-learned" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/postgresql/best-practices-and-lessons-learned" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/postgresql/best-practices-and-lessons-learned" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/postgresql/best-practices-and-lessons-learned" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='case-study-financial-transactions'>&#x25C4;Estudi de cas: Transaccions financeres</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Millors Pràctiques i Lliçons Apreses</a>
	</div>
	<div class='col-4 text-end'>
					<a href='future-trends-in-postgresql'>Tendències futures en PostgreSQL &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En aquesta secció, tractarem les millors pràctiques i les lliçons apreses de treballar amb PostgreSQL. Aquestes pràctiques són essencials per assegurar que la teva base de dades sigui eficient, segura i mantenible. Tant si ets un principiant com un usuari avançat, seguir aquestes directrius t'ajudarà a treure el màxim profit de PostgreSQL.</p>
</div><h1>Millors Pràctiques</h1>
<div class='content'></div><h2>Disseny de l'Esquema</h2>
<div class='content'><ul>
<li><strong>Normalitza les Teves Dades</strong>: Assegura't que l'esquema de la teva base de dades estigui normalitzat almenys fins a la tercera forma normal (3NF) per reduir la redundància i millorar la integritat de les dades.</li>
<li><strong>Utilitza Tipus de Dades Apropiats</strong>: Tria els tipus de dades més adequats per a les teves columnes per optimitzar l'emmagatzematge i el rendiment.</li>
<li><strong>Claus Primàries i Estrangeres</strong>: Defineix sempre claus primàries per a les teves taules i utilitza claus estrangeres per mantenir la integritat referencial.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIFRBQkxFIHVzZXJzICgKICAgIHVzZXJfaWQgU0VSSUFMIFBSSU1BUlkgS0VZLAogICAgdXNlcm5hbWUgVkFSQ0hBUig1MCkgTk9UIE5VTEwsCiAgICBlbWFpbCBWQVJDSEFSKDEwMCkgVU5JUVVFIE5PVCBOVUxMCik7CgpDUkVBVEUgVEFCTEUgb3JkZXJzICgKICAgIG9yZGVyX2lkIFNFUklBTCBQUklNQVJZIEtFWSwKICAgIHVzZXJfaWQgSU5UIFJFRkVSRU5DRVMgdXNlcnModXNlcl9pZCksCiAgICBvcmRlcl9kYXRlIFRJTUVTVEFNUCBOT1QgTlVMTAopOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL
);

CREATE TABLE orders (
    order_id SERIAL PRIMARY KEY,
    user_id INT REFERENCES users(user_id),
    order_date TIMESTAMP NOT NULL
);</pre></div><div class='content'></div><h2>Indexació</h2>
<div class='content'><ul>
<li><strong>Utilitza Índexs amb Saviesa</strong>: Indexa les columnes que s'utilitzen freqüentment en clàusules WHERE, condicions JOIN i clàusules ORDER BY.</li>
<li><strong>Evita la Sobreindexació</strong>: Massa índexs poden alentir les operacions d'escriptura. Equilibra la necessitat de lectures ràpides amb el cost d'escriptures més lentes.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIElOREVYIGlkeF91c2Vyc191c2VybmFtZSBPTiB1c2Vycyh1c2VybmFtZSk7CkNSRUFURSBJTkRFWCBpZHhfb3JkZXJzX3VzZXJfaWQgT04gb3JkZXJzKHVzZXJfaWQpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE INDEX idx_users_username ON users(username);
CREATE INDEX idx_orders_user_id ON orders(user_id);</pre></div><div class='content'></div><h2>Optimització de Consultes</h2>
<div class='content'><ul>
<li><strong>Utilitza EXPLAIN</strong>: Utilitza la comanda <code>EXPLAIN</code> per entendre com PostgreSQL executa les teves consultes i identificar possibles colls d'ampolla.</li>
<li><strong>Limita els Resultats</strong>: Utilitza la clàusula <code>LIMIT</code> per restringir el nombre de files retornades per una consulta, especialment en conjunts de dades grans.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RVhQTEFJTiBTRUxFQ1QgKiBGUk9NIG9yZGVycyBXSEVSRSB1c2VyX2lkID0gMTsKU0VMRUNUICogRlJPTSBvcmRlcnMgV0hFUkUgdXNlcl9pZCA9IDEgTElNSVQgMTA7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>EXPLAIN SELECT * FROM orders WHERE user_id = 1;
SELECT * FROM orders WHERE user_id = 1 LIMIT 10;</pre></div><div class='content'></div><h2>Transaccions</h2>
<div class='content'><ul>
<li><strong>Utilitza Transaccions</strong>: Agrupa múltiples instruccions SQL en una sola transacció per assegurar atomicitat i consistència.</li>
<li><strong>Gestiona Excepcions</strong>: Utilitza la gestió d'excepcions per manejar errors dins de les transaccions.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QkVHSU47CklOU0VSVCBJTlRPIHVzZXJzICh1c2VybmFtZSwgZW1haWwpIFZBTFVFUyAoJ2pvaG5fZG9lJywgJ2pvaG5AZXhhbXBsZS5jb20nKTsKSU5TRVJUIElOVE8gb3JkZXJzICh1c2VyX2lkLCBvcmRlcl9kYXRlKSBWQUxVRVMgKDEsIE5PVygpKTsKQ09NTUlUOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>BEGIN;
INSERT INTO users (username, email) VALUES ('john_doe', 'john@example.com');
INSERT INTO orders (user_id, order_date) VALUES (1, NOW());
COMMIT;</pre></div><div class='content'></div><h2>Seguretat</h2>
<div class='content'><ul>
<li><strong>Principi de Menor Privilegi</strong>: Concedeix els permisos mínims necessaris als usuaris i rols.</li>
<li><strong>Utilitza SSL</strong>: Activa SSL per xifrar les dades transmeses entre el client i el servidor.</li>
<li><strong>Còpies de Seguretat Regulars</strong>: Programa còpies de seguretat regulars per prevenir la pèrdua de dades.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("R1JBTlQgU0VMRUNUIE9OIHVzZXJzIFRPIHJlYWRvbmx5X3VzZXI7CkdSQU5UIElOU0VSVCwgVVBEQVRFIE9OIG9yZGVycyBUTyBvcmRlcl9tYW5hZ2VyOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>GRANT SELECT ON users TO readonly_user;
GRANT INSERT, UPDATE ON orders TO order_manager;</pre></div><div class='content'></div><h1>Lliçons Apreses</h1>
<div class='content'></div><h2>Ajust de Rendiment</h2>
<div class='content'><ul>
<li><strong>Analitza i Neteja</strong>: Executa regularment <code>ANALYZE</code> i <code>VACUUM</code> per actualitzar estadístiques i recuperar espai d'emmagatzematge.</li>
<li><strong>Pooled de Connexions</strong>: Utilitza pooled de connexions per gestionar les connexions a la base de dades de manera eficient i reduir la sobrecàrrega.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("VkFDVVVNIEFOQUxZWkU7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>VACUUM ANALYZE;</pre></div><div class='content'></div><h2>Gestió d'Errors</h2>
<div class='content'><ul>
<li><strong>Registra Errors</strong>: Configura PostgreSQL per registrar errors i revisa els registres regularment per identificar i solucionar problemes.</li>
<li><strong>Degradació Graciosa</strong>: Implementa mecanismes per manejar fallades de manera graciosa i mantenir la disponibilitat del servei.</li>
</ul>
</div><h2>Monitorització i Manteniment</h2>
<div class='content'><ul>
<li><strong>Monitoritza el Rendiment</strong>: Utilitza eines com pg_stat_statements i pgAdmin per monitoritzar el rendiment de la base de dades i identificar consultes lentes.</li>
<li><strong>Manteniment Regular</strong>: Programa tasques de manteniment regulars com reindexar i actualitzar estadístiques per mantenir la base de dades funcionant sense problemes.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q1JFQVRFIEVYVEVOU0lPTiBwZ19zdGF0X3N0YXRlbWVudHM7ClNFTEVDVCAqIEZST00gcGdfc3RhdF9zdGF0ZW1lbnRzIE9SREVSIEJZIHRvdGFsX3RpbWUgREVTQyBMSU1JVCAxMDs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CREATE EXTENSION pg_stat_statements;
SELECT * FROM pg_stat_statements ORDER BY total_time DESC LIMIT 10;</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Seguir les millors pràctiques i aprendre de les experiències passades és crucial per gestionar una base de dades PostgreSQL de manera efectiva. Seguint aquestes directrius, pots assegurar que la teva base de dades estigui optimitzada per al rendiment, segura i mantenible. La monitorització i el manteniment regulars, juntament amb una sòlida comprensió del disseny de l'esquema, la indexació i l'optimització de consultes, t'ajudaran a treure el màxim profit de PostgreSQL.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='case-study-financial-transactions'>&#x25C4;Estudi de cas: Transaccions financeres</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Millors Pràctiques i Lliçons Apreses</a>
	</div>
	<div class='col-4 text-end'>
					<a href='future-trends-in-postgresql'>Tendències futures en PostgreSQL &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
