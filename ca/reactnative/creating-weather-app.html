<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creant una Aplicació del Temps</title>

    <link rel="alternate" href="https://campusempresa.com/es/reactnative/creating-weather-app" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/reactnative/creating-weather-app" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/reactnative/creating-weather-app" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/reactnative/creating-weather-app" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En aquest curs, et guiarem a través del procés de creació d'una aplicació del temps utilitzant React Native. Aquest projecte t'ajudarà a entendre els fonaments de React Native, la integració d'API, la gestió d'estat, i més. Al final d'aquest curs, tindràs una aplicació del temps completament funcional que podrà obtenir i mostrar dades meteorològiques d'una API externa.</p>
</div><h1>Prerequisits</h1>
<div class='content'><p>Abans de començar aquest curs, hauries de tenir:</p>
<ul>
<li>Coneixements bàsics de JavaScript i ES6.</li>
<li>Familiaritat amb conceptes de React com components, props i estat.</li>
<li>Node.js i npm instal·lats a la teva màquina.</li>
</ul>
</div><h1>Configurant l'Entorn de Desenvolupament</h1>
<div class='content'><p>Per començar amb React Native, necessites configurar el teu entorn de desenvolupament.</p>
<ol>
<li><strong>Instal·la Node.js i npm</strong>: Assegura't de tenir Node.js i npm instal·lats.</li>
<li><strong>Instal·la React Native CLI</strong>: Executa la següent comanda per instal·lar React Native CLI globalment.
<pre><code class="language-bash">npm install -g react-native-cli
</code></pre>
</li>
<li><strong>Crea un Nou Projecte React Native</strong>: Utilitza el CLI per crear un nou projecte.
<pre><code class="language-bash">react-native init WeatherApp
</code></pre>
</li>
<li><strong>Executa el Projecte</strong>: Navega al directori del projecte i inicia el servidor de desenvolupament.
<pre><code class="language-bash">cd WeatherApp
react-native run-android # Per Android
react-native run-ios # Per iOS
</code></pre>
</li>
</ol>
</div><h1>Construint la Interfície d'Usuari</h1>
<div class='content'><p>En aquesta secció, construirem la interfície d'usuari bàsica per a la nostra aplicació del temps.</p>
</div><h2>Creant la Pantalla Principal</h2>
<div class='content'><ol>
<li>
<p><strong>Crea un nou fitxer <code>MainScreen.js</code></strong> al directori <code>src</code>.</p>
<pre><code class="language-javascript">import React from 'react';
import { View, Text, StyleSheet } from 'react-native';

const MainScreen = () =&gt; {
    return (
        &lt;View style={styles.container}&gt;
            &lt;Text style={styles.title}&gt;Weather App&lt;/Text&gt;
        &lt;/View&gt;
    );
};

const styles = StyleSheet.create({
    container: {
        flex: 1,
        justifyContent: 'center',
        alignItems: 'center',
    },
    title: {
        fontSize: 24,
        fontWeight: 'bold',
    },
});

export default MainScreen;
</code></pre>
</li>
<li>
<p><strong>Actualitza <code>App.js</code></strong> per utilitzar el component <code>MainScreen</code>.</p>
<pre><code class="language-javascript">import React from 'react';
import MainScreen from './src/MainScreen';

const App = () =&gt; {
    return &lt;MainScreen /&gt;;
};

export default App;
</code></pre>
</li>
</ol>
</div><h1>Obtenint Dades Meteorològiques d'una API</h1>
<div class='content'><p>Per obtenir dades meteorològiques, utilitzarem l'API d'OpenWeatherMap.</p>
<ol>
<li><strong>Registra't per obtenir una clau d'API</strong> a <a href="https://openweathermap.org/api">OpenWeatherMap</a>.</li>
<li><strong>Instal·la Axios</strong> per fer sol·licituds HTTP.
<pre><code class="language-bash">npm install axios
</code></pre>
</li>
</ol>
</div><h2>Obtenint Dades</h2>
<div class='content'><ol>
<li>
<p><strong>Crea un nou fitxer <code>api.js</code></strong> al directori <code>src</code> per gestionar les sol·licituds d'API.</p>
<pre><code class="language-javascript">import axios from 'axios';

const API_KEY = 'YOUR_API_KEY';
const BASE_URL = 'https://api.openweathermap.org/data/2.5/weather';

export const fetchWeather = async (city) =&gt; {
    try {
        const response = await axios.get(`${BASE_URL}?q=${city}&amp;appid=${API_KEY}`);
        return response.data;
    } catch (error) {
        console.error(error);
    }
};
</code></pre>
</li>
<li>
<p><strong>Actualitza <code>MainScreen.js</code></strong> per obtenir i mostrar dades meteorològiques.</p>
<pre><code class="language-javascript">import React, { useState, useEffect } from 'react';
import { View, Text, StyleSheet, TextInput, Button } from 'react-native';
import { fetchWeather } from './api';

const MainScreen = () =&gt; {
    const [city, setCity] = useState('');
    const [weather, setWeather] = useState(null);

    const getWeather = async () =&gt; {
        const data = await fetchWeather(city);
        setWeather(data);
    };

    return (
        &lt;View style={styles.container}&gt;
            &lt;Text style={styles.title}&gt;Weather App&lt;/Text&gt;
            &lt;TextInput
                style={styles.input}
                placeholder=&quot;Enter city&quot;
                value={city}
                onChangeText={setCity}
            /&gt;
            &lt;Button title=&quot;Get Weather&quot; onPress={getWeather} /&gt;
            {weather &amp;&amp; (
                &lt;View style={styles.weatherContainer}&gt;
                    &lt;Text style={styles.weatherText}&gt;Temperature: {weather.main.temp}°K&lt;/Text&gt;
                    &lt;Text style={styles.weatherText}&gt;Condition: {weather.weather[0].description}&lt;/Text&gt;
                &lt;/View&gt;
            )}
        &lt;/View&gt;
    );
};

const styles = StyleSheet.create({
    container: {
        flex: 1,
        justifyContent: 'center',
        alignItems: 'center',
    },
    title: {
        fontSize: 24,
        fontWeight: 'bold',
    },
    input: {
        height: 40,
        borderColor: 'gray',
        borderWidth: 1,
        marginBottom: 10,
        paddingHorizontal: 10,
        width: '80%',
    },
    weatherContainer: {
        marginTop: 20,
    },
    weatherText: {
        fontSize: 18,
    },
});

export default MainScreen;
</code></pre>
</li>
</ol>
</div><h1>Funcionalitats Avançades</h1>
<h2>Afegint Navegació</h2>
<div class='content'><ol>
<li><strong>Instal·la React Navigation</strong>:
<pre><code class="language-bash">npm install @react-navigation/native @react-navigation/stack
npm install react-native-screens react-native-safe-area-context
</code></pre>
</li>
<li><strong>Configura la Navegació</strong> a <code>App.js</code>:
<pre><code class="language-javascript">import React from 'react';
import { NavigationContainer } from '@react-navigation/native';
import { createStackNavigator } from '@react-navigation/stack';
import MainScreen from './src/MainScreen';

const Stack = createStackNavigator();

const App = () =&gt; {
    return (
        &lt;NavigationContainer&gt;
            &lt;Stack.Navigator&gt;
                &lt;Stack.Screen name=&quot;Main&quot; component={MainScreen} /&gt;
            &lt;/Stack.Navigator&gt;
        &lt;/NavigationContainer&gt;
    );
};

export default App;
</code></pre>
</li>
</ol>
</div><h2>Afegint Temps Basat en la Ubicació</h2>
<div class='content'><ol>
<li><strong>Instal·la React Native Geolocation</strong>:
<pre><code class="language-bash">npm install @react-native-community/geolocation
</code></pre>
</li>
<li><strong>Actualitza <code>MainScreen.js</code></strong> per obtenir el temps basat en la ubicació de l'usuari.
<pre><code class="language-javascript">import React, { useState, useEffect } from 'react';
import { View, Text, StyleSheet, TextInput, Button } from 'react-native';
import Geolocation from '@react-native-community/geolocation';
import { fetchWeather } from './api';

const MainScreen = () =&gt; {
    const [city, setCity] = useState('');
    const [weather, setWeather] = useState(null);

    useEffect(() =&gt; {
        Geolocation.getCurrentPosition(
            async position =&gt; {
                const { latitude, longitude } = position.coords;
                const data = await fetchWeatherByCoords(latitude, longitude);
                setWeather(data);
            },
            error =&gt; console.error(error),
            { enableHighAccuracy: true, timeout: 20000, maximumAge: 1000 }
        );
    }, []);

    const getWeather = async () =&gt; {
        const data = await fetchWeather(city);
        setWeather(data);
    };

    return (
        &lt;View style={styles.container}&gt;
            &lt;Text style={styles.title}&gt;Weather App&lt;/Text&gt;
            &lt;TextInput
                style={styles.input}
                placeholder=&quot;Enter city&quot;
                value={city}
                onChangeText={setCity}
            /&gt;
            &lt;Button title=&quot;Get Weather&quot; onPress={getWeather} /&gt;
            {weather &amp;&amp; (
                &lt;View style={styles.weatherContainer}&gt;
                    &lt;Text style={styles.weatherText}&gt;Temperature: {weather.main.temp}°K&lt;/Text&gt;
                    &lt;Text style={styles.weatherText}&gt;Condition: {weather.weather[0].description}&lt;/Text&gt;
                &lt;/View&gt;
            )}
        &lt;/View&gt;
    );
};

const styles = StyleSheet.create({
    container: {
        flex: 1,
        justifyContent: 'center',
        alignItems: 'center',
    },
    title: {
        fontSize: 24,
        fontWeight: 'bold',
    },
    input: {
        height: 40,
        borderColor: 'gray',
        borderWidth: 1,
        marginBottom: 10,
        paddingHorizontal: 10,
        width: '80%',
    },
    weatherContainer: {
        marginTop: 20,
    },
    weatherText: {
        fontSize: 18,
    },
});

export default MainScreen;
</code></pre>
</li>
</ol>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquest curs, hem construït una aplicació del temps utilitzant React Native des de zero. Hem cobert la configuració de l'entorn de desenvolupament, la construcció de la interfície d'usuari, l'obtenció de dades d'una API, i l'afegit de funcionalitats avançades com la navegació i el temps basat en la ubicació. Aquest projecte hauria de donar-te una base sòlida en React Native i preparar-te per a projectes més complexos. Continua experimentant i construint per millorar les teves habilitats!</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
