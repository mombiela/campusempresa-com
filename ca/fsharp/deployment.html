<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desplegament</title>

    <link rel="alternate" href="https://campusempresa.com/es/fsharp/deployment" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/fsharp/deployment" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/fsharp/deployment" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/fsharp/deployment" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='testing-and-refinement'>&#x25C4;Proves i Refinament</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Desplegament</a>
	</div>
	<div class='col-4 text-end'>
					<a href='https://docs.microsoft.com/en-us/dotnet/fsharp/'>Documentació Oficial de F# &#x25BA;</a>
			</div>
</div>
<div class='content'><p>El desplegament és una fase crucial en el cicle de vida del desenvolupament de programari, on la teva aplicació F# es mou de desenvolupament a producció. Aquesta secció et guiarà a través del procés de desplegament, cobrint conceptes essencials, eines i millors pràctiques.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Procés de Compilació</strong>: Transformar el codi font en un artefacte desplegable.</li>
<li><strong>Integració Contínua/Desplegament Continu (CI/CD)</strong>: Automatitzar els processos de compilació, prova i desplegament.</li>
<li><strong>Configuració d'Entorn</strong>: Gestionar diferents configuracions per a entorns de desenvolupament, prova i producció.</li>
<li><strong>Containerització</strong>: Utilitzar Docker per empaquetar aplicacions per a un desplegament consistent en diferents entorns.</li>
<li><strong>Desplegament al Núvol</strong>: Desplegar aplicacions a plataformes de núvol com Azure.</li>
</ul>
</div><h1>Procés de Compilació</h1>
<div class='content'><p>El procés de compilació en F# implica compilar el codi font en un executable o biblioteca. Això es pot fer utilitzant eines com MSBuild o FAKE (F# Make).</p>
</div><h2>Exemple: Utilitzant MSBuild</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZG90bmV0IGJ1aWxk"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>dotnet build</pre></div><div class='content'><p>Aquesta comanda compila el projecte F# i genera els binaris necessaris.</p>
</div><h1>Integració Contínua/Desplegament Continu (CI/CD)</h1>
<div class='content'><p>Les pipelines de CI/CD automatitzen el procés de compilació, prova i desplegament de la teva aplicació. Eines populars de CI/CD inclouen GitHub Actions, Azure Pipelines i Jenkins.</p>
</div><h2>Exemple: Workflow de GitHub Actions</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kvQ0QgUGlwZWxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCgpqb2JzOgogIGJ1aWxkOgogICAgcnVucy1vbjogdWJ1bnR1LWxhdGVzdAogICAgc3RlcHM6CiAgICAgIC0gdXNlczogYWN0aW9ucy9jaGVja291dEB2MgogICAgICAtIG5hbWU6IFNldCB1cCAuTkVUCiAgICAgICAgdXNlczogYWN0aW9ucy9zZXR1cC1kb3RuZXRAdjEKICAgICAgICB3aXRoOgogICAgICAgICAgZG90bmV0LXZlcnNpb246ICc1LjAueCcKICAgICAgLSBuYW1lOiBCdWlsZAogICAgICAgIHJ1bjogZG90bmV0IGJ1aWxkCiAgICAgIC0gbmFtZTogVGVzdAogICAgICAgIHJ1bjogZG90bmV0IHRlc3QKICAgICAgLSBuYW1lOiBQdWJsaXNoCiAgICAgICAgcnVuOiBkb3RuZXQgcHVibGlzaCAtYyBSZWxlYXNlIC1vIC4vcHVibGlzaA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI/CD Pipeline

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Set up .NET
        uses: actions/setup-dotnet@v1
        with:
          dotnet-version: '5.0.x'
      - name: Build
        run: dotnet build
      - name: Test
        run: dotnet test
      - name: Publish
        run: dotnet publish -c Release -o ./publish</pre></div><div class='content'><p>Aquest workflow es desencadena en cada push a la branca principal, compila el projecte, executa les proves i publica el resultat.</p>
</div><h1>Configuració d'Entorn</h1>
<div class='content'><p>Gestionar diferents configuracions per a diversos entorns (desenvolupament, prova, producció) és essencial per a un procés de desplegament suau.</p>
</div><h2>Exemple: appsettings.json</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJMb2dnaW5nIjogewogICAgIkxvZ0xldmVsIjogewogICAgICAiRGVmYXVsdCI6ICJJbmZvcm1hdGlvbiIsCiAgICAgICJNaWNyb3NvZnQiOiAiV2FybmluZyIKICAgIH0KICB9LAogICJDb25uZWN0aW9uU3RyaW5ncyI6IHsKICAgICJEZWZhdWx0Q29ubmVjdGlvbiI6ICJTZXJ2ZXI9bXlTZXJ2ZXJBZGRyZXNzO0RhdGFiYXNlPW15RGF0YUJhc2U7VXNlciBJZD1teVVzZXJuYW1lO1Bhc3N3b3JkPW15UGFzc3dvcmQ7IgogIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;Logging&quot;: {
    &quot;LogLevel&quot;: {
      &quot;Default&quot;: &quot;Information&quot;,
      &quot;Microsoft&quot;: &quot;Warning&quot;
    }
  },
  &quot;ConnectionStrings&quot;: {
    &quot;DefaultConnection&quot;: &quot;Server=myServerAddress;Database=myDataBase;User Id=myUsername;Password=myPassword;&quot;
  }
}</pre></div><div class='content'><p>Pots sobreescriure aquestes configuracions amb fitxers específics d'entorn com <code>appsettings.Development.json</code> o <code>appsettings.Production.json</code>.</p>
</div><h1>Containerització</h1>
<div class='content'><p>La containerització assegura que la teva aplicació s'executi de manera consistent en diferents entorns. Docker és una eina popular per a la containerització.</p>
</div><h2>Exemple: Dockerfile</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBVdGlsaXR6YSBsYSBpbWF0Z2Ugb2ZpY2lhbCBkZSAuTkVUIHJ1bnRpbWUgY29tIGEgaW1hdGdlIGJhc2UKRlJPTSBtY3IubWljcm9zb2Z0LmNvbS9kb3RuZXQvYXNwbmV0OjUuMCBBUyBiYXNlCldPUktESVIgL2FwcApFWFBPU0UgODAKCiMgVXRpbGl0emEgbGEgaW1hdGdlIG9maWNpYWwgZGUgLk5FVCBTREsgY29tIGEgaW1hdGdlIGJhc2UKRlJPTSBtY3IubWljcm9zb2Z0LmNvbS9kb3RuZXQvc2RrOjUuMCBBUyBidWlsZApXT1JLRElSIC9zcmMKQ09QWSAuIC4KUlVOIGRvdG5ldCBidWlsZCAtYyBSZWxlYXNlIC1vIC9hcHAvYnVpbGQKCkZST00gYnVpbGQgQVMgcHVibGlzaApSVU4gZG90bmV0IHB1Ymxpc2ggLWMgUmVsZWFzZSAtbyAvYXBwL3B1Ymxpc2gKCiMgQ29waWEgZWwgcmVzdWx0YXQgZGUgbGEgY29tcGlsYWNpw7MgYSBsYSBpbWF0Z2UgcnVudGltZQpGUk9NIGJhc2UgQVMgZmluYWwKV09SS0RJUiAvYXBwCkNPUFkgLS1mcm9tPXB1Ymxpc2ggL2FwcC9wdWJsaXNoIC4KRU5UUllQT0lOVCBbImRvdG5ldCIsICJZb3VyQXBwLmRsbCJd"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Utilitza la imatge oficial de .NET runtime com a imatge base
FROM mcr.microsoft.com/dotnet/aspnet:5.0 AS base
WORKDIR /app
EXPOSE 80

# Utilitza la imatge oficial de .NET SDK com a imatge base
FROM mcr.microsoft.com/dotnet/sdk:5.0 AS build
WORKDIR /src
COPY . .
RUN dotnet build -c Release -o /app/build

FROM build AS publish
RUN dotnet publish -c Release -o /app/publish

# Copia el resultat de la compilaci&oacute; a la imatge runtime
FROM base AS final
WORKDIR /app
COPY --from=publish /app/publish .
ENTRYPOINT [&quot;dotnet&quot;, &quot;YourApp.dll&quot;]</pre></div><div class='content'><p>Aquest Dockerfile compila i publica la teva aplicació F#, després copia el resultat a una imatge runtime.</p>
</div><h1>Desplegament al Núvol</h1>
<div class='content'><p>Desplegar a plataformes de núvol com Azure proporciona escalabilitat i fiabilitat. Azure App Service és una opció popular per desplegar aplicacions web.</p>
</div><h2>Exemple: Desplegament amb Azure CLI</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBJbmljaWFyIHNlc3Npw7MgYSBBenVyZQpheiBsb2dpbgoKIyBDcmVhciB1biBncnVwIGRlIHJlY3Vyc29zCmF6IGdyb3VwIGNyZWF0ZSAtLW5hbWUgbXlSZXNvdXJjZUdyb3VwIC0tbG9jYXRpb24gIkVhc3QgVVMiCgojIENyZWFyIHVuIHBsYSBkZSBzZXJ2ZWkgZCdhcGxpY2FjaW9ucwpheiBhcHBzZXJ2aWNlIHBsYW4gY3JlYXRlIC0tbmFtZSBteUFwcFNlcnZpY2VQbGFuIC0tcmVzb3VyY2UtZ3JvdXAgbXlSZXNvdXJjZUdyb3VwIC0tc2t1IEIxCgojIENyZWFyIHVuYSBhcGxpY2FjacOzIHdlYgpheiB3ZWJhcHAgY3JlYXRlIC0tbmFtZSBteVVuaXF1ZUFwcE5hbWUgLS1yZXNvdXJjZS1ncm91cCBteVJlc291cmNlR3JvdXAgLS1wbGFuIG15QXBwU2VydmljZVBsYW4KCiMgRGVzcGxlZ2FyIGwnYXBsaWNhY2nDswpheiB3ZWJhcHAgZGVwbG95IC0tcmVzb3VyY2UtZ3JvdXAgbXlSZXNvdXJjZUdyb3VwIC0tbmFtZSBteVVuaXF1ZUFwcE5hbWUgLS1zcmMtcGF0aCAuL3B1Ymxpc2g="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Iniciar sessi&oacute; a Azure
az login

# Crear un grup de recursos
az group create --name myResourceGroup --location &quot;East US&quot;

# Crear un pla de servei d'aplicacions
az appservice plan create --name myAppServicePlan --resource-group myResourceGroup --sku B1

# Crear una aplicaci&oacute; web
az webapp create --name myUniqueAppName --resource-group myResourceGroup --plan myAppServicePlan

# Desplegar l'aplicaci&oacute;
az webapp deploy --resource-group myResourceGroup --name myUniqueAppName --src-path ./publish</pre></div><div class='content'><p>Aquest script inicia sessió a Azure, crea un grup de recursos, un pla de servei d'aplicacions, una aplicació web i després desplega l'aplicació.</p>
</div><h1>Resum</h1>
<div class='content'><p>En aquesta secció, hem cobert els aspectes essencials del desplegament d'una aplicació F#:</p>
<ul>
<li>El procés de compilació utilitzant eines com MSBuild.</li>
<li>Configurar pipelines de CI/CD amb GitHub Actions.</li>
<li>Gestionar configuracions d'entorn.</li>
<li>Containeritzar aplicacions amb Docker.</li>
<li>Desplegar a plataformes de núvol com Azure.</li>
</ul>
<p>Seguint aquestes directrius i exemples, pots assegurar un procés de desplegament suau i eficient per a les teves aplicacions F#.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='testing-and-refinement'>&#x25C4;Proves i Refinament</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Desplegament</a>
	</div>
	<div class='col-4 text-end'>
					<a href='https://docs.microsoft.com/en-us/dotnet/fsharp/'>Documentació Oficial de F# &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
