<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves i Refinament</title>

    <link rel="alternate" href="https://campusempresa.com/es/fsharp/testing-and-refinement" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/fsharp/testing-and-refinement" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/fsharp/testing-and-refinement" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/fsharp/testing-and-refinement" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='implementation'>&#x25C4;Implementació</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Proves i Refinament</a>
	</div>
	<div class='col-4 text-end'>
					<a href='deployment'>Desplegament &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció a les Proves en F#</h1>
<div class='content'><p>Les proves són una part crucial del desenvolupament de programari que assegura que el teu codi funcioni com s'espera. En F#, pots utilitzar diversos marcs de proves per escriure i executar proves. Aquesta secció t'introduirà als conceptes bàsics de les proves en F#.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Proves Unitàries</strong>: Provar unitats individuals de codi per assegurar-se que funcionen correctament.</li>
<li><strong>Proves d'Integració</strong>: Provar com diferents parts del sistema treballen juntes.</li>
<li><strong>Desenvolupament Guiat per Proves (TDD)</strong>: Escriure proves abans d'escriure el codi real.</li>
</ul>
</div><h2>Marcs de Proves Populars en F#</h2>
<div class='content'><ul>
<li><strong>NUnit</strong>: Un marc de proves àmpliament utilitzat per a llenguatges .NET.</li>
<li><strong>xUnit</strong>: Un altre marc de proves popular conegut per la seva extensibilitat.</li>
<li><strong>FsUnit</strong>: Una biblioteca que afegeix una sintaxi més amigable per a F# a NUnit i xUnit.</li>
</ul>
</div><h1>Escriure la Teva Primera Prova Unitària</h1>
<div class='content'><p>Comencem escrivint una simple prova unitària utilitzant NUnit.</p>
</div><h2>Exemple: Provar una Funció</h2>
<div class='content'><p>Suposem que tenim una funció que suma dos números:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGFkZCB4IHkgPSB4ICsgeQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let add x y = x + y</pre></div><div class='content'><p>Podem escriure una prova unitària per a aquesta funció utilitzant NUnit.</p>
<ol>
<li>
<p><strong>Instal·lar NUnit</strong>: Primer, has d'instal·lar el paquet NUnit. Pots fer-ho utilitzant el Gestor de Paquets NuGet.</p>
</li>
<li>
<p><strong>Crear un Projecte de Proves</strong>: Crea un nou projecte F# per a les teves proves.</p>
</li>
<li>
<p><strong>Escriure la Prova</strong>:</p>
</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbiBOVW5pdC5GcmFtZXdvcmsKCls8VGVzdEZpeHR1cmU+XQp0eXBlIFRlc3RDbGFzcygpID0KCiAgICBbPFRlc3Q+XQogICAgbWVtYmVyIHRoaXMuYGBBZGQgRnVuY3Rpb24gVGVzdGBgKCkgPQogICAgICAgIGxldCByZXN1bHQgPSBhZGQgMiAzCiAgICAgICAgQXNzZXJ0LkFyZUVxdWFsKDUsIHJlc3VsdCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open NUnit.Framework

[&lt;TestFixture&gt;]
type TestClass() =

    [&lt;Test&gt;]
    member this.``Add Function Test``() =
        let result = add 2 3
        Assert.AreEqual(5, result)</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>[<TestFixture>]</strong>: Marca la classe com a classe de proves.</li>
<li><strong>[<Test>]</strong>: Marca el mètode com a mètode de prova.</li>
<li><strong>Assert.AreEqual</strong>: Comprova si el valor esperat (5) coincideix amb el resultat real.</li>
</ul>
</div><h1>Executar Proves</h1>
<div class='content'><p>Pots executar les teves proves utilitzant un executor de proves. La majoria d'IDEs com Visual Studio i JetBrains Rider tenen suport integrat per executar proves.</p>
</div><h2>Exemple: Executar Proves a Visual Studio</h2>
<div class='content'><ol>
<li><strong>Obrir Test Explorer</strong>: Ves a <code>Test &gt; Windows &gt; Test Explorer</code>.</li>
<li><strong>Executar Proves</strong>: Fes clic al botó <code>Run All</code> per executar totes les proves.</li>
</ol>
</div><h1>Tècniques Avançades de Proves</h1>
<div class='content'></div><h2>Mocking</h2>
<div class='content'><p>El mocking s'utilitza per simular el comportament d'objectes complexos. Això és útil per provar components de manera aïllada.</p>
<h4>Exemple: Utilitzar Moq</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbiBNb3EKCnR5cGUgSURlcGVuZGVuY3kgPQogICAgYWJzdHJhY3QgbWVtYmVyIEdldERhdGE6IHVuaXQgLT4gc3RyaW5nCgp0eXBlIE15U2VydmljZShkZXBlbmRlbmN5OiBJRGVwZW5kZW5jeSkgPQogICAgbWVtYmVyIHRoaXMuR2V0RGF0YSgpID0gZGVwZW5kZW5jeS5HZXREYXRhKCkKCls8VGVzdEZpeHR1cmU+XQp0eXBlIFRlc3RDbGFzcygpID0KCiAgICBbPFRlc3Q+XQogICAgbWVtYmVyIHRoaXMuYGBNeVNlcnZpY2UgR2V0RGF0YSBUZXN0YGAoKSA9CiAgICAgICAgbGV0IG1vY2sgPSBuZXcgTW9jazxJRGVwZW5kZW5jeT4oKQogICAgICAgIG1vY2suU2V0dXAoZnVuIHggLT4geC5HZXREYXRhKCkpLlJldHVybnMoIk1vY2sgRGF0YSIpCiAgICAgICAgCiAgICAgICAgbGV0IHNlcnZpY2UgPSBNeVNlcnZpY2UobW9jay5PYmplY3QpCiAgICAgICAgbGV0IHJlc3VsdCA9IHNlcnZpY2UuR2V0RGF0YSgpCiAgICAgICAgCiAgICAgICAgQXNzZXJ0LkFyZUVxdWFsKCJNb2NrIERhdGEiLCByZXN1bHQp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open Moq

type IDependency =
    abstract member GetData: unit -&gt; string

type MyService(dependency: IDependency) =
    member this.GetData() = dependency.GetData()

[&lt;TestFixture&gt;]
type TestClass() =

    [&lt;Test&gt;]
    member this.``MyService GetData Test``() =
        let mock = new Mock&lt;IDependency&gt;()
        mock.Setup(fun x -&gt; x.GetData()).Returns(&quot;Mock Data&quot;)
        
        let service = MyService(mock.Object)
        let result = service.GetData()
        
        Assert.AreEqual(&quot;Mock Data&quot;, result)</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>Mock<IDependency></strong>: Crea un objecte mock per a la interfície <code>IDependency</code>.</li>
<li><strong>mock.Setup</strong>: Configura el comportament de l'objecte mock.</li>
<li><strong>mock.Object</strong>: Obté l'objecte mock per passar-lo al servei.</li>
</ul>
</div><h1>Tècniques de Refinament</h1>
<div class='content'><p>El refinament implica millorar el teu codi basant-te en el feedback de les proves i les revisions de codi.</p>
</div><h2>Refactorització</h2>
<div class='content'><p>La refactorització és el procés de reestructurar el codi existent sense canviar el seu comportament extern.</p>
<h4>Exemple: Refactoritzar una Funció</h4>
<p>Funció original:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGNhbGN1bGF0ZUFyZWEgbGVuZ3RoIHdpZHRoID0gbGVuZ3RoICogd2lkdGg="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let calculateArea length width = length * width</pre></div><div class='content'><p>Funció refactoritzada:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGNhbGN1bGF0ZUFyZWEgKGxlbmd0aDogZmxvYXQpICh3aWR0aDogZmxvYXQpIDogZmxvYXQgPQogICAgbGVuZ3RoICogd2lkdGg="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let calculateArea (length: float) (width: float) : float =
    length * width</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>Anotacions de Tipus</strong>: Afegir anotacions de tipus per a una millor llegibilitat i seguretat de tipus.</li>
<li><strong>Comentaris de Codi</strong>: Afegir comentaris per explicar la lògica complexa.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Les proves i el refinament són pràctiques essencials en el desenvolupament de programari. Escriure proves et permet assegurar-te que el teu codi funcioni com s'espera i sigui mantenible. Les tècniques de refinament com la refactorització ajuden a millorar la qualitat del teu codi. En aquesta secció, has après com escriure i executar proves en F#, utilitzar mocking per a proves aïllades i aplicar tècniques bàsiques de refactorització. Continua practicant aquestes habilitats per convertir-te en un desenvolupador F# proficient.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='implementation'>&#x25C4;Implementació</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Proves i Refinament</a>
	</div>
	<div class='col-4 text-end'>
					<a href='deployment'>Desplegament &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
