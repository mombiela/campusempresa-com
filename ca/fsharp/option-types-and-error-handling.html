<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tipus d'opció i maneig d'errors en F#</title>

    <link rel="alternate" href="https://campusempresa.com/es/fsharp/option-types-and-error-handling" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/fsharp/option-types-and-error-handling" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/fsharp/option-types-and-error-handling" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/fsharp/option-types-and-error-handling" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='discriminated-unions'>&#x25C4;Unions Discriminades</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Tipus d'opció i maneig d'errors en F#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='async-programming'>Programació Asíncrona &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En F#, manejar valors opcionals i errors de manera elegant és crucial per escriure codi robust i mantenible. Aquesta secció cobrirà els conceptes bàsics dels tipus d'opció i el maneig d'errors, progressant des de conceptes per a principiants fins a conceptes avançats.</p>
</div><h1>Tipus d'opció</h1>
<div class='content'></div><h2>Què són els tipus d'opció?</h2>
<div class='content'><p>Els tipus d'opció en F# s'utilitzen per representar valors que poden o no estar presents. Són particularment útils per evitar referències nul·les i fer que el teu codi sigui més segur i expressiu.</p>
<ul>
<li><code>Some(value)</code>: Representa un valor que està present.</li>
<li><code>None</code>: Representa l'absència d'un valor.</li>
</ul>
</div><h2>Ús bàsic</h2>
<div class='content'><p>Aquí tens un exemple senzill per il·lustrar l'ús dels tipus d'opció:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGRpdmlkZSB4IHkgPQogICAgaWYgeSA9IDAgdGhlbiBOb25lCiAgICBlbHNlIFNvbWUgKHggLyB5KQoKbGV0IHJlc3VsdCA9IGRpdmlkZSAxMCAyCm1hdGNoIHJlc3VsdCB3aXRoCnwgU29tZSB2YWx1ZSAtPiBwcmludGZuICJSZXN1bHQgaXMgJWQiIHZhbHVlCnwgTm9uZSAtPiBwcmludGZuICJDYW5ub3QgZGl2aWRlIGJ5IHplcm8i"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let divide x y =
    if y = 0 then None
    else Some (x / y)

let result = divide 10 2
match result with
| Some value -&gt; printfn &quot;Result is %d&quot; value
| None -&gt; printfn &quot;Cannot divide by zero&quot;</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li>La funció <code>divide</code> retorna <code>None</code> si el divisor és zero.</li>
<li>En cas contrari, retorna <code>Some</code> amb el resultat de la divisió.</li>
<li>L'expressió <code>match</code> s'utilitza per manejar ambdós casos.</li>
</ul>
</div><h2>Treballant amb tipus d'opció</h2>
<div class='content'><p>Pots utilitzar diverses funcions per treballar amb tipus d'opció, com ara <code>Option.map</code>, <code>Option.bind</code> i <code>Option.defaultValue</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGFkZE9uZSBvcHQgPQogICAgT3B0aW9uLm1hcCAoZnVuIHggLT4geCArIDEpIG9wdAoKbGV0IHJlc3VsdCA9IGFkZE9uZSAoU29tZSA1KQpwcmludGZuICIlQSIgcmVzdWx0ICAvLyBPdXRwdXQ6IFNvbWUgNgoKbGV0IHJlc3VsdE5vbmUgPSBhZGRPbmUgTm9uZQpwcmludGZuICIlQSIgcmVzdWx0Tm9uZSAgLy8gT3V0cHV0OiBOb25l"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let addOne opt =
    Option.map (fun x -&gt; x + 1) opt

let result = addOne (Some 5)
printfn &quot;%A&quot; result  // Output: Some 6

let resultNone = addOne None
printfn &quot;%A&quot; resultNone  // Output: None</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li><code>Option.map</code> aplica una funció al valor dins de <code>Some</code>, si existeix.</li>
<li>Si l'opció és <code>None</code>, simplement retorna <code>None</code>.</li>
</ul>
</div><h1>Maneig d'errors</h1>
<div class='content'></div><h2>Maneig bàsic d'errors amb excepcions</h2>
<div class='content'><p>F# suporta el maneig tradicional d'errors utilitzant excepcions. Aquí tens un exemple bàsic:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IGRpdmlkZSB4IHkgPQogICAgaWYgeSA9IDAgdGhlbiByYWlzZSAoU3lzdGVtLkRpdmlkZUJ5WmVyb0V4Y2VwdGlvbigiQ2Fubm90IGRpdmlkZSBieSB6ZXJvIikpCiAgICBlbHNlIHggLyB5Cgp0cnkKICAgIGxldCByZXN1bHQgPSBkaXZpZGUgMTAgMAogICAgcHJpbnRmbiAiUmVzdWx0IGlzICVkIiByZXN1bHQKd2l0aAp8IDo/IFN5c3RlbS5EaXZpZGVCeVplcm9FeGNlcHRpb24gYXMgZXggLT4gcHJpbnRmbiAiRXJyb3I6ICVzIiBleC5NZXNzYWdl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let divide x y =
    if y = 0 then raise (System.DivideByZeroException(&quot;Cannot divide by zero&quot;))
    else x / y

try
    let result = divide 10 0
    printfn &quot;Result is %d&quot; result
with
| :? System.DivideByZeroException as ex -&gt; printfn &quot;Error: %s&quot; ex.Message</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li>La funció <code>divide</code> llança una excepció si el divisor és zero.</li>
<li>El bloc <code>try...with</code> captura l'excepció i la maneja.</li>
</ul>
</div><h2>Maneig avançat d'errors amb tipus Result</h2>
<div class='content'><p>F# també proporciona un enfocament més funcional per al maneig d'errors utilitzant tipus <code>Result</code>. Un tipus <code>Result</code> pot ser <code>Ok</code> o <code>Error</code>.</p>
<ul>
<li><code>Ok(value)</code>: Representa un càlcul exitós.</li>
<li><code>Error(error)</code>: Representa un càlcul fallit.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHlwZSBEaXZpc2lvbkVycm9yID0KICAgIHwgRGl2aWRlQnlaZXJvCiAgICB8IE5lZ2F0aXZlTnVtYmVyCgpsZXQgZGl2aWRlIHggeSA9CiAgICBpZiB5ID0gMCB0aGVuIEVycm9yIERpdmlkZUJ5WmVybwogICAgZWxpZiB4IDwgMCB8fCB5IDwgMCB0aGVuIEVycm9yIE5lZ2F0aXZlTnVtYmVyCiAgICBlbHNlIE9rICh4IC8geSkKCmxldCBoYW5kbGVSZXN1bHQgcmVzdWx0ID0KICAgIG1hdGNoIHJlc3VsdCB3aXRoCiAgICB8IE9rIHZhbHVlIC0+IHByaW50Zm4gIlJlc3VsdCBpcyAlZCIgdmFsdWUKICAgIHwgRXJyb3IgRGl2aWRlQnlaZXJvIC0+IHByaW50Zm4gIkNhbm5vdCBkaXZpZGUgYnkgemVybyIKICAgIHwgRXJyb3IgTmVnYXRpdmVOdW1iZXIgLT4gcHJpbnRmbiAiTmVnYXRpdmUgbnVtYmVycyBhcmUgbm90IGFsbG93ZWQiCgpsZXQgcmVzdWx0ID0gZGl2aWRlIDEwIDAKaGFuZGxlUmVzdWx0IHJlc3VsdA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>type DivisionError =
    | DivideByZero
    | NegativeNumber

let divide x y =
    if y = 0 then Error DivideByZero
    elif x &lt; 0 || y &lt; 0 then Error NegativeNumber
    else Ok (x / y)

let handleResult result =
    match result with
    | Ok value -&gt; printfn &quot;Result is %d&quot; value
    | Error DivideByZero -&gt; printfn &quot;Cannot divide by zero&quot;
    | Error NegativeNumber -&gt; printfn &quot;Negative numbers are not allowed&quot;

let result = divide 10 0
handleResult result</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li>La funció <code>divide</code> retorna un tipus <code>Result</code>.</li>
<li>La funció <code>handleResult</code> utilitza el patró de coincidència per manejar diferents casos.</li>
</ul>
</div><h2>Combinació de tipus d'opció i tipus Result</h2>
<div class='content'><p>Pots combinar tipus d'opció i tipus Result per manejar escenaris més complexos.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IHNhZmVEaXZpZGUgeCB5ID0KICAgIGlmIHkgPSAwIHRoZW4gTm9uZQogICAgZWxzZSBTb21lICh4IC8geSkKCmxldCBwcm9jZXNzRGl2aXNpb24geCB5ID0KICAgIG1hdGNoIHNhZmVEaXZpZGUgeCB5IHdpdGgKICAgIHwgU29tZSB2YWx1ZSAtPiBPayB2YWx1ZQogICAgfCBOb25lIC0+IEVycm9yICJEaXZpc2lvbiBieSB6ZXJvIgoKbGV0IHJlc3VsdCA9IHByb2Nlc3NEaXZpc2lvbiAxMCAwCm1hdGNoIHJlc3VsdCB3aXRoCnwgT2sgdmFsdWUgLT4gcHJpbnRmbiAiUmVzdWx0IGlzICVkIiB2YWx1ZQp8IEVycm9yIG1zZyAtPiBwcmludGZuICJFcnJvcjogJXMiIG1zZw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let safeDivide x y =
    if y = 0 then None
    else Some (x / y)

let processDivision x y =
    match safeDivide x y with
    | Some value -&gt; Ok value
    | None -&gt; Error &quot;Division by zero&quot;

let result = processDivision 10 0
match result with
| Ok value -&gt; printfn &quot;Result is %d&quot; value
| Error msg -&gt; printfn &quot;Error: %s&quot; msg</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li><code>safeDivide</code> retorna un tipus d'opció.</li>
<li><code>processDivision</code> converteix el tipus d'opció a un tipus Result per a un maneig d'errors més detallat.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Entendre i utilitzar efectivament els tipus d'opció i els mecanismes de maneig d'errors en F# és essencial per escriure codi robust i mantenible. Aprofitant aquestes característiques, pots evitar problemes comuns com les referències nul·les i les excepcions no manejades, conduint a programes més fiables i expressius.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='discriminated-unions'>&#x25C4;Unions Discriminades</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Tipus d'opció i maneig d'errors en F#</a>
	</div>
	<div class='col-4 text-end'>
					<a href='async-programming'>Programació Asíncrona &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
