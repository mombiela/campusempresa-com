<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documents incrustats vs. Referències</title>

    <link rel="alternate" href="https://campusempresa.com/es/mongodb/embedded-documents-vs-references" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/mongodb/embedded-documents-vs-references" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/mongodb/embedded-documents-vs-references" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/mongodb/embedded-documents-vs-references" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>A MongoDB, hi ha dues maneres principals de modelar relacions entre dades: Documents incrustats i Referències. Entendre quan i com utilitzar cada mètode és crucial per dissenyar bases de dades eficients i escalables.</p>
</div><h1>Documents incrustats</h1>
<div class='content'><p>Els documents incrustats emmagatzemen dades relacionades dins d'un sol document. Aquest enfocament s'utilitza sovint quan les dades relacionades es consulten freqüentment juntes.</p>
</div><h2>Conceptes clau</h2>
<div class='content'><ul>
<li><strong>Desnormalització</strong>: Incrustar dades per evitar unions i millorar el rendiment de lectura.</li>
<li><strong>Operacions atòmiques</strong>: Les actualitzacions del document són atòmiques, garantint la consistència.</li>
<li><strong>Localitat de dades</strong>: Les dades relacionades s'emmagatzemen juntes, reduint la necessitat de múltiples consultes.</li>
</ul>
</div><h2>Exemple</h2>
<div class='content'><p>Considerem una entrada de blog amb comentaris. Utilitzant documents incrustats, els comentaris s'emmagatzemen dins del document de l'entrada del blog.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxLAogICJ0aXRsZSI6ICJJbnRyb2R1Y2Npw7MgYSBNb25nb0RCIiwKICAiY29udGVudCI6ICJNb25nb0RCIMOpcyB1bmEgYmFzZSBkZSBkYWRlcyBOb1NRTC4uLiIsCiAgImNvbW1lbnRzIjogWwogICAgewogICAgICAidXNlciI6ICJBbGljZSIsCiAgICAgICJjb21tZW50IjogIkdyYW4gZW50cmFkYSEiLAogICAgICAiZGF0ZSI6ICIyMDIzLTEwLTAxIgogICAgfSwKICAgIHsKICAgICAgInVzZXIiOiAiQm9iIiwKICAgICAgImNvbW1lbnQiOiAiTW9sdCBpbmZvcm1hdGl1LiIsCiAgICAgICJkYXRlIjogIjIwMjMtMTAtMDIiCiAgICB9CiAgXQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 1,
  &quot;title&quot;: &quot;Introducci&oacute; a MongoDB&quot;,
  &quot;content&quot;: &quot;MongoDB &eacute;s una base de dades NoSQL...&quot;,
  &quot;comments&quot;: [
    {
      &quot;user&quot;: &quot;Alice&quot;,
      &quot;comment&quot;: &quot;Gran entrada!&quot;,
      &quot;date&quot;: &quot;2023-10-01&quot;
    },
    {
      &quot;user&quot;: &quot;Bob&quot;,
      &quot;comment&quot;: &quot;Molt informatiu.&quot;,
      &quot;date&quot;: &quot;2023-10-02&quot;
    }
  ]
}</pre></div><div class='content'></div><h2>Avantatges</h2>
<div class='content'><ul>
<li><strong>Rendiment</strong>: Operacions de lectura més ràpides ja que les dades relacionades estan en un sol document.</li>
<li><strong>Simplicitat</strong>: Més fàcil de gestionar i consultar dades relacionades.</li>
</ul>
</div><h2>Desavantatges</h2>
<div class='content'><ul>
<li><strong>Mida del document</strong>: Pot conduir a documents grans, arribant al límit de mida de document de 16MB de MongoDB.</li>
<li><strong>Duplicació</strong>: Duplicació de dades si el mateix document incrustat s'utilitza en múltiples llocs.</li>
</ul>
</div><h1>Referències</h1>
<div class='content'><p>Les referències emmagatzemen dades relacionades en documents separats, utilitzant referències (normalment ObjectIds) per enllaçar-los. Aquest enfocament és similar a les claus foranes en bases de dades relacionals.</p>
</div><h2>Conceptes clau</h2>
<div class='content'><ul>
<li><strong>Normalització</strong>: Emmagatzemar dades en documents separats per evitar duplicació.</li>
<li><strong>Flexibilitat</strong>: Més fàcil d'actualitzar i gestionar dades relacionades de manera independent.</li>
<li><strong>Unions</strong>: Requereix múltiples consultes o l'etapa d'agregació <code>$lookup</code> per combinar dades.</li>
</ul>
</div><h2>Exemple</h2>
<div class='content'><p>Utilitzant referències, l'entrada del blog i els comentaris s'emmagatzemen en col·leccions separades.</p>
<p><strong>Document d'entrada de blog:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxLAogICJ0aXRsZSI6ICJJbnRyb2R1Y2Npw7MgYSBNb25nb0RCIiwKICAiY29udGVudCI6ICJNb25nb0RCIMOpcyB1bmEgYmFzZSBkZSBkYWRlcyBOb1NRTC4uLiIsCiAgImNvbW1lbnRzIjogWzEwMSwgMTAyXQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 1,
  &quot;title&quot;: &quot;Introducci&oacute; a MongoDB&quot;,
  &quot;content&quot;: &quot;MongoDB &eacute;s una base de dades NoSQL...&quot;,
  &quot;comments&quot;: [101, 102]
}</pre></div><div class='content'><p><strong>Col·lecció de comentaris:</strong></p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxMDEsCiAgInVzZXIiOiAiQWxpY2UiLAogICJjb21tZW50IjogIkdyYW4gZW50cmFkYSEiLAogICJkYXRlIjogIjIwMjMtMTAtMDEiLAogICJwb3N0X2lkIjogMQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 101,
  &quot;user&quot;: &quot;Alice&quot;,
  &quot;comment&quot;: &quot;Gran entrada!&quot;,
  &quot;date&quot;: &quot;2023-10-01&quot;,
  &quot;post_id&quot;: 1
}</pre></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ewogICJfaWQiOiAxMDIsCiAgInVzZXIiOiAiQm9iIiwKICAiY29tbWVudCI6ICJNb2x0IGluZm9ybWF0aXUuIiwKICAiZGF0ZSI6ICIyMDIzLTEwLTAyIiwKICAicG9zdF9pZCI6IDEKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>{
  &quot;_id&quot;: 102,
  &quot;user&quot;: &quot;Bob&quot;,
  &quot;comment&quot;: &quot;Molt informatiu.&quot;,
  &quot;date&quot;: &quot;2023-10-02&quot;,
  &quot;post_id&quot;: 1
}</pre></div><div class='content'></div><h2>Avantatges</h2>
<div class='content'><ul>
<li><strong>Escalabilitat</strong>: Més adequat per a grans conjunts de dades i relacions complexes.</li>
<li><strong>Integritat de dades</strong>: Més fàcil de mantenir la consistència i evitar duplicació.</li>
</ul>
</div><h2>Desavantatges</h2>
<div class='content'><ul>
<li><strong>Rendiment</strong>: Operacions de lectura més lentes degut a la necessitat de múltiples consultes o unions.</li>
<li><strong>Complexitat</strong>: Consultes i gestió de dades més complexes.</li>
</ul>
</div><h1>Taula comparativa</h1>
<div class='content'><p>| Característica        | Documents incrustats                      | Referències                             |
|-----------------------|------------------------------------------|----------------------------------------|
| <strong>Rendiment</strong>         | Lectures més ràpides                     | Lectures més lentes degut a múltiples consultes   |
| <strong>Integritat de dades</strong>| Més difícil de mantenir                 | Més fàcil de mantenir                     |
| <strong>Mida del document</strong> | Pot arribar a ser molt gran              | Documents més petits i manejables     |
| <strong>Complexitat</strong>       | Consultes més simples                    | Consultes més complexes                   |
| <strong>Cas d'ús</strong>          | Dades relacionades consultades freqüentment juntes| Grans conjunts de dades, relacions complexes  |</p>
</div><h1>Conclusió</h1>
<div class='content'><p>Escollir entre documents incrustats i referències a MongoDB depèn del teu cas d'ús específic. Els documents incrustats són ideals per a escenaris on les dades relacionades es consulten freqüentment juntes i el rendiment és una prioritat. Les referències són més adequades per a grans conjunts de dades i relacions complexes on la integritat de dades i l'escalabilitat són importants. Entendre els compromisos entre aquests dos enfocaments t'ajudarà a dissenyar bases de dades MongoDB eficients i escalables.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
