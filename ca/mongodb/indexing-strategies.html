<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estratègies d'indexació a MongoDB</title>

    <link rel="alternate" href="https://campusempresa.com/es/mongodb/indexing-strategies" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/mongodb/indexing-strategies" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/mongodb/indexing-strategies" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/mongodb/indexing-strategies" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='index'></div><h2>Introducció a la indexació</h2>
<div class='index'><p>Els índexs són estructures de dades especials que emmagatzemen una petita porció del conjunt de dades de la col·lecció en una forma fàcil de recórrer. L'índex emmagatzema el valor d'un camp específic o conjunt de camps, ordenat pel valor del camp. Els índexs suporten l'execució eficient de consultes a MongoDB.</p>
</div><h2>Per què utilitzar índexs?</h2>
<div class='index'><ul>
<li><strong>Millora del rendiment</strong>: Els índexs milloren significativament el rendiment de les consultes.</li>
<li><strong>Recuperació eficient de dades</strong>: Permeten a MongoDB recuperar només els documents necessaris.</li>
<li><strong>Reducció del consum de recursos</strong>: Els índexs redueixen la quantitat de dades que MongoDB necessita escanejar.</li>
</ul>
</div><h2>Tipus d'índexs</h2>
<div class='index'><p>MongoDB suporta diversos tipus d'índexs, cadascun adequat per a diferents casos d'ús.</p>
</div><h2>Índex de camp únic</h2>
<div class='index'><p>Un índex de camp únic es crea en un sol camp d'un document.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAxIH0p"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: 1 })</pre></div><div class='index'><ul>
<li><strong>Exemple</strong>: Creant un índex ascendent en el camp <code>name</code>.
<pre><code class="language-javascript">db.users.createIndex({ name: 1 })
</code></pre>
</li>
</ul>
</div><h2>Índex compost</h2>
<div class='index'><p>Un índex compost es crea en múltiples camps.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkMTogMSwgZmllbGQyOiAtMSB9KQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field1: 1, field2: -1 })</pre></div><div class='index'><ul>
<li><strong>Exemple</strong>: Creant un índex compost en <code>age</code> (ascendent) i <code>score</code> (descendent).
<pre><code class="language-javascript">db.students.createIndex({ age: 1, score: -1 })
</code></pre>
</li>
</ul>
</div><h2>Índex multiclau</h2>
<div class='index'><p>Un índex multiclau es crea en un camp de tipus array.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGFycmF5RmllbGQ6IDEgfSk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ arrayField: 1 })</pre></div><div class='index'><ul>
<li><strong>Exemple</strong>: Creant un índex en el camp array <code>tags</code>.
<pre><code class="language-javascript">db.articles.createIndex({ tags: 1 })
</code></pre>
</li>
</ul>
</div><h2>Índex de text</h2>
<div class='index'><p>Un índex de text suporta consultes de cerca de text en contingut de tipus string.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAidGV4dCIgfSk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: &quot;text&quot; })</pre></div><div class='index'><ul>
<li><strong>Exemple</strong>: Creant un índex de text en el camp <code>description</code>.
<pre><code class="language-javascript">db.products.createIndex({ description: &quot;text&quot; })
</code></pre>
</li>
</ul>
</div><h2>Índex geoespacial</h2>
<div class='index'><p>Un índex geoespacial suporta consultes per a formes i dades geoespacials.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGxvY2F0aW9uOiAiMmRzcGhlcmUiIH0p"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ location: &quot;2dsphere&quot; })</pre></div><div class='index'><ul>
<li><strong>Exemple</strong>: Creant un índex 2dsphere en el camp <code>location</code>.
<pre><code class="language-javascript">db.places.createIndex({ location: &quot;2dsphere&quot; })
</code></pre>
</li>
</ul>
</div><h2>Índex de hash</h2>
<div class='index'><p>Un índex de hash s'utilitza per a particionament i suporta consultes d'igualtat.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGIuY29sbGVjdGlvbi5jcmVhdGVJbmRleCh7IGZpZWxkOiAiaGFzaGVkIiB9KQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>db.collection.createIndex({ field: &quot;hashed&quot; })</pre></div><div class='index'><ul>
<li><strong>Exemple</strong>: Creant un índex de hash en el camp <code>user_id</code>.
<pre><code class="language-javascript">db.accounts.createIndex({ user_id: &quot;hashed&quot; })
</code></pre>
</li>
</ul>
</div><h2>Estratègies d'indexació</h2>
<div class='index'><p>Escollir l'estratègia d'indexació adequada és crucial per optimitzar el rendiment de les consultes.</p>
</div><h2>Comprendre els patrons de consulta</h2>
<div class='index'><ul>
<li><strong>Analitzar consultes</strong>: Utilitza el mètode <code>explain()</code> per comprendre l'execució de les consultes.
<pre><code class="language-javascript">db.collection.find({ field: value }).explain(&quot;executionStats&quot;)
</code></pre>
</li>
</ul>
</div><h2>Selecció d'índexs</h2>
<div class='index'><ul>
<li><strong>Consultes d'igualtat</strong>: Utilitza índexs de camp únic o compostos.</li>
<li><strong>Consultes de rang</strong>: Utilitza índexs compostos amb el camp de rang com l'últim camp.</li>
<li><strong>Operacions de sort</strong>: Crea índexs que coincideixin amb l'ordre de sort.</li>
<li><strong>Consultes multiclau</strong>: Utilitza índexs multiclau per a camps de tipus array.</li>
</ul>
</div><h2>Manteniment d'índexs</h2>
<div class='index'><ul>
<li><strong>Mida dels índexs</strong>: Monitoritza la mida dels índexs per evitar un ús excessiu de memòria.</li>
<li><strong>Reconstrucció d'índexs</strong>: Reconstrueix periòdicament els índexs per mantenir el rendiment.
<pre><code class="language-javascript">db.collection.reIndex()
</code></pre>
</li>
</ul>
</div><h2>Millors pràctiques d'indexació</h2>
<div class='index'><ul>
<li><strong>Limitar el nombre d'índexs</strong>: Massa índexs poden degradar el rendiment d'escriptura.</li>
<li><strong>Utilitzar índexs esparsos</strong>: Per a camps que no estan presents en cada document.
<pre><code class="language-javascript">db.collection.createIndex({ field: 1 }, { sparse: true })
</code></pre>
</li>
<li><strong>Utilitzar consultes cobertes</strong>: Assegura't que les consultes es puguin satisfer només amb índexs.</li>
</ul>
</div><h2>Conclusió</h2>
<div class='index'><p>Els índexs són una eina poderosa a MongoDB que poden millorar significativament el rendiment de les consultes quan s'utilitzen correctament. Comprendre els diferents tipus d'índexs i com aplicar-los segons els patrons de consulta és essencial per a una gestió eficient de la base de dades. El manteniment regular i la selecció estratègica d'índexs són claus per optimitzar el rendiment i l'ús de recursos.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
