<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xifratge a MongoDB</title>

    <link rel="alternate" href="https://campusempresa.com/es/mongodb/encryption" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/mongodb/encryption" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/mongodb/encryption" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/mongodb/encryption" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció al Xifratge</h1>
<div class='content'><p>El xifratge és un aspecte crucial per assegurar les dades en qualsevol sistema de bases de dades. A MongoDB, el xifratge garanteix que les dades estiguin protegides tant en repòs com en trànsit. Aquesta secció cobrirà els conceptes bàsics del xifratge, la seva importància i com MongoDB l'implementa.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Xifratge</strong>: El procés de convertir dades en text pla en una forma codificada per evitar l'accés no autoritzat.</li>
<li><strong>Desxifratge</strong>: El procés de convertir dades xifrades de nou a la seva forma original.</li>
<li><strong>Xifratge en Repòs</strong>: Protegeix les dades emmagatzemades en disc.</li>
<li><strong>Xifratge en Trànsit</strong>: Protegeix les dades mentre es mouen entre el client i el servidor.</li>
</ul>
</div><h1>Xifratge en Repòs</h1>
<div class='content'><p>El xifratge en repòs a MongoDB assegura que les dades emmagatzemades en disc estiguin xifrades, fent-les il·legibles sense la clau de desxifratge adequada.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Xifratge d'Emmagatzematge</strong>: Xifra els fitxers de dades en disc.</li>
<li><strong>Gestió de Claus</strong>: Gestiona les claus de xifratge de manera segura.</li>
</ul>
</div><h2>Implementació</h2>
<div class='content'><p>MongoDB proporciona xifratge en repòs a través del motor d'emmagatzematge WiredTiger. Aquí teniu com habilitar-lo:</p>
<ol>
<li><strong>Habilitar el Xifratge</strong>: Modifiqueu el fitxer de configuració <code>mongod</code> per habilitar el xifratge.</li>
<li><strong>Especificar un Fitxer de Clau</strong>: Proporcioneu un fitxer de clau per al xifratge.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb25nb2QuY29uZgpzZWN1cml0eToKICBlbmFibGVFbmNyeXB0aW9uOiB0cnVlCiAgZW5jcnlwdGlvbktleUZpbGU6IC9wYXRoL3RvL2tleWZpbGU="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># mongod.conf
security:
  enableEncryption: true
  encryptionKeyFile: /path/to/keyfile</pre></div><div class='content'><ol start="3">
<li><strong>Iniciar MongoDB</strong>: Reinicieu el servidor MongoDB per aplicar els canvis.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9uZ29kIC0tY29uZmlnIC9wYXRoL3RvL21vbmdvZC5jb25m"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mongod --config /path/to/mongod.conf</pre></div><div class='content'></div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGRlIG1vbmdvZC5jb25mIGFtYiB4aWZyYXRnZQpzdG9yYWdlOgogIGRiUGF0aDogL3Zhci9saWIvbW9uZ29kYgogIGpvdXJuYWw6CiAgICBlbmFibGVkOiB0cnVlCnNlY3VyaXR5OgogIGVuYWJsZUVuY3J5cHRpb246IHRydWUKICBlbmNyeXB0aW9uS2V5RmlsZTogL2V0Yy9tb25nb2RiLWtleWZpbGU="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple de mongod.conf amb xifratge
storage:
  dbPath: /var/lib/mongodb
  journal:
    enabled: true
security:
  enableEncryption: true
  encryptionKeyFile: /etc/mongodb-keyfile</pre></div><div class='content'></div><h1>Xifratge en Trànsit</h1>
<div class='content'><p>El xifratge en trànsit assegura que les dades estiguin xifrades mentre viatgen entre el client i el servidor MongoDB, prevenint escoltes i atacs d'intermediari.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>TLS/SSL</strong>: Protocols utilitzats per xifrar dades en trànsit.</li>
<li><strong>Certificats</strong>: Certificats digitals utilitzats per establir una connexió segura.</li>
</ul>
</div><h2>Implementació</h2>
<div class='content'><p>Per habilitar el xifratge en trànsit, heu de configurar MongoDB per utilitzar TLS/SSL.</p>
<ol>
<li><strong>Generar Certificats</strong>: Creeu una autoritat de certificació (CA) i certificats de servidor.</li>
<li><strong>Configurar MongoDB</strong>: Actualitzeu el fitxer de configuració <code>mongod</code> per utilitzar els certificats.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb25nb2QuY29uZgpuZXQ6CiAgc3NsOgogICAgbW9kZTogcmVxdWlyZVNTTAogICAgUEVNS2V5RmlsZTogL3BhdGgvdG8vc2VydmVyLnBlbQogICAgQ0FGaWxlOiAvcGF0aC90by9jYS5wZW0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># mongod.conf
net:
  ssl:
    mode: requireSSL
    PEMKeyFile: /path/to/server.pem
    CAFile: /path/to/ca.pem</pre></div><div class='content'><ol start="3">
<li><strong>Iniciar MongoDB</strong>: Reinicieu el servidor MongoDB amb la configuració actualitzada.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9uZ29kIC0tY29uZmlnIC9wYXRoL3RvL21vbmdvZC5jb25m"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>mongod --config /path/to/mongod.conf</pre></div><div class='content'></div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGRlIG1vbmdvZC5jb25mIGFtYiBUTFMvU1NMCm5ldDoKICBwb3J0OiAyNzAxNwogIHNzbDoKICAgIG1vZGU6IHJlcXVpcmVTU0wKICAgIFBFTUtleUZpbGU6IC9ldGMvc3NsL21vbmdvZGIucGVtCiAgICBDQUZpbGU6IC9ldGMvc3NsL2NhLnBlbQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple de mongod.conf amb TLS/SSL
net:
  port: 27017
  ssl:
    mode: requireSSL
    PEMKeyFile: /etc/ssl/mongodb.pem
    CAFile: /etc/ssl/ca.pem</pre></div><div class='content'></div><h1>Tècniques Avançades de Xifratge</h1>
<div class='content'><p>Per a usuaris avançats, MongoDB ofereix funcions i configuracions addicionals per millorar el xifratge.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Xifratge de Camp a Nivell de Client</strong>: Xifra camps específics dins dels documents abans d'enviar-los al servidor.</li>
<li><strong>Gestió Externa de Claus</strong>: S'integra amb sistemes externs de gestió de claus (KMS) per a una seguretat millorada.</li>
</ul>
</div><h2>Implementació</h2>
<div class='content'><ol>
<li><strong>Xifratge de Camp a Nivell de Client</strong>: Utilitzeu controladors de MongoDB que suportin el xifratge a nivell de camp.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgeyBNb25nb0NsaWVudCwgQ2xpZW50RW5jcnlwdGlvbiB9ID0gcmVxdWlyZSgnbW9uZ29kYicpOwoKLy8gQ3JlYXIgdW4gTW9uZ29DbGllbnQgYW1iIG9wY2lvbnMgZGUgeGlmcmF0Z2UKY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KCdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3JywgewogIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwKICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsCiAgYXV0b0VuY3J5cHRpb246IHsKICAgIGtleVZhdWx0TmFtZXNwYWNlOiAnZW5jcnlwdGlvbi5fX2tleVZhdWx0JywKICAgIGttc1Byb3ZpZGVyczogewogICAgICBsb2NhbDogewogICAgICAgIGtleTogQnVmZmVyLmZyb20oJ01PTkdPQ1JZUFRfS0VZJywgJ2Jhc2U2NCcpCiAgICAgIH0KICAgIH0KICB9Cn0pOwoKLy8gQ29ubmVjdGFyLXNlIGEgbGEgYmFzZSBkZSBkYWRlcwpjbGllbnQuY29ubmVjdCgpLnRoZW4oKCkgPT4gewogIGNvbnN0IGRiID0gY2xpZW50LmRiKCd0ZXN0Jyk7CiAgY29uc3QgY29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ2VuY3J5cHRlZERhdGEnKTsKCiAgLy8gSW5zZXJpciB1biBkb2N1bWVudCB4aWZyYXQKICBjb2xsZWN0aW9uLmluc2VydE9uZSh7CiAgICBuYW1lOiAnSm9obiBEb2UnLAogICAgc3NuOiAnMTIzLTQ1LTY3ODknCiAgfSk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const { MongoClient, ClientEncryption } = require('mongodb');

// Crear un MongoClient amb opcions de xifratge
const client = new MongoClient('mongodb://localhost:27017', {
  useNewUrlParser: true,
  useUnifiedTopology: true,
  autoEncryption: {
    keyVaultNamespace: 'encryption.__keyVault',
    kmsProviders: {
      local: {
        key: Buffer.from('MONGOCRYPT_KEY', 'base64')
      }
    }
  }
});

// Connectar-se a la base de dades
client.connect().then(() =&gt; {
  const db = client.db('test');
  const collection = db.collection('encryptedData');

  // Inserir un document xifrat
  collection.insertOne({
    name: 'John Doe',
    ssn: '123-45-6789'
  });
});</pre></div><div class='content'><ol start="2">
<li><strong>Gestió Externa de Claus</strong>: Configureu MongoDB per utilitzar un KMS extern, com AWS KMS o Azure Key Vault.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBtb25nb2QuY29uZiBhbWIgS01TIGV4dGVybgpzZWN1cml0eToKICBlbmFibGVFbmNyeXB0aW9uOiB0cnVlCiAgZW5jcnlwdGlvbktleUZpbGU6IC9wYXRoL3RvL2tleWZpbGUKICBrbWlwOgogICAgc2VydmVyTmFtZToga21pcC1zZXJ2ZXIuZXhhbXBsZS5jb20KICAgIHBvcnQ6IDU2OTY="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># mongod.conf amb KMS extern
security:
  enableEncryption: true
  encryptionKeyFile: /path/to/keyfile
  kmip:
    serverName: kmip-server.example.com
    port: 5696</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>El xifratge és una part vital per assegurar les vostres dades a MongoDB. Entenent i implementant el xifratge en repòs i en trànsit, podeu protegir les vostres dades contra l'accés no autoritzat. Per a una seguretat avançada, considereu utilitzar el xifratge de camp a nivell de client i integrar-vos amb sistemes externs de gestió de claus. Assegureu-vos sempre que les vostres claus de xifratge estiguin gestionades de manera segura i seguiu les millors pràctiques per a la seguretat de bases de dades.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
