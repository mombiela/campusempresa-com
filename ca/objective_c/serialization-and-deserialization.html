<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serialització i Deserialització en Objective-C</title>

    <link rel="alternate" href="https://campusempresa.com/es/objective_c/serialization-and-deserialization" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/objective_c/serialization-and-deserialization" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/objective_c/serialization-and-deserialization" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/objective_c/serialization-and-deserialization" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-files'>&#x25C4;Treballant amb Fitxers</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Serialització i Deserialització en Objective-C</a>
	</div>
	<div class='col-4 text-end'>
					<a href='protocols-and-delegates'>Protocols i Delegats &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La serialització i deserialització són conceptes essencials en la programació, especialment quan es tracta de l'emmagatzematge i la transmissió de dades. En Objective-C, aquests processos impliquen convertir objectes en un format que es pugui emmagatzemar o transmetre fàcilment i després reconstruir-los de nou en objectes.</p>
</div><h1>Què és la Serialització?</h1>
<div class='content'><p>La serialització és el procés de convertir un objecte en un format que es pugui emmagatzemar o transmetre fàcilment. En Objective-C, això sovint implica convertir objectes en formats JSON, XML o binaris.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Conversió d'Objectes</strong>: Transformar un objecte en un format emmagatzemable.</li>
<li><strong>Formats de Dades</strong>: Els formats comuns inclouen JSON, XML i binari.</li>
<li><strong>Protocol NSCoding</strong>: Un protocol que les classes poden adoptar per donar suport a la serialització.</li>
</ul>
</div><h2>Exemple: Serialitzant un Objecte a JSON</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIFBlcnNvbiA6IE5TT2JqZWN0CkBwcm9wZXJ0eSAobm9uYXRvbWljLCBzdHJvbmcpIE5TU3RyaW5nICpuYW1lOwpAcHJvcGVydHkgKG5vbmF0b21pYywgYXNzaWduKSBOU0ludGVnZXIgYWdlOwpAZW5kCgpAaW1wbGVtZW50YXRpb24gUGVyc29uCkBlbmQKCmludCBtYWluKGludCBhcmdjLCBjb25zdCBjaGFyICogYXJndltdKSB7CiAgICBAYXV0b3JlbGVhc2Vwb29sIHsKICAgICAgICBQZXJzb24gKnBlcnNvbiA9IFtQZXJzb24gbmV3XTsKICAgICAgICBwZXJzb24ubmFtZSA9IEAiSm9obiBEb2UiOwogICAgICAgIHBlcnNvbi5hZ2UgPSAzMDsKCiAgICAgICAgTlNEaWN0aW9uYXJ5ICpwZXJzb25EaWN0ID0gQHtAIm5hbWUiOiBwZXJzb24ubmFtZSwgQCJhZ2UiOiBAKHBlcnNvbi5hZ2UpfTsKICAgICAgICBOU0Vycm9yICplcnJvcjsKICAgICAgICBOU0RhdGEgKmpzb25EYXRhID0gW05TSlNPTlNlcmlhbGl6YXRpb24gZGF0YVdpdGhKU09OT2JqZWN0OnBlcnNvbkRpY3Qgb3B0aW9uczpOU0pTT05Xcml0aW5nUHJldHR5UHJpbnRlZCBlcnJvcjomZXJyb3JdOwoKICAgICAgICBpZiAoIWpzb25EYXRhKSB7CiAgICAgICAgICAgIE5TTG9nKEAiRmFpbGVkIHRvIHNlcmlhbGl6ZSBvYmplY3Q6ICVAIiwgZXJyb3IpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIE5TU3RyaW5nICpqc29uU3RyaW5nID0gW1tOU1N0cmluZyBhbGxvY10gaW5pdFdpdGhEYXRhOmpzb25EYXRhIGVuY29kaW5nOk5TVVRGOFN0cmluZ0VuY29kaW5nXTsKICAgICAgICAgICAgTlNMb2coQCJTZXJpYWxpemVkIEpTT046ICVAIiwganNvblN0cmluZyk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIDA7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &lt;Foundation/Foundation.h&gt;

@interface Person : NSObject
@property (nonatomic, strong) NSString *name;
@property (nonatomic, assign) NSInteger age;
@end

@implementation Person
@end

int main(int argc, const char * argv[]) {
    @autoreleasepool {
        Person *person = [Person new];
        person.name = @&quot;John Doe&quot;;
        person.age = 30;

        NSDictionary *personDict = @{@&quot;name&quot;: person.name, @&quot;age&quot;: @(person.age)};
        NSError *error;
        NSData *jsonData = [NSJSONSerialization dataWithJSONObject:personDict options:NSJSONWritingPrettyPrinted error:&amp;error];

        if (!jsonData) {
            NSLog(@&quot;Failed to serialize object: %@&quot;, error);
        } else {
            NSString *jsonString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];
            NSLog(@&quot;Serialized JSON: %@&quot;, jsonString);
        }
    }
    return 0;
}</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li>Creem un objecte <code>Person</code>.</li>
<li>Convertim l'objecte <code>Person</code> en un diccionari.</li>
<li>Serialitzem el diccionari en format JSON utilitzant <code>NSJSONSerialization</code>.</li>
</ul>
</div><h1>Què és la Deserialització?</h1>
<div class='content'><p>La deserialització és el procés de convertir dades serialitzades de nou en un objecte. Això és crucial per llegir dades que s'han emmagatzemat o rebut a través d'una xarxa.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Conversió de Dades</strong>: Transformar dades serialitzades de nou en un objecte.</li>
<li><strong>Gestió d'Errors</strong>: Gestionar possibles errors durant el procés de deserialització.</li>
<li><strong>Protocol NSCoding</strong>: Les classes poden adoptar aquest protocol per donar suport a la deserialització.</li>
</ul>
</div><h2>Exemple: Deserialitzant JSON a un Objecte</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIFBlcnNvbiA6IE5TT2JqZWN0CkBwcm9wZXJ0eSAobm9uYXRvbWljLCBzdHJvbmcpIE5TU3RyaW5nICpuYW1lOwpAcHJvcGVydHkgKG5vbmF0b21pYywgYXNzaWduKSBOU0ludGVnZXIgYWdlOwpAZW5kCgpAaW1wbGVtZW50YXRpb24gUGVyc29uCkBlbmQKCmludCBtYWluKGludCBhcmdjLCBjb25zdCBjaGFyICogYXJndltdKSB7CiAgICBAYXV0b3JlbGVhc2Vwb29sIHsKICAgICAgICBOU1N0cmluZyAqanNvblN0cmluZyA9IEAie1wibmFtZVwiOlwiSm9obiBEb2VcIixcImFnZVwiOjMwfSI7CiAgICAgICAgTlNEYXRhICpqc29uRGF0YSA9IFtqc29uU3RyaW5nIGRhdGFVc2luZ0VuY29kaW5nOk5TVVRGOFN0cmluZ0VuY29kaW5nXTsKICAgICAgICBOU0Vycm9yICplcnJvcjsKICAgICAgICBOU0RpY3Rpb25hcnkgKnBlcnNvbkRpY3QgPSBbTlNKU09OU2VyaWFsaXphdGlvbiBKU09OT2JqZWN0V2l0aERhdGE6anNvbkRhdGEgb3B0aW9uczowIGVycm9yOiZlcnJvcl07CgogICAgICAgIGlmICghcGVyc29uRGljdCkgewogICAgICAgICAgICBOU0xvZyhAIkZhaWxlZCB0byBkZXNlcmlhbGl6ZSBKU09OOiAlQCIsIGVycm9yKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBQZXJzb24gKnBlcnNvbiA9IFtQZXJzb24gbmV3XTsKICAgICAgICAgICAgcGVyc29uLm5hbWUgPSBwZXJzb25EaWN0W0AibmFtZSJdOwogICAgICAgICAgICBwZXJzb24uYWdlID0gW3BlcnNvbkRpY3RbQCJhZ2UiXSBpbnRlZ2VyVmFsdWVdOwogICAgICAgICAgICBOU0xvZyhAIkRlc2VyaWFsaXplZCBQZXJzb246ICVALCBBZ2U6ICVsZCIsIHBlcnNvbi5uYW1lLCAobG9uZylwZXJzb24uYWdlKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &lt;Foundation/Foundation.h&gt;

@interface Person : NSObject
@property (nonatomic, strong) NSString *name;
@property (nonatomic, assign) NSInteger age;
@end

@implementation Person
@end

int main(int argc, const char * argv[]) {
    @autoreleasepool {
        NSString *jsonString = @&quot;{\&quot;name\&quot;:\&quot;John Doe\&quot;,\&quot;age\&quot;:30}&quot;;
        NSData *jsonData = [jsonString dataUsingEncoding:NSUTF8StringEncoding];
        NSError *error;
        NSDictionary *personDict = [NSJSONSerialization JSONObjectWithData:jsonData options:0 error:&amp;error];

        if (!personDict) {
            NSLog(@&quot;Failed to deserialize JSON: %@&quot;, error);
        } else {
            Person *person = [Person new];
            person.name = personDict[@&quot;name&quot;];
            person.age = [personDict[@&quot;age&quot;] integerValue];
            NSLog(@&quot;Deserialized Person: %@, Age: %ld&quot;, person.name, (long)person.age);
        }
    }
    return 0;
}</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li>Comencem amb una cadena JSON.</li>
<li>Convertim la cadena JSON en <code>NSData</code>.</li>
<li>Deserialitzem el <code>NSData</code> de nou en un diccionari.</li>
<li>Creem un objecte <code>Person</code> a partir del diccionari.</li>
</ul>
</div><h1>Serialització i Deserialització Avançades</h1>
<div class='content'><p>Per a objectes més complexos, potser necessiteu implementar el protocol <code>NSCoding</code> per gestionar la lògica de serialització i deserialització personalitzada.</p>
</div><h2>Implementant NSCoding</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2ltcG9ydCA8Rm91bmRhdGlvbi9Gb3VuZGF0aW9uLmg+CgpAaW50ZXJmYWNlIFBlcnNvbiA6IE5TT2JqZWN0IDxOU0NvZGluZz4KQHByb3BlcnR5IChub25hdG9taWMsIHN0cm9uZykgTlNTdHJpbmcgKm5hbWU7CkBwcm9wZXJ0eSAobm9uYXRvbWljLCBhc3NpZ24pIE5TSW50ZWdlciBhZ2U7CkBlbmQKCkBpbXBsZW1lbnRhdGlvbiBQZXJzb24KCi0gKHZvaWQpZW5jb2RlV2l0aENvZGVyOihOU0NvZGVyICopY29kZXIgewogICAgW2NvZGVyIGVuY29kZU9iamVjdDpzZWxmLm5hbWUgZm9yS2V5OkAibmFtZSJdOwogICAgW2NvZGVyIGVuY29kZUludGVnZXI6c2VsZi5hZ2UgZm9yS2V5OkAiYWdlIl07Cn0KCi0gKGluc3RhbmNldHlwZSlpbml0V2l0aENvZGVyOihOU0NvZGVyICopY29kZXIgewogICAgc2VsZiA9IFtzdXBlciBpbml0XTsKICAgIGlmIChzZWxmKSB7CiAgICAgICAgX25hbWUgPSBbY29kZXIgZGVjb2RlT2JqZWN0Rm9yS2V5OkAibmFtZSJdOwogICAgICAgIF9hZ2UgPSBbY29kZXIgZGVjb2RlSW50ZWdlckZvcktleTpAImFnZSJdOwogICAgfQogICAgcmV0dXJuIHNlbGY7Cn0KCkBlbmQKCmludCBtYWluKGludCBhcmdjLCBjb25zdCBjaGFyICogYXJndltdKSB7CiAgICBAYXV0b3JlbGVhc2Vwb29sIHsKICAgICAgICBQZXJzb24gKnBlcnNvbiA9IFtQZXJzb24gbmV3XTsKICAgICAgICBwZXJzb24ubmFtZSA9IEAiSm9obiBEb2UiOwogICAgICAgIHBlcnNvbi5hZ2UgPSAzMDsKCiAgICAgICAgLy8gU2VyaWFsaXplIHVzaW5nIE5TQ29kaW5nCiAgICAgICAgTlNEYXRhICpkYXRhID0gW05TS2V5ZWRBcmNoaXZlciBhcmNoaXZlZERhdGFXaXRoUm9vdE9iamVjdDpwZXJzb24gcmVxdWlyaW5nU2VjdXJlQ29kaW5nOk5PIGVycm9yOm5pbF07CiAgICAgICAgCiAgICAgICAgLy8gRGVzZXJpYWxpemUgdXNpbmcgTlNDb2RpbmcKICAgICAgICBQZXJzb24gKmRlc2VyaWFsaXplZFBlcnNvbiA9IFtOU0tleWVkVW5hcmNoaXZlciB1bmFyY2hpdmVkT2JqZWN0T2ZDbGFzczpbUGVyc29uIGNsYXNzXSBmcm9tRGF0YTpkYXRhIGVycm9yOm5pbF07CiAgICAgICAgCiAgICAgICAgTlNMb2coQCJEZXNlcmlhbGl6ZWQgUGVyc29uOiAlQCwgQWdlOiAlbGQiLCBkZXNlcmlhbGl6ZWRQZXJzb24ubmFtZSwgKGxvbmcpZGVzZXJpYWxpemVkUGVyc29uLmFnZSk7CiAgICB9CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#import &lt;Foundation/Foundation.h&gt;

@interface Person : NSObject &lt;NSCoding&gt;
@property (nonatomic, strong) NSString *name;
@property (nonatomic, assign) NSInteger age;
@end

@implementation Person

- (void)encodeWithCoder:(NSCoder *)coder {
    [coder encodeObject:self.name forKey:@&quot;name&quot;];
    [coder encodeInteger:self.age forKey:@&quot;age&quot;];
}

- (instancetype)initWithCoder:(NSCoder *)coder {
    self = [super init];
    if (self) {
        _name = [coder decodeObjectForKey:@&quot;name&quot;];
        _age = [coder decodeIntegerForKey:@&quot;age&quot;];
    }
    return self;
}

@end

int main(int argc, const char * argv[]) {
    @autoreleasepool {
        Person *person = [Person new];
        person.name = @&quot;John Doe&quot;;
        person.age = 30;

        // Serialize using NSCoding
        NSData *data = [NSKeyedArchiver archivedDataWithRootObject:person requiringSecureCoding:NO error:nil];
        
        // Deserialize using NSCoding
        Person *deserializedPerson = [NSKeyedUnarchiver unarchivedObjectOfClass:[Person class] fromData:data error:nil];
        
        NSLog(@&quot;Deserialized Person: %@, Age: %ld&quot;, deserializedPerson.name, (long)deserializedPerson.age);
    }
    return 0;
}</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li>La classe <code>Person</code> adopta el protocol <code>NSCoding</code>.</li>
<li>Implementem <code>encodeWithCoder:</code> per especificar com serialitzar l'objecte.</li>
<li>Implementem <code>initWithCoder:</code> per especificar com deserialitzar l'objecte.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>La serialització i deserialització són crítiques per a l'emmagatzematge i la transmissió de dades en Objective-C. Entenent i implementant aquests processos, podeu gestionar eficientment les dades en les vostres aplicacions. Tant si treballeu amb JSON simple com amb objectes personalitzats més complexos, Objective-C proporciona eines robustes per gestionar aquestes tasques.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='working-with-files'>&#x25C4;Treballant amb Fitxers</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Serialització i Deserialització en Objective-C</a>
	</div>
	<div class='col-4 text-end'>
					<a href='protocols-and-delegates'>Protocols i Delegats &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
