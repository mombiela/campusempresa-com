<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comandes Avançades</title>

    <link rel="alternate" href="https://campusempresa.com/es/redis/advanced-commands" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/redis/advanced-commands" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/redis/advanced-commands" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/redis/advanced-commands" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>En aquesta secció, aprofundirem en les comandes avançades de Redis que van més enllà dels conceptes bàsics. Aquestes comandes són essencials per optimitzar el rendiment, gestionar estructures de dades de manera més efectiva i assegurar una alta disponibilitat i fiabilitat en les teves aplicacions Redis.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Transaccions</strong>: Agrupa múltiples comandes en una sola operació atòmica.</li>
<li><strong>Pipelining</strong>: Envia múltiples comandes al servidor sense esperar les respostes.</li>
<li><strong>Lua Scripting</strong>: Executa operacions complexes atòmicament utilitzant scripts Lua.</li>
<li><strong>Pub/Sub</strong>: Implementa la difusió i escolta de missatges.</li>
<li><strong>Gestió de Clúster</strong>: Gestiona el sharding de dades i la replicació a través de múltiples nodes.</li>
</ul>
</div><h1>Transaccions</h1>
<div class='content'><p>Les transaccions de Redis et permeten executar una sèrie de comandes com una sola operació atòmica. Això assegura que o bé totes les comandes s'executen, o bé cap, mantenint la integritat de les dades.</p>
</div><h2>Exemple: Utilitzant MULTI, EXEC, DISCARD i WATCH</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("TVVMVEkKU0VUIHVzZXI6MTAwMDpuYW1lICJKb2huIERvZSIKSU5DUiB1c2VyOjEwMDA6dmlzaXRzCkVYRUM="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>MULTI
SET user:1000:name &quot;John Doe&quot;
INCR user:1000:visits
EXEC</pre></div><div class='content'><ul>
<li><code>MULTI</code>: Marca l'inici d'un bloc de transacció.</li>
<li><code>EXEC</code>: Executa totes les comandes emeses després de <code>MULTI</code>.</li>
<li><code>DISCARD</code>: Cancel·la la transacció.</li>
<li><code>WATCH</code>: Monitoritza claus per canvis per executar condicionalment una transacció.</li>
</ul>
</div><h2>Exemple: Utilitzant WATCH</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("V0FUQ0ggdXNlcjoxMDAwOmJhbGFuY2UKTVVMVEkKREVDUkJZIHVzZXI6MTAwMDpiYWxhbmNlIDUwCklOQ1JCWSB1c2VyOjEwMDA6YmFsYW5jZSA1MApFWEVD"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>WATCH user:1000:balance
MULTI
DECRBY user:1000:balance 50
INCRBY user:1000:balance 50
EXEC</pre></div><div class='content'><ul>
<li><code>WATCH user:1000:balance</code>: Monitoritza la clau <code>user:1000:balance</code>.</li>
<li>Si <code>user:1000:balance</code> canvia abans de <code>EXEC</code>, la transacció s'aborta.</li>
</ul>
</div><h1>Pipelining</h1>
<div class='content'><p>El pipelining et permet enviar múltiples comandes al servidor sense esperar les respostes, reduint el temps de viatge d'anada i tornada.</p>
</div><h2>Exemple: Utilitzant Pipelining</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U0VUIHVzZXI6MTAwMDpuYW1lICJKb2huIERvZSIKSU5DUiB1c2VyOjEwMDA6dmlzaXRzCkdFVCB1c2VyOjEwMDA6bmFtZQpHRVQgdXNlcjoxMDAwOnZpc2l0cw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SET user:1000:name &quot;John Doe&quot;
INCR user:1000:visits
GET user:1000:name
GET user:1000:visits</pre></div><div class='content'><ul>
<li>Envia totes les comandes en una sola sol·licitud.</li>
<li>Rep totes les respostes en una sola resposta.</li>
</ul>
</div><h1>Lua Scripting</h1>
<div class='content'><p>Els scripts Lua a Redis et permeten executar operacions complexes atòmicament. Els scripts es redacten en Lua i s'executen al servidor.</p>
</div><h2>Exemple: Script Lua Bàsic</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVkaXMuY2FsbCgiU0VUIiwgImZvbyIsICJiYXIiKQpyZXR1cm4gcmVkaXMuY2FsbCgiR0VUIiwgImZvbyIp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>redis.call(&quot;SET&quot;, &quot;foo&quot;, &quot;bar&quot;)
return redis.call(&quot;GET&quot;, &quot;foo&quot;)</pre></div><div class='content'><ul>
<li><code>redis.call</code>: Executa una comanda Redis.</li>
<li>L'script estableix la clau <code>foo</code> a <code>bar</code> i després recupera el valor de <code>foo</code>.</li>
</ul>
</div><h2>Exemple: Script Lua Condicional</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bG9jYWwgY3VycmVudCA9IHJlZGlzLmNhbGwoIkdFVCIsICJjb3VudGVyIikKaWYgY3VycmVudCA9PSBmYWxzZSB0aGVuCiAgICByZWRpcy5jYWxsKCJTRVQiLCAiY291bnRlciIsIDEpCmVsc2UKICAgIHJlZGlzLmNhbGwoIklOQ1IiLCAiY291bnRlciIpCmVuZA=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>local current = redis.call(&quot;GET&quot;, &quot;counter&quot;)
if current == false then
    redis.call(&quot;SET&quot;, &quot;counter&quot;, 1)
else
    redis.call(&quot;INCR&quot;, &quot;counter&quot;)
end</pre></div><div class='content'><ul>
<li>Comprova si la clau <code>counter</code> existeix.</li>
<li>Si no, estableix <code>counter</code> a 1.</li>
<li>Altrament, incrementa <code>counter</code>.</li>
</ul>
</div><h1>Pub/Sub</h1>
<div class='content'><p>Redis Pub/Sub et permet implementar la difusió i escolta de missatges, permetent la missatgeria en temps real.</p>
</div><h2>Exemple: Publicar i Subscriure's</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("U1VCU0NSSUJFIGNoYW5uZWwx"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>SUBSCRIBE channel1</pre></div><div class='content'><ul>
<li>Es subscriu a <code>channel1</code>.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("UFVCTElTSCBjaGFubmVsMSAiSGVsbG8sIFdvcmxkISI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>PUBLISH channel1 &quot;Hello, World!&quot;</pre></div><div class='content'><ul>
<li>Publica el missatge &quot;Hello, World!&quot; a <code>channel1</code>.</li>
</ul>
</div><h1>Gestió de Clúster</h1>
<div class='content'><p>Redis Cluster proporciona una manera de fer funcionar una instal·lació de Redis on les dades es distribueixen automàticament a través de múltiples nodes Redis.</p>
</div><h2>Comandes Clau per a la Gestió de Clúster</h2>
<div class='content'><ul>
<li><code>CLUSTER MEET &lt;ip&gt; &lt;port&gt;</code>: Afegeix un node al clúster.</li>
<li><code>CLUSTER NODES</code>: Llista tots els nodes del clúster.</li>
<li><code>CLUSTER INFO</code>: Proporciona informació sobre el clúster.</li>
<li><code>CLUSTER REPLICATE &lt;node_id&gt;</code>: Assigna un node com a rèplica d'un altre node.</li>
</ul>
</div><h2>Exemple: Afegir un Node a un Clúster</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q0xVU1RFUiBNRUVUIDE5Mi4xNjguMS4yIDYzNzk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CLUSTER MEET 192.168.1.2 6379</pre></div><div class='content'><ul>
<li>Afegeix el node a <code>192.168.1.2:6379</code> al clúster.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>En aquesta secció, hem explorat comandes avançades de Redis que són crucials per construir aplicacions robustes i eficients. En dominar les transaccions, el pipelining, els scripts Lua, Pub/Sub i la gestió de clúster, pots aprofitar Redis al màxim, assegurant un alt rendiment i fiabilitat en les teves aplicacions. Continua practicant aquestes comandes per aprofundir en la teva comprensió i habilitat en Redis.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
