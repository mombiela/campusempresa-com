<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polítiques d'Evicció</title>

    <link rel="alternate" href="https://campusempresa.com/es/redis/eviction-policies" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/redis/eviction-policies" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/redis/eviction-policies" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/redis/eviction-policies" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='latency-and-throughput'>&#x25C4;Latència i Rendiment</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Polítiques d'Evicció</a>
	</div>
	<div class='col-4 text-end'>
					<a href='performance-tuning'>Ajust del Rendiment &#x25BA;</a>
			</div>
</div>
<div class='content'><p>En aquesta secció, explorarem el concepte de les polítiques d'evicció a Redis. Les polítiques d'evicció són crucials per gestionar l'ús de la memòria i assegurar que Redis operi de manera eficient, especialment quan s'utilitza com a memòria cau.</p>
</div><h1>Què són les Polítiques d'Evicció?</h1>
<div class='content'><p>Les polítiques d'evicció determinen com Redis maneja les situacions quan arriba al seu límit màxim de memòria. Quan Redis està ple, necessita decidir quines claus eliminar per fer espai per a noves dades. Aquest procés es coneix com a evicció.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Límit de Memòria</strong>: La quantitat màxima de memòria que Redis pot utilitzar, configurada mitjançant la directiva <code>maxmemory</code>.</li>
<li><strong>Política d'Evicció</strong>: L'estratègia que Redis utilitza per decidir quines claus evictar quan s'arriba al límit de memòria.</li>
</ul>
</div><h1>Configurant el Límit de Memòria</h1>
<div class='content'><p>Per establir un límit de memòria a Redis, pots utilitzar la directiva <code>maxmemory</code> al fitxer de configuració de Redis (<code>redis.conf</code>):</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bWF4bWVtb3J5IDI1Nm1i"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>maxmemory 256mb</pre></div><div class='content'><p>Alternativament, pots establir-lo dinàmicament utilitzant la comanda <code>CONFIG SET</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q09ORklHIFNFVCBtYXhtZW1vcnkgMjU2bWI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CONFIG SET maxmemory 256mb</pre></div><div class='content'></div><h1>Tipus de Polítiques d'Evicció</h1>
<div class='content'><p>Redis ofereix diverses polítiques d'evicció, cadascuna adequada per a diferents casos d'ús. Aquí tens les principals polítiques d'evicció:</p>
<ol>
<li><strong>noeviction</strong>: Retorna un error quan s'arriba al límit de memòria. Aquesta és la política per defecte.</li>
<li><strong>allkeys-lru</strong>: Evicta les claus menys utilitzades recentment (LRU), independentment del seu temps d'expiració.</li>
<li><strong>volatile-lru</strong>: Evicta les claus menys utilitzades recentment (LRU) amb un temps d'expiració.</li>
<li><strong>allkeys-random</strong>: Evicta claus aleatòries, independentment del seu temps d'expiració.</li>
<li><strong>volatile-random</strong>: Evicta claus aleatòries amb un temps d'expiració.</li>
<li><strong>volatile-ttl</strong>: Evicta claus amb el temps de vida més curt (TTL).</li>
</ol>
</div><h2>Comparació de Polítiques d'Evicció</h2>
<div class='content'><p>| Política         | Descripció                                       | Cas d'Ús                                      |
|------------------|--------------------------------------------------|----------------------------------------------|
| noeviction       | Retorna un error quan s'arriba al límit de memòria| Quan vols assegurar que les dades mai s'evictin |
| allkeys-lru      | Evicta les claus menys utilitzades recentment    | Memòria cau general                          |
| volatile-lru     | Evicta les claus menys utilitzades recentment amb expiració | Memòria cau amb TTL                          |
| allkeys-random   | Evicta claus aleatòries                          | Quan el patró d'evicció no és important      |
| volatile-random  | Evicta claus aleatòries amb expiració            | Quan el patró d'evicció no és important, amb TTL |
| volatile-ttl     | Evicta claus amb el TTL més curt                 | Quan vols prioritzar el TTL                  |</p>
</div><h1>Establint Polítiques d'Evicció</h1>
<div class='content'><p>Pots establir la política d'evicció al fitxer de configuració de Redis (<code>redis.conf</code>) utilitzant la directiva <code>maxmemory-policy</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bWF4bWVtb3J5LXBvbGljeSBhbGxrZXlzLWxydQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>maxmemory-policy allkeys-lru</pre></div><div class='content'><p>O dinàmicament utilitzant la comanda <code>CONFIG SET</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Q09ORklHIFNFVCBtYXhtZW1vcnktcG9saWN5IGFsbGtleXMtbHJ1"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>CONFIG SET maxmemory-policy allkeys-lru</pre></div><div class='content'></div><h1>Exemples de Codi</h1>
<div class='content'></div><h2>Exemple 1: Establint el Límit de Memòria i la Política d'Evicció</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFbiByZWRpcy5jb25mCm1heG1lbW9yeSAyNTZtYgptYXhtZW1vcnktcG9saWN5IGFsbGtleXMtbHJ1"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># En redis.conf
maxmemory 256mb
maxmemory-policy allkeys-lru</pre></div><div class='content'></div><h2>Exemple 2: Establint Dinàmicament el Límit de Memòria i la Política d'Evicció</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("MTI3LjAuMC4xOjYzNzk+IENPTkZJRyBTRVQgbWF4bWVtb3J5IDI1Nm1iCk9LCjEyNy4wLjAuMTo2Mzc5PiBDT05GSUcgU0VUIG1heG1lbW9yeS1wb2xpY3kgYWxsa2V5cy1scnUKT0s="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>127.0.0.1:6379&gt; CONFIG SET maxmemory 256mb
OK
127.0.0.1:6379&gt; CONFIG SET maxmemory-policy allkeys-lru
OK</pre></div><div class='content'></div><h2>Exemple 3: Observant l'Evicció en Acció</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFc3RhYmxlaXggZWwgbMOtbWl0IGRlIG1lbcOycmlhIGEgdW4gdmFsb3IgcGV0aXQgcGVyIGEgcHJvdmVzCjEyNy4wLjAuMTo2Mzc5PiBDT05GSUcgU0VUIG1heG1lbW9yeSAxbWIKT0sKMTI3LjAuMC4xOjYzNzk+IENPTkZJRyBTRVQgbWF4bWVtb3J5LXBvbGljeSBhbGxrZXlzLWxydQpPSwoKIyBBZmVnZWl4IGNsYXVzIGZpbnMgcXVlIGVzIHByb2R1ZWl4aSBsJ2V2aWNjacOzCjEyNy4wLjAuMTo2Mzc5PiBTRVQga2V5MSAidmFsdWUxIgpPSwoxMjcuMC4wLjE6NjM3OT4gU0VUIGtleTIgInZhbHVlMiIKT0sKIyBDb250aW51YSBhZmVnaW50IGNsYXVzLi4u"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Estableix el l&iacute;mit de mem&ograve;ria a un valor petit per a proves
127.0.0.1:6379&gt; CONFIG SET maxmemory 1mb
OK
127.0.0.1:6379&gt; CONFIG SET maxmemory-policy allkeys-lru
OK

# Afegeix claus fins que es produeixi l'evicci&oacute;
127.0.0.1:6379&gt; SET key1 &quot;value1&quot;
OK
127.0.0.1:6379&gt; SET key2 &quot;value2&quot;
OK
# Continua afegint claus...</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Entendre i configurar les polítiques d'evicció a Redis és essencial per gestionar l'ús de la memòria de manera efectiva. Triant la política d'evicció adequada, pots assegurar que Redis funcioni de manera òptima per al teu cas d'ús específic. Tant si necessites un control estricte sobre l'ús de la memòria com una estratègia de memòria cau flexible, Redis proporciona una varietat d'opcions per satisfer les teves necessitats.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='latency-and-throughput'>&#x25C4;Latència i Rendiment</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Polítiques d'Evicció</a>
	</div>
	<div class='col-4 text-end'>
					<a href='performance-tuning'>Ajust del Rendiment &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
