<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Millors Pràctiques</title>

    <link rel="alternate" href="https://campusempresa.com/es/redis/best-practices" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/redis/best-practices" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/redis/best-practices" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/redis/best-practices" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='message-queues'>&#x25C4; Cues de Missatges</a></div><div class='col-6 text-end'><a href='redis-streams'>Streams de Redis &#x25BA;</a></div></div><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Redis és un potent magatzem de dades en memòria utilitzat com a base de dades, memòria cau i intermediari de missatges. Per treure el màxim profit de Redis, és essencial seguir les millors pràctiques que garanteixin el rendiment, la fiabilitat i la mantenibilitat. Aquesta secció cobreix les millors pràctiques des de nivells principiants fins a avançats.</p>
</div><h1>Millors Pràctiques Generals</h1>
<div class='content'></div><h2>Utilitza l'Estructura de Dades Adequada</h2>
<div class='content'><ul>
<li><strong>Strings</strong>: Per a parells clau-valor simples.</li>
<li><strong>Hashes</strong>: Per emmagatzemar objectes amb múltiples camps.</li>
<li><strong>Lists</strong>: Per a col·leccions ordenades d'elements.</li>
<li><strong>Sets</strong>: Per a col·leccions d'elements únics.</li>
<li><strong>Sorted Sets</strong>: Per a col·leccions d'elements únics amb puntuacions.</li>
<li><strong>Bitmaps</strong>: Per a l'emmagatzematge compacte de dades binàries.</li>
<li><strong>HyperLogLogs</strong>: Per aproximar la cardinalitat de grans conjunts.</li>
</ul>
</div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBTdHJpbmdzClNFVCB1c2VyOjEwMDAgIkpvaG4gRG9lIgoKIyBIYXNoZXMKSFNFVCB1c2VyOjEwMDAgbmFtZSAiSm9obiBEb2UiIGFnZSAzMAoKIyBMaXN0cwpMUFVTSCB0YXNrcyAidGFzazEiICJ0YXNrMiIKCiMgU2V0cwpTQUREIHRhZ3MgInJlZGlzIiAiZGF0YWJhc2UiCgojIFNvcnRlZCBTZXRzClpBREQgbGVhZGVyYm9hcmQgMTAwICJ1c2VyMSIgMjAwICJ1c2VyMiI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Strings
SET user:1000 &quot;John Doe&quot;

# Hashes
HSET user:1000 name &quot;John Doe&quot; age 30

# Lists
LPUSH tasks &quot;task1&quot; &quot;task2&quot;

# Sets
SADD tags &quot;redis&quot; &quot;database&quot;

# Sorted Sets
ZADD leaderboard 100 &quot;user1&quot; 200 &quot;user2&quot;</pre></div><div class='content'></div><h2>Mantingues les Claus Curtes</h2>
<div class='content'><ul>
<li>Utilitza noms de claus concisos i significatius per estalviar memòria i millorar el rendiment.</li>
<li>Exemple: Utilitza <code>user:1000</code> en lloc de <code>user:id:1000</code>.</li>
</ul>
</div><h2>Utilitza Espais de Noms</h2>
<div class='content'><ul>
<li>Organitza les claus utilitzant espais de noms per evitar col·lisions.</li>
<li>Exemple: <code>user:1000:name</code>, <code>user:1000:age</code>.</li>
</ul>
</div><h1>Optimització del Rendiment</h1>
<div class='content'></div><h2>Utilitza Pooling de Connexions</h2>
<div class='content'><ul>
<li>Reutilitza connexions a Redis per reduir la sobrecàrrega d'establir noves connexions.</li>
<li>Exemple (Python amb <code>redis-py</code>):</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHJlZGlzCnBvb2wgPSByZWRpcy5Db25uZWN0aW9uUG9vbChob3N0PSdsb2NhbGhvc3QnLCBwb3J0PTYzNzksIGRiPTApCnIgPSByZWRpcy5SZWRpcyhjb25uZWN0aW9uX3Bvb2w9cG9vbCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import redis
pool = redis.ConnectionPool(host='localhost', port=6379, db=0)
r = redis.Redis(connection_pool=pool)</pre></div><div class='content'></div><h2>Evita Claus i Valors Grans</h2>
<div class='content'><ul>
<li>Claus i valors grans poden alentir les operacions i augmentar l'ús de memòria.</li>
<li>Divideix dades grans en trossos més petits si és necessari.</li>
</ul>
</div><h2>Utilitza Pipelining</h2>
<div class='content'><ul>
<li>Agrupa múltiples comandes per reduir el nombre de viatges d'anada i tornada al servidor.</li>
<li>Exemple (Python amb <code>redis-py</code>):</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGlwZSA9IHIucGlwZWxpbmUoKQpwaXBlLnNldCgnZm9vJywgJ2JhcicpCnBpcGUuc2V0KCdiYXonLCAncXV4JykKcGlwZS5leGVjdXRlKCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>pipe = r.pipeline()
pipe.set('foo', 'bar')
pipe.set('baz', 'qux')
pipe.execute()</pre></div><div class='content'></div><h2>Monitoritza i Ajusta el Rendiment</h2>
<div class='content'><ul>
<li>Utilitza eines de monitorització de Redis com <code>INFO</code>, <code>MONITOR</code> i <code>SLOWLOG</code> per identificar colls d'ampolla de rendiment.</li>
<li>Ajusta els paràmetres de configuració basant-te en la càrrega de treball i les mètriques de rendiment.</li>
</ul>
</div><h1>Persistència de Dades</h1>
<div class='content'></div><h2>Utilitza RDB i AOF</h2>
<div class='content'><ul>
<li>Activa tant RDB (snapshotting) com AOF (Fitxer d'Append-Only) per a la persistència de dades.</li>
<li>RDB proporciona una recuperació més ràpida, mentre que AOF garanteix una pèrdua mínima de dades.</li>
</ul>
</div><h2>Configura els Paràmetres de Persistència</h2>
<div class='content'><ul>
<li>Ajusta els intervals de <code>save</code> per a RDB i <code>appendfsync</code> per a AOF segons els teus requisits de durabilitat.</li>
<li>Exemple (redis.conf):</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c2F2ZSA5MDAgMQpzYXZlIDMwMCAxMApzYXZlIDYwIDEwMDAwCmFwcGVuZGZzeW5jIGV2ZXJ5c2Vj"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>save 900 1
save 300 10
save 60 10000
appendfsync everysec</pre></div><div class='content'></div><h1>Seguretat</h1>
<div class='content'></div><h2>Utilitza Autenticació</h2>
<div class='content'><ul>
<li>Activa l'autenticació amb contrasenya per restringir l'accés.</li>
<li>Exemple (redis.conf):</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cmVxdWlyZXBhc3MgeW91cnBhc3N3b3Jk"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>requirepass yourpassword</pre></div><div class='content'></div><h2>Restringeix l'Accés a la Xarxa</h2>
<div class='content'><ul>
<li>Vincula Redis a interfícies de xarxa específiques i utilitza tallafocs per restringir l'accés.</li>
<li>Exemple (redis.conf):</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YmluZCAxMjcuMC4wLjE="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>bind 127.0.0.1</pre></div><div class='content'></div><h2>Utilitza TLS/SSL</h2>
<div class='content'><ul>
<li>Xifra les dades en trànsit utilitzant TLS/SSL.</li>
<li>Exemple (redis.conf):</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGxzLXBvcnQgNjM3OQp0bHMtY2VydC1maWxlIC9wYXRoL3RvL3JlZGlzLmNydAp0bHMta2V5LWZpbGUgL3BhdGgvdG8vcmVkaXMua2V5CnRscy1jYS1jZXJ0LWZpbGUgL3BhdGgvdG8vY2EuY3J0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>tls-port 6379
tls-cert-file /path/to/redis.crt
tls-key-file /path/to/redis.key
tls-ca-cert-file /path/to/ca.crt</pre></div><div class='content'></div><h1>Pràctiques Avançades</h1>
<div class='content'></div><h2>Utilitza Redis Cluster</h2>
<div class='content'><ul>
<li>Per a alta disponibilitat i escalabilitat horitzontal, utilitza Redis Cluster.</li>
<li>Redis Cluster distribueix automàticament les dades entre múltiples nodes.</li>
</ul>
</div><h2>Scripting amb Lua</h2>
<div class='content'><ul>
<li>Utilitza scripts Lua per a operacions atòmiques i per reduir el nombre de viatges d'anada i tornada.</li>
<li>Exemple:</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("LS0gU2NyaXB0IEx1YSBwZXIgaW5jcmVtZW50YXIgdW5hIGNsYXUgcGVyIHVuIHZhbG9yIGRvbmF0CmxvY2FsIGtleSA9IEtFWVNbMV0KbG9jYWwgaW5jcmVtZW50ID0gdG9udW1iZXIoQVJHVlsxXSkKcmV0dXJuIHJlZGlzLmNhbGwoJ0lOQ1JCWScsIGtleSwgaW5jcmVtZW50KQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>-- Script Lua per incrementar una clau per un valor donat
local key = KEYS[1]
local increment = tonumber(ARGV[1])
return redis.call('INCRBY', key, increment)</pre></div><div class='content'></div><h2>Utilitza Mòduls de Redis</h2>
<div class='content'><ul>
<li>Amplia la funcionalitat de Redis amb mòduls com RedisJSON, RedisGraph i RediSearch.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Seguir aquestes millors pràctiques t'ajudarà a optimitzar Redis per a rendiment, fiabilitat i mantenibilitat. Tant si ets un usuari principiant com avançat, aquestes directrius t'asseguraran que treus el màxim profit de Redis en les teves aplicacions.</p>
</div><div class='row navigation'><div class='col-6'><a href='message-queues'>&#x25C4; Cues de Missatges</a></div><div class='col-6 text-end'><a href='redis-streams'>Streams de Redis &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
