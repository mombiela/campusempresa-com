<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimització de Memòria en Redis</title>

    <link rel="alternate" href="https://campusempresa.com/es/redis/memory-optimization" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/redis/memory-optimization" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/redis/memory-optimization" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/redis/memory-optimization" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='security-best-practices'>&#x25C4;Millors Pràctiques de Seguretat</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Optimització de Memòria en Redis</a>
	</div>
	<div class='col-4 text-end'>
					<a href='latency-and-throughput'>Latència i Rendiment &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció a l'Optimització de Memòria</h1>
<div class='content'><p>L'optimització de memòria és crucial per mantenir el rendiment i l'eficiència de Redis. Com a emmagatzematge de dades en memòria, Redis depèn molt de la RAM, i optimitzar l'ús de la memòria pot portar a millores significatives en velocitat i gestió de recursos.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Ús de Memòria</strong>: Entendre com Redis utilitza la memòria.</li>
<li><strong>Tipus de Dades</strong>: Ús eficient dels tipus de dades de Redis.</li>
<li><strong>Compressió</strong>: Tècniques per comprimir dades.</li>
<li><strong>Polítiques d'Evicció</strong>: Gestió de la memòria amb polítiques d'evicció.</li>
<li><strong>Persistència</strong>: Equilibrar l'ús de memòria amb opcions de persistència.</li>
<li><strong>Monitoratge</strong>: Eines i comandes per monitoritzar l'ús de la memòria.</li>
</ul>
</div><h1>Ús de Memòria</h1>
<div class='content'><p>Redis emmagatzema totes les dades en memòria, cosa que el fa extremadament ràpid però també significa que la memòria és un recurs crític. Entendre com Redis assigna i utilitza la memòria és el primer pas en l'optimització.</p>
</div><h2>Assignació de Memòria</h2>
<div class='content'><p>Redis utilitza un assignador de memòria (jemalloc per defecte) per gestionar la memòria. Aquest assignador està optimitzat per al rendiment, però entendre el seu comportament pot ajudar a ajustar Redis.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBDb21wcm92YXIgbCdhc3NpZ25hZG9yIGRlIG1lbcOycmlhIHV0aWxpdHphdCBwZXIgUmVkaXMKcmVkaXMtc2VydmVyIC0tdmVyc2lvbg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Comprovar l'assignador de mem&ograve;ria utilitzat per Redis
redis-server --version</pre></div><div class='content'></div><h1>Ús Eficient dels Tipus de Dades</h1>
<div class='content'><p>Diferents tipus de dades en Redis tenen diferents empremtes de memòria. Triar el tipus de dades adequat per al teu cas d'ús pot estalviar una quantitat significativa de memòria.</p>
</div><h2>Strings</h2>
<div class='content'><p>Les cadenes són el tipus de dades més bàsic en Redis. Poden emmagatzemar qualsevol tipus de dades, però el seu ús de memòria es pot optimitzar utilitzant cadenes més curtes o comprimint dades.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFbW1hZ2F0emVtYXIgdW5hIGNhZGVuYSBlbiBSZWRpcwpTRVQgbXlrZXkgIkhlbGxvLCBSZWRpcyEi"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Emmagatzemar una cadena en Redis
SET mykey &quot;Hello, Redis!&quot;</pre></div><div class='content'></div><h2>Llistes, Conjunts, Hashos i Conjunts Ordenats</h2>
<div class='content'><p>Aquests tipus de dades poden ser més eficients en memòria que les cadenes per a certs casos d'ús.</p>
<ul>
<li><strong>Llistes</strong>: Utilitza llistes per a col·leccions ordenades de cadenes.</li>
<li><strong>Conjunts</strong>: Utilitza conjunts per a col·leccions de cadenes úniques.</li>
<li><strong>Hashos</strong>: Utilitza hashos per emmagatzemar objectes amb múltiples camps.</li>
<li><strong>Conjunts Ordenats</strong>: Utilitza conjunts ordenats per a col·leccions ordenades amb puntuacions.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGQnw7pzIGQndW4gaGFzaApIU0VUIHVzZXI6MTAwMCBuYW1lICJKb2huIERvZSIgYWdlIDMw"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple d'&uacute;s d'un hash
HSET user:1000 name &quot;John Doe&quot; age 30</pre></div><div class='content'></div><h1>Tècniques de Compressió</h1>
<div class='content'><p>Comprimir dades abans d'emmagatzemar-les en Redis pot estalviar memòria, especialment per a grans conjunts de dades.</p>
</div><h2>Ús de Mòduls de Redis</h2>
<div class='content'><p>Mòduls com <code>redisearch</code> i <code>redisgraph</code> proporcionen mecanismes de compressió integrats.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFeGVtcGxlIGQnw7pzIGRlbCBtw7JkdWwgcmVkaXNlYXJjaApGVC5DUkVBVEUgbXlJbmRleCBPTiBIQVNIIFBSRUZJWCAxIHVzZXI6IFNDSEVNQSBuYW1lIFRFWFQgYWdlIE5VTUVSSUM="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Exemple d'&uacute;s del m&ograve;dul redisearch
FT.CREATE myIndex ON HASH PREFIX 1 user: SCHEMA name TEXT age NUMERIC</pre></div><div class='content'></div><h2>Compressió Personalitzada</h2>
<div class='content'><p>També pots comprimir manualment les dades abans d'emmagatzemar-les en Redis.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHpsaWIKaW1wb3J0IHJlZGlzCgpyID0gcmVkaXMuUmVkaXMoKQoKIyBDb21wcmltaXIgZGFkZXMKY29tcHJlc3NlZF9kYXRhID0gemxpYi5jb21wcmVzcyhiIlNvbWUgbGFyZ2UgZGF0YSIpCnIuc2V0KCJjb21wcmVzc2VkX2tleSIsIGNvbXByZXNzZWRfZGF0YSk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import zlib
import redis

r = redis.Redis()

# Comprimir dades
compressed_data = zlib.compress(b&quot;Some large data&quot;)
r.set(&quot;compressed_key&quot;, compressed_data)</pre></div><div class='content'></div><h1>Polítiques d'Evicció</h1>
<div class='content'><p>Quan Redis es queda sense memòria, necessita expulsar algunes dades per fer espai per a noves dades. Redis proporciona diverses polítiques d'evicció per gestionar això.</p>
</div><h2>Configuració de Polítiques d'Evicció</h2>
<div class='content'><p>Pots configurar les polítiques d'evicció en el fitxer de configuració de Redis (<code>redis.conf</code>) o en temps d'execució.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBFc3RhYmxpciBsYSBwb2zDrXRpY2EgZCdldmljY2nDsyBhIHZvbGF0aWxlLWxydQpDT05GSUcgU0VUIG1heG1lbW9yeS1wb2xpY3kgdm9sYXRpbGUtbHJ1"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Establir la pol&iacute;tica d'evicci&oacute; a volatile-lru
CONFIG SET maxmemory-policy volatile-lru</pre></div><div class='content'></div><h2>Polítiques d'Evicció Comunes</h2>
<div class='content'><ul>
<li><strong>noeviction</strong>: Retorna errors quan s'assoleix el límit de memòria.</li>
<li><strong>allkeys-lru</strong>: Expulsa les claus menys recentment utilitzades.</li>
<li><strong>volatile-lru</strong>: Expulsa les claus menys recentment utilitzades amb una caducitat establerta.</li>
<li><strong>allkeys-random</strong>: Expulsa claus aleatòries.</li>
<li><strong>volatile-random</strong>: Expulsa claus aleatòries amb una caducitat establerta.</li>
</ul>
</div><h1>Persistència i Ús de Memòria</h1>
<div class='content'><p>Redis suporta diferents opcions de persistència que poden afectar l'ús de la memòria.</p>
</div><h2>Instantànies RDB</h2>
<div class='content'><p>Les instantànies RDB creen instantànies puntuals del conjunt de dades.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBBY3RpdmFyIHVuYSBpbnN0YW50w6BuaWEgUkRCCkJHU0FWRQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Activar una instant&agrave;nia RDB
BGSAVE</pre></div><div class='content'></div><h2>AOF (Fitxer Només d'Afegir)</h2>
<div class='content'><p>AOF registra cada operació d'escriptura rebuda pel servidor.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBBY3RpdmFyIGxhIHBlcnNpc3TDqG5jaWEgQU9GCkNPTkZJRyBTRVQgYXBwZW5kb25seSB5ZXM="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Activar la persist&egrave;ncia AOF
CONFIG SET appendonly yes</pre></div><div class='content'></div><h2>Equilibrar Persistència i Memòria</h2>
<div class='content'><p>Triar l'opció de persistència adequada pot ajudar a equilibrar l'ús de memòria i la durabilitat de les dades.</p>
</div><h1>Monitoratge de l'Ús de Memòria</h1>
<div class='content'><p>Monitoritzar l'ús de memòria és essencial per identificar i abordar problemes de memòria.</p>
</div><h2>Comandes de Memòria de Redis</h2>
<div class='content'><p>Redis proporciona diverses comandes per monitoritzar l'ús de memòria.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBPYnRlbmlyIHVuYSB2aXNpw7MgZ2VuZXJhbCBkZSBsJ8O6cyBkZSBtZW3DsnJpYQpJTkZPIG1lbW9yeQoKIyBPYnRlbmlyIGwnw7pzIGRlIG1lbcOycmlhIGRldGFsbGF0IHBlciBhIHVuYSBjbGF1IGVzcGVjw61maWNhCk1FTU9SWSBVU0FHRSBteWtleQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Obtenir una visi&oacute; general de l'&uacute;s de mem&ograve;ria
INFO memory

# Obtenir l'&uacute;s de mem&ograve;ria detallat per a una clau espec&iacute;fica
MEMORY USAGE mykey</pre></div><div class='content'></div><h2>Eines de Monitoratge Externes</h2>
<div class='content'><p>Eines com RedisInsight, Prometheus i Grafana poden proporcionar un monitoratge i visualització més detallats.</p>
</div><h1>Conclusió</h1>
<div class='content'><p>L'optimització de memòria en Redis implica entendre com Redis utilitza la memòria, triar els tipus de dades adequats, comprimir dades, configurar polítiques d'evicció, equilibrar opcions de persistència i monitoritzar l'ús de memòria. Seguint aquestes pràctiques, pots assegurar-te que la teva instància de Redis funcioni de manera eficient i efectiva, fins i tot sota càrrega pesada.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='security-best-practices'>&#x25C4;Millors Pràctiques de Seguretat</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Optimització de Memòria en Redis</a>
	</div>
	<div class='col-4 text-end'>
					<a href='latency-and-throughput'>Latència i Rendiment &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
