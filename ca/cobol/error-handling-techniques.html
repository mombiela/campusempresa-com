<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tècniques de Gestió d'Errors en COBOL</title>

    <link rel="alternate" href="https://campusempresa.com/es/cobol/error-handling-techniques" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/cobol/error-handling-techniques" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/cobol/error-handling-techniques" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/cobol/error-handling-techniques" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='advanced-file-handling'>&#x25C4; Gestió Avançada d'Arxius</a></div><div class='col-6 text-end'><a href='debugging-cobol-programs'>Depuració de Programes COBOL &#x25BA;</a></div></div><div class='content'><p>La gestió d'errors és un aspecte crucial de la programació que assegura que els teus programes COBOL puguin gestionar situacions inesperades de manera elegant. Aquest tema et guiarà a través de diverses tècniques de gestió d'errors en COBOL, des de nivells bàsics fins a avançats.</p>
</div><h1>Introducció a la Gestió d'Errors</h1>
<div class='content'><p>La gestió d'errors en COBOL implica detectar, gestionar i respondre als errors que es produeixen durant l'execució del programa. Una gestió d'errors efectiva pot prevenir fallades del programa i assegurar la integritat de les dades.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Detecció d'Errors</strong>: Identificar quan s'ha produït un error.</li>
<li><strong>Informació d'Errors</strong>: Informar l'usuari o el sistema sobre l'error.</li>
<li><strong>Recuperació d'Errors</strong>: Prendre mesures per corregir o mitigar l'error.</li>
</ul>
</div><h1>Tècniques Bàsiques de Gestió d'Errors</h1>
<div class='content'></div><h2>Ús de la Clàusula `FILE STATUS`</h2>
<div class='content'><p>La clàusula <code>FILE STATUS</code> s'utilitza per capturar l'estat de les operacions de fitxer. Ajuda a identificar problemes com fitxer no trobat, final de fitxer i altres errors d'E/S.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIEZpbGVTdGF0dXNFeGFtcGxlLgoKRU5WSVJPTk1FTlQgRElWSVNJT04uCklOUFVULU9VVFBVVCBTRUNUSU9OLgpGSUxFLUNPTlRST0wuCiAgICBTRUxFQ1QgSW5wdXRGaWxlIEFTU0lHTiBUTyAnaW5wdXQuZGF0JwogICAgT1JHQU5JWkFUSU9OIElTIExJTkUgU0VRVUVOVElBTAogICAgRklMRSBTVEFUVVMgSVMgV1MtRmlsZVN0YXR1cy4KCkRBVEEgRElWSVNJT04uCkZJTEUgU0VDVElPTi4KRkQgIElucHV0RmlsZS4KMDEgIElucHV0UmVjb3JkIFBJQyBYKDgwKS4KCldPUktJTkctU1RPUkFHRSBTRUNUSU9OLgowMSAgV1MtRmlsZVN0YXR1cyBQSUMgWFguCgpQUk9DRURVUkUgRElWSVNJT04uCiAgICBPUEVOIElOUFVUIElucHV0RmlsZQogICAgSUYgV1MtRmlsZVN0YXR1cyBOT1QgPSAnMDAnCiAgICAgICAgRElTUExBWSAnRXJyb3Igb3BlbmluZyBmaWxlOiAnIFdTLUZpbGVTdGF0dXMKICAgICAgICBTVE9QIFJVTgogICAgRU5ELUlGLgoKICAgIFJFQUQgSW5wdXRGaWxlIElOVE8gSW5wdXRSZWNvcmQKICAgIEFUIEVORAogICAgICAgIERJU1BMQVkgJ0VuZCBvZiBmaWxlIHJlYWNoZWQuJwogICAgTk9UIEFUIEVORAogICAgICAgIERJU1BMQVkgJ1JlY29yZDogJyBJbnB1dFJlY29yZAogICAgRU5ELVJFQUQuCgogICAgQ0xPU0UgSW5wdXRGaWxlLgogICAgU1RPUCBSVU4u"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. FileStatusExample.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT InputFile ASSIGN TO 'input.dat'
    ORGANIZATION IS LINE SEQUENTIAL
    FILE STATUS IS WS-FileStatus.

DATA DIVISION.
FILE SECTION.
FD  InputFile.
01  InputRecord PIC X(80).

WORKING-STORAGE SECTION.
01  WS-FileStatus PIC XX.

PROCEDURE DIVISION.
    OPEN INPUT InputFile
    IF WS-FileStatus NOT = '00'
        DISPLAY 'Error opening file: ' WS-FileStatus
        STOP RUN
    END-IF.

    READ InputFile INTO InputRecord
    AT END
        DISPLAY 'End of file reached.'
    NOT AT END
        DISPLAY 'Record: ' InputRecord
    END-READ.

    CLOSE InputFile.
    STOP RUN.</pre></div><div class='content'></div><h2>Ús de la Clàusula `INVALID KEY`</h2>
<div class='content'><p>La clàusula <code>INVALID KEY</code> s'utilitza amb fitxers indexats i relatius per gestionar errors durant operacions de fitxer com <code>READ</code>, <code>WRITE</code> i <code>REWRITE</code>.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIEludmFsaWRLZXlFeGFtcGxlLgoKRU5WSVJPTk1FTlQgRElWSVNJT04uCklOUFVULU9VVFBVVCBTRUNUSU9OLgpGSUxFLUNPTlRST0wuCiAgICBTRUxFQ1QgSW5kZXhlZEZpbGUgQVNTSUdOIFRPICdpbmRleGVkLmRhdCcKICAgIE9SR0FOSVpBVElPTiBJUyBJTkRFWEVECiAgICBBQ0NFU1MgTU9ERSBJUyBSQU5ET00KICAgIFJFQ09SRCBLRVkgSVMgS2V5RmllbGQKICAgIEZJTEUgU1RBVFVTIElTIFdTLUZpbGVTdGF0dXMuCgpEQVRBIERJVklTSU9OLgpGSUxFIFNFQ1RJT04uCkZEICBJbmRleGVkRmlsZS4KMDEgIEluZGV4ZWRSZWNvcmQuCiAgICAwNSAgS2V5RmllbGQgUElDIFgoMTApLgogICAgMDUgIERhdGFGaWVsZCBQSUMgWCg3MCkuCgpXT1JLSU5HLVNUT1JBR0UgU0VDVElPTi4KMDEgIFdTLUZpbGVTdGF0dXMgUElDIFhYLgowMSAgV1MtS2V5RmllbGQgUElDIFgoMTApIFZBTFVFICcxMjM0NTY3ODkwJy4KClBST0NFRFVSRSBESVZJU0lPTi4KICAgIE9QRU4gSS1PIEluZGV4ZWRGaWxlCiAgICBJRiBXUy1GaWxlU3RhdHVzIE5PVCA9ICcwMCcKICAgICAgICBESVNQTEFZICdFcnJvciBvcGVuaW5nIGZpbGU6ICcgV1MtRmlsZVN0YXR1cwogICAgICAgIFNUT1AgUlVOCiAgICBFTkQtSUYuCgogICAgUkVBRCBJbmRleGVkRmlsZQogICAgICAgIElOVkFMSUQgS0VZCiAgICAgICAgICAgIERJU1BMQVkgJ1JlY29yZCBub3QgZm91bmQgZm9yIGtleTogJyBXUy1LZXlGaWVsZAogICAgRU5ELVJFQUQuCgogICAgQ0xPU0UgSW5kZXhlZEZpbGUuCiAgICBTVE9QIFJVTi4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. InvalidKeyExample.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT IndexedFile ASSIGN TO 'indexed.dat'
    ORGANIZATION IS INDEXED
    ACCESS MODE IS RANDOM
    RECORD KEY IS KeyField
    FILE STATUS IS WS-FileStatus.

DATA DIVISION.
FILE SECTION.
FD  IndexedFile.
01  IndexedRecord.
    05  KeyField PIC X(10).
    05  DataField PIC X(70).

WORKING-STORAGE SECTION.
01  WS-FileStatus PIC XX.
01  WS-KeyField PIC X(10) VALUE '1234567890'.

PROCEDURE DIVISION.
    OPEN I-O IndexedFile
    IF WS-FileStatus NOT = '00'
        DISPLAY 'Error opening file: ' WS-FileStatus
        STOP RUN
    END-IF.

    READ IndexedFile
        INVALID KEY
            DISPLAY 'Record not found for key: ' WS-KeyField
    END-READ.

    CLOSE IndexedFile.
    STOP RUN.</pre></div><div class='content'></div><h1>Tècniques Intermèdies de Gestió d'Errors</h1>
<div class='content'></div><h2>Ús de Declaratives</h2>
<div class='content'><p>Les declaratives proporcionen una manera de gestionar errors i condicions excepcionals globalment dins d'un programa COBOL. Es defineixen a la secció <code>DECLARATIVES</code> i poden gestionar diverses condicions com errors de fitxer i errors d'E/S.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIERlY2xhcmF0aXZlc0V4YW1wbGUuCgpFTlZJUk9OTUVOVCBESVZJU0lPTi4KSU5QVVQtT1VUUFVUIFNFQ1RJT04uCkZJTEUtQ09OVFJPTC4KICAgIFNFTEVDVCBJbnB1dEZpbGUgQVNTSUdOIFRPICdpbnB1dC5kYXQnCiAgICBPUkdBTklaQVRJT04gSVMgTElORSBTRVFVRU5USUFMCiAgICBGSUxFIFNUQVRVUyBJUyBXUy1GaWxlU3RhdHVzLgoKREFUQSBESVZJU0lPTi4KRklMRSBTRUNUSU9OLgpGRCAgSW5wdXRGaWxlLgowMSAgSW5wdXRSZWNvcmQgUElDIFgoODApLgoKV09SS0lORy1TVE9SQUdFIFNFQ1RJT04uCjAxICBXUy1GaWxlU3RhdHVzIFBJQyBYWC4KClBST0NFRFVSRSBESVZJU0lPTi4KCkRFQ0xBUkFUSVZFUy4KRmlsZUVycm9yU2VjdGlvbiBTRUNUSU9OLgogICAgVVNFIEFGVEVSIFNUQU5EQVJEIEVSUk9SIFBST0NFRFVSRSBPTiBJbnB1dEZpbGUuCkZpbGVFcnJvclBhcmFncmFwaC4KICAgIERJU1BMQVkgJ0ZpbGUgZXJyb3Igb2NjdXJyZWQ6ICcgV1MtRmlsZVN0YXR1cwogICAgU1RPUCBSVU4uCkVORCBERUNMQVJBVElWRVMuCgpNYWluU2VjdGlvbi4KICAgIE9QRU4gSU5QVVQgSW5wdXRGaWxlCiAgICBSRUFEIElucHV0RmlsZSBJTlRPIElucHV0UmVjb3JkCiAgICBBVCBFTkQKICAgICAgICBESVNQTEFZICdFbmQgb2YgZmlsZSByZWFjaGVkLicKICAgIE5PVCBBVCBFTkQKICAgICAgICBESVNQTEFZICdSZWNvcmQ6ICcgSW5wdXRSZWNvcmQKICAgIEVORC1SRUFELgoKICAgIENMT1NFIElucHV0RmlsZS4KICAgIFNUT1AgUlVOLg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. DeclarativesExample.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT InputFile ASSIGN TO 'input.dat'
    ORGANIZATION IS LINE SEQUENTIAL
    FILE STATUS IS WS-FileStatus.

DATA DIVISION.
FILE SECTION.
FD  InputFile.
01  InputRecord PIC X(80).

WORKING-STORAGE SECTION.
01  WS-FileStatus PIC XX.

PROCEDURE DIVISION.

DECLARATIVES.
FileErrorSection SECTION.
    USE AFTER STANDARD ERROR PROCEDURE ON InputFile.
FileErrorParagraph.
    DISPLAY 'File error occurred: ' WS-FileStatus
    STOP RUN.
END DECLARATIVES.

MainSection.
    OPEN INPUT InputFile
    READ InputFile INTO InputRecord
    AT END
        DISPLAY 'End of file reached.'
    NOT AT END
        DISPLAY 'Record: ' InputRecord
    END-READ.

    CLOSE InputFile.
    STOP RUN.</pre></div><div class='content'></div><h1>Tècniques Avançades de Gestió d'Errors</h1>
<div class='content'></div><h2>Ús de Noms de Condició</h2>
<div class='content'><p>Els noms de condició proporcionen una manera de donar noms significatius a valors específics o rangs de valors, fent que la gestió d'errors sigui més llegible i mantenible.</p>
<h4>Exemple</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("SURFTlRJRklDQVRJT04gRElWSVNJT04uClBST0dSQU0tSUQuIENvbmRpdGlvbk5hbWVzRXhhbXBsZS4KCkVOVklST05NRU5UIERJVklTSU9OLgpJTlBVVC1PVVRQVVQgU0VDVElPTi4KRklMRS1DT05UUk9MLgogICAgU0VMRUNUIElucHV0RmlsZSBBU1NJR04gVE8gJ2lucHV0LmRhdCcKICAgIE9SR0FOSVpBVElPTiBJUyBMSU5FIFNFUVVFTlRJQUwKICAgIEZJTEUgU1RBVFVTIElTIFdTLUZpbGVTdGF0dXMuCgpEQVRBIERJVklTSU9OLgpGSUxFIFNFQ1RJT04uCkZEICBJbnB1dEZpbGUuCjAxICBJbnB1dFJlY29yZCBQSUMgWCg4MCkuCgpXT1JLSU5HLVNUT1JBR0UgU0VDVElPTi4KMDEgIFdTLUZpbGVTdGF0dXMgUElDIFhYLgogICAgODggIEZpbGVPcGVuU3VjY2Vzc2Z1bCBWQUxVRSAnMDAnLgogICAgODggIEZpbGVOb3RGb3VuZCBWQUxVRSAnMzUnLgogICAgODggIEVuZE9mRmlsZSBWQUxVRSAnMTAnLgoKUFJPQ0VEVVJFIERJVklTSU9OLgogICAgT1BFTiBJTlBVVCBJbnB1dEZpbGUKICAgIElGIEZpbGVPcGVuU3VjY2Vzc2Z1bAogICAgICAgIERJU1BMQVkgJ0ZpbGUgb3BlbmVkIHN1Y2Nlc3NmdWxseS4nCiAgICBFTFNFCiAgICAgICAgSUYgRmlsZU5vdEZvdW5kCiAgICAgICAgICAgIERJU1BMQVkgJ0ZpbGUgbm90IGZvdW5kLicKICAgICAgICBFTFNFCiAgICAgICAgICAgIERJU1BMQVkgJ090aGVyIGZpbGUgZXJyb3I6ICcgV1MtRmlsZVN0YXR1cwogICAgICAgIEVORC1JRgogICAgICAgIFNUT1AgUlVOCiAgICBFTkQtSUYuCgogICAgUkVBRCBJbnB1dEZpbGUgSU5UTyBJbnB1dFJlY29yZAogICAgQVQgRU5ECiAgICAgICAgRElTUExBWSAnRW5kIG9mIGZpbGUgcmVhY2hlZC4nCiAgICBOT1QgQVQgRU5ECiAgICAgICAgRElTUExBWSAnUmVjb3JkOiAnIElucHV0UmVjb3JkCiAgICBFTkQtUkVBRC4KCiAgICBDTE9TRSBJbnB1dEZpbGUuCiAgICBTVE9QIFJVTi4="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>IDENTIFICATION DIVISION.
PROGRAM-ID. ConditionNamesExample.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT InputFile ASSIGN TO 'input.dat'
    ORGANIZATION IS LINE SEQUENTIAL
    FILE STATUS IS WS-FileStatus.

DATA DIVISION.
FILE SECTION.
FD  InputFile.
01  InputRecord PIC X(80).

WORKING-STORAGE SECTION.
01  WS-FileStatus PIC XX.
    88  FileOpenSuccessful VALUE '00'.
    88  FileNotFound VALUE '35'.
    88  EndOfFile VALUE '10'.

PROCEDURE DIVISION.
    OPEN INPUT InputFile
    IF FileOpenSuccessful
        DISPLAY 'File opened successfully.'
    ELSE
        IF FileNotFound
            DISPLAY 'File not found.'
        ELSE
            DISPLAY 'Other file error: ' WS-FileStatus
        END-IF
        STOP RUN
    END-IF.

    READ InputFile INTO InputRecord
    AT END
        DISPLAY 'End of file reached.'
    NOT AT END
        DISPLAY 'Record: ' InputRecord
    END-READ.

    CLOSE InputFile.
    STOP RUN.</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>La gestió d'errors en COBOL és essencial per crear programes robustos i fiables. Utilitzant tècniques com la clàusula <code>FILE STATUS</code>, la clàusula <code>INVALID KEY</code>, declaratives i noms de condició, pots gestionar i respondre efectivament als errors. A mesura que avancis, aquestes tècniques t'ajudaran a construir mecanismes de gestió d'errors més sofisticats, assegurant que els teus programes puguin gestionar situacions inesperades de manera elegant.</p>
</div><div class='row navigation'><div class='col-6'><a href='advanced-file-handling'>&#x25C4; Gestió Avançada d'Arxius</a></div><div class='col-6 text-end'><a href='debugging-cobol-programs'>Depuració de Programes COBOL &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
