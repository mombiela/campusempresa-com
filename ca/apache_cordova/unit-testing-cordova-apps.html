<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves Unitàries d'Aplicacions Cordova</title>

    <link rel="alternate" href="https://campusempresa.com/es/apache_cordova/unit-testing-cordova-apps" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/apache_cordova/unit-testing-cordova-apps" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/apache_cordova/unit-testing-cordova-apps" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/apache_cordova/unit-testing-cordova-apps" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Les proves unitàries són una part crucial del procés de desenvolupament, assegurant que les unitats individuals del teu codi funcionin com s'espera. En aquesta secció, explorarem com implementar proves unitàries en aplicacions Apache Cordova, des de la configuració de l'entorn fins a escriure i executar proves.</p>
</div><h1>Introducció a les Proves Unitàries</h1>
<div class='content'><ul>
<li><strong>Definició</strong>: Les proves unitàries impliquen provar components o funcions individuals d'una aplicació de manera aïllada.</li>
<li><strong>Propòsit</strong>: Verificar que cada unitat del programari funcioni tal com està dissenyada.</li>
<li><strong>Beneficis</strong>:
<ul>
<li>Detecció primerenca d'errors.</li>
<li>Simplifica la integració.</li>
<li>Facilita la refactorització del codi.</li>
<li>Millora la qualitat i la fiabilitat del codi.</li>
</ul>
</li>
</ul>
</div><h1>Configuració de l'Entorn de Proves</h1>
<div class='content'><p>Abans d'escriure proves unitàries, cal configurar l'entorn de proves. Això implica instal·lar eines i marcs necessaris.</p>
</div><h2>Prerequisits</h2>
<div class='content'><ul>
<li><strong>Node.js</strong>: Assegura't que Node.js estigui instal·lat al teu sistema.</li>
<li><strong>Cordova CLI</strong>: Assegura't de tenir el Cordova CLI instal·lat.</li>
</ul>
</div><h2>Instal·lació de Marcs de Proves</h2>
<div class='content'><p>Per a les proves unitàries d'aplicacions Cordova, els marcs populars inclouen Jasmine, Mocha i Karma. En aquesta guia, utilitzarem Jasmine i Karma.</p>
<ol>
<li>
<p><strong>Instal·la Jasmine</strong>:</p>
<pre><code class="language-sh">npm install --save-dev jasmine
</code></pre>
</li>
<li>
<p><strong>Instal·la Karma</strong>:</p>
<pre><code class="language-sh">npm install --save-dev karma karma-jasmine karma-chrome-launcher
</code></pre>
</li>
<li>
<p><strong>Inicialitza Jasmine</strong>:</p>
<pre><code class="language-sh">npx jasmine init
</code></pre>
</li>
<li>
<p><strong>Configura Karma</strong>:
Crea un fitxer <code>karma.conf.js</code>:</p>
<pre><code class="language-js">module.exports = function(config) {
  config.set({
    frameworks: ['jasmine'],
    files: [
      'www/js/**/*.js',
      'tests/**/*.spec.js'
    ],
    browsers: ['Chrome'],
    singleRun: true
  });
};
</code></pre>
</li>
</ol>
</div><h1>Escriure Proves Unitàries</h1>
<div class='content'></div><h2>Estructura Bàsica d'una Prova Jasmine</h2>
<div class='content'><p>Una suite de proves Jasmine està composta per un o més especificacions de prova. Cada especificació conté una o més expectatives que proven l'estat del codi.</p>
<h4>Exemple: Provar una Funció Simple</h4>
<p>Suposem que tenim una funció <code>add</code> a <code>www/js/math.js</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gYWRkKGEsIGIpIHsKICByZXR1cm4gYSArIGI7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function add(a, b) {
  return a + b;
}</pre></div><div class='content'><p>Podem escriure una prova per a aquesta funció a <code>tests/math.spec.js</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpYmUoJ0Z1bmNpb25zIG1hdGVtw6B0aXF1ZXMnLCBmdW5jdGlvbigpIHsKICBpdCgnaGF1cmlhIGRlIHN1bWFyIGRvcyBuw7ptZXJvcyBjb3JyZWN0YW1lbnQnLCBmdW5jdGlvbigpIHsKICAgIGV4cGVjdChhZGQoMSwgMikpLnRvQmUoMyk7CiAgfSk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>describe('Funcions matem&agrave;tiques', function() {
  it('hauria de sumar dos n&uacute;meros correctament', function() {
    expect(add(1, 2)).toBe(3);
  });
});</pre></div><div class='content'></div><h2>Provar Codi Asíncron</h2>
<div class='content'><p>Les aplicacions Cordova sovint impliquen operacions asíncrones. Jasmine proporciona maneres de gestionar el codi asíncron utilitzant callbacks <code>done</code> o <code>async/await</code>.</p>
<h4>Exemple: Provar Codi Asíncron</h4>
<p>Suposem que tenim una funció asíncrona <code>fetchData</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZmV0Y2hEYXRhKGNhbGxiYWNrKSB7CiAgc2V0VGltZW91dCgoKSA9PiB7CiAgICBjYWxsYmFjaygnZGF0YScpOwogIH0sIDEwMDApOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function fetchData(callback) {
  setTimeout(() =&gt; {
    callback('data');
  }, 1000);
}</pre></div><div class='content'><p>Podem escriure una prova per a aquesta funció:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpYmUoJ0Z1bmNpb25zIGFzw61uY3JvbmVzJywgZnVuY3Rpb24oKSB7CiAgaXQoJ2hhdXJpYSBkZSByZWN1cGVyYXIgZGFkZXMgY29ycmVjdGFtZW50JywgZnVuY3Rpb24oZG9uZSkgewogICAgZmV0Y2hEYXRhKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgZXhwZWN0KGRhdGEpLnRvQmUoJ2RhdGEnKTsKICAgICAgZG9uZSgpOwogICAgfSk7CiAgfSk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>describe('Funcions as&iacute;ncrones', function() {
  it('hauria de recuperar dades correctament', function(done) {
    fetchData(function(data) {
      expect(data).toBe('data');
      done();
    });
  });
});</pre></div><div class='content'></div><h1>Executar Proves Unitàries</h1>
<div class='content'><p>Per executar les proves, utilitza el CLI de Karma:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IGthcm1hIHN0YXJ0IGthcm1hLmNvbmYuanM="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx karma start karma.conf.js</pre></div><div class='content'><p>Aquesta comanda iniciarà el corredor de proves Karma, que executarà les proves en els navegadors especificats i informarà dels resultats.</p>
</div><h1>Conclusió</h1>
<div class='content'><p>Les proves unitàries són una pràctica essencial per desenvolupar aplicacions Cordova robustes. Configurant un entorn de proves adequat i escrivint proves completes, pots assegurar-te que els components de la teva aplicació funcionin com s'espera, conduint a un codi de més qualitat i més fàcil de mantenir. Recorda:</p>
<ul>
<li>Executar regularment les teves proves durant el desenvolupament.</li>
<li>Escriure proves tant per a codi síncron com asíncron.</li>
<li>Refactoritzar el teu codi amb confiança, sabent que les teves proves detectaran qualsevol regressió.</li>
</ul>
<p>Integrant les proves unitàries en el teu flux de treball de desenvolupament, pots millorar significativament la fiabilitat i la qualitat de les teves aplicacions Cordova.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
