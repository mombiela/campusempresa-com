<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/javascript/geolocation-api" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'></div><h1>Introducció a l'API de Geolocalització</h1>
<div class='content'><p>L'API de Geolocalització permet que les aplicacions web accedeixin a la ubicació geogràfica d'un dispositiu. Això pot ser útil per a diverses aplicacions, com ara mapes, serveis basats en la ubicació i més.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>API de Geolocalització</strong>: Una API web que proporciona la capacitat de recuperar la ubicació geogràfica del dispositiu de l'usuari.</li>
<li><strong>Navigator.geolocation</strong>: La interfície principal per accedir a l'API de Geolocalització.</li>
<li><strong>Position</strong>: Un objecte que representa la ubicació del dispositiu.</li>
<li><strong>PositionError</strong>: Un objecte que representa un error que s'ha produït mentre s'intentava obtenir la ubicació.</li>
</ul>
</div><h1>Accedint a l'API de Geolocalització</h1>
<div class='content'><p>Per utilitzar l'API de Geolocalització, cal comprovar si el navegador la suporta i després sol·licitar la posició actual.</p>
</div><h2>Comprovant el Suport</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aWYgKCJnZW9sb2NhdGlvbiIgaW4gbmF2aWdhdG9yKSB7CiAgY29uc29sZS5sb2coIkxhIGdlb2xvY2FsaXR6YWNpw7MgZXN0w6AgZGlzcG9uaWJsZSIpOwp9IGVsc2UgewogIGNvbnNvbGUubG9nKCJMYSBnZW9sb2NhbGl0emFjacOzIG5vIGVzdMOgIHN1cG9ydGFkYSBwZXIgYXF1ZXN0IG5hdmVnYWRvciIpOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>if (&quot;geolocation&quot; in navigator) {
  console.log(&quot;La geolocalitzaci&oacute; est&agrave; disponible&quot;);
} else {
  console.log(&quot;La geolocalitzaci&oacute; no est&agrave; suportada per aquest navegador&quot;);
}</pre></div><div class='content'></div><h2>Obtenint la Posició Actual</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spOwoKZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHBvc2l0aW9uKSB7CiAgY29uc29sZS5sb2coIkxhdGl0dWQ6ICIgKyBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUpOwogIGNvbnNvbGUubG9nKCJMb25naXR1ZDogIiArIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpOwp9CgpmdW5jdGlvbiBlcnJvckNhbGxiYWNrKGVycm9yKSB7CiAgY29uc29sZS5lcnJvcigiQ29kaSBkJ0Vycm9yOiAiICsgZXJyb3IuY29kZSArICIgLSAiICsgZXJyb3IubWVzc2FnZSk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>navigator.geolocation.getCurrentPosition(successCallback, errorCallback);

function successCallback(position) {
  console.log(&quot;Latitud: &quot; + position.coords.latitude);
  console.log(&quot;Longitud: &quot; + position.coords.longitude);
}

function errorCallback(error) {
  console.error(&quot;Codi d'Error: &quot; + error.code + &quot; - &quot; + error.message);
}</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><code>navigator.geolocation.getCurrentPosition(successCallback, errorCallback)</code>: Sol·licita la posició actual del dispositiu.</li>
<li><code>successCallback(position)</code>: Es crida quan la posició s'ha recuperat amb èxit.
<ul>
<li><code>position.coords.latitude</code>: La latitud del dispositiu.</li>
<li><code>position.coords.longitude</code>: La longitud del dispositiu.</li>
</ul>
</li>
<li><code>errorCallback(error)</code>: Es crida quan hi ha un error en recuperar la posició.
<ul>
<li><code>error.code</code>: El codi d'error.</li>
<li><code>error.message</code>: Un missatge d'error llegible per a humans.</li>
</ul>
</li>
</ul>
</div><h1>Gestionant Errors</h1>
<div class='content'><p>L'API de Geolocalització pot fallar per diverses raons, com ara que l'usuari denegui el permís o que el dispositiu no pugui determinar la seva ubicació.</p>
</div><h2>Codis d'Error Comuns</h2>
<div class='content'><p>| Codi d'Error | Descripció                           |
|--------------|--------------------------------------|
| 1            | Permís denegat                       |
| 2            | Posició no disponible                |
| 3            | Temps d'espera esgotat               |</p>
</div><h2>Exemple de Gestió d'Errors</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnJvcikgewogIHN3aXRjaChlcnJvci5jb2RlKSB7CiAgICBjYXNlIGVycm9yLlBFUk1JU1NJT05fREVOSUVEOgogICAgICBjb25zb2xlLmVycm9yKCJMJ3VzdWFyaSBoYSBkZW5lZ2F0IGxhIHNvbMK3bGljaXR1ZCBkZSBnZW9sb2NhbGl0emFjacOzLiIpOwogICAgICBicmVhazsKICAgIGNhc2UgZXJyb3IuUE9TSVRJT05fVU5BVkFJTEFCTEU6CiAgICAgIGNvbnNvbGUuZXJyb3IoIkxhIGluZm9ybWFjacOzIGRlIGxhIHViaWNhY2nDsyBubyBlc3TDoCBkaXNwb25pYmxlLiIpOwogICAgICBicmVhazsKICAgIGNhc2UgZXJyb3IuVElNRU9VVDoKICAgICAgY29uc29sZS5lcnJvcigiTGEgc29swrdsaWNpdHVkIHBlciBvYnRlbmlyIGxhIHViaWNhY2nDsyBkZSBsJ3VzdWFyaSBoYSBlc2dvdGF0IGVsIHRlbXBzIGQnZXNwZXJhLiIpOwogICAgICBicmVhazsKICAgIGRlZmF1bHQ6CiAgICAgIGNvbnNvbGUuZXJyb3IoIlMnaGEgcHJvZHXDr3QgdW4gZXJyb3IgZGVzY29uZWd1dC4iKTsKICAgICAgYnJlYWs7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function errorCallback(error) {
  switch(error.code) {
    case error.PERMISSION_DENIED:
      console.error(&quot;L'usuari ha denegat la sol&middot;licitud de geolocalitzaci&oacute;.&quot;);
      break;
    case error.POSITION_UNAVAILABLE:
      console.error(&quot;La informaci&oacute; de la ubicaci&oacute; no est&agrave; disponible.&quot;);
      break;
    case error.TIMEOUT:
      console.error(&quot;La sol&middot;licitud per obtenir la ubicaci&oacute; de l'usuari ha esgotat el temps d'espera.&quot;);
      break;
    default:
      console.error(&quot;S'ha produ&iuml;t un error desconegut.&quot;);
      break;
  }
}</pre></div><div class='content'></div><h1>Vigilant la Posició</h1>
<div class='content'><p>A més d'obtenir la posició actual, també podeu vigilar la posició, cosa que us permetrà fer un seguiment de la ubicació del dispositiu al llarg del temps.</p>
</div><h2>Exemple de Vigilància de la Posició</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyIHdhdGNoSWQgPSBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spOwoKZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHBvc2l0aW9uKSB7CiAgY29uc29sZS5sb2coIkxhdGl0dWQ6ICIgKyBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUpOwogIGNvbnNvbGUubG9nKCJMb25naXR1ZDogIiArIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpOwp9CgovLyBQZXIgZGVpeGFyIGRlIHZpZ2lsYXIgbGEgcG9zaWNpw7MKbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2god2F0Y2hJZCk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var watchId = navigator.geolocation.watchPosition(successCallback, errorCallback);

function successCallback(position) {
  console.log(&quot;Latitud: &quot; + position.coords.latitude);
  console.log(&quot;Longitud: &quot; + position.coords.longitude);
}

// Per deixar de vigilar la posici&oacute;
navigator.geolocation.clearWatch(watchId);</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><code>navigator.geolocation.watchPosition(successCallback, errorCallback)</code>: Crida contínuament el <code>successCallback</code> amb dades de posició actualitzades.</li>
<li><code>navigator.geolocation.clearWatch(watchId)</code>: Deixa de vigilar les actualitzacions de posició.</li>
</ul>
</div><h1>Ús Avançat</h1>
<h2>Opcions per a getCurrentPosition i watchPosition</h2>
<div class='content'><p>Podeu passar un objecte d'opcions a <code>getCurrentPosition</code> i <code>watchPosition</code> per personalitzar el comportament.</p>
</div><h2>Objecte d'Opcions</h2>
<div class='content'><p>| Opció              | Descripció                                      |
|--------------------|-------------------------------------------------|
| enableHighAccuracy | Booleà que indica si es desitja alta precisió.  |
| timeout            | Temps màxim (en mil·lisegons) per esperar una posició. |
| maximumAge         | Edat màxima (en mil·lisegons) d'una posició emmagatzemada en memòria cau. |</p>
</div><h2>Exemple amb Opcions</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dmFyIG9wdGlvbnMgPSB7CiAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLAogIHRpbWVvdXQ6IDUwMDAsCiAgbWF4aW11bUFnZTogMAp9OwoKbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG9wdGlvbnMpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>var options = {
  enableHighAccuracy: true,
  timeout: 5000,
  maximumAge: 0
};

navigator.geolocation.getCurrentPosition(successCallback, errorCallback, options);</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><code>enableHighAccuracy</code>: Si és cert, el dispositiu intenta proporcionar una posició més precisa.</li>
<li><code>timeout</code>: El temps màxim per esperar una posició.</li>
<li><code>maximumAge</code>: L'edat màxima d'una posició emmagatzemada en memòria cau que és acceptable.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>L'API de Geolocalització és una eina potent per accedir a la ubicació geogràfica d'un dispositiu. Comprenent com comprovar el suport, gestionar errors i utilitzar opcions avançades, podeu crear aplicacions robustes basades en la ubicació. Tant si necessiteu obtenir la posició actual com si voleu fer un seguiment de la ubicació del dispositiu al llarg del temps, l'API de Geolocalització proporciona la funcionalitat necessària per assolir els vostres objectius.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
