<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/c/malloc-calloc-realloc-free" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>La gestió dinàmica de memòria és un aspecte crucial de la programació en C. Permet assignar memòria en temps d'execució, cosa que és essencial per crear programes flexibles i eficients. En aquesta secció, cobrirem les següents funcions: <code>malloc</code>, <code>calloc</code>, <code>realloc</code>, i <code>free</code>.</p>
</div><h1>malloc</h1>
<div class='content'><p><code>malloc</code> significa &quot;assignació de memòria.&quot; Assigna un nombre especificat de bytes i retorna un punter al primer byte de la memòria assignada. La memòria no està inicialitzada, és a dir, conté valors escombraries.</p>
</div><h2>Sintaxi</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCogbWFsbG9jKHNpemVfdCBzaXplKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void* malloc(size_t size);</pre></div><div class='content'></div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCmludCBtYWluKCkgewogICAgaW50ICpwdHI7CiAgICBpbnQgbiA9IDU7CgogICAgLy8gQXNzaWduYW50IG1lbcOycmlhIHBlciBhIDUgZW50ZXJzCiAgICBwdHIgPSAoaW50KikgbWFsbG9jKG4gKiBzaXplb2YoaW50KSk7CgogICAgc2kgKHB0ciA9PSBOVUxMKSB7CiAgICAgICAgcHJpbnRmKCJBc3NpZ25hY2nDsyBkZSBtZW3DsnJpYSBmYWxsaWRhXG4iKTsKICAgICAgICByZXR1cm4gMTsKICAgIH0KCiAgICAvLyBJbmljaWFsaXR6YW50IGkgbW9zdHJhbnQgbGEgbWVtw7JyaWEgYXNzaWduYWRhCiAgICBwZXIgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgIHB0cltpXSA9IGkgKyAxOwogICAgICAgIHByaW50ZigiJWQgIiwgcHRyW2ldKTsKICAgIH0KCiAgICAvLyBBbGxpYmVyYW50IGxhIG1lbcOycmlhIGFzc2lnbmFkYQogICAgZnJlZShwdHIpOwoKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() {
    int *ptr;
    int n = 5;

    // Assignant mem&ograve;ria per a 5 enters
    ptr = (int*) malloc(n * sizeof(int));

    si (ptr == NULL) {
        printf(&quot;Assignaci&oacute; de mem&ograve;ria fallida\n&quot;);
        return 1;
    }

    // Inicialitzant i mostrant la mem&ograve;ria assignada
    per (int i = 0; i &lt; n; i++) {
        ptr[i] = i + 1;
        printf(&quot;%d &quot;, ptr[i]);
    }

    // Alliberant la mem&ograve;ria assignada
    free(ptr);

    return 0;
}</pre></div><div class='content'></div><h1>calloc</h1>
<div class='content'><p><code>calloc</code> significa &quot;assignació contigua.&quot; Assigna memòria per a una matriu d'elements, inicialitza la memòria a zero, i després retorna un punter a la memòria.</p>
</div><h2>Sintaxi</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCogY2FsbG9jKHNpemVfdCBudW0sIHNpemVfdCBzaXplKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void* calloc(size_t num, size_t size);</pre></div><div class='content'></div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCmludCBtYWluKCkgewogICAgaW50ICpwdHI7CiAgICBpbnQgbiA9IDU7CgogICAgLy8gQXNzaWduYW50IG1lbcOycmlhIHBlciBhIDUgZW50ZXJzIGkgaW5pY2lhbGl0emFudCBhIHplcm8KICAgIHB0ciA9IChpbnQqKSBjYWxsb2Mobiwgc2l6ZW9mKGludCkpOwoKICAgIHNpIChwdHIgPT0gTlVMTCkgewogICAgICAgIHByaW50ZigiQXNzaWduYWNpw7MgZGUgbWVtw7JyaWEgZmFsbGlkYVxuIik7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9CgogICAgLy8gTW9zdHJhbnQgbGEgbWVtw7JyaWEgYXNzaWduYWRhCiAgICBwZXIgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgIHByaW50ZigiJWQgIiwgcHRyW2ldKTsKICAgIH0KCiAgICAvLyBBbGxpYmVyYW50IGxhIG1lbcOycmlhIGFzc2lnbmFkYQogICAgZnJlZShwdHIpOwoKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() {
    int *ptr;
    int n = 5;

    // Assignant mem&ograve;ria per a 5 enters i inicialitzant a zero
    ptr = (int*) calloc(n, sizeof(int));

    si (ptr == NULL) {
        printf(&quot;Assignaci&oacute; de mem&ograve;ria fallida\n&quot;);
        return 1;
    }

    // Mostrant la mem&ograve;ria assignada
    per (int i = 0; i &lt; n; i++) {
        printf(&quot;%d &quot;, ptr[i]);
    }

    // Alliberant la mem&ograve;ria assignada
    free(ptr);

    return 0;
}</pre></div><div class='content'></div><h1>realloc</h1>
<div class='content'><p><code>realloc</code> significa &quot;reassignació.&quot; Canvia la mida de la memòria prèviament assignada. Si la nova mida és més gran, la nova memòria no està inicialitzada. Si la nova mida és més petita, la memòria excedent és alliberada.</p>
</div><h2>Sintaxi</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCogcmVhbGxvYyh2b2lkKiBwdHIsIHNpemVfdCBzaXplKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void* realloc(void* ptr, size_t size);</pre></div><div class='content'></div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCmludCBtYWluKCkgewogICAgaW50ICpwdHI7CiAgICBpbnQgbiA9IDU7CgogICAgLy8gQXNzaWduYW50IG1lbcOycmlhIHBlciBhIDUgZW50ZXJzCiAgICBwdHIgPSAoaW50KikgbWFsbG9jKG4gKiBzaXplb2YoaW50KSk7CgogICAgc2kgKHB0ciA9PSBOVUxMKSB7CiAgICAgICAgcHJpbnRmKCJBc3NpZ25hY2nDsyBkZSBtZW3DsnJpYSBmYWxsaWRhXG4iKTsKICAgICAgICByZXR1cm4gMTsKICAgIH0KCiAgICAvLyBJbmljaWFsaXR6YW50IGxhIG1lbcOycmlhIGFzc2lnbmFkYQogICAgcGVyIChpbnQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICBwdHJbaV0gPSBpICsgMTsKICAgIH0KCiAgICAvLyBSZWFzc2lnbmFudCBtZW3DsnJpYSBwZXIgYSAxMCBlbnRlcnMKICAgIHB0ciA9IChpbnQqKSByZWFsbG9jKHB0ciwgMTAgKiBzaXplb2YoaW50KSk7CgogICAgc2kgKHB0ciA9PSBOVUxMKSB7CiAgICAgICAgcHJpbnRmKCJSZWFzc2lnbmFjacOzIGRlIG1lbcOycmlhIGZhbGxpZGFcbiIpOwogICAgICAgIHJldHVybiAxOwogICAgfQoKICAgIC8vIEluaWNpYWxpdHphbnQgbGEgbm92YSBtZW3DsnJpYQogICAgcGVyIChpbnQgaSA9IG47IGkgPCAxMDsgaSsrKSB7CiAgICAgICAgcHRyW2ldID0gaSArIDE7CiAgICB9CgogICAgLy8gTW9zdHJhbnQgbGEgbWVtw7JyaWEgcmVhc3NpZ25hZGEKICAgIHBlciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgICAgIHByaW50ZigiJWQgIiwgcHRyW2ldKTsKICAgIH0KCiAgICAvLyBBbGxpYmVyYW50IGxhIG1lbcOycmlhIGFzc2lnbmFkYQogICAgZnJlZShwdHIpOwoKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() {
    int *ptr;
    int n = 5;

    // Assignant mem&ograve;ria per a 5 enters
    ptr = (int*) malloc(n * sizeof(int));

    si (ptr == NULL) {
        printf(&quot;Assignaci&oacute; de mem&ograve;ria fallida\n&quot;);
        return 1;
    }

    // Inicialitzant la mem&ograve;ria assignada
    per (int i = 0; i &lt; n; i++) {
        ptr[i] = i + 1;
    }

    // Reassignant mem&ograve;ria per a 10 enters
    ptr = (int*) realloc(ptr, 10 * sizeof(int));

    si (ptr == NULL) {
        printf(&quot;Reassignaci&oacute; de mem&ograve;ria fallida\n&quot;);
        return 1;
    }

    // Inicialitzant la nova mem&ograve;ria
    per (int i = n; i &lt; 10; i++) {
        ptr[i] = i + 1;
    }

    // Mostrant la mem&ograve;ria reassignada
    per (int i = 0; i &lt; 10; i++) {
        printf(&quot;%d &quot;, ptr[i]);
    }

    // Alliberant la mem&ograve;ria assignada
    free(ptr);

    return 0;
}</pre></div><div class='content'></div><h1>free</h1>
<div class='content'><p><code>free</code> desassigna la memòria prèviament assignada per <code>malloc</code>, <code>calloc</code>, o <code>realloc</code>. No canvia el valor del punter en si, però la memòria a la qual apunta és alliberada.</p>
</div><h2>Sintaxi</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dm9pZCBmcmVlKHZvaWQqIHB0cik7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>void free(void* ptr);</pre></div><div class='content'></div><h2>Exemple</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNsdWRlIDxzdGRsaWIuaD4KCmludCBtYWluKCkgewogICAgaW50ICpwdHI7CiAgICBpbnQgbiA9IDU7CgogICAgLy8gQXNzaWduYW50IG1lbcOycmlhIHBlciBhIDUgZW50ZXJzCiAgICBwdHIgPSAoaW50KikgbWFsbG9jKG4gKiBzaXplb2YoaW50KSk7CgogICAgc2kgKHB0ciA9PSBOVUxMKSB7CiAgICAgICAgcHJpbnRmKCJBc3NpZ25hY2nDsyBkZSBtZW3DsnJpYSBmYWxsaWRhXG4iKTsKICAgICAgICByZXR1cm4gMTsKICAgIH0KCiAgICAvLyBJbmljaWFsaXR6YW50IGkgbW9zdHJhbnQgbGEgbWVtw7JyaWEgYXNzaWduYWRhCiAgICBwZXIgKGludCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgIHB0cltpXSA9IGkgKyAxOwogICAgICAgIHByaW50ZigiJWQgIiwgcHRyW2ldKTsKICAgIH0KCiAgICAvLyBBbGxpYmVyYW50IGxhIG1lbcOycmlhIGFzc2lnbmFkYQogICAgZnJlZShwdHIpOwoKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main() {
    int *ptr;
    int n = 5;

    // Assignant mem&ograve;ria per a 5 enters
    ptr = (int*) malloc(n * sizeof(int));

    si (ptr == NULL) {
        printf(&quot;Assignaci&oacute; de mem&ograve;ria fallida\n&quot;);
        return 1;
    }

    // Inicialitzant i mostrant la mem&ograve;ria assignada
    per (int i = 0; i &lt; n; i++) {
        ptr[i] = i + 1;
        printf(&quot;%d &quot;, ptr[i]);
    }

    // Alliberant la mem&ograve;ria assignada
    free(ptr);

    return 0;
}</pre></div><div class='content'></div><h1>Resum</h1>
<div class='content'><ul>
<li><strong><code>malloc</code></strong>: Assigna memòria no inicialitzada.</li>
<li><strong><code>calloc</code></strong>: Assigna memòria inicialitzada a zero.</li>
<li><strong><code>realloc</code></strong>: Canvia la mida de la memòria prèviament assignada.</li>
<li><strong><code>free</code></strong>: Desassigna la memòria prèviament assignada.</li>
</ul>
<p>Entendre aquestes funcions és essencial per a una gestió efectiva de la memòria en C. L'ús adequat de l'assignació dinàmica de memòria pot conduir a programes més flexibles i eficients, però també requereix una manipulació acurada per evitar fuites de memòria i altres problemes.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
