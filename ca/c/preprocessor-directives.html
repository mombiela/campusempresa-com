<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Directives del preprocessador en C</title>

    <link rel="alternate" href="https://campusempresa.com/es/c/preprocessor-directives" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/c/preprocessor-directives" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/c/preprocessor-directives" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/c/preprocessor-directives" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Les directives del preprocessador són ordres que donen instruccions al compilador per preprocessar el codi font abans que comenci la compilació real. Són una part crucial del llenguatge de programació C, permetent la compilació condicional, definicions de macros, inclusió de fitxers i més.</p>
</div><h1>Conceptes clau</h1>
<div class='content'><ul>
<li><strong>Directives del preprocessador</strong>: Instruccions que s'executen abans de la compilació real del codi.</li>
<li><strong>Sintaxi</strong>: Les directives del preprocessador comencen amb un símbol <code>#</code> i no acaben amb un punt i coma.</li>
<li><strong>Directives comunes</strong>: <code>#include</code>, <code>#define</code>, <code>#undef</code>, <code>#ifdef</code>, <code>#ifndef</code>, <code>#if</code>, <code>#else</code>, <code>#elif</code>, <code>#endif</code>, <code>#error</code>, <code>#pragma</code>.</li>
</ul>
</div><h1>Directives comunes del preprocessador</h1>
<div class='content'></div><h2>`#include`</h2>
<div class='content'><p>La directiva <code>#include</code> s'utilitza per incloure el contingut d'un fitxer o biblioteca en el programa.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+ICAvLyBJbmNsb3UgbGEgYmlibGlvdGVjYSBlc3TDoG5kYXJkIGQnZW50cmFkYSBpIHNvcnRpZGEKI2luY2x1ZGUgIm15aGVhZGVyLmgiICAvLyBJbmNsb3UgdW4gZml0eGVyIGRlIGNhcMOnYWxlcmEgZGVmaW5pdCBwZXIgbCd1c3Vhcmk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;  // Inclou la biblioteca est&agrave;ndard d'entrada i sortida
#include &quot;myheader.h&quot;  // Inclou un fitxer de cap&ccedil;alera definit per l'usuari</pre></div><div class='content'><ul>
<li><strong>Claudàtors angulats <code>&lt; &gt;</code></strong>: S'utilitzen per als fitxers de la biblioteca estàndard.</li>
<li><strong>Cometes dobles <code>&quot; &quot;</code></strong>: S'utilitzen per als fitxers definits per l'usuari.</li>
</ul>
</div><h2>`#define`</h2>
<div class='content'><p>La directiva <code>#define</code> s'utilitza per crear definicions de macros. Pot definir constants o macros que poden prendre arguments.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2RlZmluZSBQSSAzLjE0MTU5ICAvLyBEZWZpbmVpeCB1bmEgY29uc3RhbnQKI2RlZmluZSBTUVVBUkUoeCkgKCh4KSAqICh4KSkgIC8vIERlZmluZWl4IHVuYSBtYWNybyBxdWUgY2FsY3VsYSBlbCBxdWFkcmF0IGQndW4gbsO6bWVybw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#define PI 3.14159  // Defineix una constant
#define SQUARE(x) ((x) * (x))  // Defineix una macro que calcula el quadrat d'un n&uacute;mero</pre></div><div class='content'></div><h2>`#undef`</h2>
<div class='content'><p>La directiva <code>#undef</code> s'utilitza per desdefinir una macro.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3VuZGVmIFBJICAvLyBEZXNkZWZpbmVpeCBsYSBtYWNybyBQSQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#undef PI  // Desdefineix la macro PI</pre></div><div class='content'></div><h2>Compilació condicional</h2>
<div class='content'><p>La compilació condicional permet que parts del codi es compilin o s'ignorïn en funció de certes condicions.</p>
<h4><code>#ifdef</code> i <code>#ifndef</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2lmZGVmIERFQlVHCiAgICBwcmludGYoIkVsIG1vZGUgZGUgZGVwdXJhY2nDsyBlc3TDoCBhY3RpdmF0LlxuIik7CiNlbmRpZgoKI2lmbmRlZiBSRUxFQVNFCiAgICBwcmludGYoIkVsIG1vZGUgZGUgbGxhbsOnYW1lbnQgZXN0w6AgZGVzYWN0aXZhdC5cbiIpOwojZW5kaWY="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#ifdef DEBUG
    printf(&quot;El mode de depuraci&oacute; est&agrave; activat.\n&quot;);
#endif

#ifndef RELEASE
    printf(&quot;El mode de llan&ccedil;ament est&agrave; desactivat.\n&quot;);
#endif</pre></div><div class='content'><ul>
<li><strong><code>#ifdef</code></strong>: Compila el codi si la macro està definida.</li>
<li><strong><code>#ifndef</code></strong>: Compila el codi si la macro no està definida.</li>
</ul>
<h4><code>#if</code>, <code>#else</code>, <code>#elif</code> i <code>#endif</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2RlZmluZSBWRVJTSU9OIDIKCiNpZiBWRVJTSU9OID09IDEKICAgIHByaW50ZigiVmVyc2nDsyAxXG4iKTsKI2VsaWYgVkVSU0lPTiA9PSAyCiAgICBwcmludGYoIlZlcnNpw7MgMlxuIik7CiNlbHNlCiAgICBwcmludGYoIlZlcnNpw7MgZGVzY29uZWd1ZGFcbiIpOwojZW5kaWY="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#define VERSION 2

#if VERSION == 1
    printf(&quot;Versi&oacute; 1\n&quot;);
#elif VERSION == 2
    printf(&quot;Versi&oacute; 2\n&quot;);
#else
    printf(&quot;Versi&oacute; desconeguda\n&quot;);
#endif</pre></div><div class='content'><ul>
<li><strong><code>#if</code></strong>: Comença un bloc condicional.</li>
<li><strong><code>#else</code></strong>: Proporciona una alternativa si la condició de <code>#if</code> és falsa.</li>
<li><strong><code>#elif</code></strong>: Else if, proporciona una altra condició per comprovar.</li>
<li><strong><code>#endif</code></strong>: Acaba el bloc condicional.</li>
</ul>
</div><h2>`#error`</h2>
<div class='content'><p>La directiva <code>#error</code> genera un error de compilació amb un missatge especificat.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2lmIFZFUlNJT04gPiAzCiAgICAjZXJyb3IgIkVsIG7Dum1lcm8gZGUgdmVyc2nDsyDDqXMgbWFzc2EgYWx0ISIKI2VuZGlm"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#if VERSION &gt; 3
    #error &quot;El n&uacute;mero de versi&oacute; &eacute;s massa alt!&quot;
#endif</pre></div><div class='content'></div><h2>`#pragma`</h2>
<div class='content'><p>La directiva <code>#pragma</code> s'utilitza per proporcionar informació addicional al compilador. El seu comportament és específic del compilador.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I3ByYWdtYSBtZXNzYWdlKCJDb21waWxhbnQgZWwgY29kaS4uLiIp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#pragma message(&quot;Compilant el codi...&quot;)</pre></div><div class='content'></div><h1>Exemples i exercicis</h1>
<div class='content'></div><h2>Exemple 1: Ús de `#include` i `#define`</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNkZWZpbmUgR1JFRVRJTkcgIkhvbGEsIE3Ds24hIgoKaW50IG1haW4oKSB7CiAgICBwcmludGYoIiVzXG4iLCBHUkVFVElORyk7CiAgICByZXR1cm4gMDsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#define GREETING &quot;Hola, M&oacute;n!&quot;

int main() {
    printf(&quot;%s\n&quot;, GREETING);
    return 0;
}</pre></div><div class='content'></div><h2>Exemple 2: Compilació condicional</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("I2luY2x1ZGUgPHN0ZGlvLmg+CiNkZWZpbmUgREVCVUcKCmludCBtYWluKCkgewojaWZkZWYgREVCVUcKICAgIHByaW50ZigiTGEgZGVwdXJhY2nDsyBlc3TDoCBhY3RpdmFkYS5cbiIpOwojZW5kaWYKICAgIHByaW50ZigiRWwgcHJvZ3JhbWEgcydlc3TDoCBleGVjdXRhbnQuXG4iKTsKICAgIHJldHVybiAwOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>#include &lt;stdio.h&gt;
#define DEBUG

int main() {
#ifdef DEBUG
    printf(&quot;La depuraci&oacute; est&agrave; activada.\n&quot;);
#endif
    printf(&quot;El programa s'est&agrave; executant.\n&quot;);
    return 0;
}</pre></div><div class='content'></div><h2>Exercici 1</h2>
<div class='content'><p>Escriu un programa que utilitzi <code>#define</code> per crear una macro per calcular l'àrea d'un cercle. Utilitza la macro en la funció <code>main</code> per calcular i imprimir l'àrea d'un cercle amb un radi de 5.</p>
</div><h2>Exercici 2</h2>
<div class='content'><p>Modifica el programa anterior per incloure la compilació condicional. Defineix una macro <code>DEBUG</code> i utilitza <code>#ifdef</code> per imprimir informació addicional de depuració si <code>DEBUG</code> està definida.</p>
</div><h1>Resum</h1>
<div class='content'><p>Les directives del preprocessador en C són eines poderoses que et permeten controlar el procés de compilació. Et permeten incloure fitxers, definir constants i macros, i compilar codi de manera condicional. Entendre i utilitzar aquestes directives de manera efectiva pot millorar molt la flexibilitat i mantenibilitat dels teus programes en C.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
