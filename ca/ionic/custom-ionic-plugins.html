<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plugins personalitzats d'Ionic</title>

    <link rel="alternate" href="https://campusempresa.com/es/ionic/custom-ionic-plugins" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/ionic/custom-ionic-plugins" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/ionic/custom-ionic-plugins" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/ionic/custom-ionic-plugins" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='advanced-animations-and-transitions'>&#x25C4; Animacions i Transicions Avançades</a></div><div class='col-6 text-end'></div></div><div class='content'><p>Crear plugins personalitzats a Ionic permet als desenvolupadors ampliar la funcionalitat de les seves aplicacions integrant característiques natives del dispositiu o biblioteques de tercers que no estan disponibles en l'ecosistema estàndard de plugins d'Ionic/Cordova. Aquest tema et guiarà a través del procés de creació, integració i ús de plugins personalitzats d'Ionic.</p>
</div><h1>Introducció als plugins personalitzats d'Ionic</h1>
<div class='content'><ul>
<li>
<p><strong>Què són els plugins d'Ionic?</strong></p>
<ul>
<li>Els plugins són complements que proporcionen accés a característiques natives del dispositiu com la càmera, el GPS i el sistema de fitxers.</li>
<li>Els plugins d'Ionic es construeixen típicament sobre plugins de Cordova.</li>
</ul>
</li>
<li>
<p><strong>Per què crear plugins personalitzats?</strong></p>
<ul>
<li>Per accedir a funcionalitats natives específiques no cobertes pels plugins existents.</li>
<li>Per integrar biblioteques natives de tercers.</li>
<li>Per optimitzar el rendiment per a casos d'ús específics.</li>
</ul>
</li>
</ul>
</div><h1>Configuració de l'entorn</h1>
<div class='content'><p>Abans de crear un plugin personalitzat, assegura't de tenir les següents eines instal·lades:</p>
<ul>
<li>Node.js i npm</li>
<li>Ionic CLI</li>
<li>Cordova CLI</li>
</ul>
</div><h2>Passos per instal·lar les eines necessàries</h2>
<div class='content'><ol>
<li>
<p><strong>Instal·la Node.js i npm:</strong></p>
<pre><code class="language-bash">sudo apt-get install nodejs
sudo apt-get install npm
</code></pre>
</li>
<li>
<p><strong>Instal·la Ionic CLI:</strong></p>
<pre><code class="language-bash">npm install -g @ionic/cli
</code></pre>
</li>
<li>
<p><strong>Instal·la Cordova CLI:</strong></p>
<pre><code class="language-bash">npm install -g cordova
</code></pre>
</li>
</ol>
</div><h1>Creació d'un plugin personalitzat</h1>
<div class='content'></div><h2>Guia pas a pas</h2>
<div class='content'><ol>
<li>
<p><strong>Crea un nou directori per al plugin:</strong></p>
<pre><code class="language-bash">mkdir my-custom-plugin
cd my-custom-plugin
</code></pre>
</li>
<li>
<p><strong>Inicialitza el plugin:</strong></p>
<pre><code class="language-bash">cordova create plugin com.example.myplugin MyPlugin
cd plugin
cordova platform add android
cordova platform add ios
</code></pre>
</li>
<li>
<p><strong>Defineix les metadades del plugin:</strong></p>
<ul>
<li>Edita <code>plugin.xml</code> per definir les metadades del plugin, incloent-hi el seu ID, versió i plataformes suportades.</li>
</ul>
<pre><code class="language-xml">&lt;plugin id=&quot;com.example.myplugin&quot; version=&quot;1.0.0&quot; xmlns=&quot;http://apache.org/cordova/ns/plugins/1.0&quot;&gt;
    &lt;name&gt;MyPlugin&lt;/name&gt;
    &lt;description&gt;Un plugin personalitzat per a Ionic&lt;/description&gt;
    &lt;license&gt;MIT&lt;/license&gt;
    &lt;keywords&gt;cordova, ionic, plugin&lt;/keywords&gt;
    &lt;platform name=&quot;android&quot;&gt;
        &lt;config-file target=&quot;config.xml&quot; parent=&quot;/*&quot;&gt;
            &lt;feature name=&quot;MyPlugin&quot;&gt;
                &lt;param name=&quot;android-package&quot; value=&quot;com.example.myplugin.MyPlugin&quot;/&gt;
            &lt;/feature&gt;
        &lt;/config-file&gt;
        &lt;source-file src=&quot;src/android/MyPlugin.java&quot; target-dir=&quot;src/com/example/myplugin&quot;/&gt;
    &lt;/platform&gt;
    &lt;platform name=&quot;ios&quot;&gt;
        &lt;config-file target=&quot;config.xml&quot; parent=&quot;/*&quot;&gt;
            &lt;feature name=&quot;MyPlugin&quot;&gt;
                &lt;param name=&quot;ios-package&quot; value=&quot;MyPlugin&quot;/&gt;
            &lt;/feature&gt;
        &lt;/config-file&gt;
        &lt;source-file src=&quot;src/ios/MyPlugin.m&quot; target-dir=&quot;src&quot;/&gt;
    &lt;/platform&gt;
&lt;/plugin&gt;
</code></pre>
</li>
<li>
<p><strong>Implementa el codi natiu:</strong></p>
<ul>
<li>Crea el codi natiu per a les plataformes Android i iOS.</li>
</ul>
<p><strong>Android (Java):</strong></p>
<pre><code class="language-java">package com.example.myplugin;

import org.apache.cordova.CordovaPlugin;
import org.apache.cordova.CallbackContext;
import org.json.JSONArray;
import org.json.JSONException;

public class MyPlugin extends CordovaPlugin {
    @Override
    public boolean execute(String action, JSONArray args, CallbackContext callbackContext) throws JSONException {
        if (action.equals(&quot;coolMethod&quot;)) {
            String message = args.getString(0);
            this.coolMethod(message, callbackContext);
            return true;
        }
        return false;
    }

    private void coolMethod(String message, CallbackContext callbackContext) {
        if (message != null &amp;&amp; message.length() &gt; 0) {
            callbackContext.success(message);
        } else {
            callbackContext.error(&quot;Expected one non-empty string argument.&quot;);
        }
    }
}
</code></pre>
<p><strong>iOS (Objective-C):</strong></p>
<pre><code class="language-objective-c">#import &lt;Cordova/CDV.h&gt;

@interface MyPlugin : CDVPlugin
- (void)coolMethod:(CDVInvokedUrlCommand*)command;
@end

@implementation MyPlugin

- (void)coolMethod:(CDVInvokedUrlCommand*)command {
    CDVPluginResult* pluginResult = nil;
    NSString* echo = [command.arguments objectAtIndex:0];

    if (echo != nil &amp;&amp; [echo length] &gt; 0) {
        pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_OK messageAsString:echo];
    } else {
        pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_ERROR messageAsString:@&quot;Expected one non-empty string argument.&quot;];
    }

    [self.commandDelegate sendPluginResult:pluginResult callbackId:command.callbackId];
}

@end
</code></pre>
</li>
</ol>
</div><h1>Integració del plugin personalitzat en un projecte d'Ionic</h1>
<div class='content'><ol>
<li>
<p><strong>Afegeix el plugin al teu projecte d'Ionic:</strong></p>
<pre><code class="language-bash">ionic cordova plugin add /path/to/my-custom-plugin
</code></pre>
</li>
<li>
<p><strong>Utilitza el plugin en la teva aplicació d'Ionic:</strong></p>
<ul>
<li>Crea un servei o utilitza directament el plugin en els teus components.</li>
</ul>
<p><strong>Exemple de servei:</strong></p>
<pre><code class="language-typescript">import { Injectable } from '@angular/core';
import { Platform } from '@ionic/angular';
declare var cordova: any;

@Injectable({
  providedIn: 'root'
})
export class MyPluginService {
  constructor(private platform: Platform) {}

  coolMethod(message: string): Promise&lt;any&gt; {
    return new Promise((resolve, reject) =&gt; {
      this.platform.ready().then(() =&gt; {
        cordova.plugins.MyPlugin.coolMethod(message, resolve, reject);
      });
    });
  }
}
</code></pre>
<p><strong>Utilitzant el servei en un component:</strong></p>
<pre><code class="language-typescript">import { Component } from '@angular/core';
import { MyPluginService } from '../services/my-plugin.service';

@Component({
  selector: 'app-home',
  templateUrl: 'home.page.html',
  styleUrls: ['home.page.scss'],
})
export class HomePage {
  constructor(private myPluginService: MyPluginService) {}

  callPlugin() {
    this.myPluginService.coolMethod('Hello, World!')
      .then(response =&gt; {
        console.log('Success:', response);
      })
      .catch(error =&gt; {
        console.error('Error:', error);
      });
  }
}
</code></pre>
</li>
</ol>
</div><h1>Conclusió</h1>
<div class='content'><p>Crear plugins personalitzats d'Ionic et permet ampliar les capacitats de les teves aplicacions d'Ionic integrant funcionalitats natives úniques. Seguint els passos descrits en aquest tema, pots configurar el teu entorn, crear un plugin personalitzat i integrar-lo en el teu projecte d'Ionic. Aquest procés no només millora la funcionalitat de la teva aplicació, sinó que també proporciona una comprensió més profunda de com Ionic i Cordova treballen junts per connectar les tecnologies web i natives.</p>
</div><div class='row navigation'><div class='col-6'><a href='advanced-animations-and-transitions'>&#x25C4; Animacions i Transicions Avançades</a></div><div class='col-6 text-end'></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
