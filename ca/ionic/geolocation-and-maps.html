<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geolocalització i Mapes</title>

    <link rel="alternate" href="https://campusempresa.com/es/ionic/geolocation-and-maps" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/ionic/geolocation-and-maps" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/ionic/geolocation-and-maps" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/ionic/geolocation-and-maps" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='push-notifications'>&#x25C4; Notificacions Push</a></div><div class='col-6 text-end'><a href='camera-and-file-handling'>Càmera i Gestió d'Arxius &#x25BA;</a></div></div><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>En aquest mòdul, explorarem com integrar la geolocalització i els mapes en una aplicació Ionic. Això inclou obtenir la ubicació de l'usuari, mostrar mapes i afegir marcadors. Al final d'aquest mòdul, seràs capaç de crear una aplicació completament funcional basada en mapes.</p>
</div><h1>Prerequisits</h1>
<div class='content'><p>Abans d'endinsar-nos en la geolocalització i els mapes, assegura't de tenir:</p>
<ul>
<li>Coneixements bàsics del framework Ionic.</li>
<li>Ionic CLI instal·lat.</li>
<li>Un projecte Ionic funcional.</li>
</ul>
</div><h1>Configuració de la Geolocalització</h1>
<div class='content'></div><h2>Instal·lació del Plugin de Geolocalització</h2>
<div class='content'><p>Per utilitzar la geolocalització en una aplicació Ionic, necessitem instal·lar el plugin Cordova Geolocation.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW9uaWMgY29yZG92YSBwbHVnaW4gYWRkIGNvcmRvdmEtcGx1Z2luLWdlb2xvY2F0aW9uCm5wbSBpbnN0YWxsIEBpb25pYy1uYXRpdmUvZ2VvbG9jYXRpb24="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ionic cordova plugin add cordova-plugin-geolocation
npm install @ionic-native/geolocation</pre></div><div class='content'></div><h2>Importació i Ús de la Geolocalització</h2>
<div class='content'><p>Primer, importa el servei de Geolocalització en el teu component.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgR2VvbG9jYXRpb24gfSBmcm9tICdAaW9uaWMtbmF0aXZlL2dlb2xvY2F0aW9uL25neCc7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Geolocation } from '@ionic-native/geolocation/ngx';</pre></div><div class='content'><p>Injeta el servei de Geolocalització en el constructor del teu component.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3RydWN0b3IocHJpdmF0ZSBnZW9sb2NhdGlvbjogR2VvbG9jYXRpb24pIHt9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>constructor(private geolocation: Geolocation) {}</pre></div><div class='content'><p>Ara, pots utilitzar el mètode <code>getCurrentPosition</code> per obtenir la ubicació actual de l'usuari.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dGhpcy5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKS50aGVuKChyZXNwKSA9PiB7CiAgY29uc29sZS5sb2coJ0xhdGl0dWQ6ICcgKyByZXNwLmNvb3Jkcy5sYXRpdHVkZSk7CiAgY29uc29sZS5sb2coJ0xvbmdpdHVkOiAnICsgcmVzcC5jb29yZHMubG9uZ2l0dWRlKTsKfSkuY2F0Y2goKGVycm9yKSA9PiB7CiAgY29uc29sZS5sb2coJ0Vycm9yIG9idGVuaW50IGxhIHViaWNhY2nDsycsIGVycm9yKTsKfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>this.geolocation.getCurrentPosition().then((resp) =&gt; {
  console.log('Latitud: ' + resp.coords.latitude);
  console.log('Longitud: ' + resp.coords.longitude);
}).catch((error) =&gt; {
  console.log('Error obtenint la ubicaci&oacute;', error);
});</pre></div><div class='content'></div><h1>Mostrar Mapes</h1>
<div class='content'></div><h2>Configuració de Google Maps</h2>
<div class='content'><p>Per mostrar mapes, utilitzarem l'API de JavaScript de Google Maps. Primer, necessites obtenir una clau d'API des del Google Cloud Console.</p>
</div><h2>Instal·lació del Plugin de Google Maps</h2>
<div class='content'><p>Instal·la el plugin de Google Maps i les seves dependències.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW9uaWMgY29yZG92YSBwbHVnaW4gYWRkIGNvcmRvdmEtcGx1Z2luLWdvb2dsZW1hcHMKbnBtIGluc3RhbGwgQGlvbmljLW5hdGl2ZS9nb29nbGUtbWFwcw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ionic cordova plugin add cordova-plugin-googlemaps
npm install @ionic-native/google-maps</pre></div><div class='content'></div><h2>Importació i Ús de Google Maps</h2>
<div class='content'><p>Importa el servei de Google Maps en el teu component.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgR29vZ2xlTWFwcywgR29vZ2xlTWFwLCBHb29nbGVNYXBzRXZlbnQsIExhdExuZywgTWFya2VyT3B0aW9ucywgTWFya2VyIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9nb29nbGUtbWFwcy9uZ3gnOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { GoogleMaps, GoogleMap, GoogleMapsEvent, LatLng, MarkerOptions, Marker } from '@ionic-native/google-maps/ngx';</pre></div><div class='content'><p>Inicialitza el mapa en el teu component.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3RydWN0b3IocHJpdmF0ZSBnb29nbGVNYXBzOiBHb29nbGVNYXBzKSB7fQoKbmdBZnRlclZpZXdJbml0KCkgewogIHRoaXMubG9hZE1hcCgpOwp9Cgpsb2FkTWFwKCkgewogIGxldCBtYXBPcHRpb25zOiBHb29nbGVNYXBPcHRpb25zID0gewogICAgY2FtZXJhOiB7CiAgICAgIHRhcmdldDogewogICAgICAgIGxhdDogNDMuMDc0MTkwNCwKICAgICAgICBsbmc6IC04OS4zODA5ODAyCiAgICAgIH0sCiAgICAgIHpvb206IDE4LAogICAgICB0aWx0OiAzMAogICAgfQogIH07CgogIHRoaXMubWFwID0gR29vZ2xlTWFwcy5jcmVhdGUoJ21hcF9jYW52YXMnLCBtYXBPcHRpb25zKTsKCiAgLy8gRXNwZXJhIHF1ZSBlbCBNQVBfUkVBRFkgZXN0aWd1aSBsbGVzdCBhYmFucyBkJ3V0aWxpdHphciBxdWFsc2V2b2wgbcOodG9kZS4KICB0aGlzLm1hcC5vbmUoR29vZ2xlTWFwc0V2ZW50Lk1BUF9SRUFEWSkudGhlbigoKSA9PiB7CiAgICBjb25zb2xlLmxvZygnRWwgbWFwYSBlc3TDoCBsbGVzdCEnKTsKICB9KTsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>constructor(private googleMaps: GoogleMaps) {}

ngAfterViewInit() {
  this.loadMap();
}

loadMap() {
  let mapOptions: GoogleMapOptions = {
    camera: {
      target: {
        lat: 43.0741904,
        lng: -89.3809802
      },
      zoom: 18,
      tilt: 30
    }
  };

  this.map = GoogleMaps.create('map_canvas', mapOptions);

  // Espera que el MAP_READY estigui llest abans d'utilitzar qualsevol m&egrave;tode.
  this.map.one(GoogleMapsEvent.MAP_READY).then(() =&gt; {
    console.log('El mapa est&agrave; llest!');
  });
}</pre></div><div class='content'></div><h2>Afegir Marcadors</h2>
<div class='content'><p>Per afegir marcadors al mapa, utilitza el mètode <code>addMarker</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IG1hcmtlcjogTWFya2VyID0gdGhpcy5tYXAuYWRkTWFya2VyU3luYyh7CiAgdGl0bGU6ICdJb25pYycsCiAgaWNvbjogJ2JsdWUnLAogIGFuaW1hdGlvbjogJ0RST1AnLAogIHBvc2l0aW9uOiB7CiAgICBsYXQ6IDQzLjA3NDE5MDQsCiAgICBsbmc6IC04OS4zODA5ODAyCiAgfQp9KTsKCm1hcmtlci5vbihHb29nbGVNYXBzRXZlbnQuTUFSS0VSX0NMSUNLKS5zdWJzY3JpYmUoKCkgPT4gewogIGFsZXJ0KCdNYXJjYWRvciBjbGljYXQnKTsKfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let marker: Marker = this.map.addMarkerSync({
  title: 'Ionic',
  icon: 'blue',
  animation: 'DROP',
  position: {
    lat: 43.0741904,
    lng: -89.3809802
  }
});

marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe(() =&gt; {
  alert('Marcador clicat');
});</pre></div><div class='content'></div><h1>Funcionalitats Avançades</h1>
<div class='content'></div><h2>Seguiment de la Ubicació en Temps Real</h2>
<div class='content'><p>Per fer el seguiment de la ubicació de l'usuari en temps real, utilitza el mètode <code>watchPosition</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IHdhdGNoID0gdGhpcy5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKCk7CndhdGNoLnN1YnNjcmliZSgoZGF0YSkgPT4gewogIGNvbnNvbGUubG9nKCdMYXRpdHVkOiAnICsgZGF0YS5jb29yZHMubGF0aXR1ZGUpOwogIGNvbnNvbGUubG9nKCdMb25naXR1ZDogJyArIGRhdGEuY29vcmRzLmxvbmdpdHVkZSk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let watch = this.geolocation.watchPosition();
watch.subscribe((data) =&gt; {
  console.log('Latitud: ' + data.coords.latitude);
  console.log('Longitud: ' + data.coords.longitude);
});</pre></div><div class='content'></div><h2>Personalització d'Estils del Mapa</h2>
<div class='content'><p>Pots personalitzar l'aparença del teu mapa utilitzant estils de mapa.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bGV0IG1hcE9wdGlvbnM6IEdvb2dsZU1hcE9wdGlvbnMgPSB7CiAgc3R5bGVzOiBbCiAgICB7CiAgICAgICJmZWF0dXJlVHlwZSI6ICJhbGwiLAogICAgICAiZWxlbWVudFR5cGUiOiAiZ2VvbWV0cnkuZmlsbCIsCiAgICAgICJzdHlsZXJzIjogWwogICAgICAgIHsKICAgICAgICAgICJ3ZWlnaHQiOiAiMi4wMCIKICAgICAgICB9CiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJmZWF0dXJlVHlwZSI6ICJhbGwiLAogICAgICAiZWxlbWVudFR5cGUiOiAiZ2VvbWV0cnkuc3Ryb2tlIiwKICAgICAgInN0eWxlcnMiOiBbCiAgICAgICAgewogICAgICAgICAgImNvbG9yIjogIiM5YzljOWMiCiAgICAgICAgfQogICAgICBdCiAgICB9CiAgXQp9Ow=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>let mapOptions: GoogleMapOptions = {
  styles: [
    {
      &quot;featureType&quot;: &quot;all&quot;,
      &quot;elementType&quot;: &quot;geometry.fill&quot;,
      &quot;stylers&quot;: [
        {
          &quot;weight&quot;: &quot;2.00&quot;
        }
      ]
    },
    {
      &quot;featureType&quot;: &quot;all&quot;,
      &quot;elementType&quot;: &quot;geometry.stroke&quot;,
      &quot;stylers&quot;: [
        {
          &quot;color&quot;: &quot;#9c9c9c&quot;
        }
      ]
    }
  ]
};</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquest mòdul, hem cobert els conceptes bàsics d'integrar la geolocalització i els mapes en una aplicació Ionic. Hem començat amb la configuració del plugin de geolocalització, obtenint la ubicació de l'usuari i mostrant mapes utilitzant l'API de Google Maps. També hem explorat funcionalitats avançades com el seguiment de la ubicació en temps real i la personalització d'estils del mapa. Amb aquestes habilitats, ara pots crear aplicacions potents basades en la ubicació en Ionic.</p>
</div><div class='row navigation'><div class='col-6'><a href='push-notifications'>&#x25C4; Notificacions Push</a></div><div class='col-6 text-end'><a href='camera-and-file-handling'>Càmera i Gestió d'Arxius &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
