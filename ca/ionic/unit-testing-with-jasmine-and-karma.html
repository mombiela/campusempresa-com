<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves Unitàries amb Jasmine i Karma</title>

    <link rel="alternate" href="https://campusempresa.com/es/ionic/unit-testing-with-jasmine-and-karma" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/ionic/unit-testing-with-jasmine-and-karma" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/ionic/unit-testing-with-jasmine-and-karma" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/ionic/unit-testing-with-jasmine-and-karma" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='introduction-to-testing-in-ionic'>&#x25C4; Introducció a les Proves en Ionic</a></div><div class='col-6 text-end'><a href='end-to-end-testing-with-protractor'>Proves de Cap a Cap amb Protractor &#x25BA;</a></div></div><div class='content'></div><h1>Introducció a les Proves Unitàries</h1>
<div class='content'><p>Les proves unitàries són un mètode de prova de programari on es proven unitats o components individuals d'un programari. L'objectiu és validar que cada unitat del programari funcioni com s'espera.</p>
<ul>
<li><strong>Unitat</strong>: La part més petita que es pot provar de qualsevol programari.</li>
<li><strong>Prova Unitària</strong>: Un fragment de codi escrit per un desenvolupador que executa una petita part de l'aplicació i comprova un comportament o estat específic.</li>
</ul>
</div><h1>Per què Proves Unitàries?</h1>
<div class='content'><ul>
<li>Assegura la fiabilitat del codi.</li>
<li>Facilita el manteniment del codi.</li>
<li>Ajuda a detectar errors d'hora.</li>
<li>Proporciona documentació del codi.</li>
</ul>
</div><h1>Visió General de Jasmine i Karma</h1>
<h2>Jasmine</h2>
<div class='content'><p>Jasmine és un marc de desenvolupament basat en el comportament per provar codi JavaScript. No depèn de cap altre marc de JavaScript i no requereix un DOM.</p>
<ul>
<li><strong>Característiques</strong>:
<ul>
<li>Sintaxi neta i fàcil.</li>
<li>Suporta proves asíncrones.</li>
<li>Comparadors integrats per a necessitats comunes de prova.</li>
</ul>
</li>
</ul>
</div><h2>Karma</h2>
<div class='content'><p>Karma és un executor de proves desenvolupat per l'equip d'AngularJS. Permet executar codi JavaScript en diversos navegadors reals.</p>
<ul>
<li><strong>Característiques</strong>:
<ul>
<li>Executa proves en navegadors reals.</li>
<li>Proporciona suport per a la integració contínua.</li>
<li>Mostra els resultats de les proves a la línia de comandes.</li>
</ul>
</li>
</ul>
</div><h1>Configuració de Jasmine i Karma en un Projecte Ionic</h1>
<h2>Pas 1: Instal·lar Dependències</h2>
<div class='content'><p>Primer, cal instal·lar Jasmine i Karma juntament amb els seus connectors necessaris.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnBtIGluc3RhbGwgLS1zYXZlLWRldiBqYXNtaW5lLWNvcmUga2FybWEga2FybWEtamFzbWluZSBrYXJtYS1jaHJvbWUtbGF1bmNoZXI="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npm install --save-dev jasmine-core karma karma-jasmine karma-chrome-launcher</pre></div><div class='content'></div><h2>Pas 2: Configurar Karma</h2>
<div class='content'><p>Crea un fitxer <code>karma.conf.js</code> a l'arrel del teu projecte.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihjb25maWcpIHsKICBjb25maWcuc2V0KHsKICAgIGJhc2VQYXRoOiAnJywKICAgIGZyYW1ld29ya3M6IFsnamFzbWluZSddLAogICAgZmlsZXM6IFsKICAgICAgJ3NyYy8qKi8qLnNwZWMudHMnCiAgICBdLAogICAgcHJlcHJvY2Vzc29yczogewogICAgICAnc3JjLyoqLyouc3BlYy50cyc6IFsnd2VicGFjayddCiAgICB9LAogICAgd2VicGFjazogewogICAgICAvLyBjb25maWd1cmFjacOzIGRlIHdlYnBhY2sKICAgIH0sCiAgICByZXBvcnRlcnM6IFsncHJvZ3Jlc3MnXSwKICAgIHBvcnQ6IDk4NzYsCiAgICBjb2xvcnM6IHRydWUsCiAgICBsb2dMZXZlbDogY29uZmlnLkxPR19JTkZPLAogICAgYXV0b1dhdGNoOiB0cnVlLAogICAgYnJvd3NlcnM6IFsnQ2hyb21lJ10sCiAgICBzaW5nbGVSdW46IGZhbHNlLAogICAgY29uY3VycmVuY3k6IEluZmluaXR5CiAgfSk7Cn07"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>module.exports = function(config) {
  config.set({
    basePath: '',
    frameworks: ['jasmine'],
    files: [
      'src/**/*.spec.ts'
    ],
    preprocessors: {
      'src/**/*.spec.ts': ['webpack']
    },
    webpack: {
      // configuraci&oacute; de webpack
    },
    reporters: ['progress'],
    port: 9876,
    colors: true,
    logLevel: config.LOG_INFO,
    autoWatch: true,
    browsers: ['Chrome'],
    singleRun: false,
    concurrency: Infinity
  });
};</pre></div><div class='content'></div><h2>Pas 3: Crear una Prova de Mostra</h2>
<div class='content'><p>Crea un fitxer de prova de mostra <code>example.spec.ts</code> al directori <code>src</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpYmUoJ1Byb3ZhIGRlIE1vc3RyYScsICgpID0+IHsKICBpdCgnaGF1cmlhIGRlIHJldG9ybmFyIHRydWUnLCAoKSA9PiB7CiAgICBleHBlY3QodHJ1ZSkudG9CZSh0cnVlKTsKICB9KTsKfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>describe('Prova de Mostra', () =&gt; {
  it('hauria de retornar true', () =&gt; {
    expect(true).toBe(true);
  });
});</pre></div><div class='content'></div><h2>Pas 4: Executar les Proves</h2>
<div class='content'><p>Executa les proves amb la següent comanda:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bnB4IGthcm1hIHN0YXJ0IGthcm1hLmNvbmYuanM="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>npx karma start karma.conf.js</pre></div><div class='content'></div><h1>Escriure Proves amb Jasmine</h1>
<h2>Estructura Bàsica de la Prova</h2>
<div class='content'><p>Una prova bàsica en Jasmine s'estructura utilitzant blocs <code>describe</code> i <code>it</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVzY3JpYmUoJ0VsTWV1Q29tcG9uZW50JywgKCkgPT4gewogIGl0KCdoYXVyaWEgZGUgZmVyIGFsZ3VuYSBjb3NhJywgKCkgPT4gewogICAgLy8gUHJlcGFyYWNpw7MKICAgIGxldCB2YWx1ZSA9IHRydWU7CiAgICAKICAgIC8vIEFjY2nDswogICAgbGV0IHJlc3VsdCA9IHZhbHVlOwogICAgCiAgICAvLyBBZmlybWFjacOzCiAgICBleHBlY3QocmVzdWx0KS50b0JlKHRydWUpOwogIH0pOwp9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>describe('ElMeuComponent', () =&gt; {
  it('hauria de fer alguna cosa', () =&gt; {
    // Preparaci&oacute;
    let value = true;
    
    // Acci&oacute;
    let result = value;
    
    // Afirmaci&oacute;
    expect(result).toBe(true);
  });
});</pre></div><div class='content'></div><h2>Comparadors</h2>
<div class='content'><p>Jasmine proporciona una varietat de comparadors per validar les teves proves.</p>
<ul>
<li><strong>toBe</strong>: Comprova la igualtat estricta.</li>
<li><strong>toEqual</strong>: Comprova la igualtat profunda.</li>
<li><strong>toBeTruthy</strong>: Comprova si el valor és veritable.</li>
<li><strong>toBeFalsy</strong>: Comprova si el valor és fals.</li>
<li><strong>toContain</strong>: Comprova si una matriu o cadena conté un valor.</li>
</ul>
</div><h2>Proves Asíncrones</h2>
<div class='content'><p>Jasmine suporta proves asíncrones utilitzant la devolució de trucada <code>done</code> o <code>async/await</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aXQoJ2hhdXJpYSBkJ29idGVuaXIgZGFkZXMgZGUgbWFuZXJhIGFzw61uY3JvbmEnLCAoZG9uZSkgPT4gewogIGZldGNoRGF0YSgpLnRoZW4oZGF0YSA9PiB7CiAgICBleHBlY3QoZGF0YSkudG9CZURlZmluZWQoKTsKICAgIGRvbmUoKTsKICB9KTsKfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>it('hauria d'obtenir dades de manera as&iacute;ncrona', (done) =&gt; {
  fetchData().then(data =&gt; {
    expect(data).toBeDefined();
    done();
  });
});</pre></div><div class='content'></div><h1>Tècniques Avançades de Prova</h1>
<h2>Espies</h2>
<div class='content'><p>Els espies s'utilitzen per fer un seguiment de les trucades a funcions o mètodes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aXQoJ2hhdXJpYSBkZSB0cnVjYXIgYWwgbcOodG9kZScsICgpID0+IHsKICBsZXQgbXlPYmogPSB7CiAgICBteU1ldGhvZDogKCkgPT4ge30KICB9OwogIHNweU9uKG15T2JqLCAnbXlNZXRob2QnKTsKICAKICBteU9iai5teU1ldGhvZCgpOwogIAogIGV4cGVjdChteU9iai5teU1ldGhvZCkudG9IYXZlQmVlbkNhbGxlZCgpOwp9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>it('hauria de trucar al m&egrave;tode', () =&gt; {
  let myObj = {
    myMethod: () =&gt; {}
  };
  spyOn(myObj, 'myMethod');
  
  myObj.myMethod();
  
  expect(myObj.myMethod).toHaveBeenCalled();
});</pre></div><div class='content'></div><h2>Simulació de Dependències</h2>
<div class='content'><p>La simulació s'utilitza per simular el comportament de dependències complexes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTW9ja1NlcnZpY2UgewogIGdldERhdGEoKSB7CiAgICByZXR1cm4gb2YoWydkYXRhMScsICdkYXRhMiddKTsKICB9Cn0KCmRlc2NyaWJlKCdFbE1ldUNvbXBvbmVudCcsICgpID0+IHsKICBsZXQgY29tcG9uZW50OiBNeUNvbXBvbmVudDsKICBsZXQgc2VydmljZTogTW9ja1NlcnZpY2U7CgogIGJlZm9yZUVhY2goKCkgPT4gewogICAgc2VydmljZSA9IG5ldyBNb2NrU2VydmljZSgpOwogICAgY29tcG9uZW50ID0gbmV3IE15Q29tcG9uZW50KHNlcnZpY2UpOwogIH0pOwoKICBpdCgnaGF1cmlhIGQndXRpbGl0emFyIGVsIHNlcnZlaSBzaW11bGF0JywgKCkgPT4gewogICAgY29tcG9uZW50Lm5nT25Jbml0KCk7CiAgICBleHBlY3QoY29tcG9uZW50LmRhdGEubGVuZ3RoKS50b0JlKDIpOwogIH0pOwp9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class MockService {
  getData() {
    return of(['data1', 'data2']);
  }
}

describe('ElMeuComponent', () =&gt; {
  let component: MyComponent;
  let service: MockService;

  beforeEach(() =&gt; {
    service = new MockService();
    component = new MyComponent(service);
  });

  it('hauria d'utilitzar el servei simulat', () =&gt; {
    component.ngOnInit();
    expect(component.data.length).toBe(2);
  });
});</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Les proves unitàries són una part crucial del procés de desenvolupament, assegurant que els components individuals funcionin com s'espera. Jasmine i Karma proporcionen un marc robust per escriure i executar proves en un projecte Ionic. Seguint els passos i exemples proporcionats, pots configurar i escriure proves unitàries efectives, conduint a un codi més fiable i mantenible.</p>
</div><div class='row navigation'><div class='col-6'><a href='introduction-to-testing-in-ionic'>&#x25C4; Introducció a les Proves en Ionic</a></div><div class='col-6 text-end'><a href='end-to-end-testing-with-protractor'>Proves de Cap a Cap amb Protractor &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
