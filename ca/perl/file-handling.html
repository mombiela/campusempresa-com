<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestió de fitxers en Perl</title>

    <link rel="alternate" href="https://campusempresa.com/es/perl/file-handling" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/perl/file-handling" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/perl/file-handling" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/perl/file-handling" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='regular-expressions'>&#x25C4;Expressions Regulars</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Gestió de fitxers en Perl</a>
	</div>
	<div class='col-4 text-end'>
					<a href='subroutines'>Subrutines &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La gestió de fitxers és un aspecte crucial de la programació, que et permet llegir i escriure fitxers. En Perl, la gestió de fitxers és senzilla però potent. Aquesta secció et guiarà des dels conceptes bàsics fins a tècniques més avançades de gestió de fitxers.</p>
</div><h1>Introducció a la Gestió de Fitxers</h1>
<div class='content'><ul>
<li><strong>Operacions de fitxers</strong>: Obrir, llegir, escriure i tancar fitxers.</li>
<li><strong>Modes de fitxers</strong>: Diferents modes per obrir fitxers (llegir, escriure, afegir).</li>
</ul>
</div><h2>Obrir i Tancar Fitxers</h2>
<div class='content'><p>Per treballar amb fitxers, primer has d'obrir-los. Perl utilitza la funció <code>open</code> per a aquest propòsit.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBPYnJpciB1biBmaXR4ZXIgcGVyIGxsZWdpcgpvcGVuKG15ICRmaCwgJzwnLCAnZmlsZW5hbWUudHh0Jykgb3IgZGllICJObyBzJ2hhIHBvZ3V0IG9icmlyIGVsIGZpdHhlcjogJCEiOwoKIyBPYnJpciB1biBmaXR4ZXIgcGVyIGVzY3JpdXJlCm9wZW4obXkgJGZoLCAnPicsICdmaWxlbmFtZS50eHQnKSBvciBkaWUgIk5vIHMnaGEgcG9ndXQgb2JyaXIgZWwgZml0eGVyOiAkISI7CgojIE9icmlyIHVuIGZpdHhlciBwZXIgYWZlZ2lyCm9wZW4obXkgJGZoLCAnPj4nLCAnZmlsZW5hbWUudHh0Jykgb3IgZGllICJObyBzJ2hhIHBvZ3V0IG9icmlyIGVsIGZpdHhlcjogJCEiOwoKIyBTZW1wcmUgdGFuY2EgZWwgbWFuZWphZG9yIGRlIGZpdHhlcnMgcXVhbiBoYWdpcyBhY2FiYXQKY2xvc2UoJGZoKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Obrir un fitxer per llegir
open(my $fh, '&lt;', 'filename.txt') or die &quot;No s'ha pogut obrir el fitxer: $!&quot;;

# Obrir un fitxer per escriure
open(my $fh, '&gt;', 'filename.txt') or die &quot;No s'ha pogut obrir el fitxer: $!&quot;;

# Obrir un fitxer per afegir
open(my $fh, '&gt;&gt;', 'filename.txt') or die &quot;No s'ha pogut obrir el fitxer: $!&quot;;

# Sempre tanca el manejador de fitxers quan hagis acabat
close($fh);</pre></div><div class='content'><ul>
<li><code>&lt;</code>: Mode de lectura.</li>
<li><code>&gt;</code>: Mode d'escriptura (crea un fitxer nou o trunca un fitxer existent).</li>
<li><code>&gt;&gt;</code>: Mode d'afegir (crea un fitxer nou si no existeix).</li>
</ul>
</div><h2>Llegir de Fitxers</h2>
<div class='content'><p>Hi ha diverses maneres de llegir d'un fitxer en Perl:</p>
<h4>Llegir línia per línia</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICc8JywgJ2ZpbGVuYW1lLnR4dCcpIG9yIGRpZSAiTm8gcydoYSBwb2d1dCBvYnJpciBlbCBmaXR4ZXI6ICQhIjsKd2hpbGUgKG15ICRsaW5lID0gPCRmaD4pIHsKICAgIHByaW50ICRsaW5lOwp9CmNsb3NlKCRmaCk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, '&lt;', 'filename.txt') or die &quot;No s'ha pogut obrir el fitxer: $!&quot;;
while (my $line = &lt;$fh&gt;) {
    print $line;
}
close($fh);</pre></div><div class='content'><h4>Llegir tot el fitxer d'una vegada</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICc8JywgJ2ZpbGVuYW1lLnR4dCcpIG9yIGRpZSAiTm8gcydoYSBwb2d1dCBvYnJpciBlbCBmaXR4ZXI6ICQhIjsKbXkgQGxpbmVzID0gPCRmaD47CmNsb3NlKCRmaCk7Cgpmb3JlYWNoIG15ICRsaW5lIChAbGluZXMpIHsKICAgIHByaW50ICRsaW5lOwp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, '&lt;', 'filename.txt') or die &quot;No s'ha pogut obrir el fitxer: $!&quot;;
my @lines = &lt;$fh&gt;;
close($fh);

foreach my $line (@lines) {
    print $line;
}</pre></div><div class='content'></div><h2>Escriure a Fitxers</h2>
<div class='content'><p>Escriure a fitxers és similar a llegir però utilitza diferents modes.</p>
<h4>Escriure línia per línia</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICc+JywgJ2ZpbGVuYW1lLnR4dCcpIG9yIGRpZSAiTm8gcydoYSBwb2d1dCBvYnJpciBlbCBmaXR4ZXI6ICQhIjsKcHJpbnQgJGZoICJBcXVlc3RhIMOpcyB1bmEgbMOtbmlhIGRlIHRleHQuXG4iOwpwcmludCAkZmggIkFxdWVzdGEgw6lzIHVuYSBhbHRyYSBsw61uaWEgZGUgdGV4dC5cbiI7CmNsb3NlKCRmaCk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, '&gt;', 'filename.txt') or die &quot;No s'ha pogut obrir el fitxer: $!&quot;;
print $fh &quot;Aquesta &eacute;s una l&iacute;nia de text.\n&quot;;
print $fh &quot;Aquesta &eacute;s una altra l&iacute;nia de text.\n&quot;;
close($fh);</pre></div><div class='content'><h4>Afegir a un Fitxer</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICc+PicsICdmaWxlbmFtZS50eHQnKSBvciBkaWUgIk5vIHMnaGEgcG9ndXQgb2JyaXIgZWwgZml0eGVyOiAkISI7CnByaW50ICRmaCAiQXF1ZXN0YSBsw61uaWEgcydhZmVnaXLDoC5cbiI7CmNsb3NlKCRmaCk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, '&gt;&gt;', 'filename.txt') or die &quot;No s'ha pogut obrir el fitxer: $!&quot;;
print $fh &quot;Aquesta l&iacute;nia s'afegir&agrave;.\n&quot;;
close($fh);</pre></div><div class='content'></div><h2>Gestió d'Errors</h2>
<div class='content'><p>Sempre gestiona els errors quan treballes amb fitxers per evitar problemes inesperats.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("b3BlbihteSAkZmgsICc8JywgJ25vbmV4aXN0ZW50LnR4dCcpIG9yIGRpZSAiTm8gcydoYSBwb2d1dCBvYnJpciBlbCBmaXR4ZXI6ICQhIjs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>open(my $fh, '&lt;', 'nonexistent.txt') or die &quot;No s'ha pogut obrir el fitxer: $!&quot;;</pre></div><div class='content'><p>La funció <code>die</code> finalitzarà el programa i imprimirà el missatge d'error si no es pot obrir el fitxer.</p>
</div><h1>Gestió Avançada de Fitxers</h1>
<div class='content'></div><h2>Proves de Fitxers</h2>
<div class='content'><p>Perl proporciona diversos operadors de prova de fitxers per comprovar diferents atributs dels fitxers.</p>
<ul>
<li><code>-e</code>: Comprova si un fitxer existeix.</li>
<li><code>-r</code>: Comprova si un fitxer és llegible.</li>
<li><code>-w</code>: Comprova si un fitxer és escrivible.</li>
<li><code>-x</code>: Comprova si un fitxer és executable.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXkgJGZpbGVuYW1lID0gJ2ZpbGVuYW1lLnR4dCc7CgppZiAoLWUgJGZpbGVuYW1lKSB7CiAgICBwcmludCAiRWwgZml0eGVyIGV4aXN0ZWl4LlxuIjsKfQoKaWYgKC1yICRmaWxlbmFtZSkgewogICAgcHJpbnQgIkVsIGZpdHhlciDDqXMgbGxlZ2libGUuXG4iOwp9CgppZiAoLXcgJGZpbGVuYW1lKSB7CiAgICBwcmludCAiRWwgZml0eGVyIMOpcyBlc2NyaXZpYmxlLlxuIjsKfQoKaWYgKC14ICRmaWxlbmFtZSkgewogICAgcHJpbnQgIkVsIGZpdHhlciDDqXMgZXhlY3V0YWJsZS5cbiI7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>my $filename = 'filename.txt';

if (-e $filename) {
    print &quot;El fitxer existeix.\n&quot;;
}

if (-r $filename) {
    print &quot;El fitxer &eacute;s llegible.\n&quot;;
}

if (-w $filename) {
    print &quot;El fitxer &eacute;s escrivible.\n&quot;;
}

if (-x $filename) {
    print &quot;El fitxer &eacute;s executable.\n&quot;;
}</pre></div><div class='content'></div><h2>Treballar amb Camins de Fitxers</h2>
<div class='content'><p>El mòdul <code>File::Spec</code> de Perl ajuda a gestionar els camins de fitxers de manera independent de la plataforma.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIEZpbGU6OlNwZWM7CgpteSAkcGF0aCA9IEZpbGU6OlNwZWMtPmNhdGZpbGUoJ2RpcmVjdG9yeScsICdmaWxlbmFtZS50eHQnKTsKcHJpbnQgIkVsIGNhbcOtIGRlbCBmaXR4ZXIgw6lzOiAkcGF0aFxuIjs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use File::Spec;

my $path = File::Spec-&gt;catfile('directory', 'filename.txt');
print &quot;El cam&iacute; del fitxer &eacute;s: $path\n&quot;;</pre></div><div class='content'></div><h2>Llegir i Escriure Fitxers Binari</h2>
<div class='content'><p>Per als fitxers binaris, utilitza la funció <code>binmode</code> per assegurar una gestió adequada.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBMbGVnaXIgdW4gZml0eGVyIGJpbmFyaQpvcGVuKG15ICRmaCwgJzw6cmF3JywgJ2JpbmFyeWZpbGUuYmluJykgb3IgZGllICJObyBzJ2hhIHBvZ3V0IG9icmlyIGVsIGZpdHhlcjogJCEiOwpiaW5tb2RlKCRmaCk7Cm15ICRkYXRhOwp3aGlsZSAocmVhZCgkZmgsIG15ICRidWZmZXIsIDEwMjQpKSB7CiAgICAkZGF0YSAuPSAkYnVmZmVyOwp9CmNsb3NlKCRmaCk7CgojIEVzY3JpdXJlIGEgdW4gZml0eGVyIGJpbmFyaQpvcGVuKG15ICRmaCwgJz46cmF3JywgJ2JpbmFyeWZpbGUuYmluJykgb3IgZGllICJObyBzJ2hhIHBvZ3V0IG9icmlyIGVsIGZpdHhlcjogJCEiOwpiaW5tb2RlKCRmaCk7CnByaW50ICRmaCAkZGF0YTsKY2xvc2UoJGZoKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Llegir un fitxer binari
open(my $fh, '&lt;:raw', 'binaryfile.bin') or die &quot;No s'ha pogut obrir el fitxer: $!&quot;;
binmode($fh);
my $data;
while (read($fh, my $buffer, 1024)) {
    $data .= $buffer;
}
close($fh);

# Escriure a un fitxer binari
open(my $fh, '&gt;:raw', 'binaryfile.bin') or die &quot;No s'ha pogut obrir el fitxer: $!&quot;;
binmode($fh);
print $fh $data;
close($fh);</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>La gestió de fitxers en Perl és una habilitat fonamental que et permet llegir i escriure fitxers de manera eficient. En dominar els conceptes bàsics i entendre les tècniques avançades, pots gestionar diverses operacions de fitxers en els teus scripts de Perl. Recorda sempre gestionar els errors de manera adequada i utilitzar els modes i funcions de fitxers apropiats per a les teves necessitats específiques.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='regular-expressions'>&#x25C4;Expressions Regulars</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Gestió de fitxers en Perl</a>
	</div>
	<div class='col-4 text-end'>
					<a href='subroutines'>Subrutines &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
