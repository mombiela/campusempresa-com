<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proves i Depuració</title>

    <link rel="alternate" href="https://campusempresa.com/es/perl/testing-and-debugging" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/perl/testing-and-debugging" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/perl/testing-and-debugging" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/perl/testing-and-debugging" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='automating-tasks'>&#x25C4;Automatització de Tasques</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Proves i Depuració</a>
	</div>
	<div class='col-4 text-end'>
					<a href='writing-maintainable-code'>Escrivint Codi Mantenible &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Les proves i la depuració són habilitats crítiques per a qualsevol programador. En Perl, aquestes pràctiques ajuden a assegurar que el teu codi sigui fiable, mantenible i lliure d'errors. Aquesta secció et guiarà a través dels conceptes bàsics de les proves i la depuració en Perl, des de nivells principiants fins a avançats.</p>
</div><h1>Proves en Perl</h1>
<div class='content'></div><h2>Per què són importants les proves</h2>
<div class='content'><ul>
<li><strong>Assegura la Fiabilitat del Codi</strong>: Ajuda a detectar errors d'hora.</li>
<li><strong>Facilita el Manteniment</strong>: Fa més fàcil actualitzar el codi sense introduir nous errors.</li>
<li><strong>Millora la Qualitat del Codi</strong>: Fomenta millors pràctiques de codificació.</li>
</ul>
</div><h2>Proves Bàsiques amb `Test::Simple`</h2>
<div class='content'><p>El mòdul <code>Test::Simple</code> és un bon punt de partida per a principiants.</p>
<h4>Exemple:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIFRlc3Q6OlNpbXBsZSB0ZXN0cyA9PiAzOwoKb2soMSArIDEgPT0gMiwgJ0wnYXJpdG3DqHRpY2EgYsOgc2ljYSBmdW5jaW9uYScpOwpvaygnSG9sYScgZXEgJ0hvbGEnLCAnTGEgY29tcGFyYWNpw7MgZGUgY2FkZW5lcyBmdW5jaW9uYScpOwpvayhkZWZpbmVkICRhbGd1bmFfdmFyaWFibGUsICdMYSB2YXJpYWJsZSBlc3TDoCBkZWZpbmlkYScpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use Test::Simple tests =&gt; 3;

ok(1 + 1 == 2, 'L'aritm&egrave;tica b&agrave;sica funciona');
ok('Hola' eq 'Hola', 'La comparaci&oacute; de cadenes funciona');
ok(defined $alguna_variable, 'La variable est&agrave; definida');</pre></div><div class='content'><ul>
<li><code>use Test::Simple tests =&gt; 3;</code>: Declara que executarem 3 proves.</li>
<li><code>ok(expressió, 'descripció');</code>: Comprova si l'expressió és certa.</li>
</ul>
</div><h2>Proves Intermèdies amb `Test::More`</h2>
<div class='content'><p><code>Test::More</code> proporciona característiques de prova més avançades.</p>
<h4>Exemple:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIFRlc3Q6Ok1vcmUgdGVzdHMgPT4gNDsKCmlzKDEgKyAxLCAyLCAnMSArIDEgw6lzIGlndWFsIGEgMicpOwppc250KDEgKyAxLCAzLCAnMSArIDEgbm8gw6lzIGlndWFsIGEgMycpOwpsaWtlKCdIb2xhIE3Ds24nLCBxci9Nw7NuLywgJ0xhIGNhZGVuYSBjb250w6kgIk3Ds24iJyk7CnVubGlrZSgnSG9sYSBNw7NuJywgcXIvVW5pdmVycy8sICdMYSBjYWRlbmEgbm8gY29udMOpICJVbml2ZXJzIicpOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use Test::More tests =&gt; 4;

is(1 + 1, 2, '1 + 1 &eacute;s igual a 2');
isnt(1 + 1, 3, '1 + 1 no &eacute;s igual a 3');
like('Hola M&oacute;n', qr/M&oacute;n/, 'La cadena cont&eacute; &quot;M&oacute;n&quot;');
unlike('Hola M&oacute;n', qr/Univers/, 'La cadena no cont&eacute; &quot;Univers&quot;');</pre></div><div class='content'><ul>
<li><code>is(expressió, esperat, 'descripció');</code>: Comprova si l'expressió és igual al valor esperat.</li>
<li><code>isnt(expressió, inesperat, 'descripció');</code>: Comprova si l'expressió no és igual al valor inesperat.</li>
<li><code>like(cadena, regex, 'descripció');</code>: Comprova si la cadena coincideix amb la regex.</li>
<li><code>unlike(cadena, regex, 'descripció');</code>: Comprova si la cadena no coincideix amb la regex.</li>
</ul>
</div><h2>Proves Avançades amb `Test::Class`</h2>
<div class='content'><p><code>Test::Class</code> permet fer proves orientades a objectes.</p>
<h4>Exemple:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGFja2FnZSBNeVRlc3RzOwp1c2UgYmFzZSAnVGVzdDo6Q2xhc3MnOwp1c2UgVGVzdDo6TW9yZTsKCnN1YiB0ZXN0X2Jhc2ljIDogVGVzdCgyKSB7CiAgICBteSAkc2VsZiA9IHNoaWZ0OwogICAgb2soMSArIDEgPT0gMiwgJ0wnYXJpdG3DqHRpY2EgYsOgc2ljYSBmdW5jaW9uYScpOwogICAgb2soJ0hvbGEnIGVxICdIb2xhJywgJ0xhIGNvbXBhcmFjacOzIGRlIGNhZGVuZXMgZnVuY2lvbmEnKTsKfQoKVGVzdDo6Q2xhc3MtPnJ1bnRlc3RzOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>package MyTests;
use base 'Test::Class';
use Test::More;

sub test_basic : Test(2) {
    my $self = shift;
    ok(1 + 1 == 2, 'L'aritm&egrave;tica b&agrave;sica funciona');
    ok('Hola' eq 'Hola', 'La comparaci&oacute; de cadenes funciona');
}

Test::Class-&gt;runtests;</pre></div><div class='content'><ul>
<li><code>use base 'Test::Class';</code>: Hereta de <code>Test::Class</code>.</li>
<li><code>sub test_basic : Test(2) { ... }</code>: Defineix un mètode de prova amb 2 proves.</li>
</ul>
</div><h1>Depuració en Perl</h1>
<div class='content'></div><h2>Ús de `warn` i `die`</h2>
<div class='content'><ul>
<li><strong><code>warn</code></strong>: Imprimeix un missatge d'advertència però continua l'execució.</li>
<li><strong><code>die</code></strong>: Imprimeix un missatge d'error i surt del programa.</li>
</ul>
<h4>Exemple:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bXkgJHZhbG9yID0gMTA7Cndhcm4gIkVsIHZhbG9yIMOpcyBtZW5vciBxdWUgMjAiIHNpICR2YWxvciA8IDIwOwpkaWUgIkVsIHZhbG9yIMOpcyBtYXNzYSBhbHQhIiBzaSAkdmFsb3IgPiAxMDA7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>my $valor = 10;
warn &quot;El valor &eacute;s menor que 20&quot; si $valor &lt; 20;
die &quot;El valor &eacute;s massa alt!&quot; si $valor &gt; 100;</pre></div><div class='content'></div><h2>El Depurador de Perl</h2>
<div class='content'><p>El depurador de Perl és una eina poderosa per a la depuració interactiva.</p>
<h4>Comandes Bàsiques:</h4>
<ul>
<li><strong><code>perl -d script.pl</code></strong>: Inicia el depurador.</li>
<li><strong><code>n</code></strong>: Següent línia.</li>
<li><strong><code>s</code></strong>: Entra a la subrutina.</li>
<li><strong><code>c</code></strong>: Continua fins al següent punt de ruptura.</li>
<li><strong><code>b número_de_línia</code></strong>: Estableix un punt de ruptura.</li>
</ul>
<h4>Exemple:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("IyBEZXNhIGFpeMOyIGNvbSBkZWJ1Z19leGFtcGxlLnBsCm15ICR4ID0gMTA7Cm15ICR5ID0gMjA7Cm15ICR6ID0gJHggKyAkeTsKcHJpbnQgIkVsIHJlc3VsdGF0IMOpcyAkelxuIjs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'># Desa aix&ograve; com debug_example.pl
my $x = 10;
my $y = 20;
my $z = $x + $y;
print &quot;El resultat &eacute;s $z\n&quot;;</pre></div><div class='content'><p>Executa amb el depurador:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("cGVybCAtZCBkZWJ1Z19leGFtcGxlLnBs"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>perl -d debug_example.pl</pre></div><div class='content'><ul>
<li>Usa <code>n</code> per avançar línia a línia.</li>
<li>Usa <code>p $variable</code> per imprimir el valor d'una variable.</li>
</ul>
</div><h2>Ús de `Carp` per a Millors Missatges d'Error</h2>
<div class='content'><p>El mòdul <code>Carp</code> proporciona millors missatges d'error.</p>
<h4>Exemple:</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dXNlIENhcnA7CgpzdWIgZGl2aWRlaXggewogICAgbXkgKCRudW1lcmFkb3IsICRkZW5vbWluYWRvcikgPSBAXzsKICAgIGNyb2FrICJFbCBkZW5vbWluYWRvciBubyBwb3Qgc2VyIHplcm8iIHNpICRkZW5vbWluYWRvciA9PSAwOwogICAgcmV0dXJuICRudW1lcmFkb3IgLyAkZGVub21pbmFkb3I7Cn0KCmRpdmlkZWl4KDEwLCAwKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>use Carp;

sub divideix {
    my ($numerador, $denominador) = @_;
    croak &quot;El denominador no pot ser zero&quot; si $denominador == 0;
    return $numerador / $denominador;
}

divideix(10, 0);</pre></div><div class='content'><ul>
<li><strong><code>croak</code></strong>: Similar a <code>die</code>, però informa de l'error des de la perspectiva del cridant.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Les proves i la depuració són pràctiques essencials per escriure codi Perl robust. Començar amb proves bàsiques utilitzant <code>Test::Simple</code> i avançar a escenaris més complexos amb <code>Test::More</code> i <code>Test::Class</code> pot millorar significativament la qualitat del teu codi. Eines de depuració com <code>warn</code>, <code>die</code>, el depurador de Perl i <code>Carp</code> t'ajuden a identificar i solucionar problemes de manera eficient. En dominar aquestes tècniques, pots assegurar-te que els teus programes Perl siguin fiables i mantenibles.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='automating-tasks'>&#x25C4;Automatització de Tasques</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Proves i Depuració</a>
	</div>
	<div class='col-4 text-end'>
					<a href='writing-maintainable-code'>Escrivint Codi Mantenible &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
