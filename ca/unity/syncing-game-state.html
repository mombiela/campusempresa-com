<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sincronització de l'Estat del Joc</title>

    <link rel="alternate" href="https://campusempresa.com/es/unity/syncing-game-state" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/unity/syncing-game-state" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/unity/syncing-game-state" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/unity/syncing-game-state" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>Sincronitzar l'estat del joc és crucial en els jocs multijugador per assegurar que tots els jugadors tinguin una experiència consistent i justa. Aquest tema cobrirà els conceptes bàsics de la sincronització de l'estat del joc en Unity, progressant des de conceptes per a principiants fins a conceptes avançats.</p>
</div><h1>Introducció a la Sincronització de l'Estat del Joc</h1>
<div class='content'><ul>
<li><strong>Definició</strong>: La sincronització de l'estat del joc es refereix al procés d'assegurar que tots els jugadors en un joc multijugador tinguin la mateixa visió del món del joc.</li>
<li><strong>Importància</strong>: Sense una sincronització adequada, els jugadors podrien experimentar diferents estats del joc, cosa que portaria a confusió i a un joc injust.</li>
</ul>
</div><h1>Conceptes Bàsics</h1>
<div class='content'></div><h2>Comprendre l'Estat del Joc</h2>
<div class='content'><ul>
<li><strong>Estat del Joc</strong>: L'estat actual de tots els elements del joc, incloent-hi les posicions dels jugadors, puntuacions i objectes del joc.</li>
<li><strong>Estat Local vs. Global</strong>: L'estat local es refereix a l'estat del joc en el dispositiu d'un sol jugador, mentre que l'estat global és l'estat combinat de tots els jugadors.</li>
</ul>
</div><h2>Conceptes Bàsics de Xarxes</h2>
<div class='content'><ul>
<li><strong>Model Client-Servidor</strong>: Una arquitectura comuna on el servidor manté l'estat global del joc, i els clients (jugadors) envien i reben actualitzacions.</li>
<li><strong>Model Peer-to-Peer</strong>: Una arquitectura alternativa on cada jugador manté el seu propi estat del joc i es sincronitza directament amb altres jugadors.</li>
</ul>
</div><h1>Implementació Bàsica de la Sincronització en Unity</h1>
<div class='content'></div><h2>Configuració d'un Joc en Xarxa Simple</h2>
<div class='content'><ol>
<li>
<p><strong>Instal·lar Unity i Photon Unity Networking (PUN)</strong>:</p>
<ul>
<li>Photon Unity Networking (PUN) és un marc popular per crear jocs multijugador en Unity.</li>
<li>Instal·la PUN des de la Unity Asset Store.</li>
</ul>
</li>
<li>
<p><strong>Crear una Escena Bàsica</strong>:</p>
<ul>
<li>Configura una escena simple amb un objecte jugador i alguns objectes interactius.</li>
</ul>
</li>
<li>
<p><strong>Inicialitzar Photon</strong>:</p>
<pre><code class="language-csharp">using Photon.Pun;
using UnityEngine;

public class NetworkManager : MonoBehaviourPunCallbacks
{
    void Start()
    {
        PhotonNetwork.ConnectUsingSettings();
    }

    public override void OnConnectedToMaster()
    {
        PhotonNetwork.JoinLobby();
    }
}
</code></pre>
</li>
</ol>
</div><h2>Sincronització del Moviment del Jugador</h2>
<div class='content'><ol>
<li>
<p><strong>Crear un Prefab de Jugador</strong>:</p>
<ul>
<li>Crea un objecte jugador i fes-lo un prefab.</li>
<li>Afegeix un component PhotonView al prefab del jugador.</li>
</ul>
</li>
<li>
<p><strong>Sincronitzar la Posició del Jugador</strong>:</p>
<pre><code class="language-csharp">using Photon.Pun;
using UnityEngine;

public class PlayerController : MonoBehaviourPun, IPunObservable
{
    private Vector3 networkPosition;

    void Update()
    {
        if (photonView.IsMine)
        {
            // Moviment del jugador local
            float move = Input.GetAxis(&quot;Vertical&quot;) * Time.deltaTime * 5.0f;
            transform.Translate(0, 0, move);
        }
        else
        {
            // Moviment del jugador remot
            transform.position = Vector3.Lerp(transform.position, networkPosition, Time.deltaTime * 5.0f);
        }
    }

    public void OnPhotonSerializeView(PhotonStream stream, PhotonMessageInfo info)
    {
        if (stream.IsWriting)
        {
            // Enviar la posició local als altres jugadors
            stream.SendNext(transform.position);
        }
        else
        {
            // Rebre la posició remota
            networkPosition = (Vector3)stream.ReceiveNext();
        }
    }
}
</code></pre>
</li>
</ol>
</div><h1>Conceptes Intermedis</h1>
<div class='content'></div><h2>Gestió del Retard i la Latència</h2>
<div class='content'><ul>
<li><strong>Compensació del Retard</strong>: Tècniques per minimitzar l'impacte de la latència de xarxa en el joc.</li>
<li><strong>Interpolació i Extrapolació</strong>: Mètodes per predir i suavitzar els moviments dels jugadors.</li>
</ul>
</div><h2>Sincronització d'Objectes de Joc Complexos</h2>
<div class='content'><ul>
<li><strong>Sincronització d'Estat</strong>: Sincronització d'estats de joc més complexos, com la salut dels jugadors, puntuacions i esdeveniments del joc.</li>
<li><strong>RPCs (Remote Procedure Calls)</strong>: Invocar mètodes a través de la xarxa per assegurar que tots els jugadors executin les mateixes accions.</li>
</ul>
</div><h1>Conceptes Avançats</h1>
<div class='content'></div><h2>Codi de Xarxa Personalitzat</h2>
<div class='content'><ul>
<li><strong>Serialització Personalitzada</strong>: Escriure codi personalitzat per serialitzar i deserialitzar estats de joc complexos.</li>
<li><strong>Optimització del Trànsit de Xarxa</strong>: Tècniques per reduir la quantitat de dades enviades a través de la xarxa, com la compressió delta i la gestió d'interessos.</li>
</ul>
</div><h2>Arquitectura Autoritativa del Servidor</h2>
<div class='content'><ul>
<li><strong>Lògica del Costat del Servidor</strong>: Moure la lògica crítica del joc al servidor per prevenir trampes i assegurar la consistència.</li>
<li><strong>Predicció i Reconciliació del Client</strong>: Tècniques per gestionar les entrades dels jugadors localment mentre s'assegura que el servidor tingui l'última paraula.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Sincronitzar l'estat del joc en Unity és un tema multifacètic que va des de la sincronització bàsica del moviment dels jugadors fins a arquitectures autoritatives complexes del servidor. Comprenent i implementant aquests conceptes, pots crear una experiència multijugador fluida i justa per als teus jugadors. Comença amb els conceptes bàsics, experimenta amb tècniques intermèdies i avança gradualment cap a implementacions avançades per dominar la sincronització de l'estat del joc en Unity.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
