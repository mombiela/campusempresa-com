<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integració Contínua i Desplegament Continu</title>

    <link rel="alternate" href="https://campusempresa.com/es/kubernetes/continuous-integration-and-continuous-deployment" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/kubernetes/continuous-integration-and-continuous-deployment" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/kubernetes/continuous-integration-and-continuous-deployment" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/kubernetes/continuous-integration-and-continuous-deployment" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='alerting'>&#x25C4;Alertes</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Integració Contínua i Desplegament Continu</a>
	</div>
	<div class='col-4 text-end'>
					<a href='jenkins-x'>Jenkins X &#x25BA;</a>
			</div>
</div>
<div class='content'><p>La Integració Contínua (CI) i el Desplegament Continu (CD) són pràctiques essencials en el desenvolupament de programari modern, especialment quan es treballa amb Kubernetes. Aquest tema et guiarà des dels conceptes bàsics fins als avançats, assegurant que entenguis com implementar pipelines de CI/CD de manera efectiva.</p>
</div><h1>Introducció a CI/CD</h1>
<div class='content'><ul>
<li><strong>Integració Contínua (CI)</strong>: La pràctica d'integrar freqüentment canvis de codi en un repositori compartit, seguida de compilacions i proves automatitzades.</li>
<li><strong>Desplegament Continu (CD)</strong>: La pràctica de desplegar automàticament cada canvi que passa les proves automatitzades a producció.</li>
</ul>
</div><h1>Beneficis de CI/CD</h1>
<div class='content'><ul>
<li><strong>Cicles de Desenvolupament més Ràpids</strong>: Redueix el temps entre escriure codi i desplegar-lo.</li>
<li><strong>Millora de la Qualitat del Codi</strong>: Les proves automatitzades detecten errors aviat.</li>
<li><strong>Reducció de l'Esforç Manual</strong>: L'automatització redueix la necessitat d'intervenció manual.</li>
</ul>
</div><h1>Configuració d'un Pipeline de CI/CD</h1>
<div class='content'></div><h2>Eines i Tecnologies</h2>
<div class='content'><ul>
<li><strong>Sistema de Control de Versions (VCS)</strong>: Git, GitHub, GitLab</li>
<li><strong>Plataformes de CI/CD</strong>: Jenkins, GitHub Actions, GitLab CI, CircleCI</li>
<li><strong>Containerització</strong>: Docker</li>
<li><strong>Orquestració</strong>: Kubernetes</li>
</ul>
</div><h2>Estructura Bàsica d'un Pipeline de CI/CD</h2>
<div class='content'><ol>
<li><strong>Commit de Codi</strong>: El desenvolupador fa un commit de codi al VCS.</li>
<li><strong>Compilació</strong>: L'eina de CI compila l'aplicació.</li>
<li><strong>Prova</strong>: Es realitzen proves automatitzades.</li>
<li><strong>Desplegament</strong>: L'aplicació es desplega en un entorn de staging o producció.</li>
</ol>
</div><h2>Exemple: GitHub Actions per a CI/CD</h2>
<div class='content'><h4>Fitxer de Workflow: <code>.github/workflows/ci-cd.yml</code></h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmFtZTogQ0kvQ0QgUGlwZWxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczoKICAgICAgLSBtYWluCgpqb2JzOgogIGJ1aWxkOgogICAgcnVucy1vbjogdWJ1bnR1LWxhdGVzdAoKICAgIHN0ZXBzOgogICAgLSBuYW1lOiBDaGVja291dCBjb2RlCiAgICAgIHVzZXM6IGFjdGlvbnMvY2hlY2tvdXRAdjIKCiAgICAtIG5hbWU6IFNldCB1cCBEb2NrZXIgQnVpbGR4CiAgICAgIHVzZXM6IGRvY2tlci9zZXR1cC1idWlsZHgtYWN0aW9uQHYxCgogICAgLSBuYW1lOiBCdWlsZCBEb2NrZXIgaW1hZ2UKICAgICAgcnVuOiBkb2NrZXIgYnVpbGQgLXQgbXktYXBwOmxhdGVzdCAuCgogICAgLSBuYW1lOiBSdW4gdGVzdHMKICAgICAgcnVuOiBkb2NrZXIgcnVuIG15LWFwcDpsYXRlc3QgbnBtIHRlc3QKCiAgZGVwbG95OgogICAgbmVlZHM6IGJ1aWxkCiAgICBydW5zLW9uOiB1YnVudHUtbGF0ZXN0CgogICAgc3RlcHM6CiAgICAtIG5hbWU6IENoZWNrb3V0IGNvZGUKICAgICAgdXNlczogYWN0aW9ucy9jaGVja291dEB2MgoKICAgIC0gbmFtZTogU2V0IHVwIEt1YmVybmV0ZXMKICAgICAgdXNlczogYXp1cmUvc2V0dXAta3ViZWN0bEB2MQoKICAgIC0gbmFtZTogRGVwbG95IHRvIEt1YmVybmV0ZXMKICAgICAgcnVuOiBrdWJlY3RsIGFwcGx5IC1mIGs4cy9kZXBsb3ltZW50LnlhbWw="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>name: CI/CD Pipeline

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Docker Buildx
      uses: docker/setup-buildx-action@v1

    - name: Build Docker image
      run: docker build -t my-app:latest .

    - name: Run tests
      run: docker run my-app:latest npm test

  deploy:
    needs: build
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Kubernetes
      uses: azure/setup-kubectl@v1

    - name: Deploy to Kubernetes
      run: kubectl apply -f k8s/deployment.yaml</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>Desencadenant</strong>: El workflow es desencadena amb un push a la branca <code>main</code>.</li>
<li><strong>Treballs</strong>: Dos treballs, <code>build</code> i <code>deploy</code>.
<ul>
<li><strong>Treball de Compilació</strong>:
<ul>
<li>Fa el checkout del codi.</li>
<li>Configura Docker Buildx per a la construcció d'imatges multiplataforma.</li>
<li>Construeix la imatge Docker.</li>
<li>Executa proves dins del contenidor Docker.</li>
</ul>
</li>
<li><strong>Treball de Desplegament</strong>:
<ul>
<li>Depèn del treball <code>build</code>.</li>
<li>Configura la CLI de Kubernetes.</li>
<li>Desplega l'aplicació a Kubernetes utilitzant un fitxer de desplegament.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div><h1>Conceptes Avançats de CI/CD</h1>
<div class='content'></div><h2>Desplegaments Blue-Green</h2>
<div class='content'><ul>
<li><strong>Desplegament Blue-Green</strong>: Una tècnica per reduir el temps d'inactivitat i el risc executant dos entorns de producció idèntics, només un dels quals (blue o green) serveix tràfic de producció en viu en qualsevol moment.</li>
</ul>
</div><h2>Desplegaments Canary</h2>
<div class='content'><ul>
<li><strong>Desplegament Canary</strong>: Desplegar gradualment una nova versió de l'aplicació a un petit subconjunt d'usuaris abans de desplegar-la a tota la infraestructura.</li>
</ul>
</div><h2>Rollbacks</h2>
<div class='content'><ul>
<li><strong>Rollback</strong>: El procés de revertir a una versió estable anterior de l'aplicació si el nou desplegament falla.</li>
</ul>
</div><h2>Monitorització i Registre</h2>
<div class='content'><ul>
<li><strong>Eines de Monitorització</strong>: Prometheus, Grafana</li>
<li><strong>Eines de Registre</strong>: ELK Stack (Elasticsearch, Logstash, Kibana), Fluentd</li>
</ul>
</div><h1>Exemple: Estratègia de Desplegament Avançada</h1>
<div class='content'><h4>Desplegament Blue-Green amb Kubernetes</h4>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("YXBpVmVyc2lvbjogYXBwcy92MQpraW5kOiBEZXBsb3ltZW50Cm1ldGFkYXRhOgogIG5hbWU6IG15LWFwcC1ibHVlCnNwZWM6CiAgcmVwbGljYXM6IDMKICBzZWxlY3RvcjoKICAgIG1hdGNoTGFiZWxzOgogICAgICBhcHA6IG15LWFwcAogICAgICB2ZXJzaW9uOiBibHVlCiAgdGVtcGxhdGU6CiAgICBtZXRhZGF0YToKICAgICAgbGFiZWxzOgogICAgICAgIGFwcDogbXktYXBwCiAgICAgICAgdmVyc2lvbjogYmx1ZQogICAgc3BlYzoKICAgICAgY29udGFpbmVyczoKICAgICAgLSBuYW1lOiBteS1hcHAKICAgICAgICBpbWFnZTogbXktYXBwOmJsdWUKLS0tCmFwaVZlcnNpb246IGFwcHMvdjEKa2luZDogRGVwbG95bWVudAptZXRhZGF0YToKICBuYW1lOiBteS1hcHAtZ3JlZW4Kc3BlYzoKICByZXBsaWNhczogMwogIHNlbGVjdG9yOgogICAgbWF0Y2hMYWJlbHM6CiAgICAgIGFwcDogbXktYXBwCiAgICAgIHZlcnNpb246IGdyZWVuCiAgdGVtcGxhdGU6CiAgICBtZXRhZGF0YToKICAgICAgbGFiZWxzOgogICAgICAgIGFwcDogbXktYXBwCiAgICAgICAgdmVyc2lvbjogZ3JlZW4KICAgIHNwZWM6CiAgICAgIGNvbnRhaW5lcnM6CiAgICAgIC0gbmFtZTogbXktYXBwCiAgICAgICAgaW1hZ2U6IG15LWFwcDpncmVlbg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-blue
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
      version: blue
  template:
    metadata:
      labels:
        app: my-app
        version: blue
    spec:
      containers:
      - name: my-app
        image: my-app:blue
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-green
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
      version: green
  template:
    metadata:
      labels:
        app: my-app
        version: green
    spec:
      containers:
      - name: my-app
        image: my-app:green</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>Desplegaments</strong>: Dos desplegaments separats, <code>my-app-blue</code> i <code>my-app-green</code>.</li>
<li><strong>Etiquetes</strong>: Utilitzades per diferenciar entre les versions blue i green.</li>
<li><strong>Canvi de Tràfic</strong>: Gestionat actualitzant el selector del servei per apuntar a qualsevol dels desplegaments blue o green.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Implementar CI/CD en entorns Kubernetes pot millorar significativament el teu flux de treball de desenvolupament automatitzant els processos de compilació, prova i desplegament. Entenent i utilitzant eines com GitHub Actions, Docker i Kubernetes, pots crear pipelines robustos que assegurin codi d'alta qualitat i cicles de desplegament ràpids. Estratègies avançades com els desplegaments blue-green i canary minimitzen encara més el temps d'inactivitat i el risc, fent les teves aplicacions més resilients i fiables.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='alerting'>&#x25C4;Alertes</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Integració Contínua i Desplegament Continu</a>
	</div>
	<div class='col-4 text-end'>
					<a href='jenkins-x'>Jenkins X &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
