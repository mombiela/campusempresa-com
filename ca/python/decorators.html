<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decoradors en Python</title>

    <link rel="alternate" href="https://campusempresa.com/es/python/decorators" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/python/decorators" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/python/decorators" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/python/decorators" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='custom-exceptions'>&#x25C4;Excepcions Personalitzades</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Decoradors en Python</a>
	</div>
	<div class='col-4 text-end'>
					<a href='generators'>Generadors &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció als Decoradors</h1>
<div class='content'><p>Els decoradors són una eina potent i útil en Python que et permet modificar el comportament d'una funció o una classe. Sovint s'utilitzen per afegir funcionalitat a codi existent d'una manera neta i llegible.</p>
<ul>
<li><strong>Definició</strong>: Un decorador és una funció que pren una altra funció i n'estén el comportament sense modificar-la explícitament.</li>
<li><strong>Sintaxi</strong>: Els decoradors normalment es defineixen amb la sintaxi <code>@nom_del_decorador</code> a sobre de la funció a decorar.</li>
</ul>
</div><h1>Exemple Bàsic de Decorador</h1>
<div class='content'><p>Comencem amb un exemple senzill per entendre com funcionen els decoradors.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIG15X2RlY29yYXRvcihmdW5jKToKICAgIGRlZiB3cmFwcGVyKCk6CiAgICAgICAgcHJpbnQoIkFsZ3VuYSBjb3NhIGVzdMOgIHBhc3NhbnQgYWJhbnMgcXVlIGVzIGNyaWRpIGxhIGZ1bmNpw7MuIikKICAgICAgICBmdW5jKCkKICAgICAgICBwcmludCgiQWxndW5hIGNvc2EgZXN0w6AgcGFzc2FudCBkZXNwcsOpcyBxdWUgZXMgY3JpZGkgbGEgZnVuY2nDsy4iKQogICAgcmV0dXJuIHdyYXBwZXIKCkBteV9kZWNvcmF0b3IKZGVmIHNheV9oZWxsbygpOgogICAgcHJpbnQoIkhvbGEhIikKCnNheV9oZWxsbygp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def my_decorator(func):
    def wrapper():
        print(&quot;Alguna cosa est&agrave; passant abans que es cridi la funci&oacute;.&quot;)
        func()
        print(&quot;Alguna cosa est&agrave; passant despr&eacute;s que es cridi la funci&oacute;.&quot;)
    return wrapper

@my_decorator
def say_hello():
    print(&quot;Hola!&quot;)

say_hello()</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>my_decorator</strong>: Aquesta és la funció decoradora. Pren una altra funció <code>func</code> com a argument.</li>
<li><strong>wrapper</strong>: Aquesta és una funció interna que afegeix algun comportament abans i després de cridar <code>func</code>.</li>
<li><strong>@my_decorator</strong>: Aquesta sintaxi aplica el decorador a la funció <code>say_hello</code>.</li>
<li><strong>say_hello()</strong>: Quan es crida aquesta funció, en realitat es crida la funció <code>wrapper</code> dins del decorador.</li>
</ul>
</div><h1>Ús de Decoradors amb Arguments</h1>
<div class='content'><p>Els decoradors també poden acceptar arguments. Això és útil quan necessites passar alguna configuració al decorador.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIHJlcGVhdChudW1fdGltZXMpOgogICAgZGVmIGRlY29yYXRvcl9yZXBlYXQoZnVuYyk6CiAgICAgICAgZGVmIHdyYXBwZXIoKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UobnVtX3RpbWVzKToKICAgICAgICAgICAgICAgIGZ1bmMoKmFyZ3MsICoqa3dhcmdzKQogICAgICAgIHJldHVybiB3cmFwcGVyCiAgICByZXR1cm4gZGVjb3JhdG9yX3JlcGVhdAoKQHJlcGVhdChudW1fdGltZXM9MykKZGVmIGdyZWV0KG5hbWUpOgogICAgcHJpbnQoZiJIb2xhLCB7bmFtZX0hIikKCmdyZWV0KCJBbGljZSIp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def repeat(num_times):
    def decorator_repeat(func):
        def wrapper(*args, **kwargs):
            for _ in range(num_times):
                func(*args, **kwargs)
        return wrapper
    return decorator_repeat

@repeat(num_times=3)
def greet(name):
    print(f&quot;Hola, {name}!&quot;)

greet(&quot;Alice&quot;)</pre></div><div class='content'></div><h2>Explicació</h2>
<div class='content'><ul>
<li><strong>repeat(num_times)</strong>: Aquesta és una fàbrica de decoradors que pren un argument i retorna un decorador.</li>
<li><strong>decorator_repeat(func)</strong>: Aquest és el decorador real.</li>
<li>**wrapper(*args, <strong>kwargs)</strong>: Aquesta funció interna crida la funció original <code>num_times</code> vegades.</li>
<li><strong>@repeat(num_times=3)</strong>: Això aplica el decorador amb l'argument <code>3</code> a la funció <code>greet</code>.</li>
</ul>
</div><h1>Decoradors Incorporats</h1>
<div class='content'><p>Python proporciona diversos decoradors incorporats, com ara <code>@staticmethod</code>, <code>@classmethod</code> i <code>@property</code>.</p>
</div><h2>@staticmethod i @classmethod</h2>
<div class='content'><p>Aquests decoradors s'utilitzen per definir mètodes dins d'una classe que no estan connectats a una instància particular de la classe.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgTXlDbGFzczoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBzdGF0aWNfbWV0aG9kKCk6CiAgICAgICAgcHJpbnQoIkFpeMOyIMOpcyB1biBtw6h0b2RlIGVzdMOgdGljLiIpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgY2xhc3NfbWV0aG9kKGNscyk6CiAgICAgICAgcHJpbnQoZiJBaXjDsiDDqXMgdW4gbcOodG9kZSBkZSBjbGFzc2UgZGUge2Nsc30uIikKCk15Q2xhc3Muc3RhdGljX21ldGhvZCgpCk15Q2xhc3MuY2xhc3NfbWV0aG9kKCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class MyClass:
    @staticmethod
    def static_method():
        print(&quot;Aix&ograve; &eacute;s un m&egrave;tode est&agrave;tic.&quot;)

    @classmethod
    def class_method(cls):
        print(f&quot;Aix&ograve; &eacute;s un m&egrave;tode de classe de {cls}.&quot;)

MyClass.static_method()
MyClass.class_method()</pre></div><div class='content'></div><h2>@property</h2>
<div class='content'><p>Aquest decorador s'utilitza per definir un mètode com una propietat, que es pot accedir com un atribut.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y2xhc3MgQ2lyY2xlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHJhZGl1cyk6CiAgICAgICAgc2VsZi5fcmFkaXVzID0gcmFkaXVzCgogICAgQHByb3BlcnR5CiAgICBkZWYgcmFkaXVzKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLl9yYWRpdXMKCiAgICBAcmFkaXVzLnNldHRlcgogICAgZGVmIHJhZGl1cyhzZWxmLCB2YWx1ZSk6CiAgICAgICAgaWYgdmFsdWUgPCAwOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJFbCByYWRpIG5vIHBvdCBzZXIgbmVnYXRpdSIpCiAgICAgICAgc2VsZi5fcmFkaXVzID0gdmFsdWUKCmMgPSBDaXJjbGUoNSkKcHJpbnQoYy5yYWRpdXMpICAjIEFjY2VkaW50IGEgbGEgcHJvcGlldGF0CmMucmFkaXVzID0gMTAgICAgIyBFc3RhYmxpbnQgbGEgcHJvcGlldGF0"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>class Circle:
    def __init__(self, radius):
        self._radius = radius

    @property
    def radius(self):
        return self._radius

    @radius.setter
    def radius(self, value):
        if value &lt; 0:
            raise ValueError(&quot;El radi no pot ser negatiu&quot;)
        self._radius = value

c = Circle(5)
print(c.radius)  # Accedint a la propietat
c.radius = 10    # Establint la propietat</pre></div><div class='content'></div><h1>Decoradors Avançats</h1>
<div class='content'><p>Els decoradors també es poden utilitzar per decorar classes i mètodes dins de classes.</p>
</div><h2>Decoradors de Classe</h2>
<div class='content'><p>Els decoradors de classe són similars als decoradors de funció però s'apliquen a classes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGFkZF9yZXByKGNscyk6CiAgICBjbHMuX19yZXByX18gPSBsYW1iZGEgc2VsZjogZiJ7c2VsZi5fX2NsYXNzX18uX19uYW1lX199KHtzZWxmLl9fZGljdF9ffSkiCiAgICByZXR1cm4gY2xzCgpAYWRkX3JlcHIKY2xhc3MgUGVyc29uOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIG5hbWUsIGFnZSk6CiAgICAgICAgc2VsZi5uYW1lID0gbmFtZQogICAgICAgIHNlbGYuYWdlID0gYWdlCgpwID0gUGVyc29uKCJBbGljZSIsIDMwKQpwcmludChwKQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def add_repr(cls):
    cls.__repr__ = lambda self: f&quot;{self.__class__.__name__}({self.__dict__})&quot;
    return cls

@add_repr
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age

p = Person(&quot;Alice&quot;, 30)
print(p)</pre></div><div class='content'></div><h2>Decoradors de Mètode</h2>
<div class='content'><p>També pots utilitzar decoradors per modificar mètodes dins d'una classe.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGxvZ19tZXRob2RfY2FsbChtZXRob2QpOgogICAgZGVmIHdyYXBwZXIoc2VsZiwgKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICBwcmludChmIkNyaWRhbnQgZWwgbcOodG9kZSB7bWV0aG9kLl9fbmFtZV9ffSIpCiAgICAgICAgcmV0dXJuIG1ldGhvZChzZWxmLCAqYXJncywgKiprd2FyZ3MpCiAgICByZXR1cm4gd3JhcHBlcgoKY2xhc3MgTXlDbGFzczoKICAgIEBsb2dfbWV0aG9kX2NhbGwKICAgIGRlZiBteV9tZXRob2Qoc2VsZik6CiAgICAgICAgcHJpbnQoIkVsIG3DqHRvZGUgaGEgZXN0YXQgY3JpZGF0IikKCm9iaiA9IE15Q2xhc3MoKQpvYmoubXlfbWV0aG9kKCk="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def log_method_call(method):
    def wrapper(self, *args, **kwargs):
        print(f&quot;Cridant el m&egrave;tode {method.__name__}&quot;)
        return method(self, *args, **kwargs)
    return wrapper

class MyClass:
    @log_method_call
    def my_method(self):
        print(&quot;El m&egrave;tode ha estat cridat&quot;)

obj = MyClass()
obj.my_method()</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Els decoradors són una característica versàtil i potent en Python que et permet modificar el comportament de funcions i classes d'una manera neta i llegible. Es poden utilitzar per a una varietat de propòsits, com ara registre, control d'accés, instrumentació, memòria cau i més. Entendre com crear i utilitzar decoradors de manera efectiva pot millorar molt les teves habilitats de programació en Python.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='custom-exceptions'>&#x25C4;Excepcions Personalitzades</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Decoradors en Python</a>
	</div>
	<div class='col-4 text-end'>
					<a href='generators'>Generadors &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
