<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serialització en Java</title>

    <link rel="alternate" href="https://campusempresa.com/es/java/serialization" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/java/serialization" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/java/serialization" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/java/serialization" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>La serialització és un concepte crucial en Java que et permet convertir un objecte en un flux de bytes, fent possible guardar l'objecte en un fitxer o transmetre'l per una xarxa. Aquest tema cobrirà els conceptes bàsics de la serialització, com implementar-la en Java, i conceptes avançats com la serialització personalitzada i els camps transitoris.</p>
</div><h1>Què és la Serialització?</h1>
<div class='content'><p>La serialització és el procés de convertir l'estat d'un objecte en un flux de bytes. Aquest flux de bytes es pot revertir després en una còpia de l'objecte. Això és particularment útil per a:</p>
<ul>
<li>Guardar l'estat d'un objecte en un fitxer.</li>
<li>Enviar objectes per una xarxa.</li>
<li>Clonació profunda d'objectes.</li>
</ul>
</div><h1>Conceptes Bàsics de la Serialització</h1>
<div class='content'></div><h2>Implementació de la Interfície Serializable</h2>
<div class='content'><p>Per fer una classe serialitzable, ha d'implementar la interfície <code>Serializable</code>. Aquesta és una interfície marcador, és a dir, no conté cap mètode.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOwoKcHVibGljIGNsYXNzIFBlcnNvbiBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZSB7CiAgICBwcml2YXRlIFN0cmluZyBuYW1lOwogICAgcHJpdmF0ZSBpbnQgYWdlOwoKICAgIHB1YmxpYyBQZXJzb24oU3RyaW5nIG5hbWUsIGludCBhZ2UpIHsKICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICAgIHRoaXMuYWdlID0gYWdlOwogICAgfQoKICAgIC8vIEdldHRlcnMgaSBzZXR0ZXJzCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.io.Serializable;

public class Person implements Serializable {
    private String name;
    private int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    // Getters i setters
}</pre></div><div class='content'></div><h2>Serialització d'un Objecte</h2>
<div class='content'><p>Per serialitzar un objecte, utilitzes <code>ObjectOutputStream</code> juntament amb <code>FileOutputStream</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEuaW8uRmlsZU91dHB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uT2JqZWN0T3V0cHV0U3RyZWFtOwppbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsKCnB1YmxpYyBjbGFzcyBTZXJpYWxpemVFeGFtcGxlIHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBQZXJzb24gcGVyc29uID0gbmV3IFBlcnNvbigiSm9obiBEb2UiLCAzMCk7CgogICAgICAgIHRyeSAoRmlsZU91dHB1dFN0cmVhbSBmaWxlT3V0ID0gbmV3IEZpbGVPdXRwdXRTdHJlYW0oInBlcnNvbi5zZXIiKTsKICAgICAgICAgICAgIE9iamVjdE91dHB1dFN0cmVhbSBvdXQgPSBuZXcgT2JqZWN0T3V0cHV0U3RyZWFtKGZpbGVPdXQpKSB7CiAgICAgICAgICAgIG91dC53cml0ZU9iamVjdChwZXJzb24pOwogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkxlcyBkYWRlcyBzZXJpYWxpdHphZGVzIGVzIGd1YXJkZW4gYSBwZXJzb24uc2VyIik7CiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gaSkgewogICAgICAgICAgICBpLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.io.FileOutputStream;
import java.io.ObjectOutputStream;
import java.io.IOException;

public class SerializeExample {
    public static void main(String[] args) {
        Person person = new Person(&quot;John Doe&quot;, 30);

        try (FileOutputStream fileOut = new FileOutputStream(&quot;person.ser&quot;);
             ObjectOutputStream out = new ObjectOutputStream(fileOut)) {
            out.writeObject(person);
            System.out.println(&quot;Les dades serialitzades es guarden a person.ser&quot;);
        } catch (IOException i) {
            i.printStackTrace();
        }
    }
}</pre></div><div class='content'></div><h2>Deserialització d'un Objecte</h2>
<div class='content'><p>Per deserialitzar un objecte, utilitzes <code>ObjectInputStream</code> juntament amb <code>FileInputStream</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEuaW8uRmlsZUlucHV0U3RyZWFtOwppbXBvcnQgamF2YS5pby5PYmplY3RJbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CgpwdWJsaWMgY2xhc3MgRGVzZXJpYWxpemVFeGFtcGxlIHsKICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHsKICAgICAgICBQZXJzb24gcGVyc29uID0gbnVsbDsKCiAgICAgICAgdHJ5IChGaWxlSW5wdXRTdHJlYW0gZmlsZUluID0gbmV3IEZpbGVJbnB1dFN0cmVhbSgicGVyc29uLnNlciIpOwogICAgICAgICAgICAgT2JqZWN0SW5wdXRTdHJlYW0gaW4gPSBuZXcgT2JqZWN0SW5wdXRTdHJlYW0oZmlsZUluKSkgewogICAgICAgICAgICBwZXJzb24gPSAoUGVyc29uKSBpbi5yZWFkT2JqZWN0KCk7CiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiUGVyc29uYSBkZXNlcmlhbGl0emFkYS4uLiIpOwogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIk5vbTogIiArIHBlcnNvbi5nZXROYW1lKCkpOwogICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIkVkYXQ6ICIgKyBwZXJzb24uZ2V0QWdlKCkpOwogICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIHwgQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiBpKSB7CiAgICAgICAgICAgIGkucHJpbnRTdGFja1RyYWNlKCk7CiAgICAgICAgfQogICAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.io.FileInputStream;
import java.io.ObjectInputStream;
import java.io.IOException;

public class DeserializeExample {
    public static void main(String[] args) {
        Person person = null;

        try (FileInputStream fileIn = new FileInputStream(&quot;person.ser&quot;);
             ObjectInputStream in = new ObjectInputStream(fileIn)) {
            person = (Person) in.readObject();
            System.out.println(&quot;Persona deserialitzada...&quot;);
            System.out.println(&quot;Nom: &quot; + person.getName());
            System.out.println(&quot;Edat: &quot; + person.getAge());
        } catch (IOException | ClassNotFoundException i) {
            i.printStackTrace();
        }
    }
}</pre></div><div class='content'></div><h1>Conceptes Avançats de la Serialització</h1>
<div class='content'></div><h2>Camps Transitoris</h2>
<div class='content'><p>Els camps marcats com a <code>transient</code> no es serialitzen. Això és útil per a informació sensible com les contrasenyes.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOwoKcHVibGljIGNsYXNzIFVzZXIgaW1wbGVtZW50cyBTZXJpYWxpemFibGUgewogICAgcHJpdmF0ZSBTdHJpbmcgdXNlcm5hbWU7CiAgICBwcml2YXRlIHRyYW5zaWVudCBTdHJpbmcgcGFzc3dvcmQ7CgogICAgcHVibGljIFVzZXIoU3RyaW5nIHVzZXJuYW1lLCBTdHJpbmcgcGFzc3dvcmQpIHsKICAgICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7CiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkOwogICAgfQoKICAgIC8vIEdldHRlcnMgaSBzZXR0ZXJzCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.io.Serializable;

public class User implements Serializable {
    private String username;
    private transient String password;

    public User(String username, String password) {
        this.username = username;
        this.password = password;
    }

    // Getters i setters
}</pre></div><div class='content'></div><h2>Serialització Personalitzada</h2>
<div class='content'><p>Pots personalitzar el procés de serialització implementant els mètodes <code>writeObject</code> i <code>readObject</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBqYXZhLmlvLk9iamVjdElucHV0U3RyZWFtOwppbXBvcnQgamF2YS5pby5PYmplY3RPdXRwdXRTdHJlYW07CmltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsKCnB1YmxpYyBjbGFzcyBFbXBsb3llZSBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZSB7CiAgICBwcml2YXRlIFN0cmluZyBuYW1lOwogICAgcHJpdmF0ZSBpbnQgaWQ7CgogICAgcHVibGljIEVtcGxveWVlKFN0cmluZyBuYW1lLCBpbnQgaWQpIHsKICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICAgIHRoaXMuaWQgPSBpZDsKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgd3JpdGVPYmplY3QoT2JqZWN0T3V0cHV0U3RyZWFtIG9vcykgdGhyb3dzIElPRXhjZXB0aW9uIHsKICAgICAgICBvb3MuZGVmYXVsdFdyaXRlT2JqZWN0KCk7CiAgICAgICAgb29zLndyaXRlSW50KGlkICsgMTAwMCk7IC8vIEzDsmdpY2EgcGVyc29uYWxpdHphZGEKICAgIH0KCiAgICBwcml2YXRlIHZvaWQgcmVhZE9iamVjdChPYmplY3RJbnB1dFN0cmVhbSBvaXMpIHRocm93cyBJT0V4Y2VwdGlvbiwgQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiB7CiAgICAgICAgb2lzLmRlZmF1bHRSZWFkT2JqZWN0KCk7CiAgICAgICAgaWQgPSBvaXMucmVhZEludCgpIC0gMTAwMDsgLy8gTMOyZ2ljYSBwZXJzb25hbGl0emFkYQogICAgfQoKICAgIC8vIEdldHRlcnMgaSBzZXR0ZXJzCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;

public class Employee implements Serializable {
    private String name;
    private int id;

    public Employee(String name, int id) {
        this.name = name;
        this.id = id;
    }

    private void writeObject(ObjectOutputStream oos) throws IOException {
        oos.defaultWriteObject();
        oos.writeInt(id + 1000); // L&ograve;gica personalitzada
    }

    private void readObject(ObjectInputStream ois) throws IOException, ClassNotFoundException {
        ois.defaultReadObject();
        id = ois.readInt() - 1000; // L&ograve;gica personalitzada
    }

    // Getters i setters
}</pre></div><div class='content'></div><h1>Resum</h1>
<div class='content'><p>La serialització en Java és una característica poderosa que et permet guardar i transmetre objectes fàcilment. Implementant la interfície <code>Serializable</code>, pots convertir objectes en fluxos de bytes i viceversa. Conceptes avançats com els camps transitoris i els mètodes de serialització personalitzada proporcionen un control addicional sobre el procés de serialització. Entendre aquests conceptes és essencial per desenvolupar aplicacions robustes en Java que requereixen persistència d'objectes i transmissió de dades.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
