<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestió de l'Estat en Swift</title>

    <link rel="alternate" href="https://campusempresa.com/es/swift/state-management" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/swift/state-management" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/swift/state-management" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/swift/state-management" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>La gestió de l'estat és un concepte crucial en el desenvolupament de programari, especialment quan es tracta d'interfícies d'usuari i flux de dades. En Swift, la gestió de l'estat implica manejar l'estat d'una aplicació o un component de manera que asseguri consistència, predictibilitat i facilitat de depuració. Aquest tema cobrirà la gestió de l'estat des d'un nivell principiant fins a un nivell avançat.</p>
</div><h1>Introducció a la Gestió de l'Estat</h1>
<div class='content'><p>La gestió de l'estat es refereix a la pràctica de gestionar l'estat d'una aplicació o component. L'estat és qualsevol dada que pot canviar amb el temps, com les entrades de l'usuari, dades recuperades o elements de la interfície d'usuari.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Estat</strong>: Els valors actuals de les variables o propietats que determinen el comportament i l'aparença d'una aplicació.</li>
<li><strong>Estat Immutable</strong>: Estat que no es pot canviar un cop creat.</li>
<li><strong>Estat Mutable</strong>: Estat que es pot canviar després de ser creat.</li>
<li><strong>Patrons de Gestió de l'Estat</strong>: Tècniques i patrons utilitzats per gestionar l'estat, com MVC, MVVM i Redux.</li>
</ul>
</div><h1>Gestió de l'Estat en SwiftUI</h1>
<div class='content'><p>SwiftUI, el framework declaratiu d'Apple per construir interfícies d'usuari, introdueix una nova manera de gestionar l'estat.</p>
</div><h2>@State Property Wrapper</h2>
<div class='content'><p>El <code>@State</code> property wrapper s'utilitza per declarar variables d'estat en SwiftUI. Aquestes variables són mutables i SwiftUI actualitza automàticament la interfície d'usuari quan els seus valors canvien.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN3aWZ0VUkKCnN0cnVjdCBDb250ZW50VmlldzogVmlldyB7CiAgICBAU3RhdGUgcHJpdmF0ZSB2YXIgY291bnRlcjogSW50ID0gMAoKICAgIHZhciBib2R5OiBzb21lIFZpZXcgewogICAgICAgIFZTdGFjayB7CiAgICAgICAgICAgIFRleHQoIkNvdW50ZXI6IFwoY291bnRlcikiKQogICAgICAgICAgICBCdXR0b24oYWN0aW9uOiB7CiAgICAgICAgICAgICAgICBjb3VudGVyICs9IDEKICAgICAgICAgICAgfSkgewogICAgICAgICAgICAgICAgVGV4dCgiSW5jcmVtZW50IikKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import SwiftUI

struct ContentView: View {
    @State private var counter: Int = 0

    var body: some View {
        VStack {
            Text(&quot;Counter: \(counter)&quot;)
            Button(action: {
                counter += 1
            }) {
                Text(&quot;Increment&quot;)
            }
        }
    }
}</pre></div><div class='content'></div><h2>@Binding Property Wrapper</h2>
<div class='content'><p>El <code>@Binding</code> property wrapper s'utilitza per crear una connexió bidireccional entre una variable d'estat i una vista que necessita llegir i escriure aquest estat.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN3aWZ0VUkKCnN0cnVjdCBQYXJlbnRWaWV3OiBWaWV3IHsKICAgIEBTdGF0ZSBwcml2YXRlIHZhciBjb3VudGVyOiBJbnQgPSAwCgogICAgdmFyIGJvZHk6IHNvbWUgVmlldyB7CiAgICAgICAgQ2hpbGRWaWV3KGNvdW50ZXI6ICRjb3VudGVyKQogICAgfQp9CgpzdHJ1Y3QgQ2hpbGRWaWV3OiBWaWV3IHsKICAgIEBCaW5kaW5nIHZhciBjb3VudGVyOiBJbnQKCiAgICB2YXIgYm9keTogc29tZSBWaWV3IHsKICAgICAgICBWU3RhY2sgewogICAgICAgICAgICBUZXh0KCJDb3VudGVyOiBcKGNvdW50ZXIpIikKICAgICAgICAgICAgQnV0dG9uKGFjdGlvbjogewogICAgICAgICAgICAgICAgY291bnRlciArPSAxCiAgICAgICAgICAgIH0pIHsKICAgICAgICAgICAgICAgIFRleHQoIkluY3JlbWVudCIpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import SwiftUI

struct ParentView: View {
    @State private var counter: Int = 0

    var body: some View {
        ChildView(counter: $counter)
    }
}

struct ChildView: View {
    @Binding var counter: Int

    var body: some View {
        VStack {
            Text(&quot;Counter: \(counter)&quot;)
            Button(action: {
                counter += 1
            }) {
                Text(&quot;Increment&quot;)
            }
        }
    }
}</pre></div><div class='content'></div><h2>@ObservedObject i @EnvironmentObject</h2>
<div class='content'><p>Per a una gestió de l'estat més complexa, SwiftUI proporciona <code>@ObservedObject</code> i <code>@EnvironmentObject</code>.</p>
<ul>
<li><strong>@ObservedObject</strong>: S'utilitza per observar un objecte que conforma el protocol <code>ObservableObject</code>.</li>
<li><strong>@EnvironmentObject</strong>: S'utilitza per compartir l'estat a través de moltes vistes en una jerarquia de SwiftUI.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFN3aWZ0VUkKaW1wb3J0IENvbWJpbmUKCmNsYXNzIENvdW50ZXJNb2RlbDogT2JzZXJ2YWJsZU9iamVjdCB7CiAgICBAUHVibGlzaGVkIHZhciBjb3VudGVyOiBJbnQgPSAwCn0KCnN0cnVjdCBQYXJlbnRWaWV3OiBWaWV3IHsKICAgIEBTdGF0ZU9iamVjdCBwcml2YXRlIHZhciBtb2RlbCA9IENvdW50ZXJNb2RlbCgpCgogICAgdmFyIGJvZHk6IHNvbWUgVmlldyB7CiAgICAgICAgQ2hpbGRWaWV3KG1vZGVsOiBtb2RlbCkKICAgIH0KfQoKc3RydWN0IENoaWxkVmlldzogVmlldyB7CiAgICBAT2JzZXJ2ZWRPYmplY3QgdmFyIG1vZGVsOiBDb3VudGVyTW9kZWwKCiAgICB2YXIgYm9keTogc29tZSBWaWV3IHsKICAgICAgICBWU3RhY2sgewogICAgICAgICAgICBUZXh0KCJDb3VudGVyOiBcKG1vZGVsLmNvdW50ZXIpIikKICAgICAgICAgICAgQnV0dG9uKGFjdGlvbjogewogICAgICAgICAgICAgICAgbW9kZWwuY291bnRlciArPSAxCiAgICAgICAgICAgIH0pIHsKICAgICAgICAgICAgICAgIFRleHQoIkluY3JlbWVudCIpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import SwiftUI
import Combine

class CounterModel: ObservableObject {
    @Published var counter: Int = 0
}

struct ParentView: View {
    @StateObject private var model = CounterModel()

    var body: some View {
        ChildView(model: model)
    }
}

struct ChildView: View {
    @ObservedObject var model: CounterModel

    var body: some View {
        VStack {
            Text(&quot;Counter: \(model.counter)&quot;)
            Button(action: {
                model.counter += 1
            }) {
                Text(&quot;Increment&quot;)
            }
        }
    }
}</pre></div><div class='content'></div><h1>Gestió Avançada de l'Estat</h1>
<div class='content'><p>Per a aplicacions més grans, poden ser necessàries tècniques de gestió de l'estat més sofisticades.</p>
</div><h2>Patró Redux</h2>
<div class='content'><p>El patró Redux és un contenidor d'estat predictible per a aplicacions Swift. Implica accions, reductors i una única font de veritat (la botiga).</p>
<h4>Conceptes Clau</h4>
<ul>
<li><strong>Accions</strong>: Descriuen canvis en l'estat.</li>
<li><strong>Reductors</strong>: Funcions pures que prenen l'estat actual i una acció, i retornen un nou estat.</li>
<li><strong>Botiga</strong>: Conté tot l'estat de l'aplicació.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IENvbWJpbmUKCi8vIEFjY2nDswpzdHJ1Y3QgSW5jcmVtZW50QWN0aW9uIHt9CgovLyBFc3RhdApzdHJ1Y3QgQXBwU3RhdGUgewogICAgdmFyIGNvdW50ZXI6IEludCA9IDAKfQoKLy8gUmVkdWN0b3IKZnVuYyBhcHBSZWR1Y2VyKHN0YXRlOiBBcHBTdGF0ZSwgYWN0aW9uOiBJbmNyZW1lbnRBY3Rpb24pIC0+IEFwcFN0YXRlIHsKICAgIHZhciBzdGF0ZSA9IHN0YXRlCiAgICBzdGF0ZS5jb3VudGVyICs9IDEKICAgIHJldHVybiBzdGF0ZQp9CgovLyBCb3RpZ2EKY2xhc3MgU3RvcmU6IE9ic2VydmFibGVPYmplY3QgewogICAgQFB1Ymxpc2hlZCBwcml2YXRlKHNldCkgdmFyIHN0YXRlOiBBcHBTdGF0ZQoKICAgIGluaXQoaW5pdGlhbFN0YXRlOiBBcHBTdGF0ZSkgewogICAgICAgIHNlbGYuc3RhdGUgPSBpbml0aWFsU3RhdGUKICAgIH0KCiAgICBmdW5jIGRpc3BhdGNoKGFjdGlvbjogSW5jcmVtZW50QWN0aW9uKSB7CiAgICAgICAgc3RhdGUgPSBhcHBSZWR1Y2VyKHN0YXRlOiBzdGF0ZSwgYWN0aW9uOiBhY3Rpb24pCiAgICB9Cn0KCi8vIMOacyBlbiBTd2lmdFVJCnN0cnVjdCBDb250ZW50VmlldzogVmlldyB7CiAgICBAU3RhdGVPYmplY3QgcHJpdmF0ZSB2YXIgc3RvcmUgPSBTdG9yZShpbml0aWFsU3RhdGU6IEFwcFN0YXRlKCkpCgogICAgdmFyIGJvZHk6IHNvbWUgVmlldyB7CiAgICAgICAgVlN0YWNrIHsKICAgICAgICAgICAgVGV4dCgiQ291bnRlcjogXChzdG9yZS5zdGF0ZS5jb3VudGVyKSIpCiAgICAgICAgICAgIEJ1dHRvbihhY3Rpb246IHsKICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbjogSW5jcmVtZW50QWN0aW9uKCkpCiAgICAgICAgICAgIH0pIHsKICAgICAgICAgICAgICAgIFRleHQoIkluY3JlbWVudCIpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import Combine

// Acci&oacute;
struct IncrementAction {}

// Estat
struct AppState {
    var counter: Int = 0
}

// Reductor
func appReducer(state: AppState, action: IncrementAction) -&gt; AppState {
    var state = state
    state.counter += 1
    return state
}

// Botiga
class Store: ObservableObject {
    @Published private(set) var state: AppState

    init(initialState: AppState) {
        self.state = initialState
    }

    func dispatch(action: IncrementAction) {
        state = appReducer(state: state, action: action)
    }
}

// &Uacute;s en SwiftUI
struct ContentView: View {
    @StateObject private var store = Store(initialState: AppState())

    var body: some View {
        VStack {
            Text(&quot;Counter: \(store.state.counter)&quot;)
            Button(action: {
                store.dispatch(action: IncrementAction())
            }) {
                Text(&quot;Increment&quot;)
            }
        }
    }
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>La gestió de l'estat és un aspecte essencial per construir aplicacions robustes i mantenibles en Swift. Des de la gestió simple de l'estat amb <code>@State</code> i <code>@Binding</code> en SwiftUI fins a patrons més complexos com Redux, entendre com gestionar l'estat de manera efectiva pot millorar significativament el teu flux de treball de desenvolupament i l'arquitectura de l'aplicació. En dominar aquests conceptes, estaràs ben equipat per manejar la naturalesa dinàmica del desenvolupament d'aplicacions modernes.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
