<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Injecció de Dependències en Angular 2+</title>

    <link rel="alternate" href="https://campusempresa.com/es/angular2/dependency-injection" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/angular2/dependency-injection" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/angular2/dependency-injection" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/angular2/dependency-injection" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-and-using-services'>&#x25C4;Creació i ús de serveis</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Injecció de Dependències en Angular 2+</a>
	</div>
	<div class='col-4 text-end'>
					<a href='hierarchical-injectors'>Injeccions jeràrquiques &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció a la Injecció de Dependències</h1>
<div class='content'><p>La Injecció de Dependències (DI) és un patró de disseny utilitzat per implementar IoC (Inversió de Control), permetent que una classe rebi les seves dependències d'una font externa en lloc de crear-les ella mateixa. El sistema de DI d'Angular és una part central del marc, facilitant la gestió de dependències i promovent la reutilització i la testabilitat del codi.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Injector</strong>: El mecanisme que resol les dependències i proporciona instàncies de serveis.</li>
<li><strong>Provider</strong>: Una manera de dir-li a l'injector com crear la dependència.</li>
<li><strong>Service</strong>: Una classe que proporciona funcionalitat per ser utilitzada a través de l'aplicació.</li>
<li><strong>Dependency</strong>: Un objecte que una classe necessita per realitzar la seva funció.</li>
</ul>
</div><h1>Configurant un Servei</h1>
<div class='content'><p>Per demostrar DI, crearem un servei senzill i l'injectarem en un component.</p>
</div><h2>Creant un Servei</h2>
<div class='content'><p>Primer, crea un servei utilitzant Angular CLI:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("bmcgZ2VuZXJhdGUgc2VydmljZSBleGFtcGxl"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>ng generate service example</pre></div><div class='content'><p>Aquesta comanda genera un fitxer de servei <code>example.service.ts</code>:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwoKQEluamVjdGFibGUoewogIHByb3ZpZGVkSW46ICdyb290JywKfSkKZXhwb3J0IGNsYXNzIEV4YW1wbGVTZXJ2aWNlIHsKICBjb25zdHJ1Y3RvcigpIHt9CgogIGdldE1lc3NhZ2UoKTogc3RyaW5nIHsKICAgIHJldHVybiAnSGVsbG8gZnJvbSBFeGFtcGxlU2VydmljZSEnOwogIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root',
})
export class ExampleService {
  constructor() {}

  getMessage(): string {
    return 'Hello from ExampleService!';
  }
}</pre></div><div class='content'></div><h2>Injectant el Servei en un Component</h2>
<div class='content'><p>A continuació, injecta el <code>ExampleService</code> en un component.</p>
<ol>
<li>Obre el fitxer del component, per exemple, <code>app.component.ts</code>.</li>
<li>Importa el <code>ExampleService</code>.</li>
<li>Injecta el servei a través del constructor.</li>
</ol>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgRXhhbXBsZVNlcnZpY2UgfSBmcm9tICcuL2V4YW1wbGUuc2VydmljZSc7CgpAQ29tcG9uZW50KHsKICBzZWxlY3RvcjogJ2FwcC1yb290JywKICB0ZW1wbGF0ZVVybDogJy4vYXBwLmNvbXBvbmVudC5odG1sJywKICBzdHlsZVVybHM6IFsnLi9hcHAuY29tcG9uZW50LmNzcyddCn0pCmV4cG9ydCBjbGFzcyBBcHBDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQgewogIG1lc3NhZ2U6IHN0cmluZzsKCiAgY29uc3RydWN0b3IocHJpdmF0ZSBleGFtcGxlU2VydmljZTogRXhhbXBsZVNlcnZpY2UpIHt9CgogIG5nT25Jbml0KCkgewogICAgdGhpcy5tZXNzYWdlID0gdGhpcy5leGFtcGxlU2VydmljZS5nZXRNZXNzYWdlKCk7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Component, OnInit } from '@angular/core';
import { ExampleService } from './example.service';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent implements OnInit {
  message: string;

  constructor(private exampleService: ExampleService) {}

  ngOnInit() {
    this.message = this.exampleService.getMessage();
  }
}</pre></div><div class='content'></div><h2>Mostrant el Missatge en la Plantilla</h2>
<div class='content'><p>Actualitza el fitxer de plantilla <code>app.component.html</code> per mostrar el missatge:</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("PGRpdj4KICB7eyBtZXNzYWdlIH19CjwvZGl2Pg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>&lt;div&gt;
  {{ message }}
&lt;/div&gt;</pre></div><div class='content'></div><h1>Injecció de Dependències Avançada</h1>
<h2>Injectors Jeràrquics</h2>
<div class='content'><p>El sistema de DI d'Angular és jeràrquic, el que significa que els injectors poden estar niats. Això permet que diferents instàncies d'un servei es proporcionin a diferents nivells de l'aplicació.</p>
<ul>
<li><strong>Injector Root</strong>: Proporciona serveis a nivell d'aplicació.</li>
<li><strong>Injector de Component</strong>: Proporciona serveis específics per a un component i els seus fills.</li>
</ul>
</div><h2>Proveint Serveis en un Mòdul</h2>
<div class='content'><p>Pots proporcionar serveis a nivell de mòdul per controlar el seu abast.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsKaW1wb3J0IHsgQnJvd3Nlck1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInOwppbXBvcnQgeyBBcHBDb21wb25lbnQgfSBmcm9tICcuL2FwcC5jb21wb25lbnQnOwppbXBvcnQgeyBFeGFtcGxlU2VydmljZSB9IGZyb20gJy4vZXhhbXBsZS5zZXJ2aWNlJzsKCkBOZ01vZHVsZSh7CiAgZGVjbGFyYXRpb25zOiBbQXBwQ29tcG9uZW50XSwKICBpbXBvcnRzOiBbQnJvd3Nlck1vZHVsZV0sCiAgcHJvdmlkZXJzOiBbRXhhbXBsZVNlcnZpY2VdLAogIGJvb3RzdHJhcDogW0FwcENvbXBvbmVudF0KfSkKZXhwb3J0IGNsYXNzIEFwcE1vZHVsZSB7fQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';
import { ExampleService } from './example.service';

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule],
  providers: [ExampleService],
  bootstrap: [AppComponent]
})
export class AppModule {}</pre></div><div class='content'></div><h2>Utilitzant `@Inject` i `@Optional`</h2>
<div class='content'><p>De vegades necessites més control sobre com es injecten les dependències.</p>
<ul>
<li><strong><code>@Inject</code></strong>: Especifica explícitament la dependència a injectar.</li>
<li><strong><code>@Optional</code></strong>: Permet que una dependència sigui opcional.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3QsIE9wdGlvbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CmltcG9ydCB7IEV4YW1wbGVTZXJ2aWNlIH0gZnJvbSAnLi9leGFtcGxlLnNlcnZpY2UnOwoKQENvbXBvbmVudCh7CiAgc2VsZWN0b3I6ICdhcHAtcm9vdCcsCiAgdGVtcGxhdGVVcmw6ICcuL2FwcC5jb21wb25lbnQuaHRtbCcsCiAgc3R5bGVVcmxzOiBbJy4vYXBwLmNvbXBvbmVudC5jc3MnXQp9KQpleHBvcnQgY2xhc3MgQXBwQ29tcG9uZW50IHsKICBjb25zdHJ1Y3RvcihAT3B0aW9uYWwoKSBASW5qZWN0KEV4YW1wbGVTZXJ2aWNlKSBwcml2YXRlIGV4YW1wbGVTZXJ2aWNlOiBFeGFtcGxlU2VydmljZSkgewogICAgaWYgKHRoaXMuZXhhbXBsZVNlcnZpY2UpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5leGFtcGxlU2VydmljZS5nZXRNZXNzYWdlKCkpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5sb2coJ0V4YW1wbGVTZXJ2aWNlIGlzIG5vdCBhdmFpbGFibGUnKTsKICAgIH0KICB9Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Component, Inject, Optional } from '@angular/core';
import { ExampleService } from './example.service';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  constructor(@Optional() @Inject(ExampleService) private exampleService: ExampleService) {
    if (this.exampleService) {
      console.log(this.exampleService.getMessage());
    } else {
      console.log('ExampleService is not available');
    }
  }
}</pre></div><div class='content'></div><h1>Resum</h1>
<div class='content'><p>La Injecció de Dependències és un patró poderós que Angular utilitza per gestionar les dependències de manera eficient. Comprenent i utilitzant el sistema de DI d'Angular, pots crear aplicacions més modulars, testables i mantenibles. Els punts clau inclouen:</p>
<ul>
<li><strong>Injector</strong>: Gestiona la creació i provisió de dependències.</li>
<li><strong>Provider</strong>: Configura com es creen les dependències.</li>
<li><strong>Service</strong>: Una classe reutilitzable que proporciona funcionalitat.</li>
<li><strong>Injectors Jeràrquics</strong>: Permeten diferents instàncies de serveis a diferents nivells.</li>
</ul>
<p>Dominar la DI en Angular millorarà significativament la teva capacitat per construir aplicacions robustes.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='creating-and-using-services'>&#x25C4;Creació i ús de serveis</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Injecció de Dependències en Angular 2+</a>
	</div>
	<div class='col-4 text-end'>
					<a href='hierarchical-injectors'>Injeccions jeràrquiques &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
