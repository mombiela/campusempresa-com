<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestió d'Errors en Angular 2+</title>

    <link rel="alternate" href="https://campusempresa.com/es/angular2/error-handling" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/angular2/error-handling" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/angular2/error-handling" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/angular2/error-handling" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>La gestió d'errors és un aspecte crucial de qualsevol aplicació, assegurant que la teva app pugui gestionar situacions inesperades de manera elegant i proporcionar retroalimentació significativa als usuaris. En aquesta secció, cobrirem la gestió d'errors en Angular 2+ des de nivells bàsics fins a avançats.</p>
</div><h1>Introducció a la Gestió d'Errors</h1>
<div class='content'><p>La gestió d'errors en Angular implica capturar i gestionar errors que es produeixen durant l'execució de la teva aplicació. Això pot incloure errors en sol·licituds HTTP, lògica de components, i més.</p>
</div><h2>Conceptes Clau</h2>
<div class='content'><ul>
<li><strong>Tipus d'Errors</strong>: Entendre els diferents tipus d'errors (per exemple, errors de temps d'execució, errors HTTP).</li>
<li><strong>Estratègies de Gestió d'Errors</strong>: Aprendre diverses estratègies per gestionar errors de manera efectiva.</li>
<li><strong>Mecanismes de Gestió d'Errors d'Angular</strong>: Explorar els mecanismes integrats d'Angular per a la gestió d'errors.</li>
</ul>
</div><h1>Gestió Bàsica d'Errors</h1>
<div class='content'></div><h2>Blocs Try-Catch</h2>
<div class='content'><p>La forma més simple de gestió d'errors en JavaScript és utilitzar blocs try-catch. Això es pot utilitzar en components i serveis d'Angular.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("dHJ5IHsKICAvLyBDb2RpIHF1ZSBwb3QgbGxhbsOnYXIgdW4gZXJyb3IKfSBjYXRjaCAoZXJyb3IpIHsKICBjb25zb2xlLmVycm9yKCdTJ2hhIHByb2R1w690IHVuIGVycm9yOicsIGVycm9yKTsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>try {
  // Codi que pot llan&ccedil;ar un error
} catch (error) {
  console.error('S'ha produ&iuml;t un error:', error);
}</pre></div><div class='content'></div><h2>Gestió d'Errors HTTP</h2>
<div class='content'><p>Quan es fan sol·licituds HTTP utilitzant HttpClient d'Angular, pots gestionar errors utilitzant l'operador <code>catchError</code> de RxJS.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJzsKaW1wb3J0IHsgY2F0Y2hFcnJvciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJzsKaW1wb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnOwoKY29uc3RydWN0b3IocHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50KSB7fQoKZ2V0RGF0YSgpIHsKICB0aGlzLmh0dHAuZ2V0KCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhJykKICAgIC5waXBlKAogICAgICBjYXRjaEVycm9yKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBIVFRQOicsIGVycm9yKTsKICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihlcnJvcik7CiAgICAgIH0pCiAgICApCiAgICAuc3Vic2NyaWJlKAogICAgICBkYXRhID0+IGNvbnNvbGUubG9nKCdEYWRlczonLCBkYXRhKSwKICAgICAgZXJyb3IgPT4gY29uc29sZS5lcnJvcignRXJyb3IgZGUgU3Vic2NyaXBjacOzOicsIGVycm9yKQogICAgKTsKfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { HttpClient } from '@angular/common/http';
import { catchError } from 'rxjs/operators';
import { throwError } from 'rxjs';

constructor(private http: HttpClient) {}

getData() {
  this.http.get('https://api.example.com/data')
    .pipe(
      catchError(error =&gt; {
        console.error('Error HTTP:', error);
        return throwError(error);
      })
    )
    .subscribe(
      data =&gt; console.log('Dades:', data),
      error =&gt; console.error('Error de Subscripci&oacute;:', error)
    );
}</pre></div><div class='content'></div><h1>Gestió Intermèdia d'Errors</h1>
<div class='content'></div><h2>Gestió Global d'Errors</h2>
<div class='content'><p>Angular proporciona una manera de gestionar errors globalment utilitzant la classe <code>ErrorHandler</code>. Pots crear un gestor d'errors personalitzat estenent aquesta classe.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgRXJyb3JIYW5kbGVyLCBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CgpASW5qZWN0YWJsZSgpCmV4cG9ydCBjbGFzcyBHbG9iYWxFcnJvckhhbmRsZXIgaW1wbGVtZW50cyBFcnJvckhhbmRsZXIgewogIGhhbmRsZUVycm9yKGVycm9yOiBhbnkpOiB2b2lkIHsKICAgIC8vIEdlc3Rpb25hIGwnZXJyb3IgYXF1w60KICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIEdsb2JhbDonLCBlcnJvcik7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { ErrorHandler, Injectable } from '@angular/core';

@Injectable()
export class GlobalErrorHandler implements ErrorHandler {
  handleError(error: any): void {
    // Gestiona l'error aqu&iacute;
    console.error('Error Global:', error);
  }
}</pre></div><div class='content'><p>Per utilitzar aquest gestor d'errors global, proporciona'l en el teu mòdul d'aplicació.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgTmdNb2R1bGUsIEVycm9ySGFuZGxlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBHbG9iYWxFcnJvckhhbmRsZXIgfSBmcm9tICcuL2dsb2JhbC1lcnJvci1oYW5kbGVyJzsKCkBOZ01vZHVsZSh7CiAgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBFcnJvckhhbmRsZXIsIHVzZUNsYXNzOiBHbG9iYWxFcnJvckhhbmRsZXIgfV0KfSkKZXhwb3J0IGNsYXNzIEFwcE1vZHVsZSB7fQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { NgModule, ErrorHandler } from '@angular/core';
import { GlobalErrorHandler } from './global-error-handler';

@NgModule({
  providers: [{ provide: ErrorHandler, useClass: GlobalErrorHandler }]
})
export class AppModule {}</pre></div><div class='content'></div><h2>Pàgines d'Error Personalitzades</h2>
<div class='content'><p>Pots crear pàgines d'error personalitzades per proporcionar una millor experiència d'usuari quan es produeix un error.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gZXJyb3ItcGFnZS5jb21wb25lbnQudHMKaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CgpAQ29tcG9uZW50KHsKICBzZWxlY3RvcjogJ2FwcC1lcnJvci1wYWdlJywKICB0ZW1wbGF0ZTogYDxoMT5TJ2hhIHByb2R1w690IHVuIGVycm9yPC9oMT48cD5TaSB1cyBwbGF1LCBpbnRlbnRhLWhvIG3DqXMgdGFyZC48L3A+YAp9KQpleHBvcnQgY2xhc3MgRXJyb3JQYWdlQ29tcG9uZW50IHt9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// error-page.component.ts
import { Component } from '@angular/core';

@Component({
  selector: 'app-error-page',
  template: `&lt;h1&gt;S'ha produ&iuml;t un error&lt;/h1&gt;&lt;p&gt;Si us plau, intenta-ho m&eacute;s tard.&lt;/p&gt;`
})
export class ErrorPageComponent {}</pre></div><div class='content'><p>Després, configura les teves rutes per mostrar la pàgina d'error.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgUm91dGVyTW9kdWxlLCBSb3V0ZXMgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInOwppbXBvcnQgeyBFcnJvclBhZ2VDb21wb25lbnQgfSBmcm9tICcuL2Vycm9yLXBhZ2UvZXJyb3ItcGFnZS5jb21wb25lbnQnOwoKY29uc3Qgcm91dGVzOiBSb3V0ZXMgPSBbCiAgLy8gQWx0cmVzIHJ1dGVzCiAgeyBwYXRoOiAnZXJyb3InLCBjb21wb25lbnQ6IEVycm9yUGFnZUNvbXBvbmVudCB9LAogIHsgcGF0aDogJyoqJywgcmVkaXJlY3RUbzogJy9lcnJvcicgfQpdOwoKQE5nTW9kdWxlKHsKICBpbXBvcnRzOiBbUm91dGVyTW9kdWxlLmZvclJvb3Qocm91dGVzKV0sCiAgZXhwb3J0czogW1JvdXRlck1vZHVsZV0KfSkKZXhwb3J0IGNsYXNzIEFwcFJvdXRpbmdNb2R1bGUge30="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { RouterModule, Routes } from '@angular/router';
import { ErrorPageComponent } from './error-page/error-page.component';

const routes: Routes = [
  // Altres rutes
  { path: 'error', component: ErrorPageComponent },
  { path: '**', redirectTo: '/error' }
];

@NgModule({
  imports: [RouterModule.forRoot(routes)],
  exports: [RouterModule]
})
export class AppRoutingModule {}</pre></div><div class='content'></div><h1>Gestió Avançada d'Errors</h1>
<div class='content'></div><h2>Interceptors d'Errors</h2>
<div class='content'><p>Els interceptors HTTP es poden utilitzar per gestionar errors globalment per a totes les sol·licituds HTTP.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBIdHRwSW50ZXJjZXB0b3IsIEh0dHBSZXF1ZXN0LCBIdHRwSGFuZGxlciwgSHR0cEV2ZW50LCBIdHRwRXJyb3JSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJzsKaW1wb3J0IHsgT2JzZXJ2YWJsZSwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnOwppbXBvcnQgeyBjYXRjaEVycm9yIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnOwoKQEluamVjdGFibGUoKQpleHBvcnQgY2xhc3MgRXJyb3JJbnRlcmNlcHRvciBpbXBsZW1lbnRzIEh0dHBJbnRlcmNlcHRvciB7CiAgaW50ZXJjZXB0KHJlcTogSHR0cFJlcXVlc3Q8YW55PiwgbmV4dDogSHR0cEhhbmRsZXIpOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxhbnk+PiB7CiAgICByZXR1cm4gbmV4dC5oYW5kbGUocmVxKS5waXBlKAogICAgICBjYXRjaEVycm9yKChlcnJvcjogSHR0cEVycm9yUmVzcG9uc2UpID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZSBsJ0ludGVyY2VwdG9yIEhUVFA6JywgZXJyb3IpOwogICAgICAgIHJldHVybiB0aHJvd0Vycm9yKGVycm9yKTsKICAgICAgfSkKICAgICk7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';
import { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent, HttpErrorResponse } from '@angular/common/http';
import { Observable, throwError } from 'rxjs';
import { catchError } from 'rxjs/operators';

@Injectable()
export class ErrorInterceptor implements HttpInterceptor {
  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {
    return next.handle(req).pipe(
      catchError((error: HttpErrorResponse) =&gt; {
        console.error('Error de l'Interceptor HTTP:', error);
        return throwError(error);
      })
    );
  }
}</pre></div><div class='content'><p>Per utilitzar l'interceptor, proporciona'l en el teu mòdul d'aplicació.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSFRUUF9JTlRFUkNFUFRPUlMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7CmltcG9ydCB7IEVycm9ySW50ZXJjZXB0b3IgfSBmcm9tICcuL2Vycm9yLWludGVyY2VwdG9yJzsKCkBOZ01vZHVsZSh7CiAgcHJvdmlkZXJzOiBbCiAgICB7IHByb3ZpZGU6IEhUVFBfSU5URVJDRVBUT1JTLCB1c2VDbGFzczogRXJyb3JJbnRlcmNlcHRvciwgbXVsdGk6IHRydWUgfQogIF0KfSkKZXhwb3J0IGNsYXNzIEFwcE1vZHVsZSB7fQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { HTTP_INTERCEPTORS } from '@angular/common/http';
import { ErrorInterceptor } from './error-interceptor';

@NgModule({
  providers: [
    { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true }
  ]
})
export class AppModule {}</pre></div><div class='content'></div><h2>Serveis de Registre d'Errors</h2>
<div class='content'><p>Per a una gestió avançada d'errors, potser voldràs registrar errors en un servei extern.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnOwoKQEluamVjdGFibGUoKQpleHBvcnQgY2xhc3MgRXJyb3JMb2dnaW5nU2VydmljZSB7CiAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50KSB7fQoKICBsb2dFcnJvcihlcnJvcjogYW55KTogdm9pZCB7CiAgICAvLyBFbnZpYSBsJ2Vycm9yIGEgdW4gc2VydmVpIGRlIHJlZ2lzdHJlIGV4dGVybgogICAgdGhpcy5odHRwLnBvc3QoJ2h0dHBzOi8vbG9nZ2luZy1zZXJ2aWNlLmV4YW1wbGUuY29tL2xvZycsIHsgZXJyb3IgfSkKICAgICAgLnN1YnNjcmliZSgpOwogIH0KfQ=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';

@Injectable()
export class ErrorLoggingService {
  constructor(private http: HttpClient) {}

  logError(error: any): void {
    // Envia l'error a un servei de registre extern
    this.http.post('https://logging-service.example.com/log', { error })
      .subscribe();
  }
}</pre></div><div class='content'><p>Pots utilitzar aquest servei en el teu gestor d'errors global.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IHsgRXJyb3JIYW5kbGVyLCBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CmltcG9ydCB7IEVycm9yTG9nZ2luZ1NlcnZpY2UgfSBmcm9tICcuL2Vycm9yLWxvZ2dpbmcuc2VydmljZSc7CgpASW5qZWN0YWJsZSgpCmV4cG9ydCBjbGFzcyBHbG9iYWxFcnJvckhhbmRsZXIgaW1wbGVtZW50cyBFcnJvckhhbmRsZXIgewogIGNvbnN0cnVjdG9yKHByaXZhdGUgZXJyb3JMb2dnaW5nU2VydmljZTogRXJyb3JMb2dnaW5nU2VydmljZSkge30KCiAgaGFuZGxlRXJyb3IoZXJyb3I6IGFueSk6IHZvaWQgewogICAgY29uc29sZS5lcnJvcignRXJyb3IgR2xvYmFsOicsIGVycm9yKTsKICAgIHRoaXMuZXJyb3JMb2dnaW5nU2VydmljZS5sb2dFcnJvcihlcnJvcik7CiAgfQp9"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import { ErrorHandler, Injectable } from '@angular/core';
import { ErrorLoggingService } from './error-logging.service';

@Injectable()
export class GlobalErrorHandler implements ErrorHandler {
  constructor(private errorLoggingService: ErrorLoggingService) {}

  handleError(error: any): void {
    console.error('Error Global:', error);
    this.errorLoggingService.logError(error);
  }
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>La gestió d'errors és una part essencial de la construcció d'aplicacions Angular robustes. Entenent i implementant diverses estratègies de gestió d'errors, pots assegurar que la teva aplicació pugui gestionar situacions inesperades de manera elegant i proporcionar una millor experiència d'usuari. Des de blocs try-catch bàsics fins a interceptors d'errors avançats i serveis de registre, Angular proporciona un conjunt complet d'eines per gestionar errors de manera efectiva.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
