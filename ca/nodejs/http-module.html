<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui<br> i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="https://campusempresa.com/nodejs/http-module" id="lnk_lang_es" data-lang="es">Castellano</a></b>
				|
				<b id="lit_lang_ca">Catala</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="objective">El Projecte</a>
				<a href="about">Sobre nosaltres</a>
				<a href="contribute">Contribuir</a>
				<a href="donate">Donacions</a>
				<a href="licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='content'><p>El mòdul HTTP a Node.js et permet crear servidors web i gestionar sol·licituds i respostes HTTP. Aquest mòdul és fonamental per construir aplicacions web i API en Node.js.</p>
</div><h1>Introducció al Mòdul HTTP</h1>
<div class='content'><ul>
<li>El mòdul HTTP està integrat a Node.js, així que no es requereix cap instal·lació addicional.</li>
<li>Proporciona funcionalitats per crear tant servidors HTTP com clients.</li>
</ul>
</div><h2>Servidor HTTP Bàsic</h2>
<div class='content'><p>Per crear un servidor HTTP bàsic, necessites importar el mòdul HTTP i utilitzar el mètode <code>createServer</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTsKCmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKChyZXEsIHJlcykgPT4gewogIHJlcy5zdGF0dXNDb2RlID0gMjAwOwogIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJyk7CiAgcmVzLmVuZCgnSGVsbG8sIFdvcmxkIVxuJyk7Cn0pOwoKY29uc3QgUE9SVCA9IDMwMDA7CnNlcnZlci5saXN0ZW4oUE9SVCwgKCkgPT4gewogIGNvbnNvbGUubG9nKGBTZXJ2ZXIgcnVubmluZyBhdCBodHRwOi8vbG9jYWxob3N0OiR7UE9SVH0vYCk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const http = require('http');

const server = http.createServer((req, res) =&gt; {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/plain');
  res.end('Hello, World!\n');
});

const PORT = 3000;
server.listen(PORT, () =&gt; {
  console.log(`Server running at http://localhost:${PORT}/`);
});</pre></div><div class='content'><ul>
<li><code>http.createServer(callback)</code>: Crea un nou servidor HTTP.</li>
<li><code>req</code>: Representa l'objecte de la sol·licitud.</li>
<li><code>res</code>: Representa l'objecte de la resposta.</li>
<li><code>res.statusCode</code>: Estableix el codi d'estat HTTP.</li>
<li><code>res.setHeader()</code>: Estableix les capçaleres de la resposta.</li>
<li><code>res.end()</code>: Finalitza el procés de resposta.</li>
</ul>
</div><h1>Gestionar Diferents Mètodes HTTP</h1>
<div class='content'><p>Els mètodes HTTP com GET, POST, PUT, DELETE, etc., s'utilitzen per realitzar diferents accions en el servidor.</p>
</div><h2>Exemple: Gestionar Sol·licituds GET i POST</h2>
<div class='content'></div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTsKCmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKChyZXEsIHJlcykgPT4gewogIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykgewogICAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7CiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9wbGFpbicpOwogICAgcmVzLmVuZCgnUmVjZWl2ZWQgYSBHRVQgcmVxdWVzdFxuJyk7CiAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHsKICAgIGxldCBib2R5ID0gJyc7CiAgICByZXEub24oJ2RhdGEnLCBjaHVuayA9PiB7CiAgICAgIGJvZHkgKz0gY2h1bmsudG9TdHJpbmcoKTsKICAgIH0pOwogICAgcmVxLm9uKCdlbmQnLCAoKSA9PiB7CiAgICAgIHJlcy5zdGF0dXNDb2RlID0gMjAwOwogICAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpOwogICAgICByZXMuZW5kKGBSZWNlaXZlZCBhIFBPU1QgcmVxdWVzdCB3aXRoIGRhdGE6ICR7Ym9keX1cbmApOwogICAgfSk7CiAgfSBlbHNlIHsKICAgIHJlcy5zdGF0dXNDb2RlID0gNDA1OwogICAgcmVzLmVuZCgnTWV0aG9kIE5vdCBBbGxvd2VkXG4nKTsKICB9Cn0pOwoKY29uc3QgUE9SVCA9IDMwMDA7CnNlcnZlci5saXN0ZW4oUE9SVCwgKCkgPT4gewogIGNvbnNvbGUubG9nKGBTZXJ2ZXIgcnVubmluZyBhdCBodHRwOi8vbG9jYWxob3N0OiR7UE9SVH0vYCk7Cn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const http = require('http');

const server = http.createServer((req, res) =&gt; {
  if (req.method === 'GET') {
    res.statusCode = 200;
    res.setHeader('Content-Type', 'text/plain');
    res.end('Received a GET request\n');
  } else if (req.method === 'POST') {
    let body = '';
    req.on('data', chunk =&gt; {
      body += chunk.toString();
    });
    req.on('end', () =&gt; {
      res.statusCode = 200;
      res.setHeader('Content-Type', 'application/json');
      res.end(`Received a POST request with data: ${body}\n`);
    });
  } else {
    res.statusCode = 405;
    res.end('Method Not Allowed\n');
  }
});

const PORT = 3000;
server.listen(PORT, () =&gt; {
  console.log(`Server running at http://localhost:${PORT}/`);
});</pre></div><div class='content'><ul>
<li><code>req.method</code>: Comprova el mètode HTTP de la sol·licitud.</li>
<li><code>req.on('data', callback)</code>: Escolta esdeveniments de dades quan es reben fragments de dades.</li>
<li><code>req.on('end', callback)</code>: Escolta el final de la transmissió de dades.</li>
</ul>
</div><h1>Treballar amb Paràmetres de Consulta i Enrutament d'URL</h1>
<div class='content'></div><h2>Analitzar Paràmetres de Consulta</h2>
<div class='content'><p>Per analitzar paràmetres de consulta, pots utilitzar el mòdul <code>url</code>.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTsKY29uc3QgdXJsID0gcmVxdWlyZSgndXJsJyk7Cgpjb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcigocmVxLCByZXMpID0+IHsKICBjb25zdCBwYXJzZWRVcmwgPSB1cmwucGFyc2UocmVxLnVybCwgdHJ1ZSk7CiAgY29uc3QgcXVlcnkgPSBwYXJzZWRVcmwucXVlcnk7CgogIHJlcy5zdGF0dXNDb2RlID0gMjAwOwogIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7CiAgcmVzLmVuZChKU09OLnN0cmluZ2lmeShxdWVyeSkpOwp9KTsKCmNvbnN0IFBPUlQgPSAzMDAwOwpzZXJ2ZXIubGlzdGVuKFBPUlQsICgpID0+IHsKICBjb25zb2xlLmxvZyhgU2VydmVyIHJ1bm5pbmcgYXQgaHR0cDovL2xvY2FsaG9zdDoke1BPUlR9L2ApOwp9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const http = require('http');
const url = require('url');

const server = http.createServer((req, res) =&gt; {
  const parsedUrl = url.parse(req.url, true);
  const query = parsedUrl.query;

  res.statusCode = 200;
  res.setHeader('Content-Type', 'application/json');
  res.end(JSON.stringify(query));
});

const PORT = 3000;
server.listen(PORT, () =&gt; {
  console.log(`Server running at http://localhost:${PORT}/`);
});</pre></div><div class='content'><ul>
<li><code>url.parse(urlString, true)</code>: Analitza l'URL i retorna un objecte amb paràmetres de consulta.</li>
</ul>
</div><h2>Enrutament Bàsic d'URL</h2>
<div class='content'><p>L'enrutament et permet gestionar diferents punts finals.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTsKCmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKChyZXEsIHJlcykgPT4gewogIGNvbnN0IHVybCA9IHJlcS51cmw7CgogIGlmICh1cmwgPT09ICcvJykgewogICAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7CiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9wbGFpbicpOwogICAgcmVzLmVuZCgnSG9tZSBQYWdlXG4nKTsKICB9IGVsc2UgaWYgKHVybCA9PT0gJy9hYm91dCcpIHsKICAgIHJlcy5zdGF0dXNDb2RlID0gMjAwOwogICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ3RleHQvcGxhaW4nKTsKICAgIHJlcy5lbmQoJ0Fib3V0IFBhZ2VcbicpOwogIH0gZWxzZSB7CiAgICByZXMuc3RhdHVzQ29kZSA9IDQwNDsKICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJyk7CiAgICByZXMuZW5kKCdQYWdlIE5vdCBGb3VuZFxuJyk7CiAgfQp9KTsKCmNvbnN0IFBPUlQgPSAzMDAwOwpzZXJ2ZXIubGlzdGVuKFBPUlQsICgpID0+IHsKICBjb25zb2xlLmxvZyhgU2VydmVyIHJ1bm5pbmcgYXQgaHR0cDovL2xvY2FsaG9zdDoke1BPUlR9L2ApOwp9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const http = require('http');

const server = http.createServer((req, res) =&gt; {
  const url = req.url;

  if (url === '/') {
    res.statusCode = 200;
    res.setHeader('Content-Type', 'text/plain');
    res.end('Home Page\n');
  } else if (url === '/about') {
    res.statusCode = 200;
    res.setHeader('Content-Type', 'text/plain');
    res.end('About Page\n');
  } else {
    res.statusCode = 404;
    res.setHeader('Content-Type', 'text/plain');
    res.end('Page Not Found\n');
  }
});

const PORT = 3000;
server.listen(PORT, () =&gt; {
  console.log(`Server running at http://localhost:${PORT}/`);
});</pre></div><div class='content'></div><h1>Temes Avançats</h1>
<div class='content'></div><h2>Gestionar Dades JSON</h2>
<div class='content'><p>Quan treballes amb API, sovint necessites gestionar dades JSON.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTsKCmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKChyZXEsIHJlcykgPT4gewogIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcgJiYgcmVxLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID09PSAnYXBwbGljYXRpb24vanNvbicpIHsKICAgIGxldCBib2R5ID0gJyc7CiAgICByZXEub24oJ2RhdGEnLCBjaHVuayA9PiB7CiAgICAgIGJvZHkgKz0gY2h1bmsudG9TdHJpbmcoKTsKICAgIH0pOwogICAgcmVxLm9uKCdlbmQnLCAoKSA9PiB7CiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGJvZHkpOwogICAgICByZXMuc3RhdHVzQ29kZSA9IDIwMDsKICAgICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTsKICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6ICdEYXRhIHJlY2VpdmVkJywgZGF0YSB9KSk7CiAgICB9KTsKICB9IGVsc2UgewogICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7CiAgICByZXMuZW5kKCdCYWQgUmVxdWVzdFxuJyk7CiAgfQp9KTsKCmNvbnN0IFBPUlQgPSAzMDAwOwpzZXJ2ZXIubGlzdGVuKFBPUlQsICgpID0+IHsKICBjb25zb2xlLmxvZyhgU2VydmVyIHJ1bm5pbmcgYXQgaHR0cDovL2xvY2FsaG9zdDoke1BPUlR9L2ApOwp9KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const http = require('http');

const server = http.createServer((req, res) =&gt; {
  if (req.method === 'POST' &amp;&amp; req.headers['content-type'] === 'application/json') {
    let body = '';
    req.on('data', chunk =&gt; {
      body += chunk.toString();
    });
    req.on('end', () =&gt; {
      const data = JSON.parse(body);
      res.statusCode = 200;
      res.setHeader('Content-Type', 'application/json');
      res.end(JSON.stringify({ message: 'Data received', data }));
    });
  } else {
    res.statusCode = 400;
    res.end('Bad Request\n');
  }
});

const PORT = 3000;
server.listen(PORT, () =&gt; {
  console.log(`Server running at http://localhost:${PORT}/`);
});</pre></div><div class='content'></div><h2>Servidor HTTPS</h2>
<div class='content'><p>Per a comunicacions segures, pots crear un servidor HTTPS.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Y29uc3QgaHR0cHMgPSByZXF1aXJlKCdodHRwcycpOwpjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7Cgpjb25zdCBvcHRpb25zID0gewogIGtleTogZnMucmVhZEZpbGVTeW5jKCdwYXRoL3RvL3ByaXZhdGUta2V5LnBlbScpLAogIGNlcnQ6IGZzLnJlYWRGaWxlU3luYygncGF0aC90by9jZXJ0aWZpY2F0ZS5wZW0nKQp9OwoKY29uc3Qgc2VydmVyID0gaHR0cHMuY3JlYXRlU2VydmVyKG9wdGlvbnMsIChyZXEsIHJlcykgPT4gewogIHJlcy5zdGF0dXNDb2RlID0gMjAwOwogIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJyk7CiAgcmVzLmVuZCgnSGVsbG8sIFNlY3VyZSBXb3JsZCFcbicpOwp9KTsKCmNvbnN0IFBPUlQgPSAzMDAwOwpzZXJ2ZXIubGlzdGVuKFBPUlQsICgpID0+IHsKICBjb25zb2xlLmxvZyhgU2VydmVyIHJ1bm5pbmcgYXQgaHR0cHM6Ly9sb2NhbGhvc3Q6JHtQT1JUfS9gKTsKfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>const https = require('https');
const fs = require('fs');

const options = {
  key: fs.readFileSync('path/to/private-key.pem'),
  cert: fs.readFileSync('path/to/certificate.pem')
};

const server = https.createServer(options, (req, res) =&gt; {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/plain');
  res.end('Hello, Secure World!\n');
});

const PORT = 3000;
server.listen(PORT, () =&gt; {
  console.log(`Server running at https://localhost:${PORT}/`);
});</pre></div><div class='content'><ul>
<li><code>https.createServer(options, callback)</code>: Crea un servidor HTTPS amb les opcions proporcionades.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>El mòdul HTTP a Node.js és una eina poderosa per crear servidors web i gestionar sol·licituds i respostes HTTP. Entenent les característiques bàsiques i avançades, pots construir aplicacions web i API robustes. Practica creant diferents tipus de servidors i gestionant diversos mètodes HTTP i formats de dades per consolidar la teva comprensió.</p>
</div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
       <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
       <a href="cookies">Més informació</a>
   </div>	
	</div>    
</body>
</html>
