<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Còpia de seguretat i restauració de Jenkins</title>

    <link rel="alternate" href="https://campusempresa.com/es/jenkins/backup-and-restore-jenkins" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/jenkins/backup-and-restore-jenkins" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/jenkins/backup-and-restore-jenkins" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/jenkins/backup-and-restore-jenkins" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='configuring-security'>&#x25C4;Configuració de la seguretat</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Còpia de seguretat i restauració de Jenkins</a>
	</div>
	<div class='col-4 text-end'>
					<a href='monitoring-jenkins'>Monitorització de Jenkins &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Fer còpies de seguretat i restaurar Jenkins és una tasca crucial per mantenir la integritat i la disponibilitat de les teves pipelines de CI/CD. Aquesta secció et guiarà pels passos necessaris per fer còpies de seguretat i restaurar Jenkins, assegurant que puguis recuperar-te de pèrdues de dades o fallades del sistema amb un temps d'inactivitat mínim.</p>
</div><h1>Per què fer còpies de seguretat i restaurar Jenkins?</h1>
<div class='content'><ul>
<li><strong>Integritat de les dades</strong>: Protegeix les configuracions dels teus treballs, l'historial de compilacions i les configuracions dels plugins.</li>
<li><strong>Recuperació de desastres</strong>: Restaura ràpidament Jenkins en cas de fallada de maquinari, corrupció de dades o altres esdeveniments catastròfics.</li>
<li><strong>Migració</strong>: Mou Jenkins a un nou servidor o entorn sense perdre cap dada.</li>
</ul>
</div><h1>Còpia de seguretat de Jenkins</h1>
<div class='content'></div><h2>Components clau per fer còpia de seguretat</h2>
<div class='content'><ul>
<li><strong>Directori Home de Jenkins</strong>: Aquesta és la part més crítica per fer còpia de seguretat. Conté totes les configuracions dels treballs, els registres de compilació, les configuracions dels plugins i les dades dels usuaris.</li>
<li><strong>Fitxers de configuració</strong>: Fitxers com <code>config.xml</code>, <code>credentials.xml</code> i <code>hudson.model.UpdateCenter.xml</code>.</li>
<li><strong>Plugins</strong>: El directori <code>plugins</code> conté tots els plugins instal·lats.</li>
</ul>
</div><h2>Mètodes per fer còpia de seguretat de Jenkins</h2>
<div class='content'><h4>Còpia de seguretat manual</h4>
<ol>
<li><strong>Atura Jenkins</strong>: Es recomana aturar Jenkins per assegurar la consistència de les dades.
<pre><code class="language-bash">sudo systemctl stop jenkins
</code></pre>
</li>
<li><strong>Copia el directori Home de Jenkins</strong>: Utilitza una comanda com <code>tar</code> per crear un arxiu del directori Home de Jenkins.
<pre><code class="language-bash">tar -czvf jenkins_backup.tar.gz /var/lib/jenkins
</code></pre>
</li>
<li><strong>Reinicia Jenkins</strong>: Un cop completada la còpia de seguretat, reinicia Jenkins.
<pre><code class="language-bash">sudo systemctl start jenkins
</code></pre>
</li>
</ol>
<h4>Còpia de seguretat automàtica</h4>
<ul>
<li><strong>Plugin ThinBackup</strong>: Un plugin popular per automatitzar les còpies de seguretat de Jenkins.
<ol>
<li><strong>Instal·la el plugin ThinBackup</strong>: Ves a <code>Manage Jenkins</code> -&gt; <code>Manage Plugins</code> -&gt; pestanya <code>Available</code>, cerca &quot;ThinBackup&quot; i instal·la'l.</li>
<li><strong>Configura ThinBackup</strong>: Ves a <code>Manage Jenkins</code> -&gt; <code>ThinBackup Settings</code> i configura la programació de les còpies de seguretat, la ubicació de les còpies de seguretat i altres configuracions.</li>
<li><strong>Executa la còpia de seguretat</strong>: Pots activar manualment una còpia de seguretat o esperar que s'executi la còpia de seguretat programada.</li>
</ol>
</li>
</ul>
</div><h2>Exemple: Configuració de ThinBackup</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("RGlyZWN0b3JpIGRlIGPDsnBpYSBkZSBzZWd1cmV0YXQ6IC92YXIvYmFja3Vwcy9qZW5raW5zClByb2dyYW1hY2nDsyBkZSBjw7JwaWEgZGUgc2VndXJldGF0IGNvbXBsZXRhOiAwIDIgKiAqIDAgKENhZGEgZGl1bWVuZ2UgYSBsZXMgMiBBTSkKUHJvZ3JhbWFjacOzIGRlIGPDsnBpYSBkZSBzZWd1cmV0YXQgZGlmZXJlbmNpYWw6IDAgMiAqICogMS02IChDYWRhIGRpYSBleGNlcHRlIGRpdW1lbmdlIGEgbGVzIDIgQU0p"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>Directori de c&ograve;pia de seguretat: /var/backups/jenkins
Programaci&oacute; de c&ograve;pia de seguretat completa: 0 2 * * 0 (Cada diumenge a les 2 AM)
Programaci&oacute; de c&ograve;pia de seguretat diferencial: 0 2 * * 1-6 (Cada dia excepte diumenge a les 2 AM)</pre></div><div class='content'></div><h1>Restauració de Jenkins</h1>
<div class='content'></div><h2>Restauració manual</h2>
<div class='content'><ol>
<li><strong>Atura Jenkins</strong>: Assegura't que Jenkins està aturat abans de restaurar.
<pre><code class="language-bash">sudo systemctl stop jenkins
</code></pre>
</li>
<li><strong>Extreu la còpia de seguretat</strong>: Extreu l'arxiu de còpia de seguretat al directori Home de Jenkins.
<pre><code class="language-bash">tar -xzvf jenkins_backup.tar.gz -C /var/lib/jenkins
</code></pre>
</li>
<li><strong>Reinicia Jenkins</strong>: Inicia Jenkins després del procés de restauració.
<pre><code class="language-bash">sudo systemctl start jenkins
</code></pre>
</li>
</ol>
</div><h2>Restauració automàtica</h2>
<div class='content'><ul>
<li><strong>Plugin ThinBackup</strong>: Si vas utilitzar ThinBackup per a les còpies de seguretat, també el pots utilitzar per a la restauració.
<ol>
<li><strong>Ves a la restauració de ThinBackup</strong>: Navega a <code>Manage Jenkins</code> -&gt; <code>ThinBackup</code> -&gt; <code>Restore</code>.</li>
<li><strong>Selecciona la còpia de seguretat per restaurar</strong>: Tria la còpia de seguretat que vols restaurar de la llista.</li>
<li><strong>Restaura</strong>: Fes clic al botó de restaurar i espera que el procés es completi.</li>
</ol>
</li>
</ul>
</div><h1>Millors pràctiques per a la còpia de seguretat i restauració</h1>
<div class='content'><ul>
<li><strong>Còpies de seguretat regulars</strong>: Programa còpies de seguretat regulars per minimitzar la pèrdua de dades.</li>
<li><strong>Emmagatzematge fora del lloc</strong>: Emmagatzema les còpies de seguretat en una ubicació física diferent o en emmagatzematge al núvol per protegir-te contra desastres locals.</li>
<li><strong>Prova de restauracions</strong>: Prova periòdicament el procés de restauració per assegurar-te que les còpies de seguretat són vàlides i que el procés de restauració funciona com s'espera.</li>
<li><strong>Monitoritza les tasques de còpia de seguretat</strong>: Utilitza eines de monitorització per assegurar-te que les tasques de còpia de seguretat s'executen amb èxit.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Fer còpies de seguretat i restaurar Jenkins és essencial per mantenir la fiabilitat i la disponibilitat de les teves pipelines de CI/CD. Seguint els passos descrits en aquesta secció, pots assegurar-te que el teu entorn Jenkins està protegit contra la pèrdua de dades i es pot restaurar ràpidament en cas d'emergència. Les còpies de seguretat regulars, les eines automatitzades com ThinBackup i les millors pràctiques t'ajudaran a gestionar les còpies de seguretat de Jenkins de manera efectiva.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='configuring-security'>&#x25C4;Configuració de la seguretat</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Còpia de seguretat i restauració de Jenkins</a>
	</div>
	<div class='col-4 text-end'>
					<a href='monitoring-jenkins'>Monitorització de Jenkins &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
