<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decoradors de Paràmetres en TypeScript</title>

    <link rel="alternate" href="https://campusempresa.com/es/typescript/parameter-decorators" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/typescript/parameter-decorators" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/typescript/parameter-decorators" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/typescript/parameter-decorators" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='property-decorators'>&#x25C4;Decoradors de propietat</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Decoradors de Paràmetres en TypeScript</a>
	</div>
	<div class='col-4 text-end'>
					<a href='setup-typescript-react'>Configuració d'un projecte React amb TypeScript &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció als Decoradors de Paràmetres</h1>
<div class='content'><p>Els decoradors de paràmetres són un tipus especial de decorador en TypeScript que es poden utilitzar per anotar paràmetres dins d'un constructor de classe o mètode. Permeten modificar el comportament dels paràmetres, proporcionant una manera d'afegir metadades o realitzar validacions.</p>
</div><h1>Conceptes Clau</h1>
<div class='content'><ul>
<li><strong>Decorador</strong>: Un tipus especial de declaració que es pot adjuntar a una classe, mètode, accessori, propietat o paràmetre.</li>
<li><strong>Decorador de Paràmetres</strong>: Un decorador que s'aplica a un paràmetre específic d'un mètode o constructor.</li>
</ul>
</div><h1>Sintaxi i Ús</h1>
<div class='content'><p>Els decoradors de paràmetres es declaren just abans del paràmetre que estan decorant. Reben tres arguments:</p>
<ol>
<li><strong>target</strong>: El prototip de la classe per a membres d'instància, o la funció constructora per a membres estàtics.</li>
<li><strong>propertyKey</strong>: El nom del mètode on es declara el paràmetre.</li>
<li><strong>parameterIndex</strong>: L'índex del paràmetre en la llista de paràmetres de la funció.</li>
</ol>
</div><h2>Exemple Bàsic</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gbG9nUGFyYW1ldGVyKHRhcmdldDogT2JqZWN0LCBwcm9wZXJ0eUtleTogc3RyaW5nIHwgc3ltYm9sLCBwYXJhbWV0ZXJJbmRleDogbnVtYmVyKSB7CiAgICBjb25zb2xlLmxvZyhgUGFyw6BtZXRyZSBhIGwnw61uZGV4ICR7cGFyYW1ldGVySW5kZXh9IGVuIGVsIG3DqHRvZGUgJHtTdHJpbmcocHJvcGVydHlLZXkpfSBkZSBsYSBjbGFzc2UgJHt0YXJnZXQuY29uc3RydWN0b3IubmFtZX1gKTsKfQoKY2xhc3MgRXhhbXBsZUNsYXNzIHsKICAgIG1ldGhvZChAbG9nUGFyYW1ldGVyIHBhcmFtMTogc3RyaW5nLCBAbG9nUGFyYW1ldGVyIHBhcmFtMjogbnVtYmVyKSB7CiAgICAgICAgY29uc29sZS5sb2cocGFyYW0xLCBwYXJhbTIpOwogICAgfQp9Cgpjb25zdCBleGFtcGxlID0gbmV3IEV4YW1wbGVDbGFzcygpOwpleGFtcGxlLm1ldGhvZCgndGVzdCcsIDQyKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function logParameter(target: Object, propertyKey: string | symbol, parameterIndex: number) {
    console.log(`Par&agrave;metre a l'&iacute;ndex ${parameterIndex} en el m&egrave;tode ${String(propertyKey)} de la classe ${target.constructor.name}`);
}

class ExampleClass {
    method(@logParameter param1: string, @logParameter param2: number) {
        console.log(param1, param2);
    }
}

const example = new ExampleClass();
example.method('test', 42);</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li><code>logParameter</code> és un decorador de paràmetres.</li>
<li>Registra l'índex i el nom del paràmetre que decora.</li>
</ul>
</div><h1>Aplicacions Pràctiques</h1>
<div class='content'><p>Els decoradors de paràmetres es poden utilitzar per a diversos propòsits, com ara:</p>
<ul>
<li><strong>Validació</strong>: Assegurar que els paràmetres compleixin certs criteris.</li>
<li><strong>Injecció de Dependències</strong>: Injectar automàticament dependències en constructors de classes o mètodes.</li>
<li><strong>Metadades</strong>: Afegir metadades als paràmetres per a un ús posterior.</li>
</ul>
</div><h2>Exemple de Validació</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZnVuY3Rpb24gcmVxdWlyZWQodGFyZ2V0OiBPYmplY3QsIHByb3BlcnR5S2V5OiBzdHJpbmcgfCBzeW1ib2wsIHBhcmFtZXRlckluZGV4OiBudW1iZXIpIHsKICAgIGNvbnN0IGV4aXN0aW5nUmVxdWlyZWRQYXJhbWV0ZXJzOiBudW1iZXJbXSA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoJ3JlcXVpcmVkJywgdGFyZ2V0LCBwcm9wZXJ0eUtleSkgfHwgW107CiAgICBleGlzdGluZ1JlcXVpcmVkUGFyYW1ldGVycy5wdXNoKHBhcmFtZXRlckluZGV4KTsKICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoJ3JlcXVpcmVkJywgZXhpc3RpbmdSZXF1aXJlZFBhcmFtZXRlcnMsIHRhcmdldCwgcHJvcGVydHlLZXkpOwp9CgpmdW5jdGlvbiB2YWxpZGF0ZSh0YXJnZXQ6IGFueSwgcHJvcGVydHlOYW1lOiBzdHJpbmcsIGRlc2NyaXB0b3I6IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPEZ1bmN0aW9uPikgewogICAgY29uc3QgbWV0aG9kID0gZGVzY3JpcHRvci52YWx1ZSE7CiAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueVtdKSB7CiAgICAgICAgY29uc3QgcmVxdWlyZWRQYXJhbWV0ZXJzOiBudW1iZXJbXSA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoJ3JlcXVpcmVkJywgdGFyZ2V0LCBwcm9wZXJ0eU5hbWUpIHx8IFtdOwogICAgICAgIGZvciAoY29uc3QgcGFyYW1ldGVySW5kZXggb2YgcmVxdWlyZWRQYXJhbWV0ZXJzKSB7CiAgICAgICAgICAgIGlmIChhcmdzW3BhcmFtZXRlckluZGV4XSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhbHRhIGwnYXJndW1lbnQgcmVxdWVyaXQgYSBsJ8OtbmRleCAke3BhcmFtZXRlckluZGV4fWApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJncyk7CiAgICB9Owp9CgpjbGFzcyBVc2VyIHsKICAgIEB2YWxpZGF0ZQogICAgc2V0TmFtZShAcmVxdWlyZWQgbmFtZTogc3RyaW5nKSB7CiAgICAgICAgY29uc29sZS5sb2coYEVsIG5vbSBkZSBsJ3VzdWFyaSDDqXMgJHtuYW1lfWApOwogICAgfQp9Cgpjb25zdCB1c2VyID0gbmV3IFVzZXIoKTsKdXNlci5zZXROYW1lKCdKb2huJyk7IC8vIEZ1bmNpb25hIGLDqQp1c2VyLnNldE5hbWUoKTsgLy8gTGxlbsOnYSB1biBlcnJvcjogRmFsdGEgbCdhcmd1bWVudCByZXF1ZXJpdCBhIGwnw61uZGV4IDA="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>function required(target: Object, propertyKey: string | symbol, parameterIndex: number) {
    const existingRequiredParameters: number[] = Reflect.getOwnMetadata('required', target, propertyKey) || [];
    existingRequiredParameters.push(parameterIndex);
    Reflect.defineMetadata('required', existingRequiredParameters, target, propertyKey);
}

function validate(target: any, propertyName: string, descriptor: TypedPropertyDescriptor&lt;Function&gt;) {
    const method = descriptor.value!;
    descriptor.value = function (...args: any[]) {
        const requiredParameters: number[] = Reflect.getOwnMetadata('required', target, propertyName) || [];
        for (const parameterIndex of requiredParameters) {
            if (args[parameterIndex] === undefined) {
                throw new Error(`Falta l'argument requerit a l'&iacute;ndex ${parameterIndex}`);
            }
        }
        return method.apply(this, args);
    };
}

class User {
    @validate
    setName(@required name: string) {
        console.log(`El nom de l'usuari &eacute;s ${name}`);
    }
}

const user = new User();
user.setName('John'); // Funciona b&eacute;
user.setName(); // Llen&ccedil;a un error: Falta l'argument requerit a l'&iacute;ndex 0</pre></div><div class='content'><p>En aquest exemple:</p>
<ul>
<li><code>required</code> és un decorador de paràmetres que marca un paràmetre com a requerit.</li>
<li><code>validate</code> és un decorador de mètode que comprova si s'han proporcionat tots els paràmetres requerits.</li>
</ul>
</div><h1>Conclusió</h1>
<div class='content'><p>Els decoradors de paràmetres en TypeScript proporcionen una manera poderosa d'afegir metadades, realitzar validacions i gestionar dependències per a paràmetres de mètodes i constructors. Entenent i utilitzant els decoradors de paràmetres, pots escriure codi més robust i mantenible. Practica l'ús dels decoradors de paràmetres en diferents escenaris per comprendre plenament el seu potencial i aplicacions.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='property-decorators'>&#x25C4;Decoradors de propietat</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Decoradors de Paràmetres en TypeScript</a>
	</div>
	<div class='col-4 text-end'>
					<a href='setup-typescript-react'>Configuració d'un projecte React amb TypeScript &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
