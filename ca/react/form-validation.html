<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validació de Formularis en React</title>

    <link rel="alternate" href="https://campusempresa.com/es/react/form-validation" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/react/form-validation" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/react/form-validation" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/react/form-validation" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='uncontrolled-components'>&#x25C4;Components No Controlats</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Validació de Formularis en React</a>
	</div>
	<div class='col-4 text-end'>
					<a href='higher-order-components'>Components d'Ordre Superior (HOC) &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>La validació de formularis és un aspecte crucial del desenvolupament web, assegurant que les entrades dels usuaris siguin correctes i segures abans de ser processades. En aquesta secció, cobrim com implementar la validació de formularis en React, des de conceptes bàsics fins a tècniques avançades.</p>
</div><h1>Validació Bàsica de Formularis</h1>
<div class='content'></div><h2>Components Controlats</h2>
<div class='content'><ul>
<li><strong>Components Controlats</strong>: En React, les entrades de formulari són típicament components controlats, el que significa que el seu valor és gestionat per l'estat del component.</li>
<li><strong>Gestió d'Estat</strong>: Utilitza el hook <code>useState</code> per gestionar els valors de les entrades del formulari.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwoKZnVuY3Rpb24gQmFzaWNGb3JtKCkgewogIGNvbnN0IFtuYW1lLCBzZXROYW1lXSA9IHVzZVN0YXRlKCcnKTsKCiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKGV2ZW50KSA9PiB7CiAgICBzZXROYW1lKGV2ZW50LnRhcmdldC52YWx1ZSk7CiAgfTsKCiAgY29uc3QgaGFuZGxlU3VibWl0ID0gKGV2ZW50KSA9PiB7CiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgYWxlcnQoYE5vbSBlbnZpYXQ6ICR7bmFtZX1gKTsKICB9OwoKICByZXR1cm4gKAogICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+CiAgICAgIDxsYWJlbD4KICAgICAgICBOb206CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHZhbHVlPXtuYW1lfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPgogICAgICA8L2xhYmVsPgogICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCI+RW52aWFyPC9idXR0b24+CiAgICA8L2Zvcm0+CiAgKTsKfQoKZXhwb3J0IGRlZmF1bHQgQmFzaWNGb3JtOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState } from 'react';

function BasicForm() {
  const [name, setName] = useState('');

  const handleChange = (event) =&gt; {
    setName(event.target.value);
  };

  const handleSubmit = (event) =&gt; {
    event.preventDefault();
    alert(`Nom enviat: ${name}`);
  };

  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;label&gt;
        Nom:
        &lt;input type=&quot;text&quot; value={name} onChange={handleChange} /&gt;
      &lt;/label&gt;
      &lt;button type=&quot;submit&quot;&gt;Enviar&lt;/button&gt;
    &lt;/form&gt;
  );
}

export default BasicForm;</pre></div><div class='content'></div><h2>Lògica Bàsica de Validació</h2>
<div class='content'><ul>
<li><strong>Funció de Validació</strong>: Crea una funció per validar els valors de les entrades.</li>
<li><strong>Gestió d'Errors</strong>: Mostra missatges d'error basats en els resultats de la validació.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwoKZnVuY3Rpb24gQmFzaWNGb3JtV2l0aFZhbGlkYXRpb24oKSB7CiAgY29uc3QgW25hbWUsIHNldE5hbWVdID0gdXNlU3RhdGUoJycpOwogIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpOwoKICBjb25zdCB2YWxpZGF0ZU5hbWUgPSAobmFtZSkgPT4gewogICAgaWYgKG5hbWUubGVuZ3RoIDwgMykgewogICAgICByZXR1cm4gJ0VsIG5vbSBoYSBkZSB0ZW5pciBhbG1lbnlzIDMgY2Fyw6BjdGVycyc7CiAgICB9CiAgICByZXR1cm4gJyc7CiAgfTsKCiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKGV2ZW50KSA9PiB7CiAgICBzZXROYW1lKGV2ZW50LnRhcmdldC52YWx1ZSk7CiAgICBzZXRFcnJvcih2YWxpZGF0ZU5hbWUoZXZlbnQudGFyZ2V0LnZhbHVlKSk7CiAgfTsKCiAgY29uc3QgaGFuZGxlU3VibWl0ID0gKGV2ZW50KSA9PiB7CiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgY29uc3QgdmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdGVOYW1lKG5hbWUpOwogICAgaWYgKHZhbGlkYXRpb25FcnJvcikgewogICAgICBzZXRFcnJvcih2YWxpZGF0aW9uRXJyb3IpOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoYE5vbSBlbnZpYXQ6ICR7bmFtZX1gKTsKICAgIH0KICB9OwoKICByZXR1cm4gKAogICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+CiAgICAgIDxsYWJlbD4KICAgICAgICBOb206CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHZhbHVlPXtuYW1lfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPgogICAgICA8L2xhYmVsPgogICAgICB7ZXJyb3IgJiYgPHAgc3R5bGU9e3sgY29sb3I6ICdyZWQnIH19PntlcnJvcn08L3A+fQogICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCI+RW52aWFyPC9idXR0b24+CiAgICA8L2Zvcm0+CiAgKTsKfQoKZXhwb3J0IGRlZmF1bHQgQmFzaWNGb3JtV2l0aFZhbGlkYXRpb247"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState } from 'react';

function BasicFormWithValidation() {
  const [name, setName] = useState('');
  const [error, setError] = useState('');

  const validateName = (name) =&gt; {
    if (name.length &lt; 3) {
      return 'El nom ha de tenir almenys 3 car&agrave;cters';
    }
    return '';
  };

  const handleChange = (event) =&gt; {
    setName(event.target.value);
    setError(validateName(event.target.value));
  };

  const handleSubmit = (event) =&gt; {
    event.preventDefault();
    const validationError = validateName(name);
    if (validationError) {
      setError(validationError);
    } else {
      alert(`Nom enviat: ${name}`);
    }
  };

  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;label&gt;
        Nom:
        &lt;input type=&quot;text&quot; value={name} onChange={handleChange} /&gt;
      &lt;/label&gt;
      {error &amp;&amp; &lt;p style={{ color: 'red' }}&gt;{error}&lt;/p&gt;}
      &lt;button type=&quot;submit&quot;&gt;Enviar&lt;/button&gt;
    &lt;/form&gt;
  );
}

export default BasicFormWithValidation;</pre></div><div class='content'></div><h1>Validació Intermèdia de Formularis</h1>
<div class='content'></div><h2>Múltiples Camps i Validació</h2>
<div class='content'><ul>
<li><strong>Múltiples Entrades</strong>: Gestiona múltiples camps de formulari utilitzant un únic objecte d'estat.</li>
<li><strong>Validació Complexa</strong>: Implementa la lògica de validació per a múltiples camps.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwoKZnVuY3Rpb24gTXVsdGlGaWVsZEZvcm0oKSB7CiAgY29uc3QgW2Zvcm1EYXRhLCBzZXRGb3JtRGF0YV0gPSB1c2VTdGF0ZSh7IG5hbWU6ICcnLCBlbWFpbDogJycgfSk7CiAgY29uc3QgW2Vycm9ycywgc2V0RXJyb3JzXSA9IHVzZVN0YXRlKHt9KTsKCiAgY29uc3QgdmFsaWRhdGVGb3JtID0gKGRhdGEpID0+IHsKICAgIGNvbnN0IG5ld0Vycm9ycyA9IHt9OwogICAgaWYgKGRhdGEubmFtZS5sZW5ndGggPCAzKSB7CiAgICAgIG5ld0Vycm9ycy5uYW1lID0gJ0VsIG5vbSBoYSBkZSB0ZW5pciBhbG1lbnlzIDMgY2Fyw6BjdGVycyc7CiAgICB9CiAgICBpZiAoIS9cUytAXFMrXC5cUysvLnRlc3QoZGF0YS5lbWFpbCkpIHsKICAgICAgbmV3RXJyb3JzLmVtYWlsID0gJ0VsIGNvcnJldSBlbGVjdHLDsm5pYyBubyDDqXMgdsOgbGlkJzsKICAgIH0KICAgIHJldHVybiBuZXdFcnJvcnM7CiAgfTsKCiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKGV2ZW50KSA9PiB7CiAgICBjb25zdCB7IG5hbWUsIHZhbHVlIH0gPSBldmVudC50YXJnZXQ7CiAgICBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCBbbmFtZV06IHZhbHVlIH0pOwogICAgc2V0RXJyb3JzKHZhbGlkYXRlRm9ybSh7IC4uLmZvcm1EYXRhLCBbbmFtZV06IHZhbHVlIH0pKTsKICB9OwoKICBjb25zdCBoYW5kbGVTdWJtaXQgPSAoZXZlbnQpID0+IHsKICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3JzID0gdmFsaWRhdGVGb3JtKGZvcm1EYXRhKTsKICAgIGlmIChPYmplY3Qua2V5cyh2YWxpZGF0aW9uRXJyb3JzKS5sZW5ndGggPT09IDApIHsKICAgICAgYWxlcnQoYERhZGVzIGVudmlhZGVzOiAke0pTT04uc3RyaW5naWZ5KGZvcm1EYXRhKX1gKTsKICAgIH0gZWxzZSB7CiAgICAgIHNldEVycm9ycyh2YWxpZGF0aW9uRXJyb3JzKTsKICAgIH0KICB9OwoKICByZXR1cm4gKAogICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+CiAgICAgIDxsYWJlbD4KICAgICAgICBOb206CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Im5hbWUiIHZhbHVlPXtmb3JtRGF0YS5uYW1lfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPgogICAgICA8L2xhYmVsPgogICAgICB7ZXJyb3JzLm5hbWUgJiYgPHAgc3R5bGU9e3sgY29sb3I6ICdyZWQnIH19PntlcnJvcnMubmFtZX08L3A+fQogICAgICA8bGFiZWw+CiAgICAgICAgQ29ycmV1IGVsZWN0csOybmljOgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJlbWFpbCIgdmFsdWU9e2Zvcm1EYXRhLmVtYWlsfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPgogICAgICA8L2xhYmVsPgogICAgICB7ZXJyb3JzLmVtYWlsICYmIDxwIHN0eWxlPXt7IGNvbG9yOiAncmVkJyB9fT57ZXJyb3JzLmVtYWlsfTwvcD59CiAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij5FbnZpYXI8L2J1dHRvbj4KICAgIDwvZm9ybT4KICApOwp9CgpleHBvcnQgZGVmYXVsdCBNdWx0aUZpZWxkRm9ybTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState } from 'react';

function MultiFieldForm() {
  const [formData, setFormData] = useState({ name: '', email: '' });
  const [errors, setErrors] = useState({});

  const validateForm = (data) =&gt; {
    const newErrors = {};
    if (data.name.length &lt; 3) {
      newErrors.name = 'El nom ha de tenir almenys 3 car&agrave;cters';
    }
    if (!/\S+@\S+\.\S+/.test(data.email)) {
      newErrors.email = 'El correu electr&ograve;nic no &eacute;s v&agrave;lid';
    }
    return newErrors;
  };

  const handleChange = (event) =&gt; {
    const { name, value } = event.target;
    setFormData({ ...formData, [name]: value });
    setErrors(validateForm({ ...formData, [name]: value }));
  };

  const handleSubmit = (event) =&gt; {
    event.preventDefault();
    const validationErrors = validateForm(formData);
    if (Object.keys(validationErrors).length === 0) {
      alert(`Dades enviades: ${JSON.stringify(formData)}`);
    } else {
      setErrors(validationErrors);
    }
  };

  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;label&gt;
        Nom:
        &lt;input type=&quot;text&quot; name=&quot;name&quot; value={formData.name} onChange={handleChange} /&gt;
      &lt;/label&gt;
      {errors.name &amp;&amp; &lt;p style={{ color: 'red' }}&gt;{errors.name}&lt;/p&gt;}
      &lt;label&gt;
        Correu electr&ograve;nic:
        &lt;input type=&quot;text&quot; name=&quot;email&quot; value={formData.email} onChange={handleChange} /&gt;
      &lt;/label&gt;
      {errors.email &amp;&amp; &lt;p style={{ color: 'red' }}&gt;{errors.email}&lt;/p&gt;}
      &lt;button type=&quot;submit&quot;&gt;Enviar&lt;/button&gt;
    &lt;/form&gt;
  );
}

export default MultiFieldForm;</pre></div><div class='content'></div><h1>Validació Avançada de Formularis</h1>
<div class='content'></div><h2>Ús de Llibreries de Formularis</h2>
<div class='content'><ul>
<li><strong>Formik</strong>: Una llibreria popular per gestionar l'estat dels formularis i la validació en React.</li>
<li><strong>Yup</strong>: Una llibreria de validació d'esquemes sovint utilitzada amb Formik per definir regles de validació.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgRm9ybWlrLCBGb3JtLCBGaWVsZCwgRXJyb3JNZXNzYWdlIH0gZnJvbSAnZm9ybWlrJzsKaW1wb3J0ICogYXMgWXVwIGZyb20gJ3l1cCc7Cgpjb25zdCB2YWxpZGF0aW9uU2NoZW1hID0gWXVwLm9iamVjdCh7CiAgbmFtZTogWXVwLnN0cmluZygpLm1pbigzLCAnRWwgbm9tIGhhIGRlIHRlbmlyIGFsbWVueXMgMyBjYXLDoGN0ZXJzJykucmVxdWlyZWQoJ1JlcXVlcml0JyksCiAgZW1haWw6IFl1cC5zdHJpbmcoKS5lbWFpbCgnQWRyZcOnYSBkZSBjb3JyZXUgZWxlY3Ryw7JuaWMgbm8gdsOgbGlkYScpLnJlcXVpcmVkKCdSZXF1ZXJpdCcpLAp9KTsKCmZ1bmN0aW9uIEZvcm1pa0Zvcm0oKSB7CiAgcmV0dXJuICgKICAgIDxGb3JtaWsKICAgICAgaW5pdGlhbFZhbHVlcz17eyBuYW1lOiAnJywgZW1haWw6ICcnIH19CiAgICAgIHZhbGlkYXRpb25TY2hlbWE9e3ZhbGlkYXRpb25TY2hlbWF9CiAgICAgIG9uU3VibWl0PXsodmFsdWVzKSA9PiB7CiAgICAgICAgYWxlcnQoYERhZGVzIGVudmlhZGVzOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlcyl9YCk7CiAgICAgIH19CiAgICA+CiAgICAgIHsoeyBpc1N1Ym1pdHRpbmcgfSkgPT4gKAogICAgICAgIDxGb3JtPgogICAgICAgICAgPGxhYmVsPgogICAgICAgICAgICBOb206CiAgICAgICAgICAgIDxGaWVsZCB0eXBlPSJ0ZXh0IiBuYW1lPSJuYW1lIiAvPgogICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgIDxFcnJvck1lc3NhZ2UgbmFtZT0ibmFtZSIgY29tcG9uZW50PSJkaXYiIHN0eWxlPXt7IGNvbG9yOiAncmVkJyB9fSAvPgogICAgICAgICAgPGxhYmVsPgogICAgICAgICAgICBDb3JyZXUgZWxlY3Ryw7JuaWM6CiAgICAgICAgICAgIDxGaWVsZCB0eXBlPSJ0ZXh0IiBuYW1lPSJlbWFpbCIgLz4KICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICA8RXJyb3JNZXNzYWdlIG5hbWU9ImVtYWlsIiBjb21wb25lbnQ9ImRpdiIgc3R5bGU9e3sgY29sb3I6ICdyZWQnIH19IC8+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30+RW52aWFyPC9idXR0b24+CiAgICAgICAgPC9Gb3JtPgogICAgICApfQogICAgPC9Gb3JtaWs+CiAgKTsKfQoKZXhwb3J0IGRlZmF1bHQgRm9ybWlrRm9ybTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React from 'react';
import { Formik, Form, Field, ErrorMessage } from 'formik';
import * as Yup from 'yup';

const validationSchema = Yup.object({
  name: Yup.string().min(3, 'El nom ha de tenir almenys 3 car&agrave;cters').required('Requerit'),
  email: Yup.string().email('Adre&ccedil;a de correu electr&ograve;nic no v&agrave;lida').required('Requerit'),
});

function FormikForm() {
  return (
    &lt;Formik
      initialValues={{ name: '', email: '' }}
      validationSchema={validationSchema}
      onSubmit={(values) =&gt; {
        alert(`Dades enviades: ${JSON.stringify(values)}`);
      }}
    &gt;
      {({ isSubmitting }) =&gt; (
        &lt;Form&gt;
          &lt;label&gt;
            Nom:
            &lt;Field type=&quot;text&quot; name=&quot;name&quot; /&gt;
          &lt;/label&gt;
          &lt;ErrorMessage name=&quot;name&quot; component=&quot;div&quot; style={{ color: 'red' }} /&gt;
          &lt;label&gt;
            Correu electr&ograve;nic:
            &lt;Field type=&quot;text&quot; name=&quot;email&quot; /&gt;
          &lt;/label&gt;
          &lt;ErrorMessage name=&quot;email&quot; component=&quot;div&quot; style={{ color: 'red' }} /&gt;
          &lt;button type=&quot;submit&quot; disabled={isSubmitting}&gt;Enviar&lt;/button&gt;
        &lt;/Form&gt;
      )}
    &lt;/Formik&gt;
  );
}

export default FormikForm;</pre></div><div class='content'></div><h2>Hooks Personalitzats per a la Validació</h2>
<div class='content'><ul>
<li><strong>Hook Personalitzat</strong>: Crea un hook personalitzat reutilitzable per a la lògica de validació de formularis.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwoKZnVuY3Rpb24gdXNlRm9ybVZhbGlkYXRpb24oaW5pdGlhbFN0YXRlLCB2YWxpZGF0ZSkgewogIGNvbnN0IFt2YWx1ZXMsIHNldFZhbHVlc10gPSB1c2VTdGF0ZShpbml0aWFsU3RhdGUpOwogIGNvbnN0IFtlcnJvcnMsIHNldEVycm9yc10gPSB1c2VTdGF0ZSh7fSk7CgogIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChldmVudCkgPT4gewogICAgY29uc3QgeyBuYW1lLCB2YWx1ZSB9ID0gZXZlbnQudGFyZ2V0OwogICAgc2V0VmFsdWVzKHsgLi4udmFsdWVzLCBbbmFtZV06IHZhbHVlIH0pOwogICAgc2V0RXJyb3JzKHZhbGlkYXRlKHsgLi4udmFsdWVzLCBbbmFtZV06IHZhbHVlIH0pKTsKICB9OwoKICBjb25zdCBoYW5kbGVTdWJtaXQgPSAoZXZlbnQsIGNhbGxiYWNrKSA9PiB7CiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgY29uc3QgdmFsaWRhdGlvbkVycm9ycyA9IHZhbGlkYXRlKHZhbHVlcyk7CiAgICBpZiAoT2JqZWN0LmtleXModmFsaWRhdGlvbkVycm9ycykubGVuZ3RoID09PSAwKSB7CiAgICAgIGNhbGxiYWNrKCk7CiAgICB9IGVsc2UgewogICAgICBzZXRFcnJvcnModmFsaWRhdGlvbkVycm9ycyk7CiAgICB9CiAgfTsKCiAgcmV0dXJuIHsgdmFsdWVzLCBlcnJvcnMsIGhhbmRsZUNoYW5nZSwgaGFuZGxlU3VibWl0IH07Cn0KCmZ1bmN0aW9uIEN1c3RvbUhvb2tGb3JtKCkgewogIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHsgbmFtZTogJycsIGVtYWlsOiAnJyB9OwogIGNvbnN0IHZhbGlkYXRlID0gKHZhbHVlcykgPT4gewogICAgY29uc3QgZXJyb3JzID0ge307CiAgICBpZiAodmFsdWVzLm5hbWUubGVuZ3RoIDwgMykgewogICAgICBlcnJvcnMubmFtZSA9ICdFbCBub20gaGEgZGUgdGVuaXIgYWxtZW55cyAzIGNhcsOgY3RlcnMnOwogICAgfQogICAgaWYgKCEvXFMrQFxTK1wuXFMrLy50ZXN0KHZhbHVlcy5lbWFpbCkpIHsKICAgICAgZXJyb3JzLmVtYWlsID0gJ0VsIGNvcnJldSBlbGVjdHLDsm5pYyBubyDDqXMgdsOgbGlkJzsKICAgIH0KICAgIHJldHVybiBlcnJvcnM7CiAgfTsKCiAgY29uc3QgeyB2YWx1ZXMsIGVycm9ycywgaGFuZGxlQ2hhbmdlLCBoYW5kbGVTdWJtaXQgfSA9IHVzZUZvcm1WYWxpZGF0aW9uKGluaXRpYWxTdGF0ZSwgdmFsaWRhdGUpOwoKICBjb25zdCBzdWJtaXRGb3JtID0gKCkgPT4gewogICAgYWxlcnQoYERhZGVzIGVudmlhZGVzOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlcyl9YCk7CiAgfTsKCiAgcmV0dXJuICgKICAgIDxmb3JtIG9uU3VibWl0PXsoZXZlbnQpID0+IGhhbmRsZVN1Ym1pdChldmVudCwgc3VibWl0Rm9ybSl9PgogICAgICA8bGFiZWw+CiAgICAgICAgTm9tOgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJuYW1lIiB2YWx1ZT17dmFsdWVzLm5hbWV9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9IC8+CiAgICAgIDwvbGFiZWw+CiAgICAgIHtlcnJvcnMubmFtZSAmJiA8cCBzdHlsZT17eyBjb2xvcjogJ3JlZCcgfX0+e2Vycm9ycy5uYW1lfTwvcD59CiAgICAgIDxsYWJlbD4KICAgICAgICBDb3JyZXUgZWxlY3Ryw7JuaWM6CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImVtYWlsIiB2YWx1ZT17dmFsdWVzLmVtYWlsfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPgogICAgICA8L2xhYmVsPgogICAgICB7ZXJyb3JzLmVtYWlsICYmIDxwIHN0eWxlPXt7IGNvbG9yOiAncmVkJyB9fT57ZXJyb3JzLmVtYWlsfTwvcD59CiAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij5FbnZpYXI8L2J1dHRvbj4KICAgIDwvZm9ybT4KICApOwp9CgpleHBvcnQgZGVmYXVsdCBDdXN0b21Ib29rRm9ybTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>import React, { useState } from 'react';

function useFormValidation(initialState, validate) {
  const [values, setValues] = useState(initialState);
  const [errors, setErrors] = useState({});

  const handleChange = (event) =&gt; {
    const { name, value } = event.target;
    setValues({ ...values, [name]: value });
    setErrors(validate({ ...values, [name]: value }));
  };

  const handleSubmit = (event, callback) =&gt; {
    event.preventDefault();
    const validationErrors = validate(values);
    if (Object.keys(validationErrors).length === 0) {
      callback();
    } else {
      setErrors(validationErrors);
    }
  };

  return { values, errors, handleChange, handleSubmit };
}

function CustomHookForm() {
  const initialState = { name: '', email: '' };
  const validate = (values) =&gt; {
    const errors = {};
    if (values.name.length &lt; 3) {
      errors.name = 'El nom ha de tenir almenys 3 car&agrave;cters';
    }
    if (!/\S+@\S+\.\S+/.test(values.email)) {
      errors.email = 'El correu electr&ograve;nic no &eacute;s v&agrave;lid';
    }
    return errors;
  };

  const { values, errors, handleChange, handleSubmit } = useFormValidation(initialState, validate);

  const submitForm = () =&gt; {
    alert(`Dades enviades: ${JSON.stringify(values)}`);
  };

  return (
    &lt;form onSubmit={(event) =&gt; handleSubmit(event, submitForm)}&gt;
      &lt;label&gt;
        Nom:
        &lt;input type=&quot;text&quot; name=&quot;name&quot; value={values.name} onChange={handleChange} /&gt;
      &lt;/label&gt;
      {errors.name &amp;&amp; &lt;p style={{ color: 'red' }}&gt;{errors.name}&lt;/p&gt;}
      &lt;label&gt;
        Correu electr&ograve;nic:
        &lt;input type=&quot;text&quot; name=&quot;email&quot; value={values.email} onChange={handleChange} /&gt;
      &lt;/label&gt;
      {errors.email &amp;&amp; &lt;p style={{ color: 'red' }}&gt;{errors.email}&lt;/p&gt;}
      &lt;button type=&quot;submit&quot;&gt;Enviar&lt;/button&gt;
    &lt;/form&gt;
  );
}

export default CustomHookForm;</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>La validació de formularis en React pot anar des de simple a complexa, depenent dels requisits de la teva aplicació. Començant amb components controlats i lògica bàsica de validació, pots escalar fins a utilitzar llibreries com Formik i Yup per a escenaris més avançats. Els hooks personalitzats també ofereixen una manera reutilitzable i neta de gestionar la validació de formularis. En dominar aquestes tècniques, pots assegurar-te que els teus formularis siguin robustos, fàcils d'usar i segurs.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='uncontrolled-components'>&#x25C4;Components No Controlats</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Validació de Formularis en React</a>
	</div>
	<div class='col-4 text-end'>
					<a href='higher-order-components'>Components d'Ordre Superior (HOC) &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
