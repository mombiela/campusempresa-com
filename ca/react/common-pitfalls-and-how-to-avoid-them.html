<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Errors comuns i com evitar-los</title>

    <link rel="alternate" href="https://campusempresa.com/es/react/common-pitfalls-and-how-to-avoid-them" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/react/common-pitfalls-and-how-to-avoid-them" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/react/common-pitfalls-and-how-to-avoid-them" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/react/common-pitfalls-and-how-to-avoid-them" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'><div class='col-6'><a href='best-practices-and-coding-standards'>&#x25C4; Millors Pràctiques i Estàndards de Codificació</a></div><div class='col-6 text-end'><a href='maintaining-and-updating-react-applications'>Manteniment i Actualització d'Aplicacions React &#x25BA;</a></div></div><div class='content'></div><h1>Introducció</h1>
<div class='content'><p>React és una biblioteca potent per construir interfícies d'usuari, però com qualsevol tecnologia, té els seus propis errors comuns. Aquesta secció cobrirà alguns dels errors més freqüents que cometen els desenvolupadors quan treballen amb React i proporcionarà estratègies per evitar-los.</p>
</div><h1>Errors comuns</h1>
<div class='content'></div><h2>1. No utilitzar `key` correctament en llistes</h2>
<div class='content'><ul>
<li><strong>Problema</strong>: No utilitzar claus úniques en llistes pot provocar problemes de renderització i un rendiment deficient.</li>
<li><strong>Solució</strong>: Proporcioneu sempre una prop <code>key</code> única per a cada element d'una llista.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTWFsIGV4ZW1wbGUKY29uc3QgaXRlbXMgPSBbJ1BvbWEnLCAnUGzDoHRhbicsICdDaXJlcmEnXTsKY29uc3QgbGlzdEl0ZW1zID0gaXRlbXMubWFwKChpdGVtKSA9PiA8bGk+e2l0ZW19PC9saT4pOwoKLy8gQm9uIGV4ZW1wbGUKY29uc3QgaXRlbXMgPSBbJ1BvbWEnLCAnUGzDoHRhbicsICdDaXJlcmEnXTsKY29uc3QgbGlzdEl0ZW1zID0gaXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4gPGxpIGtleT17aW5kZXh9PntpdGVtfTwvbGk+KTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Mal exemple
const items = ['Poma', 'Pl&agrave;tan', 'Cirera'];
const listItems = items.map((item) =&gt; &lt;li&gt;{item}&lt;/li&gt;);

// Bon exemple
const items = ['Poma', 'Pl&agrave;tan', 'Cirera'];
const listItems = items.map((item, index) =&gt; &lt;li key={index}&gt;{item}&lt;/li&gt;);</pre></div><div class='content'></div><h2>2. Mutar l'estat directament</h2>
<div class='content'><ul>
<li><strong>Problema</strong>: Mutar l'estat directament pot provocar comportaments imprevisibles i errors.</li>
<li><strong>Solució</strong>: Utilitzeu sempre <code>setState</code> o la funció d'actualització de l'estat proporcionada per <code>useState</code>.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTWFsIGV4ZW1wbGUKdGhpcy5zdGF0ZS5pdGVtcy5wdXNoKCdUYXJvbmphJyk7CnRoaXMuc2V0U3RhdGUoeyBpdGVtczogdGhpcy5zdGF0ZS5pdGVtcyB9KTsKCi8vIEJvbiBleGVtcGxlCnRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHsKICBpdGVtczogWy4uLnByZXZTdGF0ZS5pdGVtcywgJ1Rhcm9uamEnXQp9KSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Mal exemple
this.state.items.push('Taronja');
this.setState({ items: this.state.items });

// Bon exemple
this.setState((prevState) =&gt; ({
  items: [...prevState.items, 'Taronja']
}));</pre></div><div class='content'></div><h2>3. No gestionar correctament les operacions asíncrones</h2>
<div class='content'><ul>
<li><strong>Problema</strong>: No gestionar les operacions asíncrones pot provocar condicions de carrera i un estat inconsistent.</li>
<li><strong>Solució</strong>: Utilitzeu async/await o Promises per gestionar correctament les operacions asíncrones.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTWFsIGV4ZW1wbGUKY29tcG9uZW50RGlkTW91bnQoKSB7CiAgZmV0Y2goJy9hcGkvZGF0YScpCiAgICAudGhlbihyZXNwb25zZSA9PiB0aGlzLnNldFN0YXRlKHsgZGF0YTogcmVzcG9uc2UuZGF0YSB9KSk7Cn0KCi8vIEJvbiBleGVtcGxlCmFzeW5jIGNvbXBvbmVudERpZE1vdW50KCkgewogIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZGF0YScpOwogIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgdGhpcy5zZXRTdGF0ZSh7IGRhdGEgfSk7Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Mal exemple
componentDidMount() {
  fetch('/api/data')
    .then(response =&gt; this.setState({ data: response.data }));
}

// Bon exemple
async componentDidMount() {
  const response = await fetch('/api/data');
  const data = await response.json();
  this.setState({ data });
}</pre></div><div class='content'></div><h2>4. Utilitzar massa l'estat</h2>
<div class='content'><ul>
<li><strong>Problema</strong>: Utilitzar massa l'estat pot fer que els components siguin complexos i difícils de gestionar.</li>
<li><strong>Solució</strong>: Eleveu l'estat fins a l'ancestre comú més proper o utilitzeu context per a la gestió de l'estat global.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTWFsIGV4ZW1wbGUKY29uc3QgW25hbWUsIHNldE5hbWVdID0gdXNlU3RhdGUoJycpOwpjb25zdCBbYWdlLCBzZXRBZ2VdID0gdXNlU3RhdGUoMCk7CgovLyBCb24gZXhlbXBsZQpjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZSh7IG5hbWU6ICcnLCBhZ2U6IDAgfSk7"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Mal exemple
const [name, setName] = useState('');
const [age, setAge] = useState(0);

// Bon exemple
const [user, setUser] = useState({ name: '', age: 0 });</pre></div><div class='content'></div><h2>5. Ignorar l'optimització del rendiment</h2>
<div class='content'><ul>
<li><strong>Problema</strong>: Ignorar l'optimització del rendiment pot provocar aplicacions lentes i poc responsives.</li>
<li><strong>Solució</strong>: Utilitzeu tècniques com la memoització, el carregament per demanda i la divisió de codi.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gRXhlbXBsZSBkZSBtZW1vaXR6YWNpw7MKY29uc3QgTWVtb2l6ZWRDb21wb25lbnQgPSBSZWFjdC5tZW1vKGZ1bmN0aW9uIE15Q29tcG9uZW50KHByb3BzKSB7CiAgLyogcmVuZGVyIHVzaW5nIHByb3BzICovCn0pOw=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Exemple de memoitzaci&oacute;
const MemoizedComponent = React.memo(function MyComponent(props) {
  /* render using props */
});</pre></div><div class='content'></div><h2>6. No netejar els efectes</h2>
<div class='content'><ul>
<li><strong>Problema</strong>: No netejar els efectes pot provocar fuites de memòria i comportaments inesperats.</li>
<li><strong>Solució</strong>: Retorneu sempre una funció de neteja en <code>useEffect</code>.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTWFsIGV4ZW1wbGUKdXNlRWZmZWN0KCgpID0+IHsKICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgIGNvbnNvbGUubG9nKCdJbnRlcnZhbCBlbiBmdW5jaW9uYW1lbnQnKTsKICB9LCAxMDAwKTsKfSwgW10pOwoKLy8gQm9uIGV4ZW1wbGUKdXNlRWZmZWN0KCgpID0+IHsKICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgIGNvbnNvbGUubG9nKCdJbnRlcnZhbCBlbiBmdW5jaW9uYW1lbnQnKTsKICB9LCAxMDAwKTsKICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7Cn0sIFtdKTs="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Mal exemple
useEffect(() =&gt; {
  const interval = setInterval(() =&gt; {
    console.log('Interval en funcionament');
  }, 1000);
}, []);

// Bon exemple
useEffect(() =&gt; {
  const interval = setInterval(() =&gt; {
    console.log('Interval en funcionament');
  }, 1000);
  return () =&gt; clearInterval(interval);
}, []);</pre></div><div class='content'></div><h2>7. Utilitzar malament l'API de Context</h2>
<div class='content'><ul>
<li><strong>Problema</strong>: Utilitzar malament l'API de Context pot provocar renderitzacions innecessàries i problemes de rendiment.</li>
<li><strong>Solució</strong>: Utilitzeu el context amb moderació i només per a l'estat global que realment necessita ser compartit.</li>
</ul>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("Ly8gTWFsIGV4ZW1wbGUKY29uc3QgVXNlckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KCk7CgpmdW5jdGlvbiBBcHAoKSB7CiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGUoeyBuYW1lOiAnSm9hbicgfSk7CiAgcmV0dXJuICgKICAgIDxVc2VyQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dXNlcn0+CiAgICAgIDxIZWFkZXIgLz4KICAgICAgPENvbnRlbnQgLz4KICAgIDwvVXNlckNvbnRleHQuUHJvdmlkZXI+CiAgKTsKfQoKLy8gQm9uIGV4ZW1wbGUKY29uc3QgVXNlckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KCk7CgpmdW5jdGlvbiBBcHAoKSB7CiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGUoeyBuYW1lOiAnSm9hbicgfSk7CiAgcmV0dXJuICgKICAgIDxVc2VyQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dXNlcn0+CiAgICAgIDxIZWFkZXIgLz4KICAgICAgPENvbnRlbnQgLz4KICAgIDwvVXNlckNvbnRleHQuUHJvdmlkZXI+CiAgKTsKfQoKZnVuY3Rpb24gSGVhZGVyKCkgewogIGNvbnN0IHVzZXIgPSB1c2VDb250ZXh0KFVzZXJDb250ZXh0KTsKICByZXR1cm4gPGgxPnt1c2VyLm5hbWV9PC9oMT47Cn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>// Mal exemple
const UserContext = React.createContext();

function App() {
  const [user, setUser] = useState({ name: 'Joan' });
  return (
    &lt;UserContext.Provider value={user}&gt;
      &lt;Header /&gt;
      &lt;Content /&gt;
    &lt;/UserContext.Provider&gt;
  );
}

// Bon exemple
const UserContext = React.createContext();

function App() {
  const [user, setUser] = useState({ name: 'Joan' });
  return (
    &lt;UserContext.Provider value={user}&gt;
      &lt;Header /&gt;
      &lt;Content /&gt;
    &lt;/UserContext.Provider&gt;
  );
}

function Header() {
  const user = useContext(UserContext);
  return &lt;h1&gt;{user.name}&lt;/h1&gt;;
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>Entendre i evitar aquests errors comuns pot millorar significativament la qualitat i el rendiment de les vostres aplicacions React. Seguint les millors pràctiques i tenint en compte aquests errors comuns, podeu escriure codi més eficient, mantenible i lliure d'errors.</p>
</div><div class='row navigation'><div class='col-6'><a href='best-practices-and-coding-standards'>&#x25C4; Millors Pràctiques i Estàndards de Codificació</a></div><div class='col-6 text-end'><a href='maintaining-and-updating-react-applications'>Manteniment i Actualització d'Aplicacions React &#x25BA;</a></div></div></div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
