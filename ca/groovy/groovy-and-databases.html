<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groovy i Bases de Dades</title>

    <link rel="alternate" href="https://campusempresa.com/es/groovy/groovy-and-databases" hreflang="es" />
    <link rel="alternate" href="https://campusempresa.com/es/groovy/groovy-and-databases" hreflang="x-default" />
	<link rel="alternate" href="https://campusempresa.com/ca/groovy/groovy-and-databases" hreflang="ca" />
    
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
	<link href="/css/site.css" rel="stylesheet">
	
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  	<script type="text/javascript" src="js/math_init.js"></script>
  	<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js"></script>
  	<script type="text/javascript" src="/js/cookie.js"></script>
  	<script type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div id="content">
		<div id="header" class="container-xxl">
	<div class="row">
		<div class="col-8 p-0">
			<h1 class="m-0 p-0">
				<a href="/ca/"><img src="/img/logo_header.png" style="visibility:hiddenxx;"></a>
			</h1>
		</div>
		<div class="col-4 p-0 text-end">
			<h2 id="main_title"><cite>Construint la societat d'avui i del demà</cite></h2>
			<h3 id="main_subtitle"></h3>
		</div>
	</div>
</div>
<div class="container-xxl" style="margin-top: -1em;">
	<div class="row">
		<div class="col-12 p-0 m-0 text-end">
							<a href="/es/groovy/groovy-and-databases" id="lnk_lang_es" data-lang="es" class="px-2">ES</a></b>
				|
				<b id="lit_lang_ca" class="px-2">CA</b>
								</div>
	</div>
</div>
   <div class="top-bar container-fluid">
	<div class="container-xxl">
		<div class="row">
			<div class="col" id="left_menu">
				<a href="/ca/objective">El Projecte</a>
				<a href="/ca/about">Sobre nosaltres</a>
				<a href="/ca/contribute">Contribuir</a>
				<a href="/ca/donate">Donacions</a>
				<a href="/ca/licence">Llicència</a>
			</div>
		</div>
	</div>
   </div>

<div class="container-xxl" id="main_content">
	<div class="row">
		<div class="col-12 col-lg-8">
			<div id="nav1" class="navigation"></div>
			<div id="inner_content"><div class='row navigation'>
	<div class='col-4'>
					<a href='groovy-for-scripting'>&#x25C4;Groovy per a Scripts</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Groovy i Bases de Dades</a>
	</div>
	<div class='col-4 text-end'>
					<a href='testing-with-groovy'>Proves amb Groovy &#x25BA;</a>
			</div>
</div>
<div class='content'></div><h1>Introducció</h1>
<div class='content'><p>Groovy és un llenguatge potent, opcionalment tipat i dinàmic, amb capacitats de tipatge estàtic i compilació estàtica, per a la plataforma Java destinat a millorar la productivitat dels desenvolupadors. Una de les seves fortaleses és la seva integració perfecta amb bases de dades. Aquesta secció cobrirà com interactuar amb bases de dades utilitzant Groovy, des d'operacions bàsiques fins a tècniques avançades.</p>
</div><h1>Configuració de l'Entorn</h1>
<div class='content'><p>Abans d'endinsar-nos en les operacions de bases de dades, assegura't de tenir les eines i biblioteques necessàries instal·lades.</p>
<ul>
<li><strong>Instal·lació de Groovy</strong>: Assegura't que Groovy està instal·lat al teu sistema.</li>
<li><strong>Base de Dades</strong>: Tingues una base de dades (per exemple, MySQL, PostgreSQL) configurada i en funcionament.</li>
<li><strong>Driver JDBC</strong>: Descarrega el driver JDBC per a la teva base de dades.</li>
</ul>
</div><h2>Exemple: Configuració d'una Base de Dades MySQL</h2>
<div class='content'><ol>
<li><strong>Instal·la MySQL</strong>: Segueix les instruccions d'instal·lació per al teu sistema operatiu.</li>
<li><strong>Crea una Base de Dades</strong>:
<pre><code class="language-sql">CREATE DATABASE groovydb;
CREATE USER 'groovyuser'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON groovydb.* TO 'groovyuser'@'localhost';
FLUSH PRIVILEGES;
</code></pre>
</li>
</ol>
</div><h1>Connexió a una Base de Dades</h1>
<div class='content'><p>Groovy proporciona una manera senzilla de connectar-se a bases de dades utilitzant la classe <code>groovy.sql.Sql</code>.</p>
</div><h2>Exemple: Connexió a MySQL</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("QEdyYWJDb25maWcoc3lzdGVtQ2xhc3NMb2FkZXI9dHJ1ZSkKQEdyYWIoJ215c3FsOm15c3FsLWNvbm5lY3Rvci1qYXZhOjguMC4yMycpCgppbXBvcnQgZ3Jvb3Z5LnNxbC5TcWwKCmRlZiBkYlVybCA9ICdqZGJjOm15c3FsOi8vbG9jYWxob3N0OjMzMDYvZ3Jvb3Z5ZGInCmRlZiBkYlVzZXIgPSAnZ3Jvb3Z5dXNlcicKZGVmIGRiUGFzc3dvcmQgPSAncGFzc3dvcmQnCmRlZiBkcml2ZXIgPSAnY29tLm15c3FsLmNqLmpkYmMuRHJpdmVyJwoKU3FsIHNxbCA9IFNxbC5uZXdJbnN0YW5jZShkYlVybCwgZGJVc2VyLCBkYlBhc3N3b3JkLCBkcml2ZXIpCnByaW50bG4gIkNvbm5lY3RhdCBhIGxhIGJhc2UgZGUgZGFkZXMhIg=="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>@GrabConfig(systemClassLoader=true)
@Grab('mysql:mysql-connector-java:8.0.23')

import groovy.sql.Sql

def dbUrl = 'jdbc:mysql://localhost:3306/groovydb'
def dbUser = 'groovyuser'
def dbPassword = 'password'
def driver = 'com.mysql.cj.jdbc.Driver'

Sql sql = Sql.newInstance(dbUrl, dbUser, dbPassword, driver)
println &quot;Connectat a la base de dades!&quot;</pre></div><div class='content'></div><h1>Operacions Bàsiques CRUD</h1>
<div class='content'><p>CRUD significa Crear, Llegir, Actualitzar i Esborrar. Aquestes són les operacions bàsiques que pots realitzar en una base de dades.</p>
</div><h2>Crear</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmV4ZWN1dGUoJycnCiAgICBDUkVBVEUgVEFCTEUgdXNlcnMgKAogICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSwKICAgICAgICBuYW1lIFZBUkNIQVIoMTAwKSwKICAgICAgICBlbWFpbCBWQVJDSEFSKDEwMCkKICAgICkKJycnKQoKc3FsLmV4ZWN1dGUoIklOU0VSVCBJTlRPIHVzZXJzIChuYW1lLCBlbWFpbCkgVkFMVUVTICgnSm9obiBEb2UnLCAnam9obi5kb2VAZXhhbXBsZS5jb20nKSIp"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.execute('''
    CREATE TABLE users (
        id INT AUTO_INCREMENT PRIMARY KEY,
        name VARCHAR(100),
        email VARCHAR(100)
    )
''')

sql.execute(&quot;INSERT INTO users (name, email) VALUES ('John Doe', 'john.doe@example.com')&quot;)</pre></div><div class='content'></div><h2>Llegir</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmVhY2hSb3coJ1NFTEVDVCAqIEZST00gdXNlcnMnKSB7IHJvdyAtPgogICAgcHJpbnRsbiAiSUQ6ICR7cm93LmlkfSwgTm9tOiAke3Jvdy5uYW1lfSwgQ29ycmV1OiAke3Jvdy5lbWFpbH0iCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.eachRow('SELECT * FROM users') { row -&gt;
    println &quot;ID: ${row.id}, Nom: ${row.name}, Correu: ${row.email}&quot;
}</pre></div><div class='content'></div><h2>Actualitzar</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmV4ZWN1dGVVcGRhdGUoIlVQREFURSB1c2VycyBTRVQgZW1haWwgPSAnam9obi5uZXdAZXhhbXBsZS5jb20nIFdIRVJFIG5hbWUgPSAnSm9obiBEb2UnIik="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.executeUpdate(&quot;UPDATE users SET email = 'john.new@example.com' WHERE name = 'John Doe'&quot;)</pre></div><div class='content'></div><h2>Esborrar</h2>
<div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmV4ZWN1dGUoIkRFTEVURSBGUk9NIHVzZXJzIFdIRVJFIG5hbWUgPSAnSm9obiBEb2UnIik="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.execute(&quot;DELETE FROM users WHERE name = 'John Doe'&quot;)</pre></div><div class='content'></div><h1>Operacions Avançades amb Bases de Dades</h1>
<h2>Transaccions</h2>
<div class='content'><p>Les transaccions asseguren que una sèrie d'operacions de base de dades s'executin com una única unitat de treball.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLndpdGhUcmFuc2FjdGlvbiB7CiAgICBzcWwuZXhlY3V0ZSgiSU5TRVJUIElOVE8gdXNlcnMgKG5hbWUsIGVtYWlsKSBWQUxVRVMgKCdKYW5lIERvZScsICdqYW5lLmRvZUBleGFtcGxlLmNvbScpIikKICAgIHNxbC5leGVjdXRlKCJVUERBVEUgdXNlcnMgU0VUIGVtYWlsID0gJ2phbmUubmV3QGV4YW1wbGUuY29tJyBXSEVSRSBuYW1lID0gJ0phbmUgRG9lJyIpCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.withTransaction {
    sql.execute(&quot;INSERT INTO users (name, email) VALUES ('Jane Doe', 'jane.doe@example.com')&quot;)
    sql.execute(&quot;UPDATE users SET email = 'jane.new@example.com' WHERE name = 'Jane Doe'&quot;)
}</pre></div><div class='content'></div><h2>Sentències Preparades</h2>
<div class='content'><p>Les sentències preparades ajuden a prevenir la injecció SQL i milloren el rendiment.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("ZGVmIGluc2VydFVzZXIgPSBzcWwuZXhlY3V0ZUluc2VydCgnSU5TRVJUIElOVE8gdXNlcnMgKG5hbWUsIGVtYWlsKSBWQUxVRVMgKD8sID8pJywgWydBbGljZScsICdhbGljZUBleGFtcGxlLmNvbSddKQpwcmludGxuICJVc3VhcmkgaW5zZXJpdCBhbWIgSUQ6ICR7aW5zZXJ0VXNlclswXVswXX0i"))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>def insertUser = sql.executeInsert('INSERT INTO users (name, email) VALUES (?, ?)', ['Alice', 'alice@example.com'])
println &quot;Usuari inserit amb ID: ${insertUser[0][0]}&quot;</pre></div><div class='content'></div><h2>Gestió de Grans Conjunts de Resultats</h2>
<div class='content'><p>Per a grans conjunts de resultats, utilitza <code>eachRow</code> amb un tancament per processar les files una a una.</p>
</div><div style='position:relative'><a class='copy_button' href='#' onclick='navigator.clipboard.writeText(decodeURIComponent(escape(atob("c3FsLmVhY2hSb3coJ1NFTEVDVCAqIEZST00gdXNlcnMnKSB7IHJvdyAtPgogICAgcHJpbnRsbiAiSUQ6ICR7cm93LmlkfSwgTm9tOiAke3Jvdy5uYW1lfSwgQ29ycmV1OiAke3Jvdy5lbWFpbH0iCn0="))));alert("Copiat!");return false;'><i class='bi bi-copy'></i></a><pre class='code'>sql.eachRow('SELECT * FROM users') { row -&gt;
    println &quot;ID: ${row.id}, Nom: ${row.name}, Correu: ${row.email}&quot;
}</pre></div><div class='content'></div><h1>Conclusió</h1>
<div class='content'><p>En aquesta secció, hem cobert com interactuar amb bases de dades utilitzant Groovy. Hem començat amb la configuració de l'entorn, després hem passat a les operacions bàsiques CRUD, i finalment hem explorat tècniques avançades com les transaccions i les sentències preparades. Amb aquestes habilitats, pots gestionar eficientment les operacions de bases de dades en les teves aplicacions Groovy.</p>
</div><div class='row navigation'>
	<div class='col-4'>
					<a href='groovy-for-scripting'>&#x25C4;Groovy per a Scripts</a>
			</div>
	<div class='col-4 text-center'>
		<a href="./" class="title">Groovy i Bases de Dades</a>
	</div>
	<div class='col-4 text-end'>
					<a href='testing-with-groovy'>Proves amb Groovy &#x25BA;</a>
			</div>
</div>
</div>
		</div>
		<div class="col-12 col-lg-4 publi" id="div_publi">
			<h1>Publicitat</h1>
			<p>Aquest espai està destinat a publicitat.</p>
			<p>Si vols ser patrocinador, contacta amb nosaltres per incloure enllaços en aquesta zona: <a href='mailto:admin@campusempresa.cat'>admin@campusempresa.cat</a></p>
			<p>Gràcies per col·laborar!</p>
		</div>
	</div>
</div>

   <div class="container-xxl my-3">
	<div class="row">
		<div class="col">
			<footer>&copy; Copyright 2024. Tots els drets reservats</footer>
		</div>
	</div>
</div>	

<div id="cookies_adv" style="display:none;">
	Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
    <a href="#" id="btn_accept_cookies" class="button">Entès!</a>
    <a href="/ca/cookies">Més informació</a>
</div>	

	</div>    
</body>
</html>
